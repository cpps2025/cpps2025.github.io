var Ho=Object.defineProperty;var ro=t=>{throw TypeError(t)};var Go=(t,n,r)=>n in t?Ho(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r;var Uo=(t,n)=>()=>(n||t((n={exports:{}}).exports,n),n.exports);var Dr=(t,n,r)=>Go(t,typeof n!="symbol"?n+"":n,r),Sa=(t,n,r)=>n.has(t)||ro("Cannot "+r);var An=(t,n,r)=>(Sa(t,n,"read from private field"),r?r.call(t):n.get(t)),rr=(t,n,r)=>n.has(t)?ro("Cannot add the same private member more than once"):n instanceof WeakSet?n.add(t):n.set(t,r),ar=(t,n,r,g)=>(Sa(t,n,"write to private field"),g?g.call(t,r):n.set(t,r),r),tr=(t,n,r)=>(Sa(t,n,"access private method"),r);var Zr=(t,n,r,g)=>({set _(y){ar(t,n,y,r)},get _(){return An(t,n,g)}});var Wo=Uo((exports,module)=>{(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))g(y);new MutationObserver(y=>{for(const $ of y)if($.type==="childList")for(const L of $.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&g(L)}).observe(document,{childList:!0,subtree:!0});function r(y){const $={};return y.integrity&&($.integrity=y.integrity),y.referrerPolicy&&($.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?$.credentials="include":y.crossOrigin==="anonymous"?$.credentials="omit":$.credentials="same-origin",$}function g(y){if(y.ep)return;y.ep=!0;const $=r(y);fetch(y.href,$)}})();const version$1="2.10.2",INSTALLED_KEY=Symbol("INSTALLED_KEY");/**
* @vue/shared v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function makeMap(t){const n=Object.create(null);for(const r of t.split(","))n[r]=1;return r=>r in n}const EMPTY_OBJ$1={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,isOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),isModelListener=t=>t.startsWith("onUpdate:"),extend$1=Object.assign,remove=(t,n)=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)},hasOwnProperty$e=Object.prototype.hasOwnProperty,hasOwn$1=(t,n)=>hasOwnProperty$e.call(t,n),isArray$4=Array.isArray,isMap$1=t=>toTypeString(t)==="[object Map]",isSet$1=t=>toTypeString(t)==="[object Set]",isDate=t=>toTypeString(t)==="[object Date]",isFunction$3=t=>typeof t=="function",isString$2=t=>typeof t=="string",isSymbol$1=t=>typeof t=="symbol",isObject$5=t=>t!==null&&typeof t=="object",isPromise=t=>(isObject$5(t)||isFunction$3(t))&&isFunction$3(t.then)&&isFunction$3(t.catch),objectToString$1=Object.prototype.toString,toTypeString=t=>objectToString$1.call(t),toRawType=t=>toTypeString(t).slice(8,-1),isPlainObject$1=t=>toTypeString(t)==="[object Object]",isIntegerKey=t=>isString$2(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=t=>{const n=Object.create(null);return r=>n[r]||(n[r]=t(r))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(t=>t.replace(camelizeRE,(n,r)=>r?r.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(t=>t.replace(hyphenateRE,"-$1").toLowerCase()),capitalize$1=cacheStringFunction(t=>t.charAt(0).toUpperCase()+t.slice(1)),toHandlerKey=cacheStringFunction(t=>t?`on${capitalize$1(t)}`:""),hasChanged=(t,n)=>!Object.is(t,n),invokeArrayFns=(t,...n)=>{for(let r=0;r<t.length;r++)t[r](...n)},def=(t,n,r,g=!1)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,writable:g,value:r})},looseToNumber=t=>{const n=parseFloat(t);return isNaN(n)?t:n},toNumber$1=t=>{const n=isString$2(t)?Number(t):NaN;return isNaN(n)?t:n};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle$1(t){if(isArray$4(t)){const n={};for(let r=0;r<t.length;r++){const g=t[r],y=isString$2(g)?parseStringStyle(g):normalizeStyle$1(g);if(y)for(const $ in y)n[$]=y[$]}return n}else if(isString$2(t)||isObject$5(t))return t}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(t){const n={};return t.replace(styleCommentRE,"").split(listDelimiterRE).forEach(r=>{if(r){const g=r.split(propertyDelimiterRE);g.length>1&&(n[g[0].trim()]=g[1].trim())}}),n}function normalizeClass(t){let n="";if(isString$2(t))n=t;else if(isArray$4(t))for(let r=0;r<t.length;r++){const g=normalizeClass(t[r]);g&&(n+=g+" ")}else if(isObject$5(t))for(const r in t)t[r]&&(n+=r+" ");return n.trim()}function normalizeProps(t){if(!t)return null;let{class:n,style:r}=t;return n&&!isString$2(n)&&(t.class=normalizeClass(n)),r&&(t.style=normalizeStyle$1(r)),t}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(t){return!!t||t===""}function looseCompareArrays(t,n){if(t.length!==n.length)return!1;let r=!0;for(let g=0;r&&g<t.length;g++)r=looseEqual(t[g],n[g]);return r}function looseEqual(t,n){if(t===n)return!0;let r=isDate(t),g=isDate(n);if(r||g)return r&&g?t.getTime()===n.getTime():!1;if(r=isSymbol$1(t),g=isSymbol$1(n),r||g)return t===n;if(r=isArray$4(t),g=isArray$4(n),r||g)return r&&g?looseCompareArrays(t,n):!1;if(r=isObject$5(t),g=isObject$5(n),r||g){if(!r||!g)return!1;const y=Object.keys(t).length,$=Object.keys(n).length;if(y!==$)return!1;for(const L in t){const V=t.hasOwnProperty(L),z=n.hasOwnProperty(L);if(V&&!z||!V&&z||!looseEqual(t[L],n[L]))return!1}}return String(t)===String(n)}function looseIndexOf(t,n){return t.findIndex(r=>looseEqual(r,n))}const isRef$1=t=>!!(t&&t.__v_isRef===!0),toDisplayString=t=>isString$2(t)?t:t==null?"":isArray$4(t)||isObject$5(t)&&(t.toString===objectToString$1||!isFunction$3(t.toString))?isRef$1(t)?toDisplayString(t.value):JSON.stringify(t,replacer,2):String(t),replacer=(t,n)=>isRef$1(n)?replacer(t,n.value):isMap$1(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((r,[g,y],$)=>(r[stringifySymbol(g,$)+" =>"]=y,r),{})}:isSet$1(n)?{[`Set(${n.size})`]:[...n.values()].map(r=>stringifySymbol(r))}:isSymbol$1(n)?stringifySymbol(n):isObject$5(n)&&!isArray$4(n)&&!isPlainObject$1(n)?String(n):n,stringifySymbol=(t,n="")=>{var r;return isSymbol$1(t)?`Symbol(${(r=t.description)!=null?r:n})`:t};/**
* @vue/reactivity v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let activeEffectScope;class EffectScope{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=activeEffectScope,!n&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,r;if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].pause();for(n=0,r=this.effects.length;n<r;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,r;if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].resume();for(n=0,r=this.effects.length;n<r;n++)this.effects[n].resume()}}run(n){if(this._active){const r=activeEffectScope;try{return activeEffectScope=this,n()}finally{activeEffectScope=r}}}on(){++this._on===1&&(this.prevScope=activeEffectScope,activeEffectScope=this)}off(){this._on>0&&--this._on===0&&(activeEffectScope=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let r,g;for(r=0,g=this.effects.length;r<g;r++)this.effects[r].stop();for(this.effects.length=0,r=0,g=this.cleanups.length;r<g;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,g=this.scopes.length;r<g;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const y=this.parent.scopes.pop();y&&y!==this&&(this.parent.scopes[this.index]=y,y.index=this.index)}this.parent=void 0}}}function effectScope(t){return new EffectScope(t)}function getCurrentScope(){return activeEffectScope}function onScopeDispose(t,n=!1){activeEffectScope&&activeEffectScope.cleanups.push(t)}let activeSub;const pausedQueueEffects=new WeakSet;class ReactiveEffect{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,activeEffectScope&&activeEffectScope.active&&activeEffectScope.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,pausedQueueEffects.has(this)&&(pausedQueueEffects.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||batch(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,cleanupEffect(this),prepareDeps(this);const n=activeSub,r=shouldTrack;activeSub=this,shouldTrack=!0;try{return this.fn()}finally{cleanupDeps(this),activeSub=n,shouldTrack=r,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)removeSub(n);this.deps=this.depsTail=void 0,cleanupEffect(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?pausedQueueEffects.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){isDirty(this)&&this.run()}get dirty(){return isDirty(this)}}let batchDepth=0,batchedSub,batchedComputed;function batch(t,n=!1){if(t.flags|=8,n){t.next=batchedComputed,batchedComputed=t;return}t.next=batchedSub,batchedSub=t}function startBatch(){batchDepth++}function endBatch(){if(--batchDepth>0)return;if(batchedComputed){let n=batchedComputed;for(batchedComputed=void 0;n;){const r=n.next;n.next=void 0,n.flags&=-9,n=r}}let t;for(;batchedSub;){let n=batchedSub;for(batchedSub=void 0;n;){const r=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(g){t||(t=g)}n=r}}if(t)throw t}function prepareDeps(t){for(let n=t.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function cleanupDeps(t){let n,r=t.depsTail,g=r;for(;g;){const y=g.prevDep;g.version===-1?(g===r&&(r=y),removeSub(g),removeDep(g)):n=g,g.dep.activeLink=g.prevActiveLink,g.prevActiveLink=void 0,g=y}t.deps=n,t.depsTail=r}function isDirty(t){for(let n=t.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(refreshComputed(n.dep.computed)||n.dep.version!==n.version))return!0;return!!t._dirty}function refreshComputed(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===globalVersion)||(t.globalVersion=globalVersion,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!isDirty(t))))return;t.flags|=2;const n=t.dep,r=activeSub,g=shouldTrack;activeSub=t,shouldTrack=!0;try{prepareDeps(t);const y=t.fn(t._value);(n.version===0||hasChanged(y,t._value))&&(t.flags|=128,t._value=y,n.version++)}catch(y){throw n.version++,y}finally{activeSub=r,shouldTrack=g,cleanupDeps(t),t.flags&=-3}}function removeSub(t,n=!1){const{dep:r,prevSub:g,nextSub:y}=t;if(g&&(g.nextSub=y,t.prevSub=void 0),y&&(y.prevSub=g,t.nextSub=void 0),r.subs===t&&(r.subs=g,!g&&r.computed)){r.computed.flags&=-5;for(let $=r.computed.deps;$;$=$.nextDep)removeSub($,!0)}!n&&!--r.sc&&r.map&&r.map.delete(r.key)}function removeDep(t){const{prevDep:n,nextDep:r}=t;n&&(n.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=n,t.nextDep=void 0)}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const t=trackStack.pop();shouldTrack=t===void 0?!0:t}function cleanupEffect(t){const{cleanup:n}=t;if(t.cleanup=void 0,n){const r=activeSub;activeSub=void 0;try{n()}finally{activeSub=r}}}let globalVersion=0,Link$1=class{constructor(n,r){this.sub=n,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}};class Dep{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(n){if(!activeSub||!shouldTrack||activeSub===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==activeSub)r=this.activeLink=new Link$1(activeSub,this),activeSub.deps?(r.prevDep=activeSub.depsTail,activeSub.depsTail.nextDep=r,activeSub.depsTail=r):activeSub.deps=activeSub.depsTail=r,addSub(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const g=r.nextDep;g.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=g),r.prevDep=activeSub.depsTail,r.nextDep=void 0,activeSub.depsTail.nextDep=r,activeSub.depsTail=r,activeSub.deps===r&&(activeSub.deps=g)}return r}trigger(n){this.version++,globalVersion++,this.notify(n)}notify(n){startBatch();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{endBatch()}}}function addSub(t){if(t.dep.sc++,t.sub.flags&4){const n=t.dep.computed;if(n&&!t.dep.subs){n.flags|=20;for(let g=n.deps;g;g=g.nextDep)addSub(g)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const targetMap=new WeakMap,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol(""),ARRAY_ITERATE_KEY=Symbol("");function track(t,n,r){if(shouldTrack&&activeSub){let g=targetMap.get(t);g||targetMap.set(t,g=new Map);let y=g.get(r);y||(g.set(r,y=new Dep),y.map=g,y.key=r),y.track()}}function trigger$2(t,n,r,g,y,$){const L=targetMap.get(t);if(!L){globalVersion++;return}const V=z=>{z&&z.trigger()};if(startBatch(),n==="clear")L.forEach(V);else{const z=isArray$4(t),j=z&&isIntegerKey(r);if(z&&r==="length"){const re=Number(g);L.forEach((ae,oe)=>{(oe==="length"||oe===ARRAY_ITERATE_KEY||!isSymbol$1(oe)&&oe>=re)&&V(ae)})}else switch((r!==void 0||L.has(void 0))&&V(L.get(r)),j&&V(L.get(ARRAY_ITERATE_KEY)),n){case"add":z?j&&V(L.get("length")):(V(L.get(ITERATE_KEY)),isMap$1(t)&&V(L.get(MAP_KEY_ITERATE_KEY)));break;case"delete":z||(V(L.get(ITERATE_KEY)),isMap$1(t)&&V(L.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$1(t)&&V(L.get(ITERATE_KEY));break}}endBatch()}function getDepFromReactive(t,n){const r=targetMap.get(t);return r&&r.get(n)}function reactiveReadArray(t){const n=toRaw(t);return n===t?n:(track(n,"iterate",ARRAY_ITERATE_KEY),isShallow(t)?n:n.map(toReactive))}function shallowReadArray(t){return track(t=toRaw(t),"iterate",ARRAY_ITERATE_KEY),t}const arrayInstrumentations={__proto__:null,[Symbol.iterator](){return iterator$1(this,Symbol.iterator,toReactive)},concat(...t){return reactiveReadArray(this).concat(...t.map(n=>isArray$4(n)?reactiveReadArray(n):n))},entries(){return iterator$1(this,"entries",t=>(t[1]=toReactive(t[1]),t))},every(t,n){return apply$1(this,"every",t,n,void 0,arguments)},filter(t,n){return apply$1(this,"filter",t,n,r=>r.map(toReactive),arguments)},find(t,n){return apply$1(this,"find",t,n,toReactive,arguments)},findIndex(t,n){return apply$1(this,"findIndex",t,n,void 0,arguments)},findLast(t,n){return apply$1(this,"findLast",t,n,toReactive,arguments)},findLastIndex(t,n){return apply$1(this,"findLastIndex",t,n,void 0,arguments)},forEach(t,n){return apply$1(this,"forEach",t,n,void 0,arguments)},includes(...t){return searchProxy(this,"includes",t)},indexOf(...t){return searchProxy(this,"indexOf",t)},join(t){return reactiveReadArray(this).join(t)},lastIndexOf(...t){return searchProxy(this,"lastIndexOf",t)},map(t,n){return apply$1(this,"map",t,n,void 0,arguments)},pop(){return noTracking(this,"pop")},push(...t){return noTracking(this,"push",t)},reduce(t,...n){return reduce$1(this,"reduce",t,n)},reduceRight(t,...n){return reduce$1(this,"reduceRight",t,n)},shift(){return noTracking(this,"shift")},some(t,n){return apply$1(this,"some",t,n,void 0,arguments)},splice(...t){return noTracking(this,"splice",t)},toReversed(){return reactiveReadArray(this).toReversed()},toSorted(t){return reactiveReadArray(this).toSorted(t)},toSpliced(...t){return reactiveReadArray(this).toSpliced(...t)},unshift(...t){return noTracking(this,"unshift",t)},values(){return iterator$1(this,"values",toReactive)}};function iterator$1(t,n,r){const g=shallowReadArray(t),y=g[n]();return g!==t&&!isShallow(t)&&(y._next=y.next,y.next=()=>{const $=y._next();return $.value&&($.value=r($.value)),$}),y}const arrayProto$2=Array.prototype;function apply$1(t,n,r,g,y,$){const L=shallowReadArray(t),V=L!==t&&!isShallow(t),z=L[n];if(z!==arrayProto$2[n]){const ae=z.apply(t,$);return V?toReactive(ae):ae}let j=r;L!==t&&(V?j=function(ae,oe){return r.call(this,toReactive(ae),oe,t)}:r.length>2&&(j=function(ae,oe){return r.call(this,ae,oe,t)}));const re=z.call(L,j,g);return V&&y?y(re):re}function reduce$1(t,n,r,g){const y=shallowReadArray(t);let $=r;return y!==t&&(isShallow(t)?r.length>3&&($=function(L,V,z){return r.call(this,L,V,z,t)}):$=function(L,V,z){return r.call(this,L,toReactive(V),z,t)}),y[n]($,...g)}function searchProxy(t,n,r){const g=toRaw(t);track(g,"iterate",ARRAY_ITERATE_KEY);const y=g[n](...r);return(y===-1||y===!1)&&isProxy(r[0])?(r[0]=toRaw(r[0]),g[n](...r)):y}function noTracking(t,n,r=[]){pauseTracking(),startBatch();const g=toRaw(t)[n].apply(t,r);return endBatch(),resetTracking(),g}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(isSymbol$1));function hasOwnProperty$d(t){isSymbol$1(t)||(t=String(t));const n=toRaw(this);return track(n,"has",t),n.hasOwnProperty(t)}class BaseReactiveHandler{constructor(n=!1,r=!1){this._isReadonly=n,this._isShallow=r}get(n,r,g){if(r==="__v_skip")return n.__v_skip;const y=this._isReadonly,$=this._isShallow;if(r==="__v_isReactive")return!y;if(r==="__v_isReadonly")return y;if(r==="__v_isShallow")return $;if(r==="__v_raw")return g===(y?$?shallowReadonlyMap:readonlyMap:$?shallowReactiveMap:reactiveMap).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(g)?n:void 0;const L=isArray$4(n);if(!y){let z;if(L&&(z=arrayInstrumentations[r]))return z;if(r==="hasOwnProperty")return hasOwnProperty$d}const V=Reflect.get(n,r,isRef(n)?n:g);return(isSymbol$1(r)?builtInSymbols.has(r):isNonTrackableKeys(r))||(y||track(n,"get",r),$)?V:isRef(V)?L&&isIntegerKey(r)?V:V.value:isObject$5(V)?y?readonly(V):reactive(V):V}}class MutableReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!1,n)}set(n,r,g,y){let $=n[r];if(!this._isShallow){const z=isReadonly($);if(!isShallow(g)&&!isReadonly(g)&&($=toRaw($),g=toRaw(g)),!isArray$4(n)&&isRef($)&&!isRef(g))return z?!1:($.value=g,!0)}const L=isArray$4(n)&&isIntegerKey(r)?Number(r)<n.length:hasOwn$1(n,r),V=Reflect.set(n,r,g,isRef(n)?n:y);return n===toRaw(y)&&(L?hasChanged(g,$)&&trigger$2(n,"set",r,g):trigger$2(n,"add",r,g)),V}deleteProperty(n,r){const g=hasOwn$1(n,r);n[r];const y=Reflect.deleteProperty(n,r);return y&&g&&trigger$2(n,"delete",r,void 0),y}has(n,r){const g=Reflect.has(n,r);return(!isSymbol$1(r)||!builtInSymbols.has(r))&&track(n,"has",r),g}ownKeys(n){return track(n,"iterate",isArray$4(n)?"length":ITERATE_KEY),Reflect.ownKeys(n)}}class ReadonlyReactiveHandler extends BaseReactiveHandler{constructor(n=!1){super(!0,n)}set(n,r){return!0}deleteProperty(n,r){return!0}}const mutableHandlers=new MutableReactiveHandler,readonlyHandlers=new ReadonlyReactiveHandler,shallowReactiveHandlers=new MutableReactiveHandler(!0),shallowReadonlyHandlers=new ReadonlyReactiveHandler(!0),toShallow=t=>t,getProto=t=>Reflect.getPrototypeOf(t);function createIterableMethod(t,n,r){return function(...g){const y=this.__v_raw,$=toRaw(y),L=isMap$1($),V=t==="entries"||t===Symbol.iterator&&L,z=t==="keys"&&L,j=y[t](...g),re=r?toShallow:n?toReadonly:toReactive;return!n&&track($,"iterate",z?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ae,done:oe}=j.next();return oe?{value:ae,done:oe}:{value:V?[re(ae[0]),re(ae[1])]:re(ae),done:oe}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(t){return function(...n){return t==="delete"?!1:t==="clear"?void 0:this}}function createInstrumentations(t,n){const r={get(y){const $=this.__v_raw,L=toRaw($),V=toRaw(y);t||(hasChanged(y,V)&&track(L,"get",y),track(L,"get",V));const{has:z}=getProto(L),j=n?toShallow:t?toReadonly:toReactive;if(z.call(L,y))return j($.get(y));if(z.call(L,V))return j($.get(V));$!==L&&$.get(y)},get size(){const y=this.__v_raw;return!t&&track(toRaw(y),"iterate",ITERATE_KEY),Reflect.get(y,"size",y)},has(y){const $=this.__v_raw,L=toRaw($),V=toRaw(y);return t||(hasChanged(y,V)&&track(L,"has",y),track(L,"has",V)),y===V?$.has(y):$.has(y)||$.has(V)},forEach(y,$){const L=this,V=L.__v_raw,z=toRaw(V),j=n?toShallow:t?toReadonly:toReactive;return!t&&track(z,"iterate",ITERATE_KEY),V.forEach((re,ae)=>y.call($,j(re),j(ae),L))}};return extend$1(r,t?{add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear")}:{add(y){!n&&!isShallow(y)&&!isReadonly(y)&&(y=toRaw(y));const $=toRaw(this);return getProto($).has.call($,y)||($.add(y),trigger$2($,"add",y,y)),this},set(y,$){!n&&!isShallow($)&&!isReadonly($)&&($=toRaw($));const L=toRaw(this),{has:V,get:z}=getProto(L);let j=V.call(L,y);j||(y=toRaw(y),j=V.call(L,y));const re=z.call(L,y);return L.set(y,$),j?hasChanged($,re)&&trigger$2(L,"set",y,$):trigger$2(L,"add",y,$),this},delete(y){const $=toRaw(this),{has:L,get:V}=getProto($);let z=L.call($,y);z||(y=toRaw(y),z=L.call($,y)),V&&V.call($,y);const j=$.delete(y);return z&&trigger$2($,"delete",y,void 0),j},clear(){const y=toRaw(this),$=y.size!==0,L=y.clear();return $&&trigger$2(y,"clear",void 0,void 0),L}}),["keys","values","entries",Symbol.iterator].forEach(y=>{r[y]=createIterableMethod(y,t,n)}),r}function createInstrumentationGetter(t,n){const r=createInstrumentations(t,n);return(g,y,$)=>y==="__v_isReactive"?!t:y==="__v_isReadonly"?t:y==="__v_raw"?g:Reflect.get(hasOwn$1(r,y)&&y in g?r:g,y,$)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},shallowReadonlyCollectionHandlers={get:createInstrumentationGetter(!0,!0)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(t){return t.__v_skip||!Object.isExtensible(t)?0:targetTypeMap(toRawType(t))}function reactive(t){return isReadonly(t)?t:createReactiveObject(t,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(t){return createReactiveObject(t,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(t){return createReactiveObject(t,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function shallowReadonly(t){return createReactiveObject(t,!0,shallowReadonlyHandlers,shallowReadonlyCollectionHandlers,shallowReadonlyMap)}function createReactiveObject(t,n,r,g,y){if(!isObject$5(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const $=getTargetType(t);if($===0)return t;const L=y.get(t);if(L)return L;const V=new Proxy(t,$===2?g:r);return y.set(t,V),V}function isReactive(t){return isReadonly(t)?isReactive(t.__v_raw):!!(t&&t.__v_isReactive)}function isReadonly(t){return!!(t&&t.__v_isReadonly)}function isShallow(t){return!!(t&&t.__v_isShallow)}function isProxy(t){return t?!!t.__v_raw:!1}function toRaw(t){const n=t&&t.__v_raw;return n?toRaw(n):t}function markRaw(t){return!hasOwn$1(t,"__v_skip")&&Object.isExtensible(t)&&def(t,"__v_skip",!0),t}const toReactive=t=>isObject$5(t)?reactive(t):t,toReadonly=t=>isObject$5(t)?readonly(t):t;function isRef(t){return t?t.__v_isRef===!0:!1}function ref(t){return createRef(t,!1)}function shallowRef(t){return createRef(t,!0)}function createRef(t,n){return isRef(t)?t:new RefImpl(t,n)}class RefImpl{constructor(n,r){this.dep=new Dep,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?n:toRaw(n),this._value=r?n:toReactive(n),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(n){const r=this._rawValue,g=this.__v_isShallow||isShallow(n)||isReadonly(n);n=g?n:toRaw(n),hasChanged(n,r)&&(this._rawValue=n,this._value=g?n:toReactive(n),this.dep.trigger())}}function unref(t){return isRef(t)?t.value:t}const shallowUnwrapHandlers={get:(t,n,r)=>n==="__v_raw"?t:unref(Reflect.get(t,n,r)),set:(t,n,r,g)=>{const y=t[n];return isRef(y)&&!isRef(r)?(y.value=r,!0):Reflect.set(t,n,r,g)}};function proxyRefs(t){return isReactive(t)?t:new Proxy(t,shallowUnwrapHandlers)}class CustomRefImpl{constructor(n){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new Dep,{get:g,set:y}=n(r.track.bind(r),r.trigger.bind(r));this._get=g,this._set=y}get value(){return this._value=this._get()}set value(n){this._set(n)}}function customRef(t){return new CustomRefImpl(t)}function toRefs(t){const n=isArray$4(t)?new Array(t.length):{};for(const r in t)n[r]=propertyToRef(t,r);return n}class ObjectRefImpl{constructor(n,r,g){this._object=n,this._key=r,this._defaultValue=g,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return getDepFromReactive(toRaw(this._object),this._key)}}class GetterRefImpl{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function toRef(t,n,r){return isRef(t)?t:isFunction$3(t)?new GetterRefImpl(t):isObject$5(t)&&arguments.length>1?propertyToRef(t,n,r):ref(t)}function propertyToRef(t,n,r){const g=t[n];return isRef(g)?g:new ObjectRefImpl(t,n,r)}class ComputedRefImpl{constructor(n,r,g){this.fn=n,this.setter=r,this._value=void 0,this.dep=new Dep(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=globalVersion-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=g}notify(){if(this.flags|=16,!(this.flags&8)&&activeSub!==this)return batch(this,!0),!0}get value(){const n=this.dep.track();return refreshComputed(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function computed$1(t,n,r=!1){let g,y;return isFunction$3(t)?g=t:(g=t.get,y=t.set),new ComputedRefImpl(g,y,r)}const INITIAL_WATCHER_VALUE={},cleanupMap=new WeakMap;let activeWatcher;function onWatcherCleanup(t,n=!1,r=activeWatcher){if(r){let g=cleanupMap.get(r);g||cleanupMap.set(r,g=[]),g.push(t)}}function watch$1(t,n,r=EMPTY_OBJ$1){const{immediate:g,deep:y,once:$,scheduler:L,augmentJob:V,call:z}=r,j=Ce=>y?Ce:isShallow(Ce)||y===!1||y===0?traverse(Ce,1):traverse(Ce);let re,ae,oe,ie,le=!1,ue=!1;if(isRef(t)?(ae=()=>t.value,le=isShallow(t)):isReactive(t)?(ae=()=>j(t),le=!0):isArray$4(t)?(ue=!0,le=t.some(Ce=>isReactive(Ce)||isShallow(Ce)),ae=()=>t.map(Ce=>{if(isRef(Ce))return Ce.value;if(isReactive(Ce))return j(Ce);if(isFunction$3(Ce))return z?z(Ce,2):Ce()})):isFunction$3(t)?n?ae=z?()=>z(t,2):t:ae=()=>{if(oe){pauseTracking();try{oe()}finally{resetTracking()}}const Ce=activeWatcher;activeWatcher=re;try{return z?z(t,3,[ie]):t(ie)}finally{activeWatcher=Ce}}:ae=NOOP,n&&y){const Ce=ae,xe=y===!0?1/0:y;ae=()=>traverse(Ce(),xe)}const de=getCurrentScope(),he=()=>{re.stop(),de&&de.active&&remove(de.effects,re)};if($&&n){const Ce=n;n=(...xe)=>{Ce(...xe),he()}}let pe=ue?new Array(t.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const _e=Ce=>{if(!(!(re.flags&1)||!re.dirty&&!Ce))if(n){const xe=re.run();if(y||le||(ue?xe.some((Ie,$e)=>hasChanged(Ie,pe[$e])):hasChanged(xe,pe))){oe&&oe();const Ie=activeWatcher;activeWatcher=re;try{const $e=[xe,pe===INITIAL_WATCHER_VALUE?void 0:ue&&pe[0]===INITIAL_WATCHER_VALUE?[]:pe,ie];pe=xe,z?z(n,3,$e):n(...$e)}finally{activeWatcher=Ie}}}else re.run()};return V&&V(_e),re=new ReactiveEffect(ae),re.scheduler=L?()=>L(_e,!1):_e,ie=Ce=>onWatcherCleanup(Ce,!1,re),oe=re.onStop=()=>{const Ce=cleanupMap.get(re);if(Ce){if(z)z(Ce,4);else for(const xe of Ce)xe();cleanupMap.delete(re)}},n?g?_e(!0):pe=re.run():L?L(_e.bind(null,!0),!0):re.run(),he.pause=re.pause.bind(re),he.resume=re.resume.bind(re),he.stop=he,he}function traverse(t,n=1/0,r){if(n<=0||!isObject$5(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),n--,isRef(t))traverse(t.value,n,r);else if(isArray$4(t))for(let g=0;g<t.length;g++)traverse(t[g],n,r);else if(isSet$1(t)||isMap$1(t))t.forEach(g=>{traverse(g,n,r)});else if(isPlainObject$1(t)){for(const g in t)traverse(t[g],n,r);for(const g of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,g)&&traverse(t[g],n,r)}return t}/**
* @vue/runtime-core v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const stack=[];let isWarning=!1;function warn$1(t,...n){if(isWarning)return;isWarning=!0,pauseTracking();const r=stack.length?stack[stack.length-1].component:null,g=r&&r.appContext.config.warnHandler,y=getComponentTrace();if(g)callWithErrorHandling(g,r,11,[t+n.map($=>{var L,V;return(V=(L=$.toString)==null?void 0:L.call($))!=null?V:JSON.stringify($)}).join(""),r&&r.proxy,y.map(({vnode:$})=>`at <${formatComponentName(r,$.type)}>`).join(`
`),y]);else{const $=[`[Vue warn]: ${t}`,...n];y.length&&$.push(`
`,...formatTrace(y)),console.warn(...$)}resetTracking(),isWarning=!1}function getComponentTrace(){let t=stack[stack.length-1];if(!t)return[];const n=[];for(;t;){const r=n[0];r&&r.vnode===t?r.recurseCount++:n.push({vnode:t,recurseCount:0});const g=t.component&&t.component.parent;t=g&&g.vnode}return n}function formatTrace(t){const n=[];return t.forEach((r,g)=>{n.push(...g===0?[]:[`
`],...formatTraceEntry(r))}),n}function formatTraceEntry({vnode:t,recurseCount:n}){const r=n>0?`... (${n} recursive calls)`:"",g=t.component?t.component.parent==null:!1,y=` at <${formatComponentName(t.component,t.type,g)}`,$=">"+r;return t.props?[y,...formatProps(t.props),$]:[y+$]}function formatProps(t){const n=[],r=Object.keys(t);return r.slice(0,3).forEach(g=>{n.push(...formatProp(g,t[g]))}),r.length>3&&n.push(" ..."),n}function formatProp(t,n,r){return isString$2(n)?(n=JSON.stringify(n),r?n:[`${t}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?r?n:[`${t}=${n}`]:isRef(n)?(n=formatProp(t,toRaw(n.value),!0),r?n:[`${t}=Ref<`,n,">"]):isFunction$3(n)?[`${t}=fn${n.name?`<${n.name}>`:""}`]:(n=toRaw(n),r?n:[`${t}=`,n])}function callWithErrorHandling(t,n,r,g){try{return g?t(...g):t()}catch(y){handleError(y,n,r)}}function callWithAsyncErrorHandling(t,n,r,g){if(isFunction$3(t)){const y=callWithErrorHandling(t,n,r,g);return y&&isPromise(y)&&y.catch($=>{handleError($,n,r)}),y}if(isArray$4(t)){const y=[];for(let $=0;$<t.length;$++)y.push(callWithAsyncErrorHandling(t[$],n,r,g));return y}}function handleError(t,n,r,g=!0){const y=n?n.vnode:null,{errorHandler:$,throwUnhandledErrorInProduction:L}=n&&n.appContext.config||EMPTY_OBJ$1;if(n){let V=n.parent;const z=n.proxy,j=`https://vuejs.org/error-reference/#runtime-${r}`;for(;V;){const re=V.ec;if(re){for(let ae=0;ae<re.length;ae++)if(re[ae](t,z,j)===!1)return}V=V.parent}if($){pauseTracking(),callWithErrorHandling($,null,10,[t,z,j]),resetTracking();return}}logError$1(t,r,y,g,L)}function logError$1(t,n,r,g=!0,y=!1){if(y)throw t;console.error(t)}const queue=[];let flushIndex=-1;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(t){const n=currentFlushPromise||resolvedPromise;return t?n.then(this?t.bind(this):t):n}function findInsertionIndex$1(t){let n=flushIndex+1,r=queue.length;for(;n<r;){const g=n+r>>>1,y=queue[g],$=getId$1(y);$<t||$===t&&y.flags&2?n=g+1:r=g}return n}function queueJob(t){if(!(t.flags&1)){const n=getId$1(t),r=queue[queue.length-1];!r||!(t.flags&2)&&n>=getId$1(r)?queue.push(t):queue.splice(findInsertionIndex$1(n),0,t),t.flags|=1,queueFlush()}}function queueFlush(){currentFlushPromise||(currentFlushPromise=resolvedPromise.then(flushJobs))}function queuePostFlushCb(t){isArray$4(t)?pendingPostFlushCbs.push(...t):activePostFlushCbs&&t.id===-1?activePostFlushCbs.splice(postFlushIndex+1,0,t):t.flags&1||(pendingPostFlushCbs.push(t),t.flags|=1),queueFlush()}function flushPreFlushCbs(t,n,r=flushIndex+1){for(;r<queue.length;r++){const g=queue[r];if(g&&g.flags&2){if(t&&g.id!==t.uid)continue;queue.splice(r,1),r--,g.flags&4&&(g.flags&=-2),g(),g.flags&4||(g.flags&=-2)}}}function flushPostFlushCbs(t){if(pendingPostFlushCbs.length){const n=[...new Set(pendingPostFlushCbs)].sort((r,g)=>getId$1(r)-getId$1(g));if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...n);return}for(activePostFlushCbs=n,postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++){const r=activePostFlushCbs[postFlushIndex];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}activePostFlushCbs=null,postFlushIndex=0}}const getId$1=t=>t.id==null?t.flags&2?-1:1/0:t.id;function flushJobs(t){try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),callWithErrorHandling(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;flushIndex<queue.length;flushIndex++){const n=queue[flushIndex];n&&(n.flags&=-2)}flushIndex=-1,queue.length=0,flushPostFlushCbs(),currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(t){const n=currentRenderingInstance;return currentRenderingInstance=t,currentScopeId=t&&t.type.__scopeId||null,n}function withCtx(t,n=currentRenderingInstance,r){if(!n||t._n)return t;const g=(...y)=>{g._d&&setBlockTracking(-1);const $=setCurrentRenderingInstance(n);let L;try{L=t(...y)}finally{setCurrentRenderingInstance($),g._d&&setBlockTracking(1)}return L};return g._n=!0,g._c=!0,g._d=!0,g}function withDirectives(t,n){if(currentRenderingInstance===null)return t;const r=getComponentPublicInstance(currentRenderingInstance),g=t.dirs||(t.dirs=[]);for(let y=0;y<n.length;y++){let[$,L,V,z=EMPTY_OBJ$1]=n[y];$&&(isFunction$3($)&&($={mounted:$,updated:$}),$.deep&&traverse(L),g.push({dir:$,instance:r,value:L,oldValue:void 0,arg:V,modifiers:z}))}return t}function invokeDirectiveHook(t,n,r,g){const y=t.dirs,$=n&&n.dirs;for(let L=0;L<y.length;L++){const V=y[L];$&&(V.oldValue=$[L].value);let z=V.dir[g];z&&(pauseTracking(),callWithAsyncErrorHandling(z,r,8,[t.el,V,t,n]),resetTracking())}}const TeleportEndKey=Symbol("_vte"),isTeleport=t=>t.__isTeleport,isTeleportDisabled=t=>t&&(t.disabled||t.disabled===""),isTeleportDeferred=t=>t&&(t.defer||t.defer===""),isTargetSVG=t=>typeof SVGElement<"u"&&t instanceof SVGElement,isTargetMathML=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,resolveTarget=(t,n)=>{const r=t&&t.to;return isString$2(r)?n?n(r):null:r},TeleportImpl={name:"Teleport",__isTeleport:!0,process(t,n,r,g,y,$,L,V,z,j){const{mc:re,pc:ae,pbc:oe,o:{insert:ie,querySelector:le,createText:ue,createComment:de}}=j,he=isTeleportDisabled(n.props);let{shapeFlag:pe,children:_e,dynamicChildren:Ce}=n;if(t==null){const xe=n.el=ue(""),Ie=n.anchor=ue("");ie(xe,r,g),ie(Ie,r,g);const $e=(Ne,Fe)=>{pe&16&&(y&&y.isCE&&(y.ce._teleportTarget=Ne),re(_e,Ne,Fe,y,$,L,V,z))},Oe=()=>{const Ne=n.target=resolveTarget(n.props,le),Fe=prepareAnchor(Ne,n,ue,ie);Ne&&(L!=="svg"&&isTargetSVG(Ne)?L="svg":L!=="mathml"&&isTargetMathML(Ne)&&(L="mathml"),he||($e(Ne,Fe),updateCssVars(n,!1)))};he&&($e(r,Ie),updateCssVars(n,!0)),isTeleportDeferred(n.props)?(n.el.__isMounted=!1,queuePostRenderEffect(()=>{Oe(),delete n.el.__isMounted},$)):Oe()}else{if(isTeleportDeferred(n.props)&&t.el.__isMounted===!1){queuePostRenderEffect(()=>{TeleportImpl.process(t,n,r,g,y,$,L,V,z,j)},$);return}n.el=t.el,n.targetStart=t.targetStart;const xe=n.anchor=t.anchor,Ie=n.target=t.target,$e=n.targetAnchor=t.targetAnchor,Oe=isTeleportDisabled(t.props),Ne=Oe?r:Ie,Fe=Oe?xe:$e;if(L==="svg"||isTargetSVG(Ie)?L="svg":(L==="mathml"||isTargetMathML(Ie))&&(L="mathml"),Ce?(oe(t.dynamicChildren,Ce,Ne,y,$,L,V),traverseStaticChildren(t,n,!0)):z||ae(t,n,Ne,Fe,y,$,L,V,!1),he)Oe?n.props&&t.props&&n.props.to!==t.props.to&&(n.props.to=t.props.to):moveTeleport(n,r,xe,j,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const Ve=n.target=resolveTarget(n.props,le);Ve&&moveTeleport(n,Ve,null,j,0)}else Oe&&moveTeleport(n,Ie,$e,j,1);updateCssVars(n,he)}},remove(t,n,r,{um:g,o:{remove:y}},$){const{shapeFlag:L,children:V,anchor:z,targetStart:j,targetAnchor:re,target:ae,props:oe}=t;if(ae&&(y(j),y(re)),$&&y(z),L&16){const ie=$||!isTeleportDisabled(oe);for(let le=0;le<V.length;le++){const ue=V[le];g(ue,n,r,ie,!!ue.dynamicChildren)}}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(t,n,r,{o:{insert:g},m:y},$=2){$===0&&g(t.targetAnchor,n,r);const{el:L,anchor:V,shapeFlag:z,children:j,props:re}=t,ae=$===2;if(ae&&g(L,n,r),(!ae||isTeleportDisabled(re))&&z&16)for(let oe=0;oe<j.length;oe++)y(j[oe],n,r,2);ae&&g(V,n,r)}function hydrateTeleport(t,n,r,g,y,$,{o:{nextSibling:L,parentNode:V,querySelector:z,insert:j,createText:re}},ae){const oe=n.target=resolveTarget(n.props,z);if(oe){const ie=isTeleportDisabled(n.props),le=oe._lpa||oe.firstChild;if(n.shapeFlag&16)if(ie)n.anchor=ae(L(t),n,V(t),r,g,y,$),n.targetStart=le,n.targetAnchor=le&&L(le);else{n.anchor=L(t);let ue=le;for(;ue;){if(ue&&ue.nodeType===8){if(ue.data==="teleport start anchor")n.targetStart=ue;else if(ue.data==="teleport anchor"){n.targetAnchor=ue,oe._lpa=n.targetAnchor&&L(n.targetAnchor);break}}ue=L(ue)}n.targetAnchor||prepareAnchor(oe,n,re,j),ae(le&&L(le),n,oe,r,g,y,$)}updateCssVars(n,ie)}return n.anchor&&L(n.anchor)}const Teleport$1=TeleportImpl;function updateCssVars(t,n){const r=t.ctx;if(r&&r.ut){let g,y;for(n?(g=t.el,y=t.anchor):(g=t.targetStart,y=t.targetAnchor);g&&g!==y;)g.nodeType===1&&g.setAttribute("data-v-owner",r.uid),g=g.nextSibling;r.ut()}}function prepareAnchor(t,n,r,g){const y=n.targetStart=r(""),$=n.targetAnchor=r("");return y[TeleportEndKey]=$,t&&(g(y,t),g($,t)),$}const leaveCbKey=Symbol("_leaveCb"),enterCbKey$1=Symbol("_enterCb");function useTransitionState(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{t.isMounted=!0}),onBeforeUnmount(()=>{t.isUnmounting=!0}),t}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},recursiveGetSubtree=t=>{const n=t.subTree;return n.component?recursiveGetSubtree(n.component):n},BaseTransitionImpl={name:"BaseTransition",props:BaseTransitionPropsValidators,setup(t,{slots:n}){const r=getCurrentInstance(),g=useTransitionState();return()=>{const y=n.default&&getTransitionRawChildren(n.default(),!0);if(!y||!y.length)return;const $=findNonCommentChild(y),L=toRaw(t),{mode:V}=L;if(g.isLeaving)return emptyPlaceholder($);const z=getInnerChild$1($);if(!z)return emptyPlaceholder($);let j=resolveTransitionHooks(z,L,g,r,ae=>j=ae);z.type!==Comment&&setTransitionHooks(z,j);let re=r.subTree&&getInnerChild$1(r.subTree);if(re&&re.type!==Comment&&!isSameVNodeType(z,re)&&recursiveGetSubtree(r).type!==Comment){let ae=resolveTransitionHooks(re,L,g,r);if(setTransitionHooks(re,ae),V==="out-in"&&z.type!==Comment)return g.isLeaving=!0,ae.afterLeave=()=>{g.isLeaving=!1,r.job.flags&8||r.update(),delete ae.afterLeave,re=void 0},emptyPlaceholder($);V==="in-out"&&z.type!==Comment?ae.delayLeave=(oe,ie,le)=>{const ue=getLeavingNodesForType(g,re);ue[String(re.key)]=re,oe[leaveCbKey]=()=>{ie(),oe[leaveCbKey]=void 0,delete j.delayedLeave,re=void 0},j.delayedLeave=()=>{le(),delete j.delayedLeave,re=void 0}}:re=void 0}else re&&(re=void 0);return $}}};function findNonCommentChild(t){let n=t[0];if(t.length>1){for(const r of t)if(r.type!==Comment){n=r;break}}return n}const BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(t,n){const{leavingVNodes:r}=t;let g=r.get(n.type);return g||(g=Object.create(null),r.set(n.type,g)),g}function resolveTransitionHooks(t,n,r,g,y){const{appear:$,mode:L,persisted:V=!1,onBeforeEnter:z,onEnter:j,onAfterEnter:re,onEnterCancelled:ae,onBeforeLeave:oe,onLeave:ie,onAfterLeave:le,onLeaveCancelled:ue,onBeforeAppear:de,onAppear:he,onAfterAppear:pe,onAppearCancelled:_e}=n,Ce=String(t.key),xe=getLeavingNodesForType(r,t),Ie=(Ne,Fe)=>{Ne&&callWithAsyncErrorHandling(Ne,g,9,Fe)},$e=(Ne,Fe)=>{const Ve=Fe[1];Ie(Ne,Fe),isArray$4(Ne)?Ne.every(ze=>ze.length<=1)&&Ve():Ne.length<=1&&Ve()},Oe={mode:L,persisted:V,beforeEnter(Ne){let Fe=z;if(!r.isMounted)if($)Fe=de||z;else return;Ne[leaveCbKey]&&Ne[leaveCbKey](!0);const Ve=xe[Ce];Ve&&isSameVNodeType(t,Ve)&&Ve.el[leaveCbKey]&&Ve.el[leaveCbKey](),Ie(Fe,[Ne])},enter(Ne){let Fe=j,Ve=re,ze=ae;if(!r.isMounted)if($)Fe=he||j,Ve=pe||re,ze=_e||ae;else return;let Et=!1;const Dt=Ne[enterCbKey$1]=Ue=>{Et||(Et=!0,Ue?Ie(ze,[Ne]):Ie(Ve,[Ne]),Oe.delayedLeave&&Oe.delayedLeave(),Ne[enterCbKey$1]=void 0)};Fe?$e(Fe,[Ne,Dt]):Dt()},leave(Ne,Fe){const Ve=String(t.key);if(Ne[enterCbKey$1]&&Ne[enterCbKey$1](!0),r.isUnmounting)return Fe();Ie(oe,[Ne]);let ze=!1;const Et=Ne[leaveCbKey]=Dt=>{ze||(ze=!0,Fe(),Dt?Ie(ue,[Ne]):Ie(le,[Ne]),Ne[leaveCbKey]=void 0,xe[Ve]===t&&delete xe[Ve])};xe[Ve]=t,ie?$e(ie,[Ne,Et]):Et()},clone(Ne){const Fe=resolveTransitionHooks(Ne,n,r,g,y);return y&&y(Fe),Fe}};return Oe}function emptyPlaceholder(t){if(isKeepAlive(t))return t=cloneVNode(t),t.children=null,t}function getInnerChild$1(t){if(!isKeepAlive(t))return isTeleport(t.type)&&t.children?findNonCommentChild(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:n,children:r}=t;if(r){if(n&16)return r[0];if(n&32&&isFunction$3(r.default))return r.default()}}function setTransitionHooks(t,n){t.shapeFlag&6&&t.component?(t.transition=n,setTransitionHooks(t.component.subTree,n)):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function getTransitionRawChildren(t,n=!1,r){let g=[],y=0;for(let $=0;$<t.length;$++){let L=t[$];const V=r==null?L.key:String(r)+String(L.key!=null?L.key:$);L.type===Fragment?(L.patchFlag&128&&y++,g=g.concat(getTransitionRawChildren(L.children,n,V))):(n||L.type!==Comment)&&g.push(V!=null?cloneVNode(L,{key:V}):L)}if(y>1)for(let $=0;$<g.length;$++)g[$].patchFlag=-2;return g}/*! #__NO_SIDE_EFFECTS__ */function defineComponent(t,n){return isFunction$3(t)?extend$1({name:t.name},n,{setup:t}):t}function markAsyncBoundary(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function setRef(t,n,r,g,y=!1){if(isArray$4(t)){t.forEach((le,ue)=>setRef(le,n&&(isArray$4(n)?n[ue]:n),r,g,y));return}if(isAsyncWrapper(g)&&!y){g.shapeFlag&512&&g.type.__asyncResolved&&g.component.subTree.component&&setRef(t,n,r,g.component.subTree);return}const $=g.shapeFlag&4?getComponentPublicInstance(g.component):g.el,L=y?null:$,{i:V,r:z}=t,j=n&&n.r,re=V.refs===EMPTY_OBJ$1?V.refs={}:V.refs,ae=V.setupState,oe=toRaw(ae),ie=ae===EMPTY_OBJ$1?()=>!1:le=>hasOwn$1(oe,le);if(j!=null&&j!==z&&(isString$2(j)?(re[j]=null,ie(j)&&(ae[j]=null)):isRef(j)&&(j.value=null)),isFunction$3(z))callWithErrorHandling(z,V,12,[L,re]);else{const le=isString$2(z),ue=isRef(z);if(le||ue){const de=()=>{if(t.f){const he=le?ie(z)?ae[z]:re[z]:z.value;y?isArray$4(he)&&remove(he,$):isArray$4(he)?he.includes($)||he.push($):le?(re[z]=[$],ie(z)&&(ae[z]=re[z])):(z.value=[$],t.k&&(re[t.k]=z.value))}else le?(re[z]=L,ie(z)&&(ae[z]=L)):ue&&(z.value=L,t.k&&(re[t.k]=L))};L?(de.id=-1,queuePostRenderEffect(de,r)):de()}}}getGlobalThis().requestIdleCallback;getGlobalThis().cancelIdleCallback;const isAsyncWrapper=t=>!!t.type.__asyncLoader,isKeepAlive=t=>t.type.__isKeepAlive;function onActivated(t,n){registerKeepAliveHook(t,"a",n)}function onDeactivated(t,n){registerKeepAliveHook(t,"da",n)}function registerKeepAliveHook(t,n,r=currentInstance){const g=t.__wdc||(t.__wdc=()=>{let y=r;for(;y;){if(y.isDeactivated)return;y=y.parent}return t()});if(injectHook(n,g,r),r){let y=r.parent;for(;y&&y.parent;)isKeepAlive(y.parent.vnode)&&injectToKeepAliveRoot(g,n,r,y),y=y.parent}}function injectToKeepAliveRoot(t,n,r,g){const y=injectHook(n,t,g,!0);onUnmounted(()=>{remove(g[n],y)},r)}function injectHook(t,n,r=currentInstance,g=!1){if(r){const y=r[t]||(r[t]=[]),$=n.__weh||(n.__weh=(...L)=>{pauseTracking();const V=setCurrentInstance(r),z=callWithAsyncErrorHandling(n,r,t,L);return V(),resetTracking(),z});return g?y.unshift($):y.push($),$}}const createHook=t=>(n,r=currentInstance)=>{(!isInSSRComponentSetup||t==="sp")&&injectHook(t,(...g)=>n(...g),r)},onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(t,n=currentInstance){injectHook("ec",t,n)}const COMPONENTS="components",DIRECTIVES="directives";function resolveComponent(t,n){return resolveAsset(COMPONENTS,t,!0,n)||t}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function resolveDynamicComponent(t){return isString$2(t)?resolveAsset(COMPONENTS,t,!1)||t:t||NULL_DYNAMIC_COMPONENT}function resolveDirective(t){return resolveAsset(DIRECTIVES,t)}function resolveAsset(t,n,r=!0,g=!1){const y=currentRenderingInstance||currentInstance;if(y){const $=y.type;if(t===COMPONENTS){const V=getComponentName($,!1);if(V&&(V===n||V===camelize(n)||V===capitalize$1(camelize(n))))return $}const L=resolve(y[t]||$[t],n)||resolve(y.appContext[t],n);return!L&&g?$:L}}function resolve(t,n){return t&&(t[n]||t[camelize(n)]||t[capitalize$1(camelize(n))])}function renderList(t,n,r,g){let y;const $=r,L=isArray$4(t);if(L||isString$2(t)){const V=L&&isReactive(t);let z=!1,j=!1;V&&(z=!isShallow(t),j=isReadonly(t),t=shallowReadArray(t)),y=new Array(t.length);for(let re=0,ae=t.length;re<ae;re++)y[re]=n(z?j?toReadonly(toReactive(t[re])):toReactive(t[re]):t[re],re,void 0,$)}else if(typeof t=="number"){y=new Array(t);for(let V=0;V<t;V++)y[V]=n(V+1,V,void 0,$)}else if(isObject$5(t))if(t[Symbol.iterator])y=Array.from(t,(V,z)=>n(V,z,void 0,$));else{const V=Object.keys(t);y=new Array(V.length);for(let z=0,j=V.length;z<j;z++){const re=V[z];y[z]=n(t[re],re,z,$)}}else y=[];return y}function createSlots(t,n){for(let r=0;r<n.length;r++){const g=n[r];if(isArray$4(g))for(let y=0;y<g.length;y++)t[g[y].name]=g[y].fn;else g&&(t[g.name]=g.key?(...y)=>{const $=g.fn(...y);return $&&($.key=g.key),$}:g.fn)}return t}function renderSlot(t,n,r={},g,y){if(currentRenderingInstance.ce||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.ce)return n!=="default"&&(r.name=n),openBlock(),createBlock(Fragment,null,[createVNode$1("slot",r,g&&g())],64);let $=t[n];$&&$._c&&($._d=!1),openBlock();const L=$&&ensureValidVNode($(r)),V=r.key||L&&L.key,z=createBlock(Fragment,{key:(V&&!isSymbol$1(V)?V:`_${n}`)+(!L&&g?"_fb":"")},L||(g?g():[]),L&&t._===1?64:-2);return z.scopeId&&(z.slotScopeIds=[z.scopeId+"-s"]),$&&$._c&&($._d=!0),z}function ensureValidVNode(t){return t.some(n=>isVNode(n)?!(n.type===Comment||n.type===Fragment&&!ensureValidVNode(n.children)):!0)?t:null}function toHandlers(t,n){const r={};for(const g in t)r[toHandlerKey(g)]=t[g];return r}const getPublicInstance=t=>t?isStatefulComponent(t)?getComponentPublicInstance(t):getPublicInstance(t.parent):null,publicPropertiesMap=extend$1(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>getPublicInstance(t.parent),$root:t=>getPublicInstance(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>resolveMergedOptions(t),$forceUpdate:t=>t.f||(t.f=()=>{queueJob(t.update)}),$nextTick:t=>t.n||(t.n=nextTick.bind(t.proxy)),$watch:t=>instanceWatch.bind(t)}),hasSetupBinding=(t,n)=>t!==EMPTY_OBJ$1&&!t.__isScriptSetup&&hasOwn$1(t,n),PublicInstanceProxyHandlers={get({_:t},n){if(n==="__v_skip")return!0;const{ctx:r,setupState:g,data:y,props:$,accessCache:L,type:V,appContext:z}=t;let j;if(n[0]!=="$"){const ie=L[n];if(ie!==void 0)switch(ie){case 1:return g[n];case 2:return y[n];case 4:return r[n];case 3:return $[n]}else{if(hasSetupBinding(g,n))return L[n]=1,g[n];if(y!==EMPTY_OBJ$1&&hasOwn$1(y,n))return L[n]=2,y[n];if((j=t.propsOptions[0])&&hasOwn$1(j,n))return L[n]=3,$[n];if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return L[n]=4,r[n];shouldCacheAccess&&(L[n]=0)}}const re=publicPropertiesMap[n];let ae,oe;if(re)return n==="$attrs"&&track(t.attrs,"get",""),re(t);if((ae=V.__cssModules)&&(ae=ae[n]))return ae;if(r!==EMPTY_OBJ$1&&hasOwn$1(r,n))return L[n]=4,r[n];if(oe=z.config.globalProperties,hasOwn$1(oe,n))return oe[n]},set({_:t},n,r){const{data:g,setupState:y,ctx:$}=t;return hasSetupBinding(y,n)?(y[n]=r,!0):g!==EMPTY_OBJ$1&&hasOwn$1(g,n)?(g[n]=r,!0):hasOwn$1(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:($[n]=r,!0)},has({_:{data:t,setupState:n,accessCache:r,ctx:g,appContext:y,propsOptions:$}},L){let V;return!!r[L]||t!==EMPTY_OBJ$1&&hasOwn$1(t,L)||hasSetupBinding(n,L)||(V=$[0])&&hasOwn$1(V,L)||hasOwn$1(g,L)||hasOwn$1(publicPropertiesMap,L)||hasOwn$1(y.config.globalProperties,L)},defineProperty(t,n,r){return r.get!=null?t._.accessCache[n]=0:hasOwn$1(r,"value")&&this.set(t,n,r.value,null),Reflect.defineProperty(t,n,r)}};function useSlots(){return getContext().slots}function useAttrs$1(){return getContext().attrs}function getContext(){const t=getCurrentInstance();return t.setupContext||(t.setupContext=createSetupContext(t))}function normalizePropsOrEmits(t){return isArray$4(t)?t.reduce((n,r)=>(n[r]=null,n),{}):t}let shouldCacheAccess=!0;function applyOptions(t){const n=resolveMergedOptions(t),r=t.proxy,g=t.ctx;shouldCacheAccess=!1,n.beforeCreate&&callHook$1(n.beforeCreate,t,"bc");const{data:y,computed:$,methods:L,watch:V,provide:z,inject:j,created:re,beforeMount:ae,mounted:oe,beforeUpdate:ie,updated:le,activated:ue,deactivated:de,beforeDestroy:he,beforeUnmount:pe,destroyed:_e,unmounted:Ce,render:xe,renderTracked:Ie,renderTriggered:$e,errorCaptured:Oe,serverPrefetch:Ne,expose:Fe,inheritAttrs:Ve,components:ze,directives:Et,filters:Dt}=n;if(j&&resolveInjections(j,g,null),L)for(const Lt in L){const Pt=L[Lt];isFunction$3(Pt)&&(g[Lt]=Pt.bind(r))}if(y){const Lt=y.call(r,r);isObject$5(Lt)&&(t.data=reactive(Lt))}if(shouldCacheAccess=!0,$)for(const Lt in $){const Pt=$[Lt],At=isFunction$3(Pt)?Pt.bind(r,r):isFunction$3(Pt.get)?Pt.get.bind(r,r):NOOP,vn=!isFunction$3(Pt)&&isFunction$3(Pt.set)?Pt.set.bind(r):NOOP,En=computed({get:At,set:vn});Object.defineProperty(g,Lt,{enumerable:!0,configurable:!0,get:()=>En.value,set:Sn=>En.value=Sn})}if(V)for(const Lt in V)createWatcher(V[Lt],g,r,Lt);if(z){const Lt=isFunction$3(z)?z.call(r):z;Reflect.ownKeys(Lt).forEach(Pt=>{provide(Pt,Lt[Pt])})}re&&callHook$1(re,t,"c");function qe(Lt,Pt){isArray$4(Pt)?Pt.forEach(At=>Lt(At.bind(r))):Pt&&Lt(Pt.bind(r))}if(qe(onBeforeMount,ae),qe(onMounted,oe),qe(onBeforeUpdate,ie),qe(onUpdated,le),qe(onActivated,ue),qe(onDeactivated,de),qe(onErrorCaptured,Oe),qe(onRenderTracked,Ie),qe(onRenderTriggered,$e),qe(onBeforeUnmount,pe),qe(onUnmounted,Ce),qe(onServerPrefetch,Ne),isArray$4(Fe))if(Fe.length){const Lt=t.exposed||(t.exposed={});Fe.forEach(Pt=>{Object.defineProperty(Lt,Pt,{get:()=>r[Pt],set:At=>r[Pt]=At})})}else t.exposed||(t.exposed={});xe&&t.render===NOOP&&(t.render=xe),Ve!=null&&(t.inheritAttrs=Ve),ze&&(t.components=ze),Et&&(t.directives=Et),Ne&&markAsyncBoundary(t)}function resolveInjections(t,n,r=NOOP){isArray$4(t)&&(t=normalizeInject(t));for(const g in t){const y=t[g];let $;isObject$5(y)?"default"in y?$=inject(y.from||g,y.default,!0):$=inject(y.from||g):$=inject(y),isRef($)?Object.defineProperty(n,g,{enumerable:!0,configurable:!0,get:()=>$.value,set:L=>$.value=L}):n[g]=$}}function callHook$1(t,n,r){callWithAsyncErrorHandling(isArray$4(t)?t.map(g=>g.bind(n.proxy)):t.bind(n.proxy),n,r)}function createWatcher(t,n,r,g){let y=g.includes(".")?createPathGetter(r,g):()=>r[g];if(isString$2(t)){const $=n[t];isFunction$3($)&&watch(y,$)}else if(isFunction$3(t))watch(y,t.bind(r));else if(isObject$5(t))if(isArray$4(t))t.forEach($=>createWatcher($,n,r,g));else{const $=isFunction$3(t.handler)?t.handler.bind(r):n[t.handler];isFunction$3($)&&watch(y,$,t)}}function resolveMergedOptions(t){const n=t.type,{mixins:r,extends:g}=n,{mixins:y,optionsCache:$,config:{optionMergeStrategies:L}}=t.appContext,V=$.get(n);let z;return V?z=V:!y.length&&!r&&!g?z=n:(z={},y.length&&y.forEach(j=>mergeOptions$2(z,j,L,!0)),mergeOptions$2(z,n,L)),isObject$5(n)&&$.set(n,z),z}function mergeOptions$2(t,n,r,g=!1){const{mixins:y,extends:$}=n;$&&mergeOptions$2(t,$,r,!0),y&&y.forEach(L=>mergeOptions$2(t,L,r,!0));for(const L in n)if(!(g&&L==="expose")){const V=internalOptionMergeStrats[L]||r&&r[L];t[L]=V?V(t[L],n[L]):n[L]}return t}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(t,n){return n?t?function(){return extend$1(isFunction$3(t)?t.call(this,this):t,isFunction$3(n)?n.call(this,this):n)}:n:t}function mergeInject(t,n){return mergeObjectOptions(normalizeInject(t),normalizeInject(n))}function normalizeInject(t){if(isArray$4(t)){const n={};for(let r=0;r<t.length;r++)n[t[r]]=t[r];return n}return t}function mergeAsArray(t,n){return t?[...new Set([].concat(t,n))]:n}function mergeObjectOptions(t,n){return t?extend$1(Object.create(null),t,n):n}function mergeEmitsOrPropsOptions(t,n){return t?isArray$4(t)&&isArray$4(n)?[...new Set([...t,...n])]:extend$1(Object.create(null),normalizePropsOrEmits(t),normalizePropsOrEmits(n??{})):n}function mergeWatchOptions(t,n){if(!t)return n;if(!n)return t;const r=extend$1(Object.create(null),t);for(const g in n)r[g]=mergeAsArray(t[g],n[g]);return r}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(t,n){return function(g,y=null){isFunction$3(g)||(g=extend$1({},g)),y!=null&&!isObject$5(y)&&(y=null);const $=createAppContext(),L=new WeakSet,V=[];let z=!1;const j=$.app={_uid:uid$1++,_component:g,_props:y,_container:null,_context:$,_instance:null,version,get config(){return $.config},set config(re){},use(re,...ae){return L.has(re)||(re&&isFunction$3(re.install)?(L.add(re),re.install(j,...ae)):isFunction$3(re)&&(L.add(re),re(j,...ae))),j},mixin(re){return $.mixins.includes(re)||$.mixins.push(re),j},component(re,ae){return ae?($.components[re]=ae,j):$.components[re]},directive(re,ae){return ae?($.directives[re]=ae,j):$.directives[re]},mount(re,ae,oe){if(!z){const ie=j._ceVNode||createVNode$1(g,y);return ie.appContext=$,oe===!0?oe="svg":oe===!1&&(oe=void 0),t(ie,re,oe),z=!0,j._container=re,re.__vue_app__=j,getComponentPublicInstance(ie.component)}},onUnmount(re){V.push(re)},unmount(){z&&(callWithAsyncErrorHandling(V,j._instance,16),t(null,j._container),delete j._container.__vue_app__)},provide(re,ae){return $.provides[re]=ae,j},runWithContext(re){const ae=currentApp;currentApp=j;try{return re()}finally{currentApp=ae}}};return j}}let currentApp=null;function provide(t,n){if(currentInstance){let r=currentInstance.provides;const g=currentInstance.parent&&currentInstance.parent.provides;g===r&&(r=currentInstance.provides=Object.create(g)),r[t]=n}}function inject(t,n,r=!1){const g=currentInstance||currentRenderingInstance;if(g||currentApp){let y=currentApp?currentApp._context.provides:g?g.parent==null||g.ce?g.vnode.appContext&&g.vnode.appContext.provides:g.parent.provides:void 0;if(y&&t in y)return y[t];if(arguments.length>1)return r&&isFunction$3(n)?n.call(g&&g.proxy):n}}const internalObjectProto={},createInternalObject=()=>Object.create(internalObjectProto),isInternalObject=t=>Object.getPrototypeOf(t)===internalObjectProto;function initProps$1(t,n,r,g=!1){const y={},$=createInternalObject();t.propsDefaults=Object.create(null),setFullProps(t,n,y,$);for(const L in t.propsOptions[0])L in y||(y[L]=void 0);r?t.props=g?y:shallowReactive(y):t.type.props?t.props=y:t.props=$,t.attrs=$}function updateProps$2(t,n,r,g){const{props:y,attrs:$,vnode:{patchFlag:L}}=t,V=toRaw(y),[z]=t.propsOptions;let j=!1;if((g||L>0)&&!(L&16)){if(L&8){const re=t.vnode.dynamicProps;for(let ae=0;ae<re.length;ae++){let oe=re[ae];if(isEmitListener(t.emitsOptions,oe))continue;const ie=n[oe];if(z)if(hasOwn$1($,oe))ie!==$[oe]&&($[oe]=ie,j=!0);else{const le=camelize(oe);y[le]=resolvePropValue(z,V,le,ie,t,!1)}else ie!==$[oe]&&($[oe]=ie,j=!0)}}}else{setFullProps(t,n,y,$)&&(j=!0);let re;for(const ae in V)(!n||!hasOwn$1(n,ae)&&((re=hyphenate(ae))===ae||!hasOwn$1(n,re)))&&(z?r&&(r[ae]!==void 0||r[re]!==void 0)&&(y[ae]=resolvePropValue(z,V,ae,void 0,t,!0)):delete y[ae]);if($!==V)for(const ae in $)(!n||!hasOwn$1(n,ae))&&(delete $[ae],j=!0)}j&&trigger$2(t.attrs,"set","")}function setFullProps(t,n,r,g){const[y,$]=t.propsOptions;let L=!1,V;if(n)for(let z in n){if(isReservedProp(z))continue;const j=n[z];let re;y&&hasOwn$1(y,re=camelize(z))?!$||!$.includes(re)?r[re]=j:(V||(V={}))[re]=j:isEmitListener(t.emitsOptions,z)||(!(z in g)||j!==g[z])&&(g[z]=j,L=!0)}if($){const z=toRaw(r),j=V||EMPTY_OBJ$1;for(let re=0;re<$.length;re++){const ae=$[re];r[ae]=resolvePropValue(y,z,ae,j[ae],t,!hasOwn$1(j,ae))}}return L}function resolvePropValue(t,n,r,g,y,$){const L=t[r];if(L!=null){const V=hasOwn$1(L,"default");if(V&&g===void 0){const z=L.default;if(L.type!==Function&&!L.skipFactory&&isFunction$3(z)){const{propsDefaults:j}=y;if(r in j)g=j[r];else{const re=setCurrentInstance(y);g=j[r]=z.call(null,n),re()}}else g=z;y.ce&&y.ce._setProp(r,g)}L[0]&&($&&!V?g=!1:L[1]&&(g===""||g===hyphenate(r))&&(g=!0))}return g}const mixinPropsCache=new WeakMap;function normalizePropsOptions(t,n,r=!1){const g=r?mixinPropsCache:n.propsCache,y=g.get(t);if(y)return y;const $=t.props,L={},V=[];let z=!1;if(!isFunction$3(t)){const re=ae=>{z=!0;const[oe,ie]=normalizePropsOptions(ae,n,!0);extend$1(L,oe),ie&&V.push(...ie)};!r&&n.mixins.length&&n.mixins.forEach(re),t.extends&&re(t.extends),t.mixins&&t.mixins.forEach(re)}if(!$&&!z)return isObject$5(t)&&g.set(t,EMPTY_ARR),EMPTY_ARR;if(isArray$4($))for(let re=0;re<$.length;re++){const ae=camelize($[re]);validatePropName(ae)&&(L[ae]=EMPTY_OBJ$1)}else if($)for(const re in $){const ae=camelize(re);if(validatePropName(ae)){const oe=$[re],ie=L[ae]=isArray$4(oe)||isFunction$3(oe)?{type:oe}:extend$1({},oe),le=ie.type;let ue=!1,de=!0;if(isArray$4(le))for(let he=0;he<le.length;++he){const pe=le[he],_e=isFunction$3(pe)&&pe.name;if(_e==="Boolean"){ue=!0;break}else _e==="String"&&(de=!1)}else ue=isFunction$3(le)&&le.name==="Boolean";ie[0]=ue,ie[1]=de,(ue||hasOwn$1(ie,"default"))&&V.push(ae)}}const j=[L,V];return isObject$5(t)&&g.set(t,j),j}function validatePropName(t){return t[0]!=="$"&&!isReservedProp(t)}const isInternalKey=t=>t[0]==="_"||t==="$stable",normalizeSlotValue=t=>isArray$4(t)?t.map(normalizeVNode):[normalizeVNode(t)],normalizeSlot$1=(t,n,r)=>{if(n._n)return n;const g=withCtx((...y)=>normalizeSlotValue(n(...y)),r);return g._c=!1,g},normalizeObjectSlots=(t,n,r)=>{const g=t._ctx;for(const y in t){if(isInternalKey(y))continue;const $=t[y];if(isFunction$3($))n[y]=normalizeSlot$1(y,$,g);else if($!=null){const L=normalizeSlotValue($);n[y]=()=>L}}},normalizeVNodeSlots=(t,n)=>{const r=normalizeSlotValue(n);t.slots.default=()=>r},assignSlots=(t,n,r)=>{for(const g in n)(r||!isInternalKey(g))&&(t[g]=n[g])},initSlots=(t,n,r)=>{const g=t.slots=createInternalObject();if(t.vnode.shapeFlag&32){const y=n._;y?(assignSlots(g,n,r),r&&def(g,"_",y,!0)):normalizeObjectSlots(n,g)}else n&&normalizeVNodeSlots(t,n)},updateSlots=(t,n,r)=>{const{vnode:g,slots:y}=t;let $=!0,L=EMPTY_OBJ$1;if(g.shapeFlag&32){const V=n._;V?r&&V===1?$=!1:assignSlots(y,n,r):($=!n.$stable,normalizeObjectSlots(n,y)),L=n}else n&&(normalizeVNodeSlots(t,n),L={default:1});if($)for(const V in y)!isInternalKey(V)&&L[V]==null&&delete y[V]},queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(t){return baseCreateRenderer(t)}function baseCreateRenderer(t,n){const r=getGlobalThis();r.__VUE__=!0;const{insert:g,remove:y,patchProp:$,createElement:L,createText:V,createComment:z,setText:j,setElementText:re,parentNode:ae,nextSibling:oe,setScopeId:ie=NOOP,insertStaticContent:le}=t,ue=(bn,Pn,Rn,Fn=null,Dn=null,Ln=null,kn=void 0,In=null,Vn=!!Pn.dynamicChildren)=>{if(bn===Pn)return;bn&&!isSameVNodeType(bn,Pn)&&(Fn=hn(bn),Sn(bn,Dn,Ln,!0),bn=null),Pn.patchFlag===-2&&(Vn=!1,Pn.dynamicChildren=null);const{type:zn,ref:Kn,shapeFlag:jn}=Pn;switch(zn){case Text$1:de(bn,Pn,Rn,Fn);break;case Comment:he(bn,Pn,Rn,Fn);break;case Static:bn==null&&pe(Pn,Rn,Fn,kn);break;case Fragment:ze(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn);break;default:jn&1?xe(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn):jn&6?Et(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn):(jn&64||jn&128)&&zn.process(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn,xn)}Kn!=null&&Dn&&setRef(Kn,bn&&bn.ref,Ln,Pn||bn,!Pn)},de=(bn,Pn,Rn,Fn)=>{if(bn==null)g(Pn.el=V(Pn.children),Rn,Fn);else{const Dn=Pn.el=bn.el;Pn.children!==bn.children&&j(Dn,Pn.children)}},he=(bn,Pn,Rn,Fn)=>{bn==null?g(Pn.el=z(Pn.children||""),Rn,Fn):Pn.el=bn.el},pe=(bn,Pn,Rn,Fn)=>{[bn.el,bn.anchor]=le(bn.children,Pn,Rn,Fn,bn.el,bn.anchor)},_e=({el:bn,anchor:Pn},Rn,Fn)=>{let Dn;for(;bn&&bn!==Pn;)Dn=oe(bn),g(bn,Rn,Fn),bn=Dn;g(Pn,Rn,Fn)},Ce=({el:bn,anchor:Pn})=>{let Rn;for(;bn&&bn!==Pn;)Rn=oe(bn),y(bn),bn=Rn;y(Pn)},xe=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn)=>{Pn.type==="svg"?kn="svg":Pn.type==="math"&&(kn="mathml"),bn==null?Ie(Pn,Rn,Fn,Dn,Ln,kn,In,Vn):Ne(bn,Pn,Dn,Ln,kn,In,Vn)},Ie=(bn,Pn,Rn,Fn,Dn,Ln,kn,In)=>{let Vn,zn;const{props:Kn,shapeFlag:jn,transition:Wn,dirs:Un}=bn;if(Vn=bn.el=L(bn.type,Ln,Kn&&Kn.is,Kn),jn&8?re(Vn,bn.children):jn&16&&Oe(bn.children,Vn,null,Fn,Dn,resolveChildrenNamespace(bn,Ln),kn,In),Un&&invokeDirectiveHook(bn,null,Fn,"created"),$e(Vn,bn,bn.scopeId,kn,Fn),Kn){for(const sr in Kn)sr!=="value"&&!isReservedProp(sr)&&$(Vn,sr,null,Kn[sr],Ln,Fn);"value"in Kn&&$(Vn,"value",null,Kn.value,Ln),(zn=Kn.onVnodeBeforeMount)&&invokeVNodeHook(zn,Fn,bn)}Un&&invokeDirectiveHook(bn,null,Fn,"beforeMount");const nr=needTransition(Dn,Wn);nr&&Wn.beforeEnter(Vn),g(Vn,Pn,Rn),((zn=Kn&&Kn.onVnodeMounted)||nr||Un)&&queuePostRenderEffect(()=>{zn&&invokeVNodeHook(zn,Fn,bn),nr&&Wn.enter(Vn),Un&&invokeDirectiveHook(bn,null,Fn,"mounted")},Dn)},$e=(bn,Pn,Rn,Fn,Dn)=>{if(Rn&&ie(bn,Rn),Fn)for(let Ln=0;Ln<Fn.length;Ln++)ie(bn,Fn[Ln]);if(Dn){let Ln=Dn.subTree;if(Pn===Ln||isSuspense(Ln.type)&&(Ln.ssContent===Pn||Ln.ssFallback===Pn)){const kn=Dn.vnode;$e(bn,kn,kn.scopeId,kn.slotScopeIds,Dn.parent)}}},Oe=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn=0)=>{for(let zn=Vn;zn<bn.length;zn++){const Kn=bn[zn]=In?cloneIfMounted(bn[zn]):normalizeVNode(bn[zn]);ue(null,Kn,Pn,Rn,Fn,Dn,Ln,kn,In)}},Ne=(bn,Pn,Rn,Fn,Dn,Ln,kn)=>{const In=Pn.el=bn.el;let{patchFlag:Vn,dynamicChildren:zn,dirs:Kn}=Pn;Vn|=bn.patchFlag&16;const jn=bn.props||EMPTY_OBJ$1,Wn=Pn.props||EMPTY_OBJ$1;let Un;if(Rn&&toggleRecurse(Rn,!1),(Un=Wn.onVnodeBeforeUpdate)&&invokeVNodeHook(Un,Rn,Pn,bn),Kn&&invokeDirectiveHook(Pn,bn,Rn,"beforeUpdate"),Rn&&toggleRecurse(Rn,!0),(jn.innerHTML&&Wn.innerHTML==null||jn.textContent&&Wn.textContent==null)&&re(In,""),zn?Fe(bn.dynamicChildren,zn,In,Rn,Fn,resolveChildrenNamespace(Pn,Dn),Ln):kn||Pt(bn,Pn,In,null,Rn,Fn,resolveChildrenNamespace(Pn,Dn),Ln,!1),Vn>0){if(Vn&16)Ve(In,jn,Wn,Rn,Dn);else if(Vn&2&&jn.class!==Wn.class&&$(In,"class",null,Wn.class,Dn),Vn&4&&$(In,"style",jn.style,Wn.style,Dn),Vn&8){const nr=Pn.dynamicProps;for(let sr=0;sr<nr.length;sr++){const mr=nr[sr],vr=jn[mr],Sr=Wn[mr];(Sr!==vr||mr==="value")&&$(In,mr,vr,Sr,Dn,Rn)}}Vn&1&&bn.children!==Pn.children&&re(In,Pn.children)}else!kn&&zn==null&&Ve(In,jn,Wn,Rn,Dn);((Un=Wn.onVnodeUpdated)||Kn)&&queuePostRenderEffect(()=>{Un&&invokeVNodeHook(Un,Rn,Pn,bn),Kn&&invokeDirectiveHook(Pn,bn,Rn,"updated")},Fn)},Fe=(bn,Pn,Rn,Fn,Dn,Ln,kn)=>{for(let In=0;In<Pn.length;In++){const Vn=bn[In],zn=Pn[In],Kn=Vn.el&&(Vn.type===Fragment||!isSameVNodeType(Vn,zn)||Vn.shapeFlag&198)?ae(Vn.el):Rn;ue(Vn,zn,Kn,null,Fn,Dn,Ln,kn,!0)}},Ve=(bn,Pn,Rn,Fn,Dn)=>{if(Pn!==Rn){if(Pn!==EMPTY_OBJ$1)for(const Ln in Pn)!isReservedProp(Ln)&&!(Ln in Rn)&&$(bn,Ln,Pn[Ln],null,Dn,Fn);for(const Ln in Rn){if(isReservedProp(Ln))continue;const kn=Rn[Ln],In=Pn[Ln];kn!==In&&Ln!=="value"&&$(bn,Ln,In,kn,Dn,Fn)}"value"in Rn&&$(bn,"value",Pn.value,Rn.value,Dn)}},ze=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn)=>{const zn=Pn.el=bn?bn.el:V(""),Kn=Pn.anchor=bn?bn.anchor:V("");let{patchFlag:jn,dynamicChildren:Wn,slotScopeIds:Un}=Pn;Un&&(In=In?In.concat(Un):Un),bn==null?(g(zn,Rn,Fn),g(Kn,Rn,Fn),Oe(Pn.children||[],Rn,Kn,Dn,Ln,kn,In,Vn)):jn>0&&jn&64&&Wn&&bn.dynamicChildren?(Fe(bn.dynamicChildren,Wn,Rn,Dn,Ln,kn,In),(Pn.key!=null||Dn&&Pn===Dn.subTree)&&traverseStaticChildren(bn,Pn,!0)):Pt(bn,Pn,Rn,Kn,Dn,Ln,kn,In,Vn)},Et=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn)=>{Pn.slotScopeIds=In,bn==null?Pn.shapeFlag&512?Dn.ctx.activate(Pn,Rn,Fn,kn,Vn):Dt(Pn,Rn,Fn,Dn,Ln,kn,Vn):Ue(bn,Pn,Vn)},Dt=(bn,Pn,Rn,Fn,Dn,Ln,kn)=>{const In=bn.component=createComponentInstance(bn,Fn,Dn);if(isKeepAlive(bn)&&(In.ctx.renderer=xn),setupComponent(In,!1,kn),In.asyncDep){if(Dn&&Dn.registerDep(In,qe,kn),!bn.el){const Vn=In.subTree=createVNode$1(Comment);he(null,Vn,Pn,Rn)}}else qe(In,bn,Pn,Rn,Dn,Ln,kn)},Ue=(bn,Pn,Rn)=>{const Fn=Pn.component=bn.component;if(shouldUpdateComponent(bn,Pn,Rn))if(Fn.asyncDep&&!Fn.asyncResolved){Lt(Fn,Pn,Rn);return}else Fn.next=Pn,Fn.update();else Pn.el=bn.el,Fn.vnode=Pn},qe=(bn,Pn,Rn,Fn,Dn,Ln,kn)=>{const In=()=>{if(bn.isMounted){let{next:jn,bu:Wn,u:Un,parent:nr,vnode:sr}=bn;{const ir=locateNonHydratedAsyncRoot(bn);if(ir){jn&&(jn.el=sr.el,Lt(bn,jn,kn)),ir.asyncDep.then(()=>{bn.isUnmounted||In()});return}}let mr=jn,vr;toggleRecurse(bn,!1),jn?(jn.el=sr.el,Lt(bn,jn,kn)):jn=sr,Wn&&invokeArrayFns(Wn),(vr=jn.props&&jn.props.onVnodeBeforeUpdate)&&invokeVNodeHook(vr,nr,jn,sr),toggleRecurse(bn,!0);const Sr=renderComponentRoot(bn),yr=bn.subTree;bn.subTree=Sr,ue(yr,Sr,ae(yr.el),hn(yr),bn,Dn,Ln),jn.el=Sr.el,mr===null&&updateHOCHostEl(bn,Sr.el),Un&&queuePostRenderEffect(Un,Dn),(vr=jn.props&&jn.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(vr,nr,jn,sr),Dn)}else{let jn;const{el:Wn,props:Un}=Pn,{bm:nr,m:sr,parent:mr,root:vr,type:Sr}=bn,yr=isAsyncWrapper(Pn);toggleRecurse(bn,!1),nr&&invokeArrayFns(nr),!yr&&(jn=Un&&Un.onVnodeBeforeMount)&&invokeVNodeHook(jn,mr,Pn),toggleRecurse(bn,!0);{vr.ce&&vr.ce._injectChildStyle(Sr);const ir=bn.subTree=renderComponentRoot(bn);ue(null,ir,Rn,Fn,bn,Dn,Ln),Pn.el=ir.el}if(sr&&queuePostRenderEffect(sr,Dn),!yr&&(jn=Un&&Un.onVnodeMounted)){const ir=Pn;queuePostRenderEffect(()=>invokeVNodeHook(jn,mr,ir),Dn)}(Pn.shapeFlag&256||mr&&isAsyncWrapper(mr.vnode)&&mr.vnode.shapeFlag&256)&&bn.a&&queuePostRenderEffect(bn.a,Dn),bn.isMounted=!0,Pn=Rn=Fn=null}};bn.scope.on();const Vn=bn.effect=new ReactiveEffect(In);bn.scope.off();const zn=bn.update=Vn.run.bind(Vn),Kn=bn.job=Vn.runIfDirty.bind(Vn);Kn.i=bn,Kn.id=bn.uid,Vn.scheduler=()=>queueJob(Kn),toggleRecurse(bn,!0),zn()},Lt=(bn,Pn,Rn)=>{Pn.component=bn;const Fn=bn.vnode.props;bn.vnode=Pn,bn.next=null,updateProps$2(bn,Pn.props,Fn,Rn),updateSlots(bn,Pn.children,Rn),pauseTracking(),flushPreFlushCbs(bn),resetTracking()},Pt=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn=!1)=>{const zn=bn&&bn.children,Kn=bn?bn.shapeFlag:0,jn=Pn.children,{patchFlag:Wn,shapeFlag:Un}=Pn;if(Wn>0){if(Wn&128){vn(zn,jn,Rn,Fn,Dn,Ln,kn,In,Vn);return}else if(Wn&256){At(zn,jn,Rn,Fn,Dn,Ln,kn,In,Vn);return}}Un&8?(Kn&16&&wn(zn,Dn,Ln),jn!==zn&&re(Rn,jn)):Kn&16?Un&16?vn(zn,jn,Rn,Fn,Dn,Ln,kn,In,Vn):wn(zn,Dn,Ln,!0):(Kn&8&&re(Rn,""),Un&16&&Oe(jn,Rn,Fn,Dn,Ln,kn,In,Vn))},At=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn)=>{bn=bn||EMPTY_ARR,Pn=Pn||EMPTY_ARR;const zn=bn.length,Kn=Pn.length,jn=Math.min(zn,Kn);let Wn;for(Wn=0;Wn<jn;Wn++){const Un=Pn[Wn]=Vn?cloneIfMounted(Pn[Wn]):normalizeVNode(Pn[Wn]);ue(bn[Wn],Un,Rn,null,Dn,Ln,kn,In,Vn)}zn>Kn?wn(bn,Dn,Ln,!0,!1,jn):Oe(Pn,Rn,Fn,Dn,Ln,kn,In,Vn,jn)},vn=(bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn)=>{let zn=0;const Kn=Pn.length;let jn=bn.length-1,Wn=Kn-1;for(;zn<=jn&&zn<=Wn;){const Un=bn[zn],nr=Pn[zn]=Vn?cloneIfMounted(Pn[zn]):normalizeVNode(Pn[zn]);if(isSameVNodeType(Un,nr))ue(Un,nr,Rn,null,Dn,Ln,kn,In,Vn);else break;zn++}for(;zn<=jn&&zn<=Wn;){const Un=bn[jn],nr=Pn[Wn]=Vn?cloneIfMounted(Pn[Wn]):normalizeVNode(Pn[Wn]);if(isSameVNodeType(Un,nr))ue(Un,nr,Rn,null,Dn,Ln,kn,In,Vn);else break;jn--,Wn--}if(zn>jn){if(zn<=Wn){const Un=Wn+1,nr=Un<Kn?Pn[Un].el:Fn;for(;zn<=Wn;)ue(null,Pn[zn]=Vn?cloneIfMounted(Pn[zn]):normalizeVNode(Pn[zn]),Rn,nr,Dn,Ln,kn,In,Vn),zn++}}else if(zn>Wn)for(;zn<=jn;)Sn(bn[zn],Dn,Ln,!0),zn++;else{const Un=zn,nr=zn,sr=new Map;for(zn=nr;zn<=Wn;zn++){const Qn=Pn[zn]=Vn?cloneIfMounted(Pn[zn]):normalizeVNode(Pn[zn]);Qn.key!=null&&sr.set(Qn.key,zn)}let mr,vr=0;const Sr=Wn-nr+1;let yr=!1,ir=0;const gr=new Array(Sr);for(zn=0;zn<Sr;zn++)gr[zn]=0;for(zn=Un;zn<=jn;zn++){const Qn=bn[zn];if(vr>=Sr){Sn(Qn,Dn,Ln,!0);continue}let Nn;if(Qn.key!=null)Nn=sr.get(Qn.key);else for(mr=nr;mr<=Wn;mr++)if(gr[mr-nr]===0&&isSameVNodeType(Qn,Pn[mr])){Nn=mr;break}Nn===void 0?Sn(Qn,Dn,Ln,!0):(gr[Nn-nr]=zn+1,Nn>=ir?ir=Nn:yr=!0,ue(Qn,Pn[Nn],Rn,null,Dn,Ln,kn,In,Vn),vr++)}const Gn=yr?getSequence(gr):EMPTY_ARR;for(mr=Gn.length-1,zn=Sr-1;zn>=0;zn--){const Qn=nr+zn,Nn=Pn[Qn],Hn=Qn+1<Kn?Pn[Qn+1].el:Fn;gr[zn]===0?ue(null,Nn,Rn,Hn,Dn,Ln,kn,In,Vn):yr&&(mr<0||zn!==Gn[mr]?En(Nn,Rn,Hn,2):mr--)}}},En=(bn,Pn,Rn,Fn,Dn=null)=>{const{el:Ln,type:kn,transition:In,children:Vn,shapeFlag:zn}=bn;if(zn&6){En(bn.component.subTree,Pn,Rn,Fn);return}if(zn&128){bn.suspense.move(Pn,Rn,Fn);return}if(zn&64){kn.move(bn,Pn,Rn,xn);return}if(kn===Fragment){g(Ln,Pn,Rn);for(let jn=0;jn<Vn.length;jn++)En(Vn[jn],Pn,Rn,Fn);g(bn.anchor,Pn,Rn);return}if(kn===Static){_e(bn,Pn,Rn);return}if(Fn!==2&&zn&1&&In)if(Fn===0)In.beforeEnter(Ln),g(Ln,Pn,Rn),queuePostRenderEffect(()=>In.enter(Ln),Dn);else{const{leave:jn,delayLeave:Wn,afterLeave:Un}=In,nr=()=>{bn.ctx.isUnmounted?y(Ln):g(Ln,Pn,Rn)},sr=()=>{jn(Ln,()=>{nr(),Un&&Un()})};Wn?Wn(Ln,nr,sr):sr()}else g(Ln,Pn,Rn)},Sn=(bn,Pn,Rn,Fn=!1,Dn=!1)=>{const{type:Ln,props:kn,ref:In,children:Vn,dynamicChildren:zn,shapeFlag:Kn,patchFlag:jn,dirs:Wn,cacheIndex:Un}=bn;if(jn===-2&&(Dn=!1),In!=null&&(pauseTracking(),setRef(In,null,Rn,bn,!0),resetTracking()),Un!=null&&(Pn.renderCache[Un]=void 0),Kn&256){Pn.ctx.deactivate(bn);return}const nr=Kn&1&&Wn,sr=!isAsyncWrapper(bn);let mr;if(sr&&(mr=kn&&kn.onVnodeBeforeUnmount)&&invokeVNodeHook(mr,Pn,bn),Kn&6)_n(bn.component,Rn,Fn);else{if(Kn&128){bn.suspense.unmount(Rn,Fn);return}nr&&invokeDirectiveHook(bn,null,Pn,"beforeUnmount"),Kn&64?bn.type.remove(bn,Pn,Rn,xn,Fn):zn&&!zn.hasOnce&&(Ln!==Fragment||jn>0&&jn&64)?wn(zn,Pn,Rn,!1,!0):(Ln===Fragment&&jn&384||!Dn&&Kn&16)&&wn(Vn,Pn,Rn),Fn&&kt(bn)}(sr&&(mr=kn&&kn.onVnodeUnmounted)||nr)&&queuePostRenderEffect(()=>{mr&&invokeVNodeHook(mr,Pn,bn),nr&&invokeDirectiveHook(bn,null,Pn,"unmounted")},Rn)},kt=bn=>{const{type:Pn,el:Rn,anchor:Fn,transition:Dn}=bn;if(Pn===Fragment){jt(Rn,Fn);return}if(Pn===Static){Ce(bn);return}const Ln=()=>{y(Rn),Dn&&!Dn.persisted&&Dn.afterLeave&&Dn.afterLeave()};if(bn.shapeFlag&1&&Dn&&!Dn.persisted){const{leave:kn,delayLeave:In}=Dn,Vn=()=>kn(Rn,Ln);In?In(bn.el,Ln,Vn):Vn()}else Ln()},jt=(bn,Pn)=>{let Rn;for(;bn!==Pn;)Rn=oe(bn),y(bn),bn=Rn;y(Pn)},_n=(bn,Pn,Rn)=>{const{bum:Fn,scope:Dn,job:Ln,subTree:kn,um:In,m:Vn,a:zn,parent:Kn,slots:{__:jn}}=bn;invalidateMount(Vn),invalidateMount(zn),Fn&&invokeArrayFns(Fn),Kn&&isArray$4(jn)&&jn.forEach(Wn=>{Kn.renderCache[Wn]=void 0}),Dn.stop(),Ln&&(Ln.flags|=8,Sn(kn,bn,Pn,Rn)),In&&queuePostRenderEffect(In,Pn),queuePostRenderEffect(()=>{bn.isUnmounted=!0},Pn),Pn&&Pn.pendingBranch&&!Pn.isUnmounted&&bn.asyncDep&&!bn.asyncResolved&&bn.suspenseId===Pn.pendingId&&(Pn.deps--,Pn.deps===0&&Pn.resolve())},wn=(bn,Pn,Rn,Fn=!1,Dn=!1,Ln=0)=>{for(let kn=Ln;kn<bn.length;kn++)Sn(bn[kn],Pn,Rn,Fn,Dn)},hn=bn=>{if(bn.shapeFlag&6)return hn(bn.component.subTree);if(bn.shapeFlag&128)return bn.suspense.next();const Pn=oe(bn.anchor||bn.el),Rn=Pn&&Pn[TeleportEndKey];return Rn?oe(Rn):Pn};let Cn=!1;const Tn=(bn,Pn,Rn)=>{bn==null?Pn._vnode&&Sn(Pn._vnode,null,null,!0):ue(Pn._vnode||null,bn,Pn,null,null,null,Rn),Pn._vnode=bn,Cn||(Cn=!0,flushPreFlushCbs(),flushPostFlushCbs(),Cn=!1)},xn={p:ue,um:Sn,m:En,r:kt,mt:Dt,mc:Oe,pc:Pt,pbc:Fe,n:hn,o:t};return{render:Tn,hydrate:void 0,createApp:createAppAPI(Tn)}}function resolveChildrenNamespace({type:t,props:n},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:r}function toggleRecurse({effect:t,job:n},r){r?(t.flags|=32,n.flags|=4):(t.flags&=-33,n.flags&=-5)}function needTransition(t,n){return(!t||t&&!t.pendingBranch)&&n&&!n.persisted}function traverseStaticChildren(t,n,r=!1){const g=t.children,y=n.children;if(isArray$4(g)&&isArray$4(y))for(let $=0;$<g.length;$++){const L=g[$];let V=y[$];V.shapeFlag&1&&!V.dynamicChildren&&((V.patchFlag<=0||V.patchFlag===32)&&(V=y[$]=cloneIfMounted(y[$]),V.el=L.el),!r&&V.patchFlag!==-2&&traverseStaticChildren(L,V)),V.type===Text$1&&(V.el=L.el),V.type===Comment&&!V.el&&(V.el=L.el)}}function getSequence(t){const n=t.slice(),r=[0];let g,y,$,L,V;const z=t.length;for(g=0;g<z;g++){const j=t[g];if(j!==0){if(y=r[r.length-1],t[y]<j){n[g]=y,r.push(g);continue}for($=0,L=r.length-1;$<L;)V=$+L>>1,t[r[V]]<j?$=V+1:L=V;j<t[r[$]]&&($>0&&(n[g]=r[$-1]),r[$]=g)}}for($=r.length,L=r[$-1];$-- >0;)r[$]=L,L=n[L];return r}function locateNonHydratedAsyncRoot(t){const n=t.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:locateNonHydratedAsyncRoot(n)}function invalidateMount(t){if(t)for(let n=0;n<t.length;n++)t[n].flags|=8}const ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey);function watchEffect(t,n){return doWatch(t,null,n)}function watch(t,n,r){return doWatch(t,n,r)}function doWatch(t,n,r=EMPTY_OBJ$1){const{immediate:g,deep:y,flush:$,once:L}=r,V=extend$1({},r),z=n&&g||!n&&$!=="post";let j;if(isInSSRComponentSetup){if($==="sync"){const ie=useSSRContext();j=ie.__watcherHandles||(ie.__watcherHandles=[])}else if(!z){const ie=()=>{};return ie.stop=NOOP,ie.resume=NOOP,ie.pause=NOOP,ie}}const re=currentInstance;V.call=(ie,le,ue)=>callWithAsyncErrorHandling(ie,re,le,ue);let ae=!1;$==="post"?V.scheduler=ie=>{queuePostRenderEffect(ie,re&&re.suspense)}:$!=="sync"&&(ae=!0,V.scheduler=(ie,le)=>{le?ie():queueJob(ie)}),V.augmentJob=ie=>{n&&(ie.flags|=4),ae&&(ie.flags|=2,re&&(ie.id=re.uid,ie.i=re))};const oe=watch$1(t,n,V);return isInSSRComponentSetup&&(j?j.push(oe):z&&oe()),oe}function instanceWatch(t,n,r){const g=this.proxy,y=isString$2(t)?t.includes(".")?createPathGetter(g,t):()=>g[t]:t.bind(g,g);let $;isFunction$3(n)?$=n:($=n.handler,r=n);const L=setCurrentInstance(this),V=doWatch(y,$.bind(g),r);return L(),V}function createPathGetter(t,n){const r=n.split(".");return()=>{let g=t;for(let y=0;y<r.length&&g;y++)g=g[r[y]];return g}}const getModelModifiers=(t,n)=>n==="modelValue"||n==="model-value"?t.modelModifiers:t[`${n}Modifiers`]||t[`${camelize(n)}Modifiers`]||t[`${hyphenate(n)}Modifiers`];function emit(t,n,...r){if(t.isUnmounted)return;const g=t.vnode.props||EMPTY_OBJ$1;let y=r;const $=n.startsWith("update:"),L=$&&getModelModifiers(g,n.slice(7));L&&(L.trim&&(y=r.map(re=>isString$2(re)?re.trim():re)),L.number&&(y=r.map(looseToNumber)));let V,z=g[V=toHandlerKey(n)]||g[V=toHandlerKey(camelize(n))];!z&&$&&(z=g[V=toHandlerKey(hyphenate(n))]),z&&callWithAsyncErrorHandling(z,t,6,y);const j=g[V+"Once"];if(j){if(!t.emitted)t.emitted={};else if(t.emitted[V])return;t.emitted[V]=!0,callWithAsyncErrorHandling(j,t,6,y)}}function normalizeEmitsOptions(t,n,r=!1){const g=n.emitsCache,y=g.get(t);if(y!==void 0)return y;const $=t.emits;let L={},V=!1;if(!isFunction$3(t)){const z=j=>{const re=normalizeEmitsOptions(j,n,!0);re&&(V=!0,extend$1(L,re))};!r&&n.mixins.length&&n.mixins.forEach(z),t.extends&&z(t.extends),t.mixins&&t.mixins.forEach(z)}return!$&&!V?(isObject$5(t)&&g.set(t,null),null):(isArray$4($)?$.forEach(z=>L[z]=null):extend$1(L,$),isObject$5(t)&&g.set(t,L),L)}function isEmitListener(t,n){return!t||!isOn(n)?!1:(n=n.slice(2).replace(/Once$/,""),hasOwn$1(t,n[0].toLowerCase()+n.slice(1))||hasOwn$1(t,hyphenate(n))||hasOwn$1(t,n))}function markAttrsAccessed(){}function renderComponentRoot(t){const{type:n,vnode:r,proxy:g,withProxy:y,propsOptions:[$],slots:L,attrs:V,emit:z,render:j,renderCache:re,props:ae,data:oe,setupState:ie,ctx:le,inheritAttrs:ue}=t,de=setCurrentRenderingInstance(t);let he,pe;try{if(r.shapeFlag&4){const Ce=y||g,xe=Ce;he=normalizeVNode(j.call(xe,Ce,re,ae,ie,oe,le)),pe=V}else{const Ce=n;he=normalizeVNode(Ce.length>1?Ce(ae,{attrs:V,slots:L,emit:z}):Ce(ae,null)),pe=n.props?V:getFunctionalFallthrough(V)}}catch(Ce){blockStack.length=0,handleError(Ce,t,1),he=createVNode$1(Comment)}let _e=he;if(pe&&ue!==!1){const Ce=Object.keys(pe),{shapeFlag:xe}=_e;Ce.length&&xe&7&&($&&Ce.some(isModelListener)&&(pe=filterModelListeners(pe,$)),_e=cloneVNode(_e,pe,!1,!0))}return r.dirs&&(_e=cloneVNode(_e,null,!1,!0),_e.dirs=_e.dirs?_e.dirs.concat(r.dirs):r.dirs),r.transition&&setTransitionHooks(_e,r.transition),he=_e,setCurrentRenderingInstance(de),he}const getFunctionalFallthrough=t=>{let n;for(const r in t)(r==="class"||r==="style"||isOn(r))&&((n||(n={}))[r]=t[r]);return n},filterModelListeners=(t,n)=>{const r={};for(const g in t)(!isModelListener(g)||!(g.slice(9)in n))&&(r[g]=t[g]);return r};function shouldUpdateComponent(t,n,r){const{props:g,children:y,component:$}=t,{props:L,children:V,patchFlag:z}=n,j=$.emitsOptions;if(n.dirs||n.transition)return!0;if(r&&z>=0){if(z&1024)return!0;if(z&16)return g?hasPropsChanged(g,L,j):!!L;if(z&8){const re=n.dynamicProps;for(let ae=0;ae<re.length;ae++){const oe=re[ae];if(L[oe]!==g[oe]&&!isEmitListener(j,oe))return!0}}}else return(y||V)&&(!V||!V.$stable)?!0:g===L?!1:g?L?hasPropsChanged(g,L,j):!0:!!L;return!1}function hasPropsChanged(t,n,r){const g=Object.keys(n);if(g.length!==Object.keys(t).length)return!0;for(let y=0;y<g.length;y++){const $=g[y];if(n[$]!==t[$]&&!isEmitListener(r,$))return!0}return!1}function updateHOCHostEl({vnode:t,parent:n},r){for(;n;){const g=n.subTree;if(g.suspense&&g.suspense.activeBranch===t&&(g.el=t.el),g===t)(t=n.vnode).el=r,n=n.parent;else break}}const isSuspense=t=>t.__isSuspense;function queueEffectWithSuspense(t,n){n&&n.pendingBranch?isArray$4(t)?n.effects.push(...t):n.effects.push(t):queuePostFlushCb(t)}const Fragment=Symbol.for("v-fgt"),Text$1=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(t=!1){blockStack.push(currentBlock=t?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(t,n=!1){isBlockTreeEnabled+=t,t<0&&currentBlock&&n&&(currentBlock.hasOnce=!0)}function setupBlock(t){return t.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(t),t}function createElementBlock(t,n,r,g,y,$){return setupBlock(createBaseVNode(t,n,r,g,y,$,!0))}function createBlock(t,n,r,g,y){return setupBlock(createVNode$1(t,n,r,g,y,!0))}function isVNode(t){return t?t.__v_isVNode===!0:!1}function isSameVNodeType(t,n){return t.type===n.type&&t.key===n.key}const normalizeKey=({key:t})=>t??null,normalizeRef=({ref:t,ref_key:n,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?isString$2(t)||isRef(t)||isFunction$3(t)?{i:currentRenderingInstance,r:t,k:n,f:!!r}:t:null);function createBaseVNode(t,n=null,r=null,g=0,y=null,$=t===Fragment?0:1,L=!1,V=!1){const z={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&normalizeKey(n),ref:n&&normalizeRef(n),scopeId:currentScopeId,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:$,patchFlag:g,dynamicProps:y,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return V?(normalizeChildren(z,r),$&128&&t.normalize(z)):r&&(z.shapeFlag|=isString$2(r)?8:16),isBlockTreeEnabled>0&&!L&&currentBlock&&(z.patchFlag>0||$&6)&&z.patchFlag!==32&&currentBlock.push(z),z}const createVNode$1=_createVNode;function _createVNode(t,n=null,r=null,g=0,y=null,$=!1){if((!t||t===NULL_DYNAMIC_COMPONENT)&&(t=Comment),isVNode(t)){const V=cloneVNode(t,n,!0);return r&&normalizeChildren(V,r),isBlockTreeEnabled>0&&!$&&currentBlock&&(V.shapeFlag&6?currentBlock[currentBlock.indexOf(t)]=V:currentBlock.push(V)),V.patchFlag=-2,V}if(isClassComponent(t)&&(t=t.__vccOpts),n){n=guardReactiveProps(n);let{class:V,style:z}=n;V&&!isString$2(V)&&(n.class=normalizeClass(V)),isObject$5(z)&&(isProxy(z)&&!isArray$4(z)&&(z=extend$1({},z)),n.style=normalizeStyle$1(z))}const L=isString$2(t)?1:isSuspense(t)?128:isTeleport(t)?64:isObject$5(t)?4:isFunction$3(t)?2:0;return createBaseVNode(t,n,r,g,y,L,$,!0)}function guardReactiveProps(t){return t?isProxy(t)||isInternalObject(t)?extend$1({},t):t:null}function cloneVNode(t,n,r=!1,g=!1){const{props:y,ref:$,patchFlag:L,children:V,transition:z}=t,j=n?mergeProps(y||{},n):y,re={__v_isVNode:!0,__v_skip:!0,type:t.type,props:j,key:j&&normalizeKey(j),ref:n&&n.ref?r&&$?isArray$4($)?$.concat(normalizeRef(n)):[$,normalizeRef(n)]:normalizeRef(n):$,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:V,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Fragment?L===-1?16:L|16:L,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:z,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&cloneVNode(t.ssContent),ssFallback:t.ssFallback&&cloneVNode(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return z&&g&&setTransitionHooks(re,z.clone(re)),re}function createTextVNode(t=" ",n=0){return createVNode$1(Text$1,null,t,n)}function createStaticVNode(t,n){const r=createVNode$1(Static,null,t);return r.staticCount=n,r}function createCommentVNode(t="",n=!1){return n?(openBlock(),createBlock(Comment,null,t)):createVNode$1(Comment,null,t)}function normalizeVNode(t){return t==null||typeof t=="boolean"?createVNode$1(Comment):isArray$4(t)?createVNode$1(Fragment,null,t.slice()):isVNode(t)?cloneIfMounted(t):createVNode$1(Text$1,null,String(t))}function cloneIfMounted(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:cloneVNode(t)}function normalizeChildren(t,n){let r=0;const{shapeFlag:g}=t;if(n==null)n=null;else if(isArray$4(n))r=16;else if(typeof n=="object")if(g&65){const y=n.default;y&&(y._c&&(y._d=!1),normalizeChildren(t,y()),y._c&&(y._d=!0));return}else{r=32;const y=n._;!y&&!isInternalObject(n)?n._ctx=currentRenderingInstance:y===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else isFunction$3(n)?(n={default:n,_ctx:currentRenderingInstance},r=32):(n=String(n),g&64?(r=16,n=[createTextVNode(n)]):r=8);t.children=n,t.shapeFlag|=r}function mergeProps(...t){const n={};for(let r=0;r<t.length;r++){const g=t[r];for(const y in g)if(y==="class")n.class!==g.class&&(n.class=normalizeClass([n.class,g.class]));else if(y==="style")n.style=normalizeStyle$1([n.style,g.style]);else if(isOn(y)){const $=n[y],L=g[y];L&&$!==L&&!(isArray$4($)&&$.includes(L))&&(n[y]=$?[].concat($,L):L)}else y!==""&&(n[y]=g[y])}return n}function invokeVNodeHook(t,n,r,g=null){callWithAsyncErrorHandling(t,n,7,[r,g])}const emptyAppContext=createAppContext();let uid$2=0;function createComponentInstance(t,n,r){const g=t.type,y=(n?n.appContext:t.appContext)||emptyAppContext,$={uid:uid$2++,vnode:t,type:g,parent:n,appContext:y,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(y.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(g,y),emitsOptions:normalizeEmitsOptions(g,y),emit:null,emitted:null,propsDefaults:EMPTY_OBJ$1,inheritAttrs:g.inheritAttrs,ctx:EMPTY_OBJ$1,data:EMPTY_OBJ$1,props:EMPTY_OBJ$1,attrs:EMPTY_OBJ$1,slots:EMPTY_OBJ$1,refs:EMPTY_OBJ$1,setupState:EMPTY_OBJ$1,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return $.ctx={_:$},$.root=n?n.root:$,$.emit=emit.bind(null,$),t.ce&&t.ce($),$}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance;let internalSetCurrentInstance,setInSSRSetupState;{const t=getGlobalThis(),n=(r,g)=>{let y;return(y=t[r])||(y=t[r]=[]),y.push(g),$=>{y.length>1?y.forEach(L=>L($)):y[0]($)}};internalSetCurrentInstance=n("__VUE_INSTANCE_SETTERS__",r=>currentInstance=r),setInSSRSetupState=n("__VUE_SSR_SETTERS__",r=>isInSSRComponentSetup=r)}const setCurrentInstance=t=>{const n=currentInstance;return internalSetCurrentInstance(t),t.scope.on(),()=>{t.scope.off(),internalSetCurrentInstance(n)}},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(t){return t.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(t,n=!1,r=!1){n&&setInSSRSetupState(n);const{props:g,children:y}=t.vnode,$=isStatefulComponent(t);initProps$1(t,g,$,n),initSlots(t,y,r||n);const L=$?setupStatefulComponent(t,n):void 0;return n&&setInSSRSetupState(!1),L}function setupStatefulComponent(t,n){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,PublicInstanceProxyHandlers);const{setup:g}=r;if(g){pauseTracking();const y=t.setupContext=g.length>1?createSetupContext(t):null,$=setCurrentInstance(t),L=callWithErrorHandling(g,t,0,[t.props,y]),V=isPromise(L);if(resetTracking(),$(),(V||t.sp)&&!isAsyncWrapper(t)&&markAsyncBoundary(t),V){if(L.then(unsetCurrentInstance,unsetCurrentInstance),n)return L.then(z=>{handleSetupResult(t,z)}).catch(z=>{handleError(z,t,0)});t.asyncDep=L}else handleSetupResult(t,L)}else finishComponentSetup(t)}function handleSetupResult(t,n,r){isFunction$3(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:isObject$5(n)&&(t.setupState=proxyRefs(n)),finishComponentSetup(t)}function finishComponentSetup(t,n,r){const g=t.type;t.render||(t.render=g.render||NOOP);{const y=setCurrentInstance(t);pauseTracking();try{applyOptions(t)}finally{resetTracking(),y()}}}const attrsProxyHandlers={get(t,n){return track(t,"get",""),t[n]}};function createSetupContext(t){const n=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,attrsProxyHandlers),slots:t.slots,emit:t.emit,expose:n}}function getComponentPublicInstance(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(proxyRefs(markRaw(t.exposed)),{get(n,r){if(r in n)return n[r];if(r in publicPropertiesMap)return publicPropertiesMap[r](t)},has(n,r){return r in n||r in publicPropertiesMap}})):t.proxy}const classifyRE=/(?:^|[-_])(\w)/g,classify=t=>t.replace(classifyRE,n=>n.toUpperCase()).replace(/[-_]/g,"");function getComponentName(t,n=!0){return isFunction$3(t)?t.displayName||t.name:t.name||n&&t.__name}function formatComponentName(t,n,r=!1){let g=getComponentName(n);if(!g&&n.__file){const y=n.__file.match(/([^/\\]+)\.\w+$/);y&&(g=y[1])}if(!g&&t&&t.parent){const y=$=>{for(const L in $)if($[L]===n)return L};g=y(t.components||t.parent.type.components)||y(t.appContext.components)}return g?classify(g):r?"App":"Anonymous"}function isClassComponent(t){return isFunction$3(t)&&"__vccOpts"in t}const computed=(t,n)=>computed$1(t,n,isInSSRComponentSetup);function h$1(t,n,r){const g=arguments.length;return g===2?isObject$5(n)&&!isArray$4(n)?isVNode(n)?createVNode$1(t,null,[n]):createVNode$1(t,n):createVNode$1(t,null,n):(g>3?r=Array.prototype.slice.call(arguments,2):g===3&&isVNode(r)&&(r=[r]),createVNode$1(t,n,r))}const version="3.5.16",warn=NOOP;/**
* @vue/runtime-dom v3.5.16
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let policy;const tt$1=typeof window<"u"&&window.trustedTypes;if(tt$1)try{policy=tt$1.createPolicy("vue",{createHTML:t=>t})}catch{}const unsafeToTrustedHTML=policy?t=>policy.createHTML(t):t=>t,svgNS="http://www.w3.org/2000/svg",mathmlNS="http://www.w3.org/1998/Math/MathML",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(t,n,r)=>{n.insertBefore(t,r||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,r,g)=>{const y=n==="svg"?doc.createElementNS(svgNS,t):n==="mathml"?doc.createElementNS(mathmlNS,t):r?doc.createElement(t,{is:r}):doc.createElement(t);return t==="select"&&g&&g.multiple!=null&&y.setAttribute("multiple",g.multiple),y},createText:t=>doc.createTextNode(t),createComment:t=>doc.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>doc.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,r,g,y,$){const L=r?r.previousSibling:n.lastChild;if(y&&(y===$||y.nextSibling))for(;n.insertBefore(y.cloneNode(!0),r),!(y===$||!(y=y.nextSibling)););else{templateContainer.innerHTML=unsafeToTrustedHTML(g==="svg"?`<svg>${t}</svg>`:g==="mathml"?`<math>${t}</math>`:t);const V=templateContainer.content;if(g==="svg"||g==="mathml"){const z=V.firstChild;for(;z.firstChild;)V.appendChild(z.firstChild);V.removeChild(z)}n.insertBefore(V,r)}return[L?L.nextSibling:n.firstChild,r?r.previousSibling:n.lastChild]}},TRANSITION="transition",ANIMATION="animation",vtcKey=Symbol("_vtc"),DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=extend$1({},BaseTransitionPropsValidators,DOMTransitionPropsValidators),decorate$1=t=>(t.displayName="Transition",t.props=TransitionPropsValidators,t),Transition=decorate$1((t,{slots:n})=>h$1(BaseTransition,resolveTransitionProps(t),n)),callHook=(t,n=[])=>{isArray$4(t)?t.forEach(r=>r(...n)):t&&t(...n)},hasExplicitCallback=t=>t?isArray$4(t)?t.some(n=>n.length>1):t.length>1:!1;function resolveTransitionProps(t){const n={};for(const ze in t)ze in DOMTransitionPropsValidators||(n[ze]=t[ze]);if(t.css===!1)return n;const{name:r="v",type:g,duration:y,enterFromClass:$=`${r}-enter-from`,enterActiveClass:L=`${r}-enter-active`,enterToClass:V=`${r}-enter-to`,appearFromClass:z=$,appearActiveClass:j=L,appearToClass:re=V,leaveFromClass:ae=`${r}-leave-from`,leaveActiveClass:oe=`${r}-leave-active`,leaveToClass:ie=`${r}-leave-to`}=t,le=normalizeDuration(y),ue=le&&le[0],de=le&&le[1],{onBeforeEnter:he,onEnter:pe,onEnterCancelled:_e,onLeave:Ce,onLeaveCancelled:xe,onBeforeAppear:Ie=he,onAppear:$e=pe,onAppearCancelled:Oe=_e}=n,Ne=(ze,Et,Dt,Ue)=>{ze._enterCancelled=Ue,removeTransitionClass(ze,Et?re:V),removeTransitionClass(ze,Et?j:L),Dt&&Dt()},Fe=(ze,Et)=>{ze._isLeaving=!1,removeTransitionClass(ze,ae),removeTransitionClass(ze,ie),removeTransitionClass(ze,oe),Et&&Et()},Ve=ze=>(Et,Dt)=>{const Ue=ze?$e:pe,qe=()=>Ne(Et,ze,Dt);callHook(Ue,[Et,qe]),nextFrame(()=>{removeTransitionClass(Et,ze?z:$),addTransitionClass(Et,ze?re:V),hasExplicitCallback(Ue)||whenTransitionEnds(Et,g,ue,qe)})};return extend$1(n,{onBeforeEnter(ze){callHook(he,[ze]),addTransitionClass(ze,$),addTransitionClass(ze,L)},onBeforeAppear(ze){callHook(Ie,[ze]),addTransitionClass(ze,z),addTransitionClass(ze,j)},onEnter:Ve(!1),onAppear:Ve(!0),onLeave(ze,Et){ze._isLeaving=!0;const Dt=()=>Fe(ze,Et);addTransitionClass(ze,ae),ze._enterCancelled?(addTransitionClass(ze,oe),forceReflow()):(forceReflow(),addTransitionClass(ze,oe)),nextFrame(()=>{ze._isLeaving&&(removeTransitionClass(ze,ae),addTransitionClass(ze,ie),hasExplicitCallback(Ce)||whenTransitionEnds(ze,g,de,Dt))}),callHook(Ce,[ze,Dt])},onEnterCancelled(ze){Ne(ze,!1,void 0,!0),callHook(_e,[ze])},onAppearCancelled(ze){Ne(ze,!0,void 0,!0),callHook(Oe,[ze])},onLeaveCancelled(ze){Fe(ze),callHook(xe,[ze])}})}function normalizeDuration(t){if(t==null)return null;if(isObject$5(t))return[NumberOf(t.enter),NumberOf(t.leave)];{const n=NumberOf(t);return[n,n]}}function NumberOf(t){return toNumber$1(t)}function addTransitionClass(t,n){n.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[vtcKey]||(t[vtcKey]=new Set)).add(n)}function removeTransitionClass(t,n){n.split(/\s+/).forEach(g=>g&&t.classList.remove(g));const r=t[vtcKey];r&&(r.delete(n),r.size||(t[vtcKey]=void 0))}function nextFrame(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let endId=0;function whenTransitionEnds(t,n,r,g){const y=t._endId=++endId,$=()=>{y===t._endId&&g()};if(r!=null)return setTimeout($,r);const{type:L,timeout:V,propCount:z}=getTransitionInfo(t,n);if(!L)return g();const j=L+"end";let re=0;const ae=()=>{t.removeEventListener(j,oe),$()},oe=ie=>{ie.target===t&&++re>=z&&ae()};setTimeout(()=>{re<z&&ae()},V+1),t.addEventListener(j,oe)}function getTransitionInfo(t,n){const r=window.getComputedStyle(t),g=le=>(r[le]||"").split(", "),y=g(`${TRANSITION}Delay`),$=g(`${TRANSITION}Duration`),L=getTimeout(y,$),V=g(`${ANIMATION}Delay`),z=g(`${ANIMATION}Duration`),j=getTimeout(V,z);let re=null,ae=0,oe=0;n===TRANSITION?L>0&&(re=TRANSITION,ae=L,oe=$.length):n===ANIMATION?j>0&&(re=ANIMATION,ae=j,oe=z.length):(ae=Math.max(L,j),re=ae>0?L>j?TRANSITION:ANIMATION:null,oe=re?re===TRANSITION?$.length:z.length:0);const ie=re===TRANSITION&&/\b(transform|all)(,|$)/.test(g(`${TRANSITION}Property`).toString());return{type:re,timeout:ae,propCount:oe,hasTransform:ie}}function getTimeout(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((r,g)=>toMs(r)+toMs(t[g])))}function toMs(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}function patchClass(t,n,r){const g=t[vtcKey];g&&(n=(n?[n,...g]:[...g]).join(" ")),n==null?t.removeAttribute("class"):r?t.setAttribute("class",n):t.className=n}const vShowOriginalDisplay=Symbol("_vod"),vShowHidden=Symbol("_vsh"),vShow={beforeMount(t,{value:n},{transition:r}){t[vShowOriginalDisplay]=t.style.display==="none"?"":t.style.display,r&&n?r.beforeEnter(t):setDisplay(t,n)},mounted(t,{value:n},{transition:r}){r&&n&&r.enter(t)},updated(t,{value:n,oldValue:r},{transition:g}){!n!=!r&&(g?n?(g.beforeEnter(t),setDisplay(t,!0),g.enter(t)):g.leave(t,()=>{setDisplay(t,!1)}):setDisplay(t,n))},beforeUnmount(t,{value:n}){setDisplay(t,n)}};function setDisplay(t,n){t.style.display=n?t[vShowOriginalDisplay]:"none",t[vShowHidden]=!n}const CSS_VAR_TEXT=Symbol(""),displayRE=/(^|;)\s*display\s*:/;function patchStyle(t,n,r){const g=t.style,y=isString$2(r);let $=!1;if(r&&!y){if(n)if(isString$2(n))for(const L of n.split(";")){const V=L.slice(0,L.indexOf(":")).trim();r[V]==null&&setStyle$1(g,V,"")}else for(const L in n)r[L]==null&&setStyle$1(g,L,"");for(const L in r)L==="display"&&($=!0),setStyle$1(g,L,r[L])}else if(y){if(n!==r){const L=g[CSS_VAR_TEXT];L&&(r+=";"+L),g.cssText=r,$=displayRE.test(r)}}else n&&t.removeAttribute("style");vShowOriginalDisplay in t&&(t[vShowOriginalDisplay]=$?g.display:"",t[vShowHidden]&&(g.display="none"))}const importantRE=/\s*!important$/;function setStyle$1(t,n,r){if(isArray$4(r))r.forEach(g=>setStyle$1(t,n,g));else if(r==null&&(r=""),n.startsWith("--"))t.setProperty(n,r);else{const g=autoPrefix(t,n);importantRE.test(r)?t.setProperty(hyphenate(g),r.replace(importantRE,""),"important"):t[g]=r}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(t,n){const r=prefixCache[n];if(r)return r;let g=camelize(n);if(g!=="filter"&&g in t)return prefixCache[n]=g;g=capitalize$1(g);for(let y=0;y<prefixes.length;y++){const $=prefixes[y]+g;if($ in t)return prefixCache[n]=$}return n}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(t,n,r,g,y,$=isSpecialBooleanAttr(n)){g&&n.startsWith("xlink:")?r==null?t.removeAttributeNS(xlinkNS,n.slice(6,n.length)):t.setAttributeNS(xlinkNS,n,r):r==null||$&&!includeBooleanAttr(r)?t.removeAttribute(n):t.setAttribute(n,$?"":isSymbol$1(r)?String(r):r)}function patchDOMProp(t,n,r,g,y){if(n==="innerHTML"||n==="textContent"){r!=null&&(t[n]=n==="innerHTML"?unsafeToTrustedHTML(r):r);return}const $=t.tagName;if(n==="value"&&$!=="PROGRESS"&&!$.includes("-")){const V=$==="OPTION"?t.getAttribute("value")||"":t.value,z=r==null?t.type==="checkbox"?"on":"":String(r);(V!==z||!("_value"in t))&&(t.value=z),r==null&&t.removeAttribute(n),t._value=r;return}let L=!1;if(r===""||r==null){const V=typeof t[n];V==="boolean"?r=includeBooleanAttr(r):r==null&&V==="string"?(r="",L=!0):V==="number"&&(r=0,L=!0)}try{t[n]=r}catch{}L&&t.removeAttribute(y||n)}function addEventListener$1(t,n,r,g){t.addEventListener(n,r,g)}function removeEventListener$1(t,n,r,g){t.removeEventListener(n,r,g)}const veiKey=Symbol("_vei");function patchEvent(t,n,r,g,y=null){const $=t[veiKey]||(t[veiKey]={}),L=$[n];if(g&&L)L.value=g;else{const[V,z]=parseName(n);if(g){const j=$[n]=createInvoker(g,y);addEventListener$1(t,V,j,z)}else L&&(removeEventListener$1(t,V,L,z),$[n]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(t){let n;if(optionsModifierRE.test(t)){n={};let g;for(;g=t.match(optionsModifierRE);)t=t.slice(0,t.length-g[0].length),n[g[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):hyphenate(t.slice(2)),n]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(t,n){const r=g=>{if(!g._vts)g._vts=Date.now();else if(g._vts<=r.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(g,r.value),n,5,[g])};return r.value=t,r.attached=getNow(),r}function patchStopImmediatePropagation(t,n){if(isArray$4(n)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},n.map(g=>y=>!y._stopped&&g&&g(y))}else return n}const isNativeOn=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,patchProp=(t,n,r,g,y,$)=>{const L=y==="svg";n==="class"?patchClass(t,g,L):n==="style"?patchStyle(t,r,g):isOn(n)?isModelListener(n)||patchEvent(t,n,r,g,$):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):shouldSetAsProp(t,n,g,L))?(patchDOMProp(t,n,g),!t.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&patchAttr(t,n,g,L,$,n!=="value")):t._isVueCE&&(/[A-Z]/.test(n)||!isString$2(g))?patchDOMProp(t,camelize(n),g,$,n):(n==="true-value"?t._trueValue=g:n==="false-value"&&(t._falseValue=g),patchAttr(t,n,g,L))};function shouldSetAsProp(t,n,r,g){if(g)return!!(n==="innerHTML"||n==="textContent"||n in t&&isNativeOn(n)&&isFunction$3(r));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const y=t.tagName;if(y==="IMG"||y==="VIDEO"||y==="CANVAS"||y==="SOURCE")return!1}return isNativeOn(n)&&isString$2(r)?!1:n in t}const positionMap=new WeakMap,newPositionMap=new WeakMap,moveCbKey=Symbol("_moveCb"),enterCbKey=Symbol("_enterCb"),decorate=t=>(delete t.props.mode,t),TransitionGroupImpl=decorate({name:"TransitionGroup",props:extend$1({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(t,{slots:n}){const r=getCurrentInstance(),g=useTransitionState();let y,$;return onUpdated(()=>{if(!y.length)return;const L=t.moveClass||`${t.name||"v"}-move`;if(!hasCSSTransform(y[0].el,r.vnode.el,L)){y=[];return}y.forEach(callPendingCbs),y.forEach(recordPosition);const V=y.filter(applyTranslation);forceReflow(),V.forEach(z=>{const j=z.el,re=j.style;addTransitionClass(j,L),re.transform=re.webkitTransform=re.transitionDuration="";const ae=j[moveCbKey]=oe=>{oe&&oe.target!==j||(!oe||/transform$/.test(oe.propertyName))&&(j.removeEventListener("transitionend",ae),j[moveCbKey]=null,removeTransitionClass(j,L))};j.addEventListener("transitionend",ae)}),y=[]}),()=>{const L=toRaw(t),V=resolveTransitionProps(L);let z=L.tag||Fragment;if(y=[],$)for(let j=0;j<$.length;j++){const re=$[j];re.el&&re.el instanceof Element&&(y.push(re),setTransitionHooks(re,resolveTransitionHooks(re,V,g,r)),positionMap.set(re,re.el.getBoundingClientRect()))}$=n.default?getTransitionRawChildren(n.default()):[];for(let j=0;j<$.length;j++){const re=$[j];re.key!=null&&setTransitionHooks(re,resolveTransitionHooks(re,V,g,r))}return createVNode$1(z,null,$)}}}),TransitionGroup=TransitionGroupImpl;function callPendingCbs(t){const n=t.el;n[moveCbKey]&&n[moveCbKey](),n[enterCbKey]&&n[enterCbKey]()}function recordPosition(t){newPositionMap.set(t,t.el.getBoundingClientRect())}function applyTranslation(t){const n=positionMap.get(t),r=newPositionMap.get(t),g=n.left-r.left,y=n.top-r.top;if(g||y){const $=t.el.style;return $.transform=$.webkitTransform=`translate(${g}px,${y}px)`,$.transitionDuration="0s",t}}function hasCSSTransform(t,n,r){const g=t.cloneNode(),y=t[vtcKey];y&&y.forEach(V=>{V.split(/\s+/).forEach(z=>z&&g.classList.remove(z))}),r.split(/\s+/).forEach(V=>V&&g.classList.add(V)),g.style.display="none";const $=n.nodeType===1?n:n.parentNode;$.appendChild(g);const{hasTransform:L}=getTransitionInfo(g);return $.removeChild(g),L}const getModelAssigner=t=>{const n=t.props["onUpdate:modelValue"]||!1;return isArray$4(n)?r=>invokeArrayFns(n,r):n};function onCompositionStart(t){t.target.composing=!0}function onCompositionEnd(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const assignKey=Symbol("_assign"),vModelText={created(t,{modifiers:{lazy:n,trim:r,number:g}},y){t[assignKey]=getModelAssigner(y);const $=g||y.props&&y.props.type==="number";addEventListener$1(t,n?"change":"input",L=>{if(L.target.composing)return;let V=t.value;r&&(V=V.trim()),$&&(V=looseToNumber(V)),t[assignKey](V)}),r&&addEventListener$1(t,"change",()=>{t.value=t.value.trim()}),n||(addEventListener$1(t,"compositionstart",onCompositionStart),addEventListener$1(t,"compositionend",onCompositionEnd),addEventListener$1(t,"change",onCompositionEnd))},mounted(t,{value:n}){t.value=n??""},beforeUpdate(t,{value:n,oldValue:r,modifiers:{lazy:g,trim:y,number:$}},L){if(t[assignKey]=getModelAssigner(L),t.composing)return;const V=($||t.type==="number")&&!/^0\d/.test(t.value)?looseToNumber(t.value):t.value,z=n??"";V!==z&&(document.activeElement===t&&t.type!=="range"&&(g&&n===r||y&&t.value.trim()===z)||(t.value=z))}},vModelCheckbox={deep:!0,created(t,n,r){t[assignKey]=getModelAssigner(r),addEventListener$1(t,"change",()=>{const g=t._modelValue,y=getValue$2(t),$=t.checked,L=t[assignKey];if(isArray$4(g)){const V=looseIndexOf(g,y),z=V!==-1;if($&&!z)L(g.concat(y));else if(!$&&z){const j=[...g];j.splice(V,1),L(j)}}else if(isSet$1(g)){const V=new Set(g);$?V.add(y):V.delete(y),L(V)}else L(getCheckboxValue(t,$))})},mounted:setChecked,beforeUpdate(t,n,r){t[assignKey]=getModelAssigner(r),setChecked(t,n,r)}};function setChecked(t,{value:n,oldValue:r},g){t._modelValue=n;let y;if(isArray$4(n))y=looseIndexOf(n,g.props.value)>-1;else if(isSet$1(n))y=n.has(g.props.value);else{if(n===r)return;y=looseEqual(n,getCheckboxValue(t,!0))}t.checked!==y&&(t.checked=y)}const vModelRadio={created(t,{value:n},r){t.checked=looseEqual(n,r.props.value),t[assignKey]=getModelAssigner(r),addEventListener$1(t,"change",()=>{t[assignKey](getValue$2(t))})},beforeUpdate(t,{value:n,oldValue:r},g){t[assignKey]=getModelAssigner(g),n!==r&&(t.checked=looseEqual(n,g.props.value))}};function getValue$2(t){return"_value"in t?t._value:t.value}function getCheckboxValue(t,n){const r=n?"_trueValue":"_falseValue";return r in t?t[r]:n}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>systemModifiers.some(r=>t[`${r}Key`]&&!n.includes(r))},withModifiers=(t,n)=>{const r=t._withMods||(t._withMods={}),g=n.join(".");return r[g]||(r[g]=(y,...$)=>{for(let L=0;L<n.length;L++){const V=modifierGuards[n[L]];if(V&&V(y,n))return}return t(y,...$)})},keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=(t,n)=>{const r=t._withKeys||(t._withKeys={}),g=n.join(".");return r[g]||(r[g]=y=>{if(!("key"in y))return;const $=hyphenate(y.key);if(n.some(L=>L===$||keyNames[L]===$))return t(y)})},rendererOptions=extend$1({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$1=(...t)=>{ensureRenderer().render(...t)},createApp=(...t)=>{const n=ensureRenderer().createApp(...t),{mount:r}=n;return n.mount=g=>{const y=normalizeContainer(g);if(!y)return;const $=n._component;!isFunction$3($)&&!$.render&&!$.template&&($.template=y.innerHTML),y.nodeType===1&&(y.textContent="");const L=r(y,!1,resolveRootNamespace(y));return y instanceof Element&&(y.removeAttribute("v-cloak"),y.setAttribute("data-v-app","")),L},n};function resolveRootNamespace(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function normalizeContainer(t){return isString$2(t)?document.querySelector(t):t}const configProviderContextKey=Symbol(),defaultNamespace="el",statePrefix="is-",_bem=(t,n,r,g,y)=>{let $=`${t}-${n}`;return r&&($+=`-${r}`),g&&($+=`__${g}`),y&&($+=`--${y}`),$},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=t=>{const n=t||(getCurrentInstance()?inject(namespaceContextKey,ref(defaultNamespace)):ref(defaultNamespace));return computed(()=>unref(n)||defaultNamespace)},useNamespace=(t,n)=>{const r=useGetDerivedNamespace(n);return{namespace:r,b:(ue="")=>_bem(r.value,t,ue,"",""),e:ue=>ue?_bem(r.value,t,"",ue,""):"",m:ue=>ue?_bem(r.value,t,"","",ue):"",be:(ue,de)=>ue&&de?_bem(r.value,t,ue,de,""):"",em:(ue,de)=>ue&&de?_bem(r.value,t,"",ue,de):"",bm:(ue,de)=>ue&&de?_bem(r.value,t,ue,"",de):"",bem:(ue,de,he)=>ue&&de&&he?_bem(r.value,t,ue,de,he):"",is:(ue,...de)=>{const he=de.length>=1?de[0]:!0;return ue&&he?`${statePrefix}${ue}`:""},cssVar:ue=>{const de={};for(const he in ue)ue[he]&&(de[`--${r.value}-${he}`]=ue[he]);return de},cssVarName:ue=>`--${r.value}-${ue}`,cssVarBlock:ue=>{const de={};for(const he in ue)ue[he]&&(de[`--${r.value}-${t}-${he}`]=ue[he]);return de},cssVarBlockName:ue=>`--${r.value}-${t}-${ue}`}};var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),Symbol$2=root.Symbol,objectProto$f=Object.prototype,hasOwnProperty$c=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(t){var n=hasOwnProperty$c.call(t,symToStringTag$1),r=t[symToStringTag$1];try{t[symToStringTag$1]=void 0;var g=!0}catch{}var y=nativeObjectToString$1.call(t);return g&&(n?t[symToStringTag$1]=r:delete t[symToStringTag$1]),y}var objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString(t){return nativeObjectToString.call(t)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(t){return t==null?t===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(t)?getRawTag(t):objectToString(t)}function isObjectLike(t){return t!=null&&typeof t=="object"}var symbolTag$3="[object Symbol]";function isSymbol(t){return typeof t=="symbol"||isObjectLike(t)&&baseGetTag(t)==symbolTag$3}function arrayMap(t,n){for(var r=-1,g=t==null?0:t.length,y=Array(g);++r<g;)y[r]=n(t[r],r,t);return y}var isArray$3=Array.isArray,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(t){if(typeof t=="string")return t;if(isArray$3(t))return arrayMap(t,baseToString)+"";if(isSymbol(t))return symbolToString?symbolToString.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}var reWhitespace=/\s/;function trimmedEndIndex(t){for(var n=t.length;n--&&reWhitespace.test(t.charAt(n)););return n}var reTrimStart=/^\s+/;function baseTrim(t){return t&&t.slice(0,trimmedEndIndex(t)+1).replace(reTrimStart,"")}function isObject$4(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}var NAN=NaN,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(t){if(typeof t=="number")return t;if(isSymbol(t))return NAN;if(isObject$4(t)){var n=typeof t.valueOf=="function"?t.valueOf():t;t=isObject$4(n)?n+"":n}if(typeof t!="string")return t===0?t:+t;t=baseTrim(t);var r=reIsBinary.test(t);return r||reIsOctal.test(t)?freeParseInt(t.slice(2),r?2:8):reIsBadHex.test(t)?NAN:+t}function identity$2(t){return t}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(t){if(!isObject$4(t))return!1;var n=baseGetTag(t);return n==funcTag$2||n==genTag$1||n==asyncTag||n==proxyTag}var coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var t=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function isMasked(t){return!!maskSrcKey&&maskSrcKey in t}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(t){if(t!=null){try{return funcToString$2.call(t)}catch{}try{return t+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$b=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$b).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(t){if(!isObject$4(t)||isMasked(t))return!1;var n=isFunction$2(t)?reIsNative:reIsHostCtor;return n.test(toSource(t))}function getValue$1(t,n){return t==null?void 0:t[n]}function getNative(t,n){var r=getValue$1(t,n);return baseIsNative(r)?r:void 0}var WeakMap$2=getNative(root,"WeakMap"),objectCreate=Object.create,baseCreate=function(){function t(){}return function(n){if(!isObject$4(n))return{};if(objectCreate)return objectCreate(n);t.prototype=n;var r=new t;return t.prototype=void 0,r}}();function apply(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function noop$3(){}function copyArray(t,n){var r=-1,g=t.length;for(n||(n=Array(g));++r<g;)n[r]=t[r];return n}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(t){var n=0,r=0;return function(){var g=nativeNow(),y=HOT_SPAN-(g-r);if(r=g,y>0){if(++n>=HOT_COUNT)return arguments[0]}else n=0;return t.apply(void 0,arguments)}}function constant(t){return function(){return t}}var defineProperty=function(){try{var t=getNative(Object,"defineProperty");return t({},"",{}),t}catch{}}(),baseSetToString=defineProperty?function(t,n){return defineProperty(t,"toString",{configurable:!0,enumerable:!1,value:constant(n),writable:!0})}:identity$2,setToString=shortOut(baseSetToString);function arrayEach(t,n){for(var r=-1,g=t==null?0:t.length;++r<g&&n(t[r],r,t)!==!1;);return t}function baseFindIndex(t,n,r,g){for(var y=t.length,$=r+(g?1:-1);g?$--:++$<y;)if(n(t[$],$,t))return $;return-1}function baseIsNaN(t){return t!==t}function strictIndexOf(t,n,r){for(var g=r-1,y=t.length;++g<y;)if(t[g]===n)return g;return-1}function baseIndexOf(t,n,r){return n===n?strictIndexOf(t,n,r):baseFindIndex(t,baseIsNaN,r)}function arrayIncludes(t,n){var r=t==null?0:t.length;return!!r&&baseIndexOf(t,n,0)>-1}var MAX_SAFE_INTEGER$2=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(t,n){var r=typeof t;return n=n??MAX_SAFE_INTEGER$2,!!n&&(r=="number"||r!="symbol"&&reIsUint.test(t))&&t>-1&&t%1==0&&t<n}function baseAssignValue(t,n,r){n=="__proto__"&&defineProperty?defineProperty(t,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[n]=r}function eq(t,n){return t===n||t!==t&&n!==n}var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty;function assignValue(t,n,r){var g=t[n];(!(hasOwnProperty$a.call(t,n)&&eq(g,r))||r===void 0&&!(n in t))&&baseAssignValue(t,n,r)}function copyObject(t,n,r,g){var y=!r;r||(r={});for(var $=-1,L=n.length;++$<L;){var V=n[$],z=void 0;z===void 0&&(z=t[V]),y?baseAssignValue(r,V,z):assignValue(r,V,z)}return r}var nativeMax$1=Math.max;function overRest(t,n,r){return n=nativeMax$1(n===void 0?t.length-1:n,0),function(){for(var g=arguments,y=-1,$=nativeMax$1(g.length-n,0),L=Array($);++y<$;)L[y]=g[n+y];y=-1;for(var V=Array(n+1);++y<n;)V[y]=g[y];return V[n]=r(L),apply(t,this,V)}}function baseRest(t,n){return setToString(overRest(t,n,identity$2),t+"")}var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=MAX_SAFE_INTEGER$1}function isArrayLike$1(t){return t!=null&&isLength(t.length)&&!isFunction$2(t)}function isIterateeCall(t,n,r){if(!isObject$4(r))return!1;var g=typeof n;return(g=="number"?isArrayLike$1(r)&&isIndex(n,r.length):g=="string"&&n in r)?eq(r[n],t):!1}function createAssigner(t){return baseRest(function(n,r){var g=-1,y=r.length,$=y>1?r[y-1]:void 0,L=y>2?r[2]:void 0;for($=t.length>3&&typeof $=="function"?(y--,$):void 0,L&&isIterateeCall(r[0],r[1],L)&&($=y<3?void 0:$,y=1),n=Object(n);++g<y;){var V=r[g];V&&t(n,V,g,$)}return n})}var objectProto$b=Object.prototype;function isPrototype(t){var n=t&&t.constructor,r=typeof n=="function"&&n.prototype||objectProto$b;return t===r}function baseTimes(t,n){for(var r=-1,g=Array(t);++r<t;)g[r]=n(r);return g}var argsTag$3="[object Arguments]";function baseIsArguments(t){return isObjectLike(t)&&baseGetTag(t)==argsTag$3}var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(t){return isObjectLike(t)&&hasOwnProperty$9.call(t,"callee")&&!propertyIsEnumerable$1.call(t,"callee")};function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$5="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$5]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$5]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(t){return isObjectLike(t)&&isLength(t.length)&&!!typedArrayTags[baseGetTag(t)]}function baseUnary(t){return function(n){return t(n)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal.process,nodeUtil=function(){try{var t=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return t||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$1=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function arrayLikeKeys(t,n){var r=isArray$3(t),g=!r&&isArguments(t),y=!r&&!g&&isBuffer(t),$=!r&&!g&&!y&&isTypedArray$1(t),L=r||g||y||$,V=L?baseTimes(t.length,String):[],z=V.length;for(var j in t)(n||hasOwnProperty$8.call(t,j))&&!(L&&(j=="length"||y&&(j=="offset"||j=="parent")||$&&(j=="buffer"||j=="byteLength"||j=="byteOffset")||isIndex(j,z)))&&V.push(j);return V}function overArg(t,n){return function(r){return t(n(r))}}var nativeKeys=overArg(Object.keys,Object),objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeys(t){if(!isPrototype(t))return nativeKeys(t);var n=[];for(var r in Object(t))hasOwnProperty$7.call(t,r)&&r!="constructor"&&n.push(r);return n}function keys$1(t){return isArrayLike$1(t)?arrayLikeKeys(t):baseKeys(t)}function nativeKeysIn(t){var n=[];if(t!=null)for(var r in Object(t))n.push(r);return n}var objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function baseKeysIn(t){if(!isObject$4(t))return nativeKeysIn(t);var n=isPrototype(t),r=[];for(var g in t)g=="constructor"&&(n||!hasOwnProperty$6.call(t,g))||r.push(g);return r}function keysIn(t){return isArrayLike$1(t)?arrayLikeKeys(t,!0):baseKeysIn(t)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(t,n){if(isArray$3(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||isSymbol(t)?!0:reIsPlainProp.test(t)||!reIsDeepProp.test(t)||n!=null&&t in Object(n)}var nativeCreate=getNative(Object,"create");function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0}function hashDelete(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$6=Object.prototype,hasOwnProperty$5=objectProto$6.hasOwnProperty;function hashGet(t){var n=this.__data__;if(nativeCreate){var r=n[t];return r===HASH_UNDEFINED$2?void 0:r}return hasOwnProperty$5.call(n,t)?n[t]:void 0}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty;function hashHas(t){var n=this.__data__;return nativeCreate?n[t]!==void 0:hasOwnProperty$4.call(n,t)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(t,n){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=nativeCreate&&n===void 0?HASH_UNDEFINED$1:n,this}function Hash(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var g=t[n];this.set(g[0],g[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function assocIndexOf(t,n){for(var r=t.length;r--;)if(eq(t[r][0],n))return r;return-1}var arrayProto$1=Array.prototype,splice=arrayProto$1.splice;function listCacheDelete(t){var n=this.__data__,r=assocIndexOf(n,t);if(r<0)return!1;var g=n.length-1;return r==g?n.pop():splice.call(n,r,1),--this.size,!0}function listCacheGet$1(t){var n=this.__data__,r=assocIndexOf(n,t);return r<0?void 0:n[r][1]}function listCacheHas(t){return assocIndexOf(this.__data__,t)>-1}function listCacheSet$1(t,n){var r=this.__data__,g=assocIndexOf(r,t);return g<0?(++this.size,r.push([t,n])):r[g][1]=n,this}function ListCache(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var g=t[n];this.set(g[0],g[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet$1;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet$1;var Map$1=getNative(root,"Map");function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$1||ListCache),string:new Hash}}function isKeyable(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}function getMapData(t,n){var r=t.__data__;return isKeyable(n)?r[typeof n=="string"?"string":"hash"]:r.map}function mapCacheDelete(t){var n=getMapData(this,t).delete(t);return this.size-=n?1:0,n}function mapCacheGet(t){return getMapData(this,t).get(t)}function mapCacheHas(t){return getMapData(this,t).has(t)}function mapCacheSet(t,n){var r=getMapData(this,t),g=r.size;return r.set(t,n),this.size+=r.size==g?0:1,this}function MapCache(t){var n=-1,r=t==null?0:t.length;for(this.clear();++n<r;){var g=t[n];this.set(g[0],g[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT$2="Expected a function";function memoize(t,n){if(typeof t!="function"||n!=null&&typeof n!="function")throw new TypeError(FUNC_ERROR_TEXT$2);var r=function(){var g=arguments,y=n?n.apply(this,g):g[0],$=r.cache;if($.has(y))return $.get(y);var L=t.apply(this,g);return r.cache=$.set(y,L)||$,L};return r.cache=new(memoize.Cache||MapCache),r}memoize.Cache=MapCache;var MAX_MEMOIZE_SIZE=500;function memoizeCapped(t){var n=memoize(t,function(g){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),g}),r=n.cache;return n}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(t){var n=[];return t.charCodeAt(0)===46&&n.push(""),t.replace(rePropName,function(r,g,y,$){n.push(y?$.replace(reEscapeChar,"$1"):g||r)}),n});function toString(t){return t==null?"":baseToString(t)}function castPath(t,n){return isArray$3(t)?t:isKey(t,n)?[t]:stringToPath(toString(t))}function toKey(t){if(typeof t=="string"||isSymbol(t))return t;var n=t+"";return n=="0"&&1/t==-1/0?"-0":n}function baseGet(t,n){n=castPath(n,t);for(var r=0,g=n.length;t!=null&&r<g;)t=t[toKey(n[r++])];return r&&r==g?t:void 0}function get$1(t,n,r){var g=t==null?void 0:baseGet(t,n);return g===void 0?r:g}function arrayPush(t,n){for(var r=-1,g=n.length,y=t.length;++r<g;)t[y+r]=n[r];return t}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(t){return isArray$3(t)||isArguments(t)||!!(spreadableSymbol&&t&&t[spreadableSymbol])}function baseFlatten(t,n,r,g,y){var $=-1,L=t.length;for(r||(r=isFlattenable),y||(y=[]);++$<L;){var V=t[$];n>0&&r(V)?n>1?baseFlatten(V,n-1,r,g,y):arrayPush(y,V):g||(y[y.length]=V)}return y}function flatten(t){var n=t==null?0:t.length;return n?baseFlatten(t,1):[]}function flatRest(t){return setToString(overRest(t,void 0,flatten),t+"")}var getPrototype=overArg(Object.getPrototypeOf,Object),objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$4=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$3=objectProto$4.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(t){if(!isObjectLike(t)||baseGetTag(t)!=objectTag$3)return!1;var n=getPrototype(t);if(n===null)return!0;var r=hasOwnProperty$3.call(n,"constructor")&&n.constructor;return typeof r=="function"&&r instanceof r&&funcToString.call(r)==objectCtorString}function baseSlice(t,n,r){var g=-1,y=t.length;n<0&&(n=-n>y?0:y+n),r=r>y?y:r,r<0&&(r+=y),y=n>r?0:r-n>>>0,n>>>=0;for(var $=Array(y);++g<y;)$[g]=t[g+n];return $}function castArray$1(){if(!arguments.length)return[];var t=arguments[0];return isArray$3(t)?t:[t]}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}function stackGet(t){return this.__data__.get(t)}function stackHas(t){return this.__data__.has(t)}var LARGE_ARRAY_SIZE$1=200;function stackSet(t,n){var r=this.__data__;if(r instanceof ListCache){var g=r.__data__;if(!Map$1||g.length<LARGE_ARRAY_SIZE$1-1)return g.push([t,n]),this.size=++r.size,this;r=this.__data__=new MapCache(g)}return r.set(t,n),this.size=r.size,this}function Stack(t){var n=this.__data__=new ListCache(t);this.size=n.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(t,n){return t&&copyObject(n,keys$1(n),t)}function baseAssignIn(t,n){return t&&copyObject(n,keysIn(n),t)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(t,n){if(n)return t.slice();var r=t.length,g=allocUnsafe?allocUnsafe(r):new t.constructor(r);return t.copy(g),g}function arrayFilter(t,n){for(var r=-1,g=t==null?0:t.length,y=0,$=[];++r<g;){var L=t[r];n(L,r,t)&&($[y++]=L)}return $}function stubArray(){return[]}var objectProto$3=Object.prototype,propertyIsEnumerable=objectProto$3.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(t){return t==null?[]:(t=Object(t),arrayFilter(nativeGetSymbols$1(t),function(n){return propertyIsEnumerable.call(t,n)}))}:stubArray;function copySymbols(t,n){return copyObject(t,getSymbols(t),n)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(t){for(var n=[];t;)arrayPush(n,getSymbols(t)),t=getPrototype(t);return n}:stubArray;function copySymbolsIn(t,n){return copyObject(t,getSymbolsIn(t),n)}function baseGetAllKeys(t,n,r){var g=n(t);return isArray$3(t)?g:arrayPush(g,r(t))}function getAllKeys(t){return baseGetAllKeys(t,keys$1,getSymbols)}function getAllKeysIn(t){return baseGetAllKeys(t,keysIn,getSymbolsIn)}var DataView$2=getNative(root,"DataView"),Promise$1=getNative(root,"Promise"),Set$1=getNative(root,"Set"),mapTag$4="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$4="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$1&&getTag(new Map$1)!=mapTag$4||Promise$1&&getTag(Promise$1.resolve())!=promiseTag||Set$1&&getTag(new Set$1)!=setTag$4||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(t){var n=baseGetTag(t),r=n==objectTag$2?t.constructor:void 0,g=r?toSource(r):"";if(g)switch(g){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$4;case promiseCtorString:return promiseTag;case setCtorString:return setTag$4;case weakMapCtorString:return weakMapTag$1}return n});var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function initCloneArray(t){var n=t.length,r=new t.constructor(n);return n&&typeof t[0]=="string"&&hasOwnProperty$2.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var Uint8Array$1=root.Uint8Array;function cloneArrayBuffer(t){var n=new t.constructor(t.byteLength);return new Uint8Array$1(n).set(new Uint8Array$1(t)),n}function cloneDataView(t,n){var r=n?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var reFlags=/\w*$/;function cloneRegExp(t){var n=new t.constructor(t.source,reFlags.exec(t));return n.lastIndex=t.lastIndex,n}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(t){return symbolValueOf$1?Object(symbolValueOf$1.call(t)):{}}function cloneTypedArray(t,n){var r=n?cloneArrayBuffer(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$3="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$3="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(t,n,r){var g=t.constructor;switch(n){case arrayBufferTag$2:return cloneArrayBuffer(t);case boolTag$2:case dateTag$2:return new g(+t);case dataViewTag$2:return cloneDataView(t,r);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(t,r);case mapTag$3:return new g;case numberTag$2:case stringTag$2:return new g(t);case regexpTag$2:return cloneRegExp(t);case setTag$3:return new g;case symbolTag$2:return cloneSymbol(t)}}function initCloneObject(t){return typeof t.constructor=="function"&&!isPrototype(t)?baseCreate(getPrototype(t)):{}}var mapTag$2="[object Map]";function baseIsMap(t){return isObjectLike(t)&&getTag(t)==mapTag$2}var nodeIsMap=nodeUtil&&nodeUtil.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap,setTag$2="[object Set]";function baseIsSet(t){return isObjectLike(t)&&getTag(t)==setTag$2}var nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$3=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$1="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$1]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$1]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(t,n,r,g,y,$){var L,V=n&CLONE_DEEP_FLAG$2,z=n&CLONE_FLAT_FLAG$1,j=n&CLONE_SYMBOLS_FLAG$3;if(r&&(L=y?r(t,g,y,$):r(t)),L!==void 0)return L;if(!isObject$4(t))return t;var re=isArray$3(t);if(re){if(L=initCloneArray(t),!V)return copyArray(t,L)}else{var ae=getTag(t),oe=ae==funcTag||ae==genTag;if(isBuffer(t))return cloneBuffer(t,V);if(ae==objectTag$1||ae==argsTag$1||oe&&!y){if(L=z||oe?{}:initCloneObject(t),!V)return z?copySymbolsIn(t,baseAssignIn(L,t)):copySymbols(t,baseAssign(L,t))}else{if(!cloneableTags[ae])return y?t:{};L=initCloneByTag(t,ae,V)}}$||($=new Stack);var ie=$.get(t);if(ie)return ie;$.set(t,L),isSet(t)?t.forEach(function(de){L.add(baseClone(de,n,r,de,t,$))}):isMap(t)&&t.forEach(function(de,he){L.set(he,baseClone(de,n,r,he,t,$))});var le=j?z?getAllKeysIn:getAllKeys:z?keysIn:keys$1,ue=re?void 0:le(t);return arrayEach(ue||t,function(de,he){ue&&(he=de,de=t[he]),assignValue(L,he,baseClone(de,n,r,he,t,$))}),L}var CLONE_SYMBOLS_FLAG$2=4;function clone$5(t){return baseClone(t,CLONE_SYMBOLS_FLAG$2)}var CLONE_DEEP_FLAG$1=1,CLONE_SYMBOLS_FLAG$1=4;function cloneDeep(t){return baseClone(t,CLONE_DEEP_FLAG$1|CLONE_SYMBOLS_FLAG$1)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(t){return this.__data__.set(t,HASH_UNDEFINED),this}function setCacheHas(t){return this.__data__.has(t)}function SetCache(t){var n=-1,r=t==null?0:t.length;for(this.__data__=new MapCache;++n<r;)this.add(t[n])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(t,n){for(var r=-1,g=t==null?0:t.length;++r<g;)if(n(t[r],r,t))return!0;return!1}function cacheHas(t,n){return t.has(n)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(t,n,r,g,y,$){var L=r&COMPARE_PARTIAL_FLAG$5,V=t.length,z=n.length;if(V!=z&&!(L&&z>V))return!1;var j=$.get(t),re=$.get(n);if(j&&re)return j==n&&re==t;var ae=-1,oe=!0,ie=r&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for($.set(t,n),$.set(n,t);++ae<V;){var le=t[ae],ue=n[ae];if(g)var de=L?g(ue,le,ae,n,t,$):g(le,ue,ae,t,n,$);if(de!==void 0){if(de)continue;oe=!1;break}if(ie){if(!arraySome(n,function(he,pe){if(!cacheHas(ie,pe)&&(le===he||y(le,he,r,g,$)))return ie.push(pe)})){oe=!1;break}}else if(!(le===ue||y(le,ue,r,g,$))){oe=!1;break}}return $.delete(t),$.delete(n),oe}function mapToArray(t){var n=-1,r=Array(t.size);return t.forEach(function(g,y){r[++n]=[y,g]}),r}function setToArray(t){var n=-1,r=Array(t.size);return t.forEach(function(g){r[++n]=g}),r}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(t,n,r,g,y,$,L){switch(r){case dataViewTag:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case arrayBufferTag:return!(t.byteLength!=n.byteLength||!$(new Uint8Array$1(t),new Uint8Array$1(n)));case boolTag:case dateTag:case numberTag:return eq(+t,+n);case errorTag:return t.name==n.name&&t.message==n.message;case regexpTag:case stringTag:return t==n+"";case mapTag:var V=mapToArray;case setTag:var z=g&COMPARE_PARTIAL_FLAG$4;if(V||(V=setToArray),t.size!=n.size&&!z)return!1;var j=L.get(t);if(j)return j==n;g|=COMPARE_UNORDERED_FLAG$2,L.set(t,n);var re=equalArrays(V(t),V(n),g,y,$,L);return L.delete(t),re;case symbolTag:if(symbolValueOf)return symbolValueOf.call(t)==symbolValueOf.call(n)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(t,n,r,g,y,$){var L=r&COMPARE_PARTIAL_FLAG$3,V=getAllKeys(t),z=V.length,j=getAllKeys(n),re=j.length;if(z!=re&&!L)return!1;for(var ae=z;ae--;){var oe=V[ae];if(!(L?oe in n:hasOwnProperty$1.call(n,oe)))return!1}var ie=$.get(t),le=$.get(n);if(ie&&le)return ie==n&&le==t;var ue=!0;$.set(t,n),$.set(n,t);for(var de=L;++ae<z;){oe=V[ae];var he=t[oe],pe=n[oe];if(g)var _e=L?g(pe,he,oe,n,t,$):g(he,pe,oe,t,n,$);if(!(_e===void 0?he===pe||y(he,pe,r,g,$):_e)){ue=!1;break}de||(de=oe=="constructor")}if(ue&&!de){var Ce=t.constructor,xe=n.constructor;Ce!=xe&&"constructor"in t&&"constructor"in n&&!(typeof Ce=="function"&&Ce instanceof Ce&&typeof xe=="function"&&xe instanceof xe)&&(ue=!1)}return $.delete(t),$.delete(n),ue}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(t,n,r,g,y,$){var L=isArray$3(t),V=isArray$3(n),z=L?arrayTag:getTag(t),j=V?arrayTag:getTag(n);z=z==argsTag?objectTag:z,j=j==argsTag?objectTag:j;var re=z==objectTag,ae=j==objectTag,oe=z==j;if(oe&&isBuffer(t)){if(!isBuffer(n))return!1;L=!0,re=!1}if(oe&&!re)return $||($=new Stack),L||isTypedArray$1(t)?equalArrays(t,n,r,g,y,$):equalByTag(t,n,z,r,g,y,$);if(!(r&COMPARE_PARTIAL_FLAG$2)){var ie=re&&hasOwnProperty.call(t,"__wrapped__"),le=ae&&hasOwnProperty.call(n,"__wrapped__");if(ie||le){var ue=ie?t.value():t,de=le?n.value():n;return $||($=new Stack),y(ue,de,r,g,$)}}return oe?($||($=new Stack),equalObjects(t,n,r,g,y,$)):!1}function baseIsEqual(t,n,r,g,y){return t===n?!0:t==null||n==null||!isObjectLike(t)&&!isObjectLike(n)?t!==t&&n!==n:baseIsEqualDeep(t,n,r,g,baseIsEqual,y)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(t,n,r,g){var y=r.length,$=y;if(t==null)return!$;for(t=Object(t);y--;){var L=r[y];if(L[2]?L[1]!==t[L[0]]:!(L[0]in t))return!1}for(;++y<$;){L=r[y];var V=L[0],z=t[V],j=L[1];if(L[2]){if(z===void 0&&!(V in t))return!1}else{var re=new Stack,ae;if(!(ae===void 0?baseIsEqual(j,z,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,g,re):ae))return!1}}return!0}function isStrictComparable(t){return t===t&&!isObject$4(t)}function getMatchData(t){for(var n=keys$1(t),r=n.length;r--;){var g=n[r],y=t[g];n[r]=[g,y,isStrictComparable(y)]}return n}function matchesStrictComparable(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}function baseMatches(t){var n=getMatchData(t);return n.length==1&&n[0][2]?matchesStrictComparable(n[0][0],n[0][1]):function(r){return r===t||baseIsMatch(r,t,n)}}function baseHasIn(t,n){return t!=null&&n in Object(t)}function hasPath(t,n,r){n=castPath(n,t);for(var g=-1,y=n.length,$=!1;++g<y;){var L=toKey(n[g]);if(!($=t!=null&&r(t,L)))break;t=t[L]}return $||++g!=y?$:(y=t==null?0:t.length,!!y&&isLength(y)&&isIndex(L,y)&&(isArray$3(t)||isArguments(t)))}function hasIn(t,n){return t!=null&&hasPath(t,n,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(t,n){return isKey(t)&&isStrictComparable(n)?matchesStrictComparable(toKey(t),n):function(r){var g=get$1(r,t);return g===void 0&&g===n?hasIn(r,t):baseIsEqual(n,g,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(t){return function(n){return n==null?void 0:n[t]}}function basePropertyDeep(t){return function(n){return baseGet(n,t)}}function property(t){return isKey(t)?baseProperty(toKey(t)):basePropertyDeep(t)}function baseIteratee(t){return typeof t=="function"?t:t==null?identity$2:typeof t=="object"?isArray$3(t)?baseMatchesProperty(t[0],t[1]):baseMatches(t):property(t)}function createBaseFor(t){return function(n,r,g){for(var y=-1,$=Object(n),L=g(n),V=L.length;V--;){var z=L[++y];if(r($[z],z,$)===!1)break}return n}}var baseFor=createBaseFor();function baseForOwn(t,n){return t&&baseFor(t,n,keys$1)}function createBaseEach(t,n){return function(r,g){if(r==null)return r;if(!isArrayLike$1(r))return t(r,g);for(var y=r.length,$=-1,L=Object(r);++$<y&&g(L[$],$,L)!==!1;);return r}}var baseEach=createBaseEach(baseForOwn),now=function(){return root.Date.now()},FUNC_ERROR_TEXT$1="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(t,n,r){var g,y,$,L,V,z,j=0,re=!1,ae=!1,oe=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT$1);n=toNumber(n)||0,isObject$4(r)&&(re=!!r.leading,ae="maxWait"in r,$=ae?nativeMax(toNumber(r.maxWait)||0,n):$,oe="trailing"in r?!!r.trailing:oe);function ie(Ie){var $e=g,Oe=y;return g=y=void 0,j=Ie,L=t.apply(Oe,$e),L}function le(Ie){return j=Ie,V=setTimeout(he,n),re?ie(Ie):L}function ue(Ie){var $e=Ie-z,Oe=Ie-j,Ne=n-$e;return ae?nativeMin(Ne,$-Oe):Ne}function de(Ie){var $e=Ie-z,Oe=Ie-j;return z===void 0||$e>=n||$e<0||ae&&Oe>=$}function he(){var Ie=now();if(de(Ie))return pe(Ie);V=setTimeout(he,ue(Ie))}function pe(Ie){return V=void 0,oe&&g?ie(Ie):(g=y=void 0,L)}function _e(){V!==void 0&&clearTimeout(V),j=0,g=z=y=V=void 0}function Ce(){return V===void 0?L:pe(now())}function xe(){var Ie=now(),$e=de(Ie);if(g=arguments,y=this,z=Ie,$e){if(V===void 0)return le(z);if(ae)return clearTimeout(V),V=setTimeout(he,n),ie(z)}return V===void 0&&(V=setTimeout(he,n)),L}return xe.cancel=_e,xe.flush=Ce,xe}function assignMergeValue(t,n,r){(r!==void 0&&!eq(t[n],r)||r===void 0&&!(n in t))&&baseAssignValue(t,n,r)}function isArrayLikeObject(t){return isObjectLike(t)&&isArrayLike$1(t)}function safeGet(t,n){if(!(n==="constructor"&&typeof t[n]=="function")&&n!="__proto__")return t[n]}function toPlainObject(t){return copyObject(t,keysIn(t))}function baseMergeDeep(t,n,r,g,y,$,L){var V=safeGet(t,r),z=safeGet(n,r),j=L.get(z);if(j){assignMergeValue(t,r,j);return}var re=$?$(V,z,r+"",t,n,L):void 0,ae=re===void 0;if(ae){var oe=isArray$3(z),ie=!oe&&isBuffer(z),le=!oe&&!ie&&isTypedArray$1(z);re=z,oe||ie||le?isArray$3(V)?re=V:isArrayLikeObject(V)?re=copyArray(V):ie?(ae=!1,re=cloneBuffer(z,!0)):le?(ae=!1,re=cloneTypedArray(z,!0)):re=[]:isPlainObject(z)||isArguments(z)?(re=V,isArguments(V)?re=toPlainObject(V):(!isObject$4(V)||isFunction$2(V))&&(re=initCloneObject(z))):ae=!1}ae&&(L.set(z,re),y(re,z,g,$,L),L.delete(z)),assignMergeValue(t,r,re)}function baseMerge(t,n,r,g,y){t!==n&&baseFor(n,function($,L){if(y||(y=new Stack),isObject$4($))baseMergeDeep(t,n,L,r,baseMerge,g,y);else{var V=g?g(safeGet(t,L),$,L+"",t,n,y):void 0;V===void 0&&(V=$),assignMergeValue(t,L,V)}},keysIn)}function last(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}function findLastIndex(t,n,r){var g=t==null?0:t.length;if(!g)return-1;var y=g-1;return baseFindIndex(t,baseIteratee(n),y,!0)}function baseMap(t,n){var r=-1,g=isArrayLike$1(t)?Array(t.length):[];return baseEach(t,function(y,$,L){g[++r]=n(y,$,L)}),g}function map$2(t,n){var r=isArray$3(t)?arrayMap:baseMap;return r(t,baseIteratee(n))}function flatMap(t,n){return baseFlatten(map$2(t,n),1)}var INFINITY$1=1/0;function flattenDeep(t){var n=t==null?0:t.length;return n?baseFlatten(t,INFINITY$1):[]}function fromPairs(t){for(var n=-1,r=t==null?0:t.length,g={};++n<r;){var y=t[n];g[y[0]]=y[1]}return g}function parent(t,n){return n.length<2?t:baseGet(t,baseSlice(n,0,-1))}function isEqual$1(t,n){return baseIsEqual(t,n)}function isNil(t){return t==null}function isNull(t){return t===null}function isUndefined$1(t){return t===void 0}var merge$1=createAssigner(function(t,n,r){baseMerge(t,n,r)});function baseUnset(t,n){return n=castPath(n,t),t=parent(t,n),t==null||delete t[toKey(last(n))]}function customOmitClone(t){return isPlainObject(t)?void 0:t}var CLONE_DEEP_FLAG=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG=4,omit=flatRest(function(t,n){var r={};if(t==null)return r;var g=!1;n=arrayMap(n,function($){return $=castPath($,t),g||(g=$.length>1),$}),copyObject(t,getAllKeysIn(t),r),g&&(r=baseClone(r,CLONE_DEEP_FLAG|CLONE_FLAT_FLAG|CLONE_SYMBOLS_FLAG,customOmitClone));for(var y=n.length;y--;)baseUnset(r,n[y]);return r});function baseSet(t,n,r,g){if(!isObject$4(t))return t;n=castPath(n,t);for(var y=-1,$=n.length,L=$-1,V=t;V!=null&&++y<$;){var z=toKey(n[y]),j=r;if(z==="__proto__"||z==="constructor"||z==="prototype")return t;if(y!=L){var re=V[z];j=void 0,j===void 0&&(j=isObject$4(re)?re:isIndex(n[y+1])?[]:{})}assignValue(V,z,j),V=V[z]}return t}function basePickBy(t,n,r){for(var g=-1,y=n.length,$={};++g<y;){var L=n[g],V=baseGet(t,L);r(V,L)&&baseSet($,castPath(L,t),V)}return $}function basePick(t,n){return basePickBy(t,n,function(r,g){return hasIn(t,g)})}var pick=flatRest(function(t,n){return t==null?{}:basePick(t,n)});function set$2(t,n,r){return t==null?t:baseSet(t,n,r)}var FUNC_ERROR_TEXT="Expected a function";function throttle$1(t,n,r){var g=!0,y=!0;if(typeof t!="function")throw new TypeError(FUNC_ERROR_TEXT);return isObject$4(r)&&(g="leading"in r?!!r.leading:g,y="trailing"in r?!!r.trailing:y),debounce(t,n,{leading:g,maxWait:n,trailing:y})}var INFINITY=1/0,createSet=Set$1&&1/setToArray(new Set$1([,-0]))[1]==INFINITY?function(t){return new Set$1(t)}:noop$3,LARGE_ARRAY_SIZE=200;function baseUniq(t,n,r){var g=-1,y=arrayIncludes,$=t.length,L=!0,V=[],z=V;if($>=LARGE_ARRAY_SIZE){var j=createSet(t);if(j)return setToArray(j);L=!1,y=cacheHas,z=new SetCache}else z=V;e:for(;++g<$;){var re=t[g],ae=re;if(re=re!==0?re:0,L&&ae===ae){for(var oe=z.length;oe--;)if(z[oe]===ae)continue e;V.push(re)}else y(z,ae,r)||(z!==V&&z.push(ae),V.push(re))}return V}var union=baseRest(function(t){return baseUniq(baseFlatten(t,1,isArrayLikeObject,!0))});const isUndefined=t=>t===void 0,isBoolean=t=>typeof t=="boolean",isNumber$1=t=>typeof t=="number",isEmpty=t=>!t&&t!==0||isArray$4(t)&&t.length===0||isObject$5(t)&&!Object.keys(t).length,isElement$1=t=>typeof Element>"u"?!1:t instanceof Element,isPropAbsent=t=>isNil(t),isStringNumber=t=>isString$2(t)?!Number.isNaN(Number(t)):!1,isWindow=t=>t===window;var __defProp$9=Object.defineProperty,__defProps$6=Object.defineProperties,__getOwnPropDescs$6=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$b=Object.getOwnPropertySymbols,__hasOwnProp$b=Object.prototype.hasOwnProperty,__propIsEnum$b=Object.prototype.propertyIsEnumerable,__defNormalProp$9=(t,n,r)=>n in t?__defProp$9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,__spreadValues$9=(t,n)=>{for(var r in n||(n={}))__hasOwnProp$b.call(n,r)&&__defNormalProp$9(t,r,n[r]);if(__getOwnPropSymbols$b)for(var r of __getOwnPropSymbols$b(n))__propIsEnum$b.call(n,r)&&__defNormalProp$9(t,r,n[r]);return t},__spreadProps$6=(t,n)=>__defProps$6(t,__getOwnPropDescs$6(n));function computedEager(t,n){var r;const g=shallowRef();return watchEffect(()=>{g.value=t()},__spreadProps$6(__spreadValues$9({},n),{flush:(r=void 0)!=null?r:"sync"})),readonly(g)}var _a$1;const isClient=typeof window<"u",isDef$1=t=>typeof t<"u",isFunction$1=t=>typeof t=="function",isString$1=t=>typeof t=="string",noop$2=()=>{},isIOS=isClient&&((_a$1=window==null?void 0:window.navigator)==null?void 0:_a$1.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(t){return typeof t=="function"?t():unref(t)}function createFilterWrapper(t,n){function r(...g){return new Promise((y,$)=>{Promise.resolve(t(()=>n.apply(this,g),{fn:n,thisArg:this,args:g})).then(y).catch($)})}return r}function debounceFilter(t,n={}){let r,g,y=noop$2;const $=V=>{clearTimeout(V),y(),y=noop$2};return V=>{const z=resolveUnref(t),j=resolveUnref(n.maxWait);return r&&$(r),z<=0||j!==void 0&&j<=0?(g&&($(g),g=null),Promise.resolve(V())):new Promise((re,ae)=>{y=n.rejectOnCancel?ae:re,j&&!g&&(g=setTimeout(()=>{r&&$(r),g=null,re(V())},j)),r=setTimeout(()=>{g&&$(g),g=null,re(V())},z)})}}function throttleFilter(t,n=!0,r=!0,g=!1){let y=0,$,L=!0,V=noop$2,z;const j=()=>{$&&(clearTimeout($),$=void 0,V(),V=noop$2)};return ae=>{const oe=resolveUnref(t),ie=Date.now()-y,le=()=>z=ae();return j(),oe<=0?(y=Date.now(),le()):(ie>oe&&(r||!L)?(y=Date.now(),le()):n&&(z=new Promise((ue,de)=>{V=g?de:ue,$=setTimeout(()=>{y=Date.now(),L=!0,ue(le()),j()},Math.max(0,oe-ie))})),!r&&!$&&($=setTimeout(()=>L=!0,oe)),L=!1,z)}}function identity$1(t){return t}function computedWithControl(t,n){let r,g,y;const $=ref(!0),L=()=>{$.value=!0,y()};watch(t,L,{flush:"sync"});const V=isFunction$1(n)?n:n.get,z=isFunction$1(n)?void 0:n.set,j=customRef((re,ae)=>(g=re,y=ae,{get(){return $.value&&(r=V(),$.value=!1),g(),r},set(oe){z==null||z(oe)}}));return Object.isExtensible(j)&&(j.trigger=L),j}function tryOnScopeDispose(t){return getCurrentScope()?(onScopeDispose(t),!0):!1}function useDebounceFn(t,n=200,r={}){return createFilterWrapper(debounceFilter(n,r),t)}function refDebounced(t,n=200,r={}){const g=ref(t.value),y=useDebounceFn(()=>{g.value=t.value},n,r);return watch(t,()=>y()),g}function useThrottleFn(t,n=200,r=!1,g=!0,y=!1){return createFilterWrapper(throttleFilter(n,r,g,y),t)}function tryOnMounted(t,n=!0){getCurrentInstance()?onMounted(t):n?t():nextTick(t)}function useTimeoutFn(t,n,r={}){const{immediate:g=!0}=r,y=ref(!1);let $=null;function L(){$&&(clearTimeout($),$=null)}function V(){y.value=!1,L()}function z(...j){L(),y.value=!0,$=setTimeout(()=>{y.value=!1,$=null,t(...j)},resolveUnref(n))}return g&&(y.value=!0,isClient&&z()),tryOnScopeDispose(V),{isPending:readonly(y),start:z,stop:V}}function unrefElement(t){var n;const r=resolveUnref(t);return(n=r==null?void 0:r.$el)!=null?n:r}const defaultWindow=isClient?window:void 0,defaultDocument=isClient?window.document:void 0;function useEventListener(...t){let n,r,g,y;if(isString$1(t[0])||Array.isArray(t[0])?([r,g,y]=t,n=defaultWindow):[n,r,g,y]=t,!n)return noop$2;Array.isArray(r)||(r=[r]),Array.isArray(g)||(g=[g]);const $=[],L=()=>{$.forEach(re=>re()),$.length=0},V=(re,ae,oe,ie)=>(re.addEventListener(ae,oe,ie),()=>re.removeEventListener(ae,oe,ie)),z=watch(()=>[unrefElement(n),resolveUnref(y)],([re,ae])=>{L(),re&&$.push(...r.flatMap(oe=>g.map(ie=>V(re,oe,ie,ae))))},{immediate:!0,flush:"post"}),j=()=>{z(),L()};return tryOnScopeDispose(j),j}let _iOSWorkaround=!1;function onClickOutside(t,n,r={}){const{window:g=defaultWindow,ignore:y=[],capture:$=!0,detectIframe:L=!1}=r;if(!g)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(g.document.body.children).forEach(oe=>oe.addEventListener("click",noop$2)));let V=!0;const z=oe=>y.some(ie=>{if(typeof ie=="string")return Array.from(g.document.querySelectorAll(ie)).some(le=>le===oe.target||oe.composedPath().includes(le));{const le=unrefElement(ie);return le&&(oe.target===le||oe.composedPath().includes(le))}}),re=[useEventListener(g,"click",oe=>{const ie=unrefElement(t);if(!(!ie||ie===oe.target||oe.composedPath().includes(ie))){if(oe.detail===0&&(V=!z(oe)),!V){V=!0;return}n(oe)}},{passive:!0,capture:$}),useEventListener(g,"pointerdown",oe=>{const ie=unrefElement(t);ie&&(V=!oe.composedPath().includes(ie)&&!z(oe))},{passive:!0}),L&&useEventListener(g,"blur",oe=>{var ie;const le=unrefElement(t);((ie=g.document.activeElement)==null?void 0:ie.tagName)==="IFRAME"&&!(le!=null&&le.contains(g.document.activeElement))&&n(oe)})].filter(Boolean);return()=>re.forEach(oe=>oe())}function useActiveElement(t={}){var n;const{window:r=defaultWindow}=t,g=(n=t.document)!=null?n:r==null?void 0:r.document,y=computedWithControl(()=>null,()=>g==null?void 0:g.activeElement);return r&&(useEventListener(r,"blur",$=>{$.relatedTarget===null&&y.trigger()},!0),useEventListener(r,"focus",y.trigger,!0)),y}function useSupported(t,n=!1){const r=ref(),g=()=>r.value=!!t();return g(),tryOnMounted(g,n),r}function cloneFnJSON(t){return JSON.parse(JSON.stringify(t))}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};function useCssVar(t,n,{window:r=defaultWindow,initialValue:g=""}={}){const y=ref(g),$=computed(()=>{var L;return unrefElement(n)||((L=r==null?void 0:r.document)==null?void 0:L.documentElement)});return watch([$,()=>resolveUnref(t)],([L,V])=>{var z;if(L&&r){const j=(z=r.getComputedStyle(L).getPropertyValue(V))==null?void 0:z.trim();y.value=j||g}},{immediate:!0}),watch(y,L=>{var V;(V=$.value)!=null&&V.style&&$.value.style.setProperty(resolveUnref(t),L)}),y}function useDocumentVisibility({document:t=defaultDocument}={}){if(!t)return ref("visible");const n=ref(t.visibilityState);return useEventListener(t,"visibilitychange",()=>{n.value=t.visibilityState}),n}var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(t,n)=>{var r={};for(var g in t)__hasOwnProp$g.call(t,g)&&n.indexOf(g)<0&&(r[g]=t[g]);if(t!=null&&__getOwnPropSymbols$g)for(var g of __getOwnPropSymbols$g(t))n.indexOf(g)<0&&__propIsEnum$g.call(t,g)&&(r[g]=t[g]);return r};function useResizeObserver(t,n,r={}){const g=r,{window:y=defaultWindow}=g,$=__objRest$2(g,["window"]);let L;const V=useSupported(()=>y&&"ResizeObserver"in y),z=()=>{L&&(L.disconnect(),L=void 0)},j=watch(()=>unrefElement(t),ae=>{z(),V.value&&y&&ae&&(L=new ResizeObserver(n),L.observe(ae,$))},{immediate:!0,flush:"post"}),re=()=>{z(),j()};return tryOnScopeDispose(re),{isSupported:V,stop:re}}function useElementBounding(t,n={}){const{reset:r=!0,windowResize:g=!0,windowScroll:y=!0,immediate:$=!0}=n,L=ref(0),V=ref(0),z=ref(0),j=ref(0),re=ref(0),ae=ref(0),oe=ref(0),ie=ref(0);function le(){const ue=unrefElement(t);if(!ue){r&&(L.value=0,V.value=0,z.value=0,j.value=0,re.value=0,ae.value=0,oe.value=0,ie.value=0);return}const de=ue.getBoundingClientRect();L.value=de.height,V.value=de.bottom,z.value=de.left,j.value=de.right,re.value=de.top,ae.value=de.width,oe.value=de.x,ie.value=de.y}return useResizeObserver(t,le),watch(()=>unrefElement(t),ue=>!ue&&le()),y&&useEventListener("scroll",le,{capture:!0,passive:!0}),g&&useEventListener("resize",le,{passive:!0}),tryOnMounted(()=>{$&&le()}),{height:L,bottom:V,left:z,right:j,top:re,width:ae,x:oe,y:ie,update:le}}function useElementSize(t,n={width:0,height:0},r={}){const{window:g=defaultWindow,box:y="content-box"}=r,$=computed(()=>{var z,j;return(j=(z=unrefElement(t))==null?void 0:z.namespaceURI)==null?void 0:j.includes("svg")}),L=ref(n.width),V=ref(n.height);return useResizeObserver(t,([z])=>{const j=y==="border-box"?z.borderBoxSize:y==="content-box"?z.contentBoxSize:z.devicePixelContentBoxSize;if(g&&$.value){const re=unrefElement(t);if(re){const ae=g.getComputedStyle(re);L.value=parseFloat(ae.width),V.value=parseFloat(ae.height)}}else if(j){const re=Array.isArray(j)?j:[j];L.value=re.reduce((ae,{inlineSize:oe})=>ae+oe,0),V.value=re.reduce((ae,{blockSize:oe})=>ae+oe,0)}else L.value=z.contentRect.width,V.value=z.contentRect.height},r),watch(()=>unrefElement(t),z=>{L.value=z?n.width:0,V.value=z?n.height:0}),{width:L,height:V}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(t,n)=>{var r={};for(var g in t)__hasOwnProp$8.call(t,g)&&n.indexOf(g)<0&&(r[g]=t[g]);if(t!=null&&__getOwnPropSymbols$8)for(var g of __getOwnPropSymbols$8(t))n.indexOf(g)<0&&__propIsEnum$8.call(t,g)&&(r[g]=t[g]);return r};function useMutationObserver(t,n,r={}){const g=r,{window:y=defaultWindow}=g,$=__objRest$1(g,["window"]);let L;const V=useSupported(()=>y&&"MutationObserver"in y),z=()=>{L&&(L.disconnect(),L=void 0)},j=watch(()=>unrefElement(t),ae=>{z(),V.value&&y&&ae&&(L=new MutationObserver(n),L.observe(ae,$))},{immediate:!0}),re=()=>{z(),j()};return tryOnScopeDispose(re),{isSupported:V,stop:re}}var SwipeDirection;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(t,n,r)=>n in t?__defProp(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r,__spreadValues=(t,n)=>{for(var r in n||(n={}))__hasOwnProp.call(n,r)&&__defNormalProp(t,r,n[r]);if(__getOwnPropSymbols)for(var r of __getOwnPropSymbols(n))__propIsEnum.call(n,r)&&__defNormalProp(t,r,n[r]);return t};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity$1},_TransitionPresets);function useVModel(t,n,r,g={}){var y,$,L;const{clone:V=!1,passive:z=!1,eventName:j,deep:re=!1,defaultValue:ae}=g,oe=getCurrentInstance(),ie=r||(oe==null?void 0:oe.emit)||((y=oe==null?void 0:oe.$emit)==null?void 0:y.bind(oe))||((L=($=oe==null?void 0:oe.proxy)==null?void 0:$.$emit)==null?void 0:L.bind(oe==null?void 0:oe.proxy));let le=j;n||(n="modelValue"),le=j||le||`update:${n.toString()}`;const ue=he=>V?isFunction$1(V)?V(he):cloneFnJSON(he):he,de=()=>isDef$1(t[n])?ue(t[n]):ae;if(z){const he=de(),pe=ref(he);return watch(()=>t[n],_e=>pe.value=ue(_e)),watch(pe,_e=>{(_e!==t[n]||re)&&ie(le,_e)},{deep:re}),pe}else return computed({get(){return de()},set(he){ie(le,he)}})}function useWindowFocus({window:t=defaultWindow}={}){if(!t)return ref(!1);const n=ref(t.document.hasFocus());return useEventListener(t,"blur",()=>{n.value=!1}),useEventListener(t,"focus",()=>{n.value=!0}),n}function useWindowSize(t={}){const{window:n=defaultWindow,initialWidth:r=1/0,initialHeight:g=1/0,listenOrientation:y=!0,includeScrollbar:$=!0}=t,L=ref(r),V=ref(g),z=()=>{n&&($?(L.value=n.innerWidth,V.value=n.innerHeight):(L.value=n.document.documentElement.clientWidth,V.value=n.document.documentElement.clientHeight))};return z(),tryOnMounted(z),useEventListener("resize",z,{passive:!0}),y&&useEventListener("orientationchange",z,{passive:!0}),{width:L,height:V}}class ElementPlusError extends Error{constructor(n){super(n),this.name="ElementPlusError"}}function throwError$1(t,n){throw new ElementPlusError(`[${t}] ${n}`)}function debugWarn(t,n){}const initial={current:0},zIndex=ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=t=>{const n=getCurrentInstance()?inject(ZINDEX_INJECTION_KEY,initial):initial,r=t||(getCurrentInstance()?inject(zIndexContextKey,void 0):void 0),g=computed(()=>{const L=unref(r);return isNumber$1(L)?L:defaultInitialZIndex}),y=computed(()=>g.value+zIndex.value),$=()=>(n.current++,zIndex.value=n.current,y.value);return!isClient&&inject(ZINDEX_INJECTION_KEY),{initialZIndex:g,currentZIndex:y,nextZIndex:$}};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=t=>(n,r)=>translate$1(n,r,unref(t)),translate$1=(t,n,r)=>get$1(r,t,t).replace(/\{(\w+)\}/g,(g,y)=>{var $;return`${($=n==null?void 0:n[y])!=null?$:`{${y}}`}`}),buildLocaleContext=t=>{const n=computed(()=>unref(t).name),r=isRef(t)?t:ref(t);return{lang:n,locale:r,t:buildTranslator(t)}},localeContextKey=Symbol("localeContextKey"),useLocale=t=>{const n=t||inject(localeContextKey,ref());return buildLocaleContext(computed(()=>n.value||English))},epPropKey="__epPropKey",definePropType=t=>t,isEpProp=t=>isObject$5(t)&&!!t[epPropKey],buildProp=(t,n)=>{if(!isObject$5(t)||isEpProp(t))return t;const{values:r,required:g,default:y,type:$,validator:L}=t,z={type:$,required:!!g,validator:r||L?j=>{let re=!1,ae=[];if(r&&(ae=Array.from(r),hasOwn$1(t,"default")&&ae.push(y),re||(re=ae.includes(j))),L&&(re||(re=L(j))),!re&&ae.length>0){const oe=[...new Set(ae)].map(ie=>JSON.stringify(ie)).join(", ");warn(`Invalid prop: validation failed${n?` for prop "${n}"`:""}. Expected one of [${oe}], got value ${JSON.stringify(j)}.`)}return re}:void 0,[epPropKey]:!0};return hasOwn$1(t,"default")&&(z.default=y),z},buildProps=t=>fromPairs(Object.entries(t).map(([n,r])=>[n,buildProp(r,n)])),componentSizes=["","default","small","large"],useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const t=inject(SIZE_INJECTION_KEY,{});return computed(()=>unref(t.size)||"")},emptyValuesContextKey=Symbol("emptyValuesContextKey"),DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>isFunction$3(t)?!t():!t}}),useEmptyValues=(t,n)=>{const r=getCurrentInstance()?inject(emptyValuesContextKey,ref({})):ref({}),g=computed(()=>t.emptyValues||r.value.emptyValues||DEFAULT_EMPTY_VALUES),y=computed(()=>isFunction$3(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:isFunction$3(r.value.valueOnClear)?r.value.valueOnClear():r.value.valueOnClear!==void 0?r.value.valueOnClear:n!==void 0?n:DEFAULT_VALUE_ON_CLEAR),$=L=>g.value.includes(L);return g.value.includes(y.value),{emptyValues:g,valueOnClear:y,isEmptyValue:$}},keysOf=t=>Object.keys(t),entriesOf=t=>Object.entries(t),getProp=(t,n,r)=>({get value(){return get$1(t,n,r)},set value(g){set$2(t,n,g)}}),globalConfig=ref();function useGlobalConfig(t,n=void 0){const r=getCurrentInstance()?inject(configProviderContextKey,globalConfig):globalConfig;return t?computed(()=>{var g,y;return(y=(g=r.value)==null?void 0:g[t])!=null?y:n}):r}function useGlobalComponentSettings(t,n){const r=useGlobalConfig(),g=useNamespace(t,computed(()=>{var V;return((V=r.value)==null?void 0:V.namespace)||defaultNamespace})),y=useLocale(computed(()=>{var V;return(V=r.value)==null?void 0:V.locale})),$=useZIndex(computed(()=>{var V;return((V=r.value)==null?void 0:V.zIndex)||defaultInitialZIndex})),L=computed(()=>{var V;return unref(n)||((V=r.value)==null?void 0:V.size)||""});return provideGlobalConfig(computed(()=>unref(r)||{})),{ns:g,locale:y,zIndex:$,size:L}}const provideGlobalConfig=(t,n,r=!1)=>{var g;const y=!!getCurrentInstance(),$=y?useGlobalConfig():void 0,L=(g=n==null?void 0:n.provide)!=null?g:y?provide:void 0;if(!L)return;const V=computed(()=>{const z=unref(t);return $!=null&&$.value?mergeConfig($.value,z):z});return L(configProviderContextKey,V),L(localeContextKey,computed(()=>V.value.locale)),L(namespaceContextKey,computed(()=>V.value.namespace)),L(zIndexContextKey,computed(()=>V.value.zIndex)),L(SIZE_INJECTION_KEY,{size:computed(()=>V.value.size||"")}),L(emptyValuesContextKey,computed(()=>({emptyValues:V.value.emptyValues,valueOnClear:V.value.valueOnClear}))),(r||!globalConfig.value)&&(globalConfig.value=V.value),V},mergeConfig=(t,n)=>{const r=[...new Set([...keysOf(t),...keysOf(n)])],g={};for(const y of r)g[y]=n[y]!==void 0?n[y]:t[y];return g},makeInstaller=(t=[])=>({version:version$1,install:(r,g)=>{r[INSTALLED_KEY]||(r[INSTALLED_KEY]=!0,t.forEach(y=>r.use(y)),g&&provideGlobalConfig(g,r,!0))}}),UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",INPUT_EVENT="input",affixProps=buildProps({zIndex:{type:definePropType([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),affixEmits={scroll:({scrollTop:t,fixed:n})=>isNumber$1(t)&&isBoolean(n),[CHANGE_EVENT]:t=>isBoolean(t)};var _export_sfc$1=(t,n)=>{const r=t.__vccOpts||t;for(const[g,y]of n)r[g]=y;return r};function easeInOutCubic(t,n,r,g){const y=r-n;return t/=g/2,t<1?y/2*t*t*t+n:y/2*((t-=2)*t*t+2)+n}const rAF=t=>isClient?window.requestAnimationFrame(t):setTimeout(t,16),cAF=t=>isClient?window.cancelAnimationFrame(t):clearTimeout(t),classNameToArray=(t="")=>t.split(" ").filter(n=>!!n.trim()),hasClass=(t,n)=>{if(!t||!n)return!1;if(n.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(n)},addClass=(t,n)=>{!t||!n.trim()||t.classList.add(...classNameToArray(n))},removeClass=(t,n)=>{!t||!n.trim()||t.classList.remove(...classNameToArray(n))},getStyle$1=(t,n)=>{var r;if(!isClient||!t||!n)return"";let g=camelize(n);g==="float"&&(g="cssFloat");try{const y=t.style[g];if(y)return y;const $=(r=document.defaultView)==null?void 0:r.getComputedStyle(t,"");return $?$[g]:""}catch{return t.style[g]}},setStyle=(t,n,r)=>{if(!(!t||!n))if(isObject$5(n))entriesOf(n).forEach(([g,y])=>setStyle(t,g,y));else{const g=camelize(n);t.style[g]=r}};function addUnit(t,n="px"){if(!t)return"";if(isNumber$1(t)||isStringNumber(t))return`${t}${n}`;if(isString$2(t))return t}const isScroll=(t,n)=>{if(!isClient)return!1;const r={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(n)],g=getStyle$1(t,r);return["scroll","auto","overlay"].some(y=>g.includes(y))},getScrollContainer=(t,n)=>{if(!isClient)return;let r=t;for(;r;){if([window,document,document.documentElement].includes(r))return window;if(isScroll(r,n))return r;r=r.parentNode}return r};let scrollBarWidth;const getScrollBarWidth=t=>{var n;if(!isClient)return 0;if(scrollBarWidth!==void 0)return scrollBarWidth;const r=document.createElement("div");r.className=`${t}-scrollbar__wrap`,r.style.visibility="hidden",r.style.width="100px",r.style.position="absolute",r.style.top="-9999px",document.body.appendChild(r);const g=r.offsetWidth;r.style.overflow="scroll";const y=document.createElement("div");y.style.width="100%",r.appendChild(y);const $=y.offsetWidth;return(n=r.parentNode)==null||n.removeChild(r),scrollBarWidth=g-$,scrollBarWidth};function scrollIntoView(t,n){if(!isClient)return;if(!n){t.scrollTop=0;return}const r=[];let g=n.offsetParent;for(;g!==null&&t!==g&&t.contains(g);)r.push(g),g=g.offsetParent;const y=n.offsetTop+r.reduce((z,j)=>z+j.offsetTop,0),$=y+n.offsetHeight,L=t.scrollTop,V=L+t.clientHeight;y<L?t.scrollTop=y:$>V&&(t.scrollTop=$-t.clientHeight)}function animateScrollTo(t,n,r,g,y){const $=Date.now();let L;const V=()=>{const j=Date.now()-$,re=easeInOutCubic(j>g?g:j,n,r,g);isWindow(t)?t.scrollTo(window.pageXOffset,re):t.scrollTop=re,j<g?L=rAF(V):isFunction$3(y)&&y()};return V(),()=>{L&&cAF(L)}}const getScrollElement=(t,n)=>isWindow(n)?t.ownerDocument.documentElement:n,getScrollTop=t=>isWindow(t)?window.scrollY:t.scrollTop,COMPONENT_NAME$q="ElAffix",__default__$1X=defineComponent({name:COMPONENT_NAME$q}),_sfc_main$2M=defineComponent({...__default__$1X,props:affixProps,emits:affixEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("affix"),$=shallowRef(),L=shallowRef(),V=shallowRef(),{height:z}=useWindowSize(),{height:j,width:re,top:ae,bottom:oe,update:ie}=useElementBounding(L,{windowScroll:!1}),le=useElementBounding($),ue=ref(!1),de=ref(0),he=ref(0),pe=computed(()=>({height:ue.value?`${j.value}px`:"",width:ue.value?`${re.value}px`:""})),_e=computed(()=>{if(!ue.value)return{};const Ie=g.offset?addUnit(g.offset):0;return{height:`${j.value}px`,width:`${re.value}px`,top:g.position==="top"?Ie:"",bottom:g.position==="bottom"?Ie:"",transform:he.value?`translateY(${he.value}px)`:"",zIndex:g.zIndex}}),Ce=()=>{if(!V.value)return;de.value=V.value instanceof Window?document.documentElement.scrollTop:V.value.scrollTop||0;const{position:Ie,target:$e,offset:Oe}=g,Ne=Oe+j.value;if(Ie==="top")if($e){const Fe=le.bottom.value-Ne;ue.value=Oe>ae.value&&le.bottom.value>0,he.value=Fe<0?Fe:0}else ue.value=Oe>ae.value;else if($e){const Fe=z.value-le.top.value-Ne;ue.value=z.value-Oe<oe.value&&z.value>le.top.value,he.value=Fe<0?-Fe:0}else ue.value=z.value-Oe<oe.value},xe=async()=>{ie(),await nextTick(),r("scroll",{scrollTop:de.value,fixed:ue.value})};return watch(ue,Ie=>r(CHANGE_EVENT,Ie)),onMounted(()=>{var Ie;g.target?($.value=(Ie=document.querySelector(g.target))!=null?Ie:void 0,$.value||throwError$1(COMPONENT_NAME$q,`Target does not exist: ${g.target}`)):$.value=document.documentElement,V.value=getScrollContainer(L.value,!0),ie()}),useEventListener(V,"scroll",xe),watchEffect(Ce),n({update:Ce,updateRoot:ie}),(Ie,$e)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:L,class:normalizeClass(unref(y).b()),style:normalizeStyle$1(unref(pe))},[createBaseVNode("div",{class:normalizeClass({[unref(y).m("fixed")]:ue.value}),style:normalizeStyle$1(unref(_e))},[renderSlot(Ie.$slots,"default")],6)],6))}});var Affix=_export_sfc$1(_sfc_main$2M,[["__file","affix.vue"]]);const withInstall=(t,n)=>{if(t.install=r=>{for(const g of[t,...Object.values(n??{})])r.component(g.name,g)},n)for(const[r,g]of Object.entries(n))t[r]=g;return t},withInstallFunction=(t,n)=>(t.install=r=>{t._context=r._context,r.config.globalProperties[n]=t},t),withInstallDirective=(t,n)=>(t.install=r=>{r.directive(n,t)},t),withNoopInstall=t=>(t.install=NOOP,t),ElAffix=withInstall(Affix),iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$1W=defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$2L=defineComponent({...__default__$1W,props:iconProps,setup(t){const n=t,r=useNamespace("icon"),g=computed(()=>{const{size:y,color:$}=n;return!y&&!$?{}:{fontSize:isUndefined(y)?void 0:addUnit(y),"--color":$}});return(y,$)=>(openBlock(),createElementBlock("i",mergeProps({class:unref(r).b(),style:unref(g)},y.$attrs),[renderSlot(y.$slots,"default")],16))}});var Icon=_export_sfc$1(_sfc_main$2L,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon);function useTimeout(){let t;const n=(g,y)=>{r(),t=window.setTimeout(g,y)},r=()=>window.clearTimeout(t);return tryOnScopeDispose(()=>r()),{registerTimeout:n,cancelTimeout:r}}const useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:t,hideAfter:n,autoClose:r,open:g,close:y})=>{const{registerTimeout:$}=useTimeout(),{registerTimeout:L,cancelTimeout:V}=useTimeout();return{onOpen:re=>{$(()=>{g(re);const ae=unref(r);isNumber$1(ae)&&ae>0&&L(()=>{y(re)},ae)},unref(t))},onClose:re=>{V(),$(()=>{y(re)},unref(n))}}};/*! Element Plus Icons Vue v2.3.1 */var arrow_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowDown",__name:"arrow-down",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowLeft",__name:"arrow-left",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_left_default=arrow_left_vue_vue_type_script_setup_true_lang_default,arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowRight",__name:"arrow-right",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),arrow_right_default=arrow_right_vue_vue_type_script_setup_true_lang_default,arrow_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ArrowUp",__name:"arrow-up",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),arrow_up_default=arrow_up_vue_vue_type_script_setup_true_lang_default,back_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Back",__name:"back",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),createBaseVNode("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),back_default=back_vue_vue_type_script_setup_true_lang_default,calendar_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Calendar",__name:"calendar",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),calendar_default=calendar_vue_vue_type_script_setup_true_lang_default,caret_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretRight",__name:"caret-right",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),caret_right_default=caret_right_vue_vue_type_script_setup_true_lang_default,caret_top_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CaretTop",__name:"caret-top",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),caret_top_default=caret_top_vue_vue_type_script_setup_true_lang_default,check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Check",__name:"check",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),check_default=check_vue_vue_type_script_setup_true_lang_default,circle_check_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),circle_check_filled_default=circle_check_filled_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCheck",__name:"circle-check",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),circle_close_filled_default=circle_close_filled_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"CircleClose",__name:"circle-close",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,clock_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Clock",__name:"clock",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),createBaseVNode("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),createBaseVNode("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),clock_default=clock_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Close",__name:"close",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,d_arrow_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),d_arrow_left_default=d_arrow_left_vue_vue_type_script_setup_true_lang_default,d_arrow_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),d_arrow_right_default=d_arrow_right_vue_vue_type_script_setup_true_lang_default,delete_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Delete",__name:"delete",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),delete_default=delete_vue_vue_type_script_setup_true_lang_default,document_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Document",__name:"document",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),document_default=document_vue_vue_type_script_setup_true_lang_default,full_screen_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"FullScreen",__name:"full-screen",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),full_screen_default=full_screen_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Hide",__name:"hide",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),createBaseVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,info_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"InfoFilled",__name:"info-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),info_filled_default=info_filled_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Loading",__name:"loading",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,minus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Minus",__name:"minus",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),minus_default=minus_vue_vue_type_script_setup_true_lang_default,more_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"MoreFilled",__name:"more-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),more_filled_default=more_filled_vue_vue_type_script_setup_true_lang_default,more_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"More",__name:"more",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),more_default=more_vue_vue_type_script_setup_true_lang_default,picture_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"PictureFilled",__name:"picture-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),picture_filled_default=picture_filled_vue_vue_type_script_setup_true_lang_default,plus_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Plus",__name:"plus",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),plus_default=plus_vue_vue_type_script_setup_true_lang_default,question_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"QuestionFilled",__name:"question-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),question_filled_default=question_filled_vue_vue_type_script_setup_true_lang_default,refresh_left_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshLeft",__name:"refresh-left",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),refresh_left_default=refresh_left_vue_vue_type_script_setup_true_lang_default,refresh_right_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"RefreshRight",__name:"refresh-right",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),refresh_right_default=refresh_right_vue_vue_type_script_setup_true_lang_default,scale_to_original_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),scale_to_original_default=scale_to_original_vue_vue_type_script_setup_true_lang_default,search_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Search",__name:"search",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),search_default=search_vue_vue_type_script_setup_true_lang_default,sort_down_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortDown",__name:"sort-down",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),sort_down_default=sort_down_vue_vue_type_script_setup_true_lang_default,sort_up_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SortUp",__name:"sort-up",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),sort_up_default=sort_up_vue_vue_type_script_setup_true_lang_default,star_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"StarFilled",__name:"star-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),star_filled_default=star_filled_vue_vue_type_script_setup_true_lang_default,star_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"Star",__name:"star",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),star_default=star_vue_vue_type_script_setup_true_lang_default,success_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"SuccessFilled",__name:"success-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),success_filled_default=success_filled_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"View",__name:"view",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,warning_filled_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"WarningFilled",__name:"warning-filled",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),warning_filled_default=warning_filled_vue_vue_type_script_setup_true_lang_default,zoom_in_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomIn",__name:"zoom-in",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),zoom_in_default=zoom_in_vue_vue_type_script_setup_true_lang_default,zoom_out_vue_vue_type_script_setup_true_lang_default=defineComponent({name:"ZoomOut",__name:"zoom-out",setup(t){return(n,r)=>(openBlock(),createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[createBaseVNode("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),zoom_out_default=zoom_out_vue_vue_type_script_setup_true_lang_default;const iconPropType=definePropType([String,Object,Function]),CloseComponents={Close:close_default},TypeComponents={Close:close_default,SuccessFilled:success_filled_default,InfoFilled:info_filled_default,WarningFilled:warning_filled_default,CircleCloseFilled:circle_close_filled_default},TypeComponentsMap={primary:info_filled_default,success:success_filled_default,warning:warning_filled_default,error:circle_close_filled_default,info:info_filled_default},ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},alertEffects=["light","dark"],alertProps=buildProps({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:keysOf(TypeComponentsMap),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:alertEffects,default:"light"},...useDelayedToggleProps}),alertEmits={open:()=>!0,close:t=>isUndefined(t)||t instanceof Event},__default__$1V=defineComponent({name:"ElAlert"}),_sfc_main$2K=defineComponent({...__default__$1V,props:alertProps,emits:alertEmits,setup(t,{emit:n}){const r=t,{Close:g}=TypeComponents,y=useSlots(),$=useNamespace("alert"),L=ref(!1),V=computed(()=>TypeComponentsMap[r.type]),z=computed(()=>!!(r.description||y.default)),j=()=>{L.value=!0,n("open")},re=ie=>{L.value=!1,n("close",ie)},{onOpen:ae,onClose:oe}=useDelayedToggle({showAfter:toRef(r,"showAfter"),hideAfter:toRef(r,"hideAfter"),autoClose:toRef(r,"autoClose"),open:j,close:re});return isClient&&ae(),(ie,le)=>(openBlock(),createBlock(Transition,{name:unref($).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass([unref($).b(),unref($).m(ie.type),unref($).is("center",ie.center),unref($).is(ie.effect)]),role:"alert"},[ie.showIcon&&(ie.$slots.icon||unref(V))?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref($).e("icon"),{[unref($).is("big")]:unref(z)}])},{default:withCtx(()=>[renderSlot(ie.$slots,"icon",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(V))))])]),_:3},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref($).e("content"))},[ie.title||ie.$slots.title?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass([unref($).e("title"),{"with-description":unref(z)}])},[renderSlot(ie.$slots,"title",{},()=>[createTextVNode(toDisplayString(ie.title),1)])],2)):createCommentVNode("v-if",!0),unref(z)?(openBlock(),createElementBlock("p",{key:1,class:normalizeClass(unref($).e("description"))},[renderSlot(ie.$slots,"default",{},()=>[createTextVNode(toDisplayString(ie.description),1)])],2)):createCommentVNode("v-if",!0),ie.closable?(openBlock(),createElementBlock(Fragment,{key:2},[ie.closeText?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref($).e("close-btn"),unref($).is("customed")]),onClick:re},toDisplayString(ie.closeText),3)):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref($).e("close-btn")),onClick:unref(oe)},{default:withCtx(()=>[createVNode$1(unref(g))]),_:1},8,["class","onClick"]))],64)):createCommentVNode("v-if",!0)],2)],2),[[vShow,L.value]])]),_:3},8,["name"]))}});var Alert=_export_sfc$1(_sfc_main$2K,[["__file","alert.vue"]]);const ElAlert=withInstall(Alert),isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);let hiddenTextarea;const HIDDEN_STYLE={height:"0",visibility:"hidden",overflow:isFirefox()?"":"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(t){const n=window.getComputedStyle(t),r=n.getPropertyValue("box-sizing"),g=Number.parseFloat(n.getPropertyValue("padding-bottom"))+Number.parseFloat(n.getPropertyValue("padding-top")),y=Number.parseFloat(n.getPropertyValue("border-bottom-width"))+Number.parseFloat(n.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(L=>[L,n.getPropertyValue(L)]),paddingSize:g,borderSize:y,boxSizing:r}}function calcTextareaHeight(t,n=1,r){var g;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:y,borderSize:$,boxSizing:L,contextStyle:V}=calculateNodeStyling(t);V.forEach(([ae,oe])=>hiddenTextarea==null?void 0:hiddenTextarea.style.setProperty(ae,oe)),Object.entries(HIDDEN_STYLE).forEach(([ae,oe])=>hiddenTextarea==null?void 0:hiddenTextarea.style.setProperty(ae,oe,"important")),hiddenTextarea.value=t.value||t.placeholder||"";let z=hiddenTextarea.scrollHeight;const j={};L==="border-box"?z=z+$:L==="content-box"&&(z=z-y),hiddenTextarea.value="";const re=hiddenTextarea.scrollHeight-y;if(isNumber$1(n)){let ae=re*n;L==="border-box"&&(ae=ae+y+$),z=Math.max(ae,z),j.minHeight=`${ae}px`}if(isNumber$1(r)){let ae=re*r;L==="border-box"&&(ae=ae+y+$),z=Math.min(ae,z)}return j.height=`${z}px`,(g=hiddenTextarea.parentNode)==null||g.removeChild(hiddenTextarea),hiddenTextarea=void 0,j}const mutable=t=>t,ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=t=>pick(ariaProps,t),inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:Boolean,rows:{type:Number,default:2},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t),input:t=>isString$2(t),change:t=>isString$2(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(t={})=>{const{excludeListeners:n=!1,excludeKeys:r}=t,g=computed(()=>((r==null?void 0:r.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),y=getCurrentInstance();return computed(y?()=>{var $;return fromPairs(Object.entries(($=y.proxy)==null?void 0:$.$attrs).filter(([L])=>!g.value.includes(L)&&!(n&&LISTENER_PREFIX.test(L))))}:()=>({}))},defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>getCurrentInstance()?inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=t=>{const n=useIdInjection(),r=useGetDerivedNamespace();return computedEager(()=>unref(t)||`${r.value}-id-${n.prefix}-${n.current++}`)},formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormItem=()=>{const t=inject(formContextKey,void 0),n=inject(formItemContextKey,void 0);return{form:t,formItem:n}},useFormItemInputId=(t,{formItemContext:n,disableIdGeneration:r,disableIdManagement:g})=>{r||(r=ref(!1)),g||(g=ref(!1));const y=ref();let $;const L=computed(()=>{var V;return!!(!(t.label||t.ariaLabel)&&n&&n.inputIds&&((V=n.inputIds)==null?void 0:V.length)<=1)});return onMounted(()=>{$=watch([toRef(t,"id"),r],([V,z])=>{const j=V??(z?void 0:useId().value);j!==y.value&&(n!=null&&n.removeInputId&&(y.value&&n.removeInputId(y.value),!(g!=null&&g.value)&&!z&&j&&n.addInputId(j)),y.value=j)},{immediate:!0})}),onUnmounted(()=>{$&&$(),n!=null&&n.removeInputId&&y.value&&n.removeInputId(y.value)}),{isLabeledByFormItem:L,inputId:y}},useProp=t=>{const n=getCurrentInstance();return computed(()=>{var r,g;return(g=(r=n==null?void 0:n.proxy)==null?void 0:r.$props)==null?void 0:g[t]})},useFormSize=(t,n={})=>{const r=ref(void 0),g=n.prop?r:useProp("size"),y=n.global?r:useGlobalSize(),$=n.form?{size:void 0}:inject(formContextKey,void 0),L=n.formItem?{size:void 0}:inject(formItemContextKey,void 0);return computed(()=>g.value||unref(t)||(L==null?void 0:L.size)||($==null?void 0:$.size)||y.value||"")},useFormDisabled=t=>{const n=useProp("disabled"),r=inject(formContextKey,void 0);return computed(()=>n.value||unref(t)||(r==null?void 0:r.disabled)||!1)},FOCUSABLE_ELEMENT_SELECTORS='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',isVisible=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,obtainAllFocusableElements$1=t=>Array.from(t.querySelectorAll(FOCUSABLE_ELEMENT_SELECTORS)).filter(n=>isFocusable(n)&&isVisible(n)),isFocusable=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.tabIndex<0||t.hasAttribute("disabled")||t.getAttribute("aria-disabled")==="true")return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},triggerEvent=function(t,n,...r){let g;n.includes("mouse")||n.includes("click")?g="MouseEvents":n.includes("key")?g="KeyboardEvent":g="HTMLEvents";const y=document.createEvent(g);return y.initEvent(n,...r),t.dispatchEvent(y),t},isLeaf=t=>!t.getAttribute("aria-owns"),getSibling=(t,n,r)=>{const{parentNode:g}=t;if(!g)return null;const y=g.querySelectorAll(r),$=Array.prototype.indexOf.call(y,t);return y[$+n]||null},focusNode=t=>{t&&(t.focus(),!isLeaf(t)&&t.click())};function useFocusController(t,{beforeFocus:n,afterFocus:r,beforeBlur:g,afterBlur:y}={}){const $=getCurrentInstance(),{emit:L}=$,V=shallowRef(),z=useFormDisabled(),j=ref(!1),re=ie=>{isFunction$3(n)&&n(ie)||j.value||(j.value=!0,L("focus",ie),r==null||r())},ae=ie=>{var le;isFunction$3(g)&&g(ie)||ie.relatedTarget&&((le=V.value)!=null&&le.contains(ie.relatedTarget))||(j.value=!1,L("blur",ie),y==null||y())},oe=ie=>{var le,ue;(le=V.value)!=null&&le.contains(document.activeElement)&&V.value!==document.activeElement||isFocusable(ie.target)||z.value||(ue=t.value)==null||ue.focus()};return watch([V,z],([ie,le])=>{ie&&(le?ie.removeAttribute("tabindex"):ie.setAttribute("tabindex","-1"))}),useEventListener(V,"focus",re,!0),useEventListener(V,"blur",ae,!0),useEventListener(V,"click",oe,!0),{isFocused:j,wrapperRef:V,handleFocus:re,handleBlur:ae}}const isKorean=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t);function useComposition({afterComposition:t,emit:n}){const r=ref(!1),g=V=>{n==null||n("compositionstart",V),r.value=!0},y=V=>{var z;n==null||n("compositionupdate",V);const j=(z=V.target)==null?void 0:z.value,re=j[j.length-1]||"";r.value=!isKorean(re)},$=V=>{n==null||n("compositionend",V),r.value&&(r.value=!1,nextTick(()=>t(V)))};return{isComposing:r,handleComposition:V=>{V.type==="compositionend"?$(V):y(V)},handleCompositionStart:g,handleCompositionUpdate:y,handleCompositionEnd:$}}function useCursor(t){let n;function r(){if(t.value==null)return;const{selectionStart:y,selectionEnd:$,value:L}=t.value;if(y==null||$==null)return;const V=L.slice(0,Math.max(0,y)),z=L.slice(Math.max(0,$));n={selectionStart:y,selectionEnd:$,value:L,beforeTxt:V,afterTxt:z}}function g(){if(t.value==null||n==null)return;const{value:y}=t.value,{beforeTxt:$,afterTxt:L,selectionStart:V}=n;if($==null||L==null||V==null)return;let z=y.length;if(y.endsWith(L))z=y.length-L.length;else if(y.startsWith($))z=$.length;else{const j=$[V-1],re=y.indexOf(j,V-1);re!==-1&&(z=re+1)}t.value.setSelectionRange(z,z)}return[r,g]}const COMPONENT_NAME$p="ElInput",__default__$1U=defineComponent({name:COMPONENT_NAME$p,inheritAttrs:!1}),_sfc_main$2J=defineComponent({...__default__$1U,props:inputProps,emits:inputEmits,setup(t,{expose:n,emit:r}){const g=t,y=useAttrs$1(),$=useAttrs(),L=useSlots(),V=computed(()=>[g.type==="textarea"?ue.b():le.b(),le.m(oe.value),le.is("disabled",ie.value),le.is("exceed",Sn.value),{[le.b("group")]:L.prepend||L.append,[le.m("prefix")]:L.prefix||g.prefixIcon,[le.m("suffix")]:L.suffix||g.suffixIcon||g.clearable||g.showPassword,[le.bm("suffix","password-clear")]:Pt.value&&At.value,[le.b("hidden")]:g.type==="hidden"},y.class]),z=computed(()=>[le.e("wrapper"),le.is("focus",Oe.value)]),{form:j,formItem:re}=useFormItem(),{inputId:ae}=useFormItemInputId(g,{formItemContext:re}),oe=useFormSize(),ie=useFormDisabled(),le=useNamespace("input"),ue=useNamespace("textarea"),de=shallowRef(),he=shallowRef(),pe=ref(!1),_e=ref(!1),Ce=ref(),xe=shallowRef(g.inputStyle),Ie=computed(()=>de.value||he.value),{wrapperRef:$e,isFocused:Oe,handleFocus:Ne,handleBlur:Fe}=useFocusController(Ie,{beforeFocus(){return ie.value},afterBlur(){var Wn;g.validateEvent&&((Wn=re==null?void 0:re.validate)==null||Wn.call(re,"blur").catch(Un=>void 0))}}),Ve=computed(()=>{var Wn;return(Wn=j==null?void 0:j.statusIcon)!=null?Wn:!1}),ze=computed(()=>(re==null?void 0:re.validateState)||""),Et=computed(()=>ze.value&&ValidateComponentsMap[ze.value]),Dt=computed(()=>_e.value?view_default:hide_default),Ue=computed(()=>[y.style]),qe=computed(()=>[g.inputStyle,xe.value,{resize:g.resize}]),Lt=computed(()=>isNil(g.modelValue)?"":String(g.modelValue)),Pt=computed(()=>g.clearable&&!ie.value&&!g.readonly&&!!Lt.value&&(Oe.value||pe.value)),At=computed(()=>g.showPassword&&!ie.value&&!!Lt.value),vn=computed(()=>g.showWordLimit&&!!g.maxlength&&(g.type==="text"||g.type==="textarea")&&!ie.value&&!g.readonly&&!g.showPassword),En=computed(()=>Lt.value.length),Sn=computed(()=>!!vn.value&&En.value>Number(g.maxlength)),kt=computed(()=>!!L.suffix||!!g.suffixIcon||Pt.value||g.showPassword||vn.value||!!ze.value&&Ve.value),[jt,_n]=useCursor(de);useResizeObserver(he,Wn=>{if(Cn(),!vn.value||g.resize!=="both")return;const Un=Wn[0],{width:nr}=Un.contentRect;Ce.value={right:`calc(100% - ${nr+15+6}px)`}});const wn=()=>{const{type:Wn,autosize:Un}=g;if(!(!isClient||Wn!=="textarea"||!he.value))if(Un){const nr=isObject$5(Un)?Un.minRows:void 0,sr=isObject$5(Un)?Un.maxRows:void 0,mr=calcTextareaHeight(he.value,nr,sr);xe.value={overflowY:"hidden",...mr},nextTick(()=>{he.value.offsetHeight,xe.value=mr})}else xe.value={minHeight:calcTextareaHeight(he.value).minHeight}},Cn=(Wn=>{let Un=!1;return()=>{var nr;if(Un||!g.autosize)return;((nr=he.value)==null?void 0:nr.offsetParent)===null||(Wn(),Un=!0)}})(wn),Tn=()=>{const Wn=Ie.value,Un=g.formatter?g.formatter(Lt.value):Lt.value;!Wn||Wn.value===Un||(Wn.value=Un)},xn=async Wn=>{jt();let{value:Un}=Wn.target;if(g.formatter&&g.parser&&(Un=g.parser(Un)),!bn.value){if(Un===Lt.value){Tn();return}r(UPDATE_MODEL_EVENT,Un),r(INPUT_EVENT,Un),await nextTick(),Tn(),_n()}},Mn=Wn=>{let{value:Un}=Wn.target;g.formatter&&g.parser&&(Un=g.parser(Un)),r(CHANGE_EVENT,Un)},{isComposing:bn,handleCompositionStart:Pn,handleCompositionUpdate:Rn,handleCompositionEnd:Fn}=useComposition({emit:r,afterComposition:xn}),Dn=()=>{jt(),_e.value=!_e.value,setTimeout(_n)},Ln=()=>{var Wn;return(Wn=Ie.value)==null?void 0:Wn.focus()},kn=()=>{var Wn;return(Wn=Ie.value)==null?void 0:Wn.blur()},In=Wn=>{pe.value=!1,r("mouseleave",Wn)},Vn=Wn=>{pe.value=!0,r("mouseenter",Wn)},zn=Wn=>{r("keydown",Wn)},Kn=()=>{var Wn;(Wn=Ie.value)==null||Wn.select()},jn=()=>{r(UPDATE_MODEL_EVENT,""),r(CHANGE_EVENT,""),r("clear"),r(INPUT_EVENT,"")};return watch(()=>g.modelValue,()=>{var Wn;nextTick(()=>wn()),g.validateEvent&&((Wn=re==null?void 0:re.validate)==null||Wn.call(re,"change").catch(Un=>void 0))}),watch(Lt,()=>Tn()),watch(()=>g.type,async()=>{await nextTick(),Tn(),wn()}),onMounted(()=>{!g.formatter&&g.parser,Tn(),nextTick(wn)}),n({input:de,textarea:he,ref:Ie,textareaStyle:qe,autosize:toRef(g,"autosize"),isComposing:bn,focus:Ln,blur:kn,select:Kn,clear:jn,resizeTextarea:wn}),(Wn,Un)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(V),{[unref(le).bm("group","append")]:Wn.$slots.append,[unref(le).bm("group","prepend")]:Wn.$slots.prepend}]),style:normalizeStyle$1(unref(Ue)),onMouseenter:Vn,onMouseleave:In},[createCommentVNode(" input "),Wn.type!=="textarea"?(openBlock(),createElementBlock(Fragment,{key:0},[createCommentVNode(" prepend slot "),Wn.$slots.prepend?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(le).be("group","prepend"))},[renderSlot(Wn.$slots,"prepend")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref_key:"wrapperRef",ref:$e,class:normalizeClass(unref(z))},[createCommentVNode(" prefix slot "),Wn.$slots.prefix||Wn.prefixIcon?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(le).e("prefix"))},[createBaseVNode("span",{class:normalizeClass(unref(le).e("prefix-inner"))},[renderSlot(Wn.$slots,"prefix"),Wn.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(le).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Wn.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("input",mergeProps({id:unref(ae),ref_key:"input",ref:de,class:unref(le).e("inner")},unref($),{minlength:Wn.minlength,maxlength:Wn.maxlength,type:Wn.showPassword?_e.value?"text":"password":Wn.type,disabled:unref(ie),readonly:Wn.readonly,autocomplete:Wn.autocomplete,tabindex:Wn.tabindex,"aria-label":Wn.ariaLabel,placeholder:Wn.placeholder,style:Wn.inputStyle,form:Wn.form,autofocus:Wn.autofocus,role:Wn.containerRole,onCompositionstart:unref(Pn),onCompositionupdate:unref(Rn),onCompositionend:unref(Fn),onInput:xn,onChange:Mn,onKeydown:zn}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","role","onCompositionstart","onCompositionupdate","onCompositionend"]),createCommentVNode(" suffix slot "),unref(kt)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(le).e("suffix"))},[createBaseVNode("span",{class:normalizeClass(unref(le).e("suffix-inner"))},[!unref(Pt)||!unref(At)||!unref(vn)?(openBlock(),createElementBlock(Fragment,{key:0},[renderSlot(Wn.$slots,"suffix"),Wn.suffixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(le).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Wn.suffixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0),unref(Pt)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(le).e("icon"),unref(le).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:jn},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0),unref(At)?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(le).e("icon"),unref(le).e("password")]),onClick:Dn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Dt))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),unref(vn)?(openBlock(),createElementBlock("span",{key:3,class:normalizeClass(unref(le).e("count"))},[createBaseVNode("span",{class:normalizeClass(unref(le).e("count-inner"))},toDisplayString(unref(En))+" / "+toDisplayString(Wn.maxlength),3)],2)):createCommentVNode("v-if",!0),unref(ze)&&unref(Et)&&unref(Ve)?(openBlock(),createBlock(unref(ElIcon),{key:4,class:normalizeClass([unref(le).e("icon"),unref(le).e("validateIcon"),unref(le).is("loading",unref(ze)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(Et))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],2)):createCommentVNode("v-if",!0)],2),createCommentVNode(" append slot "),Wn.$slots.append?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(le).be("group","append"))},[renderSlot(Wn.$slots,"append")],2)):createCommentVNode("v-if",!0)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" textarea "),createBaseVNode("textarea",mergeProps({id:unref(ae),ref_key:"textarea",ref:he,class:[unref(ue).e("inner"),unref(le).is("focus",unref(Oe))]},unref($),{minlength:Wn.minlength,maxlength:Wn.maxlength,tabindex:Wn.tabindex,disabled:unref(ie),readonly:Wn.readonly,autocomplete:Wn.autocomplete,style:unref(qe),"aria-label":Wn.ariaLabel,placeholder:Wn.placeholder,form:Wn.form,autofocus:Wn.autofocus,rows:Wn.rows,role:Wn.containerRole,onCompositionstart:unref(Pn),onCompositionupdate:unref(Rn),onCompositionend:unref(Fn),onInput:xn,onFocus:unref(Ne),onBlur:unref(Fe),onChange:Mn,onKeydown:zn}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","role","onCompositionstart","onCompositionupdate","onCompositionend","onFocus","onBlur"]),unref(vn)?(openBlock(),createElementBlock("span",{key:0,style:normalizeStyle$1(Ce.value),class:normalizeClass(unref(le).e("count"))},toDisplayString(unref(En))+" / "+toDisplayString(Wn.maxlength),7)):createCommentVNode("v-if",!0)],64))],38))}});var Input=_export_sfc$1(_sfc_main$2J,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle$1=({move:t,size:n,bar:r})=>({[r.size]:n,transform:`translate${r.axis}(${t}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$o="Thumb",_sfc_main$2I=defineComponent({__name:"thumb",props:thumbProps,setup(t){const n=t,r=inject(scrollbarContextKey),g=useNamespace("scrollbar");r||throwError$1(COMPONENT_NAME$o,"can not inject scrollbar context");const y=ref(),$=ref(),L=ref({}),V=ref(!1);let z=!1,j=!1,re=0,ae=0,oe=isClient?document.onselectstart:null;const ie=computed(()=>BAR_MAP[n.vertical?"vertical":"horizontal"]),le=computed(()=>renderThumbStyle$1({size:n.size,move:n.move,bar:ie.value})),ue=computed(()=>y.value[ie.value.offset]**2/r.wrapElement[ie.value.scrollSize]/n.ratio/$.value[ie.value.offset]),de=Oe=>{var Ne;if(Oe.stopPropagation(),Oe.ctrlKey||[1,2].includes(Oe.button))return;(Ne=window.getSelection())==null||Ne.removeAllRanges(),pe(Oe);const Fe=Oe.currentTarget;Fe&&(L.value[ie.value.axis]=Fe[ie.value.offset]-(Oe[ie.value.client]-Fe.getBoundingClientRect()[ie.value.direction]))},he=Oe=>{if(!$.value||!y.value||!r.wrapElement)return;const Ne=Math.abs(Oe.target.getBoundingClientRect()[ie.value.direction]-Oe[ie.value.client]),Fe=$.value[ie.value.offset]/2,Ve=(Ne-Fe)*100*ue.value/y.value[ie.value.offset];r.wrapElement[ie.value.scroll]=Ve*r.wrapElement[ie.value.scrollSize]/100},pe=Oe=>{Oe.stopImmediatePropagation(),z=!0,re=r.wrapElement.scrollHeight,ae=r.wrapElement.scrollWidth,document.addEventListener("mousemove",_e),document.addEventListener("mouseup",Ce),oe=document.onselectstart,document.onselectstart=()=>!1},_e=Oe=>{if(!y.value||!$.value||z===!1)return;const Ne=L.value[ie.value.axis];if(!Ne)return;const Fe=(y.value.getBoundingClientRect()[ie.value.direction]-Oe[ie.value.client])*-1,Ve=$.value[ie.value.offset]-Ne,ze=(Fe-Ve)*100*ue.value/y.value[ie.value.offset];ie.value.scroll==="scrollLeft"?r.wrapElement[ie.value.scroll]=ze*ae/100:r.wrapElement[ie.value.scroll]=ze*re/100},Ce=()=>{z=!1,L.value[ie.value.axis]=0,document.removeEventListener("mousemove",_e),document.removeEventListener("mouseup",Ce),$e(),j&&(V.value=!1)},xe=()=>{j=!1,V.value=!!n.size},Ie=()=>{j=!0,V.value=z};onBeforeUnmount(()=>{$e(),document.removeEventListener("mouseup",Ce)});const $e=()=>{document.onselectstart!==oe&&(document.onselectstart=oe)};return useEventListener(toRef(r,"scrollbarElement"),"mousemove",xe),useEventListener(toRef(r,"scrollbarElement"),"mouseleave",Ie),(Oe,Ne)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"instance",ref:y,class:normalizeClass([unref(g).e("bar"),unref(g).is(unref(ie).key)]),onMousedown:he,onClick:withModifiers(()=>{},["stop"])},[createBaseVNode("div",{ref_key:"thumb",ref:$,class:normalizeClass(unref(g).e("thumb")),style:normalizeStyle$1(unref(le)),onMousedown:de},null,38)],42,["onClick"]),[[vShow,Oe.always||V.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc$1(_sfc_main$2I,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$2H=defineComponent({__name:"bar",props:barProps,setup(t,{expose:n}){const r=t,g=inject(scrollbarContextKey),y=ref(0),$=ref(0),L=ref(""),V=ref(""),z=ref(1),j=ref(1);return n({handleScroll:oe=>{if(oe){const ie=oe.offsetHeight-GAP,le=oe.offsetWidth-GAP;$.value=oe.scrollTop*100/ie*z.value,y.value=oe.scrollLeft*100/le*j.value}},update:()=>{const oe=g==null?void 0:g.wrapElement;if(!oe)return;const ie=oe.offsetHeight-GAP,le=oe.offsetWidth-GAP,ue=ie**2/oe.scrollHeight,de=le**2/oe.scrollWidth,he=Math.max(ue,r.minSize),pe=Math.max(de,r.minSize);z.value=ue/(ie-ue)/(he/(ie-he)),j.value=de/(le-de)/(pe/(le-pe)),V.value=he+GAP<ie?`${he}px`:"",L.value=pe+GAP<le?`${pe}px`:""}}),(oe,ie)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(Thumb,{move:y.value,ratio:j.value,size:L.value,always:oe.always},null,8,["move","ratio","size","always"]),createVNode$1(Thumb,{move:$.value,ratio:z.value,size:V.value,vertical:"",always:oe.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc$1(_sfc_main$2H,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={"end-reached":t=>["left","right","top","bottom"].includes(t),scroll:({scrollTop:t,scrollLeft:n})=>[t,n].every(isNumber$1)},COMPONENT_NAME$n="ElScrollbar",__default__$1T=defineComponent({name:COMPONENT_NAME$n}),_sfc_main$2G=defineComponent({...__default__$1T,props:scrollbarProps,emits:scrollbarEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("scrollbar");let $,L,V=0,z=0,j="";const re=ref(),ae=ref(),oe=ref(),ie=ref(),le=computed(()=>{const Ie={};return g.height&&(Ie.height=addUnit(g.height)),g.maxHeight&&(Ie.maxHeight=addUnit(g.maxHeight)),[g.wrapStyle,Ie]}),ue=computed(()=>[g.wrapClass,y.e("wrap"),{[y.em("wrap","hidden-default")]:!g.native}]),de=computed(()=>[y.e("view"),g.viewClass]),he=()=>{var Ie;if(ae.value){(Ie=ie.value)==null||Ie.handleScroll(ae.value);const $e=V,Oe=z;V=ae.value.scrollTop,z=ae.value.scrollLeft;const Ne={bottom:V+ae.value.clientHeight>=ae.value.scrollHeight,top:V<=0&&$e!==0,right:z+ae.value.clientWidth>=ae.value.scrollWidth&&Oe!==z,left:z<=0&&Oe!==0};$e!==V&&(j=V>$e?"bottom":"top"),Oe!==z&&(j=z>Oe?"right":"left"),r("scroll",{scrollTop:V,scrollLeft:z}),Ne[j]&&r("end-reached",j)}};function pe(Ie,$e){isObject$5(Ie)?ae.value.scrollTo(Ie):isNumber$1(Ie)&&isNumber$1($e)&&ae.value.scrollTo(Ie,$e)}const _e=Ie=>{isNumber$1(Ie)&&(ae.value.scrollTop=Ie)},Ce=Ie=>{isNumber$1(Ie)&&(ae.value.scrollLeft=Ie)},xe=()=>{var Ie;(Ie=ie.value)==null||Ie.update()};return watch(()=>g.noresize,Ie=>{Ie?($==null||$(),L==null||L()):({stop:$}=useResizeObserver(oe,xe),L=useEventListener("resize",xe))},{immediate:!0}),watch(()=>[g.maxHeight,g.height],()=>{g.native||nextTick(()=>{var Ie;xe(),ae.value&&((Ie=ie.value)==null||Ie.handleScroll(ae.value))})}),provide(scrollbarContextKey,reactive({scrollbarElement:re,wrapElement:ae})),onActivated(()=>{ae.value&&(ae.value.scrollTop=V,ae.value.scrollLeft=z)}),onMounted(()=>{g.native||nextTick(()=>{xe()})}),onUpdated(()=>xe()),n({wrapRef:ae,update:xe,scrollTo:pe,setScrollTop:_e,setScrollLeft:Ce,handleScroll:he}),(Ie,$e)=>(openBlock(),createElementBlock("div",{ref_key:"scrollbarRef",ref:re,class:normalizeClass(unref(y).b())},[createBaseVNode("div",{ref_key:"wrapRef",ref:ae,class:normalizeClass(unref(ue)),style:normalizeStyle$1(unref(le)),tabindex:Ie.tabindex,onScroll:he},[(openBlock(),createBlock(resolveDynamicComponent(Ie.tag),{id:Ie.id,ref_key:"resizeRef",ref:oe,class:normalizeClass(unref(de)),style:normalizeStyle$1(Ie.viewStyle),role:Ie.role,"aria-label":Ie.ariaLabel,"aria-orientation":Ie.ariaOrientation},{default:withCtx(()=>[renderSlot(Ie.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),Ie.native?createCommentVNode("v-if",!0):(openBlock(),createBlock(Bar,{key:0,ref_key:"barRef",ref:ie,always:Ie.always,"min-size":Ie.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc$1(_sfc_main$2G,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$1S=defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$2F=defineComponent({...__default__$1S,props:popperProps,setup(t,{expose:n}){const r=t,g=ref(),y=ref(),$=ref(),L=ref(),V=computed(()=>r.role),z={triggerRef:g,popperInstanceRef:y,contentRef:$,referenceRef:L,role:V};return n(z),provide(POPPER_INJECTION_KEY,z),(j,re)=>renderSlot(j.$slots,"default")}});var Popper=_export_sfc$1(_sfc_main$2F,[["__file","popper.vue"]]);const __default__$1R=defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$2E=defineComponent({...__default__$1R,setup(t,{expose:n}){const r=useNamespace("popper"),{arrowRef:g,arrowStyle:y}=inject(POPPER_CONTENT_INJECTION_KEY,void 0);return onBeforeUnmount(()=>{g.value=void 0}),n({arrowRef:g}),($,L)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:g,class:normalizeClass(unref(r).e("arrow")),style:normalizeStyle$1(unref(y)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc$1(_sfc_main$2E,[["__file","arrow.vue"]]);const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=t=>{provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r=>{t.value=r}})},useForwardRefDirective=t=>({mounted(n){t(n)},updated(n){t(n)},unmounted(){t(null)}}),NAME="ElOnlyChild",OnlyChild=defineComponent({name:NAME,setup(t,{slots:n,attrs:r}){var g;const y=inject(FORWARD_REF_INJECTION_KEY),$=useForwardRefDirective((g=y==null?void 0:y.setForwardRef)!=null?g:NOOP);return()=>{var L;const V=(L=n.default)==null?void 0:L.call(n,r);if(!V||V.length>1)return null;const z=findFirstLegitChild(V);return z?withDirectives(cloneVNode(z,r),[[$]]):null}}});function findFirstLegitChild(t){if(!t)return null;const n=t;for(const r of n){if(isObject$5(r))switch(r.type){case Comment:continue;case Text$1:case"svg":return wrapTextContent(r);case Fragment:return findFirstLegitChild(r.children);default:return r}return wrapTextContent(r)}return null}function wrapTextContent(t){const n=useNamespace("only-child");return createVNode$1("span",{class:n.e("content")},[t])}const __default__$1Q=defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$2D=defineComponent({...__default__$1Q,props:popperTriggerProps,setup(t,{expose:n}){const r=t,{role:g,triggerRef:y}=inject(POPPER_INJECTION_KEY,void 0);useForwardRef(y);const $=computed(()=>V.value?r.id:void 0),L=computed(()=>{if(g&&g.value==="tooltip")return r.open&&r.id?r.id:void 0}),V=computed(()=>{if(g&&g.value!=="tooltip")return g.value}),z=computed(()=>V.value?`${r.open}`:void 0);let j;const re=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return onMounted(()=>{watch(()=>r.virtualRef,ae=>{ae&&(y.value=unrefElement(ae))},{immediate:!0}),watch(y,(ae,oe)=>{j==null||j(),j=void 0,isElement$1(ae)&&(re.forEach(ie=>{var le;const ue=r[ie];ue&&(ae.addEventListener(ie.slice(2).toLowerCase(),ue),(le=oe==null?void 0:oe.removeEventListener)==null||le.call(oe,ie.slice(2).toLowerCase(),ue))}),isFocusable(ae)&&(j=watch([$,L,V,z],ie=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((le,ue)=>{isNil(ie[ue])?ae.removeAttribute(le):ae.setAttribute(le,ie[ue])})},{immediate:!0}))),isElement$1(oe)&&isFocusable(oe)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(ie=>oe.removeAttribute(ie))},{immediate:!0})}),onBeforeUnmount(()=>{if(j==null||j(),j=void 0,y.value&&isElement$1(y.value)){const ae=y.value;re.forEach(oe=>{const ie=r[oe];ie&&ae.removeEventListener(oe.slice(2).toLowerCase(),ie)}),y.value=void 0}}),n({triggerRef:y}),(ae,oe)=>ae.virtualTriggering?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(OnlyChild),mergeProps({key:0},ae.$attrs,{"aria-controls":unref($),"aria-describedby":unref(L),"aria-expanded":unref(z),"aria-haspopup":unref(V)}),{default:withCtx(()=>[renderSlot(ae.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc$1(_sfc_main$2D,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=ref(),lastUserFocusTimestamp=ref(0),lastAutomatedFocusTimestamp=ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=t=>{const n=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:g=>{const y=g.tagName==="INPUT"&&g.type==="hidden";return g.disabled||g.hidden||y?NodeFilter.FILTER_SKIP:g.tabIndex>=0||g===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)n.push(r.currentNode);return n},getVisibleElement=(t,n)=>{for(const r of t)if(!isHidden(r,n))return r},isHidden=(t,n)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(n&&t===n)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},getEdges=t=>{const n=obtainAllFocusableElements(t),r=getVisibleElement(n,t),g=getVisibleElement(n.reverse(),t);return[r,g]},isSelectable=t=>t instanceof HTMLInputElement&&"select"in t,tryFocus=(t,n)=>{if(t&&t.focus){const r=document.activeElement;let g=!1;isElement$1(t)&&!isFocusable(t)&&!t.getAttribute("tabindex")&&(t.setAttribute("tabindex","-1"),g=!0),t.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),t!==r&&isSelectable(t)&&n&&t.select(),isElement$1(t)&&g&&t.removeAttribute("tabindex")}};function removeFromStack(t,n){const r=[...t],g=t.indexOf(n);return g!==-1&&r.splice(g,1),r}const createFocusableStack=()=>{let t=[];return{push:g=>{const y=t[0];y&&g!==y&&y.pause(),t=removeFromStack(t,g),t.unshift(g)},remove:g=>{var y,$;t=removeFromStack(t,g),($=(y=t[0])==null?void 0:y.resume)==null||$.call(y)}}},focusFirstDescendant=(t,n=!1)=>{const r=document.activeElement;for(const g of t)if(tryFocus(g,n),document.activeElement!==r)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=t=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:t}),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"};let registeredEscapeHandlers=[];const cachedHandler=t=>{t.code===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(n=>n(t))},useEscapeKeydown=t=>{onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(t)}),onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(n=>n!==t),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})},_sfc_main$2C=defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:n}){const r=ref();let g,y;const{focusReason:$}=useFocusReason();useEscapeKeydown(le=>{t.trapped&&!L.paused&&n("release-requested",le)});const L={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},V=le=>{if(!t.loop&&!t.trapped||L.paused)return;const{code:ue,altKey:de,ctrlKey:he,metaKey:pe,currentTarget:_e,shiftKey:Ce}=le,{loop:xe}=t,Ie=ue===EVENT_CODE.tab&&!de&&!he&&!pe,$e=document.activeElement;if(Ie&&$e){const Oe=_e,[Ne,Fe]=getEdges(Oe);if(Ne&&Fe){if(!Ce&&$e===Fe){const ze=createFocusOutPreventedEvent({focusReason:$.value});n("focusout-prevented",ze),ze.defaultPrevented||(le.preventDefault(),xe&&tryFocus(Ne,!0))}else if(Ce&&[Ne,Oe].includes($e)){const ze=createFocusOutPreventedEvent({focusReason:$.value});n("focusout-prevented",ze),ze.defaultPrevented||(le.preventDefault(),xe&&tryFocus(Fe,!0))}}else if($e===Oe){const ze=createFocusOutPreventedEvent({focusReason:$.value});n("focusout-prevented",ze),ze.defaultPrevented||le.preventDefault()}}};provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:r,onKeydown:V}),watch(()=>t.focusTrapEl,le=>{le&&(r.value=le)},{immediate:!0}),watch([r],([le],[ue])=>{le&&(le.addEventListener("keydown",V),le.addEventListener("focusin",re),le.addEventListener("focusout",ae)),ue&&(ue.removeEventListener("keydown",V),ue.removeEventListener("focusin",re),ue.removeEventListener("focusout",ae))});const z=le=>{n(ON_TRAP_FOCUS_EVT,le)},j=le=>n(ON_RELEASE_FOCUS_EVT,le),re=le=>{const ue=unref(r);if(!ue)return;const de=le.target,he=le.relatedTarget,pe=de&&ue.contains(de);t.trapped||he&&ue.contains(he)||(g=he),pe&&n("focusin",le),!L.paused&&t.trapped&&(pe?y=de:tryFocus(y,!0))},ae=le=>{const ue=unref(r);if(!(L.paused||!ue))if(t.trapped){const de=le.relatedTarget;!isNil(de)&&!ue.contains(de)&&setTimeout(()=>{if(!L.paused&&t.trapped){const he=createFocusOutPreventedEvent({focusReason:$.value});n("focusout-prevented",he),he.defaultPrevented||tryFocus(y,!0)}},0)}else{const de=le.target;de&&ue.contains(de)||n("focusout",le)}};async function oe(){await nextTick();const le=unref(r);if(le){focusableStack.push(L);const ue=le.contains(document.activeElement)?g:document.activeElement;if(g=ue,!le.contains(ue)){const he=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);le.addEventListener(FOCUS_AFTER_TRAPPED,z),le.dispatchEvent(he),he.defaultPrevented||nextTick(()=>{let pe=t.focusStartEl;isString$2(pe)||(tryFocus(pe),document.activeElement!==pe&&(pe="first")),pe==="first"&&focusFirstDescendant(obtainAllFocusableElements(le),!0),(document.activeElement===ue||pe==="container")&&tryFocus(le)})}}}function ie(){const le=unref(r);if(le){le.removeEventListener(FOCUS_AFTER_TRAPPED,z);const ue=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:$.value}});le.addEventListener(FOCUS_AFTER_RELEASED,j),le.dispatchEvent(ue),!ue.defaultPrevented&&($.value=="keyboard"||!isFocusCausedByUserEvent()||le.contains(document.activeElement))&&tryFocus(g??document.body),le.removeEventListener(FOCUS_AFTER_RELEASED,j),focusableStack.remove(L)}}return onMounted(()=>{t.trapped&&oe(),watch(()=>t.trapped,le=>{le?oe():ie()})}),onBeforeUnmount(()=>{t.trapped&&ie(),r.value&&(r.value.removeEventListener("keydown",V),r.value.removeEventListener("focusin",re),r.value.removeEventListener("focusout",ae),r.value=void 0)}),{onKeydown:V}}});function _sfc_render$x(t,n,r,g,y,$){return renderSlot(t.$slots,"default",{handleKeydown:t.onKeydown})}var ElFocusTrap=_export_sfc$1(_sfc_main$2C,[["render",_sfc_render$x],["__file","focus-trap.vue"]]),E$1="top",R="bottom",W="right",P$1="left",me="auto",G=[E$1,R,W,P$1],U$1="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(t,n){return t.concat([n+"-"+U$1,n+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(t,n){return t.concat([n,n+"-"+U$1,n+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt$1="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt$1];function C(t){return t?(t.nodeName||"").toLowerCase():null}function H(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var n=t.ownerDocument;return n&&n.defaultView||window}return t}function Q(t){var n=H(t).Element;return t instanceof n||t instanceof Element}function B(t){var n=H(t).HTMLElement;return t instanceof n||t instanceof HTMLElement}function Pe(t){if(typeof ShadowRoot>"u")return!1;var n=H(t).ShadowRoot;return t instanceof n||t instanceof ShadowRoot}function Mt(t){var n=t.state;Object.keys(n.elements).forEach(function(r){var g=n.styles[r]||{},y=n.attributes[r]||{},$=n.elements[r];!B($)||!C($)||(Object.assign($.style,g),Object.keys(y).forEach(function(L){var V=y[L];V===!1?$.removeAttribute(L):$.setAttribute(L,V===!0?"":V)}))})}function Rt(t){var n=t.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow),function(){Object.keys(n.elements).forEach(function(g){var y=n.elements[g],$=n.attributes[g]||{},L=Object.keys(n.styles.hasOwnProperty(g)?n.styles[g]:r[g]),V=L.reduce(function(z,j){return z[j]="",z},{});!B(y)||!C(y)||(Object.assign(y.style,V),Object.keys($).forEach(function(z){y.removeAttribute(z)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(t){return t.split("-")[0]}var X$1=Math.max,ve=Math.min,Z=Math.round;function ee(t,n){n===void 0&&(n=!1);var r=t.getBoundingClientRect(),g=1,y=1;if(B(t)&&n){var $=t.offsetHeight,L=t.offsetWidth;L>0&&(g=Z(r.width)/L||1),$>0&&(y=Z(r.height)/$||1)}return{width:r.width/g,height:r.height/y,top:r.top/y,right:r.right/g,bottom:r.bottom/y,left:r.left/g,x:r.left/g,y:r.top/y}}function ke(t){var n=ee(t),r=t.offsetWidth,g=t.offsetHeight;return Math.abs(n.width-r)<=1&&(r=n.width),Math.abs(n.height-g)<=1&&(g=n.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:g}}function it(t,n){var r=n.getRootNode&&n.getRootNode();if(t.contains(n))return!0;if(r&&Pe(r)){var g=n;do{if(g&&t.isSameNode(g))return!0;g=g.parentNode||g.host}while(g)}return!1}function N$1(t){return H(t).getComputedStyle(t)}function Wt(t){return["table","td","th"].indexOf(C(t))>=0}function I$1(t){return((Q(t)?t.ownerDocument:t.document)||window.document).documentElement}function ge(t){return C(t)==="html"?t:t.assignedSlot||t.parentNode||(Pe(t)?t.host:null)||I$1(t)}function at(t){return!B(t)||N$1(t).position==="fixed"?null:t.offsetParent}function Bt(t){var n=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&B(t)){var g=N$1(t);if(g.position==="fixed")return null}var y=ge(t);for(Pe(y)&&(y=y.host);B(y)&&["html","body"].indexOf(C(y))<0;){var $=N$1(y);if($.transform!=="none"||$.perspective!=="none"||$.contain==="paint"||["transform","perspective"].indexOf($.willChange)!==-1||n&&$.willChange==="filter"||n&&$.filter&&$.filter!=="none")return y;y=y.parentNode}return null}function se(t){for(var n=H(t),r=at(t);r&&Wt(r)&&N$1(r).position==="static";)r=at(r);return r&&(C(r)==="html"||C(r)==="body"&&N$1(r).position==="static")?n:r||Bt(t)||n}function Le(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function fe(t,n,r){return X$1(t,ve(n,r))}function St(t,n,r){var g=fe(t,n,r);return g>r?r:g}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(t){return Object.assign({},st(),t)}function ct(t,n){return n.reduce(function(r,g){return r[g]=t,r},{})}var Tt=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,ft(typeof t!="number"?t:ct(t,G))};function Ht(t){var n,r=t.state,g=t.name,y=t.options,$=r.elements.arrow,L=r.modifiersData.popperOffsets,V=q(r.placement),z=Le(V),j=[P$1,W].indexOf(V)>=0,re=j?"height":"width";if(!(!$||!L)){var ae=Tt(y.padding,r),oe=ke($),ie=z==="y"?E$1:P$1,le=z==="y"?R:W,ue=r.rects.reference[re]+r.rects.reference[z]-L[z]-r.rects.popper[re],de=L[z]-r.rects.reference[z],he=se($),pe=he?z==="y"?he.clientHeight||0:he.clientWidth||0:0,_e=ue/2-de/2,Ce=ae[ie],xe=pe-oe[re]-ae[le],Ie=pe/2-oe[re]/2+_e,$e=fe(Ce,Ie,xe),Oe=z;r.modifiersData[g]=(n={},n[Oe]=$e,n.centerOffset=$e-Ie,n)}}function Ct(t){var n=t.state,r=t.options,g=r.element,y=g===void 0?"[data-popper-arrow]":g;y!=null&&(typeof y=="string"&&(y=n.elements.popper.querySelector(y),!y)||!it(n.elements.popper,y)||(n.elements.arrow=y))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(t){return t.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(t){var n=t.x,r=t.y,g=window,y=g.devicePixelRatio||1;return{x:Z(n*y)/y||0,y:Z(r*y)/y||0}}function ut(t){var n,r=t.popper,g=t.popperRect,y=t.placement,$=t.variation,L=t.offsets,V=t.position,z=t.gpuAcceleration,j=t.adaptive,re=t.roundOffsets,ae=t.isFixed,oe=L.x,ie=oe===void 0?0:oe,le=L.y,ue=le===void 0?0:le,de=typeof re=="function"?re({x:ie,y:ue}):{x:ie,y:ue};ie=de.x,ue=de.y;var he=L.hasOwnProperty("x"),pe=L.hasOwnProperty("y"),_e=P$1,Ce=E$1,xe=window;if(j){var Ie=se(r),$e="clientHeight",Oe="clientWidth";if(Ie===H(r)&&(Ie=I$1(r),N$1(Ie).position!=="static"&&V==="absolute"&&($e="scrollHeight",Oe="scrollWidth")),Ie=Ie,y===E$1||(y===P$1||y===W)&&$===J){Ce=R;var Ne=ae&&Ie===xe&&xe.visualViewport?xe.visualViewport.height:Ie[$e];ue-=Ne-g.height,ue*=z?1:-1}if(y===P$1||(y===E$1||y===R)&&$===J){_e=W;var Fe=ae&&Ie===xe&&xe.visualViewport?xe.visualViewport.width:Ie[Oe];ie-=Fe-g.width,ie*=z?1:-1}}var Ve=Object.assign({position:V},j&&qt),ze=re===!0?Vt({x:ie,y:ue}):{x:ie,y:ue};if(ie=ze.x,ue=ze.y,z){var Et;return Object.assign({},Ve,(Et={},Et[Ce]=pe?"0":"",Et[_e]=he?"0":"",Et.transform=(xe.devicePixelRatio||1)<=1?"translate("+ie+"px, "+ue+"px)":"translate3d("+ie+"px, "+ue+"px, 0)",Et))}return Object.assign({},Ve,(n={},n[Ce]=pe?ue+"px":"",n[_e]=he?ie+"px":"",n.transform="",n))}function Nt(t){var n=t.state,r=t.options,g=r.gpuAcceleration,y=g===void 0?!0:g,$=r.adaptive,L=$===void 0?!0:$,V=r.roundOffsets,z=V===void 0?!0:V,j={placement:q(n.placement),variation:te(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:y,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,ut(Object.assign({},j,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:L,roundOffsets:z})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,ut(Object.assign({},j,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:z})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(t){var n=t.state,r=t.instance,g=t.options,y=g.scroll,$=y===void 0?!0:y,L=g.resize,V=L===void 0?!0:L,z=H(n.elements.popper),j=[].concat(n.scrollParents.reference,n.scrollParents.popper);return $&&j.forEach(function(re){re.addEventListener("scroll",r.update,ye)}),V&&z.addEventListener("resize",r.update,ye),function(){$&&j.forEach(function(re){re.removeEventListener("scroll",r.update,ye)}),V&&z.removeEventListener("resize",r.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(t){return t.replace(/left|right|bottom|top/g,function(n){return _t[n]})}var zt={start:"end",end:"start"};function lt$1(t){return t.replace(/start|end/g,function(n){return zt[n]})}function We(t){var n=H(t),r=n.pageXOffset,g=n.pageYOffset;return{scrollLeft:r,scrollTop:g}}function Be(t){return ee(I$1(t)).left+We(t).scrollLeft}function Ft(t){var n=H(t),r=I$1(t),g=n.visualViewport,y=r.clientWidth,$=r.clientHeight,L=0,V=0;return g&&(y=g.width,$=g.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(L=g.offsetLeft,V=g.offsetTop)),{width:y,height:$,x:L+Be(t),y:V}}function Ut(t){var n,r=I$1(t),g=We(t),y=(n=t.ownerDocument)==null?void 0:n.body,$=X$1(r.scrollWidth,r.clientWidth,y?y.scrollWidth:0,y?y.clientWidth:0),L=X$1(r.scrollHeight,r.clientHeight,y?y.scrollHeight:0,y?y.clientHeight:0),V=-g.scrollLeft+Be(t),z=-g.scrollTop;return N$1(y||r).direction==="rtl"&&(V+=X$1(r.clientWidth,y?y.clientWidth:0)-$),{width:$,height:L,x:V,y:z}}function Se(t){var n=N$1(t),r=n.overflow,g=n.overflowX,y=n.overflowY;return/auto|scroll|overlay|hidden/.test(r+y+g)}function dt(t){return["html","body","#document"].indexOf(C(t))>=0?t.ownerDocument.body:B(t)&&Se(t)?t:dt(ge(t))}function ce(t,n){var r;n===void 0&&(n=[]);var g=dt(t),y=g===((r=t.ownerDocument)==null?void 0:r.body),$=H(g),L=y?[$].concat($.visualViewport||[],Se(g)?g:[]):g,V=n.concat(L);return y?V:V.concat(ce(ge(L)))}function Te(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Xt(t){var n=ee(t);return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ht(t,n){return n===je?Te(Ft(t)):Q(n)?Xt(n):Te(Ut(I$1(t)))}function Yt(t){var n=ce(ge(t)),r=["absolute","fixed"].indexOf(N$1(t).position)>=0,g=r&&B(t)?se(t):t;return Q(g)?n.filter(function(y){return Q(y)&&it(y,g)&&C(y)!=="body"}):[]}function Gt(t,n,r){var g=n==="clippingParents"?Yt(t):[].concat(n),y=[].concat(g,[r]),$=y[0],L=y.reduce(function(V,z){var j=ht(t,z);return V.top=X$1(j.top,V.top),V.right=ve(j.right,V.right),V.bottom=ve(j.bottom,V.bottom),V.left=X$1(j.left,V.left),V},ht(t,$));return L.width=L.right-L.left,L.height=L.bottom-L.top,L.x=L.left,L.y=L.top,L}function mt(t){var n=t.reference,r=t.element,g=t.placement,y=g?q(g):null,$=g?te(g):null,L=n.x+n.width/2-r.width/2,V=n.y+n.height/2-r.height/2,z;switch(y){case E$1:z={x:L,y:n.y-r.height};break;case R:z={x:L,y:n.y+n.height};break;case W:z={x:n.x+n.width,y:V};break;case P$1:z={x:n.x-r.width,y:V};break;default:z={x:n.x,y:n.y}}var j=y?Le(y):null;if(j!=null){var re=j==="y"?"height":"width";switch($){case U$1:z[j]=z[j]-(n[re]/2-r[re]/2);break;case J:z[j]=z[j]+(n[re]/2-r[re]/2);break}}return z}function ne(t,n){n===void 0&&(n={});var r=n,g=r.placement,y=g===void 0?t.placement:g,$=r.boundary,L=$===void 0?Xe:$,V=r.rootBoundary,z=V===void 0?je:V,j=r.elementContext,re=j===void 0?K:j,ae=r.altBoundary,oe=ae===void 0?!1:ae,ie=r.padding,le=ie===void 0?0:ie,ue=ft(typeof le!="number"?le:ct(le,G)),de=re===K?Ye:K,he=t.rects.popper,pe=t.elements[oe?de:re],_e=Gt(Q(pe)?pe:pe.contextElement||I$1(t.elements.popper),L,z),Ce=ee(t.elements.reference),xe=mt({reference:Ce,element:he,placement:y}),Ie=Te(Object.assign({},he,xe)),$e=re===K?Ie:Ce,Oe={top:_e.top-$e.top+ue.top,bottom:$e.bottom-_e.bottom+ue.bottom,left:_e.left-$e.left+ue.left,right:$e.right-_e.right+ue.right},Ne=t.modifiersData.offset;if(re===K&&Ne){var Fe=Ne[y];Object.keys(Oe).forEach(function(Ve){var ze=[W,R].indexOf(Ve)>=0?1:-1,Et=[E$1,R].indexOf(Ve)>=0?"y":"x";Oe[Ve]+=Fe[Et]*ze})}return Oe}function Jt(t,n){n===void 0&&(n={});var r=n,g=r.placement,y=r.boundary,$=r.rootBoundary,L=r.padding,V=r.flipVariations,z=r.allowedAutoPlacements,j=z===void 0?Ee:z,re=te(g),ae=re?V?De:De.filter(function(le){return te(le)===re}):G,oe=ae.filter(function(le){return j.indexOf(le)>=0});oe.length===0&&(oe=ae);var ie=oe.reduce(function(le,ue){return le[ue]=ne(t,{placement:ue,boundary:y,rootBoundary:$,padding:L})[q(ue)],le},{});return Object.keys(ie).sort(function(le,ue){return ie[le]-ie[ue]})}function Kt(t){if(q(t)===me)return[];var n=be(t);return[lt$1(t),n,lt$1(n)]}function Qt(t){var n=t.state,r=t.options,g=t.name;if(!n.modifiersData[g]._skip){for(var y=r.mainAxis,$=y===void 0?!0:y,L=r.altAxis,V=L===void 0?!0:L,z=r.fallbackPlacements,j=r.padding,re=r.boundary,ae=r.rootBoundary,oe=r.altBoundary,ie=r.flipVariations,le=ie===void 0?!0:ie,ue=r.allowedAutoPlacements,de=n.options.placement,he=q(de),pe=he===de,_e=z||(pe||!le?[be(de)]:Kt(de)),Ce=[de].concat(_e).reduce(function(jt,_n){return jt.concat(q(_n)===me?Jt(n,{placement:_n,boundary:re,rootBoundary:ae,padding:j,flipVariations:le,allowedAutoPlacements:ue}):_n)},[]),xe=n.rects.reference,Ie=n.rects.popper,$e=new Map,Oe=!0,Ne=Ce[0],Fe=0;Fe<Ce.length;Fe++){var Ve=Ce[Fe],ze=q(Ve),Et=te(Ve)===U$1,Dt=[E$1,R].indexOf(ze)>=0,Ue=Dt?"width":"height",qe=ne(n,{placement:Ve,boundary:re,rootBoundary:ae,altBoundary:oe,padding:j}),Lt=Dt?Et?W:P$1:Et?R:E$1;xe[Ue]>Ie[Ue]&&(Lt=be(Lt));var Pt=be(Lt),At=[];if($&&At.push(qe[ze]<=0),V&&At.push(qe[Lt]<=0,qe[Pt]<=0),At.every(function(jt){return jt})){Ne=Ve,Oe=!1;break}$e.set(Ve,At)}if(Oe)for(var vn=le?3:1,En=function(jt){var _n=Ce.find(function(wn){var hn=$e.get(wn);if(hn)return hn.slice(0,jt).every(function(Cn){return Cn})});if(_n)return Ne=_n,"break"},Sn=vn;Sn>0;Sn--){var kt=En(Sn);if(kt==="break")break}n.placement!==Ne&&(n.modifiersData[g]._skip=!0,n.placement=Ne,n.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(t,n,r){return r===void 0&&(r={x:0,y:0}),{top:t.top-n.height-r.y,right:t.right-n.width+r.x,bottom:t.bottom-n.height+r.y,left:t.left-n.width-r.x}}function yt(t){return[E$1,W,R,P$1].some(function(n){return t[n]>=0})}function Zt(t){var n=t.state,r=t.name,g=n.rects.reference,y=n.rects.popper,$=n.modifiersData.preventOverflow,L=ne(n,{elementContext:"reference"}),V=ne(n,{altBoundary:!0}),z=gt(L,g),j=gt(V,y,$),re=yt(z),ae=yt(j);n.modifiersData[r]={referenceClippingOffsets:z,popperEscapeOffsets:j,isReferenceHidden:re,hasPopperEscaped:ae},n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-reference-hidden":re,"data-popper-escaped":ae})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(t,n,r){var g=q(t),y=[P$1,E$1].indexOf(g)>=0?-1:1,$=typeof r=="function"?r(Object.assign({},n,{placement:t})):r,L=$[0],V=$[1];return L=L||0,V=(V||0)*y,[P$1,W].indexOf(g)>=0?{x:V,y:L}:{x:L,y:V}}function tn(t){var n=t.state,r=t.options,g=t.name,y=r.offset,$=y===void 0?[0,0]:y,L=Ee.reduce(function(re,ae){return re[ae]=en(ae,n.rects,$),re},{}),V=L[n.placement],z=V.x,j=V.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=z,n.modifiersData.popperOffsets.y+=j),n.modifiersData[g]=L}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(t){var n=t.state,r=t.name;n.modifiersData[r]=mt({reference:n.rects.reference,element:n.rects.popper,placement:n.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(t){return t==="x"?"y":"x"}function on(t){var n=t.state,r=t.options,g=t.name,y=r.mainAxis,$=y===void 0?!0:y,L=r.altAxis,V=L===void 0?!1:L,z=r.boundary,j=r.rootBoundary,re=r.altBoundary,ae=r.padding,oe=r.tether,ie=oe===void 0?!0:oe,le=r.tetherOffset,ue=le===void 0?0:le,de=ne(n,{boundary:z,rootBoundary:j,padding:ae,altBoundary:re}),he=q(n.placement),pe=te(n.placement),_e=!pe,Ce=Le(he),xe=rn(Ce),Ie=n.modifiersData.popperOffsets,$e=n.rects.reference,Oe=n.rects.popper,Ne=typeof ue=="function"?ue(Object.assign({},n.rects,{placement:n.placement})):ue,Fe=typeof Ne=="number"?{mainAxis:Ne,altAxis:Ne}:Object.assign({mainAxis:0,altAxis:0},Ne),Ve=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,ze={x:0,y:0};if(Ie){if($){var Et,Dt=Ce==="y"?E$1:P$1,Ue=Ce==="y"?R:W,qe=Ce==="y"?"height":"width",Lt=Ie[Ce],Pt=Lt+de[Dt],At=Lt-de[Ue],vn=ie?-Oe[qe]/2:0,En=pe===U$1?$e[qe]:Oe[qe],Sn=pe===U$1?-Oe[qe]:-$e[qe],kt=n.elements.arrow,jt=ie&&kt?ke(kt):{width:0,height:0},_n=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:st(),wn=_n[Dt],hn=_n[Ue],Cn=fe(0,$e[qe],jt[qe]),Tn=_e?$e[qe]/2-vn-Cn-wn-Fe.mainAxis:En-Cn-wn-Fe.mainAxis,xn=_e?-$e[qe]/2+vn+Cn+hn+Fe.mainAxis:Sn+Cn+hn+Fe.mainAxis,Mn=n.elements.arrow&&se(n.elements.arrow),bn=Mn?Ce==="y"?Mn.clientTop||0:Mn.clientLeft||0:0,Pn=(Et=Ve==null?void 0:Ve[Ce])!=null?Et:0,Rn=Lt+Tn-Pn-bn,Fn=Lt+xn-Pn,Dn=fe(ie?ve(Pt,Rn):Pt,Lt,ie?X$1(At,Fn):At);Ie[Ce]=Dn,ze[Ce]=Dn-Lt}if(V){var Ln,kn=Ce==="x"?E$1:P$1,In=Ce==="x"?R:W,Vn=Ie[xe],zn=xe==="y"?"height":"width",Kn=Vn+de[kn],jn=Vn-de[In],Wn=[E$1,P$1].indexOf(he)!==-1,Un=(Ln=Ve==null?void 0:Ve[xe])!=null?Ln:0,nr=Wn?Kn:Vn-$e[zn]-Oe[zn]-Un+Fe.altAxis,sr=Wn?Vn+$e[zn]+Oe[zn]-Un-Fe.altAxis:jn,mr=ie&&Wn?St(nr,Vn,sr):fe(ie?nr:Kn,Vn,ie?sr:jn);Ie[xe]=mr,ze[xe]=mr-Vn}n.modifiersData[g]=ze}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function sn(t){return t===H(t)||!B(t)?We(t):an(t)}function fn(t){var n=t.getBoundingClientRect(),r=Z(n.width)/t.offsetWidth||1,g=Z(n.height)/t.offsetHeight||1;return r!==1||g!==1}function cn(t,n,r){r===void 0&&(r=!1);var g=B(n),y=B(n)&&fn(n),$=I$1(n),L=ee(t,y),V={scrollLeft:0,scrollTop:0},z={x:0,y:0};return(g||!g&&!r)&&((C(n)!=="body"||Se($))&&(V=sn(n)),B(n)?(z=ee(n,!0),z.x+=n.clientLeft,z.y+=n.clientTop):$&&(z.x=Be($))),{x:L.left+V.scrollLeft-z.x,y:L.top+V.scrollTop-z.y,width:L.width,height:L.height}}function pn(t){var n=new Map,r=new Set,g=[];t.forEach(function($){n.set($.name,$)});function y($){r.add($.name);var L=[].concat($.requires||[],$.requiresIfExists||[]);L.forEach(function(V){if(!r.has(V)){var z=n.get(V);z&&y(z)}}),g.push($)}return t.forEach(function($){r.has($.name)||y($)}),g}function un(t){var n=pn(t);return ot.reduce(function(r,g){return r.concat(n.filter(function(y){return y.phase===g}))},[])}function ln(t){var n;return function(){return n||(n=new Promise(function(r){Promise.resolve().then(function(){n=void 0,r(t())})})),n}}function dn(t){var n=t.reduce(function(r,g){var y=r[g.name];return r[g.name]=y?Object.assign({},y,g,{options:Object.assign({},y.options,g.options),data:Object.assign({},y.data,g.data)}):g,r},{});return Object.keys(n).map(function(r){return n[r]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return!n.some(function(g){return!(g&&typeof g.getBoundingClientRect=="function")})}function we(t){t===void 0&&(t={});var n=t,r=n.defaultModifiers,g=r===void 0?[]:r,y=n.defaultOptions,$=y===void 0?Ot:y;return function(L,V,z){z===void 0&&(z=$);var j={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,$),modifiersData:{},elements:{reference:L,popper:V},attributes:{},styles:{}},re=[],ae=!1,oe={state:j,setOptions:function(ue){var de=typeof ue=="function"?ue(j.options):ue;le(),j.options=Object.assign({},$,j.options,de),j.scrollParents={reference:Q(L)?ce(L):L.contextElement?ce(L.contextElement):[],popper:ce(V)};var he=un(dn([].concat(g,j.options.modifiers)));return j.orderedModifiers=he.filter(function(pe){return pe.enabled}),ie(),oe.update()},forceUpdate:function(){if(!ae){var ue=j.elements,de=ue.reference,he=ue.popper;if($t(de,he)){j.rects={reference:cn(de,se(he),j.options.strategy==="fixed"),popper:ke(he)},j.reset=!1,j.placement=j.options.placement,j.orderedModifiers.forEach(function(Oe){return j.modifiersData[Oe.name]=Object.assign({},Oe.data)});for(var pe=0;pe<j.orderedModifiers.length;pe++){if(j.reset===!0){j.reset=!1,pe=-1;continue}var _e=j.orderedModifiers[pe],Ce=_e.fn,xe=_e.options,Ie=xe===void 0?{}:xe,$e=_e.name;typeof Ce=="function"&&(j=Ce({state:j,options:Ie,name:$e,instance:oe})||j)}}}},update:ln(function(){return new Promise(function(ue){oe.forceUpdate(),ue(j)})}),destroy:function(){le(),ae=!0}};if(!$t(L,V))return oe;oe.setOptions(z).then(function(ue){!ae&&z.onFirstUpdate&&z.onFirstUpdate(ue)});function ie(){j.orderedModifiers.forEach(function(ue){var de=ue.name,he=ue.options,pe=he===void 0?{}:he,_e=ue.effect;if(typeof _e=="function"){var Ce=_e({state:j,name:de,instance:oe,options:pe}),xe=function(){};re.push(Ce||xe)}})}function le(){re.forEach(function(ue){return ue()}),re=[]}return oe}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,...popperArrowProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:definePropType(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},usePopperContentFocusTrap=(t,n)=>{const r=ref(!1),g=ref();return{focusStartRef:g,trapped:r,onFocusAfterReleased:j=>{var re;((re=j.detail)==null?void 0:re.focusReason)!=="pointer"&&(g.value="first",n("blur"))},onFocusAfterTrapped:()=>{n("focus")},onFocusInTrap:j=>{t.visible&&!r.value&&(j.target&&(g.value=j.target),r.value=!0)},onFocusoutPrevented:j=>{t.trapping||(j.detail.focusReason==="pointer"&&j.preventDefault(),r.value=!1)},onReleaseRequested:()=>{r.value=!1,n("close")}}},buildPopperOptions=(t,n=[])=>{const{placement:r,strategy:g,popperOptions:y}=t,$={placement:r,strategy:g,...y,modifiers:[...genModifiers(t),...n]};return deriveExtraModifiers($,y==null?void 0:y.modifiers),$},unwrapMeasurableEl=t=>{if(isClient)return unrefElement(t)};function genModifiers(t){const{offset:n,gpuAcceleration:r,fallbackPlacements:g}=t;return[{name:"offset",options:{offset:[0,n??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:g}},{name:"computeStyles",options:{gpuAcceleration:r}}]}function deriveExtraModifiers(t,n){n&&(t.modifiers=[...t.modifiers,...n??[]])}const usePopper=(t,n,r={})=>{const g={name:"updateState",enabled:!0,phase:"write",fn:({state:z})=>{const j=deriveState(z);Object.assign(L.value,j)},requires:["computeStyles"]},y=computed(()=>{const{onFirstUpdate:z,placement:j,strategy:re,modifiers:ae}=unref(r);return{onFirstUpdate:z,placement:j||"bottom",strategy:re||"absolute",modifiers:[...ae||[],g,{name:"applyStyles",enabled:!1}]}}),$=shallowRef(),L=ref({styles:{popper:{position:unref(y).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),V=()=>{$.value&&($.value.destroy(),$.value=void 0)};return watch(y,z=>{const j=unref($);j&&j.setOptions(z)},{deep:!0}),watch([t,n],([z,j])=>{V(),!(!z||!j)&&($.value=yn(z,j,unref(y)))}),onBeforeUnmount(()=>{V()}),{state:computed(()=>{var z;return{...((z=unref($))==null?void 0:z.state)||{}}}),styles:computed(()=>unref(L).styles),attributes:computed(()=>unref(L).attributes),update:()=>{var z;return(z=unref($))==null?void 0:z.update()},forceUpdate:()=>{var z;return(z=unref($))==null?void 0:z.forceUpdate()},instanceRef:computed(()=>unref($))}};function deriveState(t){const n=Object.keys(t.elements),r=fromPairs(n.map(y=>[y,t.styles[y]||{}])),g=fromPairs(n.map(y=>[y,t.attributes[y]]));return{styles:r,attributes:g}}const DEFAULT_ARROW_OFFSET=0,usePopperContent=t=>{const{popperInstanceRef:n,contentRef:r,triggerRef:g,role:y}=inject(POPPER_INJECTION_KEY,void 0),$=ref(),L=computed(()=>t.arrowOffset),V=computed(()=>({name:"eventListeners",enabled:!!t.visible})),z=computed(()=>{var he;const pe=unref($),_e=(he=unref(L))!=null?he:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!isUndefined$1(pe),options:{element:pe,padding:_e}}}),j=computed(()=>({onFirstUpdate:()=>{le()},...buildPopperOptions(t,[unref(z),unref(V)])})),re=computed(()=>unwrapMeasurableEl(t.referenceEl)||unref(g)),{attributes:ae,state:oe,styles:ie,update:le,forceUpdate:ue,instanceRef:de}=usePopper(re,r,j);return watch(de,he=>n.value=he,{flush:"sync"}),onMounted(()=>{watch(()=>{var he;return(he=unref(re))==null?void 0:he.getBoundingClientRect()},()=>{le()})}),{attributes:ae,arrowRef:$,contentRef:r,instanceRef:de,state:oe,styles:ie,role:y,forceUpdate:ue,update:le}},usePopperContentDOM=(t,{attributes:n,styles:r,role:g})=>{const{nextZIndex:y}=useZIndex(),$=useNamespace("popper"),L=computed(()=>unref(n).popper),V=ref(isNumber$1(t.zIndex)?t.zIndex:y()),z=computed(()=>[$.b(),$.is("pure",t.pure),$.is(t.effect),t.popperClass]),j=computed(()=>[{zIndex:unref(V)},unref(r).popper,t.popperStyle||{}]),re=computed(()=>g.value==="dialog"?"false":void 0),ae=computed(()=>unref(r).arrow||{});return{ariaModal:re,arrowStyle:ae,contentAttrs:L,contentClass:z,contentStyle:j,contentZIndex:V,updateZIndex:()=>{V.value=isNumber$1(t.zIndex)?t.zIndex:y()}}},__default__$1P=defineComponent({name:"ElPopperContent"}),_sfc_main$2B=defineComponent({...__default__$1P,props:popperContentProps,emits:popperContentEmits,setup(t,{expose:n,emit:r}){const g=t,{focusStartRef:y,trapped:$,onFocusAfterReleased:L,onFocusAfterTrapped:V,onFocusInTrap:z,onFocusoutPrevented:j,onReleaseRequested:re}=usePopperContentFocusTrap(g,r),{attributes:ae,arrowRef:oe,contentRef:ie,styles:le,instanceRef:ue,role:de,update:he}=usePopperContent(g),{ariaModal:pe,arrowStyle:_e,contentAttrs:Ce,contentClass:xe,contentStyle:Ie,updateZIndex:$e}=usePopperContentDOM(g,{styles:le,attributes:ae,role:de}),Oe=inject(formItemContextKey,void 0);provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:_e,arrowRef:oe}),Oe&&provide(formItemContextKey,{...Oe,addInputId:NOOP,removeInputId:NOOP});let Ne;const Fe=(ze=!0)=>{he(),ze&&$e()},Ve=()=>{Fe(!1),g.visible&&g.focusOnShow?$.value=!0:g.visible===!1&&($.value=!1)};return onMounted(()=>{watch(()=>g.triggerTargetEl,(ze,Et)=>{Ne==null||Ne(),Ne=void 0;const Dt=unref(ze||ie.value),Ue=unref(Et||ie.value);isElement$1(Dt)&&(Ne=watch([de,()=>g.ariaLabel,pe,()=>g.id],qe=>{["role","aria-label","aria-modal","id"].forEach((Lt,Pt)=>{isNil(qe[Pt])?Dt.removeAttribute(Lt):Dt.setAttribute(Lt,qe[Pt])})},{immediate:!0})),Ue!==Dt&&isElement$1(Ue)&&["role","aria-label","aria-modal","id"].forEach(qe=>{Ue.removeAttribute(qe)})},{immediate:!0}),watch(()=>g.visible,Ve,{immediate:!0})}),onBeforeUnmount(()=>{Ne==null||Ne(),Ne=void 0}),n({popperContentRef:ie,popperInstanceRef:ue,updatePopper:Fe,contentStyle:Ie}),(ze,Et)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"contentRef",ref:ie},unref(Ce),{style:unref(Ie),class:unref(xe),tabindex:"-1",onMouseenter:Dt=>ze.$emit("mouseenter",Dt),onMouseleave:Dt=>ze.$emit("mouseleave",Dt)}),[createVNode$1(unref(ElFocusTrap),{trapped:unref($),"trap-on-focus-in":!0,"focus-trap-el":unref(ie),"focus-start-el":unref(y),onFocusAfterTrapped:unref(V),onFocusAfterReleased:unref(L),onFocusin:unref(z),onFocusoutPrevented:unref(j),onReleaseRequested:unref(re)},{default:withCtx(()=>[renderSlot(ze.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var ElPopperContent=_export_sfc$1(_sfc_main$2B,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),teleportProps=buildProps({to:{type:definePropType([String,Object]),required:!0},disabled:Boolean}),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:teleportProps.to.type},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space]}}),_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=t=>{const n=`update:${t}`,r=`onUpdate:${t}`,g=[n],y={[t]:_prop,[r]:_event};return{useModelToggle:({indicator:L,toggleReason:V,shouldHideWhenRouteChanges:z,shouldProceed:j,onShow:re,onHide:ae})=>{const oe=getCurrentInstance(),{emit:ie}=oe,le=oe.props,ue=computed(()=>isFunction$3(le[r])),de=computed(()=>le[t]===null),he=$e=>{L.value!==!0&&(L.value=!0,V&&(V.value=$e),isFunction$3(re)&&re($e))},pe=$e=>{L.value!==!1&&(L.value=!1,V&&(V.value=$e),isFunction$3(ae)&&ae($e))},_e=$e=>{if(le.disabled===!0||isFunction$3(j)&&!j())return;const Oe=ue.value&&isClient;Oe&&ie(n,!0),(de.value||!Oe)&&he($e)},Ce=$e=>{if(le.disabled===!0||!isClient)return;const Oe=ue.value&&isClient;Oe&&ie(n,!1),(de.value||!Oe)&&pe($e)},xe=$e=>{isBoolean($e)&&(le.disabled&&$e?ue.value&&ie(n,!1):L.value!==$e&&($e?he():pe()))},Ie=()=>{L.value?Ce():_e()};return watch(()=>le[t],xe),z&&oe.appContext.config.globalProperties.$route!==void 0&&watch(()=>({...oe.proxy.$route}),()=>{z.value&&L.value&&Ce()}),onMounted(()=>{xe(le[t])}),{hide:Ce,show:_e,toggle:Ie,hasUpdateHandler:ue}},useModelToggleProps:y,useModelToggleEmits:g}},{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(t,n)=>isArray$4(t)?t.includes(n):t===n,whenTrigger=(t,n,r)=>g=>{isTriggerType(unref(t),n)&&r(g)},composeEventHandlers=(t,n,{checkForDefaultPrevented:r=!0}={})=>y=>{const $=t==null?void 0:t(y);if(r===!1||!$)return n==null?void 0:n(y)},whenMouse=t=>n=>n.pointerType==="mouse"?t(n):void 0,__default__$1O=defineComponent({name:"ElTooltipTrigger"}),_sfc_main$2A=defineComponent({...__default__$1O,props:useTooltipTriggerProps,setup(t,{expose:n}){const r=t,g=useNamespace("tooltip"),{controlled:y,id:$,open:L,onOpen:V,onClose:z,onToggle:j}=inject(TOOLTIP_INJECTION_KEY,void 0),re=ref(null),ae=()=>{if(unref(y)||r.disabled)return!0},oe=toRef(r,"trigger"),ie=composeEventHandlers(ae,whenTrigger(oe,"hover",V)),le=composeEventHandlers(ae,whenTrigger(oe,"hover",z)),ue=composeEventHandlers(ae,whenTrigger(oe,"click",Ce=>{Ce.button===0&&j(Ce)})),de=composeEventHandlers(ae,whenTrigger(oe,"focus",V)),he=composeEventHandlers(ae,whenTrigger(oe,"focus",z)),pe=composeEventHandlers(ae,whenTrigger(oe,"contextmenu",Ce=>{Ce.preventDefault(),j(Ce)})),_e=composeEventHandlers(ae,Ce=>{const{code:xe}=Ce;r.triggerKeys.includes(xe)&&(Ce.preventDefault(),j(Ce))});return n({triggerRef:re}),(Ce,xe)=>(openBlock(),createBlock(unref(ElPopperTrigger),{id:unref($),"virtual-ref":Ce.virtualRef,open:unref(L),"virtual-triggering":Ce.virtualTriggering,class:normalizeClass(unref(g).e("trigger")),onBlur:unref(he),onClick:unref(ue),onContextmenu:unref(pe),onFocus:unref(de),onMouseenter:unref(ie),onMouseleave:unref(le),onKeydown:unref(_e)},{default:withCtx(()=>[renderSlot(Ce.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc$1(_sfc_main$2A,[["__file","trigger.vue"]]);const _sfc_main$2z=defineComponent({__name:"teleport",props:teleportProps,setup(t){return(n,r)=>n.disabled?renderSlot(n.$slots,"default",{key:0}):(openBlock(),createBlock(Teleport$1,{key:1,to:n.to},[renderSlot(n.$slots,"default")],8,["to"]))}});var Teleport=_export_sfc$1(_sfc_main$2z,[["__file","teleport.vue"]]);const ElTeleport=withInstall(Teleport),usePopperContainerId=()=>{const t=useGetDerivedNamespace(),n=useIdInjection(),r=computed(()=>`${t.value}-popper-container-${n.prefix}`),g=computed(()=>`#${r.value}`);return{id:r,selector:g}},createContainer=t=>{const n=document.createElement("div");return n.id=t,document.body.appendChild(n),n},usePopperContainer=()=>{const{id:t,selector:n}=usePopperContainerId();return onBeforeMount(()=>{isClient&&(document.body.querySelector(n.value)||createContainer(t.value))}),{id:t,selector:n}},__default__$1N=defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$2y=defineComponent({...__default__$1N,props:useTooltipContentProps,setup(t,{expose:n}){const r=t,{selector:g}=usePopperContainerId(),y=useNamespace("tooltip"),$=ref(),L=computedEager(()=>{var Pt;return(Pt=$.value)==null?void 0:Pt.popperContentRef});let V;const{controlled:z,id:j,open:re,trigger:ae,onClose:oe,onOpen:ie,onShow:le,onHide:ue,onBeforeShow:de,onBeforeHide:he}=inject(TOOLTIP_INJECTION_KEY,void 0),pe=computed(()=>r.transition||`${y.namespace.value}-fade-in-linear`),_e=computed(()=>r.persistent);onBeforeUnmount(()=>{V==null||V()});const Ce=computed(()=>unref(_e)?!0:unref(re)),xe=computed(()=>r.disabled?!1:unref(re)),Ie=computed(()=>r.appendTo||g.value),$e=computed(()=>{var Pt;return(Pt=r.style)!=null?Pt:{}}),Oe=ref(!0),Ne=()=>{ue(),Lt()&&tryFocus(document.body),Oe.value=!0},Fe=()=>{if(unref(z))return!0},Ve=composeEventHandlers(Fe,()=>{r.enterable&&unref(ae)==="hover"&&ie()}),ze=composeEventHandlers(Fe,()=>{unref(ae)==="hover"&&oe()}),Et=()=>{var Pt,At;(At=(Pt=$.value)==null?void 0:Pt.updatePopper)==null||At.call(Pt),de==null||de()},Dt=()=>{he==null||he()},Ue=()=>{le()},qe=()=>{r.virtualTriggering||oe()},Lt=Pt=>{var At;const vn=(At=$.value)==null?void 0:At.popperContentRef,En=(Pt==null?void 0:Pt.relatedTarget)||document.activeElement;return vn==null?void 0:vn.contains(En)};return watch(()=>unref(re),Pt=>{Pt?(Oe.value=!1,V=onClickOutside(L,()=>{if(unref(z))return;unref(ae)!=="hover"&&oe()})):V==null||V()},{flush:"post"}),watch(()=>r.content,()=>{var Pt,At;(At=(Pt=$.value)==null?void 0:Pt.updatePopper)==null||At.call(Pt)}),n({contentRef:$,isFocusInsideContent:Lt}),(Pt,At)=>(openBlock(),createBlock(unref(ElTeleport),{disabled:!Pt.teleported,to:unref(Ie)},{default:withCtx(()=>[createVNode$1(Transition,{name:unref(pe),onAfterLeave:Ne,onBeforeEnter:Et,onAfterEnter:Ue,onBeforeLeave:Dt},{default:withCtx(()=>[unref(Ce)?withDirectives((openBlock(),createBlock(unref(ElPopperContent),mergeProps({key:0,id:unref(j),ref_key:"contentRef",ref:$},Pt.$attrs,{"aria-label":Pt.ariaLabel,"aria-hidden":Oe.value,"boundaries-padding":Pt.boundariesPadding,"fallback-placements":Pt.fallbackPlacements,"gpu-acceleration":Pt.gpuAcceleration,offset:Pt.offset,placement:Pt.placement,"popper-options":Pt.popperOptions,"arrow-offset":Pt.arrowOffset,strategy:Pt.strategy,effect:Pt.effect,enterable:Pt.enterable,pure:Pt.pure,"popper-class":Pt.popperClass,"popper-style":[Pt.popperStyle,unref($e)],"reference-el":Pt.referenceEl,"trigger-target-el":Pt.triggerTargetEl,visible:unref(xe),"z-index":Pt.zIndex,onMouseenter:unref(Ve),onMouseleave:unref(ze),onBlur:qe,onClose:unref(oe)}),{default:withCtx(()=>[renderSlot(Pt.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","arrow-offset","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vShow,unref(xe)]]):createCommentVNode("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var ElTooltipContent=_export_sfc$1(_sfc_main$2y,[["__file","content.vue"]]);const __default__$1M=defineComponent({name:"ElTooltip"}),_sfc_main$2x=defineComponent({...__default__$1M,props:useTooltipProps,emits:tooltipEmits,setup(t,{expose:n,emit:r}){const g=t;usePopperContainer();const y=useNamespace("tooltip"),$=useId(),L=ref(),V=ref(),z=()=>{var _e;const Ce=unref(L);Ce&&((_e=Ce.popperInstanceRef)==null||_e.update())},j=ref(!1),re=ref(),{show:ae,hide:oe,hasUpdateHandler:ie}=useTooltipModelToggle({indicator:j,toggleReason:re}),{onOpen:le,onClose:ue}=useDelayedToggle({showAfter:toRef(g,"showAfter"),hideAfter:toRef(g,"hideAfter"),autoClose:toRef(g,"autoClose"),open:ae,close:oe}),de=computed(()=>isBoolean(g.visible)&&!ie.value),he=computed(()=>[y.b(),g.popperClass]);provide(TOOLTIP_INJECTION_KEY,{controlled:de,id:$,open:readonly(j),trigger:toRef(g,"trigger"),onOpen:_e=>{le(_e)},onClose:_e=>{ue(_e)},onToggle:_e=>{unref(j)?ue(_e):le(_e)},onShow:()=>{r("show",re.value)},onHide:()=>{r("hide",re.value)},onBeforeShow:()=>{r("before-show",re.value)},onBeforeHide:()=>{r("before-hide",re.value)},updatePopper:z}),watch(()=>g.disabled,_e=>{_e&&j.value&&(j.value=!1)});const pe=_e=>{var Ce;return(Ce=V.value)==null?void 0:Ce.isFocusInsideContent(_e)};return onDeactivated(()=>j.value&&oe()),n({popperRef:L,contentRef:V,isFocusInsideContent:pe,updatePopper:z,onOpen:le,onClose:ue,hide:oe}),(_e,Ce)=>(openBlock(),createBlock(unref(ElPopper),{ref_key:"popperRef",ref:L,role:_e.role},{default:withCtx(()=>[createVNode$1(ElTooltipTrigger,{disabled:_e.disabled,trigger:_e.trigger,"trigger-keys":_e.triggerKeys,"virtual-ref":_e.virtualRef,"virtual-triggering":_e.virtualTriggering},{default:withCtx(()=>[_e.$slots.default?renderSlot(_e.$slots,"default",{key:0}):createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),createVNode$1(ElTooltipContent,{ref_key:"contentRef",ref:V,"aria-label":_e.ariaLabel,"boundaries-padding":_e.boundariesPadding,content:_e.content,disabled:_e.disabled,effect:_e.effect,enterable:_e.enterable,"fallback-placements":_e.fallbackPlacements,"hide-after":_e.hideAfter,"gpu-acceleration":_e.gpuAcceleration,offset:_e.offset,persistent:_e.persistent,"popper-class":unref(he),"popper-style":_e.popperStyle,placement:_e.placement,"popper-options":_e.popperOptions,"arrow-offset":_e.arrowOffset,pure:_e.pure,"raw-content":_e.rawContent,"reference-el":_e.referenceEl,"trigger-target-el":_e.triggerTargetEl,"show-after":_e.showAfter,strategy:_e.strategy,teleported:_e.teleported,transition:_e.transition,"virtual-triggering":_e.virtualTriggering,"z-index":_e.zIndex,"append-to":_e.appendTo},{default:withCtx(()=>[renderSlot(_e.$slots,"content",{},()=>[_e.rawContent?(openBlock(),createElementBlock("span",{key:0,innerHTML:_e.content},null,8,["innerHTML"])):(openBlock(),createElementBlock("span",{key:1},toDisplayString(_e.content),1))]),_e.showArrow?(openBlock(),createBlock(unref(ElPopperArrow),{key:0})):createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","arrow-offset","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc$1(_sfc_main$2x,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip),autocompleteProps=buildProps({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:definePropType(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:definePropType([Function,Array]),default:NOOP},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String,...useAriaProps(["ariaLabel"])}),autocompleteEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t),[INPUT_EVENT]:t=>isString$2(t),[CHANGE_EVENT]:t=>isString$2(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>isObject$5(t)},COMPONENT_NAME$m="ElAutocomplete",__default__$1L=defineComponent({name:COMPONENT_NAME$m,inheritAttrs:!1}),_sfc_main$2w=defineComponent({...__default__$1L,props:autocompleteProps,emits:autocompleteEmits,setup(t,{expose:n,emit:r}){const g=t,y=useAttrs(),$=useAttrs$1(),L=useFormDisabled(),V=useNamespace("autocomplete"),z=ref(),j=ref(),re=ref(),ae=ref();let oe=!1,ie=!1;const le=ref([]),ue=ref(-1),de=ref(""),he=ref(!1),pe=ref(!1),_e=ref(!1),Ce=useId(),xe=computed(()=>$.style),Ie=computed(()=>(le.value.length>0||_e.value)&&he.value),$e=computed(()=>!g.hideLoading&&_e.value),Oe=computed(()=>z.value?Array.from(z.value.$el.querySelectorAll("input")):[]),Ne=()=>{Ie.value&&(de.value=`${z.value.$el.offsetWidth}px`)},Fe=()=>{ue.value=-1},Ve=async hn=>{if(pe.value)return;const Cn=Tn=>{_e.value=!1,!pe.value&&(isArray$4(Tn)?(le.value=Tn,ue.value=g.highlightFirstItem?0:-1):throwError$1(COMPONENT_NAME$m,"autocomplete suggestions must be an array"))};if(_e.value=!0,isArray$4(g.fetchSuggestions))Cn(g.fetchSuggestions);else{const Tn=await g.fetchSuggestions(hn,Cn);isArray$4(Tn)&&Cn(Tn)}},ze=debounce(Ve,g.debounce),Et=hn=>{const Cn=!!hn;if(r(INPUT_EVENT,hn),r(UPDATE_MODEL_EVENT,hn),pe.value=!1,he.value||(he.value=Cn),!g.triggerOnFocus&&!hn){pe.value=!0,le.value=[];return}ze(hn)},Dt=hn=>{var Cn;L.value||(((Cn=hn.target)==null?void 0:Cn.tagName)!=="INPUT"||Oe.value.includes(document.activeElement))&&(he.value=!0)},Ue=hn=>{r(CHANGE_EVENT,hn)},qe=hn=>{var Cn;if(ie)ie=!1;else{he.value=!0,r("focus",hn);const Tn=(Cn=g.modelValue)!=null?Cn:"";g.triggerOnFocus&&!oe&&ze(String(Tn))}},Lt=hn=>{setTimeout(()=>{var Cn;if((Cn=re.value)!=null&&Cn.isFocusInsideContent()){ie=!0;return}he.value&&En(),r("blur",hn)})},Pt=()=>{he.value=!1,r(UPDATE_MODEL_EVENT,""),r("clear")},At=async()=>{Ie.value&&ue.value>=0&&ue.value<le.value.length?jt(le.value[ue.value]):g.selectWhenUnmatched&&(r("select",{value:g.modelValue}),le.value=[],ue.value=-1)},vn=hn=>{Ie.value&&(hn.preventDefault(),hn.stopPropagation(),En())},En=()=>{he.value=!1},Sn=()=>{var hn;(hn=z.value)==null||hn.focus()},kt=()=>{var hn;(hn=z.value)==null||hn.blur()},jt=async hn=>{r(INPUT_EVENT,hn[g.valueKey]),r(UPDATE_MODEL_EVENT,hn[g.valueKey]),r("select",hn),le.value=[],ue.value=-1},_n=hn=>{if(!Ie.value||_e.value)return;if(hn<0){ue.value=-1;return}hn>=le.value.length&&(hn=le.value.length-1);const Cn=j.value.querySelector(`.${V.be("suggestion","wrap")}`),xn=Cn.querySelectorAll(`.${V.be("suggestion","list")} li`)[hn],Mn=Cn.scrollTop,{offsetTop:bn,scrollHeight:Pn}=xn;bn+Pn>Mn+Cn.clientHeight&&(Cn.scrollTop+=Pn),bn<Mn&&(Cn.scrollTop-=Pn),ue.value=hn,z.value.ref.setAttribute("aria-activedescendant",`${Ce.value}-item-${ue.value}`)},wn=onClickOutside(ae,()=>{var hn;(hn=re.value)!=null&&hn.isFocusInsideContent()||Ie.value&&En()});return onBeforeUnmount(()=>{wn==null||wn()}),onMounted(()=>{z.value.ref.setAttribute("role","textbox"),z.value.ref.setAttribute("aria-autocomplete","list"),z.value.ref.setAttribute("aria-controls","id"),z.value.ref.setAttribute("aria-activedescendant",`${Ce.value}-item-${ue.value}`),oe=z.value.ref.hasAttribute("readonly")}),n({highlightedIndex:ue,activated:he,loading:_e,inputRef:z,popperRef:re,suggestions:le,handleSelect:jt,handleKeyEnter:At,focus:Sn,blur:kt,close:En,highlight:_n,getData:Ve}),(hn,Cn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popperRef",ref:re,visible:unref(Ie),placement:hn.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[unref(V).e("popper"),hn.popperClass],teleported:hn.teleported,"append-to":hn.appendTo,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${unref(V).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:Ne,onHide:Fe},{content:withCtx(()=>[createBaseVNode("div",{ref_key:"regionRef",ref:j,class:normalizeClass([unref(V).b("suggestion"),unref(V).is("loading",unref($e))]),style:normalizeStyle$1({[hn.fitInputWidth?"width":"minWidth"]:de.value,outline:"none"}),role:"region"},[createVNode$1(unref(ElScrollbar),{id:unref(Ce),tag:"ul","wrap-class":unref(V).be("suggestion","wrap"),"view-class":unref(V).be("suggestion","list"),role:"listbox"},{default:withCtx(()=>[unref($e)?(openBlock(),createElementBlock("li",{key:0},[renderSlot(hn.$slots,"loading",{},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(V).is("loading"))},{default:withCtx(()=>[createVNode$1(unref(loading_default))]),_:1},8,["class"])])])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(le.value,(Tn,xn)=>(openBlock(),createElementBlock("li",{id:`${unref(Ce)}-item-${xn}`,key:xn,class:normalizeClass({highlighted:ue.value===xn}),role:"option","aria-selected":ue.value===xn,onClick:Mn=>jt(Tn)},[renderSlot(hn.$slots,"default",{item:Tn},()=>[createTextVNode(toDisplayString(Tn[hn.valueKey]),1)])],10,["id","aria-selected","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:withCtx(()=>[createBaseVNode("div",{ref_key:"listboxRef",ref:ae,class:normalizeClass([unref(V).b(),hn.$attrs.class]),style:normalizeStyle$1(unref(xe)),role:"combobox","aria-haspopup":"listbox","aria-expanded":unref(Ie),"aria-owns":unref(Ce)},[createVNode$1(unref(ElInput),mergeProps({ref_key:"inputRef",ref:z},unref(y),{clearable:hn.clearable,disabled:unref(L),name:hn.name,"model-value":hn.modelValue,"aria-label":hn.ariaLabel,onInput:Et,onChange:Ue,onFocus:qe,onBlur:Lt,onClear:Pt,onKeydown:[withKeys(withModifiers(Tn=>_n(ue.value-1),["prevent"]),["up"]),withKeys(withModifiers(Tn=>_n(ue.value+1),["prevent"]),["down"]),withKeys(At,["enter"]),withKeys(En,["tab"]),withKeys(vn,["esc"])],onMousedown:Dt}),createSlots({_:2},[hn.$slots.prepend?{name:"prepend",fn:withCtx(()=>[renderSlot(hn.$slots,"prepend")])}:void 0,hn.$slots.append?{name:"append",fn:withCtx(()=>[renderSlot(hn.$slots,"append")])}:void 0,hn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(hn.$slots,"prefix")])}:void 0,hn.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(hn.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","aria-label","onKeydown"])],14,["aria-expanded","aria-owns"])]),_:3},8,["visible","placement","popper-class","teleported","append-to","transition"]))}});var Autocomplete=_export_sfc$1(_sfc_main$2w,[["__file","autocomplete.vue"]]);const ElAutocomplete=withInstall(Autocomplete),avatarProps=buildProps({size:{type:[Number,String],values:componentSizes,default:"",validator:t=>isNumber$1(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:iconPropType},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:definePropType(String),default:"cover"}}),avatarEmits={error:t=>t instanceof Event},__default__$1K=defineComponent({name:"ElAvatar"}),_sfc_main$2v=defineComponent({...__default__$1K,props:avatarProps,emits:avatarEmits,setup(t,{emit:n}){const r=t,g=useNamespace("avatar"),y=ref(!1),$=computed(()=>{const{size:j,icon:re,shape:ae}=r,oe=[g.b()];return isString$2(j)&&oe.push(g.m(j)),re&&oe.push(g.m("icon")),ae&&oe.push(g.m(ae)),oe}),L=computed(()=>{const{size:j}=r;return isNumber$1(j)?g.cssVarBlock({size:addUnit(j)||""}):void 0}),V=computed(()=>({objectFit:r.fit}));watch(()=>r.src,()=>y.value=!1);function z(j){y.value=!0,n("error",j)}return(j,re)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref($)),style:normalizeStyle$1(unref(L))},[(j.src||j.srcSet)&&!y.value?(openBlock(),createElementBlock("img",{key:0,src:j.src,alt:j.alt,srcset:j.srcSet,style:normalizeStyle$1(unref(V)),onError:z},null,44,["src","alt","srcset"])):j.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(j.icon)))]),_:1})):renderSlot(j.$slots,"default",{key:2})],6))}});var Avatar=_export_sfc$1(_sfc_main$2v,[["__file","avatar.vue"]]);const ElAvatar=withInstall(Avatar),backtopProps={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},backtopEmits={click:t=>t instanceof MouseEvent},useBackTop=(t,n,r)=>{const g=shallowRef(),y=shallowRef(),$=ref(!1),L=()=>{g.value&&($.value=g.value.scrollTop>=t.visibilityHeight)},V=j=>{var re;(re=g.value)==null||re.scrollTo({top:0,behavior:"smooth"}),n("click",j)},z=useThrottleFn(L,300,!0);return useEventListener(y,"scroll",z),onMounted(()=>{var j;y.value=document,g.value=document.documentElement,t.target&&(g.value=(j=document.querySelector(t.target))!=null?j:void 0,g.value||throwError$1(r,`target does not exist: ${t.target}`),y.value=g.value),L()}),{visible:$,handleClick:V}},COMPONENT_NAME$l="ElBacktop",__default__$1J=defineComponent({name:COMPONENT_NAME$l}),_sfc_main$2u=defineComponent({...__default__$1J,props:backtopProps,emits:backtopEmits,setup(t,{emit:n}){const r=t,g=useNamespace("backtop"),{handleClick:y,visible:$}=useBackTop(r,n,COMPONENT_NAME$l),L=computed(()=>({right:`${r.right}px`,bottom:`${r.bottom}px`}));return(V,z)=>(openBlock(),createBlock(Transition,{name:`${unref(g).namespace.value}-fade-in`},{default:withCtx(()=>[unref($)?(openBlock(),createElementBlock("div",{key:0,style:normalizeStyle$1(unref(L)),class:normalizeClass(unref(g).b()),onClick:withModifiers(unref(y),["stop"])},[renderSlot(V.$slots,"default",{},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(g).e("icon"))},{default:withCtx(()=>[createVNode$1(unref(caret_top_default))]),_:1},8,["class"])])],14,["onClick"])):createCommentVNode("v-if",!0)]),_:3},8,["name"]))}});var Backtop=_export_sfc$1(_sfc_main$2u,[["__file","backtop.vue"]]);const ElBacktop=withInstall(Backtop),badgeProps=buildProps({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,badgeStyle:{type:definePropType([String,Object,Array])},offset:{type:definePropType(Array),default:[0,0]},badgeClass:{type:String}}),__default__$1I=defineComponent({name:"ElBadge"}),_sfc_main$2t=defineComponent({...__default__$1I,props:badgeProps,setup(t,{expose:n}){const r=t,g=useNamespace("badge"),y=computed(()=>r.isDot?"":isNumber$1(r.value)&&isNumber$1(r.max)?r.max<r.value?`${r.max}+`:`${r.value}`:`${r.value}`),$=computed(()=>{var L,V,z,j,re;return[{backgroundColor:r.color,marginRight:addUnit(-((V=(L=r.offset)==null?void 0:L[0])!=null?V:0)),marginTop:addUnit((j=(z=r.offset)==null?void 0:z[1])!=null?j:0)},(re=r.badgeStyle)!=null?re:{}]});return n({content:y}),(L,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[renderSlot(L.$slots,"default"),createVNode$1(Transition,{name:`${unref(g).namespace.value}-zoom-in-center`,persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("sup",{class:normalizeClass([unref(g).e("content"),unref(g).em("content",L.type),unref(g).is("fixed",!!L.$slots.default),unref(g).is("dot",L.isDot),unref(g).is("hide-zero",!L.showZero&&r.value===0),L.badgeClass]),style:normalizeStyle$1(unref($))},[renderSlot(L.$slots,"content",{value:unref(y)},()=>[createTextVNode(toDisplayString(unref(y)),1)])],6),[[vShow,!L.hidden&&(unref(y)||L.isDot||L.$slots.content)]])]),_:3},8,["name"])],2))}});var Badge=_export_sfc$1(_sfc_main$2t,[["__file","badge.vue"]]);const ElBadge=withInstall(Badge),breadcrumbKey=Symbol("breadcrumbKey"),breadcrumbProps=buildProps({separator:{type:String,default:"/"},separatorIcon:{type:iconPropType}}),__default__$1H=defineComponent({name:"ElBreadcrumb"}),_sfc_main$2s=defineComponent({...__default__$1H,props:breadcrumbProps,setup(t){const n=t,{t:r}=useLocale(),g=useNamespace("breadcrumb"),y=ref();return provide(breadcrumbKey,n),onMounted(()=>{const $=y.value.querySelectorAll(`.${g.e("item")}`);$.length&&$[$.length-1].setAttribute("aria-current","page")}),($,L)=>(openBlock(),createElementBlock("div",{ref_key:"breadcrumb",ref:y,class:normalizeClass(unref(g).b()),"aria-label":unref(r)("el.breadcrumb.label"),role:"navigation"},[renderSlot($.$slots,"default")],10,["aria-label"]))}});var Breadcrumb$1=_export_sfc$1(_sfc_main$2s,[["__file","breadcrumb.vue"]]);const breadcrumbItemProps=buildProps({to:{type:definePropType([String,Object]),default:""},replace:Boolean}),__default__$1G=defineComponent({name:"ElBreadcrumbItem"}),_sfc_main$2r=defineComponent({...__default__$1G,props:breadcrumbItemProps,setup(t){const n=t,r=getCurrentInstance(),g=inject(breadcrumbKey,void 0),y=useNamespace("breadcrumb"),$=r.appContext.config.globalProperties.$router,L=ref(),V=()=>{!n.to||!$||(n.replace?$.replace(n.to):$.push(n.to))};return(z,j)=>{var re,ae;return openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("item"))},[createBaseVNode("span",{ref_key:"link",ref:L,class:normalizeClass([unref(y).e("inner"),unref(y).is("link",!!z.to)]),role:"link",onClick:V},[renderSlot(z.$slots,"default")],2),(re=unref(g))!=null&&re.separatorIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("separator"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g).separatorIcon)))]),_:1},8,["class"])):(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(y).e("separator")),role:"presentation"},toDisplayString((ae=unref(g))==null?void 0:ae.separator),3))],2)}}});var BreadcrumbItem=_export_sfc$1(_sfc_main$2r,[["__file","breadcrumb-item.vue"]]);const ElBreadcrumb=withInstall(Breadcrumb$1,{BreadcrumbItem}),ElBreadcrumbItem=withNoopInstall(BreadcrumbItem),buttonGroupContextKey=Symbol("buttonGroupContextKey"),useDeprecated=({from:t,replacement:n,scope:r,version:g,ref:y,type:$="API"},L)=>{watch(()=>unref(L),V=>{},{immediate:!0})},useButton=(t,n)=>{useDeprecated({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},computed(()=>t.type==="text"));const r=inject(buttonGroupContextKey,void 0),g=useGlobalConfig("button"),{form:y}=useFormItem(),$=useFormSize(computed(()=>r==null?void 0:r.size)),L=useFormDisabled(),V=ref(),z=useSlots(),j=computed(()=>{var de;return t.type||(r==null?void 0:r.type)||((de=g.value)==null?void 0:de.type)||""}),re=computed(()=>{var de,he,pe;return(pe=(he=t.autoInsertSpace)!=null?he:(de=g.value)==null?void 0:de.autoInsertSpace)!=null?pe:!1}),ae=computed(()=>{var de,he,pe;return(pe=(he=t.plain)!=null?he:(de=g.value)==null?void 0:de.plain)!=null?pe:!1}),oe=computed(()=>{var de,he,pe;return(pe=(he=t.round)!=null?he:(de=g.value)==null?void 0:de.round)!=null?pe:!1}),ie=computed(()=>t.tag==="button"?{ariaDisabled:L.value||t.loading,disabled:L.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),le=computed(()=>{var de;const he=(de=z.default)==null?void 0:de.call(z);if(re.value&&(he==null?void 0:he.length)===1){const pe=he[0];if((pe==null?void 0:pe.type)===Text$1){const _e=pe.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(_e.trim())}}return!1});return{_disabled:L,_size:$,_type:j,_ref:V,_props:ie,_plain:ae,_round:oe,shouldAddSpace:le,handleClick:de=>{if(L.value||t.loading){de.stopPropagation();return}t.nativeType==="reset"&&(y==null||y.resetFields()),n("click",de)}}},buttonTypes=["default","primary","success","warning","info","danger","text",""],buttonNativeTypes=["button","submit","reset"],buttonProps=buildProps({size:useSizeProp,disabled:Boolean,type:{type:String,values:buttonTypes,default:""},icon:{type:iconPropType},nativeType:{type:String,values:buttonNativeTypes,default:"button"},loading:Boolean,loadingIcon:{type:iconPropType,default:()=>loading_default},plain:{type:Boolean,default:void 0},text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:{type:Boolean,default:void 0},circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:definePropType([String,Object]),default:"button"}}),buttonEmits={click:t=>t instanceof MouseEvent};function bound01(t,n){isOnePointZero(t)&&(t="100%");var r=isPercentage(t);return t=n===360?t:Math.min(n,Math.max(0,parseFloat(t))),r&&(t=parseInt(String(t*n),10)/100),Math.abs(t-n)<1e-6?1:(n===360?t=(t<0?t%n+n:t%n)/parseFloat(String(n)):t=t%n/parseFloat(String(n)),t)}function clamp01(t){return Math.min(1,Math.max(0,t))}function isOnePointZero(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function isPercentage(t){return typeof t=="string"&&t.indexOf("%")!==-1}function boundAlpha(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function convertToPercentage(t){return t<=1?"".concat(Number(t)*100,"%"):t}function pad2(t){return t.length===1?"0"+t:String(t)}function rgbToRgb(t,n,r){return{r:bound01(t,255)*255,g:bound01(n,255)*255,b:bound01(r,255)*255}}function rgbToHsl(t,n,r){t=bound01(t,255),n=bound01(n,255),r=bound01(r,255);var g=Math.max(t,n,r),y=Math.min(t,n,r),$=0,L=0,V=(g+y)/2;if(g===y)L=0,$=0;else{var z=g-y;switch(L=V>.5?z/(2-g-y):z/(g+y),g){case t:$=(n-r)/z+(n<r?6:0);break;case n:$=(r-t)/z+2;break;case r:$=(t-n)/z+4;break}$/=6}return{h:$,s:L,l:V}}function hue2rgb(t,n,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(n-t)*(6*r):r<1/2?n:r<2/3?t+(n-t)*(2/3-r)*6:t}function hslToRgb(t,n,r){var g,y,$;if(t=bound01(t,360),n=bound01(n,100),r=bound01(r,100),n===0)y=r,$=r,g=r;else{var L=r<.5?r*(1+n):r+n-r*n,V=2*r-L;g=hue2rgb(V,L,t+1/3),y=hue2rgb(V,L,t),$=hue2rgb(V,L,t-1/3)}return{r:g*255,g:y*255,b:$*255}}function rgbToHsv(t,n,r){t=bound01(t,255),n=bound01(n,255),r=bound01(r,255);var g=Math.max(t,n,r),y=Math.min(t,n,r),$=0,L=g,V=g-y,z=g===0?0:V/g;if(g===y)$=0;else{switch(g){case t:$=(n-r)/V+(n<r?6:0);break;case n:$=(r-t)/V+2;break;case r:$=(t-n)/V+4;break}$/=6}return{h:$,s:z,v:L}}function hsvToRgb(t,n,r){t=bound01(t,360)*6,n=bound01(n,100),r=bound01(r,100);var g=Math.floor(t),y=t-g,$=r*(1-n),L=r*(1-y*n),V=r*(1-(1-y)*n),z=g%6,j=[r,L,$,$,V,r][z],re=[V,r,r,L,$,$][z],ae=[$,$,V,r,r,L][z];return{r:j*255,g:re*255,b:ae*255}}function rgbToHex(t,n,r,g){var y=[pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16))];return g&&y[0].startsWith(y[0].charAt(1))&&y[1].startsWith(y[1].charAt(1))&&y[2].startsWith(y[2].charAt(1))?y[0].charAt(0)+y[1].charAt(0)+y[2].charAt(0):y.join("")}function rgbaToHex(t,n,r,g,y){var $=[pad2(Math.round(t).toString(16)),pad2(Math.round(n).toString(16)),pad2(Math.round(r).toString(16)),pad2(convertDecimalToHex(g))];return y&&$[0].startsWith($[0].charAt(1))&&$[1].startsWith($[1].charAt(1))&&$[2].startsWith($[2].charAt(1))&&$[3].startsWith($[3].charAt(1))?$[0].charAt(0)+$[1].charAt(0)+$[2].charAt(0)+$[3].charAt(0):$.join("")}function convertDecimalToHex(t){return Math.round(parseFloat(t)*255).toString(16)}function convertHexToDecimal(t){return parseIntFromHex(t)/255}function parseIntFromHex(t){return parseInt(t,16)}function numberInputToObject(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(t){var n={r:0,g:0,b:0},r=1,g=null,y=null,$=null,L=!1,V=!1;return typeof t=="string"&&(t=stringInputToObject(t)),typeof t=="object"&&(isValidCSSUnit(t.r)&&isValidCSSUnit(t.g)&&isValidCSSUnit(t.b)?(n=rgbToRgb(t.r,t.g,t.b),L=!0,V=String(t.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.v)?(g=convertToPercentage(t.s),y=convertToPercentage(t.v),n=hsvToRgb(t.h,g,y),L=!0,V="hsv"):isValidCSSUnit(t.h)&&isValidCSSUnit(t.s)&&isValidCSSUnit(t.l)&&(g=convertToPercentage(t.s),$=convertToPercentage(t.l),n=hslToRgb(t.h,g,$),L=!0,V="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(r=t.a)),r=boundAlpha(r),{ok:L,format:t.format||V,r:Math.min(255,Math.max(n.r,0)),g:Math.min(255,Math.max(n.g,0)),b:Math.min(255,Math.max(n.b,0)),a:r}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var n=!1;if(names[t])t=names[t],n=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r=matchers.rgb.exec(t);return r?{r:r[1],g:r[2],b:r[3]}:(r=matchers.rgba.exec(t),r?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=matchers.hsl.exec(t),r?{h:r[1],s:r[2],l:r[3]}:(r=matchers.hsla.exec(t),r?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=matchers.hsv.exec(t),r?{h:r[1],s:r[2],v:r[3]}:(r=matchers.hsva.exec(t),r?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=matchers.hex8.exec(t),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),a:convertHexToDecimal(r[4]),format:n?"name":"hex8"}:(r=matchers.hex6.exec(t),r?{r:parseIntFromHex(r[1]),g:parseIntFromHex(r[2]),b:parseIntFromHex(r[3]),format:n?"name":"hex"}:(r=matchers.hex4.exec(t),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),a:convertHexToDecimal(r[4]+r[4]),format:n?"name":"hex8"}:(r=matchers.hex3.exec(t),r?{r:parseIntFromHex(r[1]+r[1]),g:parseIntFromHex(r[2]+r[2]),b:parseIntFromHex(r[3]+r[3]),format:n?"name":"hex"}:!1)))))))))}function isValidCSSUnit(t){return!!matchers.CSS_UNIT.exec(String(t))}var TinyColor=function(){function t(n,r){n===void 0&&(n=""),r===void 0&&(r={});var g;if(n instanceof t)return n;typeof n=="number"&&(n=numberInputToObject(n)),this.originalInput=n;var y=inputToRGB(n);this.originalInput=n,this.r=y.r,this.g=y.g,this.b=y.b,this.a=y.a,this.roundA=Math.round(100*this.a)/100,this.format=(g=r.format)!==null&&g!==void 0?g:y.format,this.gradientType=r.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=y.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var n=this.toRgb();return(n.r*299+n.g*587+n.b*114)/1e3},t.prototype.getLuminance=function(){var n=this.toRgb(),r,g,y,$=n.r/255,L=n.g/255,V=n.b/255;return $<=.03928?r=$/12.92:r=Math.pow(($+.055)/1.055,2.4),L<=.03928?g=L/12.92:g=Math.pow((L+.055)/1.055,2.4),V<=.03928?y=V/12.92:y=Math.pow((V+.055)/1.055,2.4),.2126*r+.7152*g+.0722*y},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(n){return this.a=boundAlpha(n),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var n=this.toHsl().s;return n===0},t.prototype.toHsv=function(){var n=rgbToHsv(this.r,this.g,this.b);return{h:n.h*360,s:n.s,v:n.v,a:this.a}},t.prototype.toHsvString=function(){var n=rgbToHsv(this.r,this.g,this.b),r=Math.round(n.h*360),g=Math.round(n.s*100),y=Math.round(n.v*100);return this.a===1?"hsv(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsva(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var n=rgbToHsl(this.r,this.g,this.b);return{h:n.h*360,s:n.s,l:n.l,a:this.a}},t.prototype.toHslString=function(){var n=rgbToHsl(this.r,this.g,this.b),r=Math.round(n.h*360),g=Math.round(n.s*100),y=Math.round(n.l*100);return this.a===1?"hsl(".concat(r,", ").concat(g,"%, ").concat(y,"%)"):"hsla(".concat(r,", ").concat(g,"%, ").concat(y,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(n){return n===void 0&&(n=!1),rgbToHex(this.r,this.g,this.b,n)},t.prototype.toHexString=function(n){return n===void 0&&(n=!1),"#"+this.toHex(n)},t.prototype.toHex8=function(n){return n===void 0&&(n=!1),rgbaToHex(this.r,this.g,this.b,this.a,n)},t.prototype.toHex8String=function(n){return n===void 0&&(n=!1),"#"+this.toHex8(n)},t.prototype.toHexShortString=function(n){return n===void 0&&(n=!1),this.a===1?this.toHexString(n):this.toHex8String(n)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var n=Math.round(this.r),r=Math.round(this.g),g=Math.round(this.b);return this.a===1?"rgb(".concat(n,", ").concat(r,", ").concat(g,")"):"rgba(".concat(n,", ").concat(r,", ").concat(g,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var n=function(r){return"".concat(Math.round(bound01(r,255)*100),"%")};return{r:n(this.r),g:n(this.g),b:n(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var n=function(r){return Math.round(bound01(r,255)*100)};return this.a===1?"rgb(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%)"):"rgba(".concat(n(this.r),"%, ").concat(n(this.g),"%, ").concat(n(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var n="#"+rgbToHex(this.r,this.g,this.b,!1),r=0,g=Object.entries(names);r<g.length;r++){var y=g[r],$=y[0],L=y[1];if(n===L)return $}return!1},t.prototype.toString=function(n){var r=!!n;n=n??this.format;var g=!1,y=this.a<1&&this.a>=0,$=!r&&y&&(n.startsWith("hex")||n==="name");return $?n==="name"&&this.a===0?this.toName():this.toRgbString():(n==="rgb"&&(g=this.toRgbString()),n==="prgb"&&(g=this.toPercentageRgbString()),(n==="hex"||n==="hex6")&&(g=this.toHexString()),n==="hex3"&&(g=this.toHexString(!0)),n==="hex4"&&(g=this.toHex8String(!0)),n==="hex8"&&(g=this.toHex8String()),n==="name"&&(g=this.toName()),n==="hsl"&&(g=this.toHslString()),n==="hsv"&&(g=this.toHsvString()),g||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l+=n/100,r.l=clamp01(r.l),new t(r)},t.prototype.brighten=function(n){n===void 0&&(n=10);var r=this.toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(n/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(n/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(n/100)))),new t(r)},t.prototype.darken=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.l-=n/100,r.l=clamp01(r.l),new t(r)},t.prototype.tint=function(n){return n===void 0&&(n=10),this.mix("white",n)},t.prototype.shade=function(n){return n===void 0&&(n=10),this.mix("black",n)},t.prototype.desaturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s-=n/100,r.s=clamp01(r.s),new t(r)},t.prototype.saturate=function(n){n===void 0&&(n=10);var r=this.toHsl();return r.s+=n/100,r.s=clamp01(r.s),new t(r)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(n){var r=this.toHsl(),g=(r.h+n)%360;return r.h=g<0?360+g:g,new t(r)},t.prototype.mix=function(n,r){r===void 0&&(r=50);var g=this.toRgb(),y=new t(n).toRgb(),$=r/100,L={r:(y.r-g.r)*$+g.r,g:(y.g-g.g)*$+g.g,b:(y.b-g.b)*$+g.b,a:(y.a-g.a)*$+g.a};return new t(L)},t.prototype.analogous=function(n,r){n===void 0&&(n=6),r===void 0&&(r=30);var g=this.toHsl(),y=360/r,$=[this];for(g.h=(g.h-(y*n>>1)+720)%360;--n;)g.h=(g.h+y)%360,$.push(new t(g));return $},t.prototype.complement=function(){var n=this.toHsl();return n.h=(n.h+180)%360,new t(n)},t.prototype.monochromatic=function(n){n===void 0&&(n=6);for(var r=this.toHsv(),g=r.h,y=r.s,$=r.v,L=[],V=1/n;n--;)L.push(new t({h:g,s:y,v:$})),$=($+V)%1;return L},t.prototype.splitcomplement=function(){var n=this.toHsl(),r=n.h;return[this,new t({h:(r+72)%360,s:n.s,l:n.l}),new t({h:(r+216)%360,s:n.s,l:n.l})]},t.prototype.onBackground=function(n){var r=this.toRgb(),g=new t(n).toRgb(),y=r.a+g.a*(1-r.a);return new t({r:(r.r*r.a+g.r*g.a*(1-r.a))/y,g:(r.g*r.a+g.g*g.a*(1-r.a))/y,b:(r.b*r.a+g.b*g.a*(1-r.a))/y,a:y})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(n){for(var r=this.toHsl(),g=r.h,y=[this],$=360/n,L=1;L<n;L++)y.push(new t({h:(g+L*$)%360,s:r.s,l:r.l}));return y},t.prototype.equals=function(n){return this.toRgbString()===new t(n).toRgbString()},t}();function darken(t,n=20){return t.mix("#141414",n).toString()}function useButtonCustomStyle(t){const n=useFormDisabled(),r=useNamespace("button");return computed(()=>{let g={},y=t.color;if(y){const $=y.match(/var\((.*?)\)/);$&&(y=window.getComputedStyle(window.document.documentElement).getPropertyValue($[1]));const L=new TinyColor(y),V=t.dark?L.tint(20).toString():darken(L,20);if(t.plain)g=r.cssVarBlock({"bg-color":t.dark?darken(L,90):L.tint(90).toString(),"text-color":y,"border-color":t.dark?darken(L,50):L.tint(50).toString(),"hover-text-color":`var(${r.cssVarName("color-white")})`,"hover-bg-color":y,"hover-border-color":y,"active-bg-color":V,"active-text-color":`var(${r.cssVarName("color-white")})`,"active-border-color":V}),n.value&&(g[r.cssVarBlockName("disabled-bg-color")]=t.dark?darken(L,90):L.tint(90).toString(),g[r.cssVarBlockName("disabled-text-color")]=t.dark?darken(L,50):L.tint(50).toString(),g[r.cssVarBlockName("disabled-border-color")]=t.dark?darken(L,80):L.tint(80).toString());else{const z=t.dark?darken(L,30):L.tint(30).toString(),j=L.isDark()?`var(${r.cssVarName("color-white")})`:`var(${r.cssVarName("color-black")})`;if(g=r.cssVarBlock({"bg-color":y,"text-color":j,"border-color":y,"hover-bg-color":z,"hover-text-color":j,"hover-border-color":z,"active-bg-color":V,"active-border-color":V}),n.value){const re=t.dark?darken(L,50):L.tint(50).toString();g[r.cssVarBlockName("disabled-bg-color")]=re,g[r.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${r.cssVarName("color-white")})`,g[r.cssVarBlockName("disabled-border-color")]=re}}}return g})}const __default__$1F=defineComponent({name:"ElButton"}),_sfc_main$2q=defineComponent({...__default__$1F,props:buttonProps,emits:buttonEmits,setup(t,{expose:n,emit:r}){const g=t,y=useButtonCustomStyle(g),$=useNamespace("button"),{_ref:L,_size:V,_type:z,_disabled:j,_props:re,_plain:ae,_round:oe,shouldAddSpace:ie,handleClick:le}=useButton(g,r),ue=computed(()=>[$.b(),$.m(z.value),$.m(V.value),$.is("disabled",j.value),$.is("loading",g.loading),$.is("plain",ae.value),$.is("round",oe.value),$.is("circle",g.circle),$.is("text",g.text),$.is("link",g.link),$.is("has-bg",g.bg)]);return n({ref:L,size:V,type:z,disabled:j,shouldAddSpace:ie}),(de,he)=>(openBlock(),createBlock(resolveDynamicComponent(de.tag),mergeProps({ref_key:"_ref",ref:L},unref(re),{class:unref(ue),style:unref(y),onClick:unref(le)}),{default:withCtx(()=>[de.loading?(openBlock(),createElementBlock(Fragment,{key:0},[de.$slots.loading?renderSlot(de.$slots,"loading",{key:0}):(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass(unref($).is("loading"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(de.loadingIcon)))]),_:1},8,["class"]))],64)):de.icon||de.$slots.icon?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[de.icon?(openBlock(),createBlock(resolveDynamicComponent(de.icon),{key:0})):renderSlot(de.$slots,"icon",{key:1})]),_:3})):createCommentVNode("v-if",!0),de.$slots.default?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass({[unref($).em("text","expand")]:unref(ie)})},[renderSlot(de.$slots,"default")],2)):createCommentVNode("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var Button=_export_sfc$1(_sfc_main$2q,[["__file","button.vue"]]);const buttonGroupProps={size:buttonProps.size,type:buttonProps.type},__default__$1E=defineComponent({name:"ElButtonGroup"}),_sfc_main$2p=defineComponent({...__default__$1E,props:buttonGroupProps,setup(t){const n=t;provide(buttonGroupContextKey,reactive({size:toRef(n,"size"),type:toRef(n,"type")}));const r=useNamespace("button");return(g,y)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b("group"))},[renderSlot(g.$slots,"default")],2))}});var ButtonGroup=_export_sfc$1(_sfc_main$2p,[["__file","button-group.vue"]]);const ElButton=withInstall(Button,{ButtonGroup}),ElButtonGroup$1=withNoopInstall(ButtonGroup);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function getAugmentedNamespace(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var n=t.default;if(typeof n=="function"){var r=function g(){return this instanceof g?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};r.prototype=n.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(g){var y=Object.getOwnPropertyDescriptor(t,g);Object.defineProperty(r,g,y.get?y:{enumerable:!0,get:function(){return t[g]}})}),r}var dayjs_min$1={exports:{}},dayjs_min=dayjs_min$1.exports,hasRequiredDayjs_min;function requireDayjs_min(){return hasRequiredDayjs_min||(hasRequiredDayjs_min=1,function(t,n){(function(r,g){t.exports=g()})(dayjs_min,function(){var r=1e3,g=6e4,y=36e5,$="millisecond",L="second",V="minute",z="hour",j="day",re="week",ae="month",oe="quarter",ie="year",le="date",ue="Invalid Date",de=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,he=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,pe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Dt){var Ue=["th","st","nd","rd"],qe=Dt%100;return"["+Dt+(Ue[(qe-20)%10]||Ue[qe]||Ue[0])+"]"}},_e=function(Dt,Ue,qe){var Lt=String(Dt);return!Lt||Lt.length>=Ue?Dt:""+Array(Ue+1-Lt.length).join(qe)+Dt},Ce={s:_e,z:function(Dt){var Ue=-Dt.utcOffset(),qe=Math.abs(Ue),Lt=Math.floor(qe/60),Pt=qe%60;return(Ue<=0?"+":"-")+_e(Lt,2,"0")+":"+_e(Pt,2,"0")},m:function Dt(Ue,qe){if(Ue.date()<qe.date())return-Dt(qe,Ue);var Lt=12*(qe.year()-Ue.year())+(qe.month()-Ue.month()),Pt=Ue.clone().add(Lt,ae),At=qe-Pt<0,vn=Ue.clone().add(Lt+(At?-1:1),ae);return+(-(Lt+(qe-Pt)/(At?Pt-vn:vn-Pt))||0)},a:function(Dt){return Dt<0?Math.ceil(Dt)||0:Math.floor(Dt)},p:function(Dt){return{M:ae,y:ie,w:re,d:j,D:le,h:z,m:V,s:L,ms:$,Q:oe}[Dt]||String(Dt||"").toLowerCase().replace(/s$/,"")},u:function(Dt){return Dt===void 0}},xe="en",Ie={};Ie[xe]=pe;var $e="$isDayjsObject",Oe=function(Dt){return Dt instanceof ze||!(!Dt||!Dt[$e])},Ne=function Dt(Ue,qe,Lt){var Pt;if(!Ue)return xe;if(typeof Ue=="string"){var At=Ue.toLowerCase();Ie[At]&&(Pt=At),qe&&(Ie[At]=qe,Pt=At);var vn=Ue.split("-");if(!Pt&&vn.length>1)return Dt(vn[0])}else{var En=Ue.name;Ie[En]=Ue,Pt=En}return!Lt&&Pt&&(xe=Pt),Pt||!Lt&&xe},Fe=function(Dt,Ue){if(Oe(Dt))return Dt.clone();var qe=typeof Ue=="object"?Ue:{};return qe.date=Dt,qe.args=arguments,new ze(qe)},Ve=Ce;Ve.l=Ne,Ve.i=Oe,Ve.w=function(Dt,Ue){return Fe(Dt,{locale:Ue.$L,utc:Ue.$u,x:Ue.$x,$offset:Ue.$offset})};var ze=function(){function Dt(qe){this.$L=Ne(qe.locale,null,!0),this.parse(qe),this.$x=this.$x||qe.x||{},this[$e]=!0}var Ue=Dt.prototype;return Ue.parse=function(qe){this.$d=function(Lt){var Pt=Lt.date,At=Lt.utc;if(Pt===null)return new Date(NaN);if(Ve.u(Pt))return new Date;if(Pt instanceof Date)return new Date(Pt);if(typeof Pt=="string"&&!/Z$/i.test(Pt)){var vn=Pt.match(de);if(vn){var En=vn[2]-1||0,Sn=(vn[7]||"0").substring(0,3);return At?new Date(Date.UTC(vn[1],En,vn[3]||1,vn[4]||0,vn[5]||0,vn[6]||0,Sn)):new Date(vn[1],En,vn[3]||1,vn[4]||0,vn[5]||0,vn[6]||0,Sn)}}return new Date(Pt)}(qe),this.init()},Ue.init=function(){var qe=this.$d;this.$y=qe.getFullYear(),this.$M=qe.getMonth(),this.$D=qe.getDate(),this.$W=qe.getDay(),this.$H=qe.getHours(),this.$m=qe.getMinutes(),this.$s=qe.getSeconds(),this.$ms=qe.getMilliseconds()},Ue.$utils=function(){return Ve},Ue.isValid=function(){return this.$d.toString()!==ue},Ue.isSame=function(qe,Lt){var Pt=Fe(qe);return this.startOf(Lt)<=Pt&&Pt<=this.endOf(Lt)},Ue.isAfter=function(qe,Lt){return Fe(qe)<this.startOf(Lt)},Ue.isBefore=function(qe,Lt){return this.endOf(Lt)<Fe(qe)},Ue.$g=function(qe,Lt,Pt){return Ve.u(qe)?this[Lt]:this.set(Pt,qe)},Ue.unix=function(){return Math.floor(this.valueOf()/1e3)},Ue.valueOf=function(){return this.$d.getTime()},Ue.startOf=function(qe,Lt){var Pt=this,At=!!Ve.u(Lt)||Lt,vn=Ve.p(qe),En=function(Tn,xn){var Mn=Ve.w(Pt.$u?Date.UTC(Pt.$y,xn,Tn):new Date(Pt.$y,xn,Tn),Pt);return At?Mn:Mn.endOf(j)},Sn=function(Tn,xn){return Ve.w(Pt.toDate()[Tn].apply(Pt.toDate("s"),(At?[0,0,0,0]:[23,59,59,999]).slice(xn)),Pt)},kt=this.$W,jt=this.$M,_n=this.$D,wn="set"+(this.$u?"UTC":"");switch(vn){case ie:return At?En(1,0):En(31,11);case ae:return At?En(1,jt):En(0,jt+1);case re:var hn=this.$locale().weekStart||0,Cn=(kt<hn?kt+7:kt)-hn;return En(At?_n-Cn:_n+(6-Cn),jt);case j:case le:return Sn(wn+"Hours",0);case z:return Sn(wn+"Minutes",1);case V:return Sn(wn+"Seconds",2);case L:return Sn(wn+"Milliseconds",3);default:return this.clone()}},Ue.endOf=function(qe){return this.startOf(qe,!1)},Ue.$set=function(qe,Lt){var Pt,At=Ve.p(qe),vn="set"+(this.$u?"UTC":""),En=(Pt={},Pt[j]=vn+"Date",Pt[le]=vn+"Date",Pt[ae]=vn+"Month",Pt[ie]=vn+"FullYear",Pt[z]=vn+"Hours",Pt[V]=vn+"Minutes",Pt[L]=vn+"Seconds",Pt[$]=vn+"Milliseconds",Pt)[At],Sn=At===j?this.$D+(Lt-this.$W):Lt;if(At===ae||At===ie){var kt=this.clone().set(le,1);kt.$d[En](Sn),kt.init(),this.$d=kt.set(le,Math.min(this.$D,kt.daysInMonth())).$d}else En&&this.$d[En](Sn);return this.init(),this},Ue.set=function(qe,Lt){return this.clone().$set(qe,Lt)},Ue.get=function(qe){return this[Ve.p(qe)]()},Ue.add=function(qe,Lt){var Pt,At=this;qe=Number(qe);var vn=Ve.p(Lt),En=function(jt){var _n=Fe(At);return Ve.w(_n.date(_n.date()+Math.round(jt*qe)),At)};if(vn===ae)return this.set(ae,this.$M+qe);if(vn===ie)return this.set(ie,this.$y+qe);if(vn===j)return En(1);if(vn===re)return En(7);var Sn=(Pt={},Pt[V]=g,Pt[z]=y,Pt[L]=r,Pt)[vn]||1,kt=this.$d.getTime()+qe*Sn;return Ve.w(kt,this)},Ue.subtract=function(qe,Lt){return this.add(-1*qe,Lt)},Ue.format=function(qe){var Lt=this,Pt=this.$locale();if(!this.isValid())return Pt.invalidDate||ue;var At=qe||"YYYY-MM-DDTHH:mm:ssZ",vn=Ve.z(this),En=this.$H,Sn=this.$m,kt=this.$M,jt=Pt.weekdays,_n=Pt.months,wn=Pt.meridiem,hn=function(xn,Mn,bn,Pn){return xn&&(xn[Mn]||xn(Lt,At))||bn[Mn].slice(0,Pn)},Cn=function(xn){return Ve.s(En%12||12,xn,"0")},Tn=wn||function(xn,Mn,bn){var Pn=xn<12?"AM":"PM";return bn?Pn.toLowerCase():Pn};return At.replace(he,function(xn,Mn){return Mn||function(bn){switch(bn){case"YY":return String(Lt.$y).slice(-2);case"YYYY":return Ve.s(Lt.$y,4,"0");case"M":return kt+1;case"MM":return Ve.s(kt+1,2,"0");case"MMM":return hn(Pt.monthsShort,kt,_n,3);case"MMMM":return hn(_n,kt);case"D":return Lt.$D;case"DD":return Ve.s(Lt.$D,2,"0");case"d":return String(Lt.$W);case"dd":return hn(Pt.weekdaysMin,Lt.$W,jt,2);case"ddd":return hn(Pt.weekdaysShort,Lt.$W,jt,3);case"dddd":return jt[Lt.$W];case"H":return String(En);case"HH":return Ve.s(En,2,"0");case"h":return Cn(1);case"hh":return Cn(2);case"a":return Tn(En,Sn,!0);case"A":return Tn(En,Sn,!1);case"m":return String(Sn);case"mm":return Ve.s(Sn,2,"0");case"s":return String(Lt.$s);case"ss":return Ve.s(Lt.$s,2,"0");case"SSS":return Ve.s(Lt.$ms,3,"0");case"Z":return vn}return null}(xn)||vn.replace(":","")})},Ue.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ue.diff=function(qe,Lt,Pt){var At,vn=this,En=Ve.p(Lt),Sn=Fe(qe),kt=(Sn.utcOffset()-this.utcOffset())*g,jt=this-Sn,_n=function(){return Ve.m(vn,Sn)};switch(En){case ie:At=_n()/12;break;case ae:At=_n();break;case oe:At=_n()/3;break;case re:At=(jt-kt)/6048e5;break;case j:At=(jt-kt)/864e5;break;case z:At=jt/y;break;case V:At=jt/g;break;case L:At=jt/r;break;default:At=jt}return Pt?At:Ve.a(At)},Ue.daysInMonth=function(){return this.endOf(ae).$D},Ue.$locale=function(){return Ie[this.$L]},Ue.locale=function(qe,Lt){if(!qe)return this.$L;var Pt=this.clone(),At=Ne(qe,Lt,!0);return At&&(Pt.$L=At),Pt},Ue.clone=function(){return Ve.w(this.$d,this)},Ue.toDate=function(){return new Date(this.valueOf())},Ue.toJSON=function(){return this.isValid()?this.toISOString():null},Ue.toISOString=function(){return this.$d.toISOString()},Ue.toString=function(){return this.$d.toUTCString()},Dt}(),Et=ze.prototype;return Fe.prototype=Et,[["$ms",$],["$s",L],["$m",V],["$H",z],["$W",j],["$M",ae],["$y",ie],["$D",le]].forEach(function(Dt){Et[Dt[1]]=function(Ue){return this.$g(Ue,Dt[0],Dt[1])}}),Fe.extend=function(Dt,Ue){return Dt.$i||(Dt(Ue,ze,Fe),Dt.$i=!0),Fe},Fe.locale=Ne,Fe.isDayjs=Oe,Fe.unix=function(Dt){return Fe(1e3*Dt)},Fe.en=Ie[xe],Fe.Ls=Ie,Fe.p={},Fe})}(dayjs_min$1)),dayjs_min$1.exports}var dayjs_minExports=requireDayjs_min();const dayjs=getDefaultExportFromCjs(dayjs_minExports),buildTimeList=(t,n)=>[t>0?t-1:void 0,t,t<n?t+1:void 0],rangeArr=t=>Array.from(Array.from({length:t}).keys()),extractDateFormat=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),extractTimeFormat=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),dateEquals=function(t,n){const r=isDate(t),g=isDate(n);return r&&g?t.getTime()===n.getTime():!r&&!g?t===n:!1},valueEquals=function(t,n){const r=isArray$4(t),g=isArray$4(n);return r&&g?t.length!==n.length?!1:t.every((y,$)=>dateEquals(y,n[$])):!r&&!g?dateEquals(t,n):!1},parseDate$1=function(t,n,r){const g=isEmpty(n)||n==="x"?dayjs(t).locale(r):dayjs(t,n).locale(r);return g.isValid()?g:void 0},formatter=function(t,n,r){return isEmpty(n)?t:n==="x"?+t:dayjs(t).locale(r).format(n)},makeList=(t,n)=>{var r;const g=[],y=n==null?void 0:n();for(let $=0;$<t;$++)g.push((r=y==null?void 0:y.includes($))!=null?r:!1);return g},dayOrDaysToDate=t=>isArray$4(t)?t.map(n=>n.toDate()):t.toDate(),getPrevMonthLastDays=(t,n)=>{const r=t.subtract(1,"month").endOf("month").date();return rangeArr(n).map((g,y)=>r-(n-y-1))},getMonthDays=t=>{const n=t.daysInMonth();return rangeArr(n).map((r,g)=>g+1)},toNestedArr=t=>rangeArr(t.length/7).map(n=>{const r=n*7;return t.slice(r,r+7)}),dateTableProps=buildProps({selectedDay:{type:definePropType(Object)},range:{type:definePropType(Array)},date:{type:definePropType(Object),required:!0},hideHeader:{type:Boolean}}),dateTableEmits={pick:t=>isObject$5(t)};var localeData$2={exports:{}},localeData$1=localeData$2.exports,hasRequiredLocaleData;function requireLocaleData(){return hasRequiredLocaleData||(hasRequiredLocaleData=1,function(t,n){(function(r,g){t.exports=g()})(localeData$1,function(){return function(r,g,y){var $=g.prototype,L=function(ae){return ae&&(ae.indexOf?ae:ae.s)},V=function(ae,oe,ie,le,ue){var de=ae.name?ae:ae.$locale(),he=L(de[oe]),pe=L(de[ie]),_e=he||pe.map(function(xe){return xe.slice(0,le)});if(!ue)return _e;var Ce=de.weekStart;return _e.map(function(xe,Ie){return _e[(Ie+(Ce||0))%7]})},z=function(){return y.Ls[y.locale()]},j=function(ae,oe){return ae.formats[oe]||function(ie){return ie.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(le,ue,de){return ue||de.slice(1)})}(ae.formats[oe.toUpperCase()])},re=function(){var ae=this;return{months:function(oe){return oe?oe.format("MMMM"):V(ae,"months")},monthsShort:function(oe){return oe?oe.format("MMM"):V(ae,"monthsShort","months",3)},firstDayOfWeek:function(){return ae.$locale().weekStart||0},weekdays:function(oe){return oe?oe.format("dddd"):V(ae,"weekdays")},weekdaysMin:function(oe){return oe?oe.format("dd"):V(ae,"weekdaysMin","weekdays",2)},weekdaysShort:function(oe){return oe?oe.format("ddd"):V(ae,"weekdaysShort","weekdays",3)},longDateFormat:function(oe){return j(ae.$locale(),oe)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};$.localeData=function(){return re.bind(this)()},y.localeData=function(){var ae=z();return{firstDayOfWeek:function(){return ae.weekStart||0},weekdays:function(){return y.weekdays()},weekdaysShort:function(){return y.weekdaysShort()},weekdaysMin:function(){return y.weekdaysMin()},months:function(){return y.months()},monthsShort:function(){return y.monthsShort()},longDateFormat:function(oe){return j(ae,oe)},meridiem:ae.meridiem,ordinal:ae.ordinal}},y.months=function(){return V(z(),"months")},y.monthsShort=function(){return V(z(),"monthsShort","months",3)},y.weekdays=function(ae){return V(z(),"weekdays",null,null,ae)},y.weekdaysShort=function(ae){return V(z(),"weekdaysShort","weekdays",3,ae)},y.weekdaysMin=function(ae){return V(z(),"weekdaysMin","weekdays",2,ae)}}})}(localeData$2)),localeData$2.exports}var localeDataExports=requireLocaleData();const localeData=getDefaultExportFromCjs(localeDataExports),datePickTypes=["year","years","month","months","date","dates","week","datetime","datetimerange","daterange","monthrange","yearrange"],WEEK_DAYS=["sun","mon","tue","wed","thu","fri","sat"],useDateTable=(t,n)=>{dayjs.extend(localeData);const r=dayjs.localeData().firstDayOfWeek(),{t:g,lang:y}=useLocale(),$=dayjs().locale(y.value),L=computed(()=>!!t.range&&!!t.range.length),V=computed(()=>{let oe=[];if(L.value){const[ie,le]=t.range,ue=rangeArr(le.date()-ie.date()+1).map(pe=>({text:ie.date()+pe,type:"current"}));let de=ue.length%7;de=de===0?0:7-de;const he=rangeArr(de).map((pe,_e)=>({text:_e+1,type:"next"}));oe=ue.concat(he)}else{const ie=t.date.startOf("month").day(),le=getPrevMonthLastDays(t.date,(ie-r+7)%7).map(pe=>({text:pe,type:"prev"})),ue=getMonthDays(t.date).map(pe=>({text:pe,type:"current"}));oe=[...le,...ue];const de=7-(oe.length%7||7),he=rangeArr(de).map((pe,_e)=>({text:_e+1,type:"next"}));oe=oe.concat(he)}return toNestedArr(oe)}),z=computed(()=>{const oe=r;return oe===0?WEEK_DAYS.map(ie=>g(`el.datepicker.weeks.${ie}`)):WEEK_DAYS.slice(oe).concat(WEEK_DAYS.slice(0,oe)).map(ie=>g(`el.datepicker.weeks.${ie}`))}),j=(oe,ie)=>{switch(ie){case"prev":return t.date.startOf("month").subtract(1,"month").date(oe);case"next":return t.date.startOf("month").add(1,"month").date(oe);case"current":return t.date.date(oe)}};return{now:$,isInRange:L,rows:V,weekDays:z,getFormattedDate:j,handlePickDay:({text:oe,type:ie})=>{const le=j(oe,ie);n("pick",le)},getSlotData:({text:oe,type:ie})=>{const le=j(oe,ie);return{isSelected:le.isSame(t.selectedDay),type:`${ie}-month`,day:le.format("YYYY-MM-DD"),date:le.toDate()}}}},__default__$1D=defineComponent({name:"DateTable"}),_sfc_main$2o=defineComponent({...__default__$1D,props:dateTableProps,emits:dateTableEmits,setup(t,{expose:n,emit:r}){const g=t,{isInRange:y,now:$,rows:L,weekDays:V,getFormattedDate:z,handlePickDay:j,getSlotData:re}=useDateTable(g,r),ae=useNamespace("calendar-table"),oe=useNamespace("calendar-day"),ie=({text:le,type:ue})=>{const de=[ue];if(ue==="current"){const he=z(le,ue);he.isSame(g.selectedDay,"day")&&de.push(oe.is("selected")),he.isSame($,"day")&&de.push(oe.is("today"))}return de};return n({getFormattedDate:z}),(le,ue)=>(openBlock(),createElementBlock("table",{class:normalizeClass([unref(ae).b(),unref(ae).is("range",unref(y))]),cellspacing:"0",cellpadding:"0"},[le.hideHeader?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("thead",{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),de=>(openBlock(),createElementBlock("th",{key:de,scope:"col"},toDisplayString(de),1))),128))])])),createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(L),(de,he)=>(openBlock(),createElementBlock("tr",{key:he,class:normalizeClass({[unref(ae).e("row")]:!0,[unref(ae).em("row","hide-border")]:he===0&&le.hideHeader})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(de,(pe,_e)=>(openBlock(),createElementBlock("td",{key:_e,class:normalizeClass(ie(pe)),onClick:Ce=>unref(j)(pe)},[createBaseVNode("div",{class:normalizeClass(unref(oe).b())},[renderSlot(le.$slots,"date-cell",{data:unref(re)(pe)},()=>[createBaseVNode("span",null,toDisplayString(pe.text),1)])],2)],10,["onClick"]))),128))],2))),128))])],2))}});var DateTable$1=_export_sfc$1(_sfc_main$2o,[["__file","date-table.vue"]]);const adjacentMonth=(t,n)=>{const r=t.endOf("month"),g=n.startOf("month"),$=r.isSame(g,"week")?g.add(1,"week"):g;return[[t,r],[$.startOf("week"),n]]},threeConsecutiveMonth=(t,n)=>{const r=t.endOf("month"),g=t.add(1,"month").startOf("month"),y=r.isSame(g,"week")?g.add(1,"week"):g,$=y.endOf("month"),L=n.startOf("month"),V=$.isSame(L,"week")?L.add(1,"week"):L;return[[t,r],[y.startOf("week"),$],[V.startOf("week"),n]]},useCalendar=(t,n,r)=>{const{lang:g}=useLocale(),y=ref(),$=dayjs().locale(g.value),L=computed({get(){return t.modelValue?z.value:y.value},set(de){if(!de)return;y.value=de;const he=de.toDate();n(INPUT_EVENT,he),n(UPDATE_MODEL_EVENT,he)}}),V=computed(()=>{if(!t.range||!isArray$4(t.range)||t.range.length!==2||t.range.some(_e=>!isDate(_e)))return[];const de=t.range.map(_e=>dayjs(_e).locale(g.value)),[he,pe]=de;return he.isAfter(pe)?[]:he.isSame(pe,"month")?ie(he,pe):he.add(1,"month").month()!==pe.month()?[]:ie(he,pe)}),z=computed(()=>t.modelValue?dayjs(t.modelValue).locale(g.value):L.value||(V.value.length?V.value[0][0]:$)),j=computed(()=>z.value.subtract(1,"month").date(1)),re=computed(()=>z.value.add(1,"month").date(1)),ae=computed(()=>z.value.subtract(1,"year").date(1)),oe=computed(()=>z.value.add(1,"year").date(1)),ie=(de,he)=>{const pe=de.startOf("week"),_e=he.endOf("week"),Ce=pe.get("month"),xe=_e.get("month");return Ce===xe?[[pe,_e]]:(Ce+1)%12===xe?adjacentMonth(pe,_e):Ce+2===xe||(Ce+1)%11===xe?threeConsecutiveMonth(pe,_e):[]},le=de=>{L.value=de};return{calculateValidatedDateRange:ie,date:z,realSelectedDay:L,pickDay:le,selectDate:de=>{const pe={"prev-month":j.value,"next-month":re.value,"prev-year":ae.value,"next-year":oe.value,today:$}[de];pe.isSame(z.value,"day")||le(pe)},validatedRange:V}},isValidRange$1=t=>isArray$4(t)&&t.length===2&&t.every(n=>isDate(n)),calendarProps=buildProps({modelValue:{type:Date},range:{type:definePropType(Array),validator:isValidRange$1}}),calendarEmits={[UPDATE_MODEL_EVENT]:t=>isDate(t),[INPUT_EVENT]:t=>isDate(t)},COMPONENT_NAME$k="ElCalendar",__default__$1C=defineComponent({name:COMPONENT_NAME$k}),_sfc_main$2n=defineComponent({...__default__$1C,props:calendarProps,emits:calendarEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("calendar"),{calculateValidatedDateRange:$,date:L,pickDay:V,realSelectedDay:z,selectDate:j,validatedRange:re}=useCalendar(g,r),{t:ae}=useLocale(),oe=computed(()=>{const ie=`el.datepicker.month${L.value.format("M")}`;return`${L.value.year()} ${ae("el.datepicker.year")} ${ae(ie)}`});return n({selectedDay:z,pickDay:V,selectDate:j,calculateValidatedDateRange:$}),(ie,le)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("header"))},[renderSlot(ie.$slots,"header",{date:unref(oe)},()=>[createBaseVNode("div",{class:normalizeClass(unref(y).e("title"))},toDisplayString(unref(oe)),3),unref(re).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("button-group"))},[createVNode$1(unref(ElButtonGroup$1),null,{default:withCtx(()=>[createVNode$1(unref(ElButton),{size:"small",onClick:ue=>unref(j)("prev-month")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)("el.datepicker.prevMonth")),1)]),_:1},8,["onClick"]),createVNode$1(unref(ElButton),{size:"small",onClick:ue=>unref(j)("today")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)("el.datepicker.today")),1)]),_:1},8,["onClick"]),createVNode$1(unref(ElButton),{size:"small",onClick:ue=>unref(j)("next-month")},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)("el.datepicker.nextMonth")),1)]),_:1},8,["onClick"])]),_:1})],2)):createCommentVNode("v-if",!0)])],2),unref(re).length===0?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("body"))},[createVNode$1(DateTable$1,{date:unref(L),"selected-day":unref(z),onPick:unref(V)},createSlots({_:2},[ie.$slots["date-cell"]?{name:"date-cell",fn:withCtx(ue=>[renderSlot(ie.$slots,"date-cell",normalizeProps(guardReactiveProps(ue)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).e("body"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),(ue,de)=>(openBlock(),createBlock(DateTable$1,{key:de,date:ue[0],"selected-day":unref(z),range:ue,"hide-header":de!==0,onPick:unref(V)},createSlots({_:2},[ie.$slots["date-cell"]?{name:"date-cell",fn:withCtx(he=>[renderSlot(ie.$slots,"date-cell",normalizeProps(guardReactiveProps(he)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var Calendar$1=_export_sfc$1(_sfc_main$2n,[["__file","calendar.vue"]]);const ElCalendar=withInstall(Calendar$1),cardProps=buildProps({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:definePropType([String,Object,Array]),default:""},headerClass:String,bodyClass:String,footerClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),__default__$1B=defineComponent({name:"ElCard"}),_sfc_main$2m=defineComponent({...__default__$1B,props:cardProps,setup(t){const n=useNamespace("card");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).b(),unref(n).is(`${r.shadow}-shadow`)])},[r.$slots.header||r.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(n).e("header"),r.headerClass])},[renderSlot(r.$slots,"header",{},()=>[createTextVNode(toDisplayString(r.header),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(n).e("body"),r.bodyClass]),style:normalizeStyle$1(r.bodyStyle)},[renderSlot(r.$slots,"default")],6),r.$slots.footer||r.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(n).e("footer"),r.footerClass])},[renderSlot(r.$slots,"footer",{},()=>[createTextVNode(toDisplayString(r.footer),1)])],2)):createCommentVNode("v-if",!0)],2))}});var Card=_export_sfc$1(_sfc_main$2m,[["__file","card.vue"]]);const ElCard=withInstall(Card),carouselProps=buildProps({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},cardScale:{type:Number,default:.83},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:Boolean}),carouselEmits={change:(t,n)=>[t,n].every(isNumber$1)},carouselContextKey=Symbol("carouselContextKey"),CAROUSEL_ITEM_NAME="ElCarouselItem";var PatchFlags=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(PatchFlags||{});function isFragment(t){return isVNode(t)&&t.type===Fragment}function isComment(t){return isVNode(t)&&t.type===Comment}function isValidElementNode(t){return isVNode(t)&&!isFragment(t)&&!isComment(t)}const getNormalizedProps=t=>{if(!isVNode(t))return{};const n=t.props||{},r=(isVNode(t.type)?t.type.props:void 0)||{},g={};return Object.keys(r).forEach(y=>{hasOwn$1(r[y],"default")&&(g[y]=r[y].default)}),Object.keys(n).forEach(y=>{g[camelize(y)]=n[y]}),g},ensureOnlyChild=t=>{if(!isArray$4(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},flattedChildren=t=>{const n=isArray$4(t)?t:[t],r=[];return n.forEach(g=>{var y;isArray$4(g)?r.push(...flattedChildren(g)):isVNode(g)&&((y=g.component)!=null&&y.subTree)?r.push(g,...flattedChildren(g.component.subTree)):isVNode(g)&&isArray$4(g.children)?r.push(...flattedChildren(g.children)):isVNode(g)&&g.shapeFlag===2?r.push(...flattedChildren(g.type())):r.push(g)}),r},getOrderedChildren=(t,n,r)=>flattedChildren(t.subTree).filter($=>{var L;return isVNode($)&&((L=$.type)==null?void 0:L.name)===n&&!!$.component}).map($=>$.component.uid).map($=>r[$]).filter($=>!!$),useOrderedChildren=(t,n)=>{const r={},g=shallowRef([]);return{children:g,addChild:L=>{r[L.uid]=L,g.value=getOrderedChildren(t,n,r)},removeChild:L=>{delete r[L],g.value=g.value.filter(V=>V.uid!==L)}}},THROTTLE_TIME=300,useCarousel=(t,n,r)=>{const{children:g,addChild:y,removeChild:$}=useOrderedChildren(getCurrentInstance(),CAROUSEL_ITEM_NAME),L=useSlots(),V=ref(-1),z=ref(null),j=ref(!1),re=ref(),ae=ref(0),oe=ref(!0),ie=computed(()=>t.arrow!=="never"&&!unref(de)),le=computed(()=>g.value.some(kt=>kt.props.label.toString().length>0)),ue=computed(()=>t.type==="card"),de=computed(()=>t.direction==="vertical"),he=computed(()=>t.height!=="auto"?{height:t.height}:{height:`${ae.value}px`,overflow:"hidden"}),pe=throttle$1(kt=>{Oe(kt)},THROTTLE_TIME,{trailing:!0}),_e=throttle$1(kt=>{qe(kt)},THROTTLE_TIME),Ce=kt=>oe.value?V.value<=1?kt<=1:kt>1:!0;function xe(){z.value&&(clearInterval(z.value),z.value=null)}function Ie(){t.interval<=0||!t.autoplay||z.value||(z.value=setInterval(()=>$e(),t.interval))}const $e=()=>{V.value<g.value.length-1?V.value=V.value+1:t.loop&&(V.value=0)};function Oe(kt){if(isString$2(kt)){const wn=g.value.filter(hn=>hn.props.name===kt);wn.length>0&&(kt=g.value.indexOf(wn[0]))}if(kt=Number(kt),Number.isNaN(kt)||kt!==Math.floor(kt))return;const jt=g.value.length,_n=V.value;kt<0?V.value=t.loop?jt-1:0:kt>=jt?V.value=t.loop?0:jt-1:V.value=kt,_n===V.value&&Ne(_n),At()}function Ne(kt){g.value.forEach((jt,_n)=>{jt.translateItem(_n,V.value,kt)})}function Fe(kt,jt){var _n,wn,hn,Cn;const Tn=unref(g),xn=Tn.length;if(xn===0||!kt.states.inStage)return!1;const Mn=jt+1,bn=jt-1,Pn=xn-1,Rn=Tn[Pn].states.active,Fn=Tn[0].states.active,Dn=(wn=(_n=Tn[Mn])==null?void 0:_n.states)==null?void 0:wn.active,Ln=(Cn=(hn=Tn[bn])==null?void 0:hn.states)==null?void 0:Cn.active;return jt===Pn&&Fn||Dn?"left":jt===0&&Rn||Ln?"right":!1}function Ve(){j.value=!0,t.pauseOnHover&&xe()}function ze(){j.value=!1,Ie()}function Et(kt){unref(de)||g.value.forEach((jt,_n)=>{kt===Fe(jt,_n)&&(jt.states.hover=!0)})}function Dt(){unref(de)||g.value.forEach(kt=>{kt.states.hover=!1})}function Ue(kt){V.value=kt}function qe(kt){t.trigger==="hover"&&kt!==V.value&&(V.value=kt)}function Lt(){Oe(V.value-1)}function Pt(){Oe(V.value+1)}function At(){xe(),t.pauseOnHover||Ie()}function vn(kt){t.height==="auto"&&(ae.value=kt)}function En(){var kt;const jt=(kt=L.default)==null?void 0:kt.call(L);if(!jt)return null;const wn=flattedChildren(jt).filter(hn=>isVNode(hn)&&hn.type.name===CAROUSEL_ITEM_NAME);return(wn==null?void 0:wn.length)===2&&t.loop&&!ue.value?(oe.value=!0,wn):(oe.value=!1,null)}watch(()=>V.value,(kt,jt)=>{Ne(jt),oe.value&&(kt=kt%2,jt=jt%2),jt>-1&&n(CHANGE_EVENT,kt,jt)}),watch(()=>t.autoplay,kt=>{kt?Ie():xe()}),watch(()=>t.loop,()=>{Oe(V.value)}),watch(()=>t.interval,()=>{At()});const Sn=shallowRef();return onMounted(()=>{watch(()=>g.value,()=>{g.value.length>0&&Oe(t.initialIndex)},{immediate:!0}),Sn.value=useResizeObserver(re.value,()=>{Ne()}),Ie()}),onBeforeUnmount(()=>{xe(),re.value&&Sn.value&&Sn.value.stop()}),provide(carouselContextKey,{root:re,isCardType:ue,isVertical:de,items:g,loop:t.loop,cardScale:t.cardScale,addItem:y,removeItem:$,setActiveItem:Oe,setContainerHeight:vn}),{root:re,activeIndex:V,arrowDisplay:ie,hasLabel:le,hover:j,isCardType:ue,items:g,isVertical:de,containerStyle:he,isItemsTwoLength:oe,handleButtonEnter:Et,handleButtonLeave:Dt,handleIndicatorClick:Ue,handleMouseEnter:Ve,handleMouseLeave:ze,setActiveItem:Oe,prev:Lt,next:Pt,PlaceholderItem:En,isTwoLengthShow:Ce,throttledArrowClick:pe,throttledIndicatorHover:_e}},COMPONENT_NAME$j="ElCarousel",__default__$1A=defineComponent({name:COMPONENT_NAME$j}),_sfc_main$2l=defineComponent({...__default__$1A,props:carouselProps,emits:carouselEmits,setup(t,{expose:n,emit:r}){const g=t,{root:y,activeIndex:$,arrowDisplay:L,hasLabel:V,hover:z,isCardType:j,items:re,isVertical:ae,containerStyle:oe,handleButtonEnter:ie,handleButtonLeave:le,handleIndicatorClick:ue,handleMouseEnter:de,handleMouseLeave:he,setActiveItem:pe,prev:_e,next:Ce,PlaceholderItem:xe,isTwoLengthShow:Ie,throttledArrowClick:$e,throttledIndicatorHover:Oe}=useCarousel(g,r),Ne=useNamespace("carousel"),{t:Fe}=useLocale(),Ve=computed(()=>{const Ue=[Ne.b(),Ne.m(g.direction)];return unref(j)&&Ue.push(Ne.m("card")),Ue}),ze=computed(()=>{const Ue=[Ne.e("indicators"),Ne.em("indicators",g.direction)];return unref(V)&&Ue.push(Ne.em("indicators","labels")),g.indicatorPosition==="outside"&&Ue.push(Ne.em("indicators","outside")),unref(ae)&&Ue.push(Ne.em("indicators","right")),Ue});function Et(Ue){if(!g.motionBlur)return;const qe=unref(ae)?`${Ne.namespace.value}-transitioning-vertical`:`${Ne.namespace.value}-transitioning`;Ue.currentTarget.classList.add(qe)}function Dt(Ue){if(!g.motionBlur)return;const qe=unref(ae)?`${Ne.namespace.value}-transitioning-vertical`:`${Ne.namespace.value}-transitioning`;Ue.currentTarget.classList.remove(qe)}return n({activeIndex:$,setActiveItem:pe,prev:_e,next:Ce}),(Ue,qe)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:y,class:normalizeClass(unref(Ve)),onMouseenter:withModifiers(unref(de),["stop"]),onMouseleave:withModifiers(unref(he),["stop"])},[unref(L)?(openBlock(),createBlock(Transition,{key:0,name:"carousel-arrow-left",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ne).e("arrow"),unref(Ne).em("arrow","left")]),"aria-label":unref(Fe)("el.carousel.leftArrow"),onMouseenter:Lt=>unref(ie)("left"),onMouseleave:unref(le),onClick:withModifiers(Lt=>unref($e)(unref($)-1),["stop"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vShow,(Ue.arrow==="always"||unref(z))&&(g.loop||unref($)>0)]])]),_:1})):createCommentVNode("v-if",!0),unref(L)?(openBlock(),createBlock(Transition,{key:1,name:"carousel-arrow-right",persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(Ne).e("arrow"),unref(Ne).em("arrow","right")]),"aria-label":unref(Fe)("el.carousel.rightArrow"),onMouseenter:Lt=>unref(ie)("right"),onMouseleave:unref(le),onClick:withModifiers(Lt=>unref($e)(unref($)+1),["stop"])},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],42,["aria-label","onMouseenter","onMouseleave","onClick"]),[[vShow,(Ue.arrow==="always"||unref(z))&&(g.loop||unref($)<unref(re).length-1)]])]),_:1})):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Ne).e("container")),style:normalizeStyle$1(unref(oe)),onTransitionstart:Et,onTransitionend:Dt},[createVNode$1(unref(xe)),renderSlot(Ue.$slots,"default")],38),Ue.indicatorPosition!=="none"?(openBlock(),createElementBlock("ul",{key:2,class:normalizeClass(unref(ze))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),(Lt,Pt)=>withDirectives((openBlock(),createElementBlock("li",{key:Pt,class:normalizeClass([unref(Ne).e("indicator"),unref(Ne).em("indicator",Ue.direction),unref(Ne).is("active",Pt===unref($))]),onMouseenter:At=>unref(Oe)(Pt),onClick:withModifiers(At=>unref(ue)(Pt),["stop"])},[createBaseVNode("button",{class:normalizeClass(unref(Ne).e("button")),"aria-label":unref(Fe)("el.carousel.indicator",{index:Pt+1})},[unref(V)?(openBlock(),createElementBlock("span",{key:0},toDisplayString(Lt.props.label),1)):createCommentVNode("v-if",!0)],10,["aria-label"])],42,["onMouseenter","onClick"])),[[vShow,unref(Ie)(Pt)]])),128))],2)):createCommentVNode("v-if",!0),g.motionBlur?(openBlock(),createElementBlock("svg",{key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},[createBaseVNode("defs",null,[createBaseVNode("filter",{id:"elCarouselHorizontal"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),createBaseVNode("filter",{id:"elCarouselVertical"},[createBaseVNode("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])])])):createCommentVNode("v-if",!0)],42,["onMouseenter","onMouseleave"]))}});var Carousel=_export_sfc$1(_sfc_main$2l,[["__file","carousel.vue"]]);const carouselItemProps=buildProps({name:{type:String,default:""},label:{type:[String,Number],default:""}}),useCarouselItem=t=>{const n=inject(carouselContextKey),r=getCurrentInstance(),g=ref(),y=ref(!1),$=ref(0),L=ref(1),V=ref(!1),z=ref(!1),j=ref(!1),re=ref(!1),{isCardType:ae,isVertical:oe,cardScale:ie}=n;function le(_e,Ce,xe){const Ie=xe-1,$e=Ce-1,Oe=Ce+1,Ne=xe/2;return Ce===0&&_e===Ie?-1:Ce===Ie&&_e===0?xe:_e<$e&&Ce-_e>=Ne?xe+1:_e>Oe&&_e-Ce>=Ne?-2:_e}function ue(_e,Ce){var xe,Ie;const $e=unref(oe)?((xe=n.root.value)==null?void 0:xe.offsetHeight)||0:((Ie=n.root.value)==null?void 0:Ie.offsetWidth)||0;return j.value?$e*((2-ie)*(_e-Ce)+1)/4:_e<Ce?-(1+ie)*$e/4:(3+ie)*$e/4}function de(_e,Ce,xe){const Ie=n.root.value;return Ie?((xe?Ie.offsetHeight:Ie.offsetWidth)||0)*(_e-Ce):0}const he=(_e,Ce,xe)=>{var Ie;const $e=unref(ae),Oe=(Ie=n.items.value.length)!=null?Ie:Number.NaN,Ne=_e===Ce;!$e&&!isUndefined(xe)&&(re.value=Ne||_e===xe),!Ne&&Oe>2&&n.loop&&(_e=le(_e,Ce,Oe));const Fe=unref(oe);V.value=Ne,$e?(j.value=Math.round(Math.abs(_e-Ce))<=1,$.value=ue(_e,Ce),L.value=unref(V)?1:ie):$.value=de(_e,Ce,Fe),z.value=!0,Ne&&g.value&&n.setContainerHeight(g.value.offsetHeight)};function pe(){if(n&&unref(ae)){const _e=n.items.value.findIndex(({uid:Ce})=>Ce===r.uid);n.setActiveItem(_e)}}return onMounted(()=>{n.addItem({props:t,states:reactive({hover:y,translate:$,scale:L,active:V,ready:z,inStage:j,animating:re}),uid:r.uid,translateItem:he})}),onUnmounted(()=>{n.removeItem(r.uid)}),{carouselItemRef:g,active:V,animating:re,hover:y,inStage:j,isVertical:oe,translate:$,isCardType:ae,scale:L,ready:z,handleItemClick:pe}},__default__$1z=defineComponent({name:CAROUSEL_ITEM_NAME}),_sfc_main$2k=defineComponent({...__default__$1z,props:carouselItemProps,setup(t){const n=t,r=useNamespace("carousel"),{carouselItemRef:g,active:y,animating:$,hover:L,inStage:V,isVertical:z,translate:j,isCardType:re,scale:ae,ready:oe,handleItemClick:ie}=useCarouselItem(n),le=computed(()=>[r.e("item"),r.is("active",y.value),r.is("in-stage",V.value),r.is("hover",L.value),r.is("animating",$.value),{[r.em("item","card")]:re.value,[r.em("item","card-vertical")]:re.value&&z.value}]),ue=computed(()=>{const he=`${`translate${unref(z)?"Y":"X"}`}(${unref(j)}px)`,pe=`scale(${unref(ae)})`;return{transform:[he,pe].join(" ")}});return(de,he)=>withDirectives((openBlock(),createElementBlock("div",{ref_key:"carouselItemRef",ref:g,class:normalizeClass(unref(le)),style:normalizeStyle$1(unref(ue)),onClick:unref(ie)},[unref(re)?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("mask"))},null,2)),[[vShow,!unref(y)]]):createCommentVNode("v-if",!0),renderSlot(de.$slots,"default")],14,["onClick"])),[[vShow,unref(oe)]])}});var CarouselItem=_export_sfc$1(_sfc_main$2k,[["__file","carousel-item.vue"]]);const ElCarousel=withInstall(Carousel,{CarouselItem}),ElCarouselItem=withNoopInstall(CarouselItem),checkboxProps={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:useSizeProp,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaControls"])},checkboxEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t)||isNumber$1(t)||isBoolean(t),change:t=>isString$2(t)||isNumber$1(t)||isBoolean(t)},checkboxGroupContextKey=Symbol("checkboxGroupContextKey"),useCheckboxDisabled=({model:t,isChecked:n})=>{const r=inject(checkboxGroupContextKey,void 0),g=computed(()=>{var $,L;const V=($=r==null?void 0:r.max)==null?void 0:$.value,z=(L=r==null?void 0:r.min)==null?void 0:L.value;return!isUndefined(V)&&t.value.length>=V&&!n.value||!isUndefined(z)&&t.value.length<=z&&n.value});return{isDisabled:useFormDisabled(computed(()=>(r==null?void 0:r.disabled.value)||g.value)),isLimitDisabled:g}},useCheckboxEvent=(t,{model:n,isLimitExceeded:r,hasOwnLabel:g,isDisabled:y,isLabeledByFormItem:$})=>{const L=inject(checkboxGroupContextKey,void 0),{formItem:V}=useFormItem(),{emit:z}=getCurrentInstance();function j(le){var ue,de,he,pe;return[!0,t.trueValue,t.trueLabel].includes(le)?(de=(ue=t.trueValue)!=null?ue:t.trueLabel)!=null?de:!0:(pe=(he=t.falseValue)!=null?he:t.falseLabel)!=null?pe:!1}function re(le,ue){z(CHANGE_EVENT,j(le),ue)}function ae(le){if(r.value)return;const ue=le.target;z(CHANGE_EVENT,j(ue.checked),le)}async function oe(le){r.value||!g.value&&!y.value&&$.value&&(le.composedPath().some(he=>he.tagName==="LABEL")||(n.value=j([!1,t.falseValue,t.falseLabel].includes(n.value)),await nextTick(),re(n.value,le)))}const ie=computed(()=>(L==null?void 0:L.validateEvent)||t.validateEvent);return watch(()=>t.modelValue,()=>{ie.value&&(V==null||V.validate("change").catch(le=>void 0))}),{handleChange:ae,onClickRoot:oe}},useCheckboxModel=t=>{const n=ref(!1),{emit:r}=getCurrentInstance(),g=inject(checkboxGroupContextKey,void 0),y=computed(()=>isUndefined(g)===!1),$=ref(!1),L=computed({get(){var V,z;return y.value?(V=g==null?void 0:g.modelValue)==null?void 0:V.value:(z=t.modelValue)!=null?z:n.value},set(V){var z,j;y.value&&isArray$4(V)?($.value=((z=g==null?void 0:g.max)==null?void 0:z.value)!==void 0&&V.length>(g==null?void 0:g.max.value)&&V.length>L.value.length,$.value===!1&&((j=g==null?void 0:g.changeEvent)==null||j.call(g,V))):(r(UPDATE_MODEL_EVENT,V),n.value=V)}});return{model:L,isGroup:y,isLimitExceeded:$}},useCheckboxStatus=(t,n,{model:r})=>{const g=inject(checkboxGroupContextKey,void 0),y=ref(!1),$=computed(()=>isPropAbsent(t.value)?t.label:t.value),L=computed(()=>{const re=r.value;return isBoolean(re)?re:isArray$4(re)?isObject$5($.value)?re.map(toRaw).some(ae=>isEqual$1(ae,$.value)):re.map(toRaw).includes($.value):re!=null?re===t.trueValue||re===t.trueLabel:!!re}),V=useFormSize(computed(()=>{var re;return(re=g==null?void 0:g.size)==null?void 0:re.value}),{prop:!0}),z=useFormSize(computed(()=>{var re;return(re=g==null?void 0:g.size)==null?void 0:re.value})),j=computed(()=>!!n.default||!isPropAbsent($.value));return{checkboxButtonSize:V,isChecked:L,isFocused:y,checkboxSize:z,hasOwnLabel:j,actualValue:$}},useCheckbox=(t,n)=>{const{formItem:r}=useFormItem(),{model:g,isGroup:y,isLimitExceeded:$}=useCheckboxModel(t),{isFocused:L,isChecked:V,checkboxButtonSize:z,checkboxSize:j,hasOwnLabel:re,actualValue:ae}=useCheckboxStatus(t,n,{model:g}),{isDisabled:oe}=useCheckboxDisabled({model:g,isChecked:V}),{inputId:ie,isLabeledByFormItem:le}=useFormItemInputId(t,{formItemContext:r,disableIdGeneration:re,disableIdManagement:y}),{handleChange:ue,onClickRoot:de}=useCheckboxEvent(t,{model:g,isLimitExceeded:$,hasOwnLabel:re,isDisabled:oe,isLabeledByFormItem:le});return(()=>{function pe(){var _e,Ce;isArray$4(g.value)&&!g.value.includes(ae.value)?g.value.push(ae.value):g.value=(Ce=(_e=t.trueValue)!=null?_e:t.trueLabel)!=null?Ce:!0}t.checked&&pe()})(),useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>y.value&&isPropAbsent(t.value))),useDeprecated({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!t.trueLabel)),useDeprecated({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},computed(()=>!!t.falseLabel)),{inputId:ie,isLabeledByFormItem:le,isChecked:V,isDisabled:oe,isFocused:L,checkboxButtonSize:z,checkboxSize:j,hasOwnLabel:re,model:g,actualValue:ae,handleChange:ue,onClickRoot:de}},__default__$1y=defineComponent({name:"ElCheckbox"}),_sfc_main$2j=defineComponent({...__default__$1y,props:checkboxProps,emits:checkboxEmits,setup(t){const n=t,r=useSlots(),{inputId:g,isLabeledByFormItem:y,isChecked:$,isDisabled:L,isFocused:V,checkboxSize:z,hasOwnLabel:j,model:re,actualValue:ae,handleChange:oe,onClickRoot:ie}=useCheckbox(n,r),le=useNamespace("checkbox"),ue=computed(()=>[le.b(),le.m(z.value),le.is("disabled",L.value),le.is("bordered",n.border),le.is("checked",$.value)]),de=computed(()=>[le.e("input"),le.is("disabled",L.value),le.is("checked",$.value),le.is("indeterminate",n.indeterminate),le.is("focus",V.value)]);return(he,pe)=>(openBlock(),createBlock(resolveDynamicComponent(!unref(j)&&unref(y)?"span":"label"),{class:normalizeClass(unref(ue)),"aria-controls":he.indeterminate?he.ariaControls:null,onClick:unref(ie)},{default:withCtx(()=>{var _e,Ce,xe,Ie;return[createBaseVNode("span",{class:normalizeClass(unref(de))},[he.trueValue||he.falseValue||he.trueLabel||he.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,id:unref(g),"onUpdate:modelValue":$e=>isRef(re)?re.value=$e:null,class:normalizeClass(unref(le).e("original")),type:"checkbox",indeterminate:he.indeterminate,name:he.name,tabindex:he.tabindex,disabled:unref(L),"true-value":(Ce=(_e=he.trueValue)!=null?_e:he.trueLabel)!=null?Ce:!0,"false-value":(Ie=(xe=he.falseValue)!=null?xe:he.falseLabel)!=null?Ie:!1,onChange:unref(oe),onFocus:$e=>V.value=!0,onBlur:$e=>V.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(re)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,id:unref(g),"onUpdate:modelValue":$e=>isRef(re)?re.value=$e:null,class:normalizeClass(unref(le).e("original")),type:"checkbox",indeterminate:he.indeterminate,disabled:unref(L),value:unref(ae),name:he.name,tabindex:he.tabindex,onChange:unref(oe),onFocus:$e=>V.value=!0,onBlur:$e=>V.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["id","onUpdate:modelValue","indeterminate","disabled","value","name","tabindex","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(re)]]),createBaseVNode("span",{class:normalizeClass(unref(le).e("inner"))},null,2)],2),unref(j)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(le).e("label"))},[renderSlot(he.$slots,"default"),he.$slots.default?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(he.label),1)],64))],2)):createCommentVNode("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var Checkbox=_export_sfc$1(_sfc_main$2j,[["__file","checkbox.vue"]]);const __default__$1x=defineComponent({name:"ElCheckboxButton"}),_sfc_main$2i=defineComponent({...__default__$1x,props:checkboxProps,emits:checkboxEmits,setup(t){const n=t,r=useSlots(),{isFocused:g,isChecked:y,isDisabled:$,checkboxButtonSize:L,model:V,actualValue:z,handleChange:j}=useCheckbox(n,r),re=inject(checkboxGroupContextKey,void 0),ae=useNamespace("checkbox"),oe=computed(()=>{var le,ue,de,he;const pe=(ue=(le=re==null?void 0:re.fill)==null?void 0:le.value)!=null?ue:"";return{backgroundColor:pe,borderColor:pe,color:(he=(de=re==null?void 0:re.textColor)==null?void 0:de.value)!=null?he:"",boxShadow:pe?`-1px 0 0 0 ${pe}`:void 0}}),ie=computed(()=>[ae.b("button"),ae.bm("button",L.value),ae.is("disabled",$.value),ae.is("checked",y.value),ae.is("focus",g.value)]);return(le,ue)=>{var de,he,pe,_e;return openBlock(),createElementBlock("label",{class:normalizeClass(unref(ie))},[le.trueValue||le.falseValue||le.trueLabel||le.falseLabel?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":Ce=>isRef(V)?V.value=Ce:null,class:normalizeClass(unref(ae).be("button","original")),type:"checkbox",name:le.name,tabindex:le.tabindex,disabled:unref($),"true-value":(he=(de=le.trueValue)!=null?de:le.trueLabel)!=null?he:!0,"false-value":(_e=(pe=le.falseValue)!=null?pe:le.falseLabel)!=null?_e:!1,onChange:unref(j),onFocus:Ce=>g.value=!0,onBlur:Ce=>g.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","true-value","false-value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(V)]]):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":Ce=>isRef(V)?V.value=Ce:null,class:normalizeClass(unref(ae).be("button","original")),type:"checkbox",name:le.name,tabindex:le.tabindex,disabled:unref($),value:unref(z),onChange:unref(j),onFocus:Ce=>g.value=!0,onBlur:Ce=>g.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","name","tabindex","disabled","value","onChange","onFocus","onBlur","onClick"])),[[vModelCheckbox,unref(V)]]),le.$slots.default||le.label?(openBlock(),createElementBlock("span",{key:2,class:normalizeClass(unref(ae).be("button","inner")),style:normalizeStyle$1(unref(y)?unref(oe):void 0)},[renderSlot(le.$slots,"default",{},()=>[createTextVNode(toDisplayString(le.label),1)])],6)):createCommentVNode("v-if",!0)],2)}}});var CheckboxButton=_export_sfc$1(_sfc_main$2i,[["__file","checkbox-button.vue"]]);const checkboxGroupProps=buildProps({modelValue:{type:definePropType(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:useSizeProp,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),checkboxGroupEmits={[UPDATE_MODEL_EVENT]:t=>isArray$4(t),change:t=>isArray$4(t)},__default__$1w=defineComponent({name:"ElCheckboxGroup"}),_sfc_main$2h=defineComponent({...__default__$1w,props:checkboxGroupProps,emits:checkboxGroupEmits,setup(t,{emit:n}){const r=t,g=useNamespace("checkbox"),{formItem:y}=useFormItem(),{inputId:$,isLabeledByFormItem:L}=useFormItemInputId(r,{formItemContext:y}),V=async j=>{n(UPDATE_MODEL_EVENT,j),await nextTick(),n(CHANGE_EVENT,j)},z=computed({get(){return r.modelValue},set(j){V(j)}});return provide(checkboxGroupContextKey,{...pick(toRefs(r),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:z,changeEvent:V}),watch(()=>r.modelValue,()=>{r.validateEvent&&(y==null||y.validate("change").catch(j=>void 0))}),(j,re)=>{var ae;return openBlock(),createBlock(resolveDynamicComponent(j.tag),{id:unref($),class:normalizeClass(unref(g).b("group")),role:"group","aria-label":unref(L)?void 0:j.ariaLabel||"checkbox-group","aria-labelledby":unref(L)?(ae=unref(y))==null?void 0:ae.labelId:void 0},{default:withCtx(()=>[renderSlot(j.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var CheckboxGroup=_export_sfc$1(_sfc_main$2h,[["__file","checkbox-group.vue"]]);const ElCheckbox=withInstall(Checkbox,{CheckboxButton,CheckboxGroup}),ElCheckboxButton=withNoopInstall(CheckboxButton),ElCheckboxGroup$1=withNoopInstall(CheckboxGroup),radioPropsBase=buildProps({modelValue:{type:[String,Number,Boolean],default:void 0},size:useSizeProp,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),radioProps=buildProps({...radioPropsBase,border:Boolean}),radioEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t)||isNumber$1(t)||isBoolean(t),[CHANGE_EVENT]:t=>isString$2(t)||isNumber$1(t)||isBoolean(t)},radioGroupKey=Symbol("radioGroupKey"),useRadio=(t,n)=>{const r=ref(),g=inject(radioGroupKey,void 0),y=computed(()=>!!g),$=computed(()=>isPropAbsent(t.value)?t.label:t.value),L=computed({get(){return y.value?g.modelValue:t.modelValue},set(ae){y.value?g.changeEvent(ae):n&&n(UPDATE_MODEL_EVENT,ae),r.value.checked=t.modelValue===$.value}}),V=useFormSize(computed(()=>g==null?void 0:g.size)),z=useFormDisabled(computed(()=>g==null?void 0:g.disabled)),j=ref(!1),re=computed(()=>z.value||y.value&&L.value!==$.value?-1:0);return useDeprecated({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},computed(()=>y.value&&isPropAbsent(t.value))),{radioRef:r,isGroup:y,radioGroup:g,focus:j,size:V,disabled:z,tabIndex:re,modelValue:L,actualValue:$}},__default__$1v=defineComponent({name:"ElRadio"}),_sfc_main$2g=defineComponent({...__default__$1v,props:radioProps,emits:radioEmits,setup(t,{emit:n}){const r=t,g=useNamespace("radio"),{radioRef:y,radioGroup:$,focus:L,size:V,disabled:z,modelValue:j,actualValue:re}=useRadio(r,n);function ae(){nextTick(()=>n(CHANGE_EVENT,j.value))}return(oe,ie)=>{var le;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(g).b(),unref(g).is("disabled",unref(z)),unref(g).is("focus",unref(L)),unref(g).is("bordered",oe.border),unref(g).is("checked",unref(j)===unref(re)),unref(g).m(unref(V))])},[createBaseVNode("span",{class:normalizeClass([unref(g).e("input"),unref(g).is("disabled",unref(z)),unref(g).is("checked",unref(j)===unref(re))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:y,"onUpdate:modelValue":ue=>isRef(j)?j.value=ue:null,class:normalizeClass(unref(g).e("original")),value:unref(re),name:oe.name||((le=unref($))==null?void 0:le.name),disabled:unref(z),checked:unref(j)===unref(re),type:"radio",onFocus:ue=>L.value=!0,onBlur:ue=>L.value=!1,onChange:ae,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","checked","onFocus","onBlur","onClick"]),[[vModelRadio,unref(j)]]),createBaseVNode("span",{class:normalizeClass(unref(g).e("inner"))},null,2)],2),createBaseVNode("span",{class:normalizeClass(unref(g).e("label")),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(oe.$slots,"default",{},()=>[createTextVNode(toDisplayString(oe.label),1)])],42,["onKeydown"])],2)}}});var Radio=_export_sfc$1(_sfc_main$2g,[["__file","radio.vue"]]);const radioButtonProps=buildProps({...radioPropsBase}),__default__$1u=defineComponent({name:"ElRadioButton"}),_sfc_main$2f=defineComponent({...__default__$1u,props:radioButtonProps,setup(t){const n=t,r=useNamespace("radio"),{radioRef:g,focus:y,size:$,disabled:L,modelValue:V,radioGroup:z,actualValue:j}=useRadio(n),re=computed(()=>({backgroundColor:(z==null?void 0:z.fill)||"",borderColor:(z==null?void 0:z.fill)||"",boxShadow:z!=null&&z.fill?`-1px 0 0 0 ${z.fill}`:"",color:(z==null?void 0:z.textColor)||""}));return(ae,oe)=>{var ie;return openBlock(),createElementBlock("label",{class:normalizeClass([unref(r).b("button"),unref(r).is("active",unref(V)===unref(j)),unref(r).is("disabled",unref(L)),unref(r).is("focus",unref(y)),unref(r).bm("button",unref($))])},[withDirectives(createBaseVNode("input",{ref_key:"radioRef",ref:g,"onUpdate:modelValue":le=>isRef(V)?V.value=le:null,class:normalizeClass(unref(r).be("button","original-radio")),value:unref(j),type:"radio",name:ae.name||((ie=unref(z))==null?void 0:ie.name),disabled:unref(L),onFocus:le=>y.value=!0,onBlur:le=>y.value=!1,onClick:withModifiers(()=>{},["stop"])},null,42,["onUpdate:modelValue","value","name","disabled","onFocus","onBlur","onClick"]),[[vModelRadio,unref(V)]]),createBaseVNode("span",{class:normalizeClass(unref(r).be("button","inner")),style:normalizeStyle$1(unref(V)===unref(j)?unref(re):{}),onKeydown:withModifiers(()=>{},["stop"])},[renderSlot(ae.$slots,"default",{},()=>[createTextVNode(toDisplayString(ae.label),1)])],46,["onKeydown"])],2)}}});var RadioButton=_export_sfc$1(_sfc_main$2f,[["__file","radio-button.vue"]]);const radioGroupProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),radioGroupEmits=radioEmits,__default__$1t=defineComponent({name:"ElRadioGroup"}),_sfc_main$2e=defineComponent({...__default__$1t,props:radioGroupProps,emits:radioGroupEmits,setup(t,{emit:n}){const r=t,g=useNamespace("radio"),y=useId(),$=ref(),{formItem:L}=useFormItem(),{inputId:V,isLabeledByFormItem:z}=useFormItemInputId(r,{formItemContext:L}),j=ae=>{n(UPDATE_MODEL_EVENT,ae),nextTick(()=>n(CHANGE_EVENT,ae))};onMounted(()=>{const ae=$.value.querySelectorAll("[type=radio]"),oe=ae[0];!Array.from(ae).some(ie=>ie.checked)&&oe&&(oe.tabIndex=0)});const re=computed(()=>r.name||y.value);return provide(radioGroupKey,reactive({...toRefs(r),changeEvent:j,name:re})),watch(()=>r.modelValue,()=>{r.validateEvent&&(L==null||L.validate("change").catch(ae=>void 0))}),(ae,oe)=>(openBlock(),createElementBlock("div",{id:unref(V),ref_key:"radioGroupRef",ref:$,class:normalizeClass(unref(g).b("group")),role:"radiogroup","aria-label":unref(z)?void 0:ae.ariaLabel||"radio-group","aria-labelledby":unref(z)?unref(L).labelId:void 0},[renderSlot(ae.$slots,"default")],10,["id","aria-label","aria-labelledby"]))}});var RadioGroup=_export_sfc$1(_sfc_main$2e,[["__file","radio-group.vue"]]);const ElRadio=withInstall(Radio,{RadioButton,RadioGroup}),ElRadioGroup=withNoopInstall(RadioGroup),ElRadioButton=withNoopInstall(RadioButton);function isVNodeEmpty(t){return!!(t!=null&&t.every(n=>n.type===Comment))}var NodeContent$1=defineComponent({name:"NodeContent",setup(){return{ns:useNamespace("cascader-node")}},render(){const{ns:t}=this,{node:n,panel:r}=this.$parent,{data:g,label:y}=n,{renderLabelFn:$}=r,L=()=>{let V=$==null?void 0:$({node:n,data:g});return isVNodeEmpty(V)&&(V=y),V??y};return h$1("span",{class:t.e("label")},L())}});const CASCADER_PANEL_INJECTION_KEY=Symbol(),_sfc_main$2d=defineComponent({name:"ElCascaderNode",components:{ElCheckbox,ElRadio,NodeContent:NodeContent$1,ElIcon,Check:check_default,Loading:loading_default,ArrowRight:arrow_right_default},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:n}){const r=inject(CASCADER_PANEL_INJECTION_KEY),g=useNamespace("cascader-node"),y=computed(()=>r.isHoverMenu),$=computed(()=>r.config.multiple),L=computed(()=>r.config.checkStrictly),V=computed(()=>{var Ie;return(Ie=r.checkedNodes[0])==null?void 0:Ie.uid}),z=computed(()=>t.node.isDisabled),j=computed(()=>t.node.isLeaf),re=computed(()=>L.value&&!j.value||!z.value),ae=computed(()=>ie(r.expandingNode)),oe=computed(()=>L.value&&r.checkedNodes.some(ie)),ie=Ie=>{var $e;const{level:Oe,uid:Ne}=t.node;return(($e=Ie==null?void 0:Ie.pathNodes[Oe-1])==null?void 0:$e.uid)===Ne},le=()=>{ae.value||r.expandNode(t.node)},ue=Ie=>{const{node:$e}=t;Ie!==$e.checked&&r.handleCheckChange($e,Ie)},de=()=>{r.lazyLoad(t.node,()=>{j.value||le()})},he=Ie=>{y.value&&(pe(),!j.value&&n("expand",Ie))},pe=()=>{const{node:Ie}=t;!re.value||Ie.loading||(Ie.loaded?le():de())},_e=()=>{y.value&&!j.value||(j.value&&!z.value&&!L.value&&!$.value?xe(!0):pe())},Ce=Ie=>{L.value?(ue(Ie),t.node.loaded&&le()):xe(Ie)},xe=Ie=>{t.node.loaded?(ue(Ie),!L.value&&le()):de()};return{panel:r,isHoverMenu:y,multiple:$,checkStrictly:L,checkedNodeId:V,isDisabled:z,isLeaf:j,expandable:re,inExpandingPath:ae,inCheckedPath:oe,ns:g,handleHoverExpand:he,handleExpand:pe,handleClick:_e,handleCheck:xe,handleSelectCheck:Ce}}});function _sfc_render$w(t,n,r,g,y,$){const L=resolveComponent("el-checkbox"),V=resolveComponent("el-radio"),z=resolveComponent("check"),j=resolveComponent("el-icon"),re=resolveComponent("node-content"),ae=resolveComponent("loading"),oe=resolveComponent("arrow-right");return openBlock(),createElementBlock("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?void 0:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:normalizeClass([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:t.handleHoverExpand,onFocus:t.handleHoverExpand,onClick:t.handleClick},[createCommentVNode(" prefix "),t.multiple?(openBlock(),createBlock(L,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:withModifiers(()=>{},["stop"]),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):t.checkStrictly?(openBlock(),createBlock(V,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:withModifiers(()=>{},["stop"])},{default:withCtx(()=>[createCommentVNode(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),createBaseVNode("span")]),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):t.isLeaf&&t.node.checked?(openBlock(),createBlock(j,{key:2,class:normalizeClass(t.ns.e("prefix"))},{default:withCtx(()=>[createVNode$1(z)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createCommentVNode(" content "),createVNode$1(re),createCommentVNode(" postfix "),t.isLeaf?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:3},[t.node.loading?(openBlock(),createBlock(j,{key:0,class:normalizeClass([t.ns.is("loading"),t.ns.e("postfix")])},{default:withCtx(()=>[createVNode$1(ae)]),_:1},8,["class"])):(openBlock(),createBlock(j,{key:1,class:normalizeClass(["arrow-right",t.ns.e("postfix")])},{default:withCtx(()=>[createVNode$1(oe)]),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}var ElCascaderNode=_export_sfc$1(_sfc_main$2d,[["render",_sfc_render$w],["__file","node.vue"]]);const _sfc_main$2c=defineComponent({name:"ElCascaderMenu",components:{Loading:loading_default,ElIcon,ElScrollbar,ElCascaderNode},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const n=getCurrentInstance(),r=useNamespace("cascader-menu"),{t:g}=useLocale(),y=useId();let $=null,L=null;const V=inject(CASCADER_PANEL_INJECTION_KEY),z=ref(null),j=computed(()=>!t.nodes.length),re=computed(()=>!V.initialLoaded),ae=computed(()=>`${y.value}-${t.index}`),oe=de=>{$=de.target},ie=de=>{if(!(!V.isHoverMenu||!$||!z.value))if($.contains(de.target)){le();const he=n.vnode.el,{left:pe}=he.getBoundingClientRect(),{offsetWidth:_e,offsetHeight:Ce}=he,xe=de.clientX-pe,Ie=$.offsetTop,$e=Ie+$.offsetHeight;z.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${xe} ${Ie} L${_e} 0 V${Ie} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${xe} ${$e} L${_e} ${Ce} V${$e} Z" />
        `}else L||(L=window.setTimeout(ue,V.config.hoverThreshold))},le=()=>{L&&(clearTimeout(L),L=null)},ue=()=>{z.value&&(z.value.innerHTML="",le())};return{ns:r,panel:V,hoverZone:z,isEmpty:j,isLoading:re,menuId:ae,t:g,handleExpand:oe,handleMouseMove:ie,clearHoverZone:ue}}});function _sfc_render$v(t,n,r,g,y,$){const L=resolveComponent("el-cascader-node"),V=resolveComponent("loading"),z=resolveComponent("el-icon"),j=resolveComponent("el-scrollbar");return openBlock(),createBlock(j,{key:t.menuId,tag:"ul",role:"menu",class:normalizeClass(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:withCtx(()=>{var re;return[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.nodes,ae=>(openBlock(),createBlock(L,{key:ae.uid,node:ae,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.e("empty-text"))},[createVNode$1(z,{size:"14",class:normalizeClass(t.ns.is("loading"))},{default:withCtx(()=>[createVNode$1(V)]),_:1},8,["class"]),createTextVNode(" "+toDisplayString(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.ns.e("empty-text"))},[renderSlot(t.$slots,"empty",{},()=>[createTextVNode(toDisplayString(t.t("el.cascader.noData")),1)])],2)):(re=t.panel)!=null&&re.isHoverMenu?(openBlock(),createElementBlock(Fragment,{key:2},[createCommentVNode(" eslint-disable-next-line vue/html-self-closing "),(openBlock(),createElementBlock("svg",{ref:"hoverZone",class:normalizeClass(t.ns.e("hover-zone"))},null,2))],2112)):createCommentVNode("v-if",!0)]}),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var ElCascaderMenu=_export_sfc$1(_sfc_main$2c,[["render",_sfc_render$v],["__file","menu.vue"]]);const escapeStringRegexp=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),capitalize=t=>capitalize$1(t);let uid=0;const calculatePathNodes=t=>{const n=[t];let{parent:r}=t;for(;r;)n.unshift(r),r=r.parent;return n};let Node$2=class Ca{constructor(n,r,g,y=!1){this.data=n,this.config=r,this.parent=g,this.root=y,this.uid=uid++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:$,label:L,children:V}=r,z=n[V],j=calculatePathNodes(this);this.level=y?0:g?g.level+1:1,this.value=n[$],this.label=n[L],this.pathNodes=j,this.pathValues=j.map(re=>re.value),this.pathLabels=j.map(re=>re.label),this.childrenData=z,this.children=(z||[]).map(re=>new Ca(re,r,this)),this.loaded=!r.lazy||this.isLeaf||!isEmpty(z)}get isDisabled(){const{data:n,parent:r,config:g}=this,{disabled:y,checkStrictly:$}=g;return(isFunction$3(y)?y(n,this):!!n[y])||!$&&(r==null?void 0:r.isDisabled)}get isLeaf(){const{data:n,config:r,childrenData:g,loaded:y}=this,{lazy:$,leaf:L}=r,V=isFunction$3(L)?L(n,this):n[L];return isUndefined(V)?$&&!y?!1:!(isArray$4(g)&&g.length):!!V}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(n){const{childrenData:r,children:g}=this,y=new Ca(n,this.config,this);return isArray$4(r)?r.push(n):this.childrenData=[n],g.push(y),y}calcText(n,r){const g=n?this.pathLabels.join(r):this.label;return this.text=g,g}broadcast(n,...r){const g=`onParent${capitalize(n)}`;this.children.forEach(y=>{y&&(y.broadcast(n,...r),y[g]&&y[g](...r))})}emit(n,...r){const{parent:g}=this,y=`onChild${capitalize(n)}`;g&&(g[y]&&g[y](...r),g.emit(n,...r))}onParentCheck(n){this.isDisabled||this.setCheckState(n)}onChildCheck(){const{children:n}=this,r=n.filter(y=>!y.isDisabled),g=r.length?r.every(y=>y.checked):!1;this.setCheckState(g)}setCheckState(n){const r=this.children.length,g=this.children.reduce((y,$)=>{const L=$.checked?1:$.indeterminate?.5:0;return y+L},0);this.checked=this.loaded&&this.children.filter(y=>!y.isDisabled).every(y=>y.loaded&&y.checked)&&n,this.indeterminate=this.loaded&&g!==r&&g>0}doCheck(n){if(this.checked===n)return;const{checkStrictly:r,multiple:g}=this.config;r||!g?this.checked=n:(this.broadcast("check",n),this.setCheckState(n),this.emit("check"))}};const flatNodes=(t,n)=>t.reduce((r,g)=>(g.isLeaf?r.push(g):(!n&&r.push(g),r=r.concat(flatNodes(g.children,n))),r),[]);class Store{constructor(n,r){this.config=r;const g=(n||[]).map(y=>new Node$2(y,this.config));this.nodes=g,this.allNodes=flatNodes(g,!1),this.leafNodes=flatNodes(g,!0)}getNodes(){return this.nodes}getFlattedNodes(n){return n?this.leafNodes:this.allNodes}appendNode(n,r){const g=r?r.appendChild(n):new Node$2(n,this.config);r||this.nodes.push(g),this.appendAllNodesAndLeafNodes(g)}appendNodes(n,r){n.forEach(g=>this.appendNode(g,r))}appendAllNodesAndLeafNodes(n){this.allNodes.push(n),n.isLeaf&&this.leafNodes.push(n),n.children&&n.children.forEach(r=>{this.appendAllNodesAndLeafNodes(r)})}getNodeByValue(n,r=!1){return isPropAbsent(n)?null:this.getFlattedNodes(r).find(y=>isEqual$1(y.value,n)||isEqual$1(y.pathValues,n))||null}getSameNode(n){return n&&this.getFlattedNodes(!1).find(({value:g,level:y})=>isEqual$1(n.value,g)&&n.level===y)||null}}const CommonProps=buildProps({modelValue:{type:definePropType([Number,String,Array])},options:{type:definePropType(Array),default:()=>[]},props:{type:definePropType(Object),default:()=>({})}}),DefaultProps={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:NOOP,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},useCascaderConfig=t=>computed(()=>({...DefaultProps,...t.props})),getMenuIndex=t=>{if(!t)return 0;const n=t.id.split("-");return Number(n[n.length-2])},checkNode=t=>{if(!t)return;const n=t.querySelector("input");n?n.click():isLeaf(t)&&t.click()},sortByOriginalOrder=(t,n)=>{const r=n.slice(0),g=r.map($=>$.uid),y=t.reduce(($,L)=>{const V=g.indexOf(L.uid);return V>-1&&($.push(L),r.splice(V,1),g.splice(V,1)),$},[]);return y.push(...r),y},unique=t=>[...new Set(t)],castArray=t=>!t&&t!==0?[]:isArray$4(t)?t:[t],_sfc_main$2b=defineComponent({name:"ElCascaderPanel",components:{ElCascaderMenu},props:{...CommonProps,border:{type:Boolean,default:!0},renderLabel:Function},emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"close","expand-change"],setup(t,{emit:n,slots:r}){let g=!1;const y=useNamespace("cascader"),$=useCascaderConfig(t);let L=null;const V=ref(!0),z=ref([]),j=ref(null),re=ref([]),ae=ref(null),oe=ref([]),ie=computed(()=>$.value.expandTrigger==="hover"),le=computed(()=>t.renderLabel||r.default),ue=()=>{const{options:ze}=t,Et=$.value;g=!1,L=new Store(ze,Et),re.value=[L.getNodes()],Et.lazy&&isEmpty(t.options)?(V.value=!1,de(void 0,Dt=>{Dt&&(L=new Store(Dt,Et),re.value=[L.getNodes()]),V.value=!0,Oe(!1,!0)})):Oe(!1,!0)},de=(ze,Et)=>{const Dt=$.value;ze=ze||new Node$2({},Dt,void 0,!0),ze.loading=!0;const Ue=qe=>{const Lt=ze,Pt=Lt.root?null:Lt;qe&&(L==null||L.appendNodes(qe,Pt)),Lt.loading=!1,Lt.loaded=!0,Lt.childrenData=Lt.childrenData||[],Et&&Et(qe)};Dt.lazyLoad(ze,Ue)},he=(ze,Et)=>{var Dt;const{level:Ue}=ze,qe=re.value.slice(0,Ue);let Lt;ze.isLeaf?Lt=ze.pathNodes[Ue-2]:(Lt=ze,qe.push(ze.children)),((Dt=ae.value)==null?void 0:Dt.uid)!==(Lt==null?void 0:Lt.uid)&&(ae.value=ze,re.value=qe,!Et&&n("expand-change",(ze==null?void 0:ze.pathValues)||[]))},pe=(ze,Et,Dt=!0)=>{const{checkStrictly:Ue,multiple:qe}=$.value,Lt=oe.value[0];g=!0,!qe&&(Lt==null||Lt.doCheck(!1)),ze.doCheck(Et),$e(),Dt&&!qe&&!Ue&&n("close"),!Dt&&!qe&&!Ue&&_e(ze)},_e=ze=>{ze&&(ze=ze.parent,_e(ze),ze&&he(ze))},Ce=ze=>L==null?void 0:L.getFlattedNodes(ze),xe=ze=>{var Et;return(Et=Ce(ze))==null?void 0:Et.filter(Dt=>Dt.checked!==!1)},Ie=()=>{oe.value.forEach(ze=>ze.doCheck(!1)),$e(),re.value=re.value.slice(0,1),ae.value=null,n("expand-change",[])},$e=()=>{var ze;const{checkStrictly:Et,multiple:Dt}=$.value,Ue=oe.value,qe=xe(!Et),Lt=sortByOriginalOrder(Ue,qe),Pt=Lt.map(At=>At.valueByOption);oe.value=Lt,j.value=Dt?Pt:(ze=Pt[0])!=null?ze:null},Oe=(ze=!1,Et=!1)=>{const{modelValue:Dt}=t,{lazy:Ue,multiple:qe,checkStrictly:Lt}=$.value,Pt=!Lt;if(!(!V.value||g||!Et&&isEqual$1(Dt,j.value)))if(Ue&&!ze){const vn=unique(flattenDeep(castArray(Dt))).map(En=>L==null?void 0:L.getNodeByValue(En)).filter(En=>!!En&&!En.loaded&&!En.loading);vn.length?vn.forEach(En=>{de(En,()=>Oe(!1,Et))}):Oe(!0,Et)}else{const At=qe?castArray(Dt):[Dt],vn=unique(At.map(En=>L==null?void 0:L.getNodeByValue(En,Pt)));Ne(vn,Et),j.value=cloneDeep(Dt)}},Ne=(ze,Et=!0)=>{const{checkStrictly:Dt}=$.value,Ue=oe.value,qe=ze.filter(At=>!!At&&(Dt||At.isLeaf)),Lt=L==null?void 0:L.getSameNode(ae.value),Pt=Et&&Lt||qe[0];Pt?Pt.pathNodes.forEach(At=>he(At,!0)):ae.value=null,Ue.forEach(At=>At.doCheck(!1)),reactive(qe).forEach(At=>At.doCheck(!0)),oe.value=qe,nextTick(Fe)},Fe=()=>{isClient&&z.value.forEach(ze=>{const Et=ze==null?void 0:ze.$el;if(Et){const Dt=Et.querySelector(`.${y.namespace.value}-scrollbar__wrap`),Ue=Et.querySelector(`.${y.b("node")}.${y.is("active")}:last-child`)||Et.querySelector(`.${y.b("node")}.in-active-path`);scrollIntoView(Dt,Ue)}})},Ve=ze=>{const Et=ze.target,{code:Dt}=ze;switch(Dt){case EVENT_CODE.up:case EVENT_CODE.down:{ze.preventDefault();const Ue=Dt===EVENT_CODE.up?-1:1;focusNode(getSibling(Et,Ue,`.${y.b("node")}[tabindex="-1"]`));break}case EVENT_CODE.left:{ze.preventDefault();const Ue=z.value[getMenuIndex(Et)-1],qe=Ue==null?void 0:Ue.$el.querySelector(`.${y.b("node")}[aria-expanded="true"]`);focusNode(qe);break}case EVENT_CODE.right:{ze.preventDefault();const Ue=z.value[getMenuIndex(Et)+1],qe=Ue==null?void 0:Ue.$el.querySelector(`.${y.b("node")}[tabindex="-1"]`);focusNode(qe);break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:checkNode(Et);break}};return provide(CASCADER_PANEL_INJECTION_KEY,reactive({config:$,expandingNode:ae,checkedNodes:oe,isHoverMenu:ie,initialLoaded:V,renderLabelFn:le,lazyLoad:de,expandNode:he,handleCheckChange:pe})),watch([$,()=>t.options],ue,{deep:!0,immediate:!0}),watch(()=>t.modelValue,()=>{g=!1,Oe()},{deep:!0}),watch(()=>j.value,ze=>{isEqual$1(ze,t.modelValue)||(n(UPDATE_MODEL_EVENT,ze),n(CHANGE_EVENT,ze))}),onBeforeUpdate(()=>z.value=[]),onMounted(()=>!isEmpty(t.modelValue)&&Oe()),{ns:y,menuList:z,menus:re,checkedNodes:oe,handleKeyDown:Ve,handleCheckChange:pe,getFlattedNodes:Ce,getCheckedNodes:xe,clearCheckedNodes:Ie,calculateCheckedValue:$e,scrollToExpandingNode:Fe}}});function _sfc_render$u(t,n,r,g,y,$){const L=resolveComponent("el-cascader-menu");return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:t.handleKeyDown},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.menus,(V,z)=>(openBlock(),createBlock(L,{key:z,ref_for:!0,ref:j=>t.menuList[z]=j,index:z,nodes:[...V]},{empty:withCtx(()=>[renderSlot(t.$slots,"empty")]),_:2},1032,["index","nodes"]))),128))],42,["onKeydown"])}var CascaderPanel=_export_sfc$1(_sfc_main$2b,[["render",_sfc_render$u],["__file","index.vue"]]);const ElCascaderPanel=withInstall(CascaderPanel),tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},__default__$1s=defineComponent({name:"ElTag"}),_sfc_main$2a=defineComponent({...__default__$1s,props:tagProps,emits:tagEmits,setup(t,{emit:n}){const r=t,g=useFormSize(),y=useNamespace("tag"),$=computed(()=>{const{type:j,hit:re,effect:ae,closable:oe,round:ie}=r;return[y.b(),y.is("closable",oe),y.m(j||"primary"),y.m(g.value),y.m(ae),y.is("hit",re),y.is("round",ie)]}),L=j=>{n("close",j)},V=j=>{n("click",j)},z=j=>{var re,ae,oe;(oe=(ae=(re=j==null?void 0:j.component)==null?void 0:re.subTree)==null?void 0:ae.component)!=null&&oe.bum&&(j.component.subTree.component.bum=null)};return(j,re)=>j.disableTransitions?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref($)),style:normalizeStyle$1({backgroundColor:j.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(j.$slots,"default")],2),j.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers(L,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)):(openBlock(),createBlock(Transition,{key:1,name:`${unref(y).namespace.value}-zoom-in-center`,appear:"",onVnodeMounted:z},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(unref($)),style:normalizeStyle$1({backgroundColor:j.color}),onClick:V},[createBaseVNode("span",{class:normalizeClass(unref(y).e("content"))},[renderSlot(j.$slots,"default")],2),j.closable?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("close")),onClick:withModifiers(L,["stop"])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc$1(_sfc_main$2a,[["__file","tag.vue"]]);const ElTag=withInstall(Tag),cascaderProps=buildProps({...CommonProps,size:useSizeProp,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:definePropType(Function),default:(t,n)=>t.text.includes(n)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},maxCollapseTagsTooltipHeight:{type:[String,Number]},debounce:{type:Number,default:300},beforeFilter:{type:definePropType(Function),default:()=>!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:useTooltipContentProps.teleported,tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...useEmptyValuesProps}),cascaderEmits={[UPDATE_MODEL_EVENT]:t=>!0,[CHANGE_EVENT]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,visibleChange:t=>isBoolean(t),expandChange:t=>!!t,removeTag:t=>!!t},nodeList=new Map;if(isClient){let t;document.addEventListener("mousedown",n=>t=n),document.addEventListener("mouseup",n=>{if(t){for(const r of nodeList.values())for(const{documentHandler:g}of r)g(n,t);t=void 0}})}function createDocumentHandler(t,n){let r=[];return isArray$4(n.arg)?r=n.arg:isElement$1(n.arg)&&r.push(n.arg),function(g,y){const $=n.instance.popperRef,L=g.target,V=y==null?void 0:y.target,z=!n||!n.instance,j=!L||!V,re=t.contains(L)||t.contains(V),ae=t===L,oe=r.length&&r.some(le=>le==null?void 0:le.contains(L))||r.length&&r.includes(V),ie=$&&($.contains(L)||$.contains(V));z||j||re||ae||oe||ie||n.value(g,y)}}const ClickOutside={beforeMount(t,n){nodeList.has(t)||nodeList.set(t,[]),nodeList.get(t).push({documentHandler:createDocumentHandler(t,n),bindingFn:n.value})},updated(t,n){nodeList.has(t)||nodeList.set(t,[]);const r=nodeList.get(t),g=r.findIndex($=>$.bindingFn===n.oldValue),y={documentHandler:createDocumentHandler(t,n),bindingFn:n.value};g>=0?r.splice(g,1,y):r.push(y)},unmounted(t){nodeList.delete(t)}},COMPONENT_NAME$i="ElCascader",__default__$1r=defineComponent({name:COMPONENT_NAME$i}),_sfc_main$29=defineComponent({...__default__$1r,props:cascaderProps,emits:cascaderEmits,setup(t,{expose:n,emit:r}){const g=t,y={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:Gn})=>{const{modifiersData:Qn,placement:Nn}=Gn;["right","left","bottom","top"].includes(Nn)||Qn.arrow&&(Qn.arrow.x=35)},requires:["arrow"]}]},$=useAttrs$1();let L=0,V=0;const z=useNamespace("cascader"),j=useNamespace("input"),{t:re}=useLocale(),{form:ae,formItem:oe}=useFormItem(),{valueOnClear:ie}=useEmptyValues(g),{isComposing:le,handleComposition:ue}=useComposition({afterComposition(Gn){var Qn;const Nn=(Qn=Gn.target)==null?void 0:Qn.value;ir(Nn)}}),de=ref(null),he=ref(null),pe=ref(null),_e=ref(null),Ce=ref(null),xe=ref(!1),Ie=ref(!1),$e=ref(!1),Oe=ref(!1),Ne=ref(""),Fe=ref(""),Ve=ref([]),ze=ref([]),Et=ref([]),Dt=computed(()=>$.style),Ue=computed(()=>g.disabled||(ae==null?void 0:ae.disabled)),qe=computed(()=>{var Gn;return(Gn=g.placeholder)!=null?Gn:re("el.cascader.placeholder")}),Lt=computed(()=>Fe.value||Ve.value.length>0||le.value?"":qe.value),Pt=useFormSize(),At=computed(()=>Pt.value==="small"?"small":"default"),vn=computed(()=>!!g.props.multiple),En=computed(()=>!g.filterable||vn.value),Sn=computed(()=>vn.value?Fe.value:Ne.value),kt=computed(()=>{var Gn;return((Gn=_e.value)==null?void 0:Gn.checkedNodes)||[]}),jt=computed(()=>!g.clearable||Ue.value||$e.value||!Ie.value?!1:!!kt.value.length),_n=computed(()=>{const{showAllLevels:Gn,separator:Qn}=g,Nn=kt.value;return Nn.length?vn.value?"":Nn[0].calcText(Gn,Qn):""}),wn=computed(()=>(oe==null?void 0:oe.validateState)||""),hn=computed({get(){return cloneDeep(g.modelValue)},set(Gn){const Qn=Gn??ie.value;r(UPDATE_MODEL_EVENT,Qn),r(CHANGE_EVENT,Qn),g.validateEvent&&(oe==null||oe.validate("change").catch(Nn=>void 0))}}),Cn=computed(()=>[z.b(),z.m(Pt.value),z.is("disabled",Ue.value),$.class]),Tn=computed(()=>[j.e("icon"),"icon-arrow-down",z.is("reverse",xe.value)]),xn=computed(()=>z.is("focus",xe.value||Oe.value)),Mn=computed(()=>{var Gn,Qn;return(Qn=(Gn=de.value)==null?void 0:Gn.popperRef)==null?void 0:Qn.contentRef}),bn=Gn=>{var Qn,Nn,Hn;Ue.value||(Gn=Gn??!xe.value,Gn!==xe.value&&(xe.value=Gn,(Nn=(Qn=he.value)==null?void 0:Qn.input)==null||Nn.setAttribute("aria-expanded",`${Gn}`),Gn?(Pn(),nextTick((Hn=_e.value)==null?void 0:Hn.scrollToExpandingNode)):g.filterable&&Un(),r("visibleChange",Gn)))},Pn=()=>{nextTick(()=>{var Gn;(Gn=de.value)==null||Gn.updatePopper()})},Rn=()=>{$e.value=!1},Fn=Gn=>{const{showAllLevels:Qn,separator:Nn}=g;return{node:Gn,key:Gn.uid,text:Gn.calcText(Qn,Nn),hitState:!1,closable:!Ue.value&&!Gn.isDisabled,isCollapseTag:!1}},Dn=Gn=>{var Qn;const Nn=Gn.node;Nn.doCheck(!1),(Qn=_e.value)==null||Qn.calculateCheckedValue(),r("removeTag",Nn.valueByOption)},Ln=()=>{if(!vn.value)return;const Gn=kt.value,Qn=[],Nn=[];if(Gn.forEach(Hn=>Nn.push(Fn(Hn))),ze.value=Nn,Gn.length){Gn.slice(0,g.maxCollapseTags).forEach(pr=>Qn.push(Fn(pr)));const Hn=Gn.slice(g.maxCollapseTags),Yn=Hn.length;Yn&&(g.collapseTags?Qn.push({key:-1,text:`+ ${Yn}`,closable:!1,isCollapseTag:!0}):Hn.forEach(pr=>Qn.push(Fn(pr))))}Ve.value=Qn},kn=()=>{var Gn,Qn;const{filterMethod:Nn,showAllLevels:Hn,separator:Yn}=g,pr=(Qn=(Gn=_e.value)==null?void 0:Gn.getFlattedNodes(!g.props.checkStrictly))==null?void 0:Qn.filter(Cr=>Cr.isDisabled?!1:(Cr.calcText(Hn,Yn),Nn(Cr,Sn.value)));vn.value&&(Ve.value.forEach(Cr=>{Cr.hitState=!1}),ze.value.forEach(Cr=>{Cr.hitState=!1})),$e.value=!0,Et.value=pr,Pn()},In=()=>{var Gn;let Qn;$e.value&&Ce.value?Qn=Ce.value.$el.querySelector(`.${z.e("suggestion-item")}`):Qn=(Gn=_e.value)==null?void 0:Gn.$el.querySelector(`.${z.b("node")}[tabindex="-1"]`),Qn&&(Qn.focus(),!$e.value&&Qn.click())},Vn=()=>{var Gn,Qn;const Nn=(Gn=he.value)==null?void 0:Gn.input,Hn=pe.value,Yn=(Qn=Ce.value)==null?void 0:Qn.$el;if(!(!isClient||!Nn)){if(Yn){const pr=Yn.querySelector(`.${z.e("suggestion-list")}`);pr.style.minWidth=`${Nn.offsetWidth}px`}if(Hn){const{offsetHeight:pr}=Hn,Cr=Ve.value.length>0?`${Math.max(pr,L)-2}px`:`${L}px`;Nn.style.height=Cr,Pn()}}},zn=Gn=>{var Qn;return(Qn=_e.value)==null?void 0:Qn.getCheckedNodes(Gn)},Kn=Gn=>{Pn(),r("expandChange",Gn)},jn=Gn=>{if(!le.value)switch(Gn.code){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:bn();break;case EVENT_CODE.down:bn(!0),nextTick(In),Gn.preventDefault();break;case EVENT_CODE.esc:xe.value===!0&&(Gn.preventDefault(),Gn.stopPropagation(),bn(!1));break;case EVENT_CODE.tab:bn(!1);break}},Wn=()=>{var Gn;(Gn=_e.value)==null||Gn.clearCheckedNodes(),!xe.value&&g.filterable&&Un(),bn(!1),r("clear")},Un=()=>{const{value:Gn}=_n;Ne.value=Gn,Fe.value=Gn},nr=Gn=>{var Qn,Nn;const{checked:Hn}=Gn;vn.value?(Qn=_e.value)==null||Qn.handleCheckChange(Gn,!Hn,!1):(!Hn&&((Nn=_e.value)==null||Nn.handleCheckChange(Gn,!0,!1)),bn(!1))},sr=Gn=>{const Qn=Gn.target,{code:Nn}=Gn;switch(Nn){case EVENT_CODE.up:case EVENT_CODE.down:{Gn.preventDefault();const Hn=Nn===EVENT_CODE.up?-1:1;focusNode(getSibling(Qn,Hn,`.${z.e("suggestion-item")}[tabindex="-1"]`));break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:Qn.click();break}},mr=()=>{const Gn=Ve.value,Qn=Gn[Gn.length-1];V=Fe.value?0:V+1,!(!Qn||!V||g.collapseTags&&Gn.length>1)&&(Qn.hitState?Dn(Qn):Qn.hitState=!0)},vr=Gn=>{const Qn=Gn.target,Nn=z.e("search-input");Qn.className===Nn&&(Oe.value=!0),r("focus",Gn)},Sr=Gn=>{Oe.value=!1,r("blur",Gn)},yr=debounce(()=>{const{value:Gn}=Sn;if(!Gn)return;const Qn=g.beforeFilter(Gn);isPromise(Qn)?Qn.then(kn).catch(()=>{}):Qn!==!1?kn():Rn()},g.debounce),ir=(Gn,Qn)=>{!xe.value&&bn(!0),!(Qn!=null&&Qn.isComposing)&&(Gn?yr():Rn())},gr=Gn=>Number.parseFloat(useCssVar(j.cssVarName("input-height"),Gn).value)-2;return watch($e,Pn),watch([kt,Ue,()=>g.collapseTags],Ln),watch(Ve,()=>{nextTick(()=>Vn())}),watch(Pt,async()=>{await nextTick();const Gn=he.value.input;L=gr(Gn)||L,Vn()}),watch(_n,Un,{immediate:!0}),onMounted(()=>{const Gn=he.value.input,Qn=gr(Gn);L=Gn.offsetHeight||Qn,useResizeObserver(Gn,Vn)}),n({getCheckedNodes:zn,cascaderPanelRef:_e,togglePopperVisible:bn,contentRef:Mn,presentText:_n}),(Gn,Qn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"tooltipRef",ref:de,visible:xe.value,teleported:Gn.teleported,"popper-class":[unref(z).e("dropdown"),Gn.popperClass],"popper-options":y,"fallback-placements":Gn.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:Gn.placement,transition:`${unref(z).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:Gn.persistent,onHide:Rn},{default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{class:normalizeClass(unref(Cn)),style:normalizeStyle$1(unref(Dt)),onClick:()=>bn(unref(En)?void 0:!0),onKeydown:jn,onMouseenter:Nn=>Ie.value=!0,onMouseleave:Nn=>Ie.value=!1},[createVNode$1(unref(ElInput),{ref_key:"input",ref:he,modelValue:Ne.value,"onUpdate:modelValue":Nn=>Ne.value=Nn,placeholder:unref(Lt),readonly:unref(En),disabled:unref(Ue),"validate-event":!1,size:unref(Pt),class:normalizeClass(unref(xn)),tabindex:unref(vn)&&Gn.filterable&&!unref(Ue)?-1:void 0,onCompositionstart:unref(ue),onCompositionupdate:unref(ue),onCompositionend:unref(ue),onFocus:vr,onBlur:Sr,onInput:ir},createSlots({suffix:withCtx(()=>[unref(jt)?(openBlock(),createBlock(unref(ElIcon),{key:"clear",class:normalizeClass([unref(j).e("icon"),"icon-circle-close"]),onClick:withModifiers(Wn,["stop"])},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onClick"])):(openBlock(),createBlock(unref(ElIcon),{key:"arrow-down",class:normalizeClass(unref(Tn)),onClick:withModifiers(Nn=>bn(),["stop"])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class","onClick"]))]),_:2},[Gn.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Gn.$slots,"prefix")])}:void 0]),1032,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),unref(vn)?(openBlock(),createElementBlock("div",{key:0,ref_key:"tagWrapper",ref:pe,class:normalizeClass([unref(z).e("tags"),unref(z).is("validate",!!unref(wn))])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ve.value,Nn=>(openBlock(),createBlock(unref(ElTag),{key:Nn.key,type:Gn.tagType,size:unref(At),effect:Gn.tagEffect,hit:Nn.hitState,closable:Nn.closable,"disable-transitions":"",onClose:Hn=>Dn(Nn)},{default:withCtx(()=>[Nn.isCollapseTag===!1?(openBlock(),createElementBlock("span",{key:0},toDisplayString(Nn.text),1)):(openBlock(),createBlock(unref(ElTooltip),{key:1,disabled:xe.value||!Gn.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(Nn.text),1)]),content:withCtx(()=>[createVNode$1(unref(ElScrollbar),{"max-height":Gn.maxCollapseTagsTooltipHeight},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(z).e("collapse-tags"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ze.value.slice(Gn.maxCollapseTags),(Hn,Yn)=>(openBlock(),createElementBlock("div",{key:Yn,class:normalizeClass(unref(z).e("collapse-tag"))},[(openBlock(),createBlock(unref(ElTag),{key:Hn.key,class:"in-tooltip",type:Gn.tagType,size:unref(At),effect:Gn.tagEffect,hit:Hn.hitState,closable:Hn.closable,"disable-transitions":"",onClose:pr=>Dn(Hn)},{default:withCtx(()=>[createBaseVNode("span",null,toDisplayString(Hn.text),1)]),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2))),128))],2)]),_:1},8,["max-height"])]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","effect","hit","closable","onClose"]))),128)),Gn.filterable&&!unref(Ue)?withDirectives((openBlock(),createElementBlock("input",{key:0,"onUpdate:modelValue":Nn=>Fe.value=Nn,type:"text",class:normalizeClass(unref(z).e("search-input")),placeholder:unref(_n)?"":unref(qe),onInput:Nn=>ir(Fe.value,Nn),onClick:withModifiers(Nn=>bn(!0),["stop"]),onKeydown:withKeys(mr,["delete"]),onCompositionstart:unref(ue),onCompositionupdate:unref(ue),onCompositionend:unref(ue),onFocus:vr,onBlur:Sr},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[vModelText,Fe.value]]):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[unref(ClickOutside),()=>bn(!1),unref(Mn)]])]),content:withCtx(()=>[withDirectives(createVNode$1(unref(ElCascaderPanel),{ref_key:"cascaderPanelRef",ref:_e,modelValue:unref(hn),"onUpdate:modelValue":Nn=>isRef(hn)?hn.value=Nn:null,options:Gn.options,props:g.props,border:!1,"render-label":Gn.$slots.default,onExpandChange:Kn,onClose:Nn=>Gn.$nextTick(()=>bn(!1))},{empty:withCtx(()=>[renderSlot(Gn.$slots,"empty")]),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[vShow,!$e.value]]),Gn.filterable?withDirectives((openBlock(),createBlock(unref(ElScrollbar),{key:0,ref_key:"suggestionPanel",ref:Ce,tag:"ul",class:normalizeClass(unref(z).e("suggestion-panel")),"view-class":unref(z).e("suggestion-list"),onKeydown:sr},{default:withCtx(()=>[Et.value.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(Et.value,Nn=>(openBlock(),createElementBlock("li",{key:Nn.uid,class:normalizeClass([unref(z).e("suggestion-item"),unref(z).is("checked",Nn.checked)]),tabindex:-1,onClick:Hn=>nr(Nn)},[renderSlot(Gn.$slots,"suggestion-item",{item:Nn},()=>[createBaseVNode("span",null,toDisplayString(Nn.text),1),Nn.checked?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1})):createCommentVNode("v-if",!0)])],10,["onClick"]))),128)):renderSlot(Gn.$slots,"empty",{key:1},()=>[createBaseVNode("li",{class:normalizeClass(unref(z).e("empty-text"))},toDisplayString(unref(re)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[vShow,$e.value]]):createCommentVNode("v-if",!0)]),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}});var Cascader=_export_sfc$1(_sfc_main$29,[["__file","cascader.vue"]]);const ElCascader=withInstall(Cascader),checkTagProps=buildProps({checked:Boolean,disabled:Boolean,type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),checkTagEmits={"update:checked":t=>isBoolean(t),[CHANGE_EVENT]:t=>isBoolean(t)},__default__$1q=defineComponent({name:"ElCheckTag"}),_sfc_main$28=defineComponent({...__default__$1q,props:checkTagProps,emits:checkTagEmits,setup(t,{emit:n}){const r=t,g=useNamespace("check-tag"),y=computed(()=>r.disabled),$=computed(()=>[g.b(),g.is("checked",r.checked),g.is("disabled",y.value),g.m(r.type||"primary")]),L=()=>{if(y.value)return;const V=!r.checked;n(CHANGE_EVENT,V),n("update:checked",V)};return(V,z)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref($)),onClick:L},[renderSlot(V.$slots,"default")],2))}});var CheckTag=_export_sfc$1(_sfc_main$28,[["__file","check-tag.vue"]]);const ElCheckTag=withInstall(CheckTag),colProps=buildProps({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:definePropType([Number,Object]),default:()=>mutable({})},sm:{type:definePropType([Number,Object]),default:()=>mutable({})},md:{type:definePropType([Number,Object]),default:()=>mutable({})},lg:{type:definePropType([Number,Object]),default:()=>mutable({})},xl:{type:definePropType([Number,Object]),default:()=>mutable({})}}),rowContextKey=Symbol("rowContextKey"),__default__$1p=defineComponent({name:"ElCol"}),_sfc_main$27=defineComponent({...__default__$1p,props:colProps,setup(t){const n=t,{gutter:r}=inject(rowContextKey,{gutter:computed(()=>0)}),g=useNamespace("col"),y=computed(()=>{const L={};return r.value&&(L.paddingLeft=L.paddingRight=`${r.value/2}px`),L}),$=computed(()=>{const L=[];return["span","offset","pull","push"].forEach(j=>{const re=n[j];isNumber$1(re)&&(j==="span"?L.push(g.b(`${n[j]}`)):re>0&&L.push(g.b(`${j}-${n[j]}`)))}),["xs","sm","md","lg","xl"].forEach(j=>{isNumber$1(n[j])?L.push(g.b(`${j}-${n[j]}`)):isObject$5(n[j])&&Object.entries(n[j]).forEach(([re,ae])=>{L.push(re!=="span"?g.b(`${j}-${re}-${ae}`):g.b(`${j}-${ae}`))})}),r.value&&L.push(g.is("guttered")),[g.b(),L]});return(L,V)=>(openBlock(),createBlock(resolveDynamicComponent(L.tag),{class:normalizeClass(unref($)),style:normalizeStyle$1(unref(y))},{default:withCtx(()=>[renderSlot(L.$slots,"default")]),_:3},8,["class","style"]))}});var Col=_export_sfc$1(_sfc_main$27,[["__file","col.vue"]]);const ElCol=withInstall(Col),emitChangeFn=t=>isNumber$1(t)||isString$2(t)||isArray$4(t),collapseProps=buildProps({accordion:Boolean,modelValue:{type:definePropType([Array,String,Number]),default:()=>mutable([])},expandIconPosition:{type:definePropType([String]),default:"right"},beforeCollapse:{type:definePropType(Function)}}),collapseEmits={[UPDATE_MODEL_EVENT]:emitChangeFn,[CHANGE_EVENT]:emitChangeFn},collapseContextKey=Symbol("collapseContextKey"),SCOPE$3="ElCollapse",useCollapse=(t,n)=>{const r=ref(castArray$1(t.modelValue)),g=L=>{r.value=L;const V=t.accordion?r.value[0]:r.value;n(UPDATE_MODEL_EVENT,V),n(CHANGE_EVENT,V)},y=L=>{if(t.accordion)g([r.value[0]===L?"":L]);else{const V=[...r.value],z=V.indexOf(L);z>-1?V.splice(z,1):V.push(L),g(V)}},$=async L=>{const{beforeCollapse:V}=t;if(!V){y(L);return}const z=V(L);[isPromise(z),isBoolean(z)].includes(!0)||throwError$1(SCOPE$3,"beforeCollapse must return type `Promise<boolean>` or `boolean`"),isPromise(z)?z.then(re=>{re!==!1&&y(L)}).catch(re=>{}):z&&y(L)};return watch(()=>t.modelValue,()=>r.value=castArray$1(t.modelValue),{deep:!0}),provide(collapseContextKey,{activeNames:r,handleItemClick:$}),{activeNames:r,setActiveNames:g}},useCollapseDOM=t=>{const n=useNamespace("collapse");return{rootKls:computed(()=>[n.b(),n.b(`icon-position-${t.expandIconPosition}`)])}},__default__$1o=defineComponent({name:"ElCollapse"}),_sfc_main$26=defineComponent({...__default__$1o,props:collapseProps,emits:collapseEmits,setup(t,{expose:n,emit:r}){const g=t,{activeNames:y,setActiveNames:$}=useCollapse(g,r),{rootKls:L}=useCollapseDOM(g);return n({activeNames:y,setActiveNames:$}),(V,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(L))},[renderSlot(V.$slots,"default")],2))}});var Collapse=_export_sfc$1(_sfc_main$26,[["__file","collapse.vue"]]);const __default__$1n=defineComponent({name:"ElCollapseTransition"}),_sfc_main$25=defineComponent({...__default__$1n,setup(t){const n=useNamespace("collapse-transition"),r=y=>{y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom},g={beforeEnter(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.style.height&&(y.dataset.elExistsHeight=y.style.height),y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0},enter(y){requestAnimationFrame(()=>{y.dataset.oldOverflow=y.style.overflow,y.dataset.elExistsHeight?y.style.maxHeight=y.dataset.elExistsHeight:y.scrollHeight!==0?y.style.maxHeight=`${y.scrollHeight}px`:y.style.maxHeight=0,y.style.paddingTop=y.dataset.oldPaddingTop,y.style.paddingBottom=y.dataset.oldPaddingBottom,y.style.overflow="hidden"})},afterEnter(y){y.style.maxHeight="",y.style.overflow=y.dataset.oldOverflow},enterCancelled(y){r(y)},beforeLeave(y){y.dataset||(y.dataset={}),y.dataset.oldPaddingTop=y.style.paddingTop,y.dataset.oldPaddingBottom=y.style.paddingBottom,y.dataset.oldOverflow=y.style.overflow,y.style.maxHeight=`${y.scrollHeight}px`,y.style.overflow="hidden"},leave(y){y.scrollHeight!==0&&(y.style.maxHeight=0,y.style.paddingTop=0,y.style.paddingBottom=0)},afterLeave(y){r(y)},leaveCancelled(y){r(y)}};return(y,$)=>(openBlock(),createBlock(Transition,mergeProps({name:unref(n).b()},toHandlers(g)),{default:withCtx(()=>[renderSlot(y.$slots,"default")]),_:3},16,["name"]))}});var CollapseTransition=_export_sfc$1(_sfc_main$25,[["__file","collapse-transition.vue"]]);const ElCollapseTransition=withInstall(CollapseTransition),collapseItemProps=buildProps({title:{type:String,default:""},name:{type:definePropType([String,Number]),default:void 0},icon:{type:iconPropType,default:arrow_right_default},disabled:Boolean}),useCollapseItem=t=>{const n=inject(collapseContextKey),{namespace:r}=useNamespace("collapse"),g=ref(!1),y=ref(!1),$=useIdInjection(),L=computed(()=>$.current++),V=computed(()=>{var oe;return(oe=t.name)!=null?oe:`${r.value}-id-${$.prefix}-${unref(L)}`}),z=computed(()=>n==null?void 0:n.activeNames.value.includes(unref(V)));return{focusing:g,id:L,isActive:z,handleFocus:()=>{setTimeout(()=>{y.value?y.value=!1:g.value=!0},50)},handleHeaderClick:oe=>{if(t.disabled)return;const ie=oe.target;ie!=null&&ie.closest("input, textarea, select")||(n==null||n.handleItemClick(unref(V)),g.value=!1,y.value=!0)},handleEnterClick:oe=>{const ie=oe.target;ie!=null&&ie.closest("input, textarea, select")||(oe.preventDefault(),n==null||n.handleItemClick(unref(V)))}}},useCollapseItemDOM=(t,{focusing:n,isActive:r,id:g})=>{const y=useNamespace("collapse"),$=computed(()=>[y.b("item"),y.is("active",unref(r)),y.is("disabled",t.disabled)]),L=computed(()=>[y.be("item","header"),y.is("active",unref(r)),{focusing:unref(n)&&!t.disabled}]),V=computed(()=>[y.be("item","arrow"),y.is("active",unref(r))]),z=computed(()=>[y.be("item","title")]),j=computed(()=>y.be("item","wrap")),re=computed(()=>y.be("item","content")),ae=computed(()=>y.b(`content-${unref(g)}`)),oe=computed(()=>y.b(`head-${unref(g)}`));return{itemTitleKls:z,arrowKls:V,headKls:L,rootKls:$,itemWrapperKls:j,itemContentKls:re,scopedContentId:ae,scopedHeadId:oe}},__default__$1m=defineComponent({name:"ElCollapseItem"}),_sfc_main$24=defineComponent({...__default__$1m,props:collapseItemProps,setup(t,{expose:n}){const r=t,{focusing:g,id:y,isActive:$,handleFocus:L,handleHeaderClick:V,handleEnterClick:z}=useCollapseItem(r),{arrowKls:j,headKls:re,rootKls:ae,itemTitleKls:oe,itemWrapperKls:ie,itemContentKls:le,scopedContentId:ue,scopedHeadId:de}=useCollapseItemDOM(r,{focusing:g,isActive:$,id:y});return n({isActive:$}),(he,pe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(ae))},[createBaseVNode("div",{id:unref(de),class:normalizeClass(unref(re)),"aria-expanded":unref($),"aria-controls":unref(ue),"aria-describedby":unref(ue),tabindex:he.disabled?-1:0,role:"button",onClick:unref(V),onKeydown:withKeys(withModifiers(unref(z),["stop"]),["space","enter"]),onFocus:unref(L),onBlur:_e=>g.value=!1},[createBaseVNode("span",{class:normalizeClass(unref(oe))},[renderSlot(he.$slots,"title",{isActive:unref($)},()=>[createTextVNode(toDisplayString(he.title),1)])],2),renderSlot(he.$slots,"icon",{isActive:unref($)},()=>[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(j))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(he.icon)))]),_:1},8,["class"])])],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),createVNode$1(unref(ElCollapseTransition),null,{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:unref(ue),role:"region",class:normalizeClass(unref(ie)),"aria-hidden":!unref($),"aria-labelledby":unref(de)},[createBaseVNode("div",{class:normalizeClass(unref(le))},[renderSlot(he.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[vShow,unref($)]])]),_:3})],2))}});var CollapseItem=_export_sfc$1(_sfc_main$24,[["__file","collapse-item.vue"]]);const ElCollapse=withInstall(Collapse,{CollapseItem}),ElCollapseItem=withNoopInstall(CollapseItem),alphaSliderProps=buildProps({color:{type:definePropType(Object),required:!0},vertical:{type:Boolean,default:!1}});let isDragging=!1;function draggable(t,n){if(!isClient)return;const r=function($){var L;(L=n.drag)==null||L.call(n,$)},g=function($){var L;document.removeEventListener("mousemove",r),document.removeEventListener("mouseup",g),document.removeEventListener("touchmove",r),document.removeEventListener("touchend",g),document.onselectstart=null,document.ondragstart=null,isDragging=!1,(L=n.end)==null||L.call(n,$)},y=function($){var L;isDragging||($.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",r),document.addEventListener("mouseup",g),document.addEventListener("touchmove",r),document.addEventListener("touchend",g),isDragging=!0,(L=n.start)==null||L.call(n,$))};t.addEventListener("mousedown",y),t.addEventListener("touchstart",y,{passive:!1})}const isInContainer=(t,n)=>{if(!isClient||!t||!n)return!1;const r=t.getBoundingClientRect();let g;return n instanceof Element?g=n.getBoundingClientRect():g={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},r.top<g.bottom&&r.bottom>g.top&&r.right>g.left&&r.left<g.right},getOffsetTop=t=>{let n=0,r=t;for(;r;)n+=r.offsetTop,r=r.offsetParent;return n},getOffsetTopDistance=(t,n)=>Math.abs(getOffsetTop(t)-getOffsetTop(n)),getClientXY=t=>{let n,r;return t.type==="touchend"?(r=t.changedTouches[0].clientY,n=t.changedTouches[0].clientX):t.type.startsWith("touch")?(r=t.touches[0].clientY,n=t.touches[0].clientX):(r=t.clientY,n=t.clientX),{clientX:n,clientY:r}},useAlphaSlider=t=>{const n=getCurrentInstance(),{t:r}=useLocale(),g=shallowRef(),y=shallowRef(),$=computed(()=>t.color.get("alpha")),L=computed(()=>r("el.colorpicker.alphaLabel"));function V(ae){var oe;ae.target!==g.value&&z(ae),(oe=g.value)==null||oe.focus()}function z(ae){if(!y.value||!g.value)return;const ie=n.vnode.el.getBoundingClientRect(),{clientX:le,clientY:ue}=getClientXY(ae);if(t.vertical){let de=ue-ie.top;de=Math.max(g.value.offsetHeight/2,de),de=Math.min(de,ie.height-g.value.offsetHeight/2),t.color.set("alpha",Math.round((de-g.value.offsetHeight/2)/(ie.height-g.value.offsetHeight)*100))}else{let de=le-ie.left;de=Math.max(g.value.offsetWidth/2,de),de=Math.min(de,ie.width-g.value.offsetWidth/2),t.color.set("alpha",Math.round((de-g.value.offsetWidth/2)/(ie.width-g.value.offsetWidth)*100))}}function j(ae){const{code:oe,shiftKey:ie}=ae,le=ie?10:1;switch(oe){case EVENT_CODE.left:case EVENT_CODE.down:ae.preventDefault(),ae.stopPropagation(),re(-le);break;case EVENT_CODE.right:case EVENT_CODE.up:ae.preventDefault(),ae.stopPropagation(),re(le);break}}function re(ae){let oe=$.value+ae;oe=oe<0?0:oe>100?100:oe,t.color.set("alpha",oe)}return{thumb:g,bar:y,alpha:$,alphaLabel:L,handleDrag:z,handleClick:V,handleKeydown:j}},useAlphaSliderDOM=(t,{bar:n,thumb:r,handleDrag:g})=>{const y=getCurrentInstance(),$=useNamespace("color-alpha-slider"),L=ref(0),V=ref(0),z=ref();function j(){if(!r.value||t.vertical)return 0;const pe=y.vnode.el,_e=t.color.get("alpha");return pe?Math.round(_e*(pe.offsetWidth-r.value.offsetWidth/2)/100):0}function re(){if(!r.value)return 0;const pe=y.vnode.el;if(!t.vertical)return 0;const _e=t.color.get("alpha");return pe?Math.round(_e*(pe.offsetHeight-r.value.offsetHeight/2)/100):0}function ae(){if(t.color&&t.color.value){const{r:pe,g:_e,b:Ce}=t.color.toRgb();return`linear-gradient(to right, rgba(${pe}, ${_e}, ${Ce}, 0) 0%, rgba(${pe}, ${_e}, ${Ce}, 1) 100%)`}return""}function oe(){L.value=j(),V.value=re(),z.value=ae()}onMounted(()=>{if(!n.value||!r.value)return;const pe={drag:_e=>{g(_e)},end:_e=>{g(_e)}};draggable(n.value,pe),draggable(r.value,pe),oe()}),watch(()=>t.color.get("alpha"),()=>oe()),watch(()=>t.color.value,()=>oe());const ie=computed(()=>[$.b(),$.is("vertical",t.vertical)]),le=computed(()=>$.e("bar")),ue=computed(()=>$.e("thumb")),de=computed(()=>({background:z.value})),he=computed(()=>({left:addUnit(L.value),top:addUnit(V.value)}));return{rootKls:ie,barKls:le,barStyle:de,thumbKls:ue,thumbStyle:he,update:oe}},COMPONENT_NAME$h="ElColorAlphaSlider",__default__$1l=defineComponent({name:COMPONENT_NAME$h}),_sfc_main$23=defineComponent({...__default__$1l,props:alphaSliderProps,setup(t,{expose:n}){const r=t,{alpha:g,alphaLabel:y,bar:$,thumb:L,handleDrag:V,handleClick:z,handleKeydown:j}=useAlphaSlider(r),{rootKls:re,barKls:ae,barStyle:oe,thumbKls:ie,thumbStyle:le,update:ue}=useAlphaSliderDOM(r,{bar:$,thumb:L,handleDrag:V});return n({update:ue,bar:$,thumb:L}),(de,he)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(re))},[createBaseVNode("div",{ref_key:"bar",ref:$,class:normalizeClass(unref(ae)),style:normalizeStyle$1(unref(oe)),onClick:unref(z)},null,14,["onClick"]),createBaseVNode("div",{ref_key:"thumb",ref:L,class:normalizeClass(unref(ie)),style:normalizeStyle$1(unref(le)),"aria-label":unref(y),"aria-valuenow":unref(g),"aria-orientation":de.vertical?"vertical":"horizontal","aria-valuemin":"0","aria-valuemax":"100",role:"slider",tabindex:"0",onKeydown:unref(j)},null,46,["aria-label","aria-valuenow","aria-orientation","onKeydown"])],2))}});var AlphaSlider=_export_sfc$1(_sfc_main$23,[["__file","alpha-slider.vue"]]);const _sfc_main$22=defineComponent({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const n=useNamespace("color-hue-slider"),r=getCurrentInstance(),g=ref(),y=ref(),$=ref(0),L=ref(0),V=computed(()=>t.color.get("hue"));watch(()=>V.value,()=>{oe()});function z(ie){ie.target!==g.value&&j(ie)}function j(ie){if(!y.value||!g.value)return;const ue=r.vnode.el.getBoundingClientRect(),{clientX:de,clientY:he}=getClientXY(ie);let pe;if(t.vertical){let _e=he-ue.top;_e=Math.min(_e,ue.height-g.value.offsetHeight/2),_e=Math.max(g.value.offsetHeight/2,_e),pe=Math.round((_e-g.value.offsetHeight/2)/(ue.height-g.value.offsetHeight)*360)}else{let _e=de-ue.left;_e=Math.min(_e,ue.width-g.value.offsetWidth/2),_e=Math.max(g.value.offsetWidth/2,_e),pe=Math.round((_e-g.value.offsetWidth/2)/(ue.width-g.value.offsetWidth)*360)}t.color.set("hue",pe)}function re(){if(!g.value)return 0;const ie=r.vnode.el;if(t.vertical)return 0;const le=t.color.get("hue");return ie?Math.round(le*(ie.offsetWidth-g.value.offsetWidth/2)/360):0}function ae(){if(!g.value)return 0;const ie=r.vnode.el;if(!t.vertical)return 0;const le=t.color.get("hue");return ie?Math.round(le*(ie.offsetHeight-g.value.offsetHeight/2)/360):0}function oe(){$.value=re(),L.value=ae()}return onMounted(()=>{if(!y.value||!g.value)return;const ie={drag:le=>{j(le)},end:le=>{j(le)}};draggable(y.value,ie),draggable(g.value,ie),oe()}),{bar:y,thumb:g,thumbLeft:$,thumbTop:L,hueValue:V,handleClick:z,update:oe,ns:n}}});function _sfc_render$t(t,n,r,g,y,$){return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b(),t.ns.is("vertical",t.vertical)])},[createBaseVNode("div",{ref:"bar",class:normalizeClass(t.ns.e("bar")),onClick:t.handleClick},null,10,["onClick"]),createBaseVNode("div",{ref:"thumb",class:normalizeClass(t.ns.e("thumb")),style:normalizeStyle$1({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var HueSlider=_export_sfc$1(_sfc_main$22,[["render",_sfc_render$t],["__file","hue-slider.vue"]]);const colorPickerProps=buildProps({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:useSizeProp,popperClass:{type:String,default:""},tabindex:{type:[String,Number],default:0},teleported:useTooltipContentProps.teleported,predefine:{type:definePropType(Array)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),colorPickerEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t)||isNil(t),[CHANGE_EVENT]:t=>isString$2(t)||isNil(t),activeChange:t=>isString$2(t)||isNil(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},colorPickerContextKey=Symbol("colorPickerContextKey");class Color{constructor(n={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this._tiny=new TinyColor,this._isValid=!1,this.enableAlpha=!1,this.format="",this.value="";for(const r in n)hasOwn$1(n,r)&&(this[r]=n[r]);n.value?this.fromString(n.value):this.doOnChange()}set(n,r){if(arguments.length===1&&typeof n=="object"){for(const g in n)hasOwn$1(n,g)&&this.set(g,n[g]);return}this[`_${n}`]=r,this._isValid=!0,this.doOnChange()}get(n){return["hue","saturation","value","alpha"].includes(n)?Math.round(this[`_${n}`]):this[`_${n}`]}toRgb(){return this._isValid?this._tiny.toRgb():{r:255,g:255,b:255,a:0}}fromString(n){const r=new TinyColor(n);if(this._isValid=r.isValid,r.isValid){const{h:g,s:y,v:$,a:L}=r.toHsv();this._hue=g,this._saturation=y*100,this._value=$*100,this._alpha=L*100}else this._hue=0,this._saturation=100,this._value=100,this._alpha=100;this.doOnChange()}compare(n){const r=new TinyColor({h:n._hue,s:n._saturation/100,v:n._value/100,a:n._alpha/100});return this._tiny.equals(r)}doOnChange(){const{_hue:n,_saturation:r,_value:g,_alpha:y,format:$,enableAlpha:L}=this;let V=$||(L?"rgb":"hex");$==="hex"&&L&&(V="hex8"),this._tiny=new TinyColor({h:n,s:r/100,v:g/100,a:y/100}),this.value=this._isValid?this._tiny.toString(V):""}}const _sfc_main$21=defineComponent({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0},enableAlpha:{type:Boolean,required:!0}},setup(t){const n=useNamespace("color-predefine"),{currentColor:r}=inject(colorPickerContextKey),g=ref($(t.colors,t.color));watch(()=>r.value,L=>{const V=new Color({value:L});g.value.forEach(z=>{z.selected=V.compare(z)})}),watchEffect(()=>{g.value=$(t.colors,t.color)});function y(L){t.color.fromString(t.colors[L])}function $(L,V){return L.map(z=>{const j=new Color({value:z});return j.selected=j.compare(V),j})}return{rgbaColors:g,handleSelect:y,ns:n}}});function _sfc_render$s(t,n,r,g,y,$){return openBlock(),createElementBlock("div",{class:normalizeClass(t.ns.b())},[createBaseVNode("div",{class:normalizeClass(t.ns.e("colors"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.rgbaColors,(L,V)=>(openBlock(),createElementBlock("div",{key:t.colors[V],class:normalizeClass([t.ns.e("color-selector"),t.ns.is("alpha",L.get("alpha")<100),{selected:L.selected}]),onClick:z=>t.handleSelect(V)},[createBaseVNode("div",{style:normalizeStyle$1({backgroundColor:L.value})},null,4)],10,["onClick"]))),128))],2)],2)}var Predefine=_export_sfc$1(_sfc_main$21,[["render",_sfc_render$s],["__file","predefine.vue"]]);const _sfc_main$20=defineComponent({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const n=useNamespace("color-svpanel"),r=getCurrentInstance(),g=ref(0),y=ref(0),$=ref("hsl(0, 100%, 50%)"),L=computed(()=>{const j=t.color.get("hue"),re=t.color.get("value");return{hue:j,value:re}});function V(){const j=t.color.get("saturation"),re=t.color.get("value"),ae=r.vnode.el,{clientWidth:oe,clientHeight:ie}=ae;y.value=j*oe/100,g.value=(100-re)*ie/100,$.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function z(j){const ae=r.vnode.el.getBoundingClientRect(),{clientX:oe,clientY:ie}=getClientXY(j);let le=oe-ae.left,ue=ie-ae.top;le=Math.max(0,le),le=Math.min(le,ae.width),ue=Math.max(0,ue),ue=Math.min(ue,ae.height),y.value=le,g.value=ue,t.color.set({saturation:le/ae.width*100,value:100-ue/ae.height*100})}return watch(()=>L.value,()=>{V()}),onMounted(()=>{draggable(r.vnode.el,{drag:j=>{z(j)},end:j=>{z(j)}}),V()}),{cursorTop:g,cursorLeft:y,background:$,colorValue:L,handleDrag:z,update:V,ns:n}}});function _sfc_render$r(t,n,r,g,y,$){return openBlock(),createElementBlock("div",{class:normalizeClass(t.ns.b()),style:normalizeStyle$1({backgroundColor:t.background})},[createBaseVNode("div",{class:normalizeClass(t.ns.e("white"))},null,2),createBaseVNode("div",{class:normalizeClass(t.ns.e("black"))},null,2),createBaseVNode("div",{class:normalizeClass(t.ns.e("cursor")),style:normalizeStyle$1({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},[createBaseVNode("div")],6)],6)}var SvPanel=_export_sfc$1(_sfc_main$20,[["render",_sfc_render$r],["__file","sv-panel.vue"]]);const __default__$1k=defineComponent({name:"ElColorPicker"}),_sfc_main$1$=defineComponent({...__default__$1k,props:colorPickerProps,emits:colorPickerEmits,setup(t,{expose:n,emit:r}){const g=t,{t:y}=useLocale(),$=useNamespace("color"),{formItem:L}=useFormItem(),V=useFormSize(),z=useFormDisabled(),{inputId:j,isLabeledByFormItem:re}=useFormItemInputId(g,{formItemContext:L}),ae=ref(),oe=ref(),ie=ref(),le=ref(),ue=ref(),de=ref(),{isFocused:he,handleFocus:pe,handleBlur:_e}=useFocusController(ue,{beforeFocus(){return z.value},beforeBlur(Tn){var xn;return(xn=le.value)==null?void 0:xn.isFocusInsideContent(Tn)},afterBlur(){Ue(!1),At()}});let Ce=!0;const xe=reactive(new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue})),Ie=ref(!1),$e=ref(!1),Oe=ref(""),Ne=computed(()=>!g.modelValue&&!$e.value?"transparent":Dt(xe,g.showAlpha)),Fe=computed(()=>!g.modelValue&&!$e.value?"":xe.value),Ve=computed(()=>re.value?void 0:g.ariaLabel||y("el.colorpicker.defaultLabel")),ze=computed(()=>re.value?L==null?void 0:L.labelId:void 0),Et=computed(()=>[$.b("picker"),$.is("disabled",z.value),$.bm("picker",V.value),$.is("focused",he.value)]);function Dt(Tn,xn){const{r:Mn,g:bn,b:Pn,a:Rn}=Tn.toRgb();return xn?`rgba(${Mn}, ${bn}, ${Pn}, ${Rn})`:`rgb(${Mn}, ${bn}, ${Pn})`}function Ue(Tn){Ie.value=Tn}const qe=debounce(Ue,100,{leading:!0});function Lt(){z.value||Ue(!0)}function Pt(){qe(!1),At()}function At(){nextTick(()=>{g.modelValue?xe.fromString(g.modelValue):(xe.value="",!Fe.value&&Oe.value&&(Oe.value=""),nextTick(()=>{$e.value=!1}))})}function vn(){z.value||(Ie.value&&At(),qe(!Ie.value))}function En(){xe.fromString(Oe.value),xe.value!==Oe.value&&(Oe.value=xe.value)}function Sn(){const Tn=xe.value;r(UPDATE_MODEL_EVENT,Tn),r(CHANGE_EVENT,Tn),g.validateEvent&&(L==null||L.validate("change").catch(xn=>void 0)),qe(!1),nextTick(()=>{const xn=new Color({enableAlpha:g.showAlpha,format:g.colorFormat||"",value:g.modelValue});xe.compare(xn)||At()})}function kt(){qe(!1),r(UPDATE_MODEL_EVENT,null),r(CHANGE_EVENT,null),g.modelValue!==null&&g.validateEvent&&(L==null||L.validate("change").catch(Tn=>void 0)),At()}function jt(){Ie.value&&(Pt(),he.value&&hn())}function _n(Tn){Tn.preventDefault(),Tn.stopPropagation(),Ue(!1),At()}function wn(Tn){switch(Tn.code){case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:Tn.preventDefault(),Tn.stopPropagation(),Lt(),de.value.focus();break;case EVENT_CODE.esc:_n(Tn);break}}function hn(){ue.value.focus()}function Cn(){ue.value.blur()}return onMounted(()=>{g.modelValue&&(Oe.value=Fe.value)}),watch(()=>g.modelValue,Tn=>{Tn?Tn&&Tn!==xe.value&&(Ce=!1,xe.fromString(Tn)):$e.value=!1}),watch(()=>[g.colorFormat,g.showAlpha],()=>{xe.enableAlpha=g.showAlpha,xe.format=g.colorFormat||xe.format,xe.doOnChange(),r(UPDATE_MODEL_EVENT,xe.value)}),watch(()=>Fe.value,Tn=>{Oe.value=Tn,Ce&&r("activeChange",Tn),Ce=!0}),watch(()=>xe.value,()=>{!g.modelValue&&!$e.value&&($e.value=!0)}),watch(()=>Ie.value,()=>{nextTick(()=>{var Tn,xn,Mn;(Tn=ae.value)==null||Tn.update(),(xn=oe.value)==null||xn.update(),(Mn=ie.value)==null||Mn.update()})}),provide(colorPickerContextKey,{currentColor:Fe}),n({color:xe,show:Lt,hide:Pt,focus:hn,blur:Cn}),(Tn,xn)=>(openBlock(),createBlock(unref(ElTooltip),{ref_key:"popper",ref:le,visible:Ie.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[unref($).be("picker","panel"),unref($).b("dropdown"),Tn.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",teleported:Tn.teleported,transition:`${unref($).namespace.value}-zoom-in-top`,persistent:"",onHide:Mn=>Ue(!1)},{content:withCtx(()=>[withDirectives((openBlock(),createElementBlock("div",{onKeydown:withKeys(_n,["esc"])},[createBaseVNode("div",{class:normalizeClass(unref($).be("dropdown","main-wrapper"))},[createVNode$1(HueSlider,{ref_key:"hue",ref:ae,class:"hue-slider",color:unref(xe),vertical:""},null,8,["color"]),createVNode$1(SvPanel,{ref_key:"sv",ref:oe,color:unref(xe)},null,8,["color"])],2),Tn.showAlpha?(openBlock(),createBlock(AlphaSlider,{key:0,ref_key:"alpha",ref:ie,color:unref(xe)},null,8,["color"])):createCommentVNode("v-if",!0),Tn.predefine?(openBlock(),createBlock(Predefine,{key:1,ref:"predefine","enable-alpha":Tn.showAlpha,color:unref(xe),colors:Tn.predefine},null,8,["enable-alpha","color","colors"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref($).be("dropdown","btns"))},[createBaseVNode("span",{class:normalizeClass(unref($).be("dropdown","value"))},[createVNode$1(unref(ElInput),{ref_key:"inputRef",ref:de,modelValue:Oe.value,"onUpdate:modelValue":Mn=>Oe.value=Mn,"validate-event":!1,size:"small",onChange:En},null,8,["modelValue","onUpdate:modelValue"])],2),createVNode$1(unref(ElButton),{class:normalizeClass(unref($).be("dropdown","link-btn")),text:"",size:"small",onClick:kt},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(y)("el.colorpicker.clear")),1)]),_:1},8,["class"]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref($).be("dropdown","btn")),onClick:Sn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(y)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,["onKeydown"])),[[unref(ClickOutside),jt,ue.value]])]),default:withCtx(()=>[createBaseVNode("div",mergeProps({id:unref(j),ref_key:"triggerRef",ref:ue},Tn.$attrs,{class:unref(Et),role:"button","aria-label":unref(Ve),"aria-labelledby":unref(ze),"aria-description":unref(y)("el.colorpicker.description",{color:Tn.modelValue||""}),"aria-disabled":unref(z),tabindex:unref(z)?void 0:Tn.tabindex,onKeydown:wn,onFocus:unref(pe),onBlur:unref(_e)}),[createBaseVNode("div",{class:normalizeClass(unref($).be("picker","trigger")),onClick:vn},[createBaseVNode("span",{class:normalizeClass([unref($).be("picker","color"),unref($).is("alpha",Tn.showAlpha)])},[createBaseVNode("span",{class:normalizeClass(unref($).be("picker","color-inner")),style:normalizeStyle$1({backgroundColor:unref(Ne)})},[withDirectives(createVNode$1(unref(ElIcon),{class:normalizeClass([unref($).be("picker","icon"),unref($).is("icon-arrow-down")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"]),[[vShow,Tn.modelValue||$e.value]]),withDirectives(createVNode$1(unref(ElIcon),{class:normalizeClass([unref($).be("picker","empty"),unref($).is("icon-close")])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"]),[[vShow,!Tn.modelValue&&!$e.value]])],6)],2)],2)],16,["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex","onFocus","onBlur"])]),_:1},8,["visible","popper-class","teleported","transition","onHide"]))}});var ColorPicker=_export_sfc$1(_sfc_main$1$,[["__file","color-picker.vue"]]);const ElColorPicker=withInstall(ColorPicker),configProviderProps=buildProps({a11y:{type:Boolean,default:!0},locale:{type:definePropType(Object)},size:useSizeProp,button:{type:definePropType(Object)},link:{type:definePropType(Object)},experimentalFeatures:{type:definePropType(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:definePropType(Object)},zIndex:Number,namespace:{type:String,default:"el"},...useEmptyValuesProps}),messageConfig={},ConfigProvider=defineComponent({name:"ElConfigProvider",props:configProviderProps,setup(t,{slots:n}){const r=provideGlobalConfig(t);return watch(()=>t.message,g=>{var y,$;Object.assign(messageConfig,($=(y=r==null?void 0:r.value)==null?void 0:y.message)!=null?$:{},g??{})},{immediate:!0,deep:!0}),()=>renderSlot(n,"default",{config:r==null?void 0:r.value})}}),ElConfigProvider=withInstall(ConfigProvider),__default__$1j=defineComponent({name:"ElContainer"}),_sfc_main$1_=defineComponent({...__default__$1j,props:{direction:{type:String}},setup(t){const n=t,r=useSlots(),g=useNamespace("container"),y=computed(()=>n.direction==="vertical"?!0:n.direction==="horizontal"?!1:r&&r.default?r.default().some(L=>{const V=L.type.name;return V==="ElHeader"||V==="ElFooter"}):!1);return($,L)=>(openBlock(),createElementBlock("section",{class:normalizeClass([unref(g).b(),unref(g).is("vertical",unref(y))])},[renderSlot($.$slots,"default")],2))}});var Container=_export_sfc$1(_sfc_main$1_,[["__file","container.vue"]]);const __default__$1i=defineComponent({name:"ElAside"}),_sfc_main$1Z=defineComponent({...__default__$1i,props:{width:{type:String,default:null}},setup(t){const n=t,r=useNamespace("aside"),g=computed(()=>n.width?r.cssVarBlock({width:n.width}):{});return(y,$)=>(openBlock(),createElementBlock("aside",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Aside=_export_sfc$1(_sfc_main$1Z,[["__file","aside.vue"]]);const __default__$1h=defineComponent({name:"ElFooter"}),_sfc_main$1Y=defineComponent({...__default__$1h,props:{height:{type:String,default:null}},setup(t){const n=t,r=useNamespace("footer"),g=computed(()=>n.height?r.cssVarBlock({height:n.height}):{});return(y,$)=>(openBlock(),createElementBlock("footer",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Footer$2=_export_sfc$1(_sfc_main$1Y,[["__file","footer.vue"]]);const __default__$1g=defineComponent({name:"ElHeader"}),_sfc_main$1X=defineComponent({...__default__$1g,props:{height:{type:String,default:null}},setup(t){const n=t,r=useNamespace("header"),g=computed(()=>n.height?r.cssVarBlock({height:n.height}):{});return(y,$)=>(openBlock(),createElementBlock("header",{class:normalizeClass(unref(r).b()),style:normalizeStyle$1(unref(g))},[renderSlot(y.$slots,"default")],6))}});var Header$2=_export_sfc$1(_sfc_main$1X,[["__file","header.vue"]]);const __default__$1f=defineComponent({name:"ElMain"}),_sfc_main$1W=defineComponent({...__default__$1f,setup(t){const n=useNamespace("main");return(r,g)=>(openBlock(),createElementBlock("main",{class:normalizeClass(unref(n).b())},[renderSlot(r.$slots,"default")],2))}});var Main=_export_sfc$1(_sfc_main$1W,[["__file","main.vue"]]);const ElContainer=withInstall(Container,{Aside,Footer:Footer$2,Header:Header$2,Main}),ElAside=withNoopInstall(Aside),ElFooter=withNoopInstall(Footer$2),ElHeader=withNoopInstall(Header$2),ElMain=withNoopInstall(Main);var customParseFormat$2={exports:{}},customParseFormat$1=customParseFormat$2.exports,hasRequiredCustomParseFormat;function requireCustomParseFormat(){return hasRequiredCustomParseFormat||(hasRequiredCustomParseFormat=1,function(t,n){(function(r,g){t.exports=g()})(customParseFormat$1,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},g=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,y=/\d/,$=/\d\d/,L=/\d\d?/,V=/\d*[^-_:/,()\s\d]+/,z={},j=function(de){return(de=+de)+(de>68?1900:2e3)},re=function(de){return function(he){this[de]=+he}},ae=[/[+-]\d\d:?(\d\d)?|Z/,function(de){(this.zone||(this.zone={})).offset=function(he){if(!he||he==="Z")return 0;var pe=he.match(/([+-]|\d\d)/g),_e=60*pe[1]+(+pe[2]||0);return _e===0?0:pe[0]==="+"?-_e:_e}(de)}],oe=function(de){var he=z[de];return he&&(he.indexOf?he:he.s.concat(he.f))},ie=function(de,he){var pe,_e=z.meridiem;if(_e){for(var Ce=1;Ce<=24;Ce+=1)if(de.indexOf(_e(Ce,0,he))>-1){pe=Ce>12;break}}else pe=de===(he?"pm":"PM");return pe},le={A:[V,function(de){this.afternoon=ie(de,!1)}],a:[V,function(de){this.afternoon=ie(de,!0)}],Q:[y,function(de){this.month=3*(de-1)+1}],S:[y,function(de){this.milliseconds=100*+de}],SS:[$,function(de){this.milliseconds=10*+de}],SSS:[/\d{3}/,function(de){this.milliseconds=+de}],s:[L,re("seconds")],ss:[L,re("seconds")],m:[L,re("minutes")],mm:[L,re("minutes")],H:[L,re("hours")],h:[L,re("hours")],HH:[L,re("hours")],hh:[L,re("hours")],D:[L,re("day")],DD:[$,re("day")],Do:[V,function(de){var he=z.ordinal,pe=de.match(/\d+/);if(this.day=pe[0],he)for(var _e=1;_e<=31;_e+=1)he(_e).replace(/\[|\]/g,"")===de&&(this.day=_e)}],w:[L,re("week")],ww:[$,re("week")],M:[L,re("month")],MM:[$,re("month")],MMM:[V,function(de){var he=oe("months"),pe=(oe("monthsShort")||he.map(function(_e){return _e.slice(0,3)})).indexOf(de)+1;if(pe<1)throw new Error;this.month=pe%12||pe}],MMMM:[V,function(de){var he=oe("months").indexOf(de)+1;if(he<1)throw new Error;this.month=he%12||he}],Y:[/[+-]?\d+/,re("year")],YY:[$,function(de){this.year=j(de)}],YYYY:[/\d{4}/,re("year")],Z:ae,ZZ:ae};function ue(de){var he,pe;he=de,pe=z&&z.formats;for(var _e=(de=he.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Fe,Ve,ze){var Et=ze&&ze.toUpperCase();return Ve||pe[ze]||r[ze]||pe[Et].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(Dt,Ue,qe){return Ue||qe.slice(1)})})).match(g),Ce=_e.length,xe=0;xe<Ce;xe+=1){var Ie=_e[xe],$e=le[Ie],Oe=$e&&$e[0],Ne=$e&&$e[1];_e[xe]=Ne?{regex:Oe,parser:Ne}:Ie.replace(/^\[|\]$/g,"")}return function(Fe){for(var Ve={},ze=0,Et=0;ze<Ce;ze+=1){var Dt=_e[ze];if(typeof Dt=="string")Et+=Dt.length;else{var Ue=Dt.regex,qe=Dt.parser,Lt=Fe.slice(Et),Pt=Ue.exec(Lt)[0];qe.call(Ve,Pt),Fe=Fe.replace(Pt,"")}}return function(At){var vn=At.afternoon;if(vn!==void 0){var En=At.hours;vn?En<12&&(At.hours+=12):En===12&&(At.hours=0),delete At.afternoon}}(Ve),Ve}}return function(de,he,pe){pe.p.customParseFormat=!0,de&&de.parseTwoDigitYear&&(j=de.parseTwoDigitYear);var _e=he.prototype,Ce=_e.parse;_e.parse=function(xe){var Ie=xe.date,$e=xe.utc,Oe=xe.args;this.$u=$e;var Ne=Oe[1];if(typeof Ne=="string"){var Fe=Oe[2]===!0,Ve=Oe[3]===!0,ze=Fe||Ve,Et=Oe[2];Ve&&(Et=Oe[2]),z=this.$locale(),!Fe&&Et&&(z=pe.Ls[Et]),this.$d=function(Lt,Pt,At,vn){try{if(["x","X"].indexOf(Pt)>-1)return new Date((Pt==="X"?1e3:1)*Lt);var En=ue(Pt)(Lt),Sn=En.year,kt=En.month,jt=En.day,_n=En.hours,wn=En.minutes,hn=En.seconds,Cn=En.milliseconds,Tn=En.zone,xn=En.week,Mn=new Date,bn=jt||(Sn||kt?1:Mn.getDate()),Pn=Sn||Mn.getFullYear(),Rn=0;Sn&&!kt||(Rn=kt>0?kt-1:Mn.getMonth());var Fn,Dn=_n||0,Ln=wn||0,kn=hn||0,In=Cn||0;return Tn?new Date(Date.UTC(Pn,Rn,bn,Dn,Ln,kn,In+60*Tn.offset*1e3)):At?new Date(Date.UTC(Pn,Rn,bn,Dn,Ln,kn,In)):(Fn=new Date(Pn,Rn,bn,Dn,Ln,kn,In),xn&&(Fn=vn(Fn).week(xn).toDate()),Fn)}catch{return new Date("")}}(Ie,Ne,$e,pe),this.init(),Et&&Et!==!0&&(this.$L=this.locale(Et).$L),ze&&Ie!=this.format(Ne)&&(this.$d=new Date("")),z={}}else if(Ne instanceof Array)for(var Dt=Ne.length,Ue=1;Ue<=Dt;Ue+=1){Oe[1]=Ne[Ue-1];var qe=pe.apply(this,Oe);if(qe.isValid()){this.$d=qe.$d,this.$L=qe.$L,this.init();break}Ue===Dt&&(this.$d=new Date(""))}else Ce.call(this,xe)}}})}(customParseFormat$2)),customParseFormat$2.exports}var customParseFormatExports=requireCustomParseFormat();const customParseFormat=getDefaultExportFromCjs(customParseFormatExports);var advancedFormat$2={exports:{}},advancedFormat$1=advancedFormat$2.exports,hasRequiredAdvancedFormat;function requireAdvancedFormat(){return hasRequiredAdvancedFormat||(hasRequiredAdvancedFormat=1,function(t,n){(function(r,g){t.exports=g()})(advancedFormat$1,function(){return function(r,g){var y=g.prototype,$=y.format;y.format=function(L){var V=this,z=this.$locale();if(!this.isValid())return $.bind(this)(L);var j=this.$utils(),re=(L||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(ae){switch(ae){case"Q":return Math.ceil((V.$M+1)/3);case"Do":return z.ordinal(V.$D);case"gggg":return V.weekYear();case"GGGG":return V.isoWeekYear();case"wo":return z.ordinal(V.week(),"W");case"w":case"ww":return j.s(V.week(),ae==="w"?1:2,"0");case"W":case"WW":return j.s(V.isoWeek(),ae==="W"?1:2,"0");case"k":case"kk":return j.s(String(V.$H===0?24:V.$H),ae==="k"?1:2,"0");case"X":return Math.floor(V.$d.getTime()/1e3);case"x":return V.$d.getTime();case"z":return"["+V.offsetName()+"]";case"zzz":return"["+V.offsetName("long")+"]";default:return ae}});return $.bind(this)(re)}}})}(advancedFormat$2)),advancedFormat$2.exports}var advancedFormatExports=requireAdvancedFormat();const advancedFormat=getDefaultExportFromCjs(advancedFormatExports);var weekOfYear$2={exports:{}},weekOfYear$1=weekOfYear$2.exports,hasRequiredWeekOfYear;function requireWeekOfYear(){return hasRequiredWeekOfYear||(hasRequiredWeekOfYear=1,function(t,n){(function(r,g){t.exports=g()})(weekOfYear$1,function(){var r="week",g="year";return function(y,$,L){var V=$.prototype;V.week=function(z){if(z===void 0&&(z=null),z!==null)return this.add(7*(z-this.week()),"day");var j=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var re=L(this).startOf(g).add(1,g).date(j),ae=L(this).endOf(r);if(re.isBefore(ae))return 1}var oe=L(this).startOf(g).date(j).startOf(r).subtract(1,"millisecond"),ie=this.diff(oe,r,!0);return ie<0?L(this).startOf("week").week():Math.ceil(ie)},V.weeks=function(z){return z===void 0&&(z=null),this.week(z)}}})}(weekOfYear$2)),weekOfYear$2.exports}var weekOfYearExports=requireWeekOfYear();const weekOfYear=getDefaultExportFromCjs(weekOfYearExports);var weekYear$2={exports:{}},weekYear$1=weekYear$2.exports,hasRequiredWeekYear;function requireWeekYear(){return hasRequiredWeekYear||(hasRequiredWeekYear=1,function(t,n){(function(r,g){t.exports=g()})(weekYear$1,function(){return function(r,g){g.prototype.weekYear=function(){var y=this.month(),$=this.week(),L=this.year();return $===1&&y===11?L+1:y===0&&$>=52?L-1:L}}})}(weekYear$2)),weekYear$2.exports}var weekYearExports=requireWeekYear();const weekYear=getDefaultExportFromCjs(weekYearExports);var dayOfYear$2={exports:{}},dayOfYear$1=dayOfYear$2.exports,hasRequiredDayOfYear;function requireDayOfYear(){return hasRequiredDayOfYear||(hasRequiredDayOfYear=1,function(t,n){(function(r,g){t.exports=g()})(dayOfYear$1,function(){return function(r,g,y){g.prototype.dayOfYear=function($){var L=Math.round((y(this).startOf("day")-y(this).startOf("year"))/864e5)+1;return $==null?L:this.add($-L,"day")}}})}(dayOfYear$2)),dayOfYear$2.exports}var dayOfYearExports=requireDayOfYear();const dayOfYear=getDefaultExportFromCjs(dayOfYearExports);var isSameOrAfter$2={exports:{}},isSameOrAfter$1=isSameOrAfter$2.exports,hasRequiredIsSameOrAfter;function requireIsSameOrAfter(){return hasRequiredIsSameOrAfter||(hasRequiredIsSameOrAfter=1,function(t,n){(function(r,g){t.exports=g()})(isSameOrAfter$1,function(){return function(r,g){g.prototype.isSameOrAfter=function(y,$){return this.isSame(y,$)||this.isAfter(y,$)}}})}(isSameOrAfter$2)),isSameOrAfter$2.exports}var isSameOrAfterExports=requireIsSameOrAfter();const isSameOrAfter=getDefaultExportFromCjs(isSameOrAfterExports);var isSameOrBefore$2={exports:{}},isSameOrBefore$1=isSameOrBefore$2.exports,hasRequiredIsSameOrBefore;function requireIsSameOrBefore(){return hasRequiredIsSameOrBefore||(hasRequiredIsSameOrBefore=1,function(t,n){(function(r,g){t.exports=g()})(isSameOrBefore$1,function(){return function(r,g){g.prototype.isSameOrBefore=function(y,$){return this.isSame(y,$)||this.isBefore(y,$)}}})}(isSameOrBefore$2)),isSameOrBefore$2.exports}var isSameOrBeforeExports=requireIsSameOrBefore();const isSameOrBefore=getDefaultExportFromCjs(isSameOrBeforeExports),timeUnits$2=["hours","minutes","seconds"],PICKER_BASE_INJECTION_KEY="EP_PICKER_BASE",PICKER_POPPER_OPTIONS_INJECTION_KEY="ElPopperOptions",DEFAULT_FORMATS_TIME="HH:mm:ss",DEFAULT_FORMATS_DATE="YYYY-MM-DD",DEFAULT_FORMATS_DATEPICKER={date:DEFAULT_FORMATS_DATE,dates:DEFAULT_FORMATS_DATE,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",months:"YYYY-MM",datetime:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`,monthrange:"YYYY-MM",yearrange:"YYYY",daterange:DEFAULT_FORMATS_DATE,datetimerange:`${DEFAULT_FORMATS_DATE} ${DEFAULT_FORMATS_TIME}`},disabledTimeListsProps=buildProps({disabledHours:{type:definePropType(Function)},disabledMinutes:{type:definePropType(Function)},disabledSeconds:{type:definePropType(Function)}}),timePanelSharedProps=buildProps({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),timePickerDefaultProps=buildProps({id:{type:definePropType([Array,String])},name:{type:definePropType([Array,String])},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:definePropType([String,Object]),default:circle_close_default},editable:{type:Boolean,default:!0},prefixIcon:{type:definePropType([String,Object]),default:""},size:useSizeProp,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},modelValue:{type:definePropType([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:definePropType([Date,Array])},defaultTime:{type:definePropType([Date,Array])},isRange:Boolean,...disabledTimeListsProps,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,tabindex:{type:definePropType([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom"},fallbackPlacements:{type:definePropType(Array),default:["bottom","top","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"]),showNow:{type:Boolean,default:!0}}),timePickerRangeTriggerProps=buildProps({id:{type:definePropType(Array)},name:{type:definePropType(Array)},modelValue:{type:definePropType([Array,String])},startPlaceholder:String,endPlaceholder:String,disabled:Boolean}),__default__$1e=defineComponent({name:"PickerRangeTrigger",inheritAttrs:!1}),_sfc_main$1V=defineComponent({...__default__$1e,props:timePickerRangeTriggerProps,emits:["mouseenter","mouseleave","click","touchstart","focus","blur","startInput","endInput","startChange","endChange"],setup(t,{expose:n,emit:r}){const g=useAttrs(),y=useNamespace("date"),$=useNamespace("range"),L=ref(),V=ref(),{wrapperRef:z,isFocused:j}=useFocusController(L),re=Ce=>{r("click",Ce)},ae=Ce=>{r("mouseenter",Ce)},oe=Ce=>{r("mouseleave",Ce)},ie=Ce=>{r("mouseenter",Ce)},le=Ce=>{r("startInput",Ce)},ue=Ce=>{r("endInput",Ce)},de=Ce=>{r("startChange",Ce)},he=Ce=>{r("endChange",Ce)};return n({focus:()=>{var Ce;(Ce=L.value)==null||Ce.focus()},blur:()=>{var Ce,xe;(Ce=L.value)==null||Ce.blur(),(xe=V.value)==null||xe.blur()}}),(Ce,xe)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:z,class:normalizeClass([unref(y).is("active",unref(j)),Ce.$attrs.class]),style:normalizeStyle$1(Ce.$attrs.style),onClick:re,onMouseenter:ae,onMouseleave:oe,onTouchstartPassive:ie},[renderSlot(Ce.$slots,"prefix"),createBaseVNode("input",mergeProps(unref(g),{id:Ce.id&&Ce.id[0],ref_key:"inputRef",ref:L,name:Ce.name&&Ce.name[0],placeholder:Ce.startPlaceholder,value:Ce.modelValue&&Ce.modelValue[0],class:unref($).b("input"),disabled:Ce.disabled,onInput:le,onChange:de}),null,16,["id","name","placeholder","value","disabled"]),renderSlot(Ce.$slots,"range-separator"),createBaseVNode("input",mergeProps(unref(g),{id:Ce.id&&Ce.id[1],ref_key:"endInputRef",ref:V,name:Ce.name&&Ce.name[1],placeholder:Ce.endPlaceholder,value:Ce.modelValue&&Ce.modelValue[1],class:unref($).b("input"),disabled:Ce.disabled,onInput:ue,onChange:he}),null,16,["id","name","placeholder","value","disabled"]),renderSlot(Ce.$slots,"suffix")],38))}});var PickerRangeTrigger=_export_sfc$1(_sfc_main$1V,[["__file","picker-range-trigger.vue"]]);const __default__$1d=defineComponent({name:"Picker"}),_sfc_main$1U=defineComponent({...__default__$1d,props:timePickerDefaultProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"focus","blur","clear","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:n,emit:r}){const g=t,y=useAttrs$1(),{lang:$}=useLocale(),L=useNamespace("date"),V=useNamespace("input"),z=useNamespace("range"),{form:j,formItem:re}=useFormItem(),ae=inject(PICKER_POPPER_OPTIONS_INJECTION_KEY,{}),{valueOnClear:oe}=useEmptyValues(g,null),ie=ref(),le=ref(),ue=ref(!1),de=ref(!1),he=ref(null);let pe=!1;const{isFocused:_e,handleFocus:Ce,handleBlur:xe}=useFocusController(le,{beforeFocus(){return g.readonly||At.value},afterFocus(){ue.value=!0},beforeBlur(Nn){var Hn;return!pe&&((Hn=ie.value)==null?void 0:Hn.isFocusInsideContent(Nn))},afterBlur(){Vn(),ue.value=!1,pe=!1,g.validateEvent&&(re==null||re.validate("blur").catch(Nn=>void 0))}}),Ie=computed(()=>[L.b("editor"),L.bm("editor",g.type),V.e("wrapper"),L.is("disabled",At.value),L.is("active",ue.value),z.b("editor"),Dn?z.bm("editor",Dn.value):"",y.class]),$e=computed(()=>[V.e("icon"),z.e("close-icon"),Cn.value?"":z.e("close-icon--hidden")]);watch(ue,Nn=>{Nn?nextTick(()=>{Nn&&(he.value=g.modelValue)}):(In.value=null,nextTick(()=>{Oe(g.modelValue)}))});const Oe=(Nn,Hn)=>{(Hn||!valueEquals(Nn,he.value))&&(r(CHANGE_EVENT,Nn),Hn&&(he.value=Nn),g.validateEvent&&(re==null||re.validate("change").catch(Yn=>void 0)))},Ne=Nn=>{if(!valueEquals(g.modelValue,Nn)){let Hn;isArray$4(Nn)?Hn=Nn.map(Yn=>formatter(Yn,g.valueFormat,$.value)):Nn&&(Hn=formatter(Nn,g.valueFormat,$.value)),r(UPDATE_MODEL_EVENT,Nn&&Hn,$.value)}},Fe=Nn=>{r("keydown",Nn)},Ve=computed(()=>le.value?Array.from(le.value.$el.querySelectorAll("input")):[]),ze=(Nn,Hn,Yn)=>{const pr=Ve.value;pr.length&&(!Yn||Yn==="min"?(pr[0].setSelectionRange(Nn,Hn),pr[0].focus()):Yn==="max"&&(pr[1].setSelectionRange(Nn,Hn),pr[1].focus()))},Et=(Nn="",Hn=!1)=>{ue.value=Hn;let Yn;isArray$4(Nn)?Yn=Nn.map(pr=>pr.toDate()):Yn=Nn&&Nn.toDate(),In.value=null,Ne(Yn)},Dt=()=>{de.value=!0},Ue=()=>{r("visible-change",!0)},qe=()=>{de.value=!1,ue.value=!1,r("visible-change",!1)},Lt=()=>{ue.value=!0},Pt=()=>{ue.value=!1},At=computed(()=>g.disabled||(j==null?void 0:j.disabled)),vn=computed(()=>{let Nn;if(xn.value?Sr.value.getDefaultValue&&(Nn=Sr.value.getDefaultValue()):isArray$4(g.modelValue)?Nn=g.modelValue.map(Hn=>parseDate$1(Hn,g.valueFormat,$.value)):Nn=parseDate$1(g.modelValue,g.valueFormat,$.value),Sr.value.getRangeAvailableTime){const Hn=Sr.value.getRangeAvailableTime(Nn);isEqual$1(Hn,Nn)||(Nn=Hn,xn.value||Ne(dayOrDaysToDate(Nn)))}return isArray$4(Nn)&&Nn.some(Hn=>!Hn)&&(Nn=[]),Nn}),En=computed(()=>{if(!Sr.value.panelReady)return"";const Nn=Kn(vn.value);return isArray$4(In.value)?[In.value[0]||Nn&&Nn[0]||"",In.value[1]||Nn&&Nn[1]||""]:In.value!==null?In.value:!kt.value&&xn.value||!ue.value&&xn.value?"":Nn?jt.value||_n.value||wn.value?Nn.join(", "):Nn:""}),Sn=computed(()=>g.type.includes("time")),kt=computed(()=>g.type.startsWith("time")),jt=computed(()=>g.type==="dates"),_n=computed(()=>g.type==="months"),wn=computed(()=>g.type==="years"),hn=computed(()=>g.prefixIcon||(Sn.value?clock_default:calendar_default)),Cn=ref(!1),Tn=Nn=>{g.readonly||At.value||(Cn.value&&(Nn.stopPropagation(),Sr.value.handleClear?Sr.value.handleClear():Ne(oe.value),Oe(oe.value,!0),Cn.value=!1,qe()),r("clear"))},xn=computed(()=>{const{modelValue:Nn}=g;return!Nn||isArray$4(Nn)&&!Nn.filter(Boolean).length}),Mn=async Nn=>{var Hn;g.readonly||At.value||(((Hn=Nn.target)==null?void 0:Hn.tagName)!=="INPUT"||_e.value)&&(ue.value=!0)},bn=()=>{g.readonly||At.value||!xn.value&&g.clearable&&(Cn.value=!0)},Pn=()=>{Cn.value=!1},Rn=Nn=>{var Hn;g.readonly||At.value||(((Hn=Nn.touches[0].target)==null?void 0:Hn.tagName)!=="INPUT"||_e.value)&&(ue.value=!0)},Fn=computed(()=>g.type.includes("range")),Dn=useFormSize(),Ln=computed(()=>{var Nn,Hn;return(Hn=(Nn=unref(ie))==null?void 0:Nn.popperRef)==null?void 0:Hn.contentRef}),kn=onClickOutside(le,Nn=>{const Hn=unref(Ln),Yn=unrefElement(le);Hn&&(Nn.target===Hn||Nn.composedPath().includes(Hn))||Nn.target===Yn||Yn&&Nn.composedPath().includes(Yn)||(ue.value=!1)});onBeforeUnmount(()=>{kn==null||kn()});const In=ref(null),Vn=()=>{if(In.value){const Nn=zn(En.value);Nn&&jn(Nn)&&(Ne(dayOrDaysToDate(Nn)),In.value=null)}In.value===""&&(Ne(oe.value),Oe(oe.value,!0),In.value=null)},zn=Nn=>Nn?Sr.value.parseUserInput(Nn):null,Kn=Nn=>Nn?Sr.value.formatToString(Nn):null,jn=Nn=>Sr.value.isValidValue(Nn),Wn=async Nn=>{if(g.readonly||At.value)return;const{code:Hn}=Nn;if(Fe(Nn),Hn===EVENT_CODE.esc){ue.value===!0&&(ue.value=!1,Nn.preventDefault(),Nn.stopPropagation());return}if(Hn===EVENT_CODE.down&&(Sr.value.handleFocusPicker&&(Nn.preventDefault(),Nn.stopPropagation()),ue.value===!1&&(ue.value=!0,await nextTick()),Sr.value.handleFocusPicker)){Sr.value.handleFocusPicker();return}if(Hn===EVENT_CODE.tab){pe=!0;return}if(Hn===EVENT_CODE.enter||Hn===EVENT_CODE.numpadEnter){(In.value===null||In.value===""||jn(zn(En.value)))&&(Vn(),ue.value=!1),Nn.stopPropagation();return}if(In.value){Nn.stopPropagation();return}Sr.value.handleKeydownInput&&Sr.value.handleKeydownInput(Nn)},Un=Nn=>{In.value=Nn,ue.value||(ue.value=!0)},nr=Nn=>{const Hn=Nn.target;In.value?In.value=[Hn.value,In.value[1]]:In.value=[Hn.value,null]},sr=Nn=>{const Hn=Nn.target;In.value?In.value=[In.value[0],Hn.value]:In.value=[null,Hn.value]},mr=()=>{var Nn;const Hn=In.value,Yn=zn(Hn&&Hn[0]),pr=unref(vn);if(Yn&&Yn.isValid()){In.value=[Kn(Yn),((Nn=En.value)==null?void 0:Nn[1])||null];const Cr=[Yn,pr&&(pr[1]||null)];jn(Cr)&&(Ne(dayOrDaysToDate(Cr)),In.value=null)}},vr=()=>{var Nn;const Hn=unref(In),Yn=zn(Hn&&Hn[1]),pr=unref(vn);if(Yn&&Yn.isValid()){In.value=[((Nn=unref(En))==null?void 0:Nn[0])||null,Kn(Yn)];const Cr=[pr&&pr[0],Yn];jn(Cr)&&(Ne(dayOrDaysToDate(Cr)),In.value=null)}},Sr=ref({}),yr=Nn=>{Sr.value[Nn[0]]=Nn[1],Sr.value.panelReady=!0},ir=Nn=>{r("calendar-change",Nn)},gr=(Nn,Hn,Yn)=>{r("panel-change",Nn,Hn,Yn)},Gn=()=>{var Nn;(Nn=le.value)==null||Nn.focus()},Qn=()=>{var Nn;(Nn=le.value)==null||Nn.blur()};return provide(PICKER_BASE_INJECTION_KEY,{props:g}),n({focus:Gn,blur:Qn,handleOpen:Lt,handleClose:Pt,onPick:Et}),(Nn,Hn)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"refPopper",ref:ie,visible:ue.value,effect:"light",pure:"",trigger:"click"},Nn.$attrs,{role:"dialog",teleported:"",transition:`${unref(L).namespace.value}-zoom-in-top`,"popper-class":[`${unref(L).namespace.value}-picker__popper`,Nn.popperClass],"popper-options":unref(ae),"fallback-placements":Nn.fallbackPlacements,"gpu-acceleration":!1,placement:Nn.placement,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:Dt,onShow:Ue,onHide:qe}),{default:withCtx(()=>[unref(Fn)?(openBlock(),createBlock(PickerRangeTrigger,{key:1,id:Nn.id,ref_key:"inputRef",ref:le,"model-value":unref(En),name:Nn.name,disabled:unref(At),readonly:!Nn.editable||Nn.readonly,"start-placeholder":Nn.startPlaceholder,"end-placeholder":Nn.endPlaceholder,class:normalizeClass(unref(Ie)),style:normalizeStyle$1(Nn.$attrs.style),"aria-label":Nn.ariaLabel,tabindex:Nn.tabindex,autocomplete:"off",role:"combobox",onClick:Mn,onFocus:unref(Ce),onBlur:unref(xe),onStartInput:nr,onStartChange:mr,onEndInput:sr,onEndChange:vr,onMousedown:Mn,onMouseenter:bn,onMouseleave:Pn,onTouchstartPassive:Rn,onKeydown:Wn},{prefix:withCtx(()=>[unref(hn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(V).e("icon"),unref(z).e("icon")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(hn))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),"range-separator":withCtx(()=>[renderSlot(Nn.$slots,"range-separator",{},()=>[createBaseVNode("span",{class:normalizeClass(unref(z).b("separator"))},toDisplayString(Nn.rangeSeparator),3)])]),suffix:withCtx(()=>[Nn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref($e)),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:Tn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Nn.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:3},8,["id","model-value","name","disabled","readonly","start-placeholder","end-placeholder","class","style","aria-label","tabindex","onFocus","onBlur"])):(openBlock(),createBlock(unref(ElInput),{key:0,id:Nn.id,ref_key:"inputRef",ref:le,"container-role":"combobox","model-value":unref(En),name:Nn.name,size:unref(Dn),disabled:unref(At),placeholder:Nn.placeholder,class:normalizeClass([unref(L).b("editor"),unref(L).bm("editor",Nn.type),Nn.$attrs.class]),style:normalizeStyle$1(Nn.$attrs.style),readonly:!Nn.editable||Nn.readonly||unref(jt)||unref(_n)||unref(wn)||Nn.type==="week","aria-label":Nn.ariaLabel,tabindex:Nn.tabindex,"validate-event":!1,onInput:Un,onFocus:unref(Ce),onBlur:unref(xe),onKeydown:Wn,onChange:Vn,onMousedown:Mn,onMouseenter:bn,onMouseleave:Pn,onTouchstartPassive:Rn,onClick:withModifiers(()=>{},["stop"])},{prefix:withCtx(()=>[unref(hn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(V).e("icon")),onMousedown:withModifiers(Mn,["prevent"]),onTouchstartPassive:Rn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(hn))))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),suffix:withCtx(()=>[Cn.value&&Nn.clearIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(`${unref(V).e("icon")} clear-icon`),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:Tn},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Nn.clearIcon)))]),_:1},8,["class","onMousedown"])):createCommentVNode("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","aria-label","tabindex","onFocus","onBlur","onClick"]))]),content:withCtx(()=>[renderSlot(Nn.$slots,"default",{visible:ue.value,actualVisible:de.value,parsedValue:unref(vn),format:Nn.format,dateFormat:Nn.dateFormat,timeFormat:Nn.timeFormat,unlinkPanels:Nn.unlinkPanels,type:Nn.type,defaultValue:Nn.defaultValue,showNow:Nn.showNow,onPick:Et,onSelectRange:ze,onSetPickerOption:yr,onCalendarChange:ir,onPanelChange:gr,onMousedown:withModifiers(()=>{},["stop"])})]),_:3},16,["visible","transition","popper-class","popper-options","fallback-placements","placement"]))}});var CommonPicker=_export_sfc$1(_sfc_main$1U,[["__file","picker.vue"]]);const panelTimePickerProps=buildProps({...timePanelSharedProps,datetimeRole:String,parsedValue:{type:definePropType(Object)}}),useTimePanel=({getAvailableHours:t,getAvailableMinutes:n,getAvailableSeconds:r})=>{const g=(L,V,z,j)=>{const re={hour:t,minute:n,second:r};let ae=L;return["hour","minute","second"].forEach(oe=>{if(re[oe]){let ie;const le=re[oe];switch(oe){case"minute":{ie=le(ae.hour(),V,j);break}case"second":{ie=le(ae.hour(),ae.minute(),V,j);break}default:{ie=le(V,j);break}}if(ie!=null&&ie.length&&!ie.includes(ae[oe]())){const ue=z?0:ie.length-1;ae=ae[oe](ie[ue])}}}),ae},y={};return{timePickerOptions:y,getAvailableTime:g,onSetOption:([L,V])=>{y[L]=V}}},makeAvailableArr=t=>{const n=(g,y)=>g||y,r=g=>g!==!0;return t.map(n).filter(r)},getTimeLists=(t,n,r)=>({getHoursList:(L,V)=>makeList(24,t&&(()=>t==null?void 0:t(L,V))),getMinutesList:(L,V,z)=>makeList(60,n&&(()=>n==null?void 0:n(L,V,z))),getSecondsList:(L,V,z,j)=>makeList(60,r&&(()=>r==null?void 0:r(L,V,z,j)))}),buildAvailableTimeSlotGetter=(t,n,r)=>{const{getHoursList:g,getMinutesList:y,getSecondsList:$}=getTimeLists(t,n,r);return{getAvailableHours:(j,re)=>makeAvailableArr(g(j,re)),getAvailableMinutes:(j,re,ae)=>makeAvailableArr(y(j,re,ae)),getAvailableSeconds:(j,re,ae,oe)=>makeAvailableArr($(j,re,ae,oe))}},useOldValue=t=>{const n=ref(t.parsedValue);return watch(()=>t.visible,r=>{r||(n.value=t.parsedValue)}),n},basicTimeSpinnerProps=buildProps({role:{type:String,required:!0},spinnerDate:{type:definePropType(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:definePropType(String),default:""},...disabledTimeListsProps}),REPEAT_INTERVAL=100,REPEAT_DELAY=600,vRepeatClick={beforeMount(t,n){const r=n.value,{interval:g=REPEAT_INTERVAL,delay:y=REPEAT_DELAY}=isFunction$3(r)?{}:r;let $,L;const V=()=>isFunction$3(r)?r():r.handler(),z=()=>{L&&(clearTimeout(L),L=void 0),$&&(clearInterval($),$=void 0)};t.addEventListener("mousedown",j=>{j.button===0&&(z(),V(),document.addEventListener("mouseup",()=>z(),{once:!0}),L=setTimeout(()=>{$=setInterval(()=>{V()},g)},y))})}},_sfc_main$1T=defineComponent({__name:"basic-time-spinner",props:basicTimeSpinnerProps,emits:[CHANGE_EVENT,"select-range","set-option"],setup(t,{emit:n}){const r=t,g=inject(PICKER_BASE_INJECTION_KEY),{isRange:y,format:$}=g.props,L=useNamespace("time"),{getHoursList:V,getMinutesList:z,getSecondsList:j}=getTimeLists(r.disabledHours,r.disabledMinutes,r.disabledSeconds);let re=!1;const ae=ref(),oe=ref(),ie=ref(),le=ref(),ue={hours:oe,minutes:ie,seconds:le},de=computed(()=>r.showSeconds?timeUnits$2:timeUnits$2.slice(0,2)),he=computed(()=>{const{spinnerDate:Sn}=r,kt=Sn.hour(),jt=Sn.minute(),_n=Sn.second();return{hours:kt,minutes:jt,seconds:_n}}),pe=computed(()=>{const{hours:Sn,minutes:kt}=unref(he),{role:jt,spinnerDate:_n}=r,wn=y?void 0:_n;return{hours:V(jt,wn),minutes:z(Sn,jt,wn),seconds:j(Sn,kt,jt,wn)}}),_e=computed(()=>{const{hours:Sn,minutes:kt,seconds:jt}=unref(he);return{hours:buildTimeList(Sn,23),minutes:buildTimeList(kt,59),seconds:buildTimeList(jt,59)}}),Ce=debounce(Sn=>{re=!1,$e(Sn)},200),xe=Sn=>{if(!!!r.amPmMode)return"";const jt=r.amPmMode==="A";let _n=Sn<12?" am":" pm";return jt&&(_n=_n.toUpperCase()),_n},Ie=Sn=>{let kt=[0,0];if(!$||$===DEFAULT_FORMATS_TIME)switch(Sn){case"hours":kt=[0,2];break;case"minutes":kt=[3,5];break;case"seconds":kt=[6,8];break}const[jt,_n]=kt;n("select-range",jt,_n),ae.value=Sn},$e=Sn=>{Fe(Sn,unref(he)[Sn])},Oe=()=>{$e("hours"),$e("minutes"),$e("seconds")},Ne=Sn=>Sn.querySelector(`.${L.namespace.value}-scrollbar__wrap`),Fe=(Sn,kt)=>{if(r.arrowControl)return;const jt=unref(ue[Sn]);jt&&jt.$el&&(Ne(jt.$el).scrollTop=Math.max(0,kt*Ve(Sn)))},Ve=Sn=>{const kt=unref(ue[Sn]),jt=kt==null?void 0:kt.$el.querySelector("li");return jt&&Number.parseFloat(getStyle$1(jt,"height"))||0},ze=()=>{Dt(1)},Et=()=>{Dt(-1)},Dt=Sn=>{ae.value||Ie("hours");const kt=ae.value,jt=unref(he)[kt],_n=ae.value==="hours"?24:60,wn=Ue(kt,jt,Sn,_n);qe(kt,wn),Fe(kt,wn),nextTick(()=>Ie(kt))},Ue=(Sn,kt,jt,_n)=>{let wn=(kt+jt+_n)%_n;const hn=unref(pe)[Sn];for(;hn[wn]&&wn!==kt;)wn=(wn+jt+_n)%_n;return wn},qe=(Sn,kt)=>{if(unref(pe)[Sn][kt])return;const{hours:wn,minutes:hn,seconds:Cn}=unref(he);let Tn;switch(Sn){case"hours":Tn=r.spinnerDate.hour(kt).minute(hn).second(Cn);break;case"minutes":Tn=r.spinnerDate.hour(wn).minute(kt).second(Cn);break;case"seconds":Tn=r.spinnerDate.hour(wn).minute(hn).second(kt);break}n(CHANGE_EVENT,Tn)},Lt=(Sn,{value:kt,disabled:jt})=>{jt||(qe(Sn,kt),Ie(Sn),Fe(Sn,kt))},Pt=Sn=>{const kt=unref(ue[Sn]);if(!kt)return;re=!0,Ce(Sn);const jt=Math.min(Math.round((Ne(kt.$el).scrollTop-(At(Sn)*.5-10)/Ve(Sn)+3)/Ve(Sn)),Sn==="hours"?23:59);qe(Sn,jt)},At=Sn=>unref(ue[Sn]).$el.offsetHeight,vn=()=>{const Sn=kt=>{const jt=unref(ue[kt]);jt&&jt.$el&&(Ne(jt.$el).onscroll=()=>{Pt(kt)})};Sn("hours"),Sn("minutes"),Sn("seconds")};onMounted(()=>{nextTick(()=>{!r.arrowControl&&vn(),Oe(),r.role==="start"&&Ie("hours")})});const En=(Sn,kt)=>{ue[kt].value=Sn??void 0};return n("set-option",[`${r.role}_scrollDown`,Dt]),n("set-option",[`${r.role}_emitSelectRange`,Ie]),watch(()=>r.spinnerDate,()=>{re||Oe()}),(Sn,kt)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(L).b("spinner"),{"has-seconds":Sn.showSeconds}])},[Sn.arrowControl?createCommentVNode("v-if",!0):(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(de),jt=>(openBlock(),createBlock(unref(ElScrollbar),{key:jt,ref_for:!0,ref:_n=>En(_n,jt),class:normalizeClass(unref(L).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":unref(L).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:_n=>Ie(jt),onMousemove:_n=>$e(jt)},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(pe)[jt],(_n,wn)=>(openBlock(),createElementBlock("li",{key:wn,class:normalizeClass([unref(L).be("spinner","item"),unref(L).is("active",wn===unref(he)[jt]),unref(L).is("disabled",_n)]),onClick:hn=>Lt(jt,{value:wn,disabled:_n})},[jt==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(Sn.amPmMode?wn%12||12:wn)).slice(-2))+toDisplayString(xe(wn)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+wn).slice(-2)),1)],64))],10,["onClick"]))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),Sn.arrowControl?(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(de),jt=>(openBlock(),createElementBlock("div",{key:jt,class:normalizeClass([unref(L).be("spinner","wrapper"),unref(L).is("arrow")]),onMouseenter:_n=>Ie(jt)},[withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-up",unref(L).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_up_default))]),_:1},8,["class"])),[[unref(vRepeatClick),Et]]),withDirectives((openBlock(),createBlock(unref(ElIcon),{class:normalizeClass(["arrow-down",unref(L).be("spinner","arrow")])},{default:withCtx(()=>[createVNode$1(unref(arrow_down_default))]),_:1},8,["class"])),[[unref(vRepeatClick),ze]]),createBaseVNode("ul",{class:normalizeClass(unref(L).be("spinner","list"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(_e)[jt],(_n,wn)=>(openBlock(),createElementBlock("li",{key:wn,class:normalizeClass([unref(L).be("spinner","item"),unref(L).is("active",_n===unref(he)[jt]),unref(L).is("disabled",unref(pe)[jt][_n])])},[unref(isNumber$1)(_n)?(openBlock(),createElementBlock(Fragment,{key:0},[jt==="hours"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(("0"+(Sn.amPmMode?_n%12||12:_n)).slice(-2))+toDisplayString(xe(_n)),1)],64)):(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(toDisplayString(("0"+_n).slice(-2)),1)],64))],64)):createCommentVNode("v-if",!0)],2))),128))],2)],42,["onMouseenter"]))),128)):createCommentVNode("v-if",!0)],2))}});var TimeSpinner=_export_sfc$1(_sfc_main$1T,[["__file","basic-time-spinner.vue"]]);const _sfc_main$1S=defineComponent({__name:"panel-time-pick",props:panelTimePickerProps,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const r=t,g=inject(PICKER_BASE_INJECTION_KEY),{arrowControl:y,disabledHours:$,disabledMinutes:L,disabledSeconds:V,defaultValue:z}=g.props,{getAvailableHours:j,getAvailableMinutes:re,getAvailableSeconds:ae}=buildAvailableTimeSlotGetter($,L,V),oe=useNamespace("time"),{t:ie,lang:le}=useLocale(),ue=ref([0,2]),de=useOldValue(r),he=computed(()=>isUndefined(r.actualVisible)?`${oe.namespace.value}-zoom-in-top`:""),pe=computed(()=>r.format.includes("ss")),_e=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ce=Pt=>{const At=dayjs(Pt).locale(le.value),vn=Dt(At);return At.isSame(vn)},xe=()=>{n("pick",de.value,!1)},Ie=(Pt=!1,At=!1)=>{At||n("pick",r.parsedValue,Pt)},$e=Pt=>{if(!r.visible)return;const At=Dt(Pt).millisecond(0);n("pick",At,!0)},Oe=(Pt,At)=>{n("select-range",Pt,At),ue.value=[Pt,At]},Ne=Pt=>{const At=[0,3].concat(pe.value?[6]:[]),vn=["hours","minutes"].concat(pe.value?["seconds"]:[]),Sn=(At.indexOf(ue.value[0])+Pt+At.length)%At.length;Ve.start_emitSelectRange(vn[Sn])},Fe=Pt=>{const At=Pt.code,{left:vn,right:En,up:Sn,down:kt}=EVENT_CODE;if([vn,En].includes(At)){Ne(At===vn?-1:1),Pt.preventDefault();return}if([Sn,kt].includes(At)){const jt=At===Sn?-1:1;Ve.start_scrollDown(jt),Pt.preventDefault();return}},{timePickerOptions:Ve,onSetOption:ze,getAvailableTime:Et}=useTimePanel({getAvailableHours:j,getAvailableMinutes:re,getAvailableSeconds:ae}),Dt=Pt=>Et(Pt,r.datetimeRole||"",!0),Ue=Pt=>Pt?dayjs(Pt,r.format).locale(le.value):null,qe=Pt=>Pt?Pt.format(r.format):null,Lt=()=>dayjs(z).locale(le.value);return n("set-picker-option",["isValidValue",Ce]),n("set-picker-option",["formatToString",qe]),n("set-picker-option",["parseUserInput",Ue]),n("set-picker-option",["handleKeydownInput",Fe]),n("set-picker-option",["getRangeAvailableTime",Dt]),n("set-picker-option",["getDefaultValue",Lt]),(Pt,At)=>(openBlock(),createBlock(Transition,{name:unref(he)},{default:withCtx(()=>[Pt.actualVisible||Pt.visible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(oe).b("panel"))},[createBaseVNode("div",{class:normalizeClass([unref(oe).be("panel","content"),{"has-seconds":unref(pe)}])},[createVNode$1(TimeSpinner,{ref:"spinner",role:Pt.datetimeRole||"start","arrow-control":unref(y),"show-seconds":unref(pe),"am-pm-mode":unref(_e),"spinner-date":Pt.parsedValue,"disabled-hours":unref($),"disabled-minutes":unref(L),"disabled-seconds":unref(V),onChange:$e,onSetOption:unref(ze),onSelectRange:Oe},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),createBaseVNode("div",{class:normalizeClass(unref(oe).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"cancel"]),onClick:xe},toDisplayString(unref(ie)("el.datepicker.cancel")),3),createBaseVNode("button",{type:"button",class:normalizeClass([unref(oe).be("panel","btn"),"confirm"]),onClick:vn=>Ie()},toDisplayString(unref(ie)("el.datepicker.confirm")),11,["onClick"])],2)],2)):createCommentVNode("v-if",!0)]),_:1},8,["name"]))}});var TimePickPanel=_export_sfc$1(_sfc_main$1S,[["__file","panel-time-pick.vue"]]);const panelTimeRangeProps=buildProps({...timePanelSharedProps,parsedValue:{type:definePropType(Array)}}),_sfc_main$1R=defineComponent({__name:"panel-time-range",props:panelTimeRangeProps,emits:["pick","select-range","set-picker-option"],setup(t,{emit:n}){const r=t,g=(Mn,bn)=>{const Pn=[];for(let Rn=Mn;Rn<=bn;Rn++)Pn.push(Rn);return Pn},{t:y,lang:$}=useLocale(),L=useNamespace("time"),V=useNamespace("picker"),z=inject(PICKER_BASE_INJECTION_KEY),{arrowControl:j,disabledHours:re,disabledMinutes:ae,disabledSeconds:oe,defaultValue:ie}=z.props,le=computed(()=>[L.be("range-picker","body"),L.be("panel","content"),L.is("arrow",j),Ce.value?"has-seconds":""]),ue=computed(()=>[L.be("range-picker","body"),L.be("panel","content"),L.is("arrow",j),Ce.value?"has-seconds":""]),de=computed(()=>r.parsedValue[0]),he=computed(()=>r.parsedValue[1]),pe=useOldValue(r),_e=()=>{n("pick",pe.value,!1)},Ce=computed(()=>r.format.includes("ss")),xe=computed(()=>r.format.includes("A")?"A":r.format.includes("a")?"a":""),Ie=(Mn=!1)=>{n("pick",[de.value,he.value],Mn)},$e=Mn=>{Fe(Mn.millisecond(0),he.value)},Oe=Mn=>{Fe(de.value,Mn.millisecond(0))},Ne=Mn=>{const bn=Mn.map(Rn=>dayjs(Rn).locale($.value)),Pn=En(bn);return bn[0].isSame(Pn[0])&&bn[1].isSame(Pn[1])},Fe=(Mn,bn)=>{r.visible&&n("pick",[Mn,bn],!0)},Ve=computed(()=>de.value>he.value),ze=ref([0,2]),Et=(Mn,bn)=>{n("select-range",Mn,bn,"min"),ze.value=[Mn,bn]},Dt=computed(()=>Ce.value?11:8),Ue=(Mn,bn)=>{n("select-range",Mn,bn,"max");const Pn=unref(Dt);ze.value=[Mn+Pn,bn+Pn]},qe=Mn=>{const bn=Ce.value?[0,3,6,11,14,17]:[0,3,8,11],Pn=["hours","minutes"].concat(Ce.value?["seconds"]:[]),Fn=(bn.indexOf(ze.value[0])+Mn+bn.length)%bn.length,Dn=bn.length/2;Fn<Dn?_n.start_emitSelectRange(Pn[Fn]):_n.end_emitSelectRange(Pn[Fn-Dn])},Lt=Mn=>{const bn=Mn.code,{left:Pn,right:Rn,up:Fn,down:Dn}=EVENT_CODE;if([Pn,Rn].includes(bn)){qe(bn===Pn?-1:1),Mn.preventDefault();return}if([Fn,Dn].includes(bn)){const Ln=bn===Fn?-1:1,kn=ze.value[0]<Dt.value?"start":"end";_n[`${kn}_scrollDown`](Ln),Mn.preventDefault();return}},Pt=(Mn,bn)=>{const Pn=re?re(Mn):[],Rn=Mn==="start",Dn=(bn||(Rn?he.value:de.value)).hour(),Ln=Rn?g(Dn+1,23):g(0,Dn-1);return union(Pn,Ln)},At=(Mn,bn,Pn)=>{const Rn=ae?ae(Mn,bn):[],Fn=bn==="start",Dn=Pn||(Fn?he.value:de.value),Ln=Dn.hour();if(Mn!==Ln)return Rn;const kn=Dn.minute(),In=Fn?g(kn+1,59):g(0,kn-1);return union(Rn,In)},vn=(Mn,bn,Pn,Rn)=>{const Fn=oe?oe(Mn,bn,Pn):[],Dn=Pn==="start",Ln=Rn||(Dn?he.value:de.value),kn=Ln.hour(),In=Ln.minute();if(Mn!==kn||bn!==In)return Fn;const Vn=Ln.second(),zn=Dn?g(Vn+1,59):g(0,Vn-1);return union(Fn,zn)},En=([Mn,bn])=>[wn(Mn,"start",!0,bn),wn(bn,"end",!1,Mn)],{getAvailableHours:Sn,getAvailableMinutes:kt,getAvailableSeconds:jt}=buildAvailableTimeSlotGetter(Pt,At,vn),{timePickerOptions:_n,getAvailableTime:wn,onSetOption:hn}=useTimePanel({getAvailableHours:Sn,getAvailableMinutes:kt,getAvailableSeconds:jt}),Cn=Mn=>Mn?isArray$4(Mn)?Mn.map(bn=>dayjs(bn,r.format).locale($.value)):dayjs(Mn,r.format).locale($.value):null,Tn=Mn=>Mn?isArray$4(Mn)?Mn.map(bn=>bn.format(r.format)):Mn.format(r.format):null,xn=()=>{if(isArray$4(ie))return ie.map(bn=>dayjs(bn).locale($.value));const Mn=dayjs(ie).locale($.value);return[Mn,Mn.add(60,"m")]};return n("set-picker-option",["formatToString",Tn]),n("set-picker-option",["parseUserInput",Cn]),n("set-picker-option",["isValidValue",Ne]),n("set-picker-option",["handleKeydownInput",Lt]),n("set-picker-option",["getDefaultValue",xn]),n("set-picker-option",["getRangeAvailableTime",En]),(Mn,bn)=>Mn.actualVisible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(L).b("range-picker"),unref(V).b("panel")])},[createBaseVNode("div",{class:normalizeClass(unref(L).be("range-picker","content"))},[createBaseVNode("div",{class:normalizeClass(unref(L).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(L).be("range-picker","header"))},toDisplayString(unref(y)("el.datepicker.startTime")),3),createBaseVNode("div",{class:normalizeClass(unref(le))},[createVNode$1(TimeSpinner,{ref:"minSpinner",role:"start","show-seconds":unref(Ce),"am-pm-mode":unref(xe),"arrow-control":unref(j),"spinner-date":unref(de),"disabled-hours":Pt,"disabled-minutes":At,"disabled-seconds":vn,onChange:$e,onSetOption:unref(hn),onSelectRange:Et},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),createBaseVNode("div",{class:normalizeClass(unref(L).be("range-picker","cell"))},[createBaseVNode("div",{class:normalizeClass(unref(L).be("range-picker","header"))},toDisplayString(unref(y)("el.datepicker.endTime")),3),createBaseVNode("div",{class:normalizeClass(unref(ue))},[createVNode$1(TimeSpinner,{ref:"maxSpinner",role:"end","show-seconds":unref(Ce),"am-pm-mode":unref(xe),"arrow-control":unref(j),"spinner-date":unref(he),"disabled-hours":Pt,"disabled-minutes":At,"disabled-seconds":vn,onChange:Oe,onSetOption:unref(hn),onSelectRange:Ue},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),createBaseVNode("div",{class:normalizeClass(unref(L).be("panel","footer"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(L).be("panel","btn"),"cancel"]),onClick:Pn=>_e()},toDisplayString(unref(y)("el.datepicker.cancel")),11,["onClick"]),createBaseVNode("button",{type:"button",class:normalizeClass([unref(L).be("panel","btn"),"confirm"]),disabled:unref(Ve),onClick:Pn=>Ie()},toDisplayString(unref(y)("el.datepicker.confirm")),11,["disabled","onClick"])],2)],2)):createCommentVNode("v-if",!0)}});var TimeRangePanel=_export_sfc$1(_sfc_main$1R,[["__file","panel-time-range.vue"]]);dayjs.extend(customParseFormat);var TimePicker=defineComponent({name:"ElTimePicker",install:null,props:{...timePickerDefaultProps,isRange:{type:Boolean,default:!1}},emits:[UPDATE_MODEL_EVENT],setup(t,n){const r=ref(),[g,y]=t.isRange?["timerange",TimeRangePanel]:["time",TimePickPanel],$=L=>n.emit(UPDATE_MODEL_EVENT,L);return provide(PICKER_POPPER_OPTIONS_INJECTION_KEY,t.popperOptions),n.expose({focus:()=>{var L;(L=r.value)==null||L.focus()},blur:()=>{var L;(L=r.value)==null||L.blur()},handleOpen:()=>{var L;(L=r.value)==null||L.handleOpen()},handleClose:()=>{var L;(L=r.value)==null||L.handleClose()}}),()=>{var L;const V=(L=t.format)!=null?L:DEFAULT_FORMATS_TIME;return createVNode$1(CommonPicker,mergeProps(t,{ref:r,type:g,format:V,"onUpdate:modelValue":$}),{default:z=>createVNode$1(y,z,null)})}}});const ElTimePicker=withInstall(TimePicker),ROOT_PICKER_INJECTION_KEY=Symbol(),ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY="ElIsDefaultFormat",datePickerProps=buildProps({...timePickerDefaultProps,type:{type:definePropType(String),default:"date"}}),selectionModes=["date","dates","year","years","month","months","week","range"],datePickerSharedProps=buildProps({disabledDate:{type:definePropType(Function)},date:{type:definePropType(Object),required:!0},minDate:{type:definePropType(Object)},maxDate:{type:definePropType(Object)},parsedValue:{type:definePropType([Object,Array])},rangeState:{type:definePropType(Object),default:()=>({endDate:null,selecting:!1})}}),panelSharedProps=buildProps({type:{type:definePropType(String),required:!0,values:datePickTypes},dateFormat:String,timeFormat:String,showNow:{type:Boolean,default:!0}}),panelRangeSharedProps=buildProps({unlinkPanels:Boolean,visible:Boolean,parsedValue:{type:definePropType(Array)}}),selectionModeWithDefault=t=>({type:String,values:selectionModes,default:t}),panelDatePickProps=buildProps({...panelSharedProps,parsedValue:{type:definePropType([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),isValidRange=t=>{if(!isArray$4(t))return!1;const[n,r]=t;return dayjs.isDayjs(n)&&dayjs.isDayjs(r)&&dayjs(n).isValid()&&dayjs(r).isValid()&&n.isSameOrBefore(r)},getDefaultValue=(t,{lang:n,step:r=1,unit:g,unlinkPanels:y})=>{let $;if(isArray$4(t)){let[L,V]=t.map(z=>dayjs(z).locale(n));return y||(V=L.add(r,g)),[L,V]}else t?$=dayjs(t):$=dayjs();return $=$.locale(n),[$,$.add(r,g)]},buildPickerTable=(t,n,{columnIndexOffset:r,startDate:g,nextEndDate:y,now:$,unit:L,relativeDateGetter:V,setCellMetadata:z,setRowMetadata:j})=>{for(let re=0;re<t.row;re++){const ae=n[re];for(let oe=0;oe<t.column;oe++){let ie=ae[oe+r];ie||(ie={row:re,column:oe,type:"normal",inRange:!1,start:!1,end:!1});const le=re*t.column+oe,ue=V(le);ie.dayjs=ue,ie.date=ue.toDate(),ie.timestamp=ue.valueOf(),ie.type="normal",ie.inRange=!!(g&&ue.isSameOrAfter(g,L)&&y&&ue.isSameOrBefore(y,L))||!!(g&&ue.isSameOrBefore(g,L)&&y&&ue.isSameOrAfter(y,L)),g!=null&&g.isSameOrAfter(y)?(ie.start=!!y&&ue.isSame(y,L),ie.end=g&&ue.isSame(g,L)):(ie.start=!!g&&ue.isSame(g,L),ie.end=!!y&&ue.isSame(y,L)),ue.isSame($,L)&&(ie.type="today"),z==null||z(ie,{rowIndex:re,columnIndex:oe}),ae[oe+r]=ie}j==null||j(ae)}},datesInMonth=(t,n,r,g)=>{const y=dayjs().locale(g).startOf("month").month(r).year(n).hour(t.hour()).minute(t.minute()).second(t.second()),$=y.daysInMonth();return rangeArr($).map(L=>y.add(L,"day").toDate())},getValidDateOfMonth=(t,n,r,g,y)=>{const $=dayjs().year(n).month(r).startOf("month").hour(t.hour()).minute(t.minute()).second(t.second()),L=datesInMonth(t,n,r,g).find(V=>!(y!=null&&y(V)));return L?dayjs(L).locale(g):$.locale(g)},getValidDateOfYear=(t,n,r)=>{const g=t.year();if(!(r!=null&&r(t.toDate())))return t.locale(n);const y=t.month();if(!datesInMonth(t,g,y,n).every(r))return getValidDateOfMonth(t,g,y,n,r);for(let $=0;$<12;$++)if(!datesInMonth(t,g,$,n).every(r))return getValidDateOfMonth(t,g,$,n,r);return t},correctlyParseUserInput=(t,n,r,g)=>{if(isArray$4(t))return t.map(y=>correctlyParseUserInput(y,n,r,g));if(isString$2(t)){const y=g.value?dayjs(t):dayjs(t,n);if(!y.isValid())return y}return dayjs(t,n).locale(r)},basicDateTableProps=buildProps({...datePickerSharedProps,cellClassName:{type:definePropType(Function)},showWeekNumber:Boolean,selectionMode:selectionModeWithDefault("date")}),basicDateTableEmits=["changerange","pick","select"],isNormalDay=(t="")=>["normal","today"].includes(t),useBasicDateTable=(t,n)=>{const{lang:r}=useLocale(),g=ref(),y=ref(),$=ref(),L=ref(),V=ref([[],[],[],[],[],[]]);let z=!1;const j=t.date.$locale().weekStart||7,re=t.date.locale("en").localeData().weekdaysShort().map(At=>At.toLowerCase()),ae=computed(()=>j>3?7-j:-j),oe=computed(()=>{const At=t.date.startOf("month");return At.subtract(At.day()||7,"day")}),ie=computed(()=>re.concat(re).slice(j,j+7)),le=computed(()=>flatten(unref(Ce)).some(At=>At.isCurrent)),ue=computed(()=>{const At=t.date.startOf("month"),vn=At.day()||7,En=At.daysInMonth(),Sn=At.subtract(1,"month").daysInMonth();return{startOfMonthDay:vn,dateCountOfMonth:En,dateCountOfLastMonth:Sn}}),de=computed(()=>t.selectionMode==="dates"?castArray(t.parsedValue):[]),he=(At,{count:vn,rowIndex:En,columnIndex:Sn})=>{const{startOfMonthDay:kt,dateCountOfMonth:jt,dateCountOfLastMonth:_n}=unref(ue),wn=unref(ae);if(En>=0&&En<=1){const hn=kt+wn<0?7+kt+wn:kt+wn;if(Sn+En*7>=hn)return At.text=vn,!0;At.text=_n-(hn-Sn%7)+1+En*7,At.type="prev-month"}else return vn<=jt?At.text=vn:(At.text=vn-jt,At.type="next-month"),!0;return!1},pe=(At,{columnIndex:vn,rowIndex:En},Sn)=>{const{disabledDate:kt,cellClassName:jt}=t,_n=unref(de),wn=he(At,{count:Sn,rowIndex:En,columnIndex:vn}),hn=At.dayjs.toDate();return At.selected=_n.find(Cn=>Cn.isSame(At.dayjs,"day")),At.isSelected=!!At.selected,At.isCurrent=Ie(At),At.disabled=kt==null?void 0:kt(hn),At.customClass=jt==null?void 0:jt(hn),wn},_e=At=>{if(t.selectionMode==="week"){const[vn,En]=t.showWeekNumber?[1,7]:[0,6],Sn=Pt(At[vn+1]);At[vn].inRange=Sn,At[vn].start=Sn,At[En].inRange=Sn,At[En].end=Sn}},Ce=computed(()=>{const{minDate:At,maxDate:vn,rangeState:En,showWeekNumber:Sn}=t,kt=unref(ae),jt=unref(V),_n="day";let wn=1;if(Sn)for(let hn=0;hn<6;hn++)jt[hn][0]||(jt[hn][0]={type:"week",text:unref(oe).add(hn*7+1,_n).week()});return buildPickerTable({row:6,column:7},jt,{startDate:At,columnIndexOffset:Sn?1:0,nextEndDate:En.endDate||vn||En.selecting&&At||null,now:dayjs().locale(unref(r)).startOf(_n),unit:_n,relativeDateGetter:hn=>unref(oe).add(hn-kt,_n),setCellMetadata:(...hn)=>{pe(...hn,wn)&&(wn+=1)},setRowMetadata:_e}),jt});watch(()=>t.date,async()=>{var At;(At=unref(g))!=null&&At.contains(document.activeElement)&&(await nextTick(),await xe())});const xe=async()=>{var At;return(At=unref(y))==null?void 0:At.focus()},Ie=At=>t.selectionMode==="date"&&isNormalDay(At.type)&&$e(At,t.parsedValue),$e=(At,vn)=>vn?dayjs(vn).locale(unref(r)).isSame(t.date.date(Number(At.text)),"day"):!1,Oe=(At,vn)=>{const En=At*7+(vn-(t.showWeekNumber?1:0))-unref(ae);return unref(oe).add(En,"day")},Ne=At=>{var vn;if(!t.rangeState.selecting)return;let En=At.target;if(En.tagName==="SPAN"&&(En=(vn=En.parentNode)==null?void 0:vn.parentNode),En.tagName==="DIV"&&(En=En.parentNode),En.tagName!=="TD")return;const Sn=En.parentNode.rowIndex-1,kt=En.cellIndex;unref(Ce)[Sn][kt].disabled||(Sn!==unref($)||kt!==unref(L))&&($.value=Sn,L.value=kt,n("changerange",{selecting:!0,endDate:Oe(Sn,kt)}))},Fe=At=>!unref(le)&&(At==null?void 0:At.text)===1&&At.type==="normal"||At.isCurrent,Ve=At=>{z||unref(le)||t.selectionMode!=="date"||Lt(At,!0)},ze=At=>{At.target.closest("td")&&(z=!0)},Et=At=>{At.target.closest("td")&&(z=!1)},Dt=At=>{!t.rangeState.selecting||!t.minDate?(n("pick",{minDate:At,maxDate:null}),n("select",!0)):(At>=t.minDate?n("pick",{minDate:t.minDate,maxDate:At}):n("pick",{minDate:At,maxDate:t.minDate}),n("select",!1))},Ue=At=>{const vn=At.week(),En=`${At.year()}w${vn}`;n("pick",{year:At.year(),week:vn,value:En,date:At.startOf("week")})},qe=(At,vn)=>{const En=vn?castArray(t.parsedValue).filter(Sn=>(Sn==null?void 0:Sn.valueOf())!==At.valueOf()):castArray(t.parsedValue).concat([At]);n("pick",En)},Lt=(At,vn=!1)=>{const En=At.target.closest("td");if(!En)return;const Sn=En.parentNode.rowIndex-1,kt=En.cellIndex,jt=unref(Ce)[Sn][kt];if(jt.disabled||jt.type==="week")return;const _n=Oe(Sn,kt);switch(t.selectionMode){case"range":{Dt(_n);break}case"date":{n("pick",_n,vn);break}case"week":{Ue(_n);break}case"dates":{qe(_n,!!jt.selected);break}}},Pt=At=>{if(t.selectionMode!=="week")return!1;let vn=t.date.startOf("day");if(At.type==="prev-month"&&(vn=vn.subtract(1,"month")),At.type==="next-month"&&(vn=vn.add(1,"month")),vn=vn.date(Number.parseInt(At.text,10)),t.parsedValue&&!isArray$4(t.parsedValue)){const En=(t.parsedValue.day()-j+7)%7-1;return t.parsedValue.subtract(En,"day").isSame(vn,"day")}return!1};return{WEEKS:ie,rows:Ce,tbodyRef:g,currentCellRef:y,focus:xe,isCurrent:Ie,isWeekActive:Pt,isSelectedCell:Fe,handlePickDate:Lt,handleMouseUp:Et,handleMouseDown:ze,handleMouseMove:Ne,handleFocus:Ve}},useBasicDateTableDOM=(t,{isCurrent:n,isWeekActive:r})=>{const g=useNamespace("date-table"),{t:y}=useLocale(),$=computed(()=>[g.b(),{"is-week-mode":t.selectionMode==="week"}]),L=computed(()=>y("el.datepicker.dateTablePrompt")),V=computed(()=>y("el.datepicker.week"));return{tableKls:$,tableLabel:L,weekLabel:V,getCellClasses:re=>{const ae=[];return isNormalDay(re.type)&&!re.disabled?(ae.push("available"),re.type==="today"&&ae.push("today")):ae.push(re.type),n(re)&&ae.push("current"),re.inRange&&(isNormalDay(re.type)||t.selectionMode==="week")&&(ae.push("in-range"),re.start&&ae.push("start-date"),re.end&&ae.push("end-date")),re.disabled&&ae.push("disabled"),re.selected&&ae.push("selected"),re.customClass&&ae.push(re.customClass),ae.join(" ")},getRowKls:re=>[g.e("row"),{current:r(re)}],t:y}},basicCellProps=buildProps({cell:{type:definePropType(Object)}});var ElDatePickerCell=defineComponent({name:"ElDatePickerCell",props:basicCellProps,setup(t){const n=useNamespace("date-table-cell"),{slots:r}=inject(ROOT_PICKER_INJECTION_KEY);return()=>{const{cell:g}=t;return renderSlot(r,"default",{...g},()=>{var y;return[createVNode$1("div",{class:n.b()},[createVNode$1("span",{class:n.e("text")},[(y=g==null?void 0:g.renderText)!=null?y:g==null?void 0:g.text])])]})}}});const _sfc_main$1Q=defineComponent({__name:"basic-date-table",props:basicDateTableProps,emits:basicDateTableEmits,setup(t,{expose:n,emit:r}){const g=t,{WEEKS:y,rows:$,tbodyRef:L,currentCellRef:V,focus:z,isCurrent:j,isWeekActive:re,isSelectedCell:ae,handlePickDate:oe,handleMouseUp:ie,handleMouseDown:le,handleMouseMove:ue,handleFocus:de}=useBasicDateTable(g,r),{tableLabel:he,tableKls:pe,weekLabel:_e,getCellClasses:Ce,getRowKls:xe,t:Ie}=useBasicDateTableDOM(g,{isCurrent:j,isWeekActive:re});let $e=!1;return onBeforeUnmount(()=>{$e=!0}),n({focus:z}),(Oe,Ne)=>(openBlock(),createElementBlock("table",{"aria-label":unref(he),class:normalizeClass(unref(pe)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:unref(oe),onMousemove:unref(ue),onMousedown:withModifiers(unref(le),["prevent"]),onMouseup:unref(ie)},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:L},[createBaseVNode("tr",null,[Oe.showWeekNumber?(openBlock(),createElementBlock("th",{key:0,scope:"col"},toDisplayString(unref(_e)),1)):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(y),(Fe,Ve)=>(openBlock(),createElementBlock("th",{key:Ve,"aria-label":unref(Ie)("el.datepicker.weeksFull."+Fe),scope:"col"},toDisplayString(unref(Ie)("el.datepicker.weeks."+Fe)),9,["aria-label"]))),128))]),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref($),(Fe,Ve)=>(openBlock(),createElementBlock("tr",{key:Ve,class:normalizeClass(unref(xe)(Fe[1]))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe,(ze,Et)=>(openBlock(),createElementBlock("td",{key:`${Ve}.${Et}`,ref_for:!0,ref:Dt=>!unref($e)&&unref(ae)(ze)&&(V.value=Dt),class:normalizeClass(unref(Ce)(ze)),"aria-current":ze.isCurrent?"date":void 0,"aria-selected":ze.isCurrent,tabindex:unref(ae)(ze)?0:-1,onFocus:unref(de)},[createVNode$1(unref(ElDatePickerCell),{cell:ze},null,8,["cell"])],42,["aria-current","aria-selected","tabindex","onFocus"]))),128))],2))),128))],512)],42,["aria-label","onClick","onMousemove","onMousedown","onMouseup"]))}});var DateTable=_export_sfc$1(_sfc_main$1Q,[["__file","basic-date-table.vue"]]);const basicMonthTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("month")}),_sfc_main$1P=defineComponent({__name:"basic-month-table",props:basicMonthTableProps,emits:["changerange","pick","select"],setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("month-table"),{t:$,lang:L}=useLocale(),V=ref(),z=ref(),j=ref(g.date.locale("en").localeData().monthsShort().map(_e=>_e.toLowerCase())),re=ref([[],[],[]]),ae=ref(),oe=ref(),ie=computed(()=>{var _e,Ce;const xe=re.value,Ie=dayjs().locale(L.value).startOf("month");for(let $e=0;$e<3;$e++){const Oe=xe[$e];for(let Ne=0;Ne<4;Ne++){const Fe=Oe[Ne]||(Oe[Ne]={row:$e,column:Ne,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Fe.type="normal";const Ve=$e*4+Ne,ze=g.date.startOf("year").month(Ve),Et=g.rangeState.endDate||g.maxDate||g.rangeState.selecting&&g.minDate||null;Fe.inRange=!!(g.minDate&&ze.isSameOrAfter(g.minDate,"month")&&Et&&ze.isSameOrBefore(Et,"month"))||!!(g.minDate&&ze.isSameOrBefore(g.minDate,"month")&&Et&&ze.isSameOrAfter(Et,"month")),(_e=g.minDate)!=null&&_e.isSameOrAfter(Et)?(Fe.start=!!(Et&&ze.isSame(Et,"month")),Fe.end=g.minDate&&ze.isSame(g.minDate,"month")):(Fe.start=!!(g.minDate&&ze.isSame(g.minDate,"month")),Fe.end=!!(Et&&ze.isSame(Et,"month"))),Ie.isSame(ze)&&(Fe.type="today"),Fe.text=Ve,Fe.disabled=((Ce=g.disabledDate)==null?void 0:Ce.call(g,ze.toDate()))||!1}}return xe}),le=()=>{var _e;(_e=z.value)==null||_e.focus()},ue=_e=>{const Ce={},xe=g.date.year(),Ie=new Date,$e=_e.text;return Ce.disabled=g.disabledDate?datesInMonth(g.date,xe,$e,L.value).every(g.disabledDate):!1,Ce.current=castArray(g.parsedValue).findIndex(Oe=>dayjs.isDayjs(Oe)&&Oe.year()===xe&&Oe.month()===$e)>=0,Ce.today=Ie.getFullYear()===xe&&Ie.getMonth()===$e,_e.inRange&&(Ce["in-range"]=!0,_e.start&&(Ce["start-date"]=!0),_e.end&&(Ce["end-date"]=!0)),Ce},de=_e=>{const Ce=g.date.year(),xe=_e.text;return castArray(g.date).findIndex(Ie=>Ie.year()===Ce&&Ie.month()===xe)>=0},he=_e=>{var Ce;if(!g.rangeState.selecting)return;let xe=_e.target;if(xe.tagName==="SPAN"&&(xe=(Ce=xe.parentNode)==null?void 0:Ce.parentNode),xe.tagName==="DIV"&&(xe=xe.parentNode),xe.tagName!=="TD")return;const Ie=xe.parentNode.rowIndex,$e=xe.cellIndex;ie.value[Ie][$e].disabled||(Ie!==ae.value||$e!==oe.value)&&(ae.value=Ie,oe.value=$e,r("changerange",{selecting:!0,endDate:g.date.startOf("year").month(Ie*4+$e)}))},pe=_e=>{var Ce;const xe=(Ce=_e.target)==null?void 0:Ce.closest("td");if((xe==null?void 0:xe.tagName)!=="TD"||hasClass(xe,"disabled"))return;const Ie=xe.cellIndex,Oe=xe.parentNode.rowIndex*4+Ie,Ne=g.date.startOf("year").month(Oe);if(g.selectionMode==="months"){if(_e.type==="keydown"){r("pick",castArray(g.parsedValue),!1);return}const Fe=getValidDateOfMonth(g.date,g.date.year(),Oe,L.value,g.disabledDate),Ve=hasClass(xe,"current")?castArray(g.parsedValue).filter(ze=>(ze==null?void 0:ze.year())!==Fe.year()||(ze==null?void 0:ze.month())!==Fe.month()):castArray(g.parsedValue).concat([dayjs(Fe)]);r("pick",Ve)}else g.selectionMode==="range"?g.rangeState.selecting?(g.minDate&&Ne>=g.minDate?r("pick",{minDate:g.minDate,maxDate:Ne}):r("pick",{minDate:Ne,maxDate:g.minDate}),r("select",!1)):(r("pick",{minDate:Ne,maxDate:null}),r("select",!0)):r("pick",Oe)};return watch(()=>g.date,async()=>{var _e,Ce;(_e=V.value)!=null&&_e.contains(document.activeElement)&&(await nextTick(),(Ce=z.value)==null||Ce.focus())}),n({focus:le}),(_e,Ce)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref($)("el.datepicker.monthTablePrompt"),class:normalizeClass(unref(y).b()),onClick:pe,onMousemove:he},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:V},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ie),(xe,Ie)=>(openBlock(),createElementBlock("tr",{key:Ie},[(openBlock(!0),createElementBlock(Fragment,null,renderList(xe,($e,Oe)=>(openBlock(),createElementBlock("td",{key:Oe,ref_for:!0,ref:Ne=>de($e)&&(z.value=Ne),class:normalizeClass(ue($e)),"aria-selected":`${de($e)}`,"aria-label":unref($)(`el.datepicker.month${+$e.text+1}`),tabindex:de($e)?0:-1,onKeydown:[withKeys(withModifiers(pe,["prevent","stop"]),["space"]),withKeys(withModifiers(pe,["prevent","stop"]),["enter"])]},[createVNode$1(unref(ElDatePickerCell),{cell:{...$e,renderText:unref($)("el.datepicker.months."+j.value[$e.text])}},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var MonthTable=_export_sfc$1(_sfc_main$1P,[["__file","basic-month-table.vue"]]);const basicYearTableProps=buildProps({...datePickerSharedProps,selectionMode:selectionModeWithDefault("year")}),_sfc_main$1O=defineComponent({__name:"basic-year-table",props:basicYearTableProps,emits:["changerange","pick","select"],setup(t,{expose:n,emit:r}){const g=t,y=(Ce,xe)=>{const Ie=dayjs(String(Ce)).locale(xe).startOf("year"),Oe=Ie.endOf("year").dayOfYear();return rangeArr(Oe).map(Ne=>Ie.add(Ne,"day").toDate())},$=useNamespace("year-table"),{t:L,lang:V}=useLocale(),z=ref(),j=ref(),re=computed(()=>Math.floor(g.date.year()/10)*10),ae=ref([[],[],[]]),oe=ref(),ie=ref(),le=computed(()=>{var Ce;const xe=ae.value,Ie=dayjs().locale(V.value).startOf("year");for(let $e=0;$e<3;$e++){const Oe=xe[$e];for(let Ne=0;Ne<4&&!($e*4+Ne>=10);Ne++){let Fe=Oe[Ne];Fe||(Fe={row:$e,column:Ne,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1}),Fe.type="normal";const Ve=$e*4+Ne+re.value,ze=dayjs().year(Ve),Et=g.rangeState.endDate||g.maxDate||g.rangeState.selecting&&g.minDate||null;Fe.inRange=!!(g.minDate&&ze.isSameOrAfter(g.minDate,"year")&&Et&&ze.isSameOrBefore(Et,"year"))||!!(g.minDate&&ze.isSameOrBefore(g.minDate,"year")&&Et&&ze.isSameOrAfter(Et,"year")),(Ce=g.minDate)!=null&&Ce.isSameOrAfter(Et)?(Fe.start=!!(Et&&ze.isSame(Et,"year")),Fe.end=!!(g.minDate&&ze.isSame(g.minDate,"year"))):(Fe.start=!!(g.minDate&&ze.isSame(g.minDate,"year")),Fe.end=!!(Et&&ze.isSame(Et,"year"))),Ie.isSame(ze)&&(Fe.type="today"),Fe.text=Ve;const Ue=ze.toDate();Fe.disabled=g.disabledDate&&g.disabledDate(Ue)||!1,Oe[Ne]=Fe}}return xe}),ue=()=>{var Ce;(Ce=j.value)==null||Ce.focus()},de=Ce=>{const xe={},Ie=dayjs().locale(V.value),$e=Ce.text;return xe.disabled=g.disabledDate?y($e,V.value).every(g.disabledDate):!1,xe.today=Ie.year()===$e,xe.current=castArray(g.parsedValue).findIndex(Oe=>Oe.year()===$e)>=0,Ce.inRange&&(xe["in-range"]=!0,Ce.start&&(xe["start-date"]=!0),Ce.end&&(xe["end-date"]=!0)),xe},he=Ce=>{const xe=Ce.text;return castArray(g.date).findIndex(Ie=>Ie.year()===xe)>=0},pe=Ce=>{var xe;const Ie=(xe=Ce.target)==null?void 0:xe.closest("td");if(!Ie||!Ie.textContent||hasClass(Ie,"disabled"))return;const $e=Ie.cellIndex,Ne=Ie.parentNode.rowIndex*4+$e+re.value,Fe=dayjs().year(Ne);if(g.selectionMode==="range")g.rangeState.selecting?(g.minDate&&Fe>=g.minDate?r("pick",{minDate:g.minDate,maxDate:Fe}):r("pick",{minDate:Fe,maxDate:g.minDate}),r("select",!1)):(r("pick",{minDate:Fe,maxDate:null}),r("select",!0));else if(g.selectionMode==="years"){if(Ce.type==="keydown"){r("pick",castArray(g.parsedValue),!1);return}const Ve=getValidDateOfYear(Fe.startOf("year"),V.value,g.disabledDate),ze=hasClass(Ie,"current")?castArray(g.parsedValue).filter(Et=>(Et==null?void 0:Et.year())!==Ne):castArray(g.parsedValue).concat([Ve]);r("pick",ze)}else r("pick",Ne)},_e=Ce=>{var xe;if(!g.rangeState.selecting)return;const Ie=(xe=Ce.target)==null?void 0:xe.closest("td");if(!Ie)return;const $e=Ie.parentNode.rowIndex,Oe=Ie.cellIndex;le.value[$e][Oe].disabled||($e!==oe.value||Oe!==ie.value)&&(oe.value=$e,ie.value=Oe,r("changerange",{selecting:!0,endDate:dayjs().year(re.value).add($e*4+Oe,"year")}))};return watch(()=>g.date,async()=>{var Ce,xe;(Ce=z.value)!=null&&Ce.contains(document.activeElement)&&(await nextTick(),(xe=j.value)==null||xe.focus())}),n({focus:ue}),(Ce,xe)=>(openBlock(),createElementBlock("table",{role:"grid","aria-label":unref(L)("el.datepicker.yearTablePrompt"),class:normalizeClass(unref($).b()),onClick:pe,onMousemove:_e},[createBaseVNode("tbody",{ref_key:"tbodyRef",ref:z},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(le),(Ie,$e)=>(openBlock(),createElementBlock("tr",{key:$e},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ie,(Oe,Ne)=>(openBlock(),createElementBlock("td",{key:`${$e}_${Ne}`,ref_for:!0,ref:Fe=>he(Oe)&&(j.value=Fe),class:normalizeClass(["available",de(Oe)]),"aria-selected":he(Oe),"aria-label":String(Oe.text),tabindex:he(Oe)?0:-1,onKeydown:[withKeys(withModifiers(pe,["prevent","stop"]),["space"]),withKeys(withModifiers(pe,["prevent","stop"]),["enter"])]},[createVNode$1(unref(ElDatePickerCell),{cell:Oe},null,8,["cell"])],42,["aria-selected","aria-label","tabindex","onKeydown"]))),128))]))),128))],512)],42,["aria-label"]))}});var YearTable=_export_sfc$1(_sfc_main$1O,[["__file","basic-year-table.vue"]]);const _sfc_main$1N=defineComponent({__name:"panel-date-pick",props:panelDatePickProps,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:n}){const r=t,g=(Gn,Qn,Nn)=>!0,y=useNamespace("picker-panel"),$=useNamespace("date-picker"),L=useAttrs$1(),V=useSlots(),{t:z,lang:j}=useLocale(),re=inject(PICKER_BASE_INJECTION_KEY),ae=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY),oe=inject(TOOLTIP_INJECTION_KEY),{shortcuts:ie,disabledDate:le,cellClassName:ue,defaultTime:de}=re.props,he=toRef(re.props,"defaultValue"),pe=ref(),_e=ref(dayjs().locale(j.value)),Ce=ref(!1);let xe=!1;const Ie=computed(()=>dayjs(de).locale(j.value)),$e=computed(()=>_e.value.month()),Oe=computed(()=>_e.value.year()),Ne=ref([]),Fe=ref(null),Ve=ref(null),ze=Gn=>Ne.value.length>0?g(Gn,Ne.value,r.format||"HH:mm:ss"):!0,Et=Gn=>de&&!Dn.value&&!Ce.value&&!xe?Ie.value.year(Gn.year()).month(Gn.month()).date(Gn.date()):Cn.value?Gn.millisecond(0):Gn.startOf("day"),Dt=(Gn,...Qn)=>{if(!Gn)n("pick",Gn,...Qn);else if(isArray$4(Gn)){const Nn=Gn.map(Et);n("pick",Nn,...Qn)}else n("pick",Et(Gn),...Qn);Fe.value=null,Ve.value=null,Ce.value=!1,xe=!1},Ue=async(Gn,Qn)=>{if(En.value==="date"){Gn=Gn;let Nn=r.parsedValue?r.parsedValue.year(Gn.year()).month(Gn.month()).date(Gn.date()):Gn;ze(Nn)||(Nn=Ne.value[0][0].year(Gn.year()).month(Gn.month()).date(Gn.date())),_e.value=Nn,Dt(Nn,Cn.value||Qn),r.type==="datetime"&&(await nextTick(),vr())}else En.value==="week"?Dt(Gn.date):En.value==="dates"&&Dt(Gn,!0)},qe=Gn=>{const Qn=Gn?"add":"subtract";_e.value=_e.value[Qn](1,"month"),gr("month")},Lt=Gn=>{const Qn=_e.value,Nn=Gn?"add":"subtract";_e.value=Pt.value==="year"?Qn[Nn](10,"year"):Qn[Nn](1,"year"),gr("year")},Pt=ref("date"),At=computed(()=>{const Gn=z("el.datepicker.year");if(Pt.value==="year"){const Qn=Math.floor(Oe.value/10)*10;return Gn?`${Qn} ${Gn} - ${Qn+9} ${Gn}`:`${Qn} - ${Qn+9}`}return`${Oe.value} ${Gn}`}),vn=Gn=>{const Qn=isFunction$3(Gn.value)?Gn.value():Gn.value;if(Qn){xe=!0,Dt(dayjs(Qn).locale(j.value));return}Gn.onClick&&Gn.onClick({attrs:L,slots:V,emit:n})},En=computed(()=>{const{type:Gn}=r;return["week","month","months","year","years","dates"].includes(Gn)?Gn:"date"}),Sn=computed(()=>En.value==="dates"||En.value==="months"||En.value==="years"),kt=computed(()=>En.value==="date"?Pt.value:En.value),jt=computed(()=>!!ie.length),_n=async(Gn,Qn)=>{En.value==="month"?(_e.value=getValidDateOfMonth(_e.value,_e.value.year(),Gn,j.value,le),Dt(_e.value,!1)):En.value==="months"?Dt(Gn,Qn??!0):(_e.value=getValidDateOfMonth(_e.value,_e.value.year(),Gn,j.value,le),Pt.value="date",["month","year","date","week"].includes(En.value)&&(Dt(_e.value,!0),await nextTick(),vr())),gr("month")},wn=async(Gn,Qn)=>{if(En.value==="year"){const Nn=_e.value.startOf("year").year(Gn);_e.value=getValidDateOfYear(Nn,j.value,le),Dt(_e.value,!1)}else if(En.value==="years")Dt(Gn,Qn??!0);else{const Nn=_e.value.year(Gn);_e.value=getValidDateOfYear(Nn,j.value,le),Pt.value="month",["month","year","date","week"].includes(En.value)&&(Dt(_e.value,!0),await nextTick(),vr())}gr("year")},hn=async Gn=>{Pt.value=Gn,await nextTick(),vr()},Cn=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Tn=computed(()=>{const Gn=Cn.value||En.value==="dates",Qn=En.value==="years",Nn=En.value==="months",Hn=Pt.value==="date",Yn=Pt.value==="year",pr=Pt.value==="month";return Gn&&Hn||Qn&&Yn||Nn&&pr}),xn=computed(()=>le?r.parsedValue?isArray$4(r.parsedValue)?le(r.parsedValue[0].toDate()):le(r.parsedValue.toDate()):!0:!1),Mn=()=>{if(Sn.value)Dt(r.parsedValue);else{let Gn=r.parsedValue;if(!Gn){const Qn=dayjs(de).locale(j.value),Nn=mr();Gn=Qn.year(Nn.year()).month(Nn.month()).date(Nn.date())}_e.value=Gn,Dt(Gn)}},bn=computed(()=>le?le(dayjs().locale(j.value).toDate()):!1),Pn=()=>{const Qn=dayjs().locale(j.value).toDate();Ce.value=!0,(!le||!le(Qn))&&ze(Qn)&&(_e.value=dayjs().locale(j.value),Dt(_e.value))},Rn=computed(()=>r.timeFormat||extractTimeFormat(r.format)),Fn=computed(()=>r.dateFormat||extractDateFormat(r.format)),Dn=computed(()=>{if(Ve.value)return Ve.value;if(!(!r.parsedValue&&!he.value))return(r.parsedValue||_e.value).format(Rn.value)}),Ln=computed(()=>{if(Fe.value)return Fe.value;if(!(!r.parsedValue&&!he.value))return(r.parsedValue||_e.value).format(Fn.value)}),kn=ref(!1),In=()=>{kn.value=!0},Vn=()=>{kn.value=!1},zn=Gn=>({hour:Gn.hour(),minute:Gn.minute(),second:Gn.second(),year:Gn.year(),month:Gn.month(),date:Gn.date()}),Kn=(Gn,Qn,Nn)=>{const{hour:Hn,minute:Yn,second:pr}=zn(Gn),Cr=r.parsedValue?r.parsedValue.hour(Hn).minute(Yn).second(pr):Gn;_e.value=Cr,Dt(_e.value,!0),Nn||(kn.value=Qn)},jn=Gn=>{const Qn=dayjs(Gn,Rn.value).locale(j.value);if(Qn.isValid()&&ze(Qn)){const{year:Nn,month:Hn,date:Yn}=zn(_e.value);_e.value=Qn.year(Nn).month(Hn).date(Yn),Ve.value=null,kn.value=!1,Dt(_e.value,!0)}},Wn=Gn=>{const Qn=correctlyParseUserInput(Gn,Fn.value,j.value,ae);if(Qn.isValid()){if(le&&le(Qn.toDate()))return;const{hour:Nn,minute:Hn,second:Yn}=zn(_e.value);_e.value=Qn.hour(Nn).minute(Hn).second(Yn),Fe.value=null,Dt(_e.value,!0)}},Un=Gn=>dayjs.isDayjs(Gn)&&Gn.isValid()&&(le?!le(Gn.toDate()):!0),nr=Gn=>isArray$4(Gn)?Gn.map(Qn=>Qn.format(r.format)):Gn.format(r.format),sr=Gn=>correctlyParseUserInput(Gn,r.format,j.value,ae),mr=()=>{const Gn=dayjs(he.value).locale(j.value);if(!he.value){const Qn=Ie.value;return dayjs().hour(Qn.hour()).minute(Qn.minute()).second(Qn.second()).locale(j.value)}return Gn},vr=()=>{var Gn;["week","month","year","date"].includes(En.value)&&((Gn=pe.value)==null||Gn.focus())},Sr=()=>{vr(),En.value==="week"&&ir(EVENT_CODE.down)},yr=Gn=>{const{code:Qn}=Gn;[EVENT_CODE.up,EVENT_CODE.down,EVENT_CODE.left,EVENT_CODE.right,EVENT_CODE.home,EVENT_CODE.end,EVENT_CODE.pageUp,EVENT_CODE.pageDown].includes(Qn)&&(ir(Qn),Gn.stopPropagation(),Gn.preventDefault()),[EVENT_CODE.enter,EVENT_CODE.space,EVENT_CODE.numpadEnter].includes(Qn)&&Fe.value===null&&Ve.value===null&&(Gn.preventDefault(),Dt(_e.value,!1))},ir=Gn=>{var Qn;const{up:Nn,down:Hn,left:Yn,right:pr,home:Cr,end:$n,pageUp:Xn,pageDown:lr}=EVENT_CODE,fr={year:{[Nn]:-4,[Hn]:4,[Yn]:-1,[pr]:1,offset:(er,Bn)=>er.setFullYear(er.getFullYear()+Bn)},month:{[Nn]:-4,[Hn]:4,[Yn]:-1,[pr]:1,offset:(er,Bn)=>er.setMonth(er.getMonth()+Bn)},week:{[Nn]:-1,[Hn]:1,[Yn]:-1,[pr]:1,offset:(er,Bn)=>er.setDate(er.getDate()+Bn*7)},date:{[Nn]:-7,[Hn]:7,[Yn]:-1,[pr]:1,[Cr]:er=>-er.getDay(),[$n]:er=>-er.getDay()+6,[Xn]:er=>-new Date(er.getFullYear(),er.getMonth(),0).getDate(),[lr]:er=>new Date(er.getFullYear(),er.getMonth()+1,0).getDate(),offset:(er,Bn)=>er.setDate(er.getDate()+Bn)}},br=_e.value.toDate();for(;Math.abs(_e.value.diff(br,"year",!0))<1;){const er=fr[kt.value];if(!er)return;if(er.offset(br,isFunction$3(er[Gn])?er[Gn](br):(Qn=er[Gn])!=null?Qn:0),le&&le(br))break;const Bn=dayjs(br).locale(j.value);_e.value=Bn,n("pick",Bn,!0);break}},gr=Gn=>{n("panel-change",_e.value.toDate(),Gn,Pt.value)};return watch(()=>En.value,Gn=>{if(["month","year"].includes(Gn)){Pt.value=Gn;return}else if(Gn==="years"){Pt.value="year";return}else if(Gn==="months"){Pt.value="month";return}Pt.value="date"},{immediate:!0}),watch(()=>Pt.value,()=>{oe==null||oe.updatePopper()}),watch(()=>he.value,Gn=>{Gn&&(_e.value=mr())},{immediate:!0}),watch(()=>r.parsedValue,Gn=>{if(Gn){if(Sn.value||isArray$4(Gn))return;_e.value=Gn}else _e.value=mr()},{immediate:!0}),n("set-picker-option",["isValidValue",Un]),n("set-picker-option",["formatToString",nr]),n("set-picker-option",["parseUserInput",sr]),n("set-picker-option",["handleFocusPicker",Sr]),(Gn,Qn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(y).b(),unref($).b(),{"has-sidebar":Gn.$slots.sidebar||unref(jt),"has-time":unref(Cn)}])},[createBaseVNode("div",{class:normalizeClass(unref(y).e("body-wrapper"))},[renderSlot(Gn.$slots,"sidebar",{class:normalizeClass(unref(y).e("sidebar"))}),unref(jt)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ie),(Nn,Hn)=>(openBlock(),createElementBlock("button",{key:Hn,type:"button",class:normalizeClass(unref(y).e("shortcut")),onClick:Yn=>vn(Nn)},toDisplayString(Nn.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(y).e("body"))},[unref(Cn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref($).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(z)("el.datepicker.selectDate"),"model-value":unref(Ln),size:"small","validate-event":!1,onInput:Nn=>Fe.value=Nn,onChange:Wn},null,8,["placeholder","model-value","onInput"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref($).e("editor-wrap"))},[createVNode$1(unref(ElInput),{placeholder:unref(z)("el.datepicker.selectTime"),"model-value":unref(Dn),size:"small","validate-event":!1,onFocus:In,onInput:Nn=>Ve.value=Nn,onChange:jn},null,8,["placeholder","model-value","onInput"]),createVNode$1(unref(TimePickPanel),{visible:kn.value,format:unref(Rn),"parsed-value":_e.value,onPick:Kn},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Vn]])],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{class:normalizeClass([unref($).e("header"),(Pt.value==="year"||Pt.value==="month")&&unref($).e("header--bordered")])},[createBaseVNode("span",{class:normalizeClass(unref($).e("prev-btn"))},[createBaseVNode("button",{type:"button","aria-label":unref(z)("el.datepicker.prevYear"),class:normalizeClass(["d-arrow-left",unref(y).e("icon-btn")]),onClick:Nn=>Lt(!1)},[renderSlot(Gn.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["aria-label","onClick"]),withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(z)("el.datepicker.prevMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-left"]),onClick:Nn=>qe(!1)},[renderSlot(Gn.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["aria-label","onClick"]),[[vShow,Pt.value==="date"]])],2),createBaseVNode("span",{role:"button",class:normalizeClass(unref($).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:withKeys(Nn=>hn("year"),["enter"]),onClick:Nn=>hn("year")},toDisplayString(unref(At)),43,["onKeydown","onClick"]),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref($).e("header-label"),{active:Pt.value==="month"}]),onKeydown:withKeys(Nn=>hn("month"),["enter"]),onClick:Nn=>hn("month")},toDisplayString(unref(z)(`el.datepicker.month${unref($e)+1}`)),43,["onKeydown","onClick"]),[[vShow,Pt.value==="date"]]),createBaseVNode("span",{class:normalizeClass(unref($).e("next-btn"))},[withDirectives(createBaseVNode("button",{type:"button","aria-label":unref(z)("el.datepicker.nextMonth"),class:normalizeClass([unref(y).e("icon-btn"),"arrow-right"]),onClick:Nn=>qe(!0)},[renderSlot(Gn.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["aria-label","onClick"]),[[vShow,Pt.value==="date"]]),createBaseVNode("button",{type:"button","aria-label":unref(z)("el.datepicker.nextYear"),class:normalizeClass([unref(y).e("icon-btn"),"d-arrow-right"]),onClick:Nn=>Lt(!0)},[renderSlot(Gn.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["aria-label","onClick"])],2)],2),[[vShow,Pt.value!=="time"]]),createBaseVNode("div",{class:normalizeClass(unref(y).e("content")),onKeydown:yr},[Pt.value==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"currentViewRef",ref:pe,"selection-mode":unref(En),date:_e.value,"parsed-value":Gn.parsedValue,"disabled-date":unref(le),"cell-class-name":unref(ue),onPick:Ue},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):createCommentVNode("v-if",!0),Pt.value==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"currentViewRef",ref:pe,"selection-mode":unref(En),date:_e.value,"disabled-date":unref(le),"parsed-value":Gn.parsedValue,onPick:wn},null,8,["selection-mode","date","disabled-date","parsed-value"])):createCommentVNode("v-if",!0),Pt.value==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"currentViewRef",ref:pe,"selection-mode":unref(En),date:_e.value,"parsed-value":Gn.parsedValue,"disabled-date":unref(le),onPick:_n},null,8,["selection-mode","date","parsed-value","disabled-date"])):createCommentVNode("v-if",!0)],34)],2)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(y).e("footer"))},[withDirectives(createVNode$1(unref(ElButton),{text:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(bn),onClick:Pn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(z)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[vShow,!unref(Sn)&&Gn.showNow]]),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(y).e("link-btn")),disabled:unref(xn),onClick:Mn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(z)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[vShow,unref(Tn)]])],2))}});var DatePickPanel=_export_sfc$1(_sfc_main$1N,[["__file","panel-date-pick.vue"]]);const panelDateRangeProps=buildProps({...panelSharedProps,...panelRangeSharedProps}),useShortcut=t=>{const{emit:n}=getCurrentInstance(),r=useAttrs$1(),g=useSlots();return $=>{const L=isFunction$3($.value)?$.value():$.value;if(L){n("pick",[dayjs(L[0]).locale(t.value),dayjs(L[1]).locale(t.value)]);return}$.onClick&&$.onClick({attrs:r,slots:g,emit:n})}},useRangePicker=(t,{defaultValue:n,defaultTime:r,leftDate:g,rightDate:y,step:$,unit:L,onParsedValueChanged:V})=>{const{emit:z}=getCurrentInstance(),{pickerNs:j}=inject(ROOT_PICKER_INJECTION_KEY),re=useNamespace("date-range-picker"),{t:ae,lang:oe}=useLocale(),ie=useShortcut(oe),le=ref(),ue=ref(),de=ref({endDate:null,selecting:!1}),he=Ie=>{de.value=Ie},pe=(Ie=!1)=>{const $e=unref(le),Oe=unref(ue);isValidRange([$e,Oe])&&z("pick",[$e,Oe],Ie)},_e=Ie=>{de.value.selecting=Ie,Ie||(de.value.endDate=null)},Ce=Ie=>{if(isArray$4(Ie)&&Ie.length===2){const[$e,Oe]=Ie;le.value=$e,g.value=$e,ue.value=Oe,V(unref(le),unref(ue))}else xe()},xe=()=>{let[Ie,$e]=getDefaultValue(unref(n),{lang:unref(oe),step:$,unit:L,unlinkPanels:t.unlinkPanels});const Oe=Fe=>Fe.diff(Fe.startOf("d"),"ms"),Ne=unref(r);if(Ne){let Fe=0,Ve=0;if(isArray$4(Ne)){const[ze,Et]=Ne.map(dayjs);Fe=Oe(ze),Ve=Oe(Et)}else{const ze=Oe(dayjs(Ne));Fe=ze,Ve=ze}Ie=Ie.startOf("d").add(Fe,"ms"),$e=$e.startOf("d").add(Ve,"ms")}le.value=void 0,ue.value=void 0,g.value=Ie,y.value=$e};return watch(n,Ie=>{Ie&&xe()},{immediate:!0}),watch(()=>t.parsedValue,Ce,{immediate:!0}),{minDate:le,maxDate:ue,rangeState:de,lang:oe,ppNs:j,drpNs:re,handleChangeRange:he,handleRangeConfirm:pe,handleShortcutClick:ie,onSelect:_e,onReset:Ce,t:ae}},usePanelDateRange=(t,n,r,g)=>{const y=ref("date"),$=ref(),L=ref("date"),V=ref(),z=inject(PICKER_BASE_INJECTION_KEY),{disabledDate:j}=z.props,{t:re,lang:ae}=useLocale(),oe=computed(()=>r.value.year()),ie=computed(()=>r.value.month()),le=computed(()=>g.value.year()),ue=computed(()=>g.value.month());function de(Ie,$e){const Oe=re("el.datepicker.year");if(Ie.value==="year"){const Ne=Math.floor($e.value/10)*10;return Oe?`${Ne} ${Oe} - ${Ne+9} ${Oe}`:`${Ne} - ${Ne+9}`}return`${$e.value} ${Oe}`}function he(Ie){Ie==null||Ie.focus()}async function pe(Ie,$e){const Oe=Ie==="left"?y:L,Ne=Ie==="left"?$:V;Oe.value=$e,await nextTick(),he(Ne.value)}async function _e(Ie,$e,Oe){const Ne=$e==="left",Fe=Ne?r:g,Ve=Ne?g:r,ze=Ne?y:L,Et=Ne?$:V;if(Ie==="year"){const Dt=Fe.value.year(Oe);Fe.value=getValidDateOfYear(Dt,ae.value,j)}Ie==="month"&&(Fe.value=getValidDateOfMonth(Fe.value,Fe.value.year(),Oe,ae.value,j)),t.unlinkPanels||(Ve.value=$e==="left"?Fe.value.add(1,"month"):Fe.value.subtract(1,"month")),ze.value=Ie==="year"?"month":"date",await nextTick(),he(Et.value),Ce(Ie)}function Ce(Ie){n("panel-change",[r.value.toDate(),g.value.toDate()],Ie)}function xe(Ie,$e,Oe){const Ne=Oe?"add":"subtract";return Ie==="year"?$e[Ne](10,"year"):$e[Ne](1,"year")}return{leftCurrentView:y,rightCurrentView:L,leftCurrentViewRef:$,rightCurrentViewRef:V,leftYear:oe,rightYear:le,leftMonth:ie,rightMonth:ue,leftYearLabel:computed(()=>de(y,oe)),rightYearLabel:computed(()=>de(L,le)),showLeftPicker:Ie=>pe("left",Ie),showRightPicker:Ie=>pe("right",Ie),handleLeftYearPick:Ie=>_e("year","left",Ie),handleRightYearPick:Ie=>_e("year","right",Ie),handleLeftMonthPick:Ie=>_e("month","left",Ie),handleRightMonthPick:Ie=>_e("month","right",Ie),handlePanelChange:Ce,adjustDateByView:xe}},unit$2="month",_sfc_main$1M=defineComponent({__name:"panel-date-range",props:panelDateRangeProps,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:n}){const r=t,g=inject(PICKER_BASE_INJECTION_KEY),y=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY),{disabledDate:$,cellClassName:L,defaultTime:V,clearable:z}=g.props,j=toRef(g.props,"format"),re=toRef(g.props,"shortcuts"),ae=toRef(g.props,"defaultValue"),{lang:oe}=useLocale(),ie=ref(dayjs().locale(oe.value)),le=ref(dayjs().locale(oe.value).add(1,unit$2)),{minDate:ue,maxDate:de,rangeState:he,ppNs:pe,drpNs:_e,handleChangeRange:Ce,handleRangeConfirm:xe,handleShortcutClick:Ie,onSelect:$e,onReset:Oe,t:Ne}=useRangePicker(r,{defaultValue:ae,defaultTime:V,leftDate:ie,rightDate:le,unit:unit$2,onParsedValueChanged:br});watch(()=>r.visible,er=>{!er&&he.value.selecting&&(Oe(r.parsedValue),$e(!1))});const Fe=ref({min:null,max:null}),Ve=ref({min:null,max:null}),{leftCurrentView:ze,rightCurrentView:Et,leftCurrentViewRef:Dt,rightCurrentViewRef:Ue,leftYear:qe,rightYear:Lt,leftMonth:Pt,rightMonth:At,leftYearLabel:vn,rightYearLabel:En,showLeftPicker:Sn,showRightPicker:kt,handleLeftYearPick:jt,handleRightYearPick:_n,handleLeftMonthPick:wn,handleRightMonthPick:hn,handlePanelChange:Cn,adjustDateByView:Tn}=usePanelDateRange(r,n,ie,le),xn=computed(()=>!!re.value.length),Mn=computed(()=>Fe.value.min!==null?Fe.value.min:ue.value?ue.value.format(Dn.value):""),bn=computed(()=>Fe.value.max!==null?Fe.value.max:de.value||ue.value?(de.value||ue.value).format(Dn.value):""),Pn=computed(()=>Ve.value.min!==null?Ve.value.min:ue.value?ue.value.format(Fn.value):""),Rn=computed(()=>Ve.value.max!==null?Ve.value.max:de.value||ue.value?(de.value||ue.value).format(Fn.value):""),Fn=computed(()=>r.timeFormat||extractTimeFormat(j.value)),Dn=computed(()=>r.dateFormat||extractDateFormat(j.value)),Ln=er=>isValidRange(er)&&($?!$(er[0].toDate())&&!$(er[1].toDate()):!0),kn=()=>{ie.value=Tn(ze.value,ie.value,!1),r.unlinkPanels||(le.value=ie.value.add(1,"month")),Cn("year")},In=()=>{ie.value=ie.value.subtract(1,"month"),r.unlinkPanels||(le.value=ie.value.add(1,"month")),Cn("month")},Vn=()=>{r.unlinkPanels?le.value=Tn(Et.value,le.value,!0):(ie.value=Tn(Et.value,ie.value,!0),le.value=ie.value.add(1,"month")),Cn("year")},zn=()=>{r.unlinkPanels?le.value=le.value.add(1,"month"):(ie.value=ie.value.add(1,"month"),le.value=ie.value.add(1,"month")),Cn("month")},Kn=()=>{ie.value=Tn(ze.value,ie.value,!0),Cn("year")},jn=()=>{ie.value=ie.value.add(1,"month"),Cn("month")},Wn=()=>{le.value=Tn(Et.value,le.value,!1),Cn("year")},Un=()=>{le.value=le.value.subtract(1,"month"),Cn("month")},nr=computed(()=>{const er=(Pt.value+1)%12,Bn=Pt.value+1>=12?1:0;return r.unlinkPanels&&new Date(qe.value+Bn,er)<new Date(Lt.value,At.value)}),sr=computed(()=>r.unlinkPanels&&Lt.value*12+At.value-(qe.value*12+Pt.value+1)>=12),mr=computed(()=>!(ue.value&&de.value&&!he.value.selecting&&isValidRange([ue.value,de.value]))),vr=computed(()=>r.type==="datetime"||r.type==="datetimerange"),Sr=(er,Bn)=>{if(er)return V?dayjs(V[Bn]||V).locale(oe.value).year(er.year()).month(er.month()).date(er.date()):er},yr=(er,Bn=!0)=>{const On=er.minDate,Zn=er.maxDate,qn=Sr(On,0),or=Sr(Zn,1);de.value===or&&ue.value===qn||(n("calendar-change",[On.toDate(),Zn&&Zn.toDate()]),de.value=or,ue.value=qn,!(!Bn||vr.value)&&xe())},ir=ref(!1),gr=ref(!1),Gn=()=>{ir.value=!1},Qn=()=>{gr.value=!1},Nn=(er,Bn)=>{Fe.value[Bn]=er;const On=dayjs(er,Dn.value).locale(oe.value);if(On.isValid()){if($&&$(On.toDate()))return;Bn==="min"?(ie.value=On,ue.value=(ue.value||ie.value).year(On.year()).month(On.month()).date(On.date()),!r.unlinkPanels&&(!de.value||de.value.isBefore(ue.value))&&(le.value=On.add(1,"month"),de.value=ue.value.add(1,"month"))):(le.value=On,de.value=(de.value||le.value).year(On.year()).month(On.month()).date(On.date()),!r.unlinkPanels&&(!ue.value||ue.value.isAfter(de.value))&&(ie.value=On.subtract(1,"month"),ue.value=de.value.subtract(1,"month")))}},Hn=(er,Bn)=>{Fe.value[Bn]=null},Yn=(er,Bn)=>{Ve.value[Bn]=er;const On=dayjs(er,Fn.value).locale(oe.value);On.isValid()&&(Bn==="min"?(ir.value=!0,ue.value=(ue.value||ie.value).hour(On.hour()).minute(On.minute()).second(On.second())):(gr.value=!0,de.value=(de.value||le.value).hour(On.hour()).minute(On.minute()).second(On.second()),le.value=de.value))},pr=(er,Bn)=>{Ve.value[Bn]=null,Bn==="min"?(ie.value=ue.value,ir.value=!1,(!de.value||de.value.isBefore(ue.value))&&(de.value=ue.value)):(le.value=de.value,gr.value=!1,de.value&&de.value.isBefore(ue.value)&&(ue.value=de.value))},Cr=(er,Bn,On)=>{Ve.value.min||(er&&(ie.value=er,ue.value=(ue.value||ie.value).hour(er.hour()).minute(er.minute()).second(er.second())),On||(ir.value=Bn),(!de.value||de.value.isBefore(ue.value))&&(de.value=ue.value,le.value=er))},$n=(er,Bn,On)=>{Ve.value.max||(er&&(le.value=er,de.value=(de.value||le.value).hour(er.hour()).minute(er.minute()).second(er.second())),On||(gr.value=Bn),de.value&&de.value.isBefore(ue.value)&&(ue.value=de.value))},Xn=()=>{ie.value=getDefaultValue(unref(ae),{lang:unref(oe),unit:"month",unlinkPanels:r.unlinkPanels})[0],le.value=ie.value.add(1,"month"),de.value=void 0,ue.value=void 0,n("pick",null)},lr=er=>isArray$4(er)?er.map(Bn=>Bn.format(j.value)):er.format(j.value),fr=er=>correctlyParseUserInput(er,j.value,oe.value,y);function br(er,Bn){if(r.unlinkPanels&&Bn){const On=(er==null?void 0:er.year())||0,Zn=(er==null?void 0:er.month())||0,qn=Bn.year(),or=Bn.month();le.value=On===qn&&Zn===or?Bn.add(1,unit$2):Bn}else le.value=ie.value.add(1,unit$2),Bn&&(le.value=le.value.hour(Bn.hour()).minute(Bn.minute()).second(Bn.second()))}return n("set-picker-option",["isValidValue",Ln]),n("set-picker-option",["parseUserInput",fr]),n("set-picker-option",["formatToString",lr]),n("set-picker-option",["handleClear",Xn]),(er,Bn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(pe).b(),unref(_e).b(),{"has-sidebar":er.$slots.sidebar||unref(xn),"has-time":unref(vr)}])},[createBaseVNode("div",{class:normalizeClass(unref(pe).e("body-wrapper"))},[renderSlot(er.$slots,"sidebar",{class:normalizeClass(unref(pe).e("sidebar"))}),unref(xn)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(pe).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),(On,Zn)=>(openBlock(),createElementBlock("button",{key:Zn,type:"button",class:normalizeClass(unref(pe).e("shortcut")),onClick:qn=>unref(Ie)(On)},toDisplayString(On.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(pe).e("body"))},[unref(vr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(_e).e("time-header"))},[createBaseVNode("span",{class:normalizeClass(unref(_e).e("editors-wrap"))},[createBaseVNode("span",{class:normalizeClass(unref(_e).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",disabled:unref(he).selecting,placeholder:unref(Ne)("el.datepicker.startDate"),class:normalizeClass(unref(_e).e("editor")),"model-value":unref(Mn),"validate-event":!1,onInput:On=>Nn(On,"min"),onChange:On=>Hn(On,"min")},null,8,["disabled","placeholder","class","model-value","onInput","onChange"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(_e).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(_e).e("editor")),disabled:unref(he).selecting,placeholder:unref(Ne)("el.datepicker.startTime"),"model-value":unref(Pn),"validate-event":!1,onFocus:On=>ir.value=!0,onInput:On=>Yn(On,"min"),onChange:On=>pr(On,"min")},null,8,["class","disabled","placeholder","model-value","onFocus","onInput","onChange"]),createVNode$1(unref(TimePickPanel),{visible:ir.value,format:unref(Fn),"datetime-role":"start","parsed-value":ie.value,onPick:Cr},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Gn]])],2),createBaseVNode("span",null,[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})]),createBaseVNode("span",{class:normalizeClass([unref(_e).e("editors-wrap"),"is-right"])},[createBaseVNode("span",{class:normalizeClass(unref(_e).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(_e).e("editor")),disabled:unref(he).selecting,placeholder:unref(Ne)("el.datepicker.endDate"),"model-value":unref(bn),readonly:!unref(ue),"validate-event":!1,onInput:On=>Nn(On,"max"),onChange:On=>Hn(On,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onInput","onChange"])],2),withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass(unref(_e).e("time-picker-wrap"))},[createVNode$1(unref(ElInput),{size:"small",class:normalizeClass(unref(_e).e("editor")),disabled:unref(he).selecting,placeholder:unref(Ne)("el.datepicker.endTime"),"model-value":unref(Rn),readonly:!unref(ue),"validate-event":!1,onFocus:On=>unref(ue)&&(gr.value=!0),onInput:On=>Yn(On,"max"),onChange:On=>pr(On,"max")},null,8,["class","disabled","placeholder","model-value","readonly","onFocus","onInput","onChange"]),createVNode$1(unref(TimePickPanel),{"datetime-role":"end",visible:gr.value,format:unref(Fn),"parsed-value":le.value,onPick:$n},null,8,["visible","format","parsed-value"])],2)),[[unref(ClickOutside),Qn]])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([[unref(pe).e("content"),unref(_e).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(_e).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(pe).e("icon-btn"),"d-arrow-left"]),"aria-label":unref(Ne)("el.datepicker.prevYear"),onClick:kn},[renderSlot(er.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["aria-label"]),withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(pe).e("icon-btn"),"arrow-left"]),"aria-label":unref(Ne)("el.datepicker.prevMonth"),onClick:In},[renderSlot(er.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["aria-label"]),[[vShow,unref(ze)==="date"]]),er.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(sr),class:normalizeClass([[unref(pe).e("icon-btn"),{"is-disabled":!unref(sr)}],"d-arrow-right"]),"aria-label":unref(Ne)("el.datepicker.nextYear"),onClick:Kn},[renderSlot(er.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),er.unlinkPanels&&unref(ze)==="date"?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(nr),class:normalizeClass([[unref(pe).e("icon-btn"),{"is-disabled":!unref(nr)}],"arrow-right"]),"aria-label":unref(Ne)("el.datepicker.nextMonth"),onClick:jn},[renderSlot(er.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,[createBaseVNode("span",{role:"button",class:normalizeClass(unref(_e).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:withKeys(On=>unref(Sn)("year"),["enter"]),onClick:On=>unref(Sn)("year")},toDisplayString(unref(vn)),43,["onKeydown","onClick"]),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(_e).e("header-label"),{active:unref(ze)==="month"}]),onKeydown:withKeys(On=>unref(Sn)("month"),["enter"]),onClick:On=>unref(Sn)("month")},toDisplayString(unref(Ne)(`el.datepicker.month${ie.value.month()+1}`)),43,["onKeydown","onClick"]),[[vShow,unref(ze)==="date"]])])],2),unref(ze)==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"leftCurrentViewRef",ref:Dt,"selection-mode":"range",date:ie.value,"min-date":unref(ue),"max-date":unref(de),"range-state":unref(he),"disabled-date":unref($),"cell-class-name":unref(L),onChangerange:unref(Ce),onPick:yr,onSelect:unref($e)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])):createCommentVNode("v-if",!0),unref(ze)==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"leftCurrentViewRef",ref:Dt,"selection-mode":"year",date:ie.value,"disabled-date":unref($),"parsed-value":er.parsedValue,onPick:unref(jt)},null,8,["date","disabled-date","parsed-value","onPick"])):createCommentVNode("v-if",!0),unref(ze)==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"leftCurrentViewRef",ref:Dt,"selection-mode":"month",date:ie.value,"parsed-value":er.parsedValue,"disabled-date":unref($),onPick:unref(wn)},null,8,["date","parsed-value","disabled-date","onPick"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{class:normalizeClass([[unref(pe).e("content"),unref(_e).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(_e).e("header"))},[er.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(sr),class:normalizeClass([[unref(pe).e("icon-btn"),{"is-disabled":!unref(sr)}],"d-arrow-left"]),"aria-label":unref(Ne)("el.datepicker.prevYear"),onClick:Wn},[renderSlot(er.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),er.unlinkPanels&&unref(Et)==="date"?(openBlock(),createElementBlock("button",{key:1,type:"button",disabled:!unref(nr),class:normalizeClass([[unref(pe).e("icon-btn"),{"is-disabled":!unref(nr)}],"arrow-left"]),"aria-label":unref(Ne)("el.datepicker.prevMonth"),onClick:Un},[renderSlot(er.$slots,"prev-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})])],10,["disabled","aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button","aria-label":unref(Ne)("el.datepicker.nextYear"),class:normalizeClass([unref(pe).e("icon-btn"),"d-arrow-right"]),onClick:Vn},[renderSlot(er.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["aria-label"]),withDirectives(createBaseVNode("button",{type:"button",class:normalizeClass([unref(pe).e("icon-btn"),"arrow-right"]),"aria-label":unref(Ne)("el.datepicker.nextMonth"),onClick:zn},[renderSlot(er.$slots,"next-month",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})])],10,["aria-label"]),[[vShow,unref(Et)==="date"]]),createBaseVNode("div",null,[createBaseVNode("span",{role:"button",class:normalizeClass(unref(_e).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:withKeys(On=>unref(kt)("year"),["enter"]),onClick:On=>unref(kt)("year")},toDisplayString(unref(En)),43,["onKeydown","onClick"]),withDirectives(createBaseVNode("span",{role:"button","aria-live":"polite",tabindex:"0",class:normalizeClass([unref(_e).e("header-label"),{active:unref(Et)==="month"}]),onKeydown:withKeys(On=>unref(kt)("month"),["enter"]),onClick:On=>unref(kt)("month")},toDisplayString(unref(Ne)(`el.datepicker.month${le.value.month()+1}`)),43,["onKeydown","onClick"]),[[vShow,unref(Et)==="date"]])])],2),unref(Et)==="date"?(openBlock(),createBlock(DateTable,{key:0,ref_key:"rightCurrentViewRef",ref:Ue,"selection-mode":"range",date:le.value,"min-date":unref(ue),"max-date":unref(de),"range-state":unref(he),"disabled-date":unref($),"cell-class-name":unref(L),onChangerange:unref(Ce),onPick:yr,onSelect:unref($e)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])):createCommentVNode("v-if",!0),unref(Et)==="year"?(openBlock(),createBlock(YearTable,{key:1,ref_key:"rightCurrentViewRef",ref:Ue,"selection-mode":"year",date:le.value,"disabled-date":unref($),"parsed-value":er.parsedValue,onPick:unref(_n)},null,8,["date","disabled-date","parsed-value","onPick"])):createCommentVNode("v-if",!0),unref(Et)==="month"?(openBlock(),createBlock(MonthTable,{key:2,ref_key:"rightCurrentViewRef",ref:Ue,"selection-mode":"month",date:le.value,"parsed-value":er.parsedValue,"disabled-date":unref($),onPick:unref(hn)},null,8,["date","parsed-value","disabled-date","onPick"])):createCommentVNode("v-if",!0)],2)],2)],2),unref(vr)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(pe).e("footer"))},[unref(z)?(openBlock(),createBlock(unref(ElButton),{key:0,text:"",size:"small",class:normalizeClass(unref(pe).e("link-btn")),onClick:Xn},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ne)("el.datepicker.clear")),1)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$1(unref(ElButton),{plain:"",size:"small",class:normalizeClass(unref(pe).e("link-btn")),disabled:unref(mr),onClick:On=>unref(xe)(!1)},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(Ne)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled","onClick"])],2)):createCommentVNode("v-if",!0)],2))}});var DateRangePickPanel=_export_sfc$1(_sfc_main$1M,[["__file","panel-date-range.vue"]]);const panelMonthRangeProps=buildProps({...panelRangeSharedProps}),panelMonthRangeEmits=["pick","set-picker-option","calendar-change"],useMonthRangeHeader=({unlinkPanels:t,leftDate:n,rightDate:r})=>{const{t:g}=useLocale(),y=()=>{n.value=n.value.subtract(1,"year"),t.value||(r.value=r.value.subtract(1,"year"))},$=()=>{t.value||(n.value=n.value.add(1,"year")),r.value=r.value.add(1,"year")},L=()=>{n.value=n.value.add(1,"year")},V=()=>{r.value=r.value.subtract(1,"year")},z=computed(()=>`${n.value.year()} ${g("el.datepicker.year")}`),j=computed(()=>`${r.value.year()} ${g("el.datepicker.year")}`),re=computed(()=>n.value.year()),ae=computed(()=>r.value.year()===n.value.year()?n.value.year()+1:r.value.year());return{leftPrevYear:y,rightNextYear:$,leftNextYear:L,rightPrevYear:V,leftLabel:z,rightLabel:j,leftYear:re,rightYear:ae}},unit$1="year",__default__$1c=defineComponent({name:"DatePickerMonthRange"}),_sfc_main$1L=defineComponent({...__default__$1c,props:panelMonthRangeProps,emits:panelMonthRangeEmits,setup(t,{emit:n}){const r=t,{lang:g}=useLocale(),y=inject(PICKER_BASE_INJECTION_KEY),$=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY),{shortcuts:L,disabledDate:V}=y.props,z=toRef(y.props,"format"),j=toRef(y.props,"defaultValue"),re=ref(dayjs().locale(g.value)),ae=ref(dayjs().locale(g.value).add(1,unit$1)),{minDate:oe,maxDate:ie,rangeState:le,ppNs:ue,drpNs:de,handleChangeRange:he,handleRangeConfirm:pe,handleShortcutClick:_e,onSelect:Ce,onReset:xe}=useRangePicker(r,{defaultValue:j,leftDate:re,rightDate:ae,unit:unit$1,onParsedValueChanged:vn}),Ie=computed(()=>!!L.length),{leftPrevYear:$e,rightNextYear:Oe,leftNextYear:Ne,rightPrevYear:Fe,leftLabel:Ve,rightLabel:ze,leftYear:Et,rightYear:Dt}=useMonthRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:re,rightDate:ae}),Ue=computed(()=>r.unlinkPanels&&Dt.value>Et.value+1),qe=(En,Sn=!0)=>{const kt=En.minDate,jt=En.maxDate;ie.value===jt&&oe.value===kt||(n("calendar-change",[kt.toDate(),jt&&jt.toDate()]),ie.value=jt,oe.value=kt,Sn&&pe())},Lt=()=>{re.value=getDefaultValue(unref(j),{lang:unref(g),unit:"year",unlinkPanels:r.unlinkPanels})[0],ae.value=re.value.add(1,"year"),n("pick",null)},Pt=En=>isArray$4(En)?En.map(Sn=>Sn.format(z.value)):En.format(z.value),At=En=>correctlyParseUserInput(En,z.value,g.value,$);function vn(En,Sn){if(r.unlinkPanels&&Sn){const kt=(En==null?void 0:En.year())||0,jt=Sn.year();ae.value=kt===jt?Sn.add(1,unit$1):Sn}else ae.value=re.value.add(1,unit$1)}return watch(()=>r.visible,En=>{!En&&le.value.selecting&&(xe(r.parsedValue),Ce(!1))}),n("set-picker-option",["isValidValue",isValidRange]),n("set-picker-option",["formatToString",Pt]),n("set-picker-option",["parseUserInput",At]),n("set-picker-option",["handleClear",Lt]),(En,Sn)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(ue).b(),unref(de).b(),{"has-sidebar":!!En.$slots.sidebar||unref(Ie)}])},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("body-wrapper"))},[renderSlot(En.$slots,"sidebar",{class:normalizeClass(unref(ue).e("sidebar"))}),unref(Ie)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(ue).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(L),(kt,jt)=>(openBlock(),createElementBlock("button",{key:jt,type:"button",class:normalizeClass(unref(ue).e("shortcut")),onClick:_n=>unref(_e)(kt)},toDisplayString(kt.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ue).e("body"))},[createBaseVNode("div",{class:normalizeClass([[unref(ue).e("content"),unref(de).e("content")],"is-left"])},[createBaseVNode("div",{class:normalizeClass(unref(de).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass([unref(ue).e("icon-btn"),"d-arrow-left"]),onClick:unref($e)},[renderSlot(En.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["onClick"]),En.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Ue),class:normalizeClass([[unref(ue).e("icon-btn"),{[unref(ue).is("disabled")]:!unref(Ue)}],"d-arrow-right"]),onClick:unref(Ne)},[renderSlot(En.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Ve)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:re.value,"min-date":unref(oe),"max-date":unref(ie),"range-state":unref(le),"disabled-date":unref(V),onChangerange:unref(he),onPick:qe,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass([[unref(ue).e("content"),unref(de).e("content")],"is-right"])},[createBaseVNode("div",{class:normalizeClass(unref(de).e("header"))},[En.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Ue),class:normalizeClass([[unref(ue).e("icon-btn"),{"is-disabled":!unref(Ue)}],"d-arrow-left"]),onClick:unref(Fe)},[renderSlot(En.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass([unref(ue).e("icon-btn"),"d-arrow-right"]),onClick:unref(Oe)},[renderSlot(En.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["onClick"]),createBaseVNode("div",null,toDisplayString(unref(ze)),1)],2),createVNode$1(MonthTable,{"selection-mode":"range",date:ae.value,"min-date":unref(oe),"max-date":unref(ie),"range-state":unref(le),"disabled-date":unref(V),onChangerange:unref(he),onPick:qe,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var MonthRangePickPanel=_export_sfc$1(_sfc_main$1L,[["__file","panel-month-range.vue"]]);const panelYearRangeProps=buildProps({...panelRangeSharedProps}),panelYearRangeEmits=["pick","set-picker-option","calendar-change"],useYearRangeHeader=({unlinkPanels:t,leftDate:n,rightDate:r})=>{const g=()=>{n.value=n.value.subtract(10,"year"),t.value||(r.value=r.value.subtract(10,"year"))},y=()=>{t.value||(n.value=n.value.add(10,"year")),r.value=r.value.add(10,"year")},$=()=>{n.value=n.value.add(10,"year")},L=()=>{r.value=r.value.subtract(10,"year")},V=computed(()=>{const ae=Math.floor(n.value.year()/10)*10;return`${ae}-${ae+9}`}),z=computed(()=>{const ae=Math.floor(r.value.year()/10)*10;return`${ae}-${ae+9}`}),j=computed(()=>Math.floor(n.value.year()/10)*10+9),re=computed(()=>Math.floor(r.value.year()/10)*10);return{leftPrevYear:g,rightNextYear:y,leftNextYear:$,rightPrevYear:L,leftLabel:V,rightLabel:z,leftYear:j,rightYear:re}},step=10,unit="year",__default__$1b=defineComponent({name:"DatePickerYearRange"}),_sfc_main$1K=defineComponent({...__default__$1b,props:panelYearRangeProps,emits:panelYearRangeEmits,setup(t,{emit:n}){const r=t,{lang:g}=useLocale(),y=ref(dayjs().locale(g.value)),$=ref(dayjs().locale(g.value).add(step,unit)),L=inject(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY),V=inject(PICKER_BASE_INJECTION_KEY),{shortcuts:z,disabledDate:j}=V.props,re=toRef(V.props,"format"),ae=toRef(V.props,"defaultValue"),{minDate:oe,maxDate:ie,rangeState:le,ppNs:ue,drpNs:de,handleChangeRange:he,handleRangeConfirm:pe,handleShortcutClick:_e,onSelect:Ce,onReset:xe}=useRangePicker(r,{defaultValue:ae,leftDate:y,rightDate:$,step,unit,onParsedValueChanged:jt}),{leftPrevYear:Ie,rightNextYear:$e,leftNextYear:Oe,rightPrevYear:Ne,leftLabel:Fe,rightLabel:Ve,leftYear:ze,rightYear:Et}=useYearRangeHeader({unlinkPanels:toRef(r,"unlinkPanels"),leftDate:y,rightDate:$}),Dt=computed(()=>!!z.length),Ue=computed(()=>[ue.b(),de.b(),{"has-sidebar":!!useSlots().sidebar||Dt.value}]),qe=computed(()=>({content:[ue.e("content"),de.e("content"),"is-left"],arrowLeftBtn:[ue.e("icon-btn"),"d-arrow-left"],arrowRightBtn:[ue.e("icon-btn"),{[ue.is("disabled")]:!Pt.value},"d-arrow-right"]})),Lt=computed(()=>({content:[ue.e("content"),de.e("content"),"is-right"],arrowLeftBtn:[ue.e("icon-btn"),{"is-disabled":!Pt.value},"d-arrow-left"],arrowRightBtn:[ue.e("icon-btn"),"d-arrow-right"]})),Pt=computed(()=>r.unlinkPanels&&Et.value>ze.value+1),At=(_n,wn=!0)=>{const hn=_n.minDate,Cn=_n.maxDate;ie.value===Cn&&oe.value===hn||(n("calendar-change",[hn.toDate(),Cn&&Cn.toDate()]),ie.value=Cn,oe.value=hn,wn&&pe())},vn=_n=>correctlyParseUserInput(_n,re.value,g.value,L),En=_n=>isArray$4(_n)?_n.map(wn=>wn.format(re.value)):_n.format(re.value),Sn=_n=>isValidRange(_n)&&(j?!j(_n[0].toDate())&&!j(_n[1].toDate()):!0),kt=()=>{const _n=getDefaultValue(unref(ae),{lang:unref(g),step,unit,unlinkPanels:r.unlinkPanels});y.value=_n[0],$.value=_n[1],n("pick",null)};function jt(_n,wn){if(r.unlinkPanels&&wn){const hn=(_n==null?void 0:_n.year())||0,Cn=wn.year();$.value=hn+step>Cn?wn.add(step,unit):wn}else $.value=y.value.add(step,unit)}return watch(()=>r.visible,_n=>{!_n&&le.value.selecting&&(xe(r.parsedValue),Ce(!1))}),n("set-picker-option",["isValidValue",Sn]),n("set-picker-option",["parseUserInput",vn]),n("set-picker-option",["formatToString",En]),n("set-picker-option",["handleClear",kt]),(_n,wn)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(Ue))},[createBaseVNode("div",{class:normalizeClass(unref(ue).e("body-wrapper"))},[renderSlot(_n.$slots,"sidebar",{class:normalizeClass(unref(ue).e("sidebar"))}),unref(Dt)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(ue).e("sidebar"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(z),(hn,Cn)=>(openBlock(),createElementBlock("button",{key:Cn,type:"button",class:normalizeClass(unref(ue).e("shortcut")),onClick:Tn=>unref(_e)(hn)},toDisplayString(hn.text),11,["onClick"]))),128))],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ue).e("body"))},[createBaseVNode("div",{class:normalizeClass(unref(qe).content)},[createBaseVNode("div",{class:normalizeClass(unref(de).e("header"))},[createBaseVNode("button",{type:"button",class:normalizeClass(unref(qe).arrowLeftBtn),onClick:unref(Ie)},[renderSlot(_n.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["onClick"]),_n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Pt),class:normalizeClass(unref(qe).arrowRightBtn),onClick:unref(Oe)},[renderSlot(_n.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("div",null,toDisplayString(unref(Fe)),1)],2),createVNode$1(YearTable,{"selection-mode":"range",date:y.value,"min-date":unref(oe),"max-date":unref(ie),"range-state":unref(le),"disabled-date":unref(j),onChangerange:unref(he),onPick:At,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),createBaseVNode("div",{class:normalizeClass(unref(Lt).content)},[createBaseVNode("div",{class:normalizeClass(unref(de).e("header"))},[_n.unlinkPanels?(openBlock(),createElementBlock("button",{key:0,type:"button",disabled:!unref(Pt),class:normalizeClass(unref(Lt).arrowLeftBtn),onClick:unref(Ne)},[renderSlot(_n.$slots,"prev-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_left_default))]),_:1})])],10,["disabled","onClick"])):createCommentVNode("v-if",!0),createBaseVNode("button",{type:"button",class:normalizeClass(unref(Lt).arrowRightBtn),onClick:unref($e)},[renderSlot(_n.$slots,"next-year",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(d_arrow_right_default))]),_:1})])],10,["onClick"]),createBaseVNode("div",null,toDisplayString(unref(Ve)),1)],2),createVNode$1(YearTable,{"selection-mode":"range",date:$.value,"min-date":unref(oe),"max-date":unref(ie),"range-state":unref(le),"disabled-date":unref(j),onChangerange:unref(he),onPick:At,onSelect:unref(Ce)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var YearRangePickPanel=_export_sfc$1(_sfc_main$1K,[["__file","panel-year-range.vue"]]);const getPanel=function(t){switch(t){case"daterange":case"datetimerange":return DateRangePickPanel;case"monthrange":return MonthRangePickPanel;case"yearrange":return YearRangePickPanel;default:return DatePickPanel}};dayjs.extend(localeData);dayjs.extend(advancedFormat);dayjs.extend(customParseFormat);dayjs.extend(weekOfYear);dayjs.extend(weekYear);dayjs.extend(dayOfYear);dayjs.extend(isSameOrAfter);dayjs.extend(isSameOrBefore);var DatePicker=defineComponent({name:"ElDatePicker",install:null,props:datePickerProps,emits:[UPDATE_MODEL_EVENT],setup(t,{expose:n,emit:r,slots:g}){const y=useNamespace("picker-panel"),$=computed(()=>!t.format);provide(ROOT_PICKER_IS_DEFAULT_FORMAT_INJECTION_KEY,$),provide(PICKER_POPPER_OPTIONS_INJECTION_KEY,reactive(toRef(t,"popperOptions"))),provide(ROOT_PICKER_INJECTION_KEY,{slots:g,pickerNs:y});const L=ref();n({focus:()=>{var j;(j=L.value)==null||j.focus()},blur:()=>{var j;(j=L.value)==null||j.blur()},handleOpen:()=>{var j;(j=L.value)==null||j.handleOpen()},handleClose:()=>{var j;(j=L.value)==null||j.handleClose()}});const z=j=>{r(UPDATE_MODEL_EVENT,j)};return()=>{var j;const re=(j=t.format)!=null?j:DEFAULT_FORMATS_DATEPICKER[t.type]||DEFAULT_FORMATS_DATE,ae=getPanel(t.type);return createVNode$1(CommonPicker,mergeProps(t,{format:re,type:t.type,ref:L,"onUpdate:modelValue":z}),{default:oe=>createVNode$1(ae,oe,{"prev-month":g["prev-month"],"next-month":g["next-month"],"prev-year":g["prev-year"],"next-year":g["next-year"]}),"range-separator":g["range-separator"]})}}});const ElDatePicker=withInstall(DatePicker),descriptionsKey=Symbol("elDescriptions");var ElDescriptionsCell=defineComponent({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:inject(descriptionsKey,{})}},render(){var t;const n=getNormalizedProps(this.cell),r=(((t=this.cell)==null?void 0:t.dirs)||[]).map(he=>{const{dir:pe,arg:_e,modifiers:Ce,value:xe}=he;return[pe,xe,_e,Ce]}),{border:g,direction:y}=this.descriptions,$=y==="vertical",L=()=>{var he,pe,_e;return((_e=(pe=(he=this.cell)==null?void 0:he.children)==null?void 0:pe.label)==null?void 0:_e.call(pe))||n.label},V=()=>{var he,pe,_e;return(_e=(pe=(he=this.cell)==null?void 0:he.children)==null?void 0:pe.default)==null?void 0:_e.call(pe)},z=n.span,j=n.rowspan,re=n.align?`is-${n.align}`:"",ae=n.labelAlign?`is-${n.labelAlign}`:re,oe=n.className,ie=n.labelClassName,le=this.type==="label"&&(n.labelWidth||this.descriptions.labelWidth)||n.width,ue={width:addUnit(le),minWidth:addUnit(n.minWidth)},de=useNamespace("descriptions");switch(this.type){case"label":return withDirectives(h$1(this.tag,{style:ue,class:[de.e("cell"),de.e("label"),de.is("bordered-label",g),de.is("vertical-label",$),ae,ie],colSpan:$?z:1,rowspan:$?1:j},L()),r);case"content":return withDirectives(h$1(this.tag,{style:ue,class:[de.e("cell"),de.e("content"),de.is("bordered-content",g),de.is("vertical-content",$),re,oe],colSpan:$?z:z*2-1,rowspan:$?j*2-1:j},V()),r);default:{const he=L(),pe={},_e=addUnit(n.labelWidth||this.descriptions.labelWidth);return _e&&(pe.width=_e,pe.display="inline-block"),withDirectives(h$1("td",{style:ue,class:[de.e("cell"),re],colSpan:z,rowspan:j},[isNil(he)?void 0:h$1("span",{style:pe,class:[de.e("label"),ie]},he),h$1("span",{class:[de.e("content"),oe]},V())]),r)}}}});const descriptionsRowProps=buildProps({row:{type:definePropType(Array),default:()=>[]}}),__default__$1a=defineComponent({name:"ElDescriptionsRow"}),_sfc_main$1J=defineComponent({...__default__$1a,props:descriptionsRowProps,setup(t){const n=inject(descriptionsKey,{});return(r,g)=>unref(n).direction==="vertical"?(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,$)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr1-${$}`,cell:y,tag:"th",type:"label"},null,8,["cell"]))),128))]),createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,$)=>(openBlock(),createBlock(unref(ElDescriptionsCell),{key:`tr2-${$}`,cell:y,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(openBlock(),createElementBlock("tr",{key:1},[(openBlock(!0),createElementBlock(Fragment,null,renderList(r.row,(y,$)=>(openBlock(),createElementBlock(Fragment,{key:`tr3-${$}`},[unref(n).border?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode$1(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"label"},null,8,["cell"]),createVNode$1(unref(ElDescriptionsCell),{cell:y,tag:"td",type:"content"},null,8,["cell"])],64)):(openBlock(),createBlock(unref(ElDescriptionsCell),{key:1,cell:y,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ElDescriptionsRow=_export_sfc$1(_sfc_main$1J,[["__file","descriptions-row.vue"]]);const descriptionProps=buildProps({border:Boolean,column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:useSizeProp,title:{type:String,default:""},extra:{type:String,default:""},labelWidth:{type:[String,Number],default:""}}),COMPONENT_NAME$g="ElDescriptionsItem",__default__$19=defineComponent({name:"ElDescriptions"}),_sfc_main$1I=defineComponent({...__default__$19,props:descriptionProps,setup(t){const n=t,r=useNamespace("descriptions"),g=useFormSize(),y=useSlots();provide(descriptionsKey,n);const $=computed(()=>[r.b(),r.m(g.value)]),L=(z,j,re,ae=!1)=>(z.props||(z.props={}),j>re&&(z.props.span=re),ae&&(z.props.span=j),z),V=()=>{if(!y.default)return[];const z=flattedChildren(y.default()).filter(le=>{var ue;return((ue=le==null?void 0:le.type)==null?void 0:ue.name)===COMPONENT_NAME$g}),j=[];let re=[],ae=n.column,oe=0;const ie=[];return z.forEach((le,ue)=>{var de,he,pe;const _e=((de=le.props)==null?void 0:de.span)||1,Ce=((he=le.props)==null?void 0:he.rowspan)||1,xe=j.length;if(ie[xe]||(ie[xe]=0),Ce>1)for(let Ie=1;Ie<Ce;Ie++)ie[pe=xe+Ie]||(ie[pe]=0),ie[xe+Ie]++,oe++;if(ie[xe]>0&&(ae-=ie[xe],ie[xe]=0),ue<z.length-1&&(oe+=_e>ae?ae:_e),ue===z.length-1){const Ie=n.column-oe%n.column;re.push(L(le,Ie,ae,!0)),j.push(re);return}_e<ae?(ae-=_e,re.push(le)):(re.push(L(le,_e,ae)),j.push(re),ae=n.column,re=[])}),j};return(z,j)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref($))},[z.title||z.extra||z.$slots.title||z.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(r).e("title"))},[renderSlot(z.$slots,"title",{},()=>[createTextVNode(toDisplayString(z.title),1)])],2),createBaseVNode("div",{class:normalizeClass(unref(r).e("extra"))},[renderSlot(z.$slots,"extra",{},()=>[createTextVNode(toDisplayString(z.extra),1)])],2)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("body"))},[createBaseVNode("table",{class:normalizeClass([unref(r).e("table"),unref(r).is("bordered",z.border)])},[createBaseVNode("tbody",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V(),(re,ae)=>(openBlock(),createBlock(ElDescriptionsRow,{key:ae,row:re},null,8,["row"]))),128))])],2)],2)],2))}});var Descriptions=_export_sfc$1(_sfc_main$1I,[["__file","description.vue"]]);const columnAlignment=["left","center","right"],descriptionItemProps=buildProps({label:{type:String,default:""},span:{type:Number,default:1},rowspan:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},labelWidth:{type:[String,Number],default:""},align:{type:String,values:columnAlignment,default:"left"},labelAlign:{type:String,values:columnAlignment},className:{type:String,default:""},labelClassName:{type:String,default:""}}),DescriptionItem=defineComponent({name:COMPONENT_NAME$g,props:descriptionItemProps}),ElDescriptions=withInstall(Descriptions,{DescriptionsItem:DescriptionItem}),ElDescriptionsItem=withNoopInstall(DescriptionItem),useSameTarget=t=>{if(!t)return{onClick:NOOP,onMousedown:NOOP,onMouseup:NOOP};let n=!1,r=!1;return{onClick:L=>{n&&r&&t(L),n=r=!1},onMousedown:L=>{n=L.target===L.currentTarget},onMouseup:L=>{r=L.target===L.currentTarget}}},overlayProps=buildProps({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:definePropType([String,Array,Object])},zIndex:{type:definePropType([String,Number])}}),overlayEmits={click:t=>t instanceof MouseEvent},BLOCK="overlay";var Overlay$2=defineComponent({name:"ElOverlay",props:overlayProps,emits:overlayEmits,setup(t,{slots:n,emit:r}){const g=useNamespace(BLOCK),y=z=>{r("click",z)},{onClick:$,onMousedown:L,onMouseup:V}=useSameTarget(t.customMaskEvent?void 0:y);return()=>t.mask?createVNode$1("div",{class:[g.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:$,onMousedown:L,onMouseup:V},[renderSlot(n,"default")],PatchFlags.STYLE|PatchFlags.CLASS|PatchFlags.PROPS,["onClick","onMouseup","onMousedown"]):h$1("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[renderSlot(n,"default")])}});const ElOverlay=Overlay$2,dialogInjectionKey=Symbol("dialogInjectionKey"),dialogContentProps=buildProps({center:Boolean,alignCenter:Boolean,closeIcon:{type:iconPropType},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,headerClass:String,bodyClass:String,footerClass:String,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),dialogContentEmits={close:()=>!0},useDraggable=(t,n,r,g)=>{const y={offsetX:0,offsetY:0},$=(ae,oe)=>{if(t.value){const{offsetX:ie,offsetY:le}=y,ue=t.value.getBoundingClientRect(),de=ue.left,he=ue.top,pe=ue.width,_e=ue.height,Ce=document.documentElement.clientWidth,xe=document.documentElement.clientHeight,Ie=-de+ie,$e=-he+le,Oe=Ce-de-pe+ie,Ne=xe-he-(_e<xe?_e:0)+le;g!=null&&g.value||(ae=Math.min(Math.max(ae,Ie),Oe),oe=Math.min(Math.max(oe,$e),Ne)),y.offsetX=ae,y.offsetY=oe,t.value.style.transform=`translate(${addUnit(ae)}, ${addUnit(oe)})`}},L=ae=>{const oe=ae.clientX,ie=ae.clientY,{offsetX:le,offsetY:ue}=y,de=pe=>{const _e=le+pe.clientX-oe,Ce=ue+pe.clientY-ie;$(_e,Ce)},he=()=>{document.removeEventListener("mousemove",de),document.removeEventListener("mouseup",he)};document.addEventListener("mousemove",de),document.addEventListener("mouseup",he)},V=()=>{n.value&&t.value&&(n.value.addEventListener("mousedown",L),window.addEventListener("resize",re))},z=()=>{n.value&&t.value&&(n.value.removeEventListener("mousedown",L),window.removeEventListener("resize",re))},j=()=>{y.offsetX=0,y.offsetY=0,t.value&&(t.value.style.transform="")},re=()=>{const{offsetX:ae,offsetY:oe}=y;$(ae,oe)};return onMounted(()=>{watchEffect(()=>{r.value?V():z()})}),onBeforeUnmount(()=>{z()}),{resetPosition:j,updatePosition:re}},composeRefs=(...t)=>n=>{t.forEach(r=>{isFunction$3(r)?r(n):r.value=n})},__default__$18=defineComponent({name:"ElDialogContent"}),_sfc_main$1H=defineComponent({...__default__$18,props:dialogContentProps,emits:dialogContentEmits,setup(t,{expose:n}){const r=t,{t:g}=useLocale(),{Close:y}=CloseComponents,{dialogRef:$,headerRef:L,bodyId:V,ns:z,style:j}=inject(dialogInjectionKey),{focusTrapRef:re}=inject(FOCUS_TRAP_INJECTION_KEY),ae=computed(()=>[z.b(),z.is("fullscreen",r.fullscreen),z.is("draggable",r.draggable),z.is("align-center",r.alignCenter),{[z.m("center")]:r.center}]),oe=composeRefs(re,$),ie=computed(()=>r.draggable),le=computed(()=>r.overflow),{resetPosition:ue,updatePosition:de}=useDraggable($,L,ie,le);return n({resetPosition:ue,updatePosition:de}),(he,pe)=>(openBlock(),createElementBlock("div",{ref:unref(oe),class:normalizeClass(unref(ae)),style:normalizeStyle$1(unref(j)),tabindex:"-1"},[createBaseVNode("header",{ref_key:"headerRef",ref:L,class:normalizeClass([unref(z).e("header"),he.headerClass,{"show-close":he.showClose}])},[renderSlot(he.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading","aria-level":he.ariaLevel,class:normalizeClass(unref(z).e("title"))},toDisplayString(he.title),11,["aria-level"])]),he.showClose?(openBlock(),createElementBlock("button",{key:0,"aria-label":unref(g)("el.dialog.close"),class:normalizeClass(unref(z).e("headerbtn")),type:"button",onClick:_e=>he.$emit("close")},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(z).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(he.closeIcon||unref(y))))]),_:1},8,["class"])],10,["aria-label","onClick"])):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{id:unref(V),class:normalizeClass([unref(z).e("body"),he.bodyClass])},[renderSlot(he.$slots,"default")],10,["id"]),he.$slots.footer?(openBlock(),createElementBlock("footer",{key:0,class:normalizeClass([unref(z).e("footer"),he.footerClass])},[renderSlot(he.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6))}});var ElDialogContent=_export_sfc$1(_sfc_main$1H,[["__file","dialog-content.vue"]]);const dialogProps=buildProps({...dialogContentProps,appendToBody:Boolean,appendTo:{type:teleportProps.to.type,default:"body"},beforeClose:{type:definePropType(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,headerClass:String,bodyClass:String,footerClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:Boolean,headerAriaLevel:{type:String,default:"2"}}),dialogEmits={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[UPDATE_MODEL_EVENT]:t=>isBoolean(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},useLockscreen=(t,n={})=>{isRef(t)||throwError$1("[useLockscreen]","You need to pass a ref param to this function");const r=n.ns||useNamespace("popup"),g=computed(()=>r.bm("parent","hidden"));if(!isClient||hasClass(document.body,g.value))return;let y=0,$=!1,L="0";const V=()=>{setTimeout(()=>{typeof document>"u"||$&&document&&(document.body.style.width=L,removeClass(document.body,g.value))},200)};watch(t,z=>{if(!z){V();return}$=!hasClass(document.body,g.value),$&&(L=document.body.style.width,addClass(document.body,g.value)),y=getScrollBarWidth(r.namespace.value);const j=document.documentElement.clientHeight<document.body.scrollHeight,re=getStyle$1(document.body,"overflowY");y>0&&(j||re==="scroll")&&$&&(document.body.style.width=`calc(100% - ${y}px)`)}),onScopeDispose(()=>V())},useDialog=(t,n)=>{var r;const y=getCurrentInstance().emit,{nextZIndex:$}=useZIndex();let L="";const V=useId(),z=useId(),j=ref(!1),re=ref(!1),ae=ref(!1),oe=ref((r=t.zIndex)!=null?r:$());let ie,le;const ue=useGlobalConfig("namespace",defaultNamespace),de=computed(()=>{const Ue={},qe=`--${ue.value}-dialog`;return t.fullscreen||(t.top&&(Ue[`${qe}-margin-top`]=t.top),t.width&&(Ue[`${qe}-width`]=addUnit(t.width))),Ue}),he=computed(()=>t.alignCenter?{display:"flex"}:{});function pe(){y("opened")}function _e(){y("closed"),y(UPDATE_MODEL_EVENT,!1),t.destroyOnClose&&(ae.value=!1)}function Ce(){y("close")}function xe(){le==null||le(),ie==null||ie(),t.openDelay&&t.openDelay>0?{stop:ie}=useTimeoutFn(()=>Ne(),t.openDelay):Ne()}function Ie(){ie==null||ie(),le==null||le(),t.closeDelay&&t.closeDelay>0?{stop:le}=useTimeoutFn(()=>Fe(),t.closeDelay):Fe()}function $e(){function Ue(qe){qe||(re.value=!0,j.value=!1)}t.beforeClose?t.beforeClose(Ue):Ie()}function Oe(){t.closeOnClickModal&&$e()}function Ne(){isClient&&(j.value=!0)}function Fe(){j.value=!1}function Ve(){y("openAutoFocus")}function ze(){y("closeAutoFocus")}function Et(Ue){var qe;((qe=Ue.detail)==null?void 0:qe.focusReason)==="pointer"&&Ue.preventDefault()}t.lockScroll&&useLockscreen(j);function Dt(){t.closeOnPressEscape&&$e()}return watch(()=>t.zIndex,()=>{var Ue;oe.value=(Ue=t.zIndex)!=null?Ue:$()}),watch(()=>t.modelValue,Ue=>{var qe;Ue?(re.value=!1,xe(),ae.value=!0,oe.value=(qe=t.zIndex)!=null?qe:$(),nextTick(()=>{y("open"),n.value&&(n.value.parentElement.scrollTop=0,n.value.parentElement.scrollLeft=0,n.value.scrollTop=0)})):j.value&&Ie()}),watch(()=>t.fullscreen,Ue=>{n.value&&(Ue?(L=n.value.style.transform,n.value.style.transform=""):n.value.style.transform=L)}),onMounted(()=>{t.modelValue&&(j.value=!0,ae.value=!0,xe())}),{afterEnter:pe,afterLeave:_e,beforeLeave:Ce,handleClose:$e,onModalClick:Oe,close:Ie,doClose:Fe,onOpenAutoFocus:Ve,onCloseAutoFocus:ze,onCloseRequested:Dt,onFocusoutPrevented:Et,titleId:V,bodyId:z,closed:re,style:de,overlayDialogStyle:he,rendered:ae,visible:j,zIndex:oe}},__default__$17=defineComponent({name:"ElDialog",inheritAttrs:!1}),_sfc_main$1G=defineComponent({...__default__$17,props:dialogProps,emits:dialogEmits,setup(t,{expose:n}){const r=t,g=useSlots();useDeprecated({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},computed(()=>!!g.title));const y=useNamespace("dialog"),$=ref(),L=ref(),V=ref(),{visible:z,titleId:j,bodyId:re,style:ae,overlayDialogStyle:oe,rendered:ie,zIndex:le,afterEnter:ue,afterLeave:de,beforeLeave:he,handleClose:pe,onModalClick:_e,onOpenAutoFocus:Ce,onCloseAutoFocus:xe,onCloseRequested:Ie,onFocusoutPrevented:$e}=useDialog(r,$);provide(dialogInjectionKey,{dialogRef:$,headerRef:L,bodyId:re,ns:y,rendered:ie,style:ae});const Oe=useSameTarget(_e),Ne=computed(()=>r.draggable&&!r.fullscreen);return n({visible:z,dialogContentRef:V,resetPosition:()=>{var Ve;(Ve=V.value)==null||Ve.resetPosition()},handleClose:pe}),(Ve,ze)=>(openBlock(),createBlock(unref(ElTeleport),{to:Ve.appendTo,disabled:Ve.appendTo!=="body"?!1:!Ve.appendToBody},{default:withCtx(()=>[createVNode$1(Transition,{name:"dialog-fade",onAfterEnter:unref(ue),onAfterLeave:unref(de),onBeforeLeave:unref(he),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(unref(ElOverlay),{"custom-mask-event":"",mask:Ve.modal,"overlay-class":Ve.modalClass,"z-index":unref(le)},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-modal":"true","aria-label":Ve.title||void 0,"aria-labelledby":Ve.title?void 0:unref(j),"aria-describedby":unref(re),class:normalizeClass(`${unref(y).namespace.value}-overlay-dialog`),style:normalizeStyle$1(unref(oe)),onClick:unref(Oe).onClick,onMousedown:unref(Oe).onMousedown,onMouseup:unref(Oe).onMouseup},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:unref(z),"focus-start-el":"container",onFocusAfterTrapped:unref(Ce),onFocusAfterReleased:unref(xe),onFocusoutPrevented:unref($e),onReleaseRequested:unref(Ie)},{default:withCtx(()=>[unref(ie)?(openBlock(),createBlock(ElDialogContent,mergeProps({key:0,ref_key:"dialogContentRef",ref:V},Ve.$attrs,{center:Ve.center,"align-center":Ve.alignCenter,"close-icon":Ve.closeIcon,draggable:unref(Ne),overflow:Ve.overflow,fullscreen:Ve.fullscreen,"header-class":Ve.headerClass,"body-class":Ve.bodyClass,"footer-class":Ve.footerClass,"show-close":Ve.showClose,title:Ve.title,"aria-level":Ve.headerAriaLevel,onClose:unref(pe)}),createSlots({header:withCtx(()=>[Ve.$slots.title?renderSlot(Ve.$slots,"title",{key:1}):renderSlot(Ve.$slots,"header",{key:0,close:unref(pe),titleId:unref(j),titleClass:unref(y).e("title")})]),default:withCtx(()=>[renderSlot(Ve.$slots,"default")]),_:2},[Ve.$slots.footer?{name:"footer",fn:withCtx(()=>[renderSlot(Ve.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","header-class","body-class","footer-class","show-close","title","aria-level","onClose"])):createCommentVNode("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,["aria-label","aria-labelledby","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["mask","overlay-class","z-index"]),[[vShow,unref(z)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Dialog=_export_sfc$1(_sfc_main$1G,[["__file","dialog.vue"]]);const ElDialog=withInstall(Dialog),dividerProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:definePropType(String),default:"solid"}}),__default__$16=defineComponent({name:"ElDivider"}),_sfc_main$1F=defineComponent({...__default__$16,props:dividerProps,setup(t){const n=t,r=useNamespace("divider"),g=computed(()=>r.cssVar({"border-style":n.borderStyle}));return(y,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(r).b(),unref(r).m(y.direction)]),style:normalizeStyle$1(unref(g)),role:"separator"},[y.$slots.default&&y.direction!=="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("text"),unref(r).is(y.contentPosition)])},[renderSlot(y.$slots,"default")],2)):createCommentVNode("v-if",!0)],6))}});var Divider=_export_sfc$1(_sfc_main$1F,[["__file","divider.vue"]]);const ElDivider=withInstall(Divider),drawerProps=buildProps({...dialogProps,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),drawerEmits=dialogEmits,__default__$15=defineComponent({name:"ElDrawer",inheritAttrs:!1}),_sfc_main$1E=defineComponent({...__default__$15,props:drawerProps,emits:drawerEmits,setup(t,{expose:n}){const r=t,g=useSlots();useDeprecated({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},computed(()=>!!g.title));const y=ref(),$=ref(),L=useNamespace("drawer"),{t:V}=useLocale(),{afterEnter:z,afterLeave:j,beforeLeave:re,visible:ae,rendered:oe,titleId:ie,bodyId:le,zIndex:ue,onModalClick:de,onOpenAutoFocus:he,onCloseAutoFocus:pe,onFocusoutPrevented:_e,onCloseRequested:Ce,handleClose:xe}=useDialog(r,y),Ie=computed(()=>r.direction==="rtl"||r.direction==="ltr"),$e=computed(()=>addUnit(r.size));return n({handleClose:xe,afterEnter:z,afterLeave:j}),(Oe,Ne)=>(openBlock(),createBlock(unref(ElTeleport),{to:Oe.appendTo,disabled:Oe.appendTo!=="body"?!1:!Oe.appendToBody},{default:withCtx(()=>[createVNode$1(Transition,{name:unref(L).b("fade"),onAfterEnter:unref(z),onAfterLeave:unref(j),onBeforeLeave:unref(re),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(unref(ElOverlay),{mask:Oe.modal,"overlay-class":Oe.modalClass,"z-index":unref(ue),onClick:unref(de)},{default:withCtx(()=>[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:unref(ae),"focus-trap-el":y.value,"focus-start-el":$.value,onFocusAfterTrapped:unref(he),onFocusAfterReleased:unref(pe),onFocusoutPrevented:unref(_e),onReleaseRequested:unref(Ce)},{default:withCtx(()=>[createBaseVNode("div",mergeProps({ref_key:"drawerRef",ref:y,"aria-modal":"true","aria-label":Oe.title||void 0,"aria-labelledby":Oe.title?void 0:unref(ie),"aria-describedby":unref(le)},Oe.$attrs,{class:[unref(L).b(),Oe.direction,unref(ae)&&"open"],style:unref(Ie)?"width: "+unref($e):"height: "+unref($e),role:"dialog",onClick:withModifiers(()=>{},["stop"])}),[createBaseVNode("span",{ref_key:"focusStartRef",ref:$,class:normalizeClass(unref(L).e("sr-focus")),tabindex:"-1"},null,2),Oe.withHeader?(openBlock(),createElementBlock("header",{key:0,class:normalizeClass([unref(L).e("header"),Oe.headerClass])},[Oe.$slots.title?renderSlot(Oe.$slots,"title",{key:1},()=>[createCommentVNode(" DEPRECATED SLOT ")]):renderSlot(Oe.$slots,"header",{key:0,close:unref(xe),titleId:unref(ie),titleClass:unref(L).e("title")},()=>[Oe.$slots.title?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,id:unref(ie),role:"heading","aria-level":Oe.headerAriaLevel,class:normalizeClass(unref(L).e("title"))},toDisplayString(Oe.title),11,["id","aria-level"]))]),Oe.showClose?(openBlock(),createElementBlock("button",{key:2,"aria-label":unref(V)("el.drawer.close"),class:normalizeClass(unref(L).e("close-btn")),type:"button",onClick:unref(xe)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(L).e("close"))},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"])],10,["aria-label","onClick"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),unref(oe)?(openBlock(),createElementBlock("div",{key:1,id:unref(le),class:normalizeClass([unref(L).e("body"),Oe.bodyClass])},[renderSlot(Oe.$slots,"default")],10,["id"])):createCommentVNode("v-if",!0),Oe.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass([unref(L).e("footer"),Oe.footerClass])},[renderSlot(Oe.$slots,"footer")],2)):createCommentVNode("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[vShow,unref(ae)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}});var Drawer=_export_sfc$1(_sfc_main$1E,[["__file","drawer.vue"]]);const ElDrawer=withInstall(Drawer),_sfc_main$1D=defineComponent({inheritAttrs:!1});function _sfc_render$q(t,n,r,g,y,$){return renderSlot(t.$slots,"default")}var Collection=_export_sfc$1(_sfc_main$1D,[["render",_sfc_render$q],["__file","collection.vue"]]);const _sfc_main$1C=defineComponent({name:"ElCollectionItem",inheritAttrs:!1});function _sfc_render$p(t,n,r,g,y,$){return renderSlot(t.$slots,"default")}var CollectionItem=_export_sfc$1(_sfc_main$1C,[["render",_sfc_render$p],["__file","collection-item.vue"]]);const COLLECTION_ITEM_SIGN="data-el-collection-item",createCollectionWithScope=t=>{const n=`El${t}Collection`,r=`${n}Item`,g=Symbol(n),y=Symbol(r),$={...Collection,name:n,setup(){const V=ref(),z=new Map;provide(g,{itemMap:z,getItems:()=>{const re=unref(V);if(!re)return[];const ae=Array.from(re.querySelectorAll(`[${COLLECTION_ITEM_SIGN}]`));return[...z.values()].sort((ie,le)=>ae.indexOf(ie.ref)-ae.indexOf(le.ref))},collectionRef:V})}},L={...CollectionItem,name:r,setup(V,{attrs:z}){const j=ref(),re=inject(g,void 0);provide(y,{collectionItemRef:j}),onMounted(()=>{const ae=unref(j);ae&&re.itemMap.set(ae,{ref:ae,...z})}),onBeforeUnmount(()=>{const ae=unref(j);re.itemMap.delete(ae)})}};return{COLLECTION_INJECTION_KEY:g,COLLECTION_ITEM_INJECTION_KEY:y,ElCollection:$,ElCollectionItem:L}},rovingFocusGroupProps=buildProps({style:{type:definePropType([String,Array,Object])},currentTabId:{type:definePropType(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:definePropType(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:ElCollection$1,ElCollectionItem:ElCollectionItem$1,COLLECTION_INJECTION_KEY:COLLECTION_INJECTION_KEY$1,COLLECTION_ITEM_INJECTION_KEY:COLLECTION_ITEM_INJECTION_KEY$1}=createCollectionWithScope("RovingFocusGroup"),ROVING_FOCUS_GROUP_INJECTION_KEY=Symbol("elRovingFocusGroup"),ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY=Symbol("elRovingFocusGroupItem"),MAP_KEY_TO_FOCUS_INTENT={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},getDirectionAwareKey=(t,n)=>t,getFocusIntent=(t,n,r)=>{const g=getDirectionAwareKey(t.code);return MAP_KEY_TO_FOCUS_INTENT[g]},reorderArray=(t,n)=>t.map((r,g)=>t[(g+n)%t.length]),focusFirst=t=>{const{activeElement:n}=document;for(const r of t)if(r===n||(r.focus(),n!==document.activeElement))return},CURRENT_TAB_ID_CHANGE_EVT="currentTabIdChange",ENTRY_FOCUS_EVT="rovingFocusGroup.entryFocus",EVT_OPTS={bubbles:!1,cancelable:!0},_sfc_main$1B=defineComponent({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:rovingFocusGroupProps,emits:[CURRENT_TAB_ID_CHANGE_EVT,"entryFocus"],setup(t,{emit:n}){var r;const g=ref((r=t.currentTabId||t.defaultCurrentTabId)!=null?r:null),y=ref(!1),$=ref(!1),L=ref(),{getItems:V}=inject(COLLECTION_INJECTION_KEY$1,void 0),z=computed(()=>[{outline:"none"},t.style]),j=ue=>{n(CURRENT_TAB_ID_CHANGE_EVT,ue)},re=()=>{y.value=!0},ae=composeEventHandlers(ue=>{var de;(de=t.onMousedown)==null||de.call(t,ue)},()=>{$.value=!0}),oe=composeEventHandlers(ue=>{var de;(de=t.onFocus)==null||de.call(t,ue)},ue=>{const de=!unref($),{target:he,currentTarget:pe}=ue;if(he===pe&&de&&!unref(y)){const _e=new Event(ENTRY_FOCUS_EVT,EVT_OPTS);if(pe==null||pe.dispatchEvent(_e),!_e.defaultPrevented){const Ce=V().filter(Ne=>Ne.focusable),xe=Ce.find(Ne=>Ne.active),Ie=Ce.find(Ne=>Ne.id===unref(g)),Oe=[xe,Ie,...Ce].filter(Boolean).map(Ne=>Ne.ref);focusFirst(Oe)}}$.value=!1}),ie=composeEventHandlers(ue=>{var de;(de=t.onBlur)==null||de.call(t,ue)},()=>{y.value=!1}),le=(...ue)=>{n("entryFocus",...ue)};provide(ROVING_FOCUS_GROUP_INJECTION_KEY,{currentTabbedId:readonly(g),loop:toRef(t,"loop"),tabIndex:computed(()=>unref(y)?-1:0),rovingFocusGroupRef:L,rovingFocusGroupRootStyle:z,orientation:toRef(t,"orientation"),dir:toRef(t,"dir"),onItemFocus:j,onItemShiftTab:re,onBlur:ie,onFocus:oe,onMousedown:ae}),watch(()=>t.currentTabId,ue=>{g.value=ue??null}),useEventListener(L,ENTRY_FOCUS_EVT,le)}});function _sfc_render$o(t,n,r,g,y,$){return renderSlot(t.$slots,"default")}var ElRovingFocusGroupImpl=_export_sfc$1(_sfc_main$1B,[["render",_sfc_render$o],["__file","roving-focus-group-impl.vue"]]);const _sfc_main$1A=defineComponent({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:ElCollection$1,ElRovingFocusGroupImpl}});function _sfc_render$n(t,n,r,g,y,$){const L=resolveComponent("el-roving-focus-group-impl"),V=resolveComponent("el-focus-group-collection");return openBlock(),createBlock(V,null,{default:withCtx(()=>[createVNode$1(L,normalizeProps(guardReactiveProps(t.$attrs)),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16)]),_:3})}var ElRovingFocusGroup=_export_sfc$1(_sfc_main$1A,[["render",_sfc_render$n],["__file","roving-focus-group.vue"]]);const dropdownProps=buildProps({trigger:useTooltipTriggerProps.trigger,triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space,EVENT_CODE.down]},effect:{...useTooltipContentProps.effect,default:"light"},type:{type:definePropType(String)},placement:{type:definePropType(String),default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:definePropType([Number,String]),default:0},maxHeight:{type:definePropType([Number,String]),default:""},popperClass:{type:String,default:""},disabled:Boolean,role:{type:String,values:roleTypes,default:"menu"},buttonProps:{type:definePropType(Object)},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0}}),dropdownItemProps=buildProps({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:iconPropType}}),dropdownMenuProps=buildProps({onKeydown:{type:definePropType(Function)}}),FIRST_KEYS=[EVENT_CODE.down,EVENT_CODE.pageDown,EVENT_CODE.home],LAST_KEYS=[EVENT_CODE.up,EVENT_CODE.pageUp,EVENT_CODE.end],FIRST_LAST_KEYS=[...FIRST_KEYS,...LAST_KEYS],{ElCollection,ElCollectionItem,COLLECTION_INJECTION_KEY,COLLECTION_ITEM_INJECTION_KEY}=createCollectionWithScope("Dropdown"),DROPDOWN_INJECTION_KEY=Symbol("elDropdown"),DROPDOWN_INSTANCE_INJECTION_KEY="elDropdown",{ButtonGroup:ElButtonGroup}=ElButton,_sfc_main$1z=defineComponent({name:"ElDropdown",components:{ElButton,ElButtonGroup,ElScrollbar,ElDropdownCollection:ElCollection,ElTooltip,ElRovingFocusGroup,ElOnlyChild:OnlyChild,ElIcon,ArrowDown:arrow_down_default},props:dropdownProps,emits:["visible-change","click","command"],setup(t,{emit:n}){const r=getCurrentInstance(),g=useNamespace("dropdown"),{t:y}=useLocale(),$=ref(),L=ref(),V=ref(),z=ref(),j=ref(null),re=ref(null),ae=ref(!1),oe=computed(()=>({maxHeight:addUnit(t.maxHeight)})),ie=computed(()=>[g.m(Ce.value)]),le=computed(()=>castArray$1(t.trigger)),ue=useId().value,de=computed(()=>t.id||ue);watch([$,le],([qe,Lt],[Pt])=>{var At,vn,En;(At=Pt==null?void 0:Pt.$el)!=null&&At.removeEventListener&&Pt.$el.removeEventListener("pointerenter",Ie),(vn=qe==null?void 0:qe.$el)!=null&&vn.removeEventListener&&qe.$el.removeEventListener("pointerenter",Ie),(En=qe==null?void 0:qe.$el)!=null&&En.addEventListener&&Lt.includes("hover")&&qe.$el.addEventListener("pointerenter",Ie)},{immediate:!0}),onBeforeUnmount(()=>{var qe,Lt;(Lt=(qe=$.value)==null?void 0:qe.$el)!=null&&Lt.removeEventListener&&$.value.$el.removeEventListener("pointerenter",Ie)});function he(){pe()}function pe(){var qe;(qe=V.value)==null||qe.onClose()}function _e(){var qe;(qe=V.value)==null||qe.onOpen()}const Ce=useFormSize();function xe(...qe){n("command",...qe)}function Ie(){var qe,Lt;(Lt=(qe=$.value)==null?void 0:qe.$el)==null||Lt.focus()}function $e(){}function Oe(){const qe=unref(z);le.value.includes("hover")&&(qe==null||qe.focus()),re.value=null}function Ne(qe){re.value=qe}function Fe(qe){ae.value||(qe.preventDefault(),qe.stopImmediatePropagation())}function Ve(){n("visible-change",!0)}function ze(qe){var Lt;(qe==null?void 0:qe.type)==="keydown"&&((Lt=z.value)==null||Lt.focus())}function Et(){n("visible-change",!1)}return provide(DROPDOWN_INJECTION_KEY,{contentRef:z,role:computed(()=>t.role),triggerId:de,isUsingKeyboard:ae,onItemEnter:$e,onItemLeave:Oe}),provide(DROPDOWN_INSTANCE_INJECTION_KEY,{instance:r,dropdownSize:Ce,handleClick:he,commandHandler:xe,trigger:toRef(t,"trigger"),hideOnClick:toRef(t,"hideOnClick")}),{t:y,ns:g,scrollbar:j,wrapStyle:oe,dropdownTriggerKls:ie,dropdownSize:Ce,triggerId:de,currentTabId:re,handleCurrentTabIdChange:Ne,handlerMainButtonClick:qe=>{n("click",qe)},handleEntryFocus:Fe,handleClose:pe,handleOpen:_e,handleBeforeShowTooltip:Ve,handleShowTooltip:ze,handleBeforeHideTooltip:Et,onFocusAfterTrapped:qe=>{var Lt,Pt;qe.preventDefault(),(Pt=(Lt=z.value)==null?void 0:Lt.focus)==null||Pt.call(Lt,{preventScroll:!0})},popperRef:V,contentRef:z,triggeringElementRef:$,referenceElementRef:L}}});function _sfc_render$m(t,n,r,g,y,$){var L;const V=resolveComponent("el-dropdown-collection"),z=resolveComponent("el-roving-focus-group"),j=resolveComponent("el-scrollbar"),re=resolveComponent("el-only-child"),ae=resolveComponent("el-tooltip"),oe=resolveComponent("el-button"),ie=resolveComponent("arrow-down"),le=resolveComponent("el-icon"),ue=resolveComponent("el-button-group");return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b(),t.ns.is("disabled",t.disabled)])},[createVNode$1(ae,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(L=t.referenceElementRef)==null?void 0:L.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:t.persistent,onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},createSlots({content:withCtx(()=>[createVNode$1(j,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:withCtx(()=>[createVNode$1(z,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:withCtx(()=>[createVNode$1(V,null,{default:withCtx(()=>[renderSlot(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:withCtx(()=>[createVNode$1(re,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","persistent","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(openBlock(),createBlock(ue,{key:0},{default:withCtx(()=>[createVNode$1(oe,mergeProps({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),createVNode$1(oe,mergeProps({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:withCtx(()=>[createVNode$1(le,{class:normalizeClass(t.ns.e("icon"))},{default:withCtx(()=>[createVNode$1(ie)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):createCommentVNode("v-if",!0)],2)}var Dropdown=_export_sfc$1(_sfc_main$1z,[["render",_sfc_render$m],["__file","dropdown.vue"]]);const _sfc_main$1y=defineComponent({components:{ElRovingFocusCollectionItem:ElCollectionItem$1},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:n}){const{currentTabbedId:r,loop:g,onItemFocus:y,onItemShiftTab:$}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{getItems:L}=inject(COLLECTION_INJECTION_KEY$1,void 0),V=useId(),z=ref(),j=composeEventHandlers(ie=>{n("mousedown",ie)},ie=>{t.focusable?y(unref(V)):ie.preventDefault()}),re=composeEventHandlers(ie=>{n("focus",ie)},()=>{y(unref(V))}),ae=composeEventHandlers(ie=>{n("keydown",ie)},ie=>{const{code:le,shiftKey:ue,target:de,currentTarget:he}=ie;if(le===EVENT_CODE.tab&&ue){$();return}if(de!==he)return;const pe=getFocusIntent(ie);if(pe){ie.preventDefault();let Ce=L().filter(xe=>xe.focusable).map(xe=>xe.ref);switch(pe){case"last":{Ce.reverse();break}case"prev":case"next":{pe==="prev"&&Ce.reverse();const xe=Ce.indexOf(he);Ce=g.value?reorderArray(Ce,xe+1):Ce.slice(xe+1);break}}nextTick(()=>{focusFirst(Ce)})}}),oe=computed(()=>r.value===unref(V));return provide(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,{rovingFocusGroupItemRef:z,tabIndex:computed(()=>unref(oe)?0:-1),handleMousedown:j,handleFocus:re,handleKeydown:ae}),{id:V,handleKeydown:ae,handleFocus:re,handleMousedown:j}}});function _sfc_render$l(t,n,r,g,y,$){const L=resolveComponent("el-roving-focus-collection-item");return openBlock(),createBlock(L,{id:t.id,focusable:t.focusable,active:t.active},{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var ElRovingFocusItem=_export_sfc$1(_sfc_main$1y,[["render",_sfc_render$l],["__file","roving-focus-item.vue"]]);const _sfc_main$1x=defineComponent({name:"DropdownItemImpl",components:{ElIcon},props:dropdownItemProps,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:n}){const r=useNamespace("dropdown"),{role:g}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionItemRef:y}=inject(COLLECTION_ITEM_INJECTION_KEY,void 0),{collectionItemRef:$}=inject(COLLECTION_ITEM_INJECTION_KEY$1,void 0),{rovingFocusGroupItemRef:L,tabIndex:V,handleFocus:z,handleKeydown:j,handleMousedown:re}=inject(ROVING_FOCUS_GROUP_ITEM_INJECTION_KEY,void 0),ae=composeRefs(y,$,L),oe=computed(()=>g.value==="menu"?"menuitem":g.value==="navigation"?"link":"button"),ie=composeEventHandlers(le=>{if([EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(le.code))return le.preventDefault(),le.stopImmediatePropagation(),n("clickimpl",le),!0},j);return{ns:r,itemRef:ae,dataset:{[COLLECTION_ITEM_SIGN]:""},role:oe,tabIndex:V,handleFocus:z,handleKeydown:ie,handleMousedown:re}}});function _sfc_render$k(t,n,r,g,y,$){const L=resolveComponent("el-icon");return openBlock(),createElementBlock(Fragment,null,[t.divided?(openBlock(),createElementBlock("li",{key:0,role:"separator",class:normalizeClass(t.ns.bem("menu","item","divided"))},null,2)):createCommentVNode("v-if",!0),createBaseVNode("li",mergeProps({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:V=>t.$emit("clickimpl",V),onFocus:t.handleFocus,onKeydown:withModifiers(t.handleKeydown,["self"]),onMousedown:t.handleMousedown,onPointermove:V=>t.$emit("pointermove",V),onPointerleave:V=>t.$emit("pointerleave",V)}),[t.icon?(openBlock(),createBlock(L,{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.icon)))]),_:1})):createCommentVNode("v-if",!0),renderSlot(t.$slots,"default")],16,["aria-disabled","tabindex","role","onClick","onFocus","onKeydown","onMousedown","onPointermove","onPointerleave"])],64)}var ElDropdownItemImpl=_export_sfc$1(_sfc_main$1x,[["render",_sfc_render$k],["__file","dropdown-item-impl.vue"]]);const useDropdown=()=>{const t=inject(DROPDOWN_INSTANCE_INJECTION_KEY,{}),n=computed(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:n}},_sfc_main$1w=defineComponent({name:"ElDropdownItem",components:{ElDropdownCollectionItem:ElCollectionItem,ElRovingFocusItem,ElDropdownItemImpl},inheritAttrs:!1,props:dropdownItemProps,emits:["pointermove","pointerleave","click"],setup(t,{emit:n,attrs:r}){const{elDropdown:g}=useDropdown(),y=getCurrentInstance(),$=ref(null),L=computed(()=>{var ie,le;return(le=(ie=unref($))==null?void 0:ie.textContent)!=null?le:""}),{onItemEnter:V,onItemLeave:z}=inject(DROPDOWN_INJECTION_KEY,void 0),j=composeEventHandlers(ie=>(n("pointermove",ie),ie.defaultPrevented),whenMouse(ie=>{if(t.disabled){z(ie);return}const le=ie.currentTarget;le===document.activeElement||le.contains(document.activeElement)||(V(ie),ie.defaultPrevented||le==null||le.focus())})),re=composeEventHandlers(ie=>(n("pointerleave",ie),ie.defaultPrevented),whenMouse(z)),ae=composeEventHandlers(ie=>{if(!t.disabled)return n("click",ie),ie.type!=="keydown"&&ie.defaultPrevented},ie=>{var le,ue,de;if(t.disabled){ie.stopImmediatePropagation();return}(le=g==null?void 0:g.hideOnClick)!=null&&le.value&&((ue=g.handleClick)==null||ue.call(g)),(de=g.commandHandler)==null||de.call(g,t.command,y,ie)}),oe=computed(()=>({...t,...r}));return{handleClick:ae,handlePointerMove:j,handlePointerLeave:re,textContent:L,propsAndAttrs:oe}}});function _sfc_render$j(t,n,r,g,y,$){var L;const V=resolveComponent("el-dropdown-item-impl"),z=resolveComponent("el-roving-focus-item"),j=resolveComponent("el-dropdown-collection-item");return openBlock(),createBlock(j,{disabled:t.disabled,"text-value":(L=t.textValue)!=null?L:t.textContent},{default:withCtx(()=>[createVNode$1(z,{focusable:!t.disabled},{default:withCtx(()=>[createVNode$1(V,mergeProps(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var DropdownItem=_export_sfc$1(_sfc_main$1w,[["render",_sfc_render$j],["__file","dropdown-item.vue"]]);const _sfc_main$1v=defineComponent({name:"ElDropdownMenu",props:dropdownMenuProps,setup(t){const n=useNamespace("dropdown"),{_elDropdownSize:r}=useDropdown(),g=r.value,{focusTrapRef:y,onKeydown:$}=inject(FOCUS_TRAP_INJECTION_KEY,void 0),{contentRef:L,role:V,triggerId:z}=inject(DROPDOWN_INJECTION_KEY,void 0),{collectionRef:j,getItems:re}=inject(COLLECTION_INJECTION_KEY,void 0),{rovingFocusGroupRef:ae,rovingFocusGroupRootStyle:oe,tabIndex:ie,onBlur:le,onFocus:ue,onMousedown:de}=inject(ROVING_FOCUS_GROUP_INJECTION_KEY,void 0),{collectionRef:he}=inject(COLLECTION_INJECTION_KEY$1,void 0),pe=computed(()=>[n.b("menu"),n.bm("menu",g==null?void 0:g.value)]),_e=composeRefs(L,j,y,ae,he),Ce=composeEventHandlers(Ie=>{var $e;($e=t.onKeydown)==null||$e.call(t,Ie)},Ie=>{const{currentTarget:$e,code:Oe,target:Ne}=Ie;if($e.contains(Ne),EVENT_CODE.tab===Oe&&Ie.stopImmediatePropagation(),Ie.preventDefault(),Ne!==unref(L)||!FIRST_LAST_KEYS.includes(Oe))return;const Ve=re().filter(ze=>!ze.disabled).map(ze=>ze.ref);LAST_KEYS.includes(Oe)&&Ve.reverse(),focusFirst(Ve)});return{size:g,rovingFocusGroupRootStyle:oe,tabIndex:ie,dropdownKls:pe,role:V,triggerId:z,dropdownListWrapperRef:_e,handleKeydown:Ie=>{Ce(Ie),$(Ie)},onBlur:le,onFocus:ue,onMousedown:de}}});function _sfc_render$i(t,n,r,g,y,$){return openBlock(),createElementBlock("ul",{ref:t.dropdownListWrapperRef,class:normalizeClass(t.dropdownKls),style:normalizeStyle$1(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:t.onBlur,onFocus:t.onFocus,onKeydown:withModifiers(t.handleKeydown,["self"]),onMousedown:withModifiers(t.onMousedown,["self"])},[renderSlot(t.$slots,"default")],46,["role","aria-labelledby","onBlur","onFocus","onKeydown","onMousedown"])}var DropdownMenu=_export_sfc$1(_sfc_main$1v,[["render",_sfc_render$i],["__file","dropdown-menu.vue"]]);const ElDropdown=withInstall(Dropdown,{DropdownItem,DropdownMenu}),ElDropdownItem=withNoopInstall(DropdownItem),ElDropdownMenu=withNoopInstall(DropdownMenu),__default__$14=defineComponent({name:"ImgEmpty"}),_sfc_main$1u=defineComponent({...__default__$14,setup(t){const n=useNamespace("empty"),r=useId();return(g,y)=>(openBlock(),createElementBlock("svg",{viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[createBaseVNode("defs",null,[createBaseVNode("linearGradient",{id:`linearGradient-1-${unref(r)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),createBaseVNode("linearGradient",{id:`linearGradient-2-${unref(r)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,["stop-color"]),createBaseVNode("stop",{"stop-color":`var(${unref(n).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,["stop-color"])],8,["id"]),createBaseVNode("rect",{id:`path-3-${unref(r)}`,x:"0",y:"0",width:"17",height:"36"},null,8,["id"])]),createBaseVNode("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},[createBaseVNode("g",{transform:"translate(-1268.000000, -535.000000)"},[createBaseVNode("g",{transform:"translate(1268.000000, 535.000000)"},[createBaseVNode("path",{d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${unref(n).cssVarBlockName("fill-color-3")})`},null,8,["fill"]),createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,["fill"]),createBaseVNode("g",{transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},[createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,["fill"]),createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,["fill"]),createBaseVNode("rect",{fill:`url(#linearGradient-1-${unref(r)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,["fill"]),createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,["fill"])]),createBaseVNode("rect",{fill:`url(#linearGradient-2-${unref(r)})`,x:"13",y:"45",width:"40",height:"36"},null,8,["fill"]),createBaseVNode("g",{transform:"translate(53.000000, 45.000000)"},[createBaseVNode("use",{fill:`var(${unref(n).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${unref(r)}`},null,8,["fill","xlink:href"]),createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${unref(r)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,["fill","mask"])]),createBaseVNode("polygon",{fill:`var(${unref(n).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,["fill"])])])])]))}});var ImgEmpty=_export_sfc$1(_sfc_main$1u,[["__file","img-empty.vue"]]);const emptyProps=buildProps({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),__default__$13=defineComponent({name:"ElEmpty"}),_sfc_main$1t=defineComponent({...__default__$13,props:emptyProps,setup(t){const n=t,{t:r}=useLocale(),g=useNamespace("empty"),y=computed(()=>n.description||r("el.table.emptyText")),$=computed(()=>({width:addUnit(n.imageSize)}));return(L,V)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[createBaseVNode("div",{class:normalizeClass(unref(g).e("image")),style:normalizeStyle$1(unref($))},[L.image?(openBlock(),createElementBlock("img",{key:0,src:L.image,ondragstart:"return false"},null,8,["src"])):renderSlot(L.$slots,"image",{key:1},()=>[createVNode$1(ImgEmpty)])],6),createBaseVNode("div",{class:normalizeClass(unref(g).e("description"))},[L.$slots.description?renderSlot(L.$slots,"description",{key:0}):(openBlock(),createElementBlock("p",{key:1},toDisplayString(unref(y)),1))],2),L.$slots.default?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("bottom"))},[renderSlot(L.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var Empty$1=_export_sfc$1(_sfc_main$1t,[["__file","empty.vue"]]);const ElEmpty=withInstall(Empty$1),formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean],default:!0}}),formEmits={validate:(t,n,r)=>(isArray$4(t)||isString$2(t))&&isBoolean(n)&&isString$2(r)};function useFormLabelWidth(){const t=ref([]),n=computed(()=>{if(!t.value.length)return"0";const $=Math.max(...t.value);return $?`${$}px`:""});function r($){const L=t.value.indexOf($);return L===-1&&n.value,L}function g($,L){if($&&L){const V=r(L);t.value.splice(V,1,$)}else $&&t.value.push($)}function y($){const L=r($);L>-1&&t.value.splice(L,1)}return{autoLabelWidth:n,registerLabelWidth:g,deregisterLabelWidth:y}}const filterFields=(t,n)=>{const r=castArray$1(n).map(g=>isArray$4(g)?g.join("."):g);return r.length>0?t.filter(g=>g.propString&&r.includes(g.propString)):t},COMPONENT_NAME$f="ElForm",__default__$12=defineComponent({name:COMPONENT_NAME$f}),_sfc_main$1s=defineComponent({...__default__$12,props:formProps,emits:formEmits,setup(t,{expose:n,emit:r}){const g=t,y=ref(),$=reactive([]),L=useFormSize(),V=useNamespace("form"),z=computed(()=>{const{labelPosition:Ce,inline:xe}=g;return[V.b(),V.m(L.value||"default"),{[V.m(`label-${Ce}`)]:Ce,[V.m("inline")]:xe}]}),j=Ce=>filterFields($,[Ce])[0],re=Ce=>{$.push(Ce)},ae=Ce=>{Ce.prop&&$.splice($.indexOf(Ce),1)},oe=(Ce=[])=>{g.model&&filterFields($,Ce).forEach(xe=>xe.resetField())},ie=(Ce=[])=>{filterFields($,Ce).forEach(xe=>xe.clearValidate())},le=computed(()=>!!g.model),ue=Ce=>{if($.length===0)return[];const xe=filterFields($,Ce);return xe.length?xe:[]},de=async Ce=>pe(void 0,Ce),he=async(Ce=[])=>{if(!le.value)return!1;const xe=ue(Ce);if(xe.length===0)return!0;let Ie={};for(const $e of xe)try{await $e.validate(""),$e.validateState==="error"&&$e.resetField()}catch(Oe){Ie={...Ie,...Oe}}return Object.keys(Ie).length===0?!0:Promise.reject(Ie)},pe=async(Ce=[],xe)=>{let Ie=!1;const $e=!isFunction$3(xe);try{return Ie=await he(Ce),Ie===!0&&await(xe==null?void 0:xe(Ie)),Ie}catch(Oe){if(Oe instanceof Error)throw Oe;const Ne=Oe;if(g.scrollToError&&y.value){const Fe=y.value.querySelector(`.${V.b()}-item.is-error`);Fe==null||Fe.scrollIntoView(g.scrollIntoViewOptions)}return!Ie&&await(xe==null?void 0:xe(!1,Ne)),$e&&Promise.reject(Ne)}},_e=Ce=>{var xe;const Ie=j(Ce);Ie&&((xe=Ie.$el)==null||xe.scrollIntoView(g.scrollIntoViewOptions))};return watch(()=>g.rules,()=>{g.validateOnRuleChange&&de().catch(Ce=>void 0)},{deep:!0,flush:"post"}),provide(formContextKey,reactive({...toRefs(g),emit:r,resetFields:oe,clearValidate:ie,validateField:pe,getField:j,addField:re,removeField:ae,...useFormLabelWidth()})),n({validate:de,validateField:pe,resetFields:oe,clearValidate:ie,scrollToField:_e,getField:j,fields:$}),(Ce,xe)=>(openBlock(),createElementBlock("form",{ref_key:"formRef",ref:y,class:normalizeClass(unref(z))},[renderSlot(Ce.$slots,"default")],2))}});var Form=_export_sfc$1(_sfc_main$1s,[["__file","form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},_extends.apply(this,arguments)}function _inheritsLoose(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,_setPrototypeOf(t,n)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_getPrototypeOf(t)}function _setPrototypeOf(t,n){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(g,y){return g.__proto__=y,g},_setPrototypeOf(t,n)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(t,n,r){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(y,$,L){var V=[null];V.push.apply(V,$);var z=Function.bind.apply(y,V),j=new z;return L&&_setPrototypeOf(j,L.prototype),j},_construct.apply(null,arguments)}function _isNativeFunction(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function _wrapNativeSuper(t){var n=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(g){if(g===null||!_isNativeFunction(g))return g;if(typeof g!="function")throw new TypeError("Super expression must either be null or a function");if(typeof n<"u"){if(n.has(g))return n.get(g);n.set(g,y)}function y(){return _construct(g,arguments,_getPrototypeOf(this).constructor)}return y.prototype=Object.create(g.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(y,g)},_wrapNativeSuper(t)}var formatRegExp=/%[sdj%]/g,warning=function(){};function convertFieldsError(t){if(!t||!t.length)return null;var n={};return t.forEach(function(r){var g=r.field;n[g]=n[g]||[],n[g].push(r)}),n}function format$1(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),g=1;g<n;g++)r[g-1]=arguments[g];var y=0,$=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var L=t.replace(formatRegExp,function(V){if(V==="%%")return"%";if(y>=$)return V;switch(V){case"%s":return String(r[y++]);case"%d":return Number(r[y++]);case"%j":try{return JSON.stringify(r[y++])}catch{return"[Circular]"}break;default:return V}});return L}return t}function isNativeStringType(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function isEmptyValue$1(t,n){return!!(t==null||n==="array"&&Array.isArray(t)&&!t.length||isNativeStringType(n)&&typeof t=="string"&&!t)}function asyncParallelArray(t,n,r){var g=[],y=0,$=t.length;function L(V){g.push.apply(g,V||[]),y++,y===$&&r(g)}t.forEach(function(V){n(V,L)})}function asyncSerialArray(t,n,r){var g=0,y=t.length;function $(L){if(L&&L.length){r(L);return}var V=g;g=g+1,V<y?n(t[V],$):r([])}$([])}function flattenObjArr(t){var n=[];return Object.keys(t).forEach(function(r){n.push.apply(n,t[r]||[])}),n}var AsyncValidationError=function(t){_inheritsLoose(n,t);function n(r,g){var y;return y=t.call(this,"Async Validation Error")||this,y.errors=r,y.fields=g,y}return n}(_wrapNativeSuper(Error));function asyncMap(t,n,r,g,y){if(n.first){var $=new Promise(function(oe,ie){var le=function(he){return g(he),he.length?ie(new AsyncValidationError(he,convertFieldsError(he))):oe(y)},ue=flattenObjArr(t);asyncSerialArray(ue,r,le)});return $.catch(function(oe){return oe}),$}var L=n.firstFields===!0?Object.keys(t):n.firstFields||[],V=Object.keys(t),z=V.length,j=0,re=[],ae=new Promise(function(oe,ie){var le=function(de){if(re.push.apply(re,de),j++,j===z)return g(re),re.length?ie(new AsyncValidationError(re,convertFieldsError(re))):oe(y)};V.length||(g(re),oe(y)),V.forEach(function(ue){var de=t[ue];L.indexOf(ue)!==-1?asyncSerialArray(de,r,le):asyncParallelArray(de,r,le)})});return ae.catch(function(oe){return oe}),ae}function isErrorObj(t){return!!(t&&t.message!==void 0)}function getValue(t,n){for(var r=t,g=0;g<n.length;g++){if(r==null)return r;r=r[n[g]]}return r}function complementError(t,n){return function(r){var g;return t.fullFields?g=getValue(n,t.fullFields):g=n[r.field||t.fullField],isErrorObj(r)?(r.field=r.field||t.fullField,r.fieldValue=g,r):{message:typeof r=="function"?r():r,fieldValue:g,field:r.field||t.fullField}}}function deepMerge(t,n){if(n){for(var r in n)if(n.hasOwnProperty(r)){var g=n[r];typeof g=="object"&&typeof t[r]=="object"?t[r]=_extends({},t[r],g):t[r]=g}}return t}var required$1=function(n,r,g,y,$,L){n.required&&(!g.hasOwnProperty(n.field)||isEmptyValue$1(r,L||n.type))&&y.push(format$1($.messages.required,n.fullField))},whitespace=function(n,r,g,y,$){(/^\s+$/.test(r)||r==="")&&y.push(format$1($.messages.whitespace,n.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var t="[a-fA-F\\d:]",n=function(Ce){return Ce&&Ce.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",g="[a-fA-F\\d]{1,4}",y=(`
(?:
(?:`+g+":){7}(?:"+g+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+g+":){6}(?:"+r+"|:"+g+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+g+":){5}(?::"+r+"|(?::"+g+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+g+":){4}(?:(?::"+g+"){0,1}:"+r+"|(?::"+g+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+g+":){3}(?:(?::"+g+"){0,2}:"+r+"|(?::"+g+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+g+":){2}(?:(?::"+g+"){0,3}:"+r+"|(?::"+g+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+g+":){1}(?:(?::"+g+"){0,4}:"+r+"|(?::"+g+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+g+"){0,5}:"+r+"|(?::"+g+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),$=new RegExp("(?:^"+r+"$)|(?:^"+y+"$)"),L=new RegExp("^"+r+"$"),V=new RegExp("^"+y+"$"),z=function(Ce){return Ce&&Ce.exact?$:new RegExp("(?:"+n(Ce)+r+n(Ce)+")|(?:"+n(Ce)+y+n(Ce)+")","g")};z.v4=function(_e){return _e&&_e.exact?L:new RegExp(""+n(_e)+r+n(_e),"g")},z.v6=function(_e){return _e&&_e.exact?V:new RegExp(""+n(_e)+y+n(_e),"g")};var j="(?:(?:[a-z]+:)?//)",re="(?:\\S+(?::\\S*)?@)?",ae=z.v4().source,oe=z.v6().source,ie="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",le="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",ue="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",de="(?::\\d{2,5})?",he='(?:[/?#][^\\s"]*)?',pe="(?:"+j+"|www\\.)"+re+"(?:localhost|"+ae+"|"+oe+"|"+ie+le+ue+")"+de+he;return urlReg=new RegExp("(?:^"+pe+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function(n){return types.number(n)&&parseInt(n,10)===n},float:function(n){return types.number(n)&&!types.integer(n)},array:function(n){return Array.isArray(n)},regexp:function(n){if(n instanceof RegExp)return!0;try{return!!new RegExp(n)}catch{return!1}},date:function(n){return typeof n.getTime=="function"&&typeof n.getMonth=="function"&&typeof n.getYear=="function"&&!isNaN(n.getTime())},number:function(n){return isNaN(n)?!1:typeof n=="number"},object:function(n){return typeof n=="object"&&!types.array(n)},method:function(n){return typeof n=="function"},email:function(n){return typeof n=="string"&&n.length<=320&&!!n.match(pattern$2.email)},url:function(n){return typeof n=="string"&&n.length<=2048&&!!n.match(getUrlRegex())},hex:function(n){return typeof n=="string"&&!!n.match(pattern$2.hex)}},type$1=function(n,r,g,y,$){if(n.required&&r===void 0){required$1(n,r,g,y,$);return}var L=["integer","float","array","regexp","object","method","email","number","date","url","hex"],V=n.type;L.indexOf(V)>-1?types[V](r)||y.push(format$1($.messages.types[V],n.fullField,n.type)):V&&typeof r!==n.type&&y.push(format$1($.messages.types[V],n.fullField,n.type))},range=function(n,r,g,y,$){var L=typeof n.len=="number",V=typeof n.min=="number",z=typeof n.max=="number",j=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,re=r,ae=null,oe=typeof r=="number",ie=typeof r=="string",le=Array.isArray(r);if(oe?ae="number":ie?ae="string":le&&(ae="array"),!ae)return!1;le&&(re=r.length),ie&&(re=r.replace(j,"_").length),L?re!==n.len&&y.push(format$1($.messages[ae].len,n.fullField,n.len)):V&&!z&&re<n.min?y.push(format$1($.messages[ae].min,n.fullField,n.min)):z&&!V&&re>n.max?y.push(format$1($.messages[ae].max,n.fullField,n.max)):V&&z&&(re<n.min||re>n.max)&&y.push(format$1($.messages[ae].range,n.fullField,n.min,n.max))},ENUM$1="enum",enumerable$1=function(n,r,g,y,$){n[ENUM$1]=Array.isArray(n[ENUM$1])?n[ENUM$1]:[],n[ENUM$1].indexOf(r)===-1&&y.push(format$1($.messages[ENUM$1],n.fullField,n[ENUM$1].join(", ")))},pattern$1=function(n,r,g,y,$){if(n.pattern){if(n.pattern instanceof RegExp)n.pattern.lastIndex=0,n.pattern.test(r)||y.push(format$1($.messages.pattern.mismatch,n.fullField,r,n.pattern));else if(typeof n.pattern=="string"){var L=new RegExp(n.pattern);L.test(r)||y.push(format$1($.messages.pattern.mismatch,n.fullField,r,n.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r,"string")&&!n.required)return g();rules.required(n,r,y,L,$,"string"),isEmptyValue$1(r,"string")||(rules.type(n,r,y,L,$),rules.range(n,r,y,L,$),rules.pattern(n,r,y,L,$),n.whitespace===!0&&rules.whitespace(n,r,y,L,$))}g(L)},method2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&rules.type(n,r,y,L,$)}g(L)},number2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(r===""&&(r=void 0),isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&(rules.type(n,r,y,L,$),rules.range(n,r,y,L,$))}g(L)},_boolean=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&rules.type(n,r,y,L,$)}g(L)},regexp2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),isEmptyValue$1(r)||rules.type(n,r,y,L,$)}g(L)},integer2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&(rules.type(n,r,y,L,$),rules.range(n,r,y,L,$))}g(L)},floatFn=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&(rules.type(n,r,y,L,$),rules.range(n,r,y,L,$))}g(L)},array2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(r==null&&!n.required)return g();rules.required(n,r,y,L,$,"array"),r!=null&&(rules.type(n,r,y,L,$),rules.range(n,r,y,L,$))}g(L)},object2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&rules.type(n,r,y,L,$)}g(L)},ENUM="enum",enumerable2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$),r!==void 0&&rules[ENUM](n,r,y,L,$)}g(L)},pattern2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r,"string")&&!n.required)return g();rules.required(n,r,y,L,$),isEmptyValue$1(r,"string")||rules.pattern(n,r,y,L,$)}g(L)},date2=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r,"date")&&!n.required)return g();if(rules.required(n,r,y,L,$),!isEmptyValue$1(r,"date")){var z;r instanceof Date?z=r:z=new Date(r),rules.type(n,z,y,L,$),z&&rules.range(n,z.getTime(),y,L,$)}}g(L)},required2=function(n,r,g,y,$){var L=[],V=Array.isArray(r)?"array":typeof r;rules.required(n,r,y,L,$,V),g(L)},type2=function(n,r,g,y,$){var L=n.type,V=[],z=n.required||!n.required&&y.hasOwnProperty(n.field);if(z){if(isEmptyValue$1(r,L)&&!n.required)return g();rules.required(n,r,y,V,$,L),isEmptyValue$1(r,L)||rules.type(n,r,y,V,$)}g(V)},any=function(n,r,g,y,$){var L=[],V=n.required||!n.required&&y.hasOwnProperty(n.field);if(V){if(isEmptyValue$1(r)&&!n.required)return g();rules.required(n,r,y,L,$)}g(L)},validators={string,method:method2,number:number2,boolean:_boolean,regexp:regexp2,integer:integer2,float:floatFn,array:array2,object:object2,enum:enumerable2,pattern:pattern2,date:date2,url:type2,hex:type2,email:type2,required:required2,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var n=JSON.parse(JSON.stringify(this));return n.clone=this.clone,n}}}var messages=newMessages(),Schema=function(){function t(r){this.rules=null,this._messages=messages,this.define(r)}var n=t.prototype;return n.define=function(g){var y=this;if(!g)throw new Error("Cannot configure a schema with no rules");if(typeof g!="object"||Array.isArray(g))throw new Error("Rules must be an object");this.rules={},Object.keys(g).forEach(function($){var L=g[$];y.rules[$]=Array.isArray(L)?L:[L]})},n.messages=function(g){return g&&(this._messages=deepMerge(newMessages(),g)),this._messages},n.validate=function(g,y,$){var L=this;y===void 0&&(y={}),$===void 0&&($=function(){});var V=g,z=y,j=$;if(typeof z=="function"&&(j=z,z={}),!this.rules||Object.keys(this.rules).length===0)return j&&j(null,V),Promise.resolve(V);function re(ue){var de=[],he={};function pe(Ce){if(Array.isArray(Ce)){var xe;de=(xe=de).concat.apply(xe,Ce)}else de.push(Ce)}for(var _e=0;_e<ue.length;_e++)pe(ue[_e]);de.length?(he=convertFieldsError(de),j(de,he)):j(null,V)}if(z.messages){var ae=this.messages();ae===messages&&(ae=newMessages()),deepMerge(ae,z.messages),z.messages=ae}else z.messages=this.messages();var oe={},ie=z.keys||Object.keys(this.rules);ie.forEach(function(ue){var de=L.rules[ue],he=V[ue];de.forEach(function(pe){var _e=pe;typeof _e.transform=="function"&&(V===g&&(V=_extends({},V)),he=V[ue]=_e.transform(he)),typeof _e=="function"?_e={validator:_e}:_e=_extends({},_e),_e.validator=L.getValidationMethod(_e),_e.validator&&(_e.field=ue,_e.fullField=_e.fullField||ue,_e.type=L.getType(_e),oe[ue]=oe[ue]||[],oe[ue].push({rule:_e,value:he,source:V,field:ue}))})});var le={};return asyncMap(oe,z,function(ue,de){var he=ue.rule,pe=(he.type==="object"||he.type==="array")&&(typeof he.fields=="object"||typeof he.defaultField=="object");pe=pe&&(he.required||!he.required&&ue.value),he.field=ue.field;function _e(Ie,$e){return _extends({},$e,{fullField:he.fullField+"."+Ie,fullFields:he.fullFields?[].concat(he.fullFields,[Ie]):[Ie]})}function Ce(Ie){Ie===void 0&&(Ie=[]);var $e=Array.isArray(Ie)?Ie:[Ie];!z.suppressWarning&&$e.length&&t.warning("async-validator:",$e),$e.length&&he.message!==void 0&&($e=[].concat(he.message));var Oe=$e.map(complementError(he,V));if(z.first&&Oe.length)return le[he.field]=1,de(Oe);if(!pe)de(Oe);else{if(he.required&&!ue.value)return he.message!==void 0?Oe=[].concat(he.message).map(complementError(he,V)):z.error&&(Oe=[z.error(he,format$1(z.messages.required,he.field))]),de(Oe);var Ne={};he.defaultField&&Object.keys(ue.value).map(function(ze){Ne[ze]=he.defaultField}),Ne=_extends({},Ne,ue.rule.fields);var Fe={};Object.keys(Ne).forEach(function(ze){var Et=Ne[ze],Dt=Array.isArray(Et)?Et:[Et];Fe[ze]=Dt.map(_e.bind(null,ze))});var Ve=new t(Fe);Ve.messages(z.messages),ue.rule.options&&(ue.rule.options.messages=z.messages,ue.rule.options.error=z.error),Ve.validate(ue.value,ue.rule.options||z,function(ze){var Et=[];Oe&&Oe.length&&Et.push.apply(Et,Oe),ze&&ze.length&&Et.push.apply(Et,ze),de(Et.length?Et:null)})}}var xe;if(he.asyncValidator)xe=he.asyncValidator(he,ue.value,Ce,ue.source,z);else if(he.validator){try{xe=he.validator(he,ue.value,Ce,ue.source,z)}catch(Ie){console.error==null||console.error(Ie),z.suppressValidatorError||setTimeout(function(){throw Ie},0),Ce(Ie.message)}xe===!0?Ce():xe===!1?Ce(typeof he.message=="function"?he.message(he.fullField||he.field):he.message||(he.fullField||he.field)+" fails"):xe instanceof Array?Ce(xe):xe instanceof Error&&Ce(xe.message)}xe&&xe.then&&xe.then(function(){return Ce()},function(Ie){return Ce(Ie)})},function(ue){re(ue)},V)},n.getType=function(g){if(g.type===void 0&&g.pattern instanceof RegExp&&(g.type="pattern"),typeof g.validator!="function"&&g.type&&!validators.hasOwnProperty(g.type))throw new Error(format$1("Unknown rule type %s",g.type));return g.type||"string"},n.getValidationMethod=function(g){if(typeof g.validator=="function")return g.validator;var y=Object.keys(g),$=y.indexOf("message");return $!==-1&&y.splice($,1),y.length===1&&y[0]==="required"?validators.required:validators[this.getType(g)]||void 0},t}();Schema.register=function(n,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[n]=r};Schema.warning=warning;Schema.messages=messages;Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$e="ElLabelWrap";var FormLabelWrap=defineComponent({name:COMPONENT_NAME$e,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:n}){const r=inject(formContextKey,void 0),g=inject(formItemContextKey);g||throwError$1(COMPONENT_NAME$e,"usage: <el-form-item><label-wrap /></el-form-item>");const y=useNamespace("form"),$=ref(),L=ref(0),V=()=>{var re;if((re=$.value)!=null&&re.firstElementChild){const ae=window.getComputedStyle($.value.firstElementChild).width;return Math.ceil(Number.parseFloat(ae))}else return 0},z=(re="update")=>{nextTick(()=>{n.default&&t.isAutoWidth&&(re==="update"?L.value=V():re==="remove"&&(r==null||r.deregisterLabelWidth(L.value)))})},j=()=>z("update");return onMounted(()=>{j()}),onBeforeUnmount(()=>{z("remove")}),onUpdated(()=>j()),watch(L,(re,ae)=>{t.updateAll&&(r==null||r.registerLabelWidth(re,ae))}),useResizeObserver(computed(()=>{var re,ae;return(ae=(re=$.value)==null?void 0:re.firstElementChild)!=null?ae:null}),j),()=>{var re,ae;if(!n)return null;const{isAutoWidth:oe}=t;if(oe){const ie=r==null?void 0:r.autoLabelWidth,le=g==null?void 0:g.hasLabel,ue={};if(le&&ie&&ie!=="auto"){const de=Math.max(0,Number.parseInt(ie,10)-L.value),pe=(g.labelPosition||r.labelPosition)==="left"?"marginRight":"marginLeft";de&&(ue[pe]=`${de}px`)}return createVNode$1("div",{ref:$,class:[y.be("item","label-wrap")],style:ue},[(re=n.default)==null?void 0:re.call(n)])}else return createVNode$1(Fragment,{ref:$},[(ae=n.default)==null?void 0:ae.call(n)])}}});const __default__$11=defineComponent({name:"ElFormItem"}),_sfc_main$1r=defineComponent({...__default__$11,props:formItemProps,setup(t,{expose:n}){const r=t,g=useSlots(),y=inject(formContextKey,void 0),$=inject(formItemContextKey,void 0),L=useFormSize(void 0,{formItem:!1}),V=useNamespace("form-item"),z=useId().value,j=ref([]),re=ref(""),ae=refDebounced(re,100),oe=ref(""),ie=ref();let le,ue=!1;const de=computed(()=>r.labelPosition||(y==null?void 0:y.labelPosition)),he=computed(()=>{if(de.value==="top")return{};const Cn=addUnit(r.labelWidth||(y==null?void 0:y.labelWidth)||"");return Cn?{width:Cn}:{}}),pe=computed(()=>{if(de.value==="top"||y!=null&&y.inline)return{};if(!r.label&&!r.labelWidth&&Fe)return{};const Cn=addUnit(r.labelWidth||(y==null?void 0:y.labelWidth)||"");return!r.label&&!g.label?{marginLeft:Cn}:{}}),_e=computed(()=>[V.b(),V.m(L.value),V.is("error",re.value==="error"),V.is("validating",re.value==="validating"),V.is("success",re.value==="success"),V.is("required",Ue.value||r.required),V.is("no-asterisk",y==null?void 0:y.hideRequiredAsterisk),(y==null?void 0:y.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[V.m("feedback")]:y==null?void 0:y.statusIcon,[V.m(`label-${de.value}`)]:de.value}]),Ce=computed(()=>isBoolean(r.inlineMessage)?r.inlineMessage:(y==null?void 0:y.inlineMessage)||!1),xe=computed(()=>[V.e("error"),{[V.em("error","inline")]:Ce.value}]),Ie=computed(()=>r.prop?isArray$4(r.prop)?r.prop.join("."):r.prop:""),$e=computed(()=>!!(r.label||g.label)),Oe=computed(()=>{var Cn;return(Cn=r.for)!=null?Cn:j.value.length===1?j.value[0]:void 0}),Ne=computed(()=>!Oe.value&&$e.value),Fe=!!$,Ve=computed(()=>{const Cn=y==null?void 0:y.model;if(!(!Cn||!r.prop))return getProp(Cn,r.prop).value}),ze=computed(()=>{const{required:Cn}=r,Tn=[];r.rules&&Tn.push(...castArray$1(r.rules));const xn=y==null?void 0:y.rules;if(xn&&r.prop){const Mn=getProp(xn,r.prop).value;Mn&&Tn.push(...castArray$1(Mn))}if(Cn!==void 0){const Mn=Tn.map((bn,Pn)=>[bn,Pn]).filter(([bn])=>Object.keys(bn).includes("required"));if(Mn.length>0)for(const[bn,Pn]of Mn)bn.required!==Cn&&(Tn[Pn]={...bn,required:Cn});else Tn.push({required:Cn})}return Tn}),Et=computed(()=>ze.value.length>0),Dt=Cn=>ze.value.filter(xn=>!xn.trigger||!Cn?!0:isArray$4(xn.trigger)?xn.trigger.includes(Cn):xn.trigger===Cn).map(({trigger:xn,...Mn})=>Mn),Ue=computed(()=>ze.value.some(Cn=>Cn.required)),qe=computed(()=>{var Cn;return ae.value==="error"&&r.showMessage&&((Cn=y==null?void 0:y.showMessage)!=null?Cn:!0)}),Lt=computed(()=>`${r.label||""}${(y==null?void 0:y.labelSuffix)||""}`),Pt=Cn=>{re.value=Cn},At=Cn=>{var Tn,xn;const{errors:Mn,fields:bn}=Cn;(!Mn||!bn)&&console.error(Cn),Pt("error"),oe.value=Mn?(xn=(Tn=Mn==null?void 0:Mn[0])==null?void 0:Tn.message)!=null?xn:`${r.prop} is required`:"",y==null||y.emit("validate",r.prop,!1,oe.value)},vn=()=>{Pt("success"),y==null||y.emit("validate",r.prop,!0,"")},En=async Cn=>{const Tn=Ie.value;return new Schema({[Tn]:Cn}).validate({[Tn]:Ve.value},{firstFields:!0}).then(()=>(vn(),!0)).catch(Mn=>(At(Mn),Promise.reject(Mn)))},Sn=async(Cn,Tn)=>{if(ue||!r.prop)return!1;const xn=isFunction$3(Tn);if(!Et.value)return Tn==null||Tn(!1),!1;const Mn=Dt(Cn);return Mn.length===0?(Tn==null||Tn(!0),!0):(Pt("validating"),En(Mn).then(()=>(Tn==null||Tn(!0),!0)).catch(bn=>{const{fields:Pn}=bn;return Tn==null||Tn(!1,Pn),xn?!1:Promise.reject(Pn)}))},kt=()=>{Pt(""),oe.value="",ue=!1},jt=async()=>{const Cn=y==null?void 0:y.model;if(!Cn||!r.prop)return;const Tn=getProp(Cn,r.prop);ue=!0,Tn.value=clone$5(le),await nextTick(),kt(),ue=!1},_n=Cn=>{j.value.includes(Cn)||j.value.push(Cn)},wn=Cn=>{j.value=j.value.filter(Tn=>Tn!==Cn)};watch(()=>r.error,Cn=>{oe.value=Cn||"",Pt(Cn?"error":"")},{immediate:!0}),watch(()=>r.validateStatus,Cn=>Pt(Cn||""));const hn=reactive({...toRefs(r),$el:ie,size:L,validateMessage:oe,validateState:re,labelId:z,inputIds:j,isGroup:Ne,hasLabel:$e,fieldValue:Ve,addInputId:_n,removeInputId:wn,resetField:jt,clearValidate:kt,validate:Sn,propString:Ie});return provide(formItemContextKey,hn),onMounted(()=>{r.prop&&(y==null||y.addField(hn),le=clone$5(Ve.value))}),onBeforeUnmount(()=>{y==null||y.removeField(hn)}),n({size:L,validateMessage:oe,validateState:re,validate:Sn,clearValidate:kt,resetField:jt}),(Cn,Tn)=>{var xn;return openBlock(),createElementBlock("div",{ref_key:"formItemRef",ref:ie,class:normalizeClass(unref(_e)),role:unref(Ne)?"group":void 0,"aria-labelledby":unref(Ne)?unref(z):void 0},[createVNode$1(unref(FormLabelWrap),{"is-auto-width":unref(he).width==="auto","update-all":((xn=unref(y))==null?void 0:xn.labelWidth)==="auto"},{default:withCtx(()=>[unref($e)?(openBlock(),createBlock(resolveDynamicComponent(unref(Oe)?"label":"div"),{key:0,id:unref(z),for:unref(Oe),class:normalizeClass(unref(V).e("label")),style:normalizeStyle$1(unref(he))},{default:withCtx(()=>[renderSlot(Cn.$slots,"label",{label:unref(Lt)},()=>[createTextVNode(toDisplayString(unref(Lt)),1)])]),_:3},8,["id","for","class","style"])):createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),createBaseVNode("div",{class:normalizeClass(unref(V).e("content")),style:normalizeStyle$1(unref(pe))},[renderSlot(Cn.$slots,"default"),createVNode$1(TransitionGroup,{name:`${unref(V).namespace.value}-zoom-in-top`},{default:withCtx(()=>[unref(qe)?renderSlot(Cn.$slots,"error",{key:0,error:oe.value},()=>[createBaseVNode("div",{class:normalizeClass(unref(xe))},toDisplayString(oe.value),3)]):createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var FormItem=_export_sfc$1(_sfc_main$1r,[["__file","form-item.vue"]]);const ElForm=withInstall(Form,{FormItem}),ElFormItem=withNoopInstall(FormItem),imageViewerProps=buildProps({urlList:{type:definePropType(Array),default:()=>mutable([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:definePropType(String)}}),imageViewerEmits={close:()=>!0,switch:t=>isNumber$1(t),rotate:t=>isNumber$1(t)},__default__$10=defineComponent({name:"ElImageViewer"}),_sfc_main$1q=defineComponent({...__default__$10,props:imageViewerProps,emits:imageViewerEmits,setup(t,{expose:n,emit:r}){var g;const y=t,$={CONTAIN:{name:"contain",icon:markRaw(full_screen_default)},ORIGINAL:{name:"original",icon:markRaw(scale_to_original_default)}};let L,V="";const{t:z}=useLocale(),j=useNamespace("image-viewer"),{nextZIndex:re}=useZIndex(),ae=ref(),oe=ref([]),ie=effectScope(),le=ref(!0),ue=ref(y.initialIndex),de=shallowRef($.CONTAIN),he=ref({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),pe=ref((g=y.zIndex)!=null?g:re()),_e=computed(()=>{const{urlList:wn}=y;return wn.length<=1}),Ce=computed(()=>ue.value===0),xe=computed(()=>ue.value===y.urlList.length-1),Ie=computed(()=>y.urlList[ue.value]),$e=computed(()=>[j.e("btn"),j.e("prev"),j.is("disabled",!y.infinite&&Ce.value)]),Oe=computed(()=>[j.e("btn"),j.e("next"),j.is("disabled",!y.infinite&&xe.value)]),Ne=computed(()=>{const{scale:wn,deg:hn,offsetX:Cn,offsetY:Tn,enableTransition:xn}=he.value;let Mn=Cn/wn,bn=Tn/wn;const Pn=hn*Math.PI/180,Rn=Math.cos(Pn),Fn=Math.sin(Pn);Mn=Mn*Rn+bn*Fn,bn=bn*Rn-Cn/wn*Fn;const Dn={transform:`scale(${wn}) rotate(${hn}deg) translate(${Mn}px, ${bn}px)`,transition:xn?"transform .3s":""};return de.value.name===$.CONTAIN.name&&(Dn.maxWidth=Dn.maxHeight="100%"),Dn}),Fe=computed(()=>`${ue.value+1} / ${y.urlList.length}`);function Ve(){Et(),L==null||L(),document.body.style.overflow=V,r("close")}function ze(){const wn=throttle$1(Cn=>{switch(Cn.code){case EVENT_CODE.esc:y.closeOnPressEscape&&Ve();break;case EVENT_CODE.space:Pt();break;case EVENT_CODE.left:vn();break;case EVENT_CODE.up:Sn("zoomIn");break;case EVENT_CODE.right:En();break;case EVENT_CODE.down:Sn("zoomOut");break}}),hn=throttle$1(Cn=>{const Tn=Cn.deltaY||Cn.deltaX;Sn(Tn<0?"zoomIn":"zoomOut",{zoomRate:y.zoomRate,enableTransition:!1})});ie.run(()=>{useEventListener(document,"keydown",wn),useEventListener(document,"wheel",hn)})}function Et(){ie.stop()}function Dt(){le.value=!1}function Ue(wn){le.value=!1,wn.target.alt=z("el.image.error")}function qe(wn){if(le.value||wn.button!==0||!ae.value)return;he.value.enableTransition=!1;const{offsetX:hn,offsetY:Cn}=he.value,Tn=wn.pageX,xn=wn.pageY,Mn=throttle$1(Pn=>{he.value={...he.value,offsetX:hn+Pn.pageX-Tn,offsetY:Cn+Pn.pageY-xn}}),bn=useEventListener(document,"mousemove",Mn);useEventListener(document,"mouseup",()=>{bn()}),wn.preventDefault()}function Lt(){he.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function Pt(){if(le.value)return;const wn=keysOf($),hn=Object.values($),Cn=de.value.name,xn=(hn.findIndex(Mn=>Mn.name===Cn)+1)%wn.length;de.value=$[wn[xn]],Lt()}function At(wn){const hn=y.urlList.length;ue.value=(wn+hn)%hn}function vn(){Ce.value&&!y.infinite||At(ue.value-1)}function En(){xe.value&&!y.infinite||At(ue.value+1)}function Sn(wn,hn={}){if(le.value)return;const{minScale:Cn,maxScale:Tn}=y,{zoomRate:xn,rotateDeg:Mn,enableTransition:bn}={zoomRate:y.zoomRate,rotateDeg:90,enableTransition:!0,...hn};switch(wn){case"zoomOut":he.value.scale>Cn&&(he.value.scale=Number.parseFloat((he.value.scale/xn).toFixed(3)));break;case"zoomIn":he.value.scale<Tn&&(he.value.scale=Number.parseFloat((he.value.scale*xn).toFixed(3)));break;case"clockwise":he.value.deg+=Mn,r("rotate",he.value.deg);break;case"anticlockwise":he.value.deg-=Mn,r("rotate",he.value.deg);break}he.value.enableTransition=bn}function kt(wn){var hn;((hn=wn.detail)==null?void 0:hn.focusReason)==="pointer"&&wn.preventDefault()}function jt(){y.closeOnPressEscape&&Ve()}function _n(wn){if(wn.ctrlKey){if(wn.deltaY<0)return wn.preventDefault(),!1;if(wn.deltaY>0)return wn.preventDefault(),!1}}return watch(Ie,()=>{nextTick(()=>{const wn=oe.value[0];wn!=null&&wn.complete||(le.value=!0)})}),watch(ue,wn=>{Lt(),r("switch",wn)}),onMounted(()=>{ze(),L=useEventListener("wheel",_n,{passive:!1}),V=document.body.style.overflow,document.body.style.overflow="hidden"}),n({setActiveItem:At}),(wn,hn)=>(openBlock(),createBlock(unref(ElTeleport),{to:"body",disabled:!wn.teleported},{default:withCtx(()=>[createVNode$1(Transition,{name:"viewer-fade",appear:""},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"wrapper",ref:ae,tabindex:-1,class:normalizeClass(unref(j).e("wrapper")),style:normalizeStyle$1({zIndex:pe.value})},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:"","focus-trap-el":ae.value,"focus-start-el":"container",onFocusoutPrevented:kt,onReleaseRequested:jt},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(j).e("mask")),onClick:withModifiers(Cn=>wn.hideOnClickModal&&Ve(),["self"])},null,10,["onClick"]),createCommentVNode(" CLOSE "),createBaseVNode("span",{class:normalizeClass([unref(j).e("btn"),unref(j).e("close")]),onClick:Ve},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1})],2),createCommentVNode(" ARROW "),unref(_e)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[createBaseVNode("span",{class:normalizeClass(unref($e)),onClick:vn},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1})],2),createBaseVNode("span",{class:normalizeClass(unref(Oe)),onClick:En},[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})],2)],64)),wn.$slots.progress||wn.showProgress?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(j).e("btn"),unref(j).e("progress")])},[renderSlot(wn.$slots,"progress",{activeIndex:ue.value,total:wn.urlList.length},()=>[createTextVNode(toDisplayString(unref(Fe)),1)])],2)):createCommentVNode("v-if",!0),createCommentVNode(" ACTIONS "),createBaseVNode("div",{class:normalizeClass([unref(j).e("btn"),unref(j).e("actions")])},[createBaseVNode("div",{class:normalizeClass(unref(j).e("actions__inner"))},[renderSlot(wn.$slots,"toolbar",{actions:Sn,prev:vn,next:En,reset:Pt,activeIndex:ue.value,setActiveItem:At},()=>[createVNode$1(unref(ElIcon),{onClick:Cn=>Sn("zoomOut")},{default:withCtx(()=>[createVNode$1(unref(zoom_out_default))]),_:1},8,["onClick"]),createVNode$1(unref(ElIcon),{onClick:Cn=>Sn("zoomIn")},{default:withCtx(()=>[createVNode$1(unref(zoom_in_default))]),_:1},8,["onClick"]),createBaseVNode("i",{class:normalizeClass(unref(j).e("actions__divider"))},null,2),createVNode$1(unref(ElIcon),{onClick:Pt},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de).icon)))]),_:1}),createBaseVNode("i",{class:normalizeClass(unref(j).e("actions__divider"))},null,2),createVNode$1(unref(ElIcon),{onClick:Cn=>Sn("anticlockwise")},{default:withCtx(()=>[createVNode$1(unref(refresh_left_default))]),_:1},8,["onClick"]),createVNode$1(unref(ElIcon),{onClick:Cn=>Sn("clockwise")},{default:withCtx(()=>[createVNode$1(unref(refresh_right_default))]),_:1},8,["onClick"])])],2)],2),createCommentVNode(" CANVAS "),createBaseVNode("div",{class:normalizeClass(unref(j).e("canvas"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(wn.urlList,(Cn,Tn)=>(openBlock(),createElementBlock(Fragment,{key:Tn},[Tn===ue.value?(openBlock(),createElementBlock("img",{key:0,ref_for:!0,ref:xn=>oe.value[Tn]=xn,src:Cn,style:normalizeStyle$1(unref(Ne)),class:normalizeClass(unref(j).e("img")),crossorigin:wn.crossorigin,onLoad:Dt,onError:Ue,onMousedown:qe},null,46,["src","crossorigin"])):createCommentVNode("v-if",!0)],64))),128))],2),renderSlot(wn.$slots,"default")]),_:3},8,["focus-trap-el"])],6)]),_:3})]),_:3},8,["disabled"]))}});var ImageViewer=_export_sfc$1(_sfc_main$1q,[["__file","image-viewer.vue"]]);const ElImageViewer=withInstall(ImageViewer),imageProps=buildProps({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:definePropType([String,Object])},previewSrcList:{type:definePropType(Array),default:()=>mutable([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},showProgress:{type:Boolean,default:!1},crossorigin:{type:definePropType(String)}}),imageEmits={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>isNumber$1(t),close:()=>!0,show:()=>!0},__default__$$=defineComponent({name:"ElImage",inheritAttrs:!1}),_sfc_main$1p=defineComponent({...__default__$$,props:imageProps,emits:imageEmits,setup(t,{expose:n,emit:r}){const g=t,{t:y}=useLocale(),$=useNamespace("image"),L=useAttrs$1(),V=computed(()=>fromPairs(Object.entries(L).filter(([qe])=>/^(data-|on[A-Z])/i.test(qe)||["id","style"].includes(qe)))),z=useAttrs({excludeListeners:!0,excludeKeys:computed(()=>Object.keys(V.value))}),j=ref(),re=ref(!1),ae=ref(!0),oe=ref(!1),ie=ref(),le=ref(),ue=isClient&&"loading"in HTMLImageElement.prototype;let de;const he=computed(()=>[$.e("inner"),_e.value&&$.e("preview"),ae.value&&$.is("loading")]),pe=computed(()=>{const{fit:qe}=g;return isClient&&qe?{objectFit:qe}:{}}),_e=computed(()=>{const{previewSrcList:qe}=g;return isArray$4(qe)&&qe.length>0}),Ce=computed(()=>{const{previewSrcList:qe,initialIndex:Lt}=g;let Pt=Lt;return Lt>qe.length-1&&(Pt=0),Pt}),xe=computed(()=>g.loading==="eager"?!1:!ue&&g.loading==="lazy"||g.lazy),Ie=()=>{isClient&&(ae.value=!0,re.value=!1,j.value=g.src)};function $e(qe){ae.value=!1,re.value=!1,r("load",qe)}function Oe(qe){ae.value=!1,re.value=!0,r("error",qe)}function Ne(){isInContainer(ie.value,le.value)&&(Ie(),ze())}const Fe=useThrottleFn(Ne,200,!0);async function Ve(){var qe;if(!isClient)return;await nextTick();const{scrollContainer:Lt}=g;isElement$1(Lt)?le.value=Lt:isString$2(Lt)&&Lt!==""?le.value=(qe=document.querySelector(Lt))!=null?qe:void 0:ie.value&&(le.value=getScrollContainer(ie.value)),le.value&&(de=useEventListener(le,"scroll",Fe),setTimeout(()=>Ne(),100))}function ze(){!isClient||!le.value||!Fe||(de==null||de(),le.value=void 0)}function Et(){_e.value&&(oe.value=!0,r("show"))}function Dt(){oe.value=!1,r("close")}function Ue(qe){r("switch",qe)}return watch(()=>g.src,()=>{xe.value?(ae.value=!0,re.value=!1,ze(),Ve()):Ie()}),onMounted(()=>{xe.value?Ve():Ie()}),n({showPreview:Et}),(qe,Lt)=>(openBlock(),createElementBlock("div",mergeProps({ref_key:"container",ref:ie},unref(V),{class:[unref($).b(),qe.$attrs.class]}),[re.value?renderSlot(qe.$slots,"error",{key:0},()=>[createBaseVNode("div",{class:normalizeClass(unref($).e("error"))},toDisplayString(unref(y)("el.image.error")),3)]):(openBlock(),createElementBlock(Fragment,{key:1},[j.value!==void 0?(openBlock(),createElementBlock("img",mergeProps({key:0},unref(z),{src:j.value,loading:qe.loading,style:unref(pe),class:unref(he),crossorigin:qe.crossorigin,onClick:Et,onLoad:$e,onError:Oe}),null,16,["src","loading","crossorigin"])):createCommentVNode("v-if",!0),ae.value?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref($).e("wrapper"))},[renderSlot(qe.$slots,"placeholder",{},()=>[createBaseVNode("div",{class:normalizeClass(unref($).e("placeholder"))},null,2)])],2)):createCommentVNode("v-if",!0)],64)),unref(_e)?(openBlock(),createElementBlock(Fragment,{key:2},[oe.value?(openBlock(),createBlock(unref(ElImageViewer),{key:0,"z-index":qe.zIndex,"initial-index":unref(Ce),infinite:qe.infinite,"zoom-rate":qe.zoomRate,"min-scale":qe.minScale,"max-scale":qe.maxScale,"show-progress":qe.showProgress,"url-list":qe.previewSrcList,crossorigin:qe.crossorigin,"hide-on-click-modal":qe.hideOnClickModal,teleported:qe.previewTeleported,"close-on-press-escape":qe.closeOnPressEscape,onClose:Dt,onSwitch:Ue},createSlots({toolbar:withCtx(Pt=>[renderSlot(qe.$slots,"toolbar",normalizeProps(guardReactiveProps(Pt)))]),default:withCtx(()=>[qe.$slots.viewer?(openBlock(),createElementBlock("div",{key:0},[renderSlot(qe.$slots,"viewer")])):createCommentVNode("v-if",!0)]),_:2},[qe.$slots.progress?{name:"progress",fn:withCtx(Pt=>[renderSlot(qe.$slots,"progress",normalizeProps(guardReactiveProps(Pt)))])}:void 0]),1032,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","show-progress","url-list","crossorigin","hide-on-click-modal","teleported","close-on-press-escape"])):createCommentVNode("v-if",!0)],64)):createCommentVNode("v-if",!0)],16))}});var Image$1=_export_sfc$1(_sfc_main$1p,[["__file","image.vue"]]);const ElImage=withInstall(Image$1),inputNumberProps=buildProps({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:{type:[Number,null]},readonly:Boolean,disabled:Boolean,size:useSizeProp,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||isNumber$1(t)||["min","max"].includes(t),default:null},name:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),inputNumberEmits={[CHANGE_EVENT]:(t,n)=>n!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[INPUT_EVENT]:t=>isNumber$1(t)||isNil(t),[UPDATE_MODEL_EVENT]:t=>isNumber$1(t)||isNil(t)},__default__$_=defineComponent({name:"ElInputNumber"}),_sfc_main$1o=defineComponent({...__default__$_,props:inputNumberProps,emits:inputNumberEmits,setup(t,{expose:n,emit:r}){const g=t,{t:y}=useLocale(),$=useNamespace("input-number"),L=ref(),V=reactive({currentValue:g.modelValue,userInput:null}),{formItem:z}=useFormItem(),j=computed(()=>isNumber$1(g.modelValue)&&g.modelValue<=g.min),re=computed(()=>isNumber$1(g.modelValue)&&g.modelValue>=g.max),ae=computed(()=>{const Ue=he(g.step);return isUndefined(g.precision)?Math.max(he(g.modelValue),Ue):(Ue>g.precision,g.precision)}),oe=computed(()=>g.controls&&g.controlsPosition==="right"),ie=useFormSize(),le=useFormDisabled(),ue=computed(()=>{if(V.userInput!==null)return V.userInput;let Ue=V.currentValue;if(isNil(Ue))return"";if(isNumber$1(Ue)){if(Number.isNaN(Ue))return"";isUndefined(g.precision)||(Ue=Ue.toFixed(g.precision))}return Ue}),de=(Ue,qe)=>{if(isUndefined(qe)&&(qe=ae.value),qe===0)return Math.round(Ue);let Lt=String(Ue);const Pt=Lt.indexOf(".");if(Pt===-1||!Lt.replace(".","").split("")[Pt+qe])return Ue;const En=Lt.length;return Lt.charAt(En-1)==="5"&&(Lt=`${Lt.slice(0,Math.max(0,En-1))}6`),Number.parseFloat(Number(Lt).toFixed(qe))},he=Ue=>{if(isNil(Ue))return 0;const qe=Ue.toString(),Lt=qe.indexOf(".");let Pt=0;return Lt!==-1&&(Pt=qe.length-Lt-1),Pt},pe=(Ue,qe=1)=>isNumber$1(Ue)?de(Ue+g.step*qe):V.currentValue,_e=()=>{if(g.readonly||le.value||re.value)return;const Ue=Number(ue.value)||0,qe=pe(Ue);Ie(qe),r(INPUT_EVENT,V.currentValue),Et()},Ce=()=>{if(g.readonly||le.value||j.value)return;const Ue=Number(ue.value)||0,qe=pe(Ue,-1);Ie(qe),r(INPUT_EVENT,V.currentValue),Et()},xe=(Ue,qe)=>{const{max:Lt,min:Pt,step:At,precision:vn,stepStrictly:En,valueOnClear:Sn}=g;Lt<Pt&&throwError$1("InputNumber","min should not be greater than max.");let kt=Number(Ue);if(isNil(Ue)||Number.isNaN(kt))return null;if(Ue===""){if(Sn===null)return null;kt=isString$2(Sn)?{min:Pt,max:Lt}[Sn]:Sn}return En&&(kt=de(Math.round(kt/At)*At,vn),kt!==Ue&&qe&&r(UPDATE_MODEL_EVENT,kt)),isUndefined(vn)||(kt=de(kt,vn)),(kt>Lt||kt<Pt)&&(kt=kt>Lt?Lt:Pt,qe&&r(UPDATE_MODEL_EVENT,kt)),kt},Ie=(Ue,qe=!0)=>{var Lt;const Pt=V.currentValue,At=xe(Ue);if(!qe){r(UPDATE_MODEL_EVENT,At);return}Pt===At&&Ue||(V.userInput=null,r(UPDATE_MODEL_EVENT,At),Pt!==At&&r(CHANGE_EVENT,At,Pt),g.validateEvent&&((Lt=z==null?void 0:z.validate)==null||Lt.call(z,"change").catch(vn=>void 0)),V.currentValue=At)},$e=Ue=>{V.userInput=Ue;const qe=Ue===""?null:Number(Ue);r(INPUT_EVENT,qe),Ie(qe,!1)},Oe=Ue=>{const qe=Ue!==""?Number(Ue):"";(isNumber$1(qe)&&!Number.isNaN(qe)||Ue==="")&&Ie(qe),Et(),V.userInput=null},Ne=()=>{var Ue,qe;(qe=(Ue=L.value)==null?void 0:Ue.focus)==null||qe.call(Ue)},Fe=()=>{var Ue,qe;(qe=(Ue=L.value)==null?void 0:Ue.blur)==null||qe.call(Ue)},Ve=Ue=>{r("focus",Ue)},ze=Ue=>{var qe,Lt;V.userInput=null,V.currentValue===null&&((qe=L.value)!=null&&qe.input)&&(L.value.input.value=""),r("blur",Ue),g.validateEvent&&((Lt=z==null?void 0:z.validate)==null||Lt.call(z,"blur").catch(Pt=>void 0))},Et=()=>{V.currentValue!==g.modelValue&&(V.currentValue=g.modelValue)},Dt=Ue=>{document.activeElement===Ue.target&&Ue.preventDefault()};return watch(()=>g.modelValue,(Ue,qe)=>{const Lt=xe(Ue,!0);V.userInput===null&&Lt!==qe&&(V.currentValue=Lt)},{immediate:!0}),onMounted(()=>{var Ue;const{min:qe,max:Lt,modelValue:Pt}=g,At=(Ue=L.value)==null?void 0:Ue.input;if(At.setAttribute("role","spinbutton"),Number.isFinite(Lt)?At.setAttribute("aria-valuemax",String(Lt)):At.removeAttribute("aria-valuemax"),Number.isFinite(qe)?At.setAttribute("aria-valuemin",String(qe)):At.removeAttribute("aria-valuemin"),At.setAttribute("aria-valuenow",V.currentValue||V.currentValue===0?String(V.currentValue):""),At.setAttribute("aria-disabled",String(le.value)),!isNumber$1(Pt)&&Pt!=null){let vn=Number(Pt);Number.isNaN(vn)&&(vn=null),r(UPDATE_MODEL_EVENT,vn)}At.addEventListener("wheel",Dt,{passive:!1})}),onUpdated(()=>{var Ue,qe;const Lt=(Ue=L.value)==null?void 0:Ue.input;Lt==null||Lt.setAttribute("aria-valuenow",`${(qe=V.currentValue)!=null?qe:""}`)}),n({focus:Ne,blur:Fe}),(Ue,qe)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref($).b(),unref($).m(unref(ie)),unref($).is("disabled",unref(le)),unref($).is("without-controls",!Ue.controls),unref($).is("controls-right",unref(oe))]),onDragstart:withModifiers(()=>{},["prevent"])},[Ue.controls?withDirectives((openBlock(),createElementBlock("span",{key:0,role:"button","aria-label":unref(y)("el.inputNumber.decrease"),class:normalizeClass([unref($).e("decrease"),unref($).is("disabled",unref(j))]),onKeydown:withKeys(Ce,["enter"])},[renderSlot(Ue.$slots,"decrease-icon",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_down_default),{key:0})):(openBlock(),createBlock(unref(minus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),Ce]]):createCommentVNode("v-if",!0),Ue.controls?withDirectives((openBlock(),createElementBlock("span",{key:1,role:"button","aria-label":unref(y)("el.inputNumber.increase"),class:normalizeClass([unref($).e("increase"),unref($).is("disabled",unref(re))]),onKeydown:withKeys(_e,["enter"])},[renderSlot(Ue.$slots,"increase-icon",{},()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[unref(oe)?(openBlock(),createBlock(unref(arrow_up_default),{key:0})):(openBlock(),createBlock(unref(plus_default),{key:1}))]),_:1})])],42,["aria-label","onKeydown"])),[[unref(vRepeatClick),_e]]):createCommentVNode("v-if",!0),createVNode$1(unref(ElInput),{id:Ue.id,ref_key:"input",ref:L,type:"number",step:Ue.step,"model-value":unref(ue),placeholder:Ue.placeholder,readonly:Ue.readonly,disabled:unref(le),size:unref(ie),max:Ue.max,min:Ue.min,name:Ue.name,"aria-label":Ue.ariaLabel,"validate-event":!1,onKeydown:[withKeys(withModifiers(_e,["prevent"]),["up"]),withKeys(withModifiers(Ce,["prevent"]),["down"])],onBlur:ze,onFocus:Ve,onInput:$e,onChange:Oe},createSlots({_:2},[Ue.$slots.prefix?{name:"prefix",fn:withCtx(()=>[renderSlot(Ue.$slots,"prefix")])}:void 0,Ue.$slots.suffix?{name:"suffix",fn:withCtx(()=>[renderSlot(Ue.$slots,"suffix")])}:void 0]),1032,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","aria-label","onKeydown"])],42,["onDragstart"]))}});var InputNumber=_export_sfc$1(_sfc_main$1o,[["__file","input-number.vue"]]);const ElInputNumber=withInstall(InputNumber),inputTagProps=buildProps({modelValue:{type:definePropType(Array)},max:Number,tagType:{...tagProps.type,default:"info"},tagEffect:tagProps.effect,trigger:{type:definePropType(String),default:EVENT_CODE.enter},draggable:{type:Boolean,default:!1},delimiter:{type:[String,RegExp],default:""},size:useSizeProp,clearable:Boolean,disabled:{type:Boolean,default:void 0},validateEvent:{type:Boolean,default:!0},readonly:Boolean,autofocus:Boolean,id:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},placeholder:String,autocomplete:{type:String,default:"off"},saveOnBlur:{type:Boolean,default:!0},ariaLabel:String}),inputTagEmits={[UPDATE_MODEL_EVENT]:t=>isArray$4(t)||isUndefined(t),[CHANGE_EVENT]:t=>isArray$4(t)||isUndefined(t),[INPUT_EVENT]:t=>isString$2(t),"add-tag":t=>isString$2(t),"remove-tag":t=>isString$2(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0};function useInputTag({props:t,emit:n,formItem:r}){const g=useFormDisabled(),y=useFormSize(),$=shallowRef(),L=ref(),V=computed(()=>["small"].includes(y.value)?"small":"default"),z=computed(()=>{var Ne;return(Ne=t.modelValue)!=null&&Ne.length?void 0:t.placeholder}),j=computed(()=>!(t.readonly||g.value)),re=computed(()=>{var Ne,Fe;return isUndefined(t.max)?!1:((Fe=(Ne=t.modelValue)==null?void 0:Ne.length)!=null?Fe:0)>=t.max}),ae=Ne=>{var Fe,Ve;if(re.value){L.value=void 0;return}if(!xe.value){if(t.delimiter){const ze=(Fe=L.value)==null?void 0:Fe.replace(t.delimiter,"");(ze==null?void 0:ze.length)!==((Ve=L.value)==null?void 0:Ve.length)&&(L.value=ze,ie())}n(INPUT_EVENT,Ne.target.value)}},oe=Ne=>{var Fe;if(!xe.value)switch(Ne.code){case t.trigger:Ne.preventDefault(),Ne.stopPropagation(),ie();break;case EVENT_CODE.numpadEnter:t.trigger===EVENT_CODE.enter&&(Ne.preventDefault(),Ne.stopPropagation(),ie());break;case EVENT_CODE.backspace:!L.value&&((Fe=t.modelValue)!=null&&Fe.length)&&(Ne.preventDefault(),Ne.stopPropagation(),le(t.modelValue.length-1));break}},ie=()=>{var Ne,Fe;const Ve=(Ne=L.value)==null?void 0:Ne.trim();if(!Ve||re.value)return;const ze=[...(Fe=t.modelValue)!=null?Fe:[],Ve];n(UPDATE_MODEL_EVENT,ze),n(CHANGE_EVENT,ze),n("add-tag",Ve),L.value=void 0},le=Ne=>{var Fe;const Ve=((Fe=t.modelValue)!=null?Fe:[]).slice(),[ze]=Ve.splice(Ne,1);n(UPDATE_MODEL_EVENT,Ve),n(CHANGE_EVENT,Ve),n("remove-tag",ze)},ue=()=>{L.value=void 0,n(UPDATE_MODEL_EVENT,void 0),n(CHANGE_EVENT,void 0),n("clear")},de=(Ne,Fe,Ve)=>{var ze;const Et=((ze=t.modelValue)!=null?ze:[]).slice(),[Dt]=Et.splice(Ne,1),Ue=Fe>Ne&&Ve==="before"?-1:Fe<Ne&&Ve==="after"?1:0;Et.splice(Fe+Ue,0,Dt),n(UPDATE_MODEL_EVENT,Et),n(CHANGE_EVENT,Et)},he=()=>{var Ne;(Ne=$.value)==null||Ne.focus()},pe=()=>{var Ne;(Ne=$.value)==null||Ne.blur()},{wrapperRef:_e,isFocused:Ce}=useFocusController($,{beforeFocus(){return g.value},afterBlur(){var Ne;t.saveOnBlur?ie():L.value=void 0,t.validateEvent&&((Ne=r==null?void 0:r.validate)==null||Ne.call(r,"blur").catch(Fe=>void 0))}}),{isComposing:xe,handleCompositionStart:Ie,handleCompositionUpdate:$e,handleCompositionEnd:Oe}=useComposition({afterComposition:ae});return watch(()=>t.modelValue,()=>{var Ne;t.validateEvent&&((Ne=r==null?void 0:r.validate)==null||Ne.call(r,CHANGE_EVENT).catch(Fe=>void 0))}),{inputRef:$,wrapperRef:_e,isFocused:Ce,isComposing:xe,inputValue:L,size:y,tagSize:V,placeholder:z,closable:j,disabled:g,inputLimit:re,handleDragged:de,handleInput:ae,handleKeydown:oe,handleAddTag:ie,handleRemoveTag:le,handleClear:ue,handleCompositionStart:Ie,handleCompositionUpdate:$e,handleCompositionEnd:Oe,focus:he,blur:pe}}function useHovering(){const t=ref(!1);return{hovering:t,handleMouseEnter:()=>{t.value=!0},handleMouseLeave:()=>{t.value=!1}}}function useCalcInputWidth(){const t=shallowRef(),n=ref(0),r=11,g=computed(()=>({minWidth:`${Math.max(n.value,r)}px`}));return useResizeObserver(t,()=>{var $,L;n.value=(L=($=t.value)==null?void 0:$.getBoundingClientRect().width)!=null?L:0}),{calculatorRef:t,calculatorWidth:n,inputStyle:g}}function useDragTag({wrapperRef:t,handleDragged:n,afterDragged:r}){const g=useNamespace("input-tag"),y=shallowRef(),$=ref(!1);let L,V,z,j;function re(le){return`.${g.e("inner")} .${g.namespace.value}-tag:nth-child(${le+1})`}function ae(le,ue){L=ue,V=t.value.querySelector(re(ue)),V&&(V.style.opacity="0.5"),le.dataTransfer.effectAllowed="move"}function oe(le,ue){if(z=ue,le.preventDefault(),le.dataTransfer.dropEffect="move",isUndefined(L)||L===ue){$.value=!1;return}const de=t.value.querySelector(re(ue)).getBoundingClientRect(),he=L+1!==ue,pe=L-1!==ue,_e=le.clientX-de.left,Ce=he?pe?.5:1:-1,xe=pe?he?.5:0:1;_e<=de.width*Ce?j="before":_e>de.width*xe?j="after":j=void 0;const Ie=t.value.querySelector(`.${g.e("inner")}`),$e=Ie.getBoundingClientRect(),Oe=Number.parseFloat(getStyle$1(Ie,"gap"))/2,Ne=de.top-$e.top;let Fe=-9999;if(j==="before")Fe=Math.max(de.left-$e.left-Oe,Math.floor(-Oe/2));else if(j==="after"){const Ve=de.right-$e.left;Fe=Ve+($e.width===Ve?Math.floor(Oe/2):Oe)}setStyle(y.value,{top:`${Ne}px`,left:`${Fe}px`}),$.value=!!j}function ie(le){le.preventDefault(),V&&(V.style.opacity=""),j&&!isUndefined(L)&&!isUndefined(z)&&L!==z&&n(L,z,j),$.value=!1,L=void 0,V=null,z=void 0,j=void 0,r==null||r()}return{dropIndicatorRef:y,showDropIndicator:$,handleDragStart:ae,handleDragOver:oe,handleDragEnd:ie}}function useInputTagDom({props:t,isFocused:n,hovering:r,disabled:g,inputValue:y,size:$,validateState:L,validateIcon:V,needStatusIcon:z}){const j=useAttrs$1(),re=useSlots(),ae=useNamespace("input-tag"),oe=useNamespace("input"),ie=computed(()=>[ae.b(),ae.is("focused",n.value),ae.is("hovering",r.value),ae.is("disabled",g.value),ae.m($.value),ae.e("wrapper"),j.class]),le=computed(()=>[j.style]),ue=computed(()=>{var pe,_e;return[ae.e("inner"),ae.is("draggable",t.draggable),ae.is("left-space",!((pe=t.modelValue)!=null&&pe.length)&&!re.prefix),ae.is("right-space",!((_e=t.modelValue)!=null&&_e.length)&&!he.value)]}),de=computed(()=>{var pe;return t.clearable&&!g.value&&!t.readonly&&(((pe=t.modelValue)==null?void 0:pe.length)||y.value)&&(n.value||r.value)}),he=computed(()=>re.suffix||de.value||L.value&&V.value&&z.value);return{ns:ae,nsInput:oe,containerKls:ie,containerStyle:le,innerKls:ue,showClear:de,showSuffix:he}}const __default__$Z=defineComponent({name:"ElInputTag",inheritAttrs:!1}),_sfc_main$1n=defineComponent({...__default__$Z,props:inputTagProps,emits:inputTagEmits,setup(t,{expose:n,emit:r}){const g=t,y=useAttrs(),$=useSlots(),{form:L,formItem:V}=useFormItem(),{inputId:z}=useFormItemInputId(g,{formItemContext:V}),j=computed(()=>{var bn;return(bn=L==null?void 0:L.statusIcon)!=null?bn:!1}),re=computed(()=>(V==null?void 0:V.validateState)||""),ae=computed(()=>re.value&&ValidateComponentsMap[re.value]),{inputRef:oe,wrapperRef:ie,isFocused:le,inputValue:ue,size:de,tagSize:he,placeholder:pe,closable:_e,disabled:Ce,handleDragged:xe,handleInput:Ie,handleKeydown:$e,handleRemoveTag:Oe,handleClear:Ne,handleCompositionStart:Fe,handleCompositionUpdate:Ve,handleCompositionEnd:ze,focus:Et,blur:Dt}=useInputTag({props:g,emit:r,formItem:V}),{hovering:Ue,handleMouseEnter:qe,handleMouseLeave:Lt}=useHovering(),{calculatorRef:Pt,inputStyle:At}=useCalcInputWidth(),{dropIndicatorRef:vn,showDropIndicator:En,handleDragStart:Sn,handleDragOver:kt,handleDragEnd:jt}=useDragTag({wrapperRef:ie,handleDragged:xe,afterDragged:Et}),{ns:_n,nsInput:wn,containerKls:hn,containerStyle:Cn,innerKls:Tn,showClear:xn,showSuffix:Mn}=useInputTagDom({props:g,hovering:Ue,isFocused:le,inputValue:ue,disabled:Ce,size:de,validateState:re,validateIcon:ae,needStatusIcon:j});return n({focus:Et,blur:Dt}),(bn,Pn)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:ie,class:normalizeClass(unref(hn)),style:normalizeStyle$1(unref(Cn)),onMouseenter:unref(qe),onMouseleave:unref(Lt)},[unref($).prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(_n).e("prefix"))},[renderSlot(bn.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(Tn))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(bn.modelValue,(Rn,Fn)=>(openBlock(),createBlock(unref(ElTag),{key:Fn,size:unref(he),closable:unref(_e),type:bn.tagType,effect:bn.tagEffect,draggable:unref(_e)&&bn.draggable,"disable-transitions":"",onClose:Dn=>unref(Oe)(Fn),onDragstart:Dn=>unref(Sn)(Dn,Fn),onDragover:Dn=>unref(kt)(Dn,Fn),onDragend:unref(jt),onDrop:withModifiers(()=>{},["stop"])},{default:withCtx(()=>[renderSlot(bn.$slots,"tag",{value:Rn,index:Fn},()=>[createTextVNode(toDisplayString(Rn),1)])]),_:2},1032,["size","closable","type","effect","draggable","onClose","onDragstart","onDragover","onDragend","onDrop"]))),128)),createBaseVNode("div",{class:normalizeClass(unref(_n).e("input-wrapper"))},[withDirectives(createBaseVNode("input",mergeProps({id:unref(z),ref_key:"inputRef",ref:oe,"onUpdate:modelValue":Rn=>isRef(ue)?ue.value=Rn:null},unref(y),{type:"text",minlength:bn.minlength,maxlength:bn.maxlength,disabled:unref(Ce),readonly:bn.readonly,autocomplete:bn.autocomplete,tabindex:bn.tabindex,placeholder:unref(pe),autofocus:bn.autofocus,ariaLabel:bn.ariaLabel,class:unref(_n).e("input"),style:unref(At),onCompositionstart:unref(Fe),onCompositionupdate:unref(Ve),onCompositionend:unref(ze),onInput:unref(Ie),onKeydown:unref($e)}),null,16,["id","onUpdate:modelValue","minlength","maxlength","disabled","readonly","autocomplete","tabindex","placeholder","autofocus","ariaLabel","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onKeydown"]),[[vModelText,unref(ue)]]),createBaseVNode("span",{ref_key:"calculatorRef",ref:Pt,"aria-hidden":"true",class:normalizeClass(unref(_n).e("input-calculator")),textContent:toDisplayString(unref(ue))},null,10,["textContent"])],2),withDirectives(createBaseVNode("div",{ref_key:"dropIndicatorRef",ref:vn,class:normalizeClass(unref(_n).e("drop-indicator"))},null,2),[[vShow,unref(En)]])],2),unref(Mn)?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(_n).e("suffix"))},[renderSlot(bn.$slots,"suffix"),unref(xn)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(_n).e("icon"),unref(_n).e("clear")]),onMousedown:withModifiers(unref(NOOP),["prevent"]),onClick:unref(Ne)},{default:withCtx(()=>[createVNode$1(unref(circle_close_default))]),_:1},8,["class","onMousedown","onClick"])):createCommentVNode("v-if",!0),unref(re)&&unref(ae)&&unref(j)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(wn).e("icon"),unref(wn).e("validateIcon"),unref(wn).is("loading",unref(re)==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ae))))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],46,["onMouseenter","onMouseleave"]))}});var InputTag=_export_sfc$1(_sfc_main$1n,[["__file","input-tag.vue"]]);const ElInputTag=withInstall(InputTag),linkProps=buildProps({type:{type:String,values:["primary","success","warning","info","danger","default"],default:void 0},underline:{type:[Boolean,String],values:[!0,!1,"always","never","hover"],default:void 0},disabled:Boolean,href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:iconPropType}}),linkEmits={click:t=>t instanceof MouseEvent},__default__$Y=defineComponent({name:"ElLink"}),_sfc_main$1m=defineComponent({...__default__$Y,props:linkProps,emits:linkEmits,setup(t,{emit:n}){const r=t,g=useGlobalConfig("link");useDeprecated({scope:"el-link",from:"The underline option (boolean)",replacement:"'always' | 'hover' | 'never'",version:"3.0.0",ref:"https://element-plus.org/en-US/component/link.html#underline"},computed(()=>isBoolean(r.underline)));const y=useNamespace("link"),$=computed(()=>{var z,j,re;return[y.b(),y.m((re=(j=r.type)!=null?j:(z=g.value)==null?void 0:z.type)!=null?re:"default"),y.is("disabled",r.disabled),y.is("underline",L.value==="always"),y.is("hover-underline",L.value==="hover"&&!r.disabled)]}),L=computed(()=>{var z,j,re;return isBoolean(r.underline)?r.underline?"hover":"never":(re=(j=r.underline)!=null?j:(z=g.value)==null?void 0:z.underline)!=null?re:"hover"});function V(z){r.disabled||n("click",z)}return(z,j)=>(openBlock(),createElementBlock("a",{class:normalizeClass(unref($)),href:z.disabled||!z.href?void 0:z.href,target:z.disabled||!z.href?void 0:z.target,onClick:V},[z.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(z.icon)))]),_:1})):createCommentVNode("v-if",!0),z.$slots.default?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(y).e("inner"))},[renderSlot(z.$slots,"default")],2)):createCommentVNode("v-if",!0),z.$slots.icon?renderSlot(z.$slots,"icon",{key:2}):createCommentVNode("v-if",!0)],10,["href","target"]))}});var Link=_export_sfc$1(_sfc_main$1m,[["__file","link.vue"]]);const ElLink=withInstall(Link);let SubMenu$1=class{constructor(n,r){this.parent=n,this.domNode=r,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(n){n===this.subMenuItems.length?n=0:n<0&&(n=this.subMenuItems.length-1),this.subMenuItems[n].focus(),this.subIndex=n}addListeners(){const n=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,r=>{r.addEventListener("keydown",g=>{let y=!1;switch(g.code){case EVENT_CODE.down:{this.gotoSubIndex(this.subIndex+1),y=!0;break}case EVENT_CODE.up:{this.gotoSubIndex(this.subIndex-1),y=!0;break}case EVENT_CODE.tab:{triggerEvent(n,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{y=!0,g.currentTarget.click();break}}return y&&(g.preventDefault(),g.stopPropagation()),!1})})}},MenuItem$1=class{constructor(n,r){this.domNode=n,this.submenu=null,this.submenu=null,this.init(r)}init(n){this.domNode.setAttribute("tabindex","0");const r=this.domNode.querySelector(`.${n}-menu`);r&&(this.submenu=new SubMenu$1(this,r)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",n=>{let r=!1;switch(n.code){case EVENT_CODE.down:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),r=!0;break}case EVENT_CODE.up:{triggerEvent(n.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),r=!0;break}case EVENT_CODE.tab:{triggerEvent(n.currentTarget,"mouseleave");break}case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:case EVENT_CODE.space:{r=!0,n.currentTarget.click();break}}r&&n.preventDefault()})}},Menu$1=class{constructor(n,r){this.domNode=n,this.init(r)}init(n){const r=this.domNode.childNodes;Array.from(r).forEach(g=>{g.nodeType===1&&new MenuItem$1(g,n)})}};const __default__$X=defineComponent({name:"ElMenuCollapseTransition"}),_sfc_main$1l=defineComponent({...__default__$X,setup(t){const n=useNamespace("menu"),r={onBeforeEnter:g=>g.style.opacity="0.2",onEnter(g,y){addClass(g,`${n.namespace.value}-opacity-transition`),g.style.opacity="1",y()},onAfterEnter(g){removeClass(g,`${n.namespace.value}-opacity-transition`),g.style.opacity=""},onBeforeLeave(g){g.dataset||(g.dataset={}),hasClass(g,n.m("collapse"))?(removeClass(g,n.m("collapse")),g.dataset.oldOverflow=g.style.overflow,g.dataset.scrollWidth=g.clientWidth.toString(),addClass(g,n.m("collapse"))):(addClass(g,n.m("collapse")),g.dataset.oldOverflow=g.style.overflow,g.dataset.scrollWidth=g.clientWidth.toString(),removeClass(g,n.m("collapse"))),g.style.width=`${g.scrollWidth}px`,g.style.overflow="hidden"},onLeave(g){addClass(g,"horizontal-collapse-transition"),g.style.width=`${g.dataset.scrollWidth}px`}};return(g,y)=>(openBlock(),createBlock(Transition,mergeProps({mode:"out-in"},unref(r)),{default:withCtx(()=>[renderSlot(g.$slots,"default")]),_:3},16))}});var ElMenuCollapseTransition=_export_sfc$1(_sfc_main$1l,[["__file","menu-collapse-transition.vue"]]);function useMenu(t,n){const r=computed(()=>{let y=t.parent;const $=[n.value];for(;y.type.name!=="ElMenu";)y.props.index&&$.unshift(y.props.index),y=y.parent;return $});return{parentMenu:computed(()=>{let y=t.parent;for(;y&&!["ElMenu","ElSubMenu"].includes(y.type.name);)y=y.parent;return y}),indexPath:r}}function useMenuColor(t){return computed(()=>{const r=t.backgroundColor;return r?new TinyColor(r).shade(20).toString():""})}const useMenuCssVar=(t,n)=>{const r=useNamespace("menu");return computed(()=>r.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":useMenuColor(t).value||"","active-color":t.activeTextColor||"",level:`${n}`}))},MENU_INJECTION_KEY="rootMenu",SUB_MENU_INJECTION_KEY="subMenu:",subMenuProps=buildProps({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:iconPropType},expandOpenIcon:{type:iconPropType},collapseCloseIcon:{type:iconPropType},collapseOpenIcon:{type:iconPropType}}),COMPONENT_NAME$d="ElSubMenu";var SubMenu=defineComponent({name:COMPONENT_NAME$d,props:subMenuProps,setup(t,{slots:n,expose:r}){const g=getCurrentInstance(),{indexPath:y,parentMenu:$}=useMenu(g,computed(()=>t.index)),L=useNamespace("menu"),V=useNamespace("sub-menu"),z=inject(MENU_INJECTION_KEY);z||throwError$1(COMPONENT_NAME$d,"can not inject root menu");const j=inject(`${SUB_MENU_INJECTION_KEY}${$.value.uid}`);j||throwError$1(COMPONENT_NAME$d,"can not inject sub menu");const re=ref({}),ae=ref({});let oe;const ie=ref(!1),le=ref(),ue=ref(),de=computed(()=>Oe.value==="horizontal"&&pe.value?"bottom-start":"right-start"),he=computed(()=>Oe.value==="horizontal"&&pe.value||Oe.value==="vertical"&&!z.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?Ie.value?t.expandOpenIcon:t.expandCloseIcon:arrow_down_default:t.collapseCloseIcon&&t.collapseOpenIcon?Ie.value?t.collapseOpenIcon:t.collapseCloseIcon:arrow_right_default),pe=computed(()=>j.level===0),_e=computed(()=>{const En=t.teleported;return isUndefined(En)?pe.value:En}),Ce=computed(()=>z.props.collapse?`${L.namespace.value}-zoom-in-left`:`${L.namespace.value}-zoom-in-top`),xe=computed(()=>Oe.value==="horizontal"&&pe.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),Ie=computed(()=>z.openedMenus.includes(t.index)),$e=computed(()=>[...Object.values(re.value),...Object.values(ae.value)].some(({active:En})=>En)),Oe=computed(()=>z.props.mode),Ne=computed(()=>z.props.persistent),Fe=reactive({index:t.index,indexPath:y,active:$e}),Ve=useMenuCssVar(z.props,j.level+1),ze=computed(()=>{var En;return(En=t.popperOffset)!=null?En:z.props.popperOffset}),Et=computed(()=>{var En;return(En=t.popperClass)!=null?En:z.props.popperClass}),Dt=computed(()=>{var En;return(En=t.showTimeout)!=null?En:z.props.showTimeout}),Ue=computed(()=>{var En;return(En=t.hideTimeout)!=null?En:z.props.hideTimeout}),qe=()=>{var En,Sn,kt;return(kt=(Sn=(En=ue.value)==null?void 0:En.popperRef)==null?void 0:Sn.popperInstanceRef)==null?void 0:kt.destroy()},Lt=En=>{En||qe()},Pt=()=>{z.props.menuTrigger==="hover"&&z.props.mode==="horizontal"||z.props.collapse&&z.props.mode==="vertical"||t.disabled||z.handleSubMenuClick({index:t.index,indexPath:y.value,active:$e.value})},At=(En,Sn=Dt.value)=>{var kt;if(En.type!=="focus"){if(z.props.menuTrigger==="click"&&z.props.mode==="horizontal"||!z.props.collapse&&z.props.mode==="vertical"||t.disabled){j.mouseInChild.value=!0;return}j.mouseInChild.value=!0,oe==null||oe(),{stop:oe}=useTimeoutFn(()=>{z.openMenu(t.index,y.value)},Sn),_e.value&&((kt=$.value.vnode.el)==null||kt.dispatchEvent(new MouseEvent("mouseenter")))}},vn=(En=!1)=>{var Sn;if(z.props.menuTrigger==="click"&&z.props.mode==="horizontal"||!z.props.collapse&&z.props.mode==="vertical"){j.mouseInChild.value=!1;return}oe==null||oe(),j.mouseInChild.value=!1,{stop:oe}=useTimeoutFn(()=>!ie.value&&z.closeMenu(t.index,y.value),Ue.value),_e.value&&En&&((Sn=j.handleMouseleave)==null||Sn.call(j,!0))};watch(()=>z.props.collapse,En=>Lt(!!En));{const En=kt=>{ae.value[kt.index]=kt},Sn=kt=>{delete ae.value[kt.index]};provide(`${SUB_MENU_INJECTION_KEY}${g.uid}`,{addSubMenu:En,removeSubMenu:Sn,handleMouseleave:vn,mouseInChild:ie,level:j.level+1})}return r({opened:Ie}),onMounted(()=>{z.addSubMenu(Fe),j.addSubMenu(Fe)}),onBeforeUnmount(()=>{j.removeSubMenu(Fe),z.removeSubMenu(Fe)}),()=>{var En;const Sn=[(En=n.title)==null?void 0:En.call(n),h$1(ElIcon,{class:V.e("icon-arrow"),style:{transform:Ie.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&z.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>isString$2(he.value)?h$1(g.appContext.components[he.value]):h$1(he.value)})],kt=z.isMenuPopup?h$1(ElTooltip,{ref:ue,visible:Ie.value,effect:"light",pure:!0,offset:ze.value,showArrow:!1,persistent:Ne.value,popperClass:Et.value,placement:de.value,teleported:_e.value,fallbackPlacements:xe.value,transition:Ce.value,gpuAcceleration:!1},{content:()=>{var jt;return h$1("div",{class:[L.m(Oe.value),L.m("popup-container"),Et.value],onMouseenter:_n=>At(_n,100),onMouseleave:()=>vn(!0),onFocus:_n=>At(_n,100)},[h$1("ul",{class:[L.b(),L.m("popup"),L.m(`popup-${de.value}`)],style:Ve.value},[(jt=n.default)==null?void 0:jt.call(n)])])},default:()=>h$1("div",{class:V.e("title"),onClick:Pt},Sn)}):h$1(Fragment,{},[h$1("div",{class:V.e("title"),ref:le,onClick:Pt},Sn),h$1(ElCollapseTransition,{},{default:()=>{var jt;return withDirectives(h$1("ul",{role:"menu",class:[L.b(),L.m("inline")],style:Ve.value},[(jt=n.default)==null?void 0:jt.call(n)]),[[vShow,Ie.value]])}})]);return h$1("li",{class:[V.b(),V.is("active",$e.value),V.is("opened",Ie.value),V.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:Ie.value,onMouseenter:At,onMouseleave:()=>vn(),onFocus:At},[kt])}}});const menuProps=buildProps({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:definePropType(Array),default:()=>mutable([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:iconPropType,default:()=>more_default},popperEffect:{type:definePropType(String),default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300},persistent:{type:Boolean,default:!0}}),checkIndexPath=t=>isArray$4(t)&&t.every(n=>isString$2(n)),menuEmits={close:(t,n)=>isString$2(t)&&checkIndexPath(n),open:(t,n)=>isString$2(t)&&checkIndexPath(n),select:(t,n,r,g)=>isString$2(t)&&checkIndexPath(n)&&isObject$5(r)&&(isUndefined(g)||g instanceof Promise)};var Menu=defineComponent({name:"ElMenu",props:menuProps,emits:menuEmits,setup(t,{emit:n,slots:r,expose:g}){const y=getCurrentInstance(),$=y.appContext.config.globalProperties.$router,L=ref(),V=useNamespace("menu"),z=useNamespace("sub-menu"),j=ref(-1),re=ref(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),ae=ref(t.defaultActive),oe=ref({}),ie=ref({}),le=computed(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),ue=()=>{const Ue=ae.value&&oe.value[ae.value];if(!Ue||t.mode==="horizontal"||t.collapse)return;Ue.indexPath.forEach(Lt=>{const Pt=ie.value[Lt];Pt&&de(Lt,Pt.indexPath)})},de=(Ue,qe)=>{re.value.includes(Ue)||(t.uniqueOpened&&(re.value=re.value.filter(Lt=>qe.includes(Lt))),re.value.push(Ue),n("open",Ue,qe))},he=Ue=>{const qe=re.value.indexOf(Ue);qe!==-1&&re.value.splice(qe,1)},pe=(Ue,qe)=>{he(Ue),n("close",Ue,qe)},_e=({index:Ue,indexPath:qe})=>{re.value.includes(Ue)?pe(Ue,qe):de(Ue,qe)},Ce=Ue=>{(t.mode==="horizontal"||t.collapse)&&(re.value=[]);const{index:qe,indexPath:Lt}=Ue;if(!(isNil(qe)||isNil(Lt)))if(t.router&&$){const Pt=Ue.route||qe,At=$.push(Pt).then(vn=>(vn||(ae.value=qe),vn));n("select",qe,Lt,{index:qe,indexPath:Lt,route:Pt},At)}else ae.value=qe,n("select",qe,Lt,{index:qe,indexPath:Lt})},xe=Ue=>{var qe;const Lt=oe.value,Pt=Lt[Ue]||ae.value&&Lt[ae.value]||Lt[t.defaultActive];ae.value=(qe=Pt==null?void 0:Pt.index)!=null?qe:Ue},Ie=Ue=>{const qe=getComputedStyle(Ue),Lt=Number.parseInt(qe.marginLeft,10),Pt=Number.parseInt(qe.marginRight,10);return Ue.offsetWidth+Lt+Pt||0},$e=()=>{var Ue,qe;if(!L.value)return-1;const Lt=Array.from((qe=(Ue=L.value)==null?void 0:Ue.childNodes)!=null?qe:[]).filter(_n=>_n.nodeName!=="#text"||_n.nodeValue),Pt=64,At=getComputedStyle(L.value),vn=Number.parseInt(At.paddingLeft,10),En=Number.parseInt(At.paddingRight,10),Sn=L.value.clientWidth-vn-En;let kt=0,jt=0;return Lt.forEach((_n,wn)=>{_n.nodeName!=="#comment"&&(kt+=Ie(_n),kt<=Sn-Pt&&(jt=wn+1))}),jt===Lt.length?-1:jt},Oe=Ue=>ie.value[Ue].indexPath,Ne=(Ue,qe=33.34)=>{let Lt;return()=>{Lt&&clearTimeout(Lt),Lt=setTimeout(()=>{Ue()},qe)}};let Fe=!0;const Ve=()=>{if(j.value===$e())return;const Ue=()=>{j.value=-1,nextTick(()=>{j.value=$e()})};Fe?Ue():Ne(Ue)(),Fe=!1};watch(()=>t.defaultActive,Ue=>{oe.value[Ue]||(ae.value=""),xe(Ue)}),watch(()=>t.collapse,Ue=>{Ue&&(re.value=[])}),watch(oe.value,ue);let ze;watchEffect(()=>{t.mode==="horizontal"&&t.ellipsis?ze=useResizeObserver(L,Ve).stop:ze==null||ze()});const Et=ref(!1);{const Ue=At=>{ie.value[At.index]=At},qe=At=>{delete ie.value[At.index]};provide(MENU_INJECTION_KEY,reactive({props:t,openedMenus:re,items:oe,subMenus:ie,activeIndex:ae,isMenuPopup:le,addMenuItem:At=>{oe.value[At.index]=At},removeMenuItem:At=>{delete oe.value[At.index]},addSubMenu:Ue,removeSubMenu:qe,openMenu:de,closeMenu:pe,handleMenuItemClick:Ce,handleSubMenuClick:_e})),provide(`${SUB_MENU_INJECTION_KEY}${y.uid}`,{addSubMenu:Ue,removeSubMenu:qe,mouseInChild:Et,level:0})}onMounted(()=>{t.mode==="horizontal"&&new Menu$1(y.vnode.el,V.namespace.value)}),g({open:qe=>{const{indexPath:Lt}=ie.value[qe];Lt.forEach(Pt=>de(Pt,Lt))},close:he,updateActiveIndex:xe,handleResize:Ve});const Dt=useMenuCssVar(t,0);return()=>{var Ue,qe;let Lt=(qe=(Ue=r.default)==null?void 0:Ue.call(r))!=null?qe:[];const Pt=[];if(t.mode==="horizontal"&&L.value){const En=flattedChildren(Lt),Sn=j.value===-1?En:En.slice(0,j.value),kt=j.value===-1?[]:En.slice(j.value);kt!=null&&kt.length&&t.ellipsis&&(Lt=Sn,Pt.push(h$1(SubMenu,{index:"sub-menu-more",class:z.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>h$1(ElIcon,{class:z.e("icon-more")},{default:()=>h$1(t.ellipsisIcon)}),default:()=>kt})))}const At=t.closeOnClickOutside?[[ClickOutside,()=>{re.value.length&&(Et.value||(re.value.forEach(En=>n("close",En,Oe(En))),re.value=[]))}]]:[],vn=withDirectives(h$1("ul",{key:String(t.collapse),role:"menubar",ref:L,style:Dt.value,class:{[V.b()]:!0,[V.m(t.mode)]:!0,[V.m("collapse")]:t.collapse}},[...Lt,...Pt]),At);return t.collapseTransition&&t.mode==="vertical"?h$1(ElMenuCollapseTransition,()=>vn):vn}}});const menuItemProps=buildProps({index:{type:definePropType([String,null]),default:null},route:{type:definePropType([String,Object])},disabled:Boolean}),menuItemEmits={click:t=>isString$2(t.index)&&isArray$4(t.indexPath)},COMPONENT_NAME$c="ElMenuItem",__default__$W=defineComponent({name:COMPONENT_NAME$c}),_sfc_main$1k=defineComponent({...__default__$W,props:menuItemProps,emits:menuItemEmits,setup(t,{expose:n,emit:r}){const g=t;isPropAbsent(g.index)&&void 0;const y=getCurrentInstance(),$=inject(MENU_INJECTION_KEY),L=useNamespace("menu"),V=useNamespace("menu-item");$||throwError$1(COMPONENT_NAME$c,"can not inject root menu");const{parentMenu:z,indexPath:j}=useMenu(y,toRef(g,"index")),re=inject(`${SUB_MENU_INJECTION_KEY}${z.value.uid}`);re||throwError$1(COMPONENT_NAME$c,"can not inject sub menu");const ae=computed(()=>g.index===$.activeIndex),oe=reactive({index:g.index,indexPath:j,active:ae}),ie=()=>{g.disabled||($.handleMenuItemClick({index:g.index,indexPath:j.value,route:g.route}),r("click",oe))};return onMounted(()=>{re.addSubMenu(oe),$.addMenuItem(oe)}),onBeforeUnmount(()=>{re.removeSubMenu(oe),$.removeMenuItem(oe)}),n({parentMenu:z,rootMenu:$,active:ae,nsMenu:L,nsMenuItem:V,handleClick:ie}),(le,ue)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(V).b(),unref(V).is("active",unref(ae)),unref(V).is("disabled",le.disabled)]),role:"menuitem",tabindex:"-1",onClick:ie},[unref(z).type.name==="ElMenu"&&unref($).props.collapse&&le.$slots.title?(openBlock(),createBlock(unref(ElTooltip),{key:0,effect:unref($).props.popperEffect,placement:"right","fallback-placements":["left"],persistent:unref($).props.persistent},{content:withCtx(()=>[renderSlot(le.$slots,"title")]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(L).be("tooltip","trigger"))},[renderSlot(le.$slots,"default")],2)]),_:3},8,["effect","persistent"])):(openBlock(),createElementBlock(Fragment,{key:1},[renderSlot(le.$slots,"default"),renderSlot(le.$slots,"title")],64))],2))}});var MenuItem=_export_sfc$1(_sfc_main$1k,[["__file","menu-item.vue"]]);const menuItemGroupProps={title:String},__default__$V=defineComponent({name:"ElMenuItemGroup"}),_sfc_main$1j=defineComponent({...__default__$V,props:menuItemGroupProps,setup(t){const n=useNamespace("menu-item-group");return(r,g)=>(openBlock(),createElementBlock("li",{class:normalizeClass(unref(n).b())},[createBaseVNode("div",{class:normalizeClass(unref(n).e("title"))},[r.$slots.title?renderSlot(r.$slots,"title",{key:1}):(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(r.title),1)],64))],2),createBaseVNode("ul",null,[renderSlot(r.$slots,"default")])],2))}});var MenuItemGroup=_export_sfc$1(_sfc_main$1j,[["__file","menu-item-group.vue"]]);const ElMenu=withInstall(Menu,{MenuItem,MenuItemGroup,SubMenu}),ElMenuItem=withNoopInstall(MenuItem),ElMenuItemGroup=withNoopInstall(MenuItemGroup),ElSubMenu=withNoopInstall(SubMenu),pageHeaderProps=buildProps({icon:{type:iconPropType,default:()=>back_default},title:String,content:{type:String,default:""}}),pageHeaderEmits={back:()=>!0},__default__$U=defineComponent({name:"ElPageHeader"}),_sfc_main$1i=defineComponent({...__default__$U,props:pageHeaderProps,emits:pageHeaderEmits,setup(t,{emit:n}){const{t:r}=useLocale(),g=useNamespace("page-header");function y(){n("back")}return($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),{[unref(g).m("has-breadcrumb")]:!!$.$slots.breadcrumb,[unref(g).m("has-extra")]:!!$.$slots.extra,[unref(g).is("contentful")]:!!$.$slots.default}])},[$.$slots.breadcrumb?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("breadcrumb"))},[renderSlot($.$slots,"breadcrumb")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("header"))},[createBaseVNode("div",{class:normalizeClass(unref(g).e("left"))},[createBaseVNode("div",{class:normalizeClass(unref(g).e("back")),role:"button",tabindex:"0",onClick:y},[$.icon||$.$slots.icon?(openBlock(),createElementBlock("div",{key:0,"aria-label":$.title||unref(r)("el.pageHeader.title"),class:normalizeClass(unref(g).e("icon"))},[renderSlot($.$slots,"icon",{},()=>[$.icon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent($.icon)))]),_:1})):createCommentVNode("v-if",!0)])],10,["aria-label"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("title"))},[renderSlot($.$slots,"title",{},()=>[createTextVNode(toDisplayString($.title||unref(r)("el.pageHeader.title")),1)])],2)],2),createVNode$1(unref(ElDivider),{direction:"vertical"}),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[renderSlot($.$slots,"content",{},()=>[createTextVNode(toDisplayString($.content),1)])],2)],2),$.$slots.extra?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("extra"))},[renderSlot($.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2),$.$slots.default?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("main"))},[renderSlot($.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var PageHeader=_export_sfc$1(_sfc_main$1i,[["__file","page-header.vue"]]);const ElPageHeader=withInstall(PageHeader),elPaginationKey=Symbol("elPaginationKey"),paginationPrevProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:iconPropType}}),paginationPrevEmits={click:t=>t instanceof MouseEvent},__default__$T=defineComponent({name:"ElPaginationPrev"}),_sfc_main$1h=defineComponent({...__default__$T,props:paginationPrevProps,emits:paginationPrevEmits,setup(t){const n=t,{t:r}=useLocale(),g=computed(()=>n.disabled||n.currentPage<=1);return(y,$)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-prev",disabled:unref(g),"aria-label":y.prevText||unref(r)("el.pagination.prev"),"aria-disabled":unref(g),onClick:L=>y.$emit("click",L)},[y.prevText?(openBlock(),createElementBlock("span",{key:0},toDisplayString(y.prevText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.prevIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Prev=_export_sfc$1(_sfc_main$1h,[["__file","prev.vue"]]);const paginationNextProps=buildProps({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:iconPropType}}),__default__$S=defineComponent({name:"ElPaginationNext"}),_sfc_main$1g=defineComponent({...__default__$S,props:paginationNextProps,emits:["click"],setup(t){const n=t,{t:r}=useLocale(),g=computed(()=>n.disabled||n.currentPage===n.pageCount||n.pageCount===0);return(y,$)=>(openBlock(),createElementBlock("button",{type:"button",class:"btn-next",disabled:unref(g),"aria-label":y.nextText||unref(r)("el.pagination.next"),"aria-disabled":unref(g),onClick:L=>y.$emit("click",L)},[y.nextText?(openBlock(),createElementBlock("span",{key:0},toDisplayString(y.nextText),1)):(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.nextIcon)))]),_:1}))],8,["disabled","aria-label","aria-disabled","onClick"]))}});var Next=_export_sfc$1(_sfc_main$1g,[["__file","next.vue"]]);const selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect"),COMPONENT_NAME$b="ElOption",optionProps=buildProps({value:{type:[String,Number,Boolean,Object],required:!0},label:{type:[String,Number]},created:Boolean,disabled:Boolean});function useOption$1(t,n){const r=inject(selectKey);r||throwError$1(COMPONENT_NAME$b,"usage: <el-select><el-option /></el-select/>");const g=inject(selectGroupKey,{disabled:!1}),y=computed(()=>re(castArray$1(r.props.modelValue),t.value)),$=computed(()=>{var ie;if(r.props.multiple){const le=castArray$1((ie=r.props.modelValue)!=null?ie:[]);return!y.value&&le.length>=r.props.multipleLimit&&r.props.multipleLimit>0}else return!1}),L=computed(()=>{var ie;return(ie=t.label)!=null?ie:isObject$5(t.value)?"":t.value}),V=computed(()=>t.value||t.label||""),z=computed(()=>t.disabled||n.groupDisabled||$.value),j=getCurrentInstance(),re=(ie=[],le)=>{if(isObject$5(t.value)){const ue=r.props.valueKey;return ie&&ie.some(de=>toRaw(get$1(de,ue))===get$1(le,ue))}else return ie&&ie.includes(le)},ae=()=>{!t.disabled&&!g.disabled&&(r.states.hoveringIndex=r.optionsArray.indexOf(j.proxy))},oe=ie=>{const le=new RegExp(escapeStringRegexp(ie),"i");n.visible=le.test(String(L.value))||t.created};return watch(()=>L.value,()=>{!t.created&&!r.props.remote&&r.setSelected()}),watch(()=>t.value,(ie,le)=>{const{remote:ue,valueKey:de}=r.props;if((ue?ie!==le:!isEqual$1(ie,le))&&(r.onOptionDestroy(le,j.proxy),r.onOptionCreate(j.proxy)),!t.created&&!ue){if(de&&isObject$5(ie)&&isObject$5(le)&&ie[de]===le[de])return;r.setSelected()}}),watch(()=>g.disabled,()=>{n.groupDisabled=g.disabled},{immediate:!0}),{select:r,currentLabel:L,currentValue:V,itemSelected:y,isDisabled:z,hoverItem:ae,updateOption:oe}}const _sfc_main$1f=defineComponent({name:COMPONENT_NAME$b,componentName:COMPONENT_NAME$b,props:optionProps,setup(t){const n=useNamespace("select"),r=useId(),g=computed(()=>[n.be("dropdown","item"),n.is("disabled",unref(V)),n.is("selected",unref(L)),n.is("hovering",unref(oe))]),y=reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:$,itemSelected:L,isDisabled:V,select:z,hoverItem:j,updateOption:re}=useOption$1(t,y),{visible:ae,hover:oe}=toRefs(y),ie=getCurrentInstance().proxy;z.onOptionCreate(ie),onBeforeUnmount(()=>{const ue=ie.value,{selected:de}=z.states,he=de.some(pe=>pe.value===ie.value);nextTick(()=>{z.states.cachedOptions.get(ue)===ie&&!he&&z.states.cachedOptions.delete(ue)}),z.onOptionDestroy(ue,ie)});function le(){V.value||z.handleOptionSelect(ie)}return{ns:n,id:r,containerKls:g,currentLabel:$,itemSelected:L,isDisabled:V,select:z,visible:ae,hover:oe,states:y,hoverItem:j,updateOption:re,selectOptionClick:le}}});function _sfc_render$h(t,n){return withDirectives((openBlock(),createElementBlock("li",{id:t.id,class:normalizeClass(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMousemove:t.hoverItem,onClick:withModifiers(t.selectOptionClick,["stop"])},[renderSlot(t.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(t.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMousemove","onClick"])),[[vShow,t.visible]])}var Option=_export_sfc$1(_sfc_main$1f,[["render",_sfc_render$h],["__file","option.vue"]]);const _sfc_main$1e=defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=inject(selectKey),n=useNamespace("select"),r=computed(()=>t.props.popperClass),g=computed(()=>t.props.multiple),y=computed(()=>t.props.fitInputWidth),$=ref("");function L(){var V;$.value=`${(V=t.selectRef)==null?void 0:V.offsetWidth}px`}return onMounted(()=>{L(),useResizeObserver(t.selectRef,L)}),{ns:n,minWidth:$,popperClass:r,isMultiple:g,isFitInputWidth:y}}});function _sfc_render$g(t,n,r,g,y,$){return openBlock(),createElementBlock("div",{class:normalizeClass([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:normalizeStyle$1({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.be("dropdown","header"))},[renderSlot(t.$slots,"header")],2)):createCommentVNode("v-if",!0),renderSlot(t.$slots,"default"),t.$slots.footer?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.ns.be("dropdown","footer"))},[renderSlot(t.$slots,"footer")],2)):createCommentVNode("v-if",!0)],6)}var ElSelectMenu$1=_export_sfc$1(_sfc_main$1e,[["render",_sfc_render$g],["__file","select-dropdown.vue"]]);const useSelect$2=(t,n)=>{const{t:r}=useLocale(),g=useId(),y=useNamespace("select"),$=useNamespace("input"),L=reactive({inputValue:"",options:new Map,cachedOptions:new Map,optionValues:[],selected:[],selectionWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),V=ref(),z=ref(),j=ref(),re=ref(),ae=ref(),oe=ref(),ie=ref(),le=ref(),ue=ref(),de=ref(),he=ref(),{isComposing:pe,handleCompositionStart:_e,handleCompositionUpdate:Ce,handleCompositionEnd:xe}=useComposition({afterComposition:Jn=>mr(Jn)}),{wrapperRef:Ie,isFocused:$e,handleBlur:Oe}=useFocusController(ae,{beforeFocus(){return qe.value},afterFocus(){t.automaticDropdown&&!Ne.value&&(Ne.value=!0,L.menuVisibleOnFocus=!0)},beforeBlur(Jn){var ur,Er;return((ur=j.value)==null?void 0:ur.isFocusInsideContent(Jn))||((Er=re.value)==null?void 0:Er.isFocusInsideContent(Jn))},afterBlur(){var Jn;Ne.value=!1,L.menuVisibleOnFocus=!1,t.validateEvent&&((Jn=ze==null?void 0:ze.validate)==null||Jn.call(ze,"blur").catch(ur=>void 0))}}),Ne=ref(!1),Fe=ref(),{form:Ve,formItem:ze}=useFormItem(),{inputId:Et}=useFormItemInputId(t,{formItemContext:ze}),{valueOnClear:Dt,isEmptyValue:Ue}=useEmptyValues(t),qe=computed(()=>t.disabled||(Ve==null?void 0:Ve.disabled)),Lt=computed(()=>isArray$4(t.modelValue)?t.modelValue.length>0:!Ue(t.modelValue)),Pt=computed(()=>{var Jn;return(Jn=Ve==null?void 0:Ve.statusIcon)!=null?Jn:!1}),At=computed(()=>t.clearable&&!qe.value&&L.inputHovering&&Lt.value),vn=computed(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),En=computed(()=>y.is("reverse",!!(vn.value&&Ne.value))),Sn=computed(()=>(ze==null?void 0:ze.validateState)||""),kt=computed(()=>Sn.value&&ValidateComponentsMap[Sn.value]),jt=computed(()=>t.remote?300:0),_n=computed(()=>t.remote&&!L.inputValue&&L.options.size===0),wn=computed(()=>t.loading?t.loadingText||r("el.select.loading"):t.filterable&&L.inputValue&&L.options.size>0&&hn.value===0?t.noMatchText||r("el.select.noMatch"):L.options.size===0?t.noDataText||r("el.select.noData"):null),hn=computed(()=>Cn.value.filter(Jn=>Jn.visible).length),Cn=computed(()=>{const Jn=Array.from(L.options.values()),ur=[];return L.optionValues.forEach(Er=>{const Ar=Jn.findIndex(Ir=>Ir.value===Er);Ar>-1&&ur.push(Jn[Ar])}),ur.length>=Jn.length?ur:Jn}),Tn=computed(()=>Array.from(L.cachedOptions.values())),xn=computed(()=>{const Jn=Cn.value.filter(ur=>!ur.created).some(ur=>ur.currentLabel===L.inputValue);return t.filterable&&t.allowCreate&&L.inputValue!==""&&!Jn}),Mn=()=>{t.filterable&&isFunction$3(t.filterMethod)||t.filterable&&t.remote&&isFunction$3(t.remoteMethod)||Cn.value.forEach(Jn=>{var ur;(ur=Jn.updateOption)==null||ur.call(Jn,L.inputValue)})},bn=useFormSize(),Pn=computed(()=>["small"].includes(bn.value)?"small":"default"),Rn=computed({get(){return Ne.value&&!_n.value},set(Jn){Ne.value=Jn}}),Fn=computed(()=>{if(t.multiple&&!isUndefined(t.modelValue))return castArray$1(t.modelValue).length===0&&!L.inputValue;const Jn=isArray$4(t.modelValue)?t.modelValue[0]:t.modelValue;return t.filterable||isUndefined(Jn)?!L.inputValue:!0}),Dn=computed(()=>{var Jn;const ur=(Jn=t.placeholder)!=null?Jn:r("el.select.placeholder");return t.multiple||!Lt.value?ur:L.selectedLabel}),Ln=computed(()=>isIOS?null:"mouseenter");watch(()=>t.modelValue,(Jn,ur)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(L.inputValue="",kn("")),Vn(),!isEqual$1(Jn,ur)&&t.validateEvent&&(ze==null||ze.validate("change").catch(Er=>void 0))},{flush:"post",deep:!0}),watch(()=>Ne.value,Jn=>{Jn?kn(L.inputValue):(L.inputValue="",L.previousQuery=null,L.isBeforeHide=!0),n("visible-change",Jn)}),watch(()=>L.options.entries(),()=>{isClient&&(Vn(),t.defaultFirstOption&&(t.filterable||t.remote)&&hn.value&&In())},{flush:"post"}),watch([()=>L.hoveringIndex,Cn],([Jn])=>{isNumber$1(Jn)&&Jn>-1?Fe.value=Cn.value[Jn]||{}:Fe.value={},Cn.value.forEach(ur=>{ur.hover=Fe.value===ur})}),watchEffect(()=>{L.isBeforeHide||Mn()});const kn=Jn=>{L.previousQuery===Jn||pe.value||(L.previousQuery=Jn,t.filterable&&isFunction$3(t.filterMethod)?t.filterMethod(Jn):t.filterable&&t.remote&&isFunction$3(t.remoteMethod)&&t.remoteMethod(Jn),t.defaultFirstOption&&(t.filterable||t.remote)&&hn.value?nextTick(In):nextTick(Kn))},In=()=>{const Jn=Cn.value.filter(Ir=>Ir.visible&&!Ir.disabled&&!Ir.states.groupDisabled),ur=Jn.find(Ir=>Ir.created),Er=Jn[0],Ar=Cn.value.map(Ir=>Ir.value);L.hoveringIndex=Nn(Ar,ur||Er)},Vn=()=>{if(t.multiple)L.selectedLabel="";else{const ur=isArray$4(t.modelValue)?t.modelValue[0]:t.modelValue,Er=zn(ur);L.selectedLabel=Er.currentLabel,L.selected=[Er];return}const Jn=[];isUndefined(t.modelValue)||castArray$1(t.modelValue).forEach(ur=>{Jn.push(zn(ur))}),L.selected=Jn},zn=Jn=>{let ur;const Er=isPlainObject$1(Jn);for(let $r=L.cachedOptions.size-1;$r>=0;$r--){const Rr=Tn.value[$r];if(Er?get$1(Rr.value,t.valueKey)===get$1(Jn,t.valueKey):Rr.value===Jn){ur={value:Jn,currentLabel:Rr.currentLabel,get isDisabled(){return Rr.isDisabled}};break}}if(ur)return ur;const Ar=Er?Jn.label:Jn??"";return{value:Jn,currentLabel:Ar}},Kn=()=>{L.hoveringIndex=Cn.value.findIndex(Jn=>L.selected.some(ur=>Zn(ur)===Zn(Jn)))},jn=()=>{L.selectionWidth=Number.parseFloat(window.getComputedStyle(z.value).width)},Wn=()=>{L.collapseItemWidth=de.value.getBoundingClientRect().width},Un=()=>{var Jn,ur;(ur=(Jn=j.value)==null?void 0:Jn.updatePopper)==null||ur.call(Jn)},nr=()=>{var Jn,ur;(ur=(Jn=re.value)==null?void 0:Jn.updatePopper)==null||ur.call(Jn)},sr=()=>{L.inputValue.length>0&&!Ne.value&&(Ne.value=!0),kn(L.inputValue)},mr=Jn=>{if(L.inputValue=Jn.target.value,t.remote)vr();else return sr()},vr=debounce(()=>{sr()},jt.value),Sr=Jn=>{isEqual$1(t.modelValue,Jn)||n(CHANGE_EVENT,Jn)},yr=Jn=>findLastIndex(Jn,ur=>{const Er=L.cachedOptions.get(ur);return Er&&!Er.disabled&&!Er.states.groupDisabled}),ir=Jn=>{if(t.multiple&&Jn.code!==EVENT_CODE.delete&&Jn.target.value.length<=0){const ur=castArray$1(t.modelValue).slice(),Er=yr(ur);if(Er<0)return;const Ar=ur[Er];ur.splice(Er,1),n(UPDATE_MODEL_EVENT,ur),Sr(ur),n("remove-tag",Ar)}},gr=(Jn,ur)=>{const Er=L.selected.indexOf(ur);if(Er>-1&&!qe.value){const Ar=castArray$1(t.modelValue).slice();Ar.splice(Er,1),n(UPDATE_MODEL_EVENT,Ar),Sr(Ar),n("remove-tag",ur.value)}Jn.stopPropagation(),Xn()},Gn=Jn=>{Jn.stopPropagation();const ur=t.multiple?[]:Dt.value;if(t.multiple)for(const Er of L.selected)Er.isDisabled&&ur.push(Er.value);n(UPDATE_MODEL_EVENT,ur),Sr(ur),L.hoveringIndex=-1,Ne.value=!1,n("clear"),Xn()},Qn=Jn=>{var ur;if(t.multiple){const Er=castArray$1((ur=t.modelValue)!=null?ur:[]).slice(),Ar=Nn(Er,Jn);Ar>-1?Er.splice(Ar,1):(t.multipleLimit<=0||Er.length<t.multipleLimit)&&Er.push(Jn.value),n(UPDATE_MODEL_EVENT,Er),Sr(Er),Jn.created&&kn(""),t.filterable&&!t.reserveKeyword&&(L.inputValue="")}else n(UPDATE_MODEL_EVENT,Jn.value),Sr(Jn.value),Ne.value=!1;Xn(),!Ne.value&&nextTick(()=>{Hn(Jn)})},Nn=(Jn,ur)=>isUndefined(ur)?-1:isObject$5(ur.value)?Jn.findIndex(Er=>isEqual$1(get$1(Er,t.valueKey),Zn(ur))):Jn.indexOf(ur.value),Hn=Jn=>{var ur,Er,Ar,Ir,$r;const Rr=isArray$4(Jn)?Jn[0]:Jn;let Nr=null;if(Rr!=null&&Rr.value){const Or=Cn.value.filter(Br=>Br.value===Rr.value);Or.length>0&&(Nr=Or[0].$el)}if(j.value&&Nr){const Or=(Ir=(Ar=(Er=(ur=j.value)==null?void 0:ur.popperRef)==null?void 0:Er.contentRef)==null?void 0:Ar.querySelector)==null?void 0:Ir.call(Ar,`.${y.be("dropdown","wrap")}`);Or&&scrollIntoView(Or,Nr)}($r=he.value)==null||$r.handleScroll()},Yn=Jn=>{L.options.set(Jn.value,Jn),L.cachedOptions.set(Jn.value,Jn)},pr=(Jn,ur)=>{L.options.get(Jn)===ur&&L.options.delete(Jn)},Cr=computed(()=>{var Jn,ur;return(ur=(Jn=j.value)==null?void 0:Jn.popperRef)==null?void 0:ur.contentRef}),$n=()=>{L.isBeforeHide=!1,nextTick(()=>{var Jn;(Jn=he.value)==null||Jn.update(),Hn(L.selected)})},Xn=()=>{var Jn;(Jn=ae.value)==null||Jn.focus()},lr=()=>{var Jn;if(Ne.value){Ne.value=!1,nextTick(()=>{var ur;return(ur=ae.value)==null?void 0:ur.blur()});return}(Jn=ae.value)==null||Jn.blur()},fr=Jn=>{Gn(Jn)},br=Jn=>{if(Ne.value=!1,$e.value){const ur=new FocusEvent("focus",Jn);nextTick(()=>Oe(ur))}},er=()=>{L.inputValue.length>0?L.inputValue="":Ne.value=!1},Bn=()=>{qe.value||(isIOS&&(L.inputHovering=!0),L.menuVisibleOnFocus?L.menuVisibleOnFocus=!1:Ne.value=!Ne.value)},On=()=>{if(!Ne.value)Bn();else{const Jn=Cn.value[L.hoveringIndex];Jn&&!Jn.isDisabled&&Qn(Jn)}},Zn=Jn=>isObject$5(Jn.value)?get$1(Jn.value,t.valueKey):Jn.value,qn=computed(()=>Cn.value.filter(Jn=>Jn.visible).every(Jn=>Jn.isDisabled)),or=computed(()=>t.multiple?t.collapseTags?L.selected.slice(0,t.maxCollapseTags):L.selected:[]),dr=computed(()=>t.multiple?t.collapseTags?L.selected.slice(t.maxCollapseTags):[]:[]),hr=Jn=>{if(!Ne.value){Ne.value=!0;return}if(!(L.options.size===0||hn.value===0||pe.value)&&!qn.value){Jn==="next"?(L.hoveringIndex++,L.hoveringIndex===L.options.size&&(L.hoveringIndex=0)):Jn==="prev"&&(L.hoveringIndex--,L.hoveringIndex<0&&(L.hoveringIndex=L.options.size-1));const ur=Cn.value[L.hoveringIndex];(ur.isDisabled||!ur.visible)&&hr(Jn),nextTick(()=>Hn(Fe.value))}},wr=()=>{if(!z.value)return 0;const Jn=window.getComputedStyle(z.value);return Number.parseFloat(Jn.gap||"6px")},xr=computed(()=>{const Jn=wr();return{maxWidth:`${de.value&&t.maxCollapseTags===1?L.selectionWidth-L.collapseItemWidth-Jn:L.selectionWidth}px`}}),_r=computed(()=>({maxWidth:`${L.selectionWidth}px`})),Pr=Jn=>{n("popup-scroll",Jn)};return useResizeObserver(z,jn),useResizeObserver(le,Un),useResizeObserver(Ie,Un),useResizeObserver(ue,nr),useResizeObserver(de,Wn),onMounted(()=>{Vn()}),{inputId:Et,contentId:g,nsSelect:y,nsInput:$,states:L,isFocused:$e,expanded:Ne,optionsArray:Cn,hoverOption:Fe,selectSize:bn,filteredOptionsCount:hn,updateTooltip:Un,updateTagTooltip:nr,debouncedOnInputChange:vr,onInput:mr,deletePrevTag:ir,deleteTag:gr,deleteSelected:Gn,handleOptionSelect:Qn,scrollToOption:Hn,hasModelValue:Lt,shouldShowPlaceholder:Fn,currentPlaceholder:Dn,mouseEnterEventName:Ln,needStatusIcon:Pt,showClose:At,iconComponent:vn,iconReverse:En,validateState:Sn,validateIcon:kt,showNewOption:xn,updateOptions:Mn,collapseTagSize:Pn,setSelected:Vn,selectDisabled:qe,emptyText:wn,handleCompositionStart:_e,handleCompositionUpdate:Ce,handleCompositionEnd:xe,onOptionCreate:Yn,onOptionDestroy:pr,handleMenuEnter:$n,focus:Xn,blur:lr,handleClearClick:fr,handleClickOutside:br,handleEsc:er,toggleMenu:Bn,selectOption:On,getValueKey:Zn,navigateOptions:hr,dropdownMenuVisible:Rn,showTagList:or,collapseTagList:dr,popupScroll:Pr,tagStyle:xr,collapseTagStyle:_r,popperRef:Cr,inputRef:ae,tooltipRef:j,tagTooltipRef:re,prefixRef:oe,suffixRef:ie,selectRef:V,wrapperRef:Ie,selectionRef:z,scrollbarRef:he,menuRef:le,tagMenuRef:ue,collapseItemRef:de}};var ElOptions=defineComponent({name:"ElOptions",setup(t,{slots:n}){const r=inject(selectKey);let g=[];return()=>{var y,$;const L=(y=n.default)==null?void 0:y.call(n),V=[];function z(j){isArray$4(j)&&j.forEach(re=>{var ae,oe,ie,le;const ue=(ae=(re==null?void 0:re.type)||{})==null?void 0:ae.name;ue==="ElOptionGroup"?z(!isString$2(re.children)&&!isArray$4(re.children)&&isFunction$3((oe=re.children)==null?void 0:oe.default)?(ie=re.children)==null?void 0:ie.default():re.children):ue==="ElOption"?V.push((le=re.props)==null?void 0:le.value):isArray$4(re.children)&&z(re.children)})}return L.length&&z(($=L[0])==null?void 0:$.children),isEqual$1(V,g)||(g=V,r&&(r.states.optionValues=V)),L}}});const selectProps=buildProps({name:String,id:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object]),default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,showArrow:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tabindex:{type:[String,Number],default:0},appendTo:useTooltipContentProps.appendTo,...useEmptyValuesProps,...useAriaProps(["ariaLabel"])});scrollbarEmits.scroll;const COMPONENT_NAME$a="ElSelect",_sfc_main$1d=defineComponent({name:COMPONENT_NAME$a,componentName:COMPONENT_NAME$a,components:{ElSelectMenu:ElSelectMenu$1,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:selectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur","popup-scroll"],setup(t,{emit:n,slots:r}){const g=getCurrentInstance();g.appContext.config.warnHandler=(...oe)=>{!oe[0]||oe[0].includes('Slot "default" invoked outside of the render function')||console.warn(...oe)};const y=computed(()=>{const{modelValue:oe,multiple:ie}=t,le=ie?[]:void 0;return isArray$4(oe)?ie?oe:le:ie?le:oe}),$=reactive({...toRefs(t),modelValue:y}),L=useSelect$2($,n),{calculatorRef:V,inputStyle:z}=useCalcInputWidth(),j=oe=>oe.reduce((ie,le)=>(ie.push(le),le.children&&le.children.length>0&&ie.push(...j(le.children)),ie),[]),re=oe=>{flattedChildren(oe||[]).forEach(le=>{var ue;if(isObject$5(le)&&(le.type.name==="ElOption"||le.type.name==="ElTree")){const de=le.type.name;if(de==="ElTree"){const he=((ue=le.props)==null?void 0:ue.data)||[];j(he).forEach(_e=>{_e.currentLabel=_e.label||(isObject$5(_e.value)?"":_e.value),L.onOptionCreate(_e)})}else if(de==="ElOption"){const he={...le.props};he.currentLabel=he.label||(isObject$5(he.value)?"":he.value),L.onOptionCreate(he)}}})};watch(()=>{var oe;return(oe=r.default)==null?void 0:oe.call(r)},oe=>{t.persistent||re(oe)},{immediate:!0}),provide(selectKey,reactive({props:$,states:L.states,selectRef:L.selectRef,optionsArray:L.optionsArray,setSelected:L.setSelected,handleOptionSelect:L.handleOptionSelect,onOptionCreate:L.onOptionCreate,onOptionDestroy:L.onOptionDestroy}));const ae=computed(()=>t.multiple?L.states.selected.map(oe=>oe.currentLabel):L.states.selectedLabel);return{...L,modelValue:y,selectedLabel:ae,calculatorRef:V,inputStyle:z}}});function _sfc_render$f(t,n){const r=resolveComponent("el-tag"),g=resolveComponent("el-tooltip"),y=resolveComponent("el-icon"),$=resolveComponent("el-option"),L=resolveComponent("el-options"),V=resolveComponent("el-scrollbar"),z=resolveComponent("el-select-menu"),j=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),[toHandlerKey(t.mouseEnterEventName)]:re=>t.states.inputHovering=!0,onMouseleave:re=>t.states.inputHovering=!1},[createVNode$1(g,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:re=>t.states.isBeforeHide=!1},{default:withCtx(()=>{var re;return[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:withModifiers(t.toggleMenu,["prevent"])},[t.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(t.nsSelect.e("prefix"))},[renderSlot(t.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?renderSlot(t.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.showTagList,ae=>(openBlock(),createElementBlock("div",{key:t.getValueKey(ae),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(r,{closable:!t.selectDisabled&&!ae.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle$1(t.tagStyle),onClose:oe=>t.deleteTag(oe,ae)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{label:ae.currentLabel,value:ae.value},()=>[createTextVNode(toDisplayString(ae.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(openBlock(),createBlock(g,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(r,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle$1(t.collapseTagStyle)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))}," + "+toDisplayString(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(t.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collapseTagList,ae=>(openBlock(),createElementBlock("div",{key:t.getValueKey(ae),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(r,{class:"in-tooltip",closable:!t.selectDisabled&&!ae.isDisabled,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:oe=>t.deleteTag(oe,ae)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{label:ae.currentLabel,value:ae.value},()=>[createTextVNode(toDisplayString(ae.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[withDirectives(createBaseVNode("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":ae=>t.states.inputValue=ae,type:"text",name:t.name,class:normalizeClass([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:normalizeStyle$1(t.inputStyle),tabindex:t.tabindex,role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((re=t.hoverOption)==null?void 0:re.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[withKeys(withModifiers(ae=>t.navigateOptions("next"),["stop","prevent"]),["down"]),withKeys(withModifiers(ae=>t.navigateOptions("prev"),["stop","prevent"]),["up"]),withKeys(withModifiers(t.handleEsc,["stop","prevent"]),["esc"]),withKeys(withModifiers(t.selectOption,["stop","prevent"]),["enter"]),withKeys(withModifiers(t.deletePrevTag,["stop"]),["delete"])],onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onInput:t.onInput,onClick:withModifiers(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","tabindex","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[vModelText,t.states.inputValue]]),t.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(t.nsSelect.e("input-calculator")),textContent:toDisplayString(t.states.inputValue)},null,10,["textContent"])):createCommentVNode("v-if",!0)],2),t.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?renderSlot(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[createBaseVNode("span",null,toDisplayString(t.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",{key:1},toDisplayString(t.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(openBlock(),createBlock(y,{key:0,class:normalizeClass([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),t.showClose&&t.clearIcon?(openBlock(),createBlock(y,{key:1,class:normalizeClass([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.nsSelect.e("clear")]),onClick:t.handleClearClick},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(openBlock(),createBlock(y,{key:2,class:normalizeClass([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],10,["onClick"])]}),content:withCtx(()=>[createVNode$1(z,{ref:"menuRef"},{default:withCtx(()=>[t.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.nsSelect.be("dropdown","header")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(t.$slots,"header")],10,["onClick"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(V,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:normalizeClass([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical",onScroll:t.popupScroll},{default:withCtx(()=>[t.showNewOption?(openBlock(),createBlock($,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):createCommentVNode("v-if",!0),createVNode$1(L,null,{default:withCtx(()=>[renderSlot(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label","onScroll"]),[[vShow,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.nsSelect.be("dropdown","loading"))},[renderSlot(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(t.nsSelect.be("dropdown","empty"))},[renderSlot(t.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(t.emptyText),1)])],2)):createCommentVNode("v-if",!0),t.$slots.footer?(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(t.nsSelect.be("dropdown","footer")),onClick:withModifiers(()=>{},["stop"])},[renderSlot(t.$slots,"footer")],10,["onClick"])):createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],16,["onMouseleave"])),[[j,t.handleClickOutside,t.popperRef]])}var Select$1=_export_sfc$1(_sfc_main$1d,[["render",_sfc_render$f],["__file","select.vue"]]);const _sfc_main$1c=defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const n=useNamespace("select"),r=ref(),g=getCurrentInstance(),y=ref([]);provide(selectGroupKey,reactive({...toRefs(t)}));const $=computed(()=>y.value.some(j=>j.visible===!0)),L=j=>{var re;return j.type.name==="ElOption"&&!!((re=j.component)!=null&&re.proxy)},V=j=>{const re=castArray$1(j),ae=[];return re.forEach(oe=>{var ie;isVNode(oe)&&(L(oe)?ae.push(oe.component.proxy):isArray$4(oe.children)&&oe.children.length?ae.push(...V(oe.children)):(ie=oe.component)!=null&&ie.subTree&&ae.push(...V(oe.component.subTree)))}),ae},z=()=>{y.value=V(g.subTree)};return onMounted(()=>{z()}),useMutationObserver(r,z,{attributes:!0,subtree:!0,childList:!0}),{groupRef:r,visible:$,ns:n}}});function _sfc_render$e(t,n,r,g,y,$){return withDirectives((openBlock(),createElementBlock("ul",{ref:"groupRef",class:normalizeClass(t.ns.be("group","wrap"))},[createBaseVNode("li",{class:normalizeClass(t.ns.be("group","title"))},toDisplayString(t.label),3),createBaseVNode("li",null,[createBaseVNode("ul",{class:normalizeClass(t.ns.b("group"))},[renderSlot(t.$slots,"default")],2)])],2)),[[vShow,t.visible]])}var OptionGroup=_export_sfc$1(_sfc_main$1c,[["render",_sfc_render$e],["__file","option-group.vue"]]);const ElSelect=withInstall(Select$1,{Option,OptionGroup}),ElOption=withNoopInstall(Option),ElOptionGroup=withNoopInstall(OptionGroup),usePagination=()=>inject(elPaginationKey,{}),paginationSizesProps=buildProps({pageSize:{type:Number,required:!0},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:componentSizes},appendSizeTo:String}),__default__$R=defineComponent({name:"ElPaginationSizes"}),_sfc_main$1b=defineComponent({...__default__$R,props:paginationSizesProps,emits:["page-size-change"],setup(t,{emit:n}){const r=t,{t:g}=useLocale(),y=useNamespace("pagination"),$=usePagination(),L=ref(r.pageSize);watch(()=>r.pageSizes,(j,re)=>{if(!isEqual$1(j,re)&&isArray$4(j)){const ae=j.includes(r.pageSize)?r.pageSize:r.pageSizes[0];n("page-size-change",ae)}}),watch(()=>r.pageSize,j=>{L.value=j});const V=computed(()=>r.pageSizes);function z(j){var re;j!==L.value&&(L.value=j,(re=$.handleSizeChange)==null||re.call($,Number(j)))}return(j,re)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(y).e("sizes"))},[createVNode$1(unref(ElSelect),{"model-value":L.value,disabled:j.disabled,"popper-class":j.popperClass,size:j.size,teleported:j.teleported,"validate-event":!1,"append-to":j.appendSizeTo,onChange:z},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(V),ae=>(openBlock(),createBlock(unref(ElOption),{key:ae,value:ae,label:ae+unref(g)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported","append-to"])],2))}});var Sizes=_export_sfc$1(_sfc_main$1b,[["__file","sizes.vue"]]);const paginationJumperProps=buildProps({size:{type:String,values:componentSizes}}),__default__$Q=defineComponent({name:"ElPaginationJumper"}),_sfc_main$1a=defineComponent({...__default__$Q,props:paginationJumperProps,setup(t){const{t:n}=useLocale(),r=useNamespace("pagination"),{pageCount:g,disabled:y,currentPage:$,changeEvent:L}=usePagination(),V=ref(),z=computed(()=>{var ae;return(ae=V.value)!=null?ae:$==null?void 0:$.value});function j(ae){V.value=ae?+ae:""}function re(ae){ae=Math.trunc(+ae),L==null||L(ae),V.value=void 0}return(ae,oe)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("jump")),disabled:unref(y)},[createBaseVNode("span",{class:normalizeClass([unref(r).e("goto")])},toDisplayString(unref(n)("el.pagination.goto")),3),createVNode$1(unref(ElInput),{size:ae.size,class:normalizeClass([unref(r).e("editor"),unref(r).is("in-pagination")]),min:1,max:unref(g),disabled:unref(y),"model-value":unref(z),"validate-event":!1,"aria-label":unref(n)("el.pagination.page"),type:"number","onUpdate:modelValue":j,onChange:re},null,8,["size","class","max","disabled","model-value","aria-label"]),createBaseVNode("span",{class:normalizeClass([unref(r).e("classifier")])},toDisplayString(unref(n)("el.pagination.pageClassifier")),3)],10,["disabled"]))}});var Jumper=_export_sfc$1(_sfc_main$1a,[["__file","jumper.vue"]]);const paginationTotalProps=buildProps({total:{type:Number,default:1e3}}),__default__$P=defineComponent({name:"ElPaginationTotal"}),_sfc_main$19=defineComponent({...__default__$P,props:paginationTotalProps,setup(t){const{t:n}=useLocale(),r=useNamespace("pagination"),{disabled:g}=usePagination();return(y,$)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(r).e("total")),disabled:unref(g)},toDisplayString(unref(n)("el.pagination.total",{total:y.total})),11,["disabled"]))}});var Total=_export_sfc$1(_sfc_main$19,[["__file","total.vue"]]);const paginationPagerProps=buildProps({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),__default__$O=defineComponent({name:"ElPaginationPager"}),_sfc_main$18=defineComponent({...__default__$O,props:paginationPagerProps,emits:[CHANGE_EVENT],setup(t,{emit:n}){const r=t,g=useNamespace("pager"),y=useNamespace("icon"),{t:$}=useLocale(),L=ref(!1),V=ref(!1),z=ref(!1),j=ref(!1),re=ref(!1),ae=ref(!1),oe=computed(()=>{const Ce=r.pagerCount,xe=(Ce-1)/2,Ie=Number(r.currentPage),$e=Number(r.pageCount);let Oe=!1,Ne=!1;$e>Ce&&(Ie>Ce-xe&&(Oe=!0),Ie<$e-xe&&(Ne=!0));const Fe=[];if(Oe&&!Ne){const Ve=$e-(Ce-2);for(let ze=Ve;ze<$e;ze++)Fe.push(ze)}else if(!Oe&&Ne)for(let Ve=2;Ve<Ce;Ve++)Fe.push(Ve);else if(Oe&&Ne){const Ve=Math.floor(Ce/2)-1;for(let ze=Ie-Ve;ze<=Ie+Ve;ze++)Fe.push(ze)}else for(let Ve=2;Ve<$e;Ve++)Fe.push(Ve);return Fe}),ie=computed(()=>["more","btn-quickprev",y.b(),g.is("disabled",r.disabled)]),le=computed(()=>["more","btn-quicknext",y.b(),g.is("disabled",r.disabled)]),ue=computed(()=>r.disabled?-1:0);watchEffect(()=>{const Ce=(r.pagerCount-1)/2;L.value=!1,V.value=!1,r.pageCount>r.pagerCount&&(r.currentPage>r.pagerCount-Ce&&(L.value=!0),r.currentPage<r.pageCount-Ce&&(V.value=!0))});function de(Ce=!1){r.disabled||(Ce?z.value=!0:j.value=!0)}function he(Ce=!1){Ce?re.value=!0:ae.value=!0}function pe(Ce){const xe=Ce.target;if(xe.tagName.toLowerCase()==="li"&&Array.from(xe.classList).includes("number")){const Ie=Number(xe.textContent);Ie!==r.currentPage&&n(CHANGE_EVENT,Ie)}else xe.tagName.toLowerCase()==="li"&&Array.from(xe.classList).includes("more")&&_e(Ce)}function _e(Ce){const xe=Ce.target;if(xe.tagName.toLowerCase()==="ul"||r.disabled)return;let Ie=Number(xe.textContent);const $e=r.pageCount,Oe=r.currentPage,Ne=r.pagerCount-2;xe.className.includes("more")&&(xe.className.includes("quickprev")?Ie=Oe-Ne:xe.className.includes("quicknext")&&(Ie=Oe+Ne)),Number.isNaN(+Ie)||(Ie<1&&(Ie=1),Ie>$e&&(Ie=$e)),Ie!==Oe&&n(CHANGE_EVENT,Ie)}return(Ce,xe)=>(openBlock(),createElementBlock("ul",{class:normalizeClass(unref(g).b()),onClick:_e,onKeyup:withKeys(pe,["enter"])},[Ce.pageCount>0?(openBlock(),createElementBlock("li",{key:0,class:normalizeClass([[unref(g).is("active",Ce.currentPage===1),unref(g).is("disabled",Ce.disabled)],"number"]),"aria-current":Ce.currentPage===1,"aria-label":unref($)("el.pagination.currentPage",{pager:1}),tabindex:unref(ue)}," 1 ",10,["aria-current","aria-label","tabindex"])):createCommentVNode("v-if",!0),L.value?(openBlock(),createElementBlock("li",{key:1,class:normalizeClass(unref(ie)),tabindex:unref(ue),"aria-label":unref($)("el.pagination.prevPages",{pager:Ce.pagerCount-2}),onMouseenter:Ie=>de(!0),onMouseleave:Ie=>z.value=!1,onFocus:Ie=>he(!0),onBlur:Ie=>re.value=!1},[(z.value||re.value)&&!Ce.disabled?(openBlock(),createBlock(unref(d_arrow_left_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):createCommentVNode("v-if",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(oe),Ie=>(openBlock(),createElementBlock("li",{key:Ie,class:normalizeClass([[unref(g).is("active",Ce.currentPage===Ie),unref(g).is("disabled",Ce.disabled)],"number"]),"aria-current":Ce.currentPage===Ie,"aria-label":unref($)("el.pagination.currentPage",{pager:Ie}),tabindex:unref(ue)},toDisplayString(Ie),11,["aria-current","aria-label","tabindex"]))),128)),V.value?(openBlock(),createElementBlock("li",{key:2,class:normalizeClass(unref(le)),tabindex:unref(ue),"aria-label":unref($)("el.pagination.nextPages",{pager:Ce.pagerCount-2}),onMouseenter:Ie=>de(),onMouseleave:Ie=>j.value=!1,onFocus:Ie=>he(),onBlur:Ie=>ae.value=!1},[(j.value||ae.value)&&!Ce.disabled?(openBlock(),createBlock(unref(d_arrow_right_default),{key:0})):(openBlock(),createBlock(unref(more_filled_default),{key:1}))],42,["tabindex","aria-label","onMouseenter","onMouseleave","onFocus","onBlur"])):createCommentVNode("v-if",!0),Ce.pageCount>1?(openBlock(),createElementBlock("li",{key:3,class:normalizeClass([[unref(g).is("active",Ce.currentPage===Ce.pageCount),unref(g).is("disabled",Ce.disabled)],"number"]),"aria-current":Ce.currentPage===Ce.pageCount,"aria-label":unref($)("el.pagination.currentPage",{pager:Ce.pageCount}),tabindex:unref(ue)},toDisplayString(Ce.pageCount),11,["aria-current","aria-label","tabindex"])):createCommentVNode("v-if",!0)],42,["onKeyup"]))}});var Pager=_export_sfc$1(_sfc_main$18,[["__file","pager.vue"]]);const isAbsent=t=>typeof t!="number",paginationProps=buildProps({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>isNumber$1(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:definePropType(Array),default:()=>mutable([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:iconPropType,default:()=>arrow_left_default},nextText:{type:String,default:""},nextIcon:{type:iconPropType,default:()=>arrow_right_default},teleported:{type:Boolean,default:!0},small:Boolean,size:useSizeProp,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean,appendSizeTo:String}),paginationEmits={"update:current-page":t=>isNumber$1(t),"update:page-size":t=>isNumber$1(t),"size-change":t=>isNumber$1(t),change:(t,n)=>isNumber$1(t)&&isNumber$1(n),"current-change":t=>isNumber$1(t),"prev-click":t=>isNumber$1(t),"next-click":t=>isNumber$1(t)},componentName="ElPagination";var Pagination=defineComponent({name:componentName,props:paginationProps,emits:paginationEmits,setup(t,{emit:n,slots:r}){const{t:g}=useLocale(),y=useNamespace("pagination"),$=getCurrentInstance().vnode.props||{},L=useGlobalSize(),V=computed(()=>{var xe;return t.small?"small":(xe=t.size)!=null?xe:L.value});useDeprecated({from:"small",replacement:"size",version:"3.0.0",scope:"el-pagination",ref:"https://element-plus.org/zh-CN/component/pagination.html"},computed(()=>!!t.small));const z="onUpdate:currentPage"in $||"onUpdate:current-page"in $||"onCurrentChange"in $,j="onUpdate:pageSize"in $||"onUpdate:page-size"in $||"onSizeChange"in $,re=computed(()=>{if(isAbsent(t.total)&&isAbsent(t.pageCount)||!isAbsent(t.currentPage)&&!z)return!1;if(t.layout.includes("sizes")){if(isAbsent(t.pageCount)){if(!isAbsent(t.total)&&!isAbsent(t.pageSize)&&!j)return!1}else if(!j)return!1}return!0}),ae=ref(isAbsent(t.defaultPageSize)?10:t.defaultPageSize),oe=ref(isAbsent(t.defaultCurrentPage)?1:t.defaultCurrentPage),ie=computed({get(){return isAbsent(t.pageSize)?ae.value:t.pageSize},set(xe){isAbsent(t.pageSize)&&(ae.value=xe),j&&(n("update:page-size",xe),n("size-change",xe))}}),le=computed(()=>{let xe=0;return isAbsent(t.pageCount)?isAbsent(t.total)||(xe=Math.max(1,Math.ceil(t.total/ie.value))):xe=t.pageCount,xe}),ue=computed({get(){return isAbsent(t.currentPage)?oe.value:t.currentPage},set(xe){let Ie=xe;xe<1?Ie=1:xe>le.value&&(Ie=le.value),isAbsent(t.currentPage)&&(oe.value=Ie),z&&(n("update:current-page",Ie),n("current-change",Ie))}});watch(le,xe=>{ue.value>xe&&(ue.value=xe)}),watch([ue,ie],xe=>{n(CHANGE_EVENT,...xe)},{flush:"post"});function de(xe){ue.value=xe}function he(xe){ie.value=xe;const Ie=le.value;ue.value>Ie&&(ue.value=Ie)}function pe(){t.disabled||(ue.value-=1,n("prev-click",ue.value))}function _e(){t.disabled||(ue.value+=1,n("next-click",ue.value))}function Ce(xe,Ie){xe&&(xe.props||(xe.props={}),xe.props.class=[xe.props.class,Ie].join(" "))}return provide(elPaginationKey,{pageCount:le,disabled:computed(()=>t.disabled),currentPage:ue,changeEvent:de,handleSizeChange:he}),()=>{var xe,Ie;if(!re.value)return g("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&le.value<=1)return null;const $e=[],Oe=[],Ne=h$1("div",{class:y.e("rightwrapper")},Oe),Fe={prev:h$1(Prev,{disabled:t.disabled,currentPage:ue.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:pe}),jumper:h$1(Jumper,{size:V.value}),pager:h$1(Pager,{currentPage:ue.value,pageCount:le.value,pagerCount:t.pagerCount,onChange:de,disabled:t.disabled}),next:h$1(Next,{disabled:t.disabled,currentPage:ue.value,pageCount:le.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:_e}),sizes:h$1(Sizes,{pageSize:ie.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:V.value,appendSizeTo:t.appendSizeTo}),slot:(Ie=(xe=r==null?void 0:r.default)==null?void 0:xe.call(r))!=null?Ie:null,total:h$1(Total,{total:isAbsent(t.total)?0:t.total})},Ve=t.layout.split(",").map(Et=>Et.trim());let ze=!1;return Ve.forEach(Et=>{if(Et==="->"){ze=!0;return}ze?Oe.push(Fe[Et]):$e.push(Fe[Et])}),Ce($e[0],y.is("first")),Ce($e[$e.length-1],y.is("last")),ze&&Oe.length>0&&(Ce(Oe[0],y.is("first")),Ce(Oe[Oe.length-1],y.is("last")),$e.push(Ne)),h$1("div",{class:[y.b(),y.is("background",t.background),y.m(V.value)]},$e)}}});const ElPagination=withInstall(Pagination),popconfirmProps=buildProps({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:buttonTypes,default:"primary"},cancelButtonType:{type:String,values:buttonTypes,default:"text"},icon:{type:iconPropType,default:()=>question_filled_default},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:useTooltipContentProps.teleported,persistent:useTooltipContentProps.persistent,width:{type:[String,Number],default:150}}),popconfirmEmits={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},__default__$N=defineComponent({name:"ElPopconfirm"}),_sfc_main$17=defineComponent({...__default__$N,props:popconfirmProps,emits:popconfirmEmits,setup(t,{emit:n}){const r=t,{t:g}=useLocale(),y=useNamespace("popconfirm"),$=ref(),L=()=>{var oe,ie;(ie=(oe=$.value)==null?void 0:oe.onClose)==null||ie.call(oe)},V=computed(()=>({width:addUnit(r.width)})),z=oe=>{n("confirm",oe),L()},j=oe=>{n("cancel",oe),L()},re=computed(()=>r.confirmButtonText||g("el.popconfirm.confirmButtonText")),ae=computed(()=>r.cancelButtonText||g("el.popconfirm.cancelButtonText"));return(oe,ie)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:$,trigger:"click",effect:"light"},oe.$attrs,{"popper-class":`${unref(y).namespace.value}-popover`,"popper-style":unref(V),teleported:oe.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":oe.hideAfter,persistent:oe.persistent}),{content:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(unref(y).b())},[createBaseVNode("div",{class:normalizeClass(unref(y).e("main"))},[!oe.hideIcon&&oe.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("icon")),style:normalizeStyle$1({color:oe.iconColor})},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(oe.icon)))]),_:1},8,["class","style"])):createCommentVNode("v-if",!0),createTextVNode(" "+toDisplayString(oe.title),1)],2),createBaseVNode("div",{class:normalizeClass(unref(y).e("action"))},[renderSlot(oe.$slots,"actions",{confirm:z,cancel:j},()=>[createVNode$1(unref(ElButton),{size:"small",type:oe.cancelButtonType==="text"?"":oe.cancelButtonType,text:oe.cancelButtonType==="text",onClick:j},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ae)),1)]),_:1},8,["type","text"]),createVNode$1(unref(ElButton),{size:"small",type:oe.confirmButtonType==="text"?"":oe.confirmButtonType,text:oe.confirmButtonType==="text",onClick:z},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(re)),1)]),_:1},8,["type","text"])])],2)],2)]),default:withCtx(()=>[oe.$slots.reference?renderSlot(oe.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var Popconfirm=_export_sfc$1(_sfc_main$17,[["__file","popconfirm.vue"]]);const ElPopconfirm=withInstall(Popconfirm),popoverProps=buildProps({trigger:useTooltipTriggerProps.trigger,triggerKeys:useTooltipTriggerProps.triggerKeys,placement:dropdownProps.placement,disabled:useTooltipTriggerProps.disabled,visible:useTooltipContentProps.visible,transition:useTooltipContentProps.transition,popperOptions:dropdownProps.popperOptions,tabindex:dropdownProps.tabindex,content:useTooltipContentProps.content,popperStyle:useTooltipContentProps.popperStyle,popperClass:useTooltipContentProps.popperClass,enterable:{...useTooltipContentProps.enterable,default:!0},effect:{...useTooltipContentProps.effect,default:"light"},teleported:useTooltipContentProps.teleported,appendTo:useTooltipContentProps.appendTo,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),popoverEmits={"update:visible":t=>isBoolean(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},updateEventKeyRaw="onUpdate:visible",__default__$M=defineComponent({name:"ElPopover"}),_sfc_main$16=defineComponent({...__default__$M,props:popoverProps,emits:popoverEmits,setup(t,{expose:n,emit:r}){const g=t,y=computed(()=>g[updateEventKeyRaw]),$=useNamespace("popover"),L=ref(),V=computed(()=>{var de;return(de=unref(L))==null?void 0:de.popperRef}),z=computed(()=>[{width:addUnit(g.width)},g.popperStyle]),j=computed(()=>[$.b(),g.popperClass,{[$.m("plain")]:!!g.content}]),re=computed(()=>g.transition===`${$.namespace.value}-fade-in-linear`),ae=()=>{var de;(de=L.value)==null||de.hide()},oe=()=>{r("before-enter")},ie=()=>{r("before-leave")},le=()=>{r("after-enter")},ue=()=>{r("update:visible",!1),r("after-leave")};return n({popperRef:V,hide:ae}),(de,he)=>(openBlock(),createBlock(unref(ElTooltip),mergeProps({ref_key:"tooltipRef",ref:L},de.$attrs,{trigger:de.trigger,"trigger-keys":de.triggerKeys,placement:de.placement,disabled:de.disabled,visible:de.visible,transition:de.transition,"popper-options":de.popperOptions,tabindex:de.tabindex,content:de.content,offset:de.offset,"show-after":de.showAfter,"hide-after":de.hideAfter,"auto-close":de.autoClose,"show-arrow":de.showArrow,"aria-label":de.title,effect:de.effect,enterable:de.enterable,"popper-class":unref(j),"popper-style":unref(z),teleported:de.teleported,"append-to":de.appendTo,persistent:de.persistent,"gpu-acceleration":unref(re),"onUpdate:visible":unref(y),onBeforeShow:oe,onBeforeHide:ie,onShow:le,onHide:ue}),{content:withCtx(()=>[de.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref($).e("title")),role:"title"},toDisplayString(de.title),3)):createCommentVNode("v-if",!0),renderSlot(de.$slots,"default",{},()=>[createTextVNode(toDisplayString(de.content),1)])]),default:withCtx(()=>[de.$slots.reference?renderSlot(de.$slots,"reference",{key:0}):createCommentVNode("v-if",!0)]),_:3},16,["trigger","trigger-keys","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","append-to","persistent","gpu-acceleration","onUpdate:visible"]))}});var Popover=_export_sfc$1(_sfc_main$16,[["__file","popover.vue"]]);const attachEvents=(t,n)=>{const r=n.arg||n.value,g=r==null?void 0:r.popperRef;g&&(g.triggerRef=t)};var PopoverDirective={mounted(t,n){attachEvents(t,n)},updated(t,n){attachEvents(t,n)}};const VPopover="popover",ElPopoverDirective=withInstallDirective(PopoverDirective,VPopover),ElPopover=withInstall(Popover,{directive:ElPopoverDirective}),progressProps=buildProps({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:Boolean,duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:definePropType(String),default:"round"},textInside:Boolean,width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:definePropType([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:definePropType(Function),default:t=>`${t}%`}}),__default__$L=defineComponent({name:"ElProgress"}),_sfc_main$15=defineComponent({...__default__$L,props:progressProps,setup(t){const n=t,r={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},g=useNamespace("progress"),y=computed(()=>{const _e={width:`${n.percentage}%`,animationDuration:`${n.duration}s`},Ce=pe(n.percentage);return Ce.includes("gradient")?_e.background=Ce:_e.backgroundColor=Ce,_e}),$=computed(()=>(n.strokeWidth/n.width*100).toFixed(1)),L=computed(()=>["circle","dashboard"].includes(n.type)?Number.parseInt(`${50-Number.parseFloat($.value)/2}`,10):0),V=computed(()=>{const _e=L.value,Ce=n.type==="dashboard";return`
          M 50 50
          m 0 ${Ce?"":"-"}${_e}
          a ${_e} ${_e} 0 1 1 0 ${Ce?"-":""}${_e*2}
          a ${_e} ${_e} 0 1 1 0 ${Ce?"":"-"}${_e*2}
          `}),z=computed(()=>2*Math.PI*L.value),j=computed(()=>n.type==="dashboard"?.75:1),re=computed(()=>`${-1*z.value*(1-j.value)/2}px`),ae=computed(()=>({strokeDasharray:`${z.value*j.value}px, ${z.value}px`,strokeDashoffset:re.value})),oe=computed(()=>({strokeDasharray:`${z.value*j.value*(n.percentage/100)}px, ${z.value}px`,strokeDashoffset:re.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),ie=computed(()=>{let _e;return n.color?_e=pe(n.percentage):_e=r[n.status]||r.default,_e}),le=computed(()=>n.status==="warning"?warning_filled_default:n.type==="line"?n.status==="success"?circle_check_default:circle_close_default:n.status==="success"?check_default:close_default),ue=computed(()=>n.type==="line"?12+n.strokeWidth*.4:n.width*.111111+2),de=computed(()=>n.format(n.percentage));function he(_e){const Ce=100/_e.length;return _e.map((Ie,$e)=>isString$2(Ie)?{color:Ie,percentage:($e+1)*Ce}:Ie).sort((Ie,$e)=>Ie.percentage-$e.percentage)}const pe=_e=>{var Ce;const{color:xe}=n;if(isFunction$3(xe))return xe(_e);if(isString$2(xe))return xe;{const Ie=he(xe);for(const $e of Ie)if($e.percentage>_e)return $e.color;return(Ce=Ie[Ie.length-1])==null?void 0:Ce.color}};return(_e,Ce)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(_e.type),unref(g).is(_e.status),{[unref(g).m("without-text")]:!_e.showText,[unref(g).m("text-inside")]:_e.textInside}]),role:"progressbar","aria-valuenow":_e.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[_e.type==="line"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).b("bar"))},[createBaseVNode("div",{class:normalizeClass(unref(g).be("bar","outer")),style:normalizeStyle$1({height:`${_e.strokeWidth}px`})},[createBaseVNode("div",{class:normalizeClass([unref(g).be("bar","inner"),{[unref(g).bem("bar","inner","indeterminate")]:_e.indeterminate},{[unref(g).bem("bar","inner","striped")]:_e.striped},{[unref(g).bem("bar","inner","striped-flow")]:_e.stripedFlow}]),style:normalizeStyle$1(unref(y))},[(_e.showText||_e.$slots.default)&&_e.textInside?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).be("bar","innerText"))},[renderSlot(_e.$slots,"default",{percentage:_e.percentage},()=>[createBaseVNode("span",null,toDisplayString(unref(de)),1)])],2)):createCommentVNode("v-if",!0)],6)],6)],2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).b("circle")),style:normalizeStyle$1({height:`${_e.width}px`,width:`${_e.width}px`})},[(openBlock(),createElementBlock("svg",{viewBox:"0 0 100 100"},[createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","track")),d:unref(V),stroke:`var(${unref(g).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":_e.strokeLinecap,"stroke-width":unref($),fill:"none",style:normalizeStyle$1(unref(ae))},null,14,["d","stroke","stroke-linecap","stroke-width"]),createBaseVNode("path",{class:normalizeClass(unref(g).be("circle","path")),d:unref(V),stroke:unref(ie),fill:"none",opacity:_e.percentage?1:0,"stroke-linecap":_e.strokeLinecap,"stroke-width":unref($),style:normalizeStyle$1(unref(oe))},null,14,["d","stroke","opacity","stroke-linecap","stroke-width"])]))],6)),(_e.showText||_e.$slots.default)&&!_e.textInside?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(g).e("text")),style:normalizeStyle$1({fontSize:`${unref(ue)}px`})},[renderSlot(_e.$slots,"default",{percentage:_e.percentage},()=>[_e.status?(openBlock(),createBlock(unref(ElIcon),{key:1},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(le))))]),_:1})):(openBlock(),createElementBlock("span",{key:0},toDisplayString(unref(de)),1))])],6)):createCommentVNode("v-if",!0)],10,["aria-valuenow"]))}});var Progress=_export_sfc$1(_sfc_main$15,[["__file","progress.vue"]]);const ElProgress=withInstall(Progress),rateProps=buildProps({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:definePropType([Array,Object]),default:()=>mutable(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:definePropType([Array,Object]),default:()=>[star_filled_default,star_filled_default,star_filled_default]},voidIcon:{type:iconPropType,default:()=>star_default},disabledVoidIcon:{type:iconPropType,default:()=>star_filled_default},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:definePropType(Array),default:()=>mutable(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:useSizeProp,clearable:Boolean,...useAriaProps(["ariaLabel"])}),rateEmits={[CHANGE_EVENT]:t=>isNumber$1(t),[UPDATE_MODEL_EVENT]:t=>isNumber$1(t)},__default__$K=defineComponent({name:"ElRate"}),_sfc_main$14=defineComponent({...__default__$K,props:rateProps,emits:rateEmits,setup(t,{expose:n,emit:r}){const g=t;function y(qe,Lt){const Pt=En=>isObject$5(En),At=Object.keys(Lt).map(En=>+En).filter(En=>{const Sn=Lt[En];return(Pt(Sn)?Sn.excluded:!1)?qe<En:qe<=En}).sort((En,Sn)=>En-Sn),vn=Lt[At[0]];return Pt(vn)&&vn.value||vn}const $=inject(formContextKey,void 0),L=inject(formItemContextKey,void 0),V=useFormSize(),z=useNamespace("rate"),{inputId:j,isLabeledByFormItem:re}=useFormItemInputId(g,{formItemContext:L}),ae=ref(g.modelValue),oe=ref(-1),ie=ref(!0),le=computed(()=>[z.b(),z.m(V.value)]),ue=computed(()=>g.disabled||($==null?void 0:$.disabled)),de=computed(()=>z.cssVarBlock({"void-color":g.voidColor,"disabled-void-color":g.disabledVoidColor,"fill-color":Ce.value})),he=computed(()=>{let qe="";return g.showScore?qe=g.scoreTemplate.replace(/\{\s*value\s*\}/,ue.value?`${g.modelValue}`:`${ae.value}`):g.showText&&(qe=g.texts[Math.ceil(ae.value)-1]),qe}),pe=computed(()=>g.modelValue*100-Math.floor(g.modelValue)*100),_e=computed(()=>isArray$4(g.colors)?{[g.lowThreshold]:g.colors[0],[g.highThreshold]:{value:g.colors[1],excluded:!0},[g.max]:g.colors[2]}:g.colors),Ce=computed(()=>{const qe=y(ae.value,_e.value);return isObject$5(qe)?"":qe}),xe=computed(()=>{let qe="";return ue.value?qe=`${pe.value}%`:g.allowHalf&&(qe="50%"),{color:Ce.value,width:qe}}),Ie=computed(()=>{let qe=isArray$4(g.icons)?[...g.icons]:{...g.icons};return qe=markRaw(qe),isArray$4(qe)?{[g.lowThreshold]:qe[0],[g.highThreshold]:{value:qe[1],excluded:!0},[g.max]:qe[2]}:qe}),$e=computed(()=>y(g.modelValue,Ie.value)),Oe=computed(()=>ue.value?isString$2(g.disabledVoidIcon)?g.disabledVoidIcon:markRaw(g.disabledVoidIcon):isString$2(g.voidIcon)?g.voidIcon:markRaw(g.voidIcon)),Ne=computed(()=>y(ae.value,Ie.value));function Fe(qe){const Lt=ue.value&&pe.value>0&&qe-1<g.modelValue&&qe>g.modelValue,Pt=g.allowHalf&&ie.value&&qe-.5<=ae.value&&qe>ae.value;return Lt||Pt}function Ve(qe){g.clearable&&qe===g.modelValue&&(qe=0),r(UPDATE_MODEL_EVENT,qe),g.modelValue!==qe&&r(CHANGE_EVENT,qe)}function ze(qe){ue.value||(g.allowHalf&&ie.value?Ve(ae.value):Ve(qe))}function Et(qe){if(ue.value)return;let Lt=ae.value;const Pt=qe.code;return Pt===EVENT_CODE.up||Pt===EVENT_CODE.right?(g.allowHalf?Lt+=.5:Lt+=1,qe.stopPropagation(),qe.preventDefault()):(Pt===EVENT_CODE.left||Pt===EVENT_CODE.down)&&(g.allowHalf?Lt-=.5:Lt-=1,qe.stopPropagation(),qe.preventDefault()),Lt=Lt<0?0:Lt,Lt=Lt>g.max?g.max:Lt,r(UPDATE_MODEL_EVENT,Lt),r(CHANGE_EVENT,Lt),Lt}function Dt(qe,Lt){if(!ue.value){if(g.allowHalf&&Lt){let Pt=Lt.target;hasClass(Pt,z.e("item"))&&(Pt=Pt.querySelector(`.${z.e("icon")}`)),(Pt.clientWidth===0||hasClass(Pt,z.e("decimal")))&&(Pt=Pt.parentNode),ie.value=Lt.offsetX*2<=Pt.clientWidth,ae.value=ie.value?qe-.5:qe}else ae.value=qe;oe.value=qe}}function Ue(){ue.value||(g.allowHalf&&(ie.value=g.modelValue!==Math.floor(g.modelValue)),ae.value=g.modelValue,oe.value=-1)}return watch(()=>g.modelValue,qe=>{ae.value=qe,ie.value=g.modelValue!==Math.floor(g.modelValue)}),g.modelValue||r(UPDATE_MODEL_EVENT,0),n({setCurrentValue:Dt,resetCurrentValue:Ue}),(qe,Lt)=>{var Pt;return openBlock(),createElementBlock("div",{id:unref(j),class:normalizeClass([unref(le),unref(z).is("disabled",unref(ue))]),role:"slider","aria-label":unref(re)?void 0:qe.ariaLabel||"rating","aria-labelledby":unref(re)?(Pt=unref(L))==null?void 0:Pt.labelId:void 0,"aria-valuenow":ae.value,"aria-valuetext":unref(he)||void 0,"aria-valuemin":"0","aria-valuemax":qe.max,tabindex:"0",style:normalizeStyle$1(unref(de)),onKeydown:Et},[(openBlock(!0),createElementBlock(Fragment,null,renderList(qe.max,(At,vn)=>(openBlock(),createElementBlock("span",{key:vn,class:normalizeClass(unref(z).e("item")),onMousemove:En=>Dt(At,En),onMouseleave:Ue,onClick:En=>ze(At)},[createVNode$1(unref(ElIcon),{class:normalizeClass([unref(z).e("icon"),{hover:oe.value===At},unref(z).is("active",At<=ae.value)])},{default:withCtx(()=>[Fe(At)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock(Fragment,{key:0},[withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Ne)),null,null,512)),[[vShow,At<=ae.value]]),withDirectives((openBlock(),createBlock(resolveDynamicComponent(unref(Oe)),null,null,512)),[[vShow,!(At<=ae.value)]])],64)),Fe(At)?(openBlock(),createElementBlock(Fragment,{key:1},[(openBlock(),createBlock(resolveDynamicComponent(unref(Oe)),{class:normalizeClass([unref(z).em("decimal","box")])},null,8,["class"])),createVNode$1(unref(ElIcon),{style:normalizeStyle$1(unref(xe)),class:normalizeClass([unref(z).e("icon"),unref(z).e("decimal")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref($e))))]),_:1},8,["style","class"])],64)):createCommentVNode("v-if",!0)]),_:2},1032,["class"])],42,["onMousemove","onClick"]))),128)),qe.showText||qe.showScore?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(z).e("text")),style:normalizeStyle$1({color:qe.textColor})},toDisplayString(unref(he)),7)):createCommentVNode("v-if",!0)],46,["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"])}}});var Rate=_export_sfc$1(_sfc_main$14,[["__file","rate.vue"]]);const ElRate=withInstall(Rate),IconMap={primary:"icon-primary",success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},IconComponentMap={[IconMap.primary]:info_filled_default,[IconMap.success]:circle_check_filled_default,[IconMap.warning]:warning_filled_default,[IconMap.error]:circle_close_filled_default,[IconMap.info]:info_filled_default},resultProps=buildProps({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["primary","success","warning","info","error"],default:"info"}}),__default__$J=defineComponent({name:"ElResult"}),_sfc_main$13=defineComponent({...__default__$J,props:resultProps,setup(t){const n=t,r=useNamespace("result"),g=computed(()=>{const y=n.icon,$=y&&IconMap[y]?IconMap[y]:"icon-info",L=IconComponentMap[$]||IconComponentMap["icon-info"];return{class:$,component:L}});return(y,$)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(r).b())},[createBaseVNode("div",{class:normalizeClass(unref(r).e("icon"))},[renderSlot(y.$slots,"icon",{},()=>[unref(g).component?(openBlock(),createBlock(resolveDynamicComponent(unref(g).component),{key:0,class:normalizeClass(unref(g).class)},null,8,["class"])):createCommentVNode("v-if",!0)])],2),y.title||y.$slots.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("title"))},[renderSlot(y.$slots,"title",{},()=>[createBaseVNode("p",null,toDisplayString(y.title),1)])],2)):createCommentVNode("v-if",!0),y.subTitle||y.$slots["sub-title"]?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("subtitle"))},[renderSlot(y.$slots,"sub-title",{},()=>[createBaseVNode("p",null,toDisplayString(y.subTitle),1)])],2)):createCommentVNode("v-if",!0),y.$slots.extra?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(r).e("extra"))},[renderSlot(y.$slots,"extra")],2)):createCommentVNode("v-if",!0)],2))}});var Result=_export_sfc$1(_sfc_main$13,[["__file","result.vue"]]);const ElResult=withInstall(Result),RowJustify=["start","center","end","space-around","space-between","space-evenly"],RowAlign=["top","middle","bottom"],rowProps=buildProps({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:RowJustify,default:"start"},align:{type:String,values:RowAlign}}),__default__$I=defineComponent({name:"ElRow"}),_sfc_main$12=defineComponent({...__default__$I,props:rowProps,setup(t){const n=t,r=useNamespace("row"),g=computed(()=>n.gutter);provide(rowContextKey,{gutter:g});const y=computed(()=>{const L={};return n.gutter&&(L.marginRight=L.marginLeft=`-${n.gutter/2}px`),L}),$=computed(()=>[r.b(),r.is(`justify-${n.justify}`,n.justify!=="start"),r.is(`align-${n.align}`,!!n.align)]);return(L,V)=>(openBlock(),createBlock(resolveDynamicComponent(L.tag),{class:normalizeClass(unref($)),style:normalizeStyle$1(unref(y))},{default:withCtx(()=>[renderSlot(L.$slots,"default")]),_:3},8,["class","style"]))}});var Row$2=_export_sfc$1(_sfc_main$12,[["__file","row.vue"]]);const ElRow=withInstall(Row$2),_sfc_main$11=defineComponent({props:{item:{type:Object,required:!0},style:{type:Object},height:Number},setup(){return{ns:useNamespace("select")}}});function _sfc_render$d(t,n,r,g,y,$){return openBlock(),createElementBlock("div",{class:normalizeClass(t.ns.be("group","title")),style:normalizeStyle$1({...t.style,lineHeight:`${t.height}px`})},toDisplayString(t.item.label),7)}var GroupItem=_export_sfc$1(_sfc_main$11,[["render",_sfc_render$d],["__file","group-item.vue"]]);function useOption(t,{emit:n}){return{hoverItem:()=>{t.disabled||n("hover",t.index)},selectOptionClick:()=>{t.disabled||n("select",t.item,t.index)}}}const defaultProps$4={label:"label",value:"value",disabled:"disabled",options:"options"};function useProps(t){const n=computed(()=>({...defaultProps$4,...t.props}));return{aliasProps:n,getLabel:L=>get$1(L,n.value.label),getValue:L=>get$1(L,n.value.value),getDisabled:L=>get$1(L,n.value.disabled),getOptions:L=>get$1(L,n.value.options)}}const selectV2Props=buildProps({allowCreate:Boolean,autocomplete:{type:definePropType(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:iconPropType,default:circle_close_default},effect:{type:definePropType(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:definePropType([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:definePropType(Array),required:!0},placeholder:{type:String},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,size:useSizeProp,props:{type:definePropType(Object),default:()=>defaultProps$4},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},offset:{type:Number,default:12},showArrow:{type:Boolean,default:!0},placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},tabindex:{type:[String,Number],default:0},appendTo:useTooltipContentProps.appendTo,fitInputWidth:{type:[Boolean,Number],default:!0,validator(t){return isBoolean(t)||isNumber$1(t)}},suffixIcon:{type:iconPropType,default:arrow_down_default},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),optionV2Props=buildProps({data:Array,disabled:Boolean,hovering:Boolean,item:{type:definePropType(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),selectV2Emits={[UPDATE_MODEL_EVENT]:t=>!0,[CHANGE_EVENT]:t=>!0,"remove-tag":t=>!0,"visible-change":t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0},optionV2Emits={hover:t=>isNumber$1(t),select:(t,n)=>!0},selectV2InjectionKey=Symbol("ElSelectV2Injection"),_sfc_main$10=defineComponent({props:optionV2Props,emits:optionV2Emits,setup(t,{emit:n}){const r=inject(selectV2InjectionKey),g=useNamespace("select"),{hoverItem:y,selectOptionClick:$}=useOption(t,{emit:n}),{getLabel:L}=useProps(r.props);return{ns:g,hoverItem:y,selectOptionClick:$,getLabel:L}}});function _sfc_render$c(t,n,r,g,y,$){return openBlock(),createElementBlock("li",{"aria-selected":t.selected,style:normalizeStyle$1(t.style),class:normalizeClass([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMousemove:t.hoverItem,onClick:withModifiers(t.selectOptionClick,["stop"])},[renderSlot(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[createBaseVNode("span",null,toDisplayString(t.getLabel(t.item)),1)])],46,["aria-selected","onMousemove","onClick"])}var OptionItem=_export_sfc$1(_sfc_main$10,[["render",_sfc_render$c],["__file","option-item.vue"]]),safeIsNaN=Number.isNaN||function(n){return typeof n=="number"&&n!==n};function isEqual(t,n){return!!(t===n||safeIsNaN(t)&&safeIsNaN(n))}function areInputsEqual(t,n){if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(!isEqual(t[r],n[r]))return!1;return!0}function memoizeOne(t,n){n===void 0&&(n=areInputsEqual);var r=null;function g(){for(var y=[],$=0;$<arguments.length;$++)y[$]=arguments[$];if(r&&r.lastThis===this&&n(y,r.lastArgs))return r.lastResult;var L=t.apply(this,y);return r={lastResult:L,lastArgs:y,lastThis:this},L}return g.clear=function(){r=null},g}const useCache=()=>{const n=getCurrentInstance().proxy.$props;return computed(()=>{const r=(g,y,$)=>({});return n.perfMode?memoize(r):memoizeOne(r)})},DEFAULT_DYNAMIC_LIST_ITEM_SIZE=50,ITEM_RENDER_EVT="itemRendered",SCROLL_EVT="scroll",FORWARD="forward",BACKWARD="backward",AUTO_ALIGNMENT="auto",SMART_ALIGNMENT="smart",START_ALIGNMENT="start",CENTERED_ALIGNMENT="center",END_ALIGNMENT="end",HORIZONTAL$1="horizontal",VERTICAL$1="vertical",LTR="ltr",RTL="rtl",RTL_OFFSET_NAG="negative",RTL_OFFSET_POS_ASC="positive-ascending",RTL_OFFSET_POS_DESC="positive-descending",ScrollbarDirKey={[HORIZONTAL$1]:"left",[VERTICAL$1]:"top"},SCROLLBAR_MIN_SIZE=20,LayoutKeys={[HORIZONTAL$1]:"deltaX",[VERTICAL$1]:"deltaY"},useWheel=({atEndEdge:t,atStartEdge:n,layout:r},g)=>{let y,$=0;const L=z=>z<0&&n.value||z>0&&t.value;return{hasReachedEdge:L,onWheel:z=>{cAF(y);const j=z[LayoutKeys[r.value]];L($)&&L($+j)||($+=j,isFirefox()||z.preventDefault(),y=rAF(()=>{g($),$=0}))}}},itemSize$1=buildProp({type:definePropType([Number,Function]),required:!0}),estimatedItemSize=buildProp({type:Number}),cache=buildProp({type:Number,default:2}),direction=buildProp({type:String,values:["ltr","rtl"],default:"ltr"}),initScrollOffset=buildProp({type:Number,default:0}),total=buildProp({type:Number,required:!0}),layout$4=buildProp({type:String,values:["horizontal","vertical"],default:VERTICAL$1}),virtualizedProps=buildProps({className:{type:String,default:""},containerElement:{type:definePropType([String,Object]),default:"div"},data:{type:definePropType(Array),default:()=>mutable([])},direction,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:definePropType([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),virtualizedListProps=buildProps({cache,estimatedItemSize,layout:layout$4,initScrollOffset,total,itemSize:itemSize$1,...virtualizedProps}),scrollbarSize={type:Number,default:6},startGap={type:Number,default:0},endGap={type:Number,default:2},virtualizedGridProps=buildProps({columnCache:cache,columnWidth:itemSize$1,estimatedColumnWidth:estimatedItemSize,estimatedRowHeight:estimatedItemSize,initScrollLeft:initScrollOffset,initScrollTop:initScrollOffset,itemKey:{type:definePropType(Function),default:({columnIndex:t,rowIndex:n})=>`${n}:${t}`},rowCache:cache,rowHeight:itemSize$1,totalColumn:total,totalRow:total,hScrollbarSize:scrollbarSize,vScrollbarSize:scrollbarSize,scrollbarStartGap:startGap,scrollbarEndGap:endGap,role:String,...virtualizedProps}),virtualizedScrollbarProps=buildProps({alwaysOn:Boolean,class:String,layout:layout$4,total,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize,startGap,endGap,visible:Boolean}),getScrollDir=(t,n)=>t<n?FORWARD:BACKWARD,isHorizontal=t=>t===LTR||t===RTL||t===HORIZONTAL$1,isRTL$1=t=>t===RTL;let cachedRTLResult=null;function getRTLOffsetType(t=!1){if(cachedRTLResult===null||t){const n=document.createElement("div"),r=n.style;r.width="50px",r.height="50px",r.overflow="scroll",r.direction="rtl";const g=document.createElement("div"),y=g.style;return y.width="100px",y.height="100px",n.appendChild(g),document.body.appendChild(n),n.scrollLeft>0?cachedRTLResult=RTL_OFFSET_POS_DESC:(n.scrollLeft=1,n.scrollLeft===0?cachedRTLResult=RTL_OFFSET_NAG:cachedRTLResult=RTL_OFFSET_POS_ASC),document.body.removeChild(n),cachedRTLResult}return cachedRTLResult}function renderThumbStyle({move:t,size:n,bar:r},g){const y={},$=`translate${r.axis}(${t}px)`;return y[r.size]=n,y.transform=$,g==="horizontal"?y.height="100%":y.width="100%",y}const ScrollBar=defineComponent({name:"ElVirtualScrollBar",props:virtualizedScrollbarProps,emits:["scroll","start-move","stop-move"],setup(t,{emit:n}){const r=computed(()=>t.startGap+t.endGap),g=useNamespace("virtual-scrollbar"),y=useNamespace("scrollbar"),$=ref(),L=ref();let V=null,z=null;const j=reactive({isDragging:!1,traveled:0}),re=computed(()=>BAR_MAP[t.layout]),ae=computed(()=>t.clientSize-unref(r)),oe=computed(()=>({position:"absolute",width:`${HORIZONTAL$1===t.layout?ae.value:t.scrollbarSize}px`,height:`${HORIZONTAL$1===t.layout?t.scrollbarSize:ae.value}px`,[ScrollbarDirKey[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),ie=computed(()=>{const Ie=t.ratio;if(Ie>=100)return Number.POSITIVE_INFINITY;if(Ie>=50)return Ie*ae.value/100;const $e=ae.value/3;return Math.floor(Math.min(Math.max(Ie*ae.value,SCROLLBAR_MIN_SIZE),$e))}),le=computed(()=>{if(!Number.isFinite(ie.value))return{display:"none"};const Ie=`${ie.value}px`;return renderThumbStyle({bar:re.value,size:Ie,move:j.traveled},t.layout)}),ue=computed(()=>Math.ceil(t.clientSize-ie.value-unref(r))),de=()=>{window.addEventListener("mousemove",Ce),window.addEventListener("mouseup",_e);const Ie=unref(L);Ie&&(z=document.onselectstart,document.onselectstart=()=>!1,Ie.addEventListener("touchmove",Ce,{passive:!0}),Ie.addEventListener("touchend",_e))},he=()=>{window.removeEventListener("mousemove",Ce),window.removeEventListener("mouseup",_e),document.onselectstart=z,z=null;const Ie=unref(L);Ie&&(Ie.removeEventListener("touchmove",Ce),Ie.removeEventListener("touchend",_e))},pe=Ie=>{Ie.stopImmediatePropagation(),!(Ie.ctrlKey||[1,2].includes(Ie.button))&&(j.isDragging=!0,j[re.value.axis]=Ie.currentTarget[re.value.offset]-(Ie[re.value.client]-Ie.currentTarget.getBoundingClientRect()[re.value.direction]),n("start-move"),de())},_e=()=>{j.isDragging=!1,j[re.value.axis]=0,n("stop-move"),he()},Ce=Ie=>{const{isDragging:$e}=j;if(!$e||!L.value||!$.value)return;const Oe=j[re.value.axis];if(!Oe)return;cAF(V);const Ne=($.value.getBoundingClientRect()[re.value.direction]-Ie[re.value.client])*-1,Fe=L.value[re.value.offset]-Oe,Ve=Ne-Fe;V=rAF(()=>{j.traveled=Math.max(0,Math.min(Ve,ue.value)),n("scroll",Ve,ue.value)})},xe=Ie=>{const $e=Math.abs(Ie.target.getBoundingClientRect()[re.value.direction]-Ie[re.value.client]),Oe=L.value[re.value.offset]/2,Ne=$e-Oe;j.traveled=Math.max(0,Math.min(Ne,ue.value)),n("scroll",Ne,ue.value)};return watch(()=>t.scrollFrom,Ie=>{j.isDragging||(j.traveled=Math.ceil(Ie*ue.value))}),onBeforeUnmount(()=>{he()}),()=>h$1("div",{role:"presentation",ref:$,class:[g.b(),t.class,(t.alwaysOn||j.isDragging)&&"always-on"],style:oe.value,onMousedown:withModifiers(xe,["stop","prevent"]),onTouchstartPrevent:pe},h$1("div",{ref:L,class:y.e("thumb"),style:le.value,onMousedown:pe},[]))}}),createList$2=({name:t,getOffset:n,getItemSize:r,getItemOffset:g,getEstimatedTotalSize:y,getStartIndexForOffset:$,getStopIndexForStartIndex:L,initCache:V,clearCache:z,validateProps:j})=>defineComponent({name:t??"ElVirtualList",props:virtualizedListProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(re,{emit:ae,expose:oe}){j(re);const ie=getCurrentInstance(),le=useNamespace("vl"),ue=ref(V(re,ie)),de=useCache(),he=ref(),pe=ref(),_e=ref(),Ce=ref({isScrolling:!1,scrollDir:"forward",scrollOffset:isNumber$1(re.initScrollOffset)?re.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:re.scrollbarAlwaysOn}),xe=computed(()=>{const{total:kt,cache:jt}=re,{isScrolling:_n,scrollDir:wn,scrollOffset:hn}=unref(Ce);if(kt===0)return[0,0,0,0];const Cn=$(re,hn,unref(ue)),Tn=L(re,Cn,hn,unref(ue)),xn=!_n||wn===BACKWARD?Math.max(1,jt):1,Mn=!_n||wn===FORWARD?Math.max(1,jt):1;return[Math.max(0,Cn-xn),Math.max(0,Math.min(kt-1,Tn+Mn)),Cn,Tn]}),Ie=computed(()=>y(re,unref(ue))),$e=computed(()=>isHorizontal(re.layout)),Oe=computed(()=>[{position:"relative",[`overflow-${$e.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:re.direction,height:isNumber$1(re.height)?`${re.height}px`:re.height,width:isNumber$1(re.width)?`${re.width}px`:re.width},re.style]),Ne=computed(()=>{const kt=unref(Ie),jt=unref($e);return{height:jt?"100%":`${kt}px`,pointerEvents:unref(Ce).isScrolling?"none":void 0,width:jt?`${kt}px`:"100%"}}),Fe=computed(()=>$e.value?re.width:re.height),{onWheel:Ve}=useWheel({atStartEdge:computed(()=>Ce.value.scrollOffset<=0),atEndEdge:computed(()=>Ce.value.scrollOffset>=Ie.value),layout:computed(()=>re.layout)},kt=>{var jt,_n;(_n=(jt=_e.value).onMouseUp)==null||_n.call(jt),Lt(Math.min(Ce.value.scrollOffset+kt,Ie.value-Fe.value))});useEventListener(he,"wheel",Ve,{passive:!1});const ze=()=>{const{total:kt}=re;if(kt>0){const[hn,Cn,Tn,xn]=unref(xe);ae(ITEM_RENDER_EVT,hn,Cn,Tn,xn)}const{scrollDir:jt,scrollOffset:_n,updateRequested:wn}=unref(Ce);ae(SCROLL_EVT,jt,_n,wn)},Et=kt=>{const{clientHeight:jt,scrollHeight:_n,scrollTop:wn}=kt.currentTarget,hn=unref(Ce);if(hn.scrollOffset===wn)return;const Cn=Math.max(0,Math.min(wn,_n-jt));Ce.value={...hn,isScrolling:!0,scrollDir:getScrollDir(hn.scrollOffset,Cn),scrollOffset:Cn,updateRequested:!1},nextTick(vn)},Dt=kt=>{const{clientWidth:jt,scrollLeft:_n,scrollWidth:wn}=kt.currentTarget,hn=unref(Ce);if(hn.scrollOffset===_n)return;const{direction:Cn}=re;let Tn=_n;if(Cn===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{Tn=-_n;break}case RTL_OFFSET_POS_DESC:{Tn=wn-jt-_n;break}}Tn=Math.max(0,Math.min(Tn,wn-jt)),Ce.value={...hn,isScrolling:!0,scrollDir:getScrollDir(hn.scrollOffset,Tn),scrollOffset:Tn,updateRequested:!1},nextTick(vn)},Ue=kt=>{unref($e)?Dt(kt):Et(kt),ze()},qe=(kt,jt)=>{const _n=(Ie.value-Fe.value)/jt*kt;Lt(Math.min(Ie.value-Fe.value,_n))},Lt=kt=>{kt=Math.max(kt,0),kt!==unref(Ce).scrollOffset&&(Ce.value={...unref(Ce),scrollOffset:kt,scrollDir:getScrollDir(unref(Ce).scrollOffset,kt),updateRequested:!0},nextTick(vn))},Pt=(kt,jt=AUTO_ALIGNMENT)=>{const{scrollOffset:_n}=unref(Ce);kt=Math.max(0,Math.min(kt,re.total-1)),Lt(n(re,kt,jt,_n,unref(ue)))},At=kt=>{const{direction:jt,itemSize:_n,layout:wn}=re,hn=de.value(z&&_n,z&&wn,z&&jt);let Cn;if(hasOwn$1(hn,String(kt)))Cn=hn[kt];else{const Tn=g(re,kt,unref(ue)),xn=r(re,kt,unref(ue)),Mn=unref($e),bn=jt===RTL,Pn=Mn?Tn:0;hn[kt]=Cn={position:"absolute",left:bn?void 0:`${Pn}px`,right:bn?`${Pn}px`:void 0,top:Mn?0:`${Tn}px`,height:Mn?"100%":`${xn}px`,width:Mn?`${xn}px`:"100%"}}return Cn},vn=()=>{Ce.value.isScrolling=!1,nextTick(()=>{de.value(-1,null,null)})},En=()=>{const kt=he.value;kt&&(kt.scrollTop=0)};onMounted(()=>{if(!isClient)return;const{initScrollOffset:kt}=re,jt=unref(he);isNumber$1(kt)&&jt&&(unref($e)?jt.scrollLeft=kt:jt.scrollTop=kt),ze()}),onUpdated(()=>{const{direction:kt,layout:jt}=re,{scrollOffset:_n,updateRequested:wn}=unref(Ce),hn=unref(he);if(wn&&hn)if(jt===HORIZONTAL$1)if(kt===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{hn.scrollLeft=-_n;break}case RTL_OFFSET_POS_ASC:{hn.scrollLeft=_n;break}default:{const{clientWidth:Cn,scrollWidth:Tn}=hn;hn.scrollLeft=Tn-Cn-_n;break}}else hn.scrollLeft=_n;else hn.scrollTop=_n}),onActivated(()=>{unref(he).scrollTop=unref(Ce).scrollOffset});const Sn={ns:le,clientSize:Fe,estimatedTotalSize:Ie,windowStyle:Oe,windowRef:he,innerRef:pe,innerStyle:Ne,itemsToRender:xe,scrollbarRef:_e,states:Ce,getItemStyle:At,onScroll:Ue,onScrollbarScroll:qe,onWheel:Ve,scrollTo:Lt,scrollToItem:Pt,resetScrollTop:En};return oe({windowRef:he,innerRef:pe,getItemStyleCache:de,scrollTo:Lt,scrollToItem:Pt,resetScrollTop:En,states:Ce}),Sn},render(re){var ae;const{$slots:oe,className:ie,clientSize:le,containerElement:ue,data:de,getItemStyle:he,innerElement:pe,itemsToRender:_e,innerStyle:Ce,layout:xe,total:Ie,onScroll:$e,onScrollbarScroll:Oe,states:Ne,useIsScrolling:Fe,windowStyle:Ve,ns:ze}=re,[Et,Dt]=_e,Ue=resolveDynamicComponent(ue),qe=resolveDynamicComponent(pe),Lt=[];if(Ie>0)for(let En=Et;En<=Dt;En++)Lt.push(h$1(Fragment,{key:En},(ae=oe.default)==null?void 0:ae.call(oe,{data:de,index:En,isScrolling:Fe?Ne.isScrolling:void 0,style:he(En)})));const Pt=[h$1(qe,{style:Ce,ref:"innerRef"},isString$2(qe)?Lt:{default:()=>Lt})],At=h$1(ScrollBar,{ref:"scrollbarRef",clientSize:le,layout:xe,onScroll:Oe,ratio:le*100/this.estimatedTotalSize,scrollFrom:Ne.scrollOffset/(this.estimatedTotalSize-le),total:Ie}),vn=h$1(Ue,{class:[ze.e("window"),ie],style:Ve,onScroll:$e,ref:"windowRef",key:0},isString$2(Ue)?[Pt]:{default:()=>[Pt]});return h$1("div",{key:0,class:[ze.e("wrapper"),Ne.scrollbarAlwaysOn?"always-on":""]},[vn,At])}}),FixedSizeList=createList$2({name:"ElFixedSizeList",getItemOffset:({itemSize:t},n)=>n*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:n})=>n*t,getOffset:({height:t,total:n,itemSize:r,layout:g,width:y},$,L,V)=>{const z=isHorizontal(g)?y:t,j=Math.max(0,n*r-z),re=Math.min(j,$*r),ae=Math.max(0,($+1)*r-z);switch(L===SMART_ALIGNMENT&&(V>=ae-z&&V<=re+z?L=AUTO_ALIGNMENT:L=CENTERED_ALIGNMENT),L){case START_ALIGNMENT:return re;case END_ALIGNMENT:return ae;case CENTERED_ALIGNMENT:{const oe=Math.round(ae+(re-ae)/2);return oe<Math.ceil(z/2)?0:oe>j+Math.floor(z/2)?j:oe}case AUTO_ALIGNMENT:default:return V>=ae&&V<=re?V:V<ae?ae:re}},getStartIndexForOffset:({total:t,itemSize:n},r)=>Math.max(0,Math.min(t-1,Math.floor(r/n))),getStopIndexForStartIndex:({height:t,total:n,itemSize:r,layout:g,width:y},$,L)=>{const V=$*r,z=isHorizontal(g)?y:t,j=Math.ceil((z+L-V)/r);return Math.max(0,Math.min(n-1,$+j-1))},initCache(){},clearCache:!0,validateProps(){}}),getItemFromCache$1=(t,n,r)=>{const{itemSize:g}=t,{items:y,lastVisitedIndex:$}=r;if(n>$){let L=0;if($>=0){const V=y[$];L=V.offset+V.size}for(let V=$+1;V<=n;V++){const z=g(V);y[V]={offset:L,size:z},L+=z}r.lastVisitedIndex=n}return y[n]},findItem$1=(t,n,r)=>{const{items:g,lastVisitedIndex:y}=n;return(y>0?g[y].offset:0)>=r?bs$1(t,n,0,y,r):es$1(t,n,Math.max(0,y),r)},bs$1=(t,n,r,g,y)=>{for(;r<=g;){const $=r+Math.floor((g-r)/2),L=getItemFromCache$1(t,$,n).offset;if(L===y)return $;L<y?r=$+1:L>y&&(g=$-1)}return Math.max(0,r-1)},es$1=(t,n,r,g)=>{const{total:y}=t;let $=1;for(;r<y&&getItemFromCache$1(t,r,n).offset<g;)r+=$,$*=2;return bs$1(t,n,Math.floor(r/2),Math.min(r,y-1),g)},getEstimatedTotalSize=({total:t},{items:n,estimatedItemSize:r,lastVisitedIndex:g})=>{let y=0;if(g>=t&&(g=t-1),g>=0){const V=n[g];y=V.offset+V.size}const L=(t-g-1)*r;return y+L},DynamicSizeList=createList$2({name:"ElDynamicSizeList",getItemOffset:(t,n,r)=>getItemFromCache$1(t,n,r).offset,getItemSize:(t,n,{items:r})=>r[n].size,getEstimatedTotalSize,getOffset:(t,n,r,g,y)=>{const{height:$,layout:L,width:V}=t,z=isHorizontal(L)?V:$,j=getItemFromCache$1(t,n,y),re=getEstimatedTotalSize(t,y),ae=Math.max(0,Math.min(re-z,j.offset)),oe=Math.max(0,j.offset-z+j.size);switch(r===SMART_ALIGNMENT&&(g>=oe-z&&g<=ae+z?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return ae;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(ae-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=ae?g:g<oe?oe:ae}},getStartIndexForOffset:(t,n,r)=>findItem$1(t,r,n),getStopIndexForStartIndex:(t,n,r,g)=>{const{height:y,total:$,layout:L,width:V}=t,z=isHorizontal(L)?V:y,j=getItemFromCache$1(t,n,g),re=r+z;let ae=j.offset+j.size,oe=n;for(;oe<$-1&&ae<re;)oe++,ae+=getItemFromCache$1(t,oe,g).size;return oe},initCache({estimatedItemSize:t=DEFAULT_DYNAMIC_LIST_ITEM_SIZE},n){const r={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return r.clearCacheAfterIndex=(g,y=!0)=>{var $,L;r.lastVisitedIndex=Math.min(r.lastVisitedIndex,g-1),($=n.exposed)==null||$.getItemStyleCache(-1),y&&((L=n.proxy)==null||L.$forceUpdate())},r},clearCache:!1,validateProps:({itemSize:t})=>{}}),props={loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number};var ElSelectMenu=defineComponent({name:"ElSelectDropdown",props,setup(t,{slots:n,expose:r}){const g=inject(selectV2InjectionKey),y=useNamespace("select"),{getLabel:$,getValue:L,getDisabled:V}=useProps(g.props),z=ref([]),j=ref(),re=computed(()=>t.data.length);watch(()=>re.value,()=>{var Ve,ze;(ze=(Ve=g.tooltipRef.value)==null?void 0:Ve.updatePopper)==null||ze.call(Ve)});const ae=computed(()=>isUndefined(g.props.estimatedOptionHeight)),oe=computed(()=>ae.value?{itemSize:g.props.itemHeight}:{estimatedSize:g.props.estimatedOptionHeight,itemSize:Ve=>z.value[Ve]}),ie=(Ve=[],ze)=>{const{props:{valueKey:Et}}=g;return isObject$5(ze)?Ve&&Ve.some(Dt=>toRaw(get$1(Dt,Et))===get$1(ze,Et)):Ve.includes(ze)},le=(Ve,ze)=>{if(isObject$5(ze)){const{valueKey:Et}=g.props;return get$1(Ve,Et)===get$1(ze,Et)}else return Ve===ze},ue=(Ve,ze)=>g.props.multiple?ie(Ve,L(ze)):le(Ve,L(ze)),de=(Ve,ze)=>{const{disabled:Et,multiple:Dt,multipleLimit:Ue}=g.props;return Et||!ze&&(Dt?Ue>0&&Ve.length>=Ue:!1)},he=Ve=>t.hoveringIndex===Ve;r({listRef:j,isSized:ae,isItemDisabled:de,isItemHovering:he,isItemSelected:ue,scrollToItem:Ve=>{const ze=j.value;ze&&ze.scrollToItem(Ve)},resetScrollTop:()=>{const Ve=j.value;Ve&&Ve.resetScrollTop()}});const xe=Ve=>{const{index:ze,data:Et,style:Dt}=Ve,Ue=unref(ae),{itemSize:qe,estimatedSize:Lt}=unref(oe),{modelValue:Pt}=g.props,{onSelect:At,onHover:vn}=g,En=Et[ze];if(En.type==="Group")return createVNode$1(GroupItem,{item:En,style:Dt,height:Ue?qe:Lt},null);const Sn=ue(Pt,En),kt=de(Pt,Sn),jt=he(ze);return createVNode$1(OptionItem,mergeProps(Ve,{selected:Sn,disabled:V(En)||kt,created:!!En.created,hovering:jt,item:En,onSelect:At,onHover:vn}),{default:_n=>{var wn;return((wn=n.default)==null?void 0:wn.call(n,_n))||createVNode$1("span",null,[$(En)])}})},{onKeyboardNavigate:Ie,onKeyboardSelect:$e}=g,Oe=()=>{Ie("forward")},Ne=()=>{Ie("backward")},Fe=Ve=>{const{code:ze}=Ve,{tab:Et,esc:Dt,down:Ue,up:qe,enter:Lt,numpadEnter:Pt}=EVENT_CODE;switch([Dt,Ue,qe,Lt,Pt].includes(ze)&&(Ve.preventDefault(),Ve.stopPropagation()),ze){case Et:case Dt:break;case Ue:Oe();break;case qe:Ne();break;case Lt:case Pt:$e();break}};return()=>{var Ve,ze,Et,Dt;const{data:Ue,width:qe}=t,{height:Lt,multiple:Pt,scrollbarAlwaysOn:At}=g.props,vn=computed(()=>isIOS?!0:At),En=unref(ae)?FixedSizeList:DynamicSizeList;return createVNode$1("div",{class:[y.b("dropdown"),y.is("multiple",Pt)],style:{width:`${qe}px`}},[(Ve=n.header)==null?void 0:Ve.call(n),((ze=n.loading)==null?void 0:ze.call(n))||((Et=n.empty)==null?void 0:Et.call(n))||createVNode$1(En,mergeProps({ref:j},unref(oe),{className:y.be("dropdown","list"),scrollbarAlwaysOn:vn.value,data:Ue,height:Lt,width:qe,total:Ue.length,onKeydown:Fe}),{default:Sn=>createVNode$1(xe,Sn,null)}),(Dt=n.footer)==null?void 0:Dt.call(n)])}}});function useAllowCreate(t,n){const{aliasProps:r,getLabel:g,getValue:y}=useProps(t),$=ref(0),L=ref(),V=computed(()=>t.allowCreate&&t.filterable);function z(ie){const le=ue=>g(ue)===ie;return t.options&&t.options.some(le)||n.createdOptions.some(le)}function j(ie){V.value&&(t.multiple&&ie.created?$.value++:L.value=ie)}function re(ie){if(V.value)if(ie&&ie.length>0){if(z(ie))return;const le={[r.value.value]:ie,[r.value.label]:ie,created:!0,[r.value.disabled]:!1};n.createdOptions.length>=$.value?n.createdOptions[$.value]=le:n.createdOptions.push(le)}else if(t.multiple)n.createdOptions.length=$.value;else{const le=L.value;n.createdOptions.length=0,le&&le.created&&n.createdOptions.push(le)}}function ae(ie){if(!V.value||!ie||!ie.created||ie.created&&t.reserveKeyword&&n.inputValue===g(ie))return;const le=n.createdOptions.findIndex(ue=>y(ue)===y(ie));~le&&(n.createdOptions.splice(le,1),$.value--)}function oe(){V.value&&(n.createdOptions.length=0,$.value=0)}return{createNewOption:re,removeNewOption:ae,selectNewOption:j,clearAllNewOption:oe}}const useSelect$1=(t,n)=>{const{t:r}=useLocale(),g=useNamespace("select"),y=useNamespace("input"),{form:$,formItem:L}=useFormItem(),{inputId:V}=useFormItemInputId(t,{formItemContext:L}),{aliasProps:z,getLabel:j,getValue:re,getDisabled:ae,getOptions:oe}=useProps(t),{valueOnClear:ie,isEmptyValue:le}=useEmptyValues(t),ue=reactive({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),de=ref(-1),he=ref(),pe=ref(),_e=ref(),Ce=ref(),xe=ref(),Ie=ref(),$e=ref(),Oe=ref(),Ne=ref(),Fe=ref(),{isComposing:Ve,handleCompositionStart:ze,handleCompositionEnd:Et,handleCompositionUpdate:Dt}=useComposition({afterComposition:cr=>Ir(cr)}),{wrapperRef:Ue,isFocused:qe,handleBlur:Lt}=useFocusController(xe,{beforeFocus(){return Sn.value},afterFocus(){t.automaticDropdown&&!En.value&&(En.value=!0,ue.menuVisibleOnFocus=!0)},beforeBlur(cr){var Tr,kr;return((Tr=_e.value)==null?void 0:Tr.isFocusInsideContent(cr))||((kr=Ce.value)==null?void 0:kr.isFocusInsideContent(cr))},afterBlur(){var cr;En.value=!1,ue.menuVisibleOnFocus=!1,t.validateEvent&&((cr=L==null?void 0:L.validate)==null||cr.call(L,"blur").catch(Tr=>void 0))}}),Pt=computed(()=>Pn("")),At=computed(()=>t.loading?!1:t.options.length>0||ue.createdOptions.length>0),vn=ref([]),En=ref(!1),Sn=computed(()=>t.disabled||($==null?void 0:$.disabled)),kt=computed(()=>{var cr;return(cr=$==null?void 0:$.statusIcon)!=null?cr:!1}),jt=computed(()=>{const cr=vn.value.length*t.itemHeight;return cr>t.height?t.height:cr}),_n=computed(()=>t.multiple?isArray$4(t.modelValue)&&t.modelValue.length>0:!le(t.modelValue)),wn=computed(()=>t.clearable&&!Sn.value&&ue.inputHovering&&_n.value),hn=computed(()=>t.remote&&t.filterable?"":t.suffixIcon),Cn=computed(()=>hn.value&&g.is("reverse",En.value)),Tn=computed(()=>(L==null?void 0:L.validateState)||""),xn=computed(()=>{if(Tn.value)return ValidateComponentsMap[Tn.value]}),Mn=computed(()=>t.remote?300:0),bn=computed(()=>t.loading?t.loadingText||r("el.select.loading"):t.remote&&!ue.inputValue&&!At.value?!1:t.filterable&&ue.inputValue&&At.value&&vn.value.length===0?t.noMatchText||r("el.select.noMatch"):At.value?null:t.noDataText||r("el.select.noData")),Pn=cr=>{const Tr=new RegExp(escapeStringRegexp(cr),"i"),kr=t.filterable&&isFunction$3(t.filterMethod),Mr=t.filterable&&t.remote&&isFunction$3(t.remoteMethod),Lr=Vr=>kr||Mr?!0:cr?Tr.test(j(Vr)||""):!0;return t.loading?[]:[...ue.createdOptions,...t.options].reduce((Vr,Hr)=>{const Gr=oe(Hr);if(isArray$4(Gr)){const aa=Gr.filter(Lr);aa.length>0&&Vr.push({label:j(Hr),type:"Group"},...aa)}else(t.remote||Lr(Hr))&&Vr.push(Hr);return Vr},[])},Rn=()=>{vn.value=Pn(ue.inputValue)},Fn=computed(()=>{const cr=new Map;return Pt.value.forEach((Tr,kr)=>{cr.set(fr(re(Tr)),{option:Tr,index:kr})}),cr}),Dn=computed(()=>{const cr=new Map;return vn.value.forEach((Tr,kr)=>{cr.set(fr(re(Tr)),{option:Tr,index:kr})}),cr}),Ln=computed(()=>vn.value.every(cr=>ae(cr))),kn=useFormSize(),In=computed(()=>kn.value==="small"?"small":"default"),Vn=()=>{var cr;if(isNumber$1(t.fitInputWidth)){de.value=t.fitInputWidth;return}const Tr=((cr=he.value)==null?void 0:cr.offsetWidth)||200;!t.fitInputWidth&&At.value?nextTick(()=>{de.value=Math.max(Tr,zn())}):de.value=Tr},zn=()=>{var cr,Tr;const Mr=document.createElement("canvas").getContext("2d"),Lr=g.be("dropdown","item"),Hr=(((Tr=(cr=Oe.value)==null?void 0:cr.listRef)==null?void 0:Tr.innerRef)||document).querySelector(`.${Lr}`);if(Hr===null||Mr===null)return 0;const Gr=getComputedStyle(Hr),aa=Number.parseFloat(Gr.paddingLeft)+Number.parseFloat(Gr.paddingRight);return Mr.font=`bold ${Gr.font.replace(new RegExp(`\\b${Gr.fontWeight}\\b`),"")}`,vn.value.reduce((Vo,Fo)=>{const zo=Mr.measureText(j(Fo));return Math.max(zo.width,Vo)},0)+aa},Kn=()=>{if(!pe.value)return 0;const cr=window.getComputedStyle(pe.value);return Number.parseFloat(cr.gap||"6px")},jn=computed(()=>{const cr=Kn();return{maxWidth:`${Fe.value&&t.maxCollapseTags===1?ue.selectionWidth-ue.collapseItemWidth-cr:ue.selectionWidth}px`}}),Wn=computed(()=>({maxWidth:`${ue.selectionWidth}px`})),Un=computed(()=>isArray$4(t.modelValue)?t.modelValue.length===0&&!ue.inputValue:t.filterable?!ue.inputValue:!0),nr=computed(()=>{var cr;const Tr=(cr=t.placeholder)!=null?cr:r("el.select.placeholder");return t.multiple||!_n.value?Tr:ue.selectedLabel}),sr=computed(()=>{var cr,Tr;return(Tr=(cr=_e.value)==null?void 0:cr.popperRef)==null?void 0:Tr.contentRef}),mr=computed(()=>{if(t.multiple){const cr=t.modelValue.length;if(t.modelValue.length>0&&Dn.value.has(t.modelValue[cr-1])){const{index:Tr}=Dn.value.get(t.modelValue[cr-1]);return Tr}}else if(!le(t.modelValue)&&Dn.value.has(t.modelValue)){const{index:cr}=Dn.value.get(t.modelValue);return cr}return-1}),vr=computed({get(){return En.value&&bn.value!==!1},set(cr){En.value=cr}}),Sr=computed(()=>t.multiple?t.collapseTags?ue.cachedOptions.slice(0,t.maxCollapseTags):ue.cachedOptions:[]),yr=computed(()=>t.multiple?t.collapseTags?ue.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:ir,removeNewOption:gr,selectNewOption:Gn,clearAllNewOption:Qn}=useAllowCreate(t,ue),Nn=()=>{Sn.value||(ue.menuVisibleOnFocus?ue.menuVisibleOnFocus=!1:En.value=!En.value)},Hn=()=>{ue.inputValue.length>0&&!En.value&&(En.value=!0),ir(ue.inputValue),nextTick(()=>{pr(ue.inputValue)})},Yn=debounce(Hn,Mn.value),pr=cr=>{ue.previousQuery===cr||Ve.value||(ue.previousQuery=cr,t.filterable&&isFunction$3(t.filterMethod)?t.filterMethod(cr):t.filterable&&t.remote&&isFunction$3(t.remoteMethod)&&t.remoteMethod(cr),t.defaultFirstOption&&(t.filterable||t.remote)&&vn.value.length?nextTick(Cr):nextTick(Ar))},Cr=()=>{const cr=vn.value.filter(Mr=>!Mr.disabled&&Mr.type!=="Group"),Tr=cr.find(Mr=>Mr.created),kr=cr[0];ue.hoveringIndex=lr(vn.value,Tr||kr)},$n=cr=>{isEqual$1(t.modelValue,cr)||n(CHANGE_EVENT,cr)},Xn=cr=>{n(UPDATE_MODEL_EVENT,cr),$n(cr),ue.previousValue=t.multiple?String(cr):cr,nextTick(()=>{if(t.multiple&&isArray$4(t.modelValue)){const Tr=ue.cachedOptions.slice(),kr=t.modelValue.map(Mr=>Or(Mr,Tr));isEqual$1(ue.cachedOptions,kr)||(ue.cachedOptions=kr)}else Br(!0)})},lr=(cr=[],Tr)=>{if(!isObject$5(Tr))return cr.indexOf(Tr);const kr=t.valueKey;let Mr=-1;return cr.some((Lr,Vr)=>get$1(Lr,kr)===get$1(Tr,kr)?(Mr=Vr,!0):!1),Mr},fr=cr=>isObject$5(cr)?get$1(cr,t.valueKey):cr,br=()=>{Vn()},er=()=>{ue.selectionWidth=Number.parseFloat(window.getComputedStyle(pe.value).width)},Bn=()=>{ue.collapseItemWidth=Fe.value.getBoundingClientRect().width},On=()=>{var cr,Tr;(Tr=(cr=_e.value)==null?void 0:cr.updatePopper)==null||Tr.call(cr)},Zn=()=>{var cr,Tr;(Tr=(cr=Ce.value)==null?void 0:cr.updatePopper)==null||Tr.call(cr)},qn=cr=>{if(t.multiple){let Tr=t.modelValue.slice();const kr=lr(Tr,re(cr));kr>-1?(Tr=[...Tr.slice(0,kr),...Tr.slice(kr+1)],ue.cachedOptions.splice(kr,1),gr(cr)):(t.multipleLimit<=0||Tr.length<t.multipleLimit)&&(Tr=[...Tr,re(cr)],ue.cachedOptions.push(cr),Gn(cr)),Xn(Tr),cr.created&&pr(""),t.filterable&&!t.reserveKeyword&&(ue.inputValue="")}else ue.selectedLabel=j(cr),Xn(re(cr)),En.value=!1,Gn(cr),cr.created||Qn();dr()},or=(cr,Tr)=>{let kr=t.modelValue.slice();const Mr=lr(kr,re(Tr));Mr>-1&&!Sn.value&&(kr=[...t.modelValue.slice(0,Mr),...t.modelValue.slice(Mr+1)],ue.cachedOptions.splice(Mr,1),Xn(kr),n("remove-tag",re(Tr)),gr(Tr)),cr.stopPropagation(),dr()},dr=()=>{var cr;(cr=xe.value)==null||cr.focus()},hr=()=>{var cr;if(En.value){En.value=!1,nextTick(()=>{var Tr;return(Tr=xe.value)==null?void 0:Tr.blur()});return}(cr=xe.value)==null||cr.blur()},wr=()=>{ue.inputValue.length>0?ue.inputValue="":En.value=!1},xr=cr=>findLastIndex(cr,Tr=>!ue.cachedOptions.some(kr=>re(kr)===Tr&&ae(kr))),_r=cr=>{if(t.multiple&&cr.code!==EVENT_CODE.delete&&ue.inputValue.length===0){cr.preventDefault();const Tr=t.modelValue.slice(),kr=xr(Tr);if(kr<0)return;const Mr=Tr[kr];Tr.splice(kr,1);const Lr=ue.cachedOptions[kr];ue.cachedOptions.splice(kr,1),gr(Lr),Xn(Tr),n("remove-tag",Mr)}},Pr=()=>{let cr;isArray$4(t.modelValue)?cr=[]:cr=ie.value,ue.selectedLabel="",En.value=!1,Xn(cr),n("clear"),Qn(),dr()},Jn=(cr,Tr=void 0)=>{const kr=vn.value;if(!["forward","backward"].includes(cr)||Sn.value||kr.length<=0||Ln.value||Ve.value)return;if(!En.value)return Nn();isUndefined(Tr)&&(Tr=ue.hoveringIndex);let Mr=-1;cr==="forward"?(Mr=Tr+1,Mr>=kr.length&&(Mr=0)):cr==="backward"&&(Mr=Tr-1,(Mr<0||Mr>=kr.length)&&(Mr=kr.length-1));const Lr=kr[Mr];if(ae(Lr)||Lr.type==="Group")return Jn(cr,Mr);ue.hoveringIndex=Mr,Nr(Mr)},ur=()=>{if(En.value)~ue.hoveringIndex&&vn.value[ue.hoveringIndex]&&qn(vn.value[ue.hoveringIndex]);else return Nn()},Er=cr=>{ue.hoveringIndex=cr??-1},Ar=()=>{t.multiple?ue.hoveringIndex=vn.value.findIndex(cr=>t.modelValue.some(Tr=>fr(Tr)===fr(re(cr)))):ue.hoveringIndex=vn.value.findIndex(cr=>fr(re(cr))===fr(t.modelValue))},Ir=cr=>{if(ue.inputValue=cr.target.value,t.remote)Yn();else return Hn()},$r=cr=>{if(En.value=!1,qe.value){const Tr=new FocusEvent("focus",cr);Lt(Tr)}},Rr=()=>(ue.isBeforeHide=!1,nextTick(()=>{~mr.value&&Nr(ue.hoveringIndex)})),Nr=cr=>{Oe.value.scrollToItem(cr)},Or=(cr,Tr)=>{const kr=fr(cr);if(Fn.value.has(kr)){const{option:Mr}=Fn.value.get(kr);return Mr}if(Tr&&Tr.length){const Mr=Tr.find(Lr=>fr(re(Lr))===kr);if(Mr)return Mr}return{[z.value.value]:cr,[z.value.label]:cr}},Br=(cr=!1)=>{if(t.multiple)if(t.modelValue.length>0){const Tr=ue.cachedOptions.slice();ue.cachedOptions.length=0,ue.previousValue=t.modelValue.toString();for(const kr of t.modelValue){const Mr=Or(kr,Tr);ue.cachedOptions.push(Mr)}}else ue.cachedOptions=[],ue.previousValue=void 0;else if(_n.value){ue.previousValue=t.modelValue;const Tr=vn.value,kr=Tr.findIndex(Mr=>fr(re(Mr))===fr(t.modelValue));~kr?ue.selectedLabel=j(Tr[kr]):(!ue.selectedLabel||cr)&&(ue.selectedLabel=fr(t.modelValue))}else ue.selectedLabel="",ue.previousValue=void 0;Qn(),Vn()};return watch(()=>t.fitInputWidth,()=>{Vn()}),watch(En,cr=>{cr?(t.persistent||Vn(),pr("")):(ue.inputValue="",ue.previousQuery=null,ue.isBeforeHide=!0,ir("")),n("visible-change",cr)}),watch(()=>t.modelValue,(cr,Tr)=>{var kr;(!cr||isArray$4(cr)&&cr.length===0||t.multiple&&!isEqual$1(cr.toString(),ue.previousValue)||!t.multiple&&fr(cr)!==fr(ue.previousValue))&&Br(!0),!isEqual$1(cr,Tr)&&t.validateEvent&&((kr=L==null?void 0:L.validate)==null||kr.call(L,"change").catch(Lr=>void 0))},{deep:!0}),watch(()=>t.options,()=>{const cr=xe.value;(!cr||cr&&document.activeElement!==cr)&&Br()},{deep:!0,flush:"post"}),watch(()=>vn.value,()=>(Vn(),Oe.value&&nextTick(Oe.value.resetScrollTop))),watchEffect(()=>{ue.isBeforeHide||Rn()}),watchEffect(()=>{const{valueKey:cr,options:Tr}=t,kr=new Map;for(const Mr of Tr){const Lr=re(Mr);let Vr=Lr;if(isObject$5(Vr)&&(Vr=get$1(Lr,cr)),kr.get(Vr))break;kr.set(Vr,!0)}}),onMounted(()=>{Br()}),useResizeObserver(he,br),useResizeObserver(pe,er),useResizeObserver(Oe,On),useResizeObserver(Ue,On),useResizeObserver(Ne,Zn),useResizeObserver(Fe,Bn),{inputId:V,collapseTagSize:In,currentPlaceholder:nr,expanded:En,emptyText:bn,popupHeight:jt,debounce:Mn,allOptions:Pt,filteredOptions:vn,iconComponent:hn,iconReverse:Cn,tagStyle:jn,collapseTagStyle:Wn,popperSize:de,dropdownMenuVisible:vr,hasModelValue:_n,shouldShowPlaceholder:Un,selectDisabled:Sn,selectSize:kn,needStatusIcon:kt,showClearBtn:wn,states:ue,isFocused:qe,nsSelect:g,nsInput:y,inputRef:xe,menuRef:Oe,tagMenuRef:Ne,tooltipRef:_e,tagTooltipRef:Ce,selectRef:he,wrapperRef:Ue,selectionRef:pe,prefixRef:Ie,suffixRef:$e,collapseItemRef:Fe,popperRef:sr,validateState:Tn,validateIcon:xn,showTagList:Sr,collapseTagList:yr,debouncedOnInputChange:Yn,deleteTag:or,getLabel:j,getValue:re,getDisabled:ae,getValueKey:fr,handleClear:Pr,handleClickOutside:$r,handleDel:_r,handleEsc:wr,focus:dr,blur:hr,handleMenuEnter:Rr,handleResize:br,resetSelectionWidth:er,updateTooltip:On,updateTagTooltip:Zn,updateOptions:Rn,toggleMenu:Nn,scrollTo:Nr,onInput:Ir,onKeyboardNavigate:Jn,onKeyboardSelect:ur,onSelect:qn,onHover:Er,handleCompositionStart:ze,handleCompositionEnd:Et,handleCompositionUpdate:Dt}},_sfc_main$$=defineComponent({name:"ElSelectV2",components:{ElSelectMenu,ElTag,ElTooltip,ElIcon},directives:{ClickOutside},props:selectV2Props,emits:selectV2Emits,setup(t,{emit:n}){const r=computed(()=>{const{modelValue:V,multiple:z}=t,j=z?[]:void 0;return isArray$4(V)?z?V:j:z?j:V}),g=useSelect$1(reactive({...toRefs(t),modelValue:r}),n),{calculatorRef:y,inputStyle:$}=useCalcInputWidth();provide(selectV2InjectionKey,{props:reactive({...toRefs(t),height:g.popupHeight,modelValue:r}),expanded:g.expanded,tooltipRef:g.tooltipRef,onSelect:g.onSelect,onHover:g.onHover,onKeyboardNavigate:g.onKeyboardNavigate,onKeyboardSelect:g.onKeyboardSelect});const L=computed(()=>t.multiple?g.states.cachedOptions.map(V=>V.label):g.states.selectedLabel);return{...g,modelValue:r,selectedLabel:L,calculatorRef:y,inputStyle:$}}});function _sfc_render$b(t,n,r,g,y,$){const L=resolveComponent("el-tag"),V=resolveComponent("el-tooltip"),z=resolveComponent("el-icon"),j=resolveComponent("el-select-menu"),re=resolveDirective("click-outside");return withDirectives((openBlock(),createElementBlock("div",{ref:"selectRef",class:normalizeClass([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:ae=>t.states.inputHovering=!0,onMouseleave:ae=>t.states.inputHovering=!1},[createVNode$1(V,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,"append-to":t.appendTo,"show-arrow":t.showArrow,offset:t.offset,onBeforeShow:t.handleMenuEnter,onHide:ae=>t.states.isBeforeHide=!1},{default:withCtx(()=>[createBaseVNode("div",{ref:"wrapperRef",class:normalizeClass([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)]),onClick:withModifiers(t.toggleMenu,["prevent"])},[t.$slots.prefix?(openBlock(),createElementBlock("div",{key:0,ref:"prefixRef",class:normalizeClass(t.nsSelect.e("prefix"))},[renderSlot(t.$slots,"prefix")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"selectionRef",class:normalizeClass([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?renderSlot(t.$slots,"tag",{key:0},()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.showTagList,ae=>(openBlock(),createElementBlock("div",{key:t.getValueKey(t.getValue(ae)),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(L,{closable:!t.selectDisabled&&!t.getDisabled(ae),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",style:normalizeStyle$1(t.tagStyle),onClose:oe=>t.deleteTag(oe,ae)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{label:t.getLabel(ae),value:t.getValue(ae)},()=>[createTextVNode(toDisplayString(t.getLabel(ae)),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(openBlock(),createBlock(V,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:withCtx(()=>[createBaseVNode("div",{ref:"collapseItemRef",class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(L,{closable:!1,size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,style:normalizeStyle$1(t.collapseTagStyle),"disable-transitions":""},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))}," + "+toDisplayString(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:withCtx(()=>[createBaseVNode("div",{ref:"tagMenuRef",class:normalizeClass(t.nsSelect.e("selection"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.collapseTagList,ae=>(openBlock(),createElementBlock("div",{key:t.getValueKey(t.getValue(ae)),class:normalizeClass(t.nsSelect.e("selected-item"))},[createVNode$1(L,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(ae),size:t.collapseTagSize,type:t.tagType,effect:t.tagEffect,"disable-transitions":"",onClose:oe=>t.deleteTag(oe,ae)},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(t.nsSelect.e("tags-text"))},[renderSlot(t.$slots,"label",{label:t.getLabel(ae),value:t.getValue(ae)},()=>[createTextVNode(toDisplayString(t.getLabel(ae)),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):createCommentVNode("v-if",!0)]):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[withDirectives(createBaseVNode("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":ae=>t.states.inputValue=ae,style:normalizeStyle$1(t.inputStyle),autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:normalizeClass([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onInput:t.onInput,onCompositionstart:t.handleCompositionStart,onCompositionupdate:t.handleCompositionUpdate,onCompositionend:t.handleCompositionEnd,onKeydown:[withKeys(withModifiers(ae=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"]),withKeys(withModifiers(ae=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"]),withKeys(withModifiers(t.onKeyboardSelect,["stop","prevent"]),["enter"]),withKeys(withModifiers(t.handleEsc,["stop","prevent"]),["esc"]),withKeys(withModifiers(t.handleDel,["stop"]),["delete"])],onClick:withModifiers(t.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","autocomplete","tabindex","aria-expanded","aria-label","disabled","readonly","name","onInput","onCompositionstart","onCompositionupdate","onCompositionend","onKeydown","onClick"]),[[vModelText,t.states.inputValue]]),t.filterable?(openBlock(),createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:normalizeClass(t.nsSelect.e("input-calculator")),textContent:toDisplayString(t.states.inputValue)},null,10,["textContent"])):createCommentVNode("v-if",!0)],2),t.shouldShowPlaceholder?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[t.hasModelValue?renderSlot(t.$slots,"label",{key:0,label:t.currentPlaceholder,value:t.modelValue},()=>[createBaseVNode("span",null,toDisplayString(t.currentPlaceholder),1)]):(openBlock(),createElementBlock("span",{key:1},toDisplayString(t.currentPlaceholder),1))],2)):createCommentVNode("v-if",!0)],2),createBaseVNode("div",{ref:"suffixRef",class:normalizeClass(t.nsSelect.e("suffix"))},[t.iconComponent?withDirectives((openBlock(),createBlock(z,{key:0,class:normalizeClass([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])),[[vShow,!t.showClearBtn]]):createCommentVNode("v-if",!0),t.showClearBtn&&t.clearIcon?(openBlock(),createBlock(z,{key:1,class:normalizeClass([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.nsSelect.e("clear")]),onClick:withModifiers(t.handleClear,["prevent","stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.clearIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.validateState&&t.validateIcon&&t.needStatusIcon?(openBlock(),createBlock(z,{key:2,class:normalizeClass([t.nsInput.e("icon"),t.nsInput.e("validateIcon"),t.nsInput.is("loading",t.validateState==="validating")])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.validateIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2)],10,["onClick"])]),content:withCtx(()=>[createVNode$1(j,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},createSlots({default:withCtx(ae=>[renderSlot(t.$slots,"default",normalizeProps(guardReactiveProps(ae)))]),_:2},[t.$slots.header?{name:"header",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","header"))},[renderSlot(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","loading"))},[renderSlot(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","empty"))},[renderSlot(t.$slots,"empty",{},()=>[createBaseVNode("span",null,toDisplayString(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:withCtx(()=>[createBaseVNode("div",{class:normalizeClass(t.nsSelect.be("dropdown","footer"))},[renderSlot(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","append-to","show-arrow","offset","onBeforeShow","onHide"])],42,["onMouseenter","onMouseleave"])),[[re,t.handleClickOutside,t.popperRef]])}var Select=_export_sfc$1(_sfc_main$$,[["render",_sfc_render$b],["__file","select.vue"]]);const ElSelectV2=withInstall(Select),skeletonProps=buildProps({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:definePropType([Number,Object])}}),skeletonItemProps=buildProps({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),__default__$H=defineComponent({name:"ElSkeletonItem"}),_sfc_main$_=defineComponent({...__default__$H,props:skeletonItemProps,setup(t){const n=useNamespace("skeleton");return(r,g)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(n).e("item"),unref(n).e(r.variant)])},[r.variant==="image"?(openBlock(),createBlock(unref(picture_filled_default),{key:0})):createCommentVNode("v-if",!0)],2))}});var SkeletonItem=_export_sfc$1(_sfc_main$_,[["__file","skeleton-item.vue"]]);const useThrottleRender=(t,n=0)=>{if(n===0)return t;const r=isObject$5(n)&&!!n.initVal,g=ref(r);let y=null;const $=V=>{if(isUndefined(V)){g.value=t.value;return}y&&clearTimeout(y),y=setTimeout(()=>{g.value=t.value},V)},L=V=>{V==="leading"?isNumber$1(n)?$(n):$(n.leading):isObject$5(n)?$(n.trailing):g.value=!1};return onMounted(()=>L("leading")),watch(()=>t.value,V=>{L(V?"leading":"trailing")}),g},__default__$G=defineComponent({name:"ElSkeleton"}),_sfc_main$Z=defineComponent({...__default__$G,props:skeletonProps,setup(t,{expose:n}){const r=t,g=useNamespace("skeleton"),y=useThrottleRender(toRef(r,"loading"),r.throttle);return n({uiLoading:y}),($,L)=>unref(y)?(openBlock(),createElementBlock("div",mergeProps({key:0,class:[unref(g).b(),unref(g).is("animated",$.animated)]},$.$attrs),[(openBlock(!0),createElementBlock(Fragment,null,renderList($.count,V=>(openBlock(),createElementBlock(Fragment,{key:V},[unref(y)?renderSlot($.$slots,"template",{key:V},()=>[createVNode$1(SkeletonItem,{class:normalizeClass(unref(g).is("first")),variant:"p"},null,8,["class"]),(openBlock(!0),createElementBlock(Fragment,null,renderList($.rows,z=>(openBlock(),createBlock(SkeletonItem,{key:z,class:normalizeClass([unref(g).e("paragraph"),unref(g).is("last",z===$.rows&&$.rows>1)]),variant:"p"},null,8,["class"]))),128))]):createCommentVNode("v-if",!0)],64))),128))],16)):renderSlot($.$slots,"default",normalizeProps(mergeProps({key:1},$.$attrs)))}});var Skeleton=_export_sfc$1(_sfc_main$Z,[["__file","skeleton.vue"]]);const ElSkeleton=withInstall(Skeleton,{SkeletonItem}),ElSkeletonItem=withNoopInstall(SkeletonItem),sliderContextKey=Symbol("sliderContextKey"),sliderProps=buildProps({modelValue:{type:definePropType([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:useSizeProp,inputSize:useSizeProp,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:definePropType(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:definePropType(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ee,default:"top"},marks:{type:definePropType(Object)},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...useAriaProps(["ariaLabel"])}),isValidValue$1=t=>isNumber$1(t)||isArray$4(t)&&t.every(isNumber$1),sliderEmits={[UPDATE_MODEL_EVENT]:isValidValue$1,[INPUT_EVENT]:isValidValue$1,[CHANGE_EVENT]:isValidValue$1},sliderButtonProps=buildProps({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ee,default:"top"}}),sliderButtonEmits={[UPDATE_MODEL_EVENT]:t=>isNumber$1(t)},useTooltip=(t,n,r)=>{const g=ref(),y=ref(!1),$=computed(()=>n.value instanceof Function),L=computed(()=>$.value&&n.value(t.modelValue)||t.modelValue),V=debounce(()=>{r.value&&(y.value=!0)},50),z=debounce(()=>{r.value&&(y.value=!1)},50);return{tooltip:g,tooltipVisible:y,formatValue:L,displayTooltip:V,hideTooltip:z}},useSliderButton=(t,n,r)=>{const{disabled:g,min:y,max:$,step:L,showTooltip:V,persistent:z,precision:j,sliderSize:re,formatTooltip:ae,emitChange:oe,resetSize:ie,updateDragging:le}=inject(sliderContextKey),{tooltip:ue,tooltipVisible:de,formatValue:he,displayTooltip:pe,hideTooltip:_e}=useTooltip(t,ae,V),Ce=ref(),xe=computed(()=>`${(t.modelValue-y.value)/($.value-y.value)*100}%`),Ie=computed(()=>t.vertical?{bottom:xe.value}:{left:xe.value}),$e=()=>{n.hovering=!0,pe()},Oe=()=>{n.hovering=!1,n.dragging||_e()},Ne=kt=>{g.value||(kt.preventDefault(),At(kt),window.addEventListener("mousemove",vn),window.addEventListener("touchmove",vn),window.addEventListener("mouseup",En),window.addEventListener("touchend",En),window.addEventListener("contextmenu",En),Ce.value.focus())},Fe=kt=>{g.value||(n.newPosition=Number.parseFloat(xe.value)+kt/($.value-y.value)*100,Sn(n.newPosition),oe())},Ve=()=>{Fe(-L.value)},ze=()=>{Fe(L.value)},Et=()=>{Fe(-L.value*4)},Dt=()=>{Fe(L.value*4)},Ue=()=>{g.value||(Sn(0),oe())},qe=()=>{g.value||(Sn(100),oe())},Lt=kt=>{let jt=!0;switch(kt.code){case EVENT_CODE.left:case EVENT_CODE.down:Ve();break;case EVENT_CODE.right:case EVENT_CODE.up:ze();break;case EVENT_CODE.home:Ue();break;case EVENT_CODE.end:qe();break;case EVENT_CODE.pageDown:Et();break;case EVENT_CODE.pageUp:Dt();break;default:jt=!1;break}jt&&kt.preventDefault()},Pt=kt=>{let jt,_n;return kt.type.startsWith("touch")?(_n=kt.touches[0].clientY,jt=kt.touches[0].clientX):(_n=kt.clientY,jt=kt.clientX),{clientX:jt,clientY:_n}},At=kt=>{n.dragging=!0,n.isClick=!0;const{clientX:jt,clientY:_n}=Pt(kt);t.vertical?n.startY=_n:n.startX=jt,n.startPosition=Number.parseFloat(xe.value),n.newPosition=n.startPosition},vn=kt=>{if(n.dragging){n.isClick=!1,pe(),ie();let jt;const{clientX:_n,clientY:wn}=Pt(kt);t.vertical?(n.currentY=wn,jt=(n.startY-n.currentY)/re.value*100):(n.currentX=_n,jt=(n.currentX-n.startX)/re.value*100),n.newPosition=n.startPosition+jt,Sn(n.newPosition)}},En=()=>{n.dragging&&(setTimeout(()=>{n.dragging=!1,n.hovering||_e(),n.isClick||Sn(n.newPosition),oe()},0),window.removeEventListener("mousemove",vn),window.removeEventListener("touchmove",vn),window.removeEventListener("mouseup",En),window.removeEventListener("touchend",En),window.removeEventListener("contextmenu",En))},Sn=async kt=>{if(kt===null||Number.isNaN(+kt))return;kt<0?kt=0:kt>100&&(kt=100);const jt=100/(($.value-y.value)/L.value);let wn=Math.round(kt/jt)*jt*($.value-y.value)*.01+y.value;wn=Number.parseFloat(wn.toFixed(j.value)),wn!==t.modelValue&&r(UPDATE_MODEL_EVENT,wn),!n.dragging&&t.modelValue!==n.oldValue&&(n.oldValue=t.modelValue),await nextTick(),n.dragging&&pe(),ue.value.updatePopper()};return watch(()=>n.dragging,kt=>{le(kt)}),useEventListener(Ce,"touchstart",Ne,{passive:!1}),{disabled:g,button:Ce,tooltip:ue,tooltipVisible:de,showTooltip:V,persistent:z,wrapperStyle:Ie,formatValue:he,handleMouseEnter:$e,handleMouseLeave:Oe,onButtonDown:Ne,onKeyDown:Lt,setPosition:Sn}},__default__$F=defineComponent({name:"ElSliderButton"}),_sfc_main$Y=defineComponent({...__default__$F,props:sliderButtonProps,emits:sliderButtonEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("slider"),$=reactive({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:g.modelValue}),L=computed(()=>re.value?ae.value:!1),{disabled:V,button:z,tooltip:j,showTooltip:re,persistent:ae,tooltipVisible:oe,wrapperStyle:ie,formatValue:le,handleMouseEnter:ue,handleMouseLeave:de,onButtonDown:he,onKeyDown:pe,setPosition:_e}=useSliderButton(g,$,r),{hovering:Ce,dragging:xe}=toRefs($);return n({onButtonDown:he,onKeyDown:pe,setPosition:_e,hovering:Ce,dragging:xe}),(Ie,$e)=>(openBlock(),createElementBlock("div",{ref_key:"button",ref:z,class:normalizeClass([unref(y).e("button-wrapper"),{hover:unref(Ce),dragging:unref(xe)}]),style:normalizeStyle$1(unref(ie)),tabindex:unref(V)?-1:0,onMouseenter:unref(ue),onMouseleave:unref(de),onMousedown:unref(he),onFocus:unref(ue),onBlur:unref(de),onKeydown:unref(pe)},[createVNode$1(unref(ElTooltip),{ref_key:"tooltip",ref:j,visible:unref(oe),placement:Ie.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":Ie.tooltipClass,disabled:!unref(re),persistent:unref(L)},{content:withCtx(()=>[createBaseVNode("span",null,toDisplayString(unref(le)),1)]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([unref(y).e("button"),{hover:unref(Ce),dragging:unref(xe)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled","persistent"])],46,["tabindex","onMouseenter","onMouseleave","onMousedown","onFocus","onBlur","onKeydown"]))}});var SliderButton=_export_sfc$1(_sfc_main$Y,[["__file","button.vue"]]);const sliderMarkerProps=buildProps({mark:{type:definePropType([String,Object]),default:void 0}});var SliderMarker=defineComponent({name:"ElSliderMarker",props:sliderMarkerProps,setup(t){const n=useNamespace("slider"),r=computed(()=>isString$2(t.mark)?t.mark:t.mark.label),g=computed(()=>isString$2(t.mark)?void 0:t.mark.style);return()=>h$1("div",{class:n.e("marks-text"),style:g.value},r.value)}});const useSlide=(t,n,r)=>{const{form:g,formItem:y}=useFormItem(),$=shallowRef(),L=ref(),V=ref(),z={firstButton:L,secondButton:V},j=computed(()=>t.disabled||(g==null?void 0:g.disabled)||!1),re=computed(()=>Math.min(n.firstValue,n.secondValue)),ae=computed(()=>Math.max(n.firstValue,n.secondValue)),oe=computed(()=>t.range?`${100*(ae.value-re.value)/(t.max-t.min)}%`:`${100*(n.firstValue-t.min)/(t.max-t.min)}%`),ie=computed(()=>t.range?`${100*(re.value-t.min)/(t.max-t.min)}%`:"0%"),le=computed(()=>t.vertical?{height:t.height}:{}),ue=computed(()=>t.vertical?{height:oe.value,bottom:ie.value}:{width:oe.value,left:ie.value}),de=()=>{$.value&&(n.sliderSize=$.value[`client${t.vertical?"Height":"Width"}`])},he=ze=>{const Et=t.min+ze*(t.max-t.min)/100;if(!t.range)return L;let Dt;return Math.abs(re.value-Et)<Math.abs(ae.value-Et)?Dt=n.firstValue<n.secondValue?"firstButton":"secondButton":Dt=n.firstValue>n.secondValue?"firstButton":"secondButton",z[Dt]},pe=ze=>{const Et=he(ze);return Et.value.setPosition(ze),Et},_e=ze=>{n.firstValue=ze??t.min,xe(t.range?[re.value,ae.value]:ze??t.min)},Ce=ze=>{n.secondValue=ze,t.range&&xe([re.value,ae.value])},xe=ze=>{r(UPDATE_MODEL_EVENT,ze),r(INPUT_EVENT,ze)},Ie=async()=>{await nextTick(),r(CHANGE_EVENT,t.range?[re.value,ae.value]:t.modelValue)},$e=ze=>{var Et,Dt,Ue,qe,Lt,Pt;if(j.value||n.dragging)return;de();let At=0;if(t.vertical){const vn=(Ue=(Dt=(Et=ze.touches)==null?void 0:Et.item(0))==null?void 0:Dt.clientY)!=null?Ue:ze.clientY;At=($.value.getBoundingClientRect().bottom-vn)/n.sliderSize*100}else{const vn=(Pt=(Lt=(qe=ze.touches)==null?void 0:qe.item(0))==null?void 0:Lt.clientX)!=null?Pt:ze.clientX,En=$.value.getBoundingClientRect().left;At=(vn-En)/n.sliderSize*100}if(!(At<0||At>100))return pe(At)};return{elFormItem:y,slider:$,firstButton:L,secondButton:V,sliderDisabled:j,minValue:re,maxValue:ae,runwayStyle:le,barStyle:ue,resetSize:de,setPosition:pe,emitChange:Ie,onSliderWrapperPrevent:ze=>{var Et,Dt;((Et=z.firstButton.value)!=null&&Et.dragging||(Dt=z.secondButton.value)!=null&&Dt.dragging)&&ze.preventDefault()},onSliderClick:ze=>{$e(ze)&&Ie()},onSliderDown:async ze=>{const Et=$e(ze);Et&&(await nextTick(),Et.value.onButtonDown(ze))},onSliderMarkerDown:ze=>{if(j.value||n.dragging)return;pe(ze)&&Ie()},setFirstValue:_e,setSecondValue:Ce}},useStops=(t,n,r,g)=>({stops:computed(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const L=(t.max-t.min)/t.step,V=100*t.step/(t.max-t.min),z=Array.from({length:L-1}).map((j,re)=>(re+1)*V);return t.range?z.filter(j=>j<100*(r.value-t.min)/(t.max-t.min)||j>100*(g.value-t.min)/(t.max-t.min)):z.filter(j=>j>100*(n.firstValue-t.min)/(t.max-t.min))}),getStopStyle:L=>t.vertical?{bottom:`${L}%`}:{left:`${L}%`}}),useMarks=t=>computed(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((r,g)=>r-g).filter(r=>r<=t.max&&r>=t.min).map(r=>({point:r,position:(r-t.min)*100/(t.max-t.min),mark:t.marks[r]})):[]),useWatch=(t,n,r,g,y,$)=>{const L=j=>{y(UPDATE_MODEL_EVENT,j),y(INPUT_EVENT,j)},V=()=>t.range?![r.value,g.value].every((j,re)=>j===n.oldValue[re]):t.modelValue!==n.oldValue,z=()=>{var j,re;t.min>t.max&&throwError$1("Slider","min should not be greater than max.");const ae=t.modelValue;t.range&&isArray$4(ae)?ae[1]<t.min?L([t.min,t.min]):ae[0]>t.max?L([t.max,t.max]):ae[0]<t.min?L([t.min,ae[1]]):ae[1]>t.max?L([ae[0],t.max]):(n.firstValue=ae[0],n.secondValue=ae[1],V()&&(t.validateEvent&&((j=$==null?void 0:$.validate)==null||j.call($,"change").catch(oe=>void 0)),n.oldValue=ae.slice())):!t.range&&isNumber$1(ae)&&!Number.isNaN(ae)&&(ae<t.min?L(t.min):ae>t.max?L(t.max):(n.firstValue=ae,V()&&(t.validateEvent&&((re=$==null?void 0:$.validate)==null||re.call($,"change").catch(oe=>void 0)),n.oldValue=ae)))};z(),watch(()=>n.dragging,j=>{j||z()}),watch(()=>t.modelValue,(j,re)=>{n.dragging||isArray$4(j)&&isArray$4(re)&&j.every((ae,oe)=>ae===re[oe])&&n.firstValue===j[0]&&n.secondValue===j[1]||z()},{deep:!0}),watch(()=>[t.min,t.max],()=>{z()})},useLifecycle=(t,n,r)=>{const g=ref();return onMounted(async()=>{t.range?(isArray$4(t.modelValue)?(n.firstValue=Math.max(t.min,t.modelValue[0]),n.secondValue=Math.min(t.max,t.modelValue[1])):(n.firstValue=t.min,n.secondValue=t.max),n.oldValue=[n.firstValue,n.secondValue]):(!isNumber$1(t.modelValue)||Number.isNaN(t.modelValue)?n.firstValue=t.min:n.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),n.oldValue=n.firstValue),useEventListener(window,"resize",r),await nextTick(),r()}),{sliderWrapper:g}},__default__$E=defineComponent({name:"ElSlider"}),_sfc_main$X=defineComponent({...__default__$E,props:sliderProps,emits:sliderEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("slider"),{t:$}=useLocale(),L=reactive({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:V,slider:z,firstButton:j,secondButton:re,sliderDisabled:ae,minValue:oe,maxValue:ie,runwayStyle:le,barStyle:ue,resetSize:de,emitChange:he,onSliderWrapperPrevent:pe,onSliderClick:_e,onSliderDown:Ce,onSliderMarkerDown:xe,setFirstValue:Ie,setSecondValue:$e}=useSlide(g,L,r),{stops:Oe,getStopStyle:Ne}=useStops(g,L,oe,ie),{inputId:Fe,isLabeledByFormItem:Ve}=useFormItemInputId(g,{formItemContext:V}),ze=useFormSize(),Et=computed(()=>g.inputSize||ze.value),Dt=computed(()=>g.ariaLabel||$("el.slider.defaultLabel",{min:g.min,max:g.max})),Ue=computed(()=>g.range?g.rangeStartLabel||$("el.slider.defaultRangeStartLabel"):Dt.value),qe=computed(()=>g.formatValueText?g.formatValueText(kt.value):`${kt.value}`),Lt=computed(()=>g.rangeEndLabel||$("el.slider.defaultRangeEndLabel")),Pt=computed(()=>g.formatValueText?g.formatValueText(jt.value):`${jt.value}`),At=computed(()=>[y.b(),y.m(ze.value),y.is("vertical",g.vertical),{[y.m("with-input")]:g.showInput}]),vn=useMarks(g);useWatch(g,L,oe,ie,r,V);const En=computed(()=>{const hn=[g.min,g.max,g.step].map(Cn=>{const Tn=`${Cn}`.split(".")[1];return Tn?Tn.length:0});return Math.max.apply(null,hn)}),{sliderWrapper:Sn}=useLifecycle(g,L,de),{firstValue:kt,secondValue:jt,sliderSize:_n}=toRefs(L),wn=hn=>{L.dragging=hn};return useEventListener(Sn,"touchstart",pe,{passive:!1}),useEventListener(Sn,"touchmove",pe,{passive:!1}),provide(sliderContextKey,{...toRefs(g),sliderSize:_n,disabled:ae,precision:En,emitChange:he,resetSize:de,updateDragging:wn}),n({onSliderClick:_e}),(hn,Cn)=>{var Tn,xn;return openBlock(),createElementBlock("div",{id:hn.range?unref(Fe):void 0,ref_key:"sliderWrapper",ref:Sn,class:normalizeClass(unref(At)),role:hn.range?"group":void 0,"aria-label":hn.range&&!unref(Ve)?unref(Dt):void 0,"aria-labelledby":hn.range&&unref(Ve)?(Tn=unref(V))==null?void 0:Tn.labelId:void 0},[createBaseVNode("div",{ref_key:"slider",ref:z,class:normalizeClass([unref(y).e("runway"),{"show-input":hn.showInput&&!hn.range},unref(y).is("disabled",unref(ae))]),style:normalizeStyle$1(unref(le)),onMousedown:unref(Ce),onTouchstartPassive:unref(Ce)},[createBaseVNode("div",{class:normalizeClass(unref(y).e("bar")),style:normalizeStyle$1(unref(ue))},null,6),createVNode$1(SliderButton,{id:hn.range?void 0:unref(Fe),ref_key:"firstButton",ref:j,"model-value":unref(kt),vertical:hn.vertical,"tooltip-class":hn.tooltipClass,placement:hn.placement,role:"slider","aria-label":hn.range||!unref(Ve)?unref(Ue):void 0,"aria-labelledby":!hn.range&&unref(Ve)?(xn=unref(V))==null?void 0:xn.labelId:void 0,"aria-valuemin":hn.min,"aria-valuemax":hn.range?unref(jt):hn.max,"aria-valuenow":unref(kt),"aria-valuetext":unref(qe),"aria-orientation":hn.vertical?"vertical":"horizontal","aria-disabled":unref(ae),"onUpdate:modelValue":unref(Ie)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),hn.range?(openBlock(),createBlock(SliderButton,{key:0,ref_key:"secondButton",ref:re,"model-value":unref(jt),vertical:hn.vertical,"tooltip-class":hn.tooltipClass,placement:hn.placement,role:"slider","aria-label":unref(Lt),"aria-valuemin":unref(kt),"aria-valuemax":hn.max,"aria-valuenow":unref(jt),"aria-valuetext":unref(Pt),"aria-orientation":hn.vertical?"vertical":"horizontal","aria-disabled":unref(ae),"onUpdate:modelValue":unref($e)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):createCommentVNode("v-if",!0),hn.showStops?(openBlock(),createElementBlock("div",{key:1},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Oe),(Mn,bn)=>(openBlock(),createElementBlock("div",{key:bn,class:normalizeClass(unref(y).e("stop")),style:normalizeStyle$1(unref(Ne)(Mn))},null,6))),128))])):createCommentVNode("v-if",!0),unref(vn).length>0?(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("div",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(vn),(Mn,bn)=>(openBlock(),createElementBlock("div",{key:bn,style:normalizeStyle$1(unref(Ne)(Mn.position)),class:normalizeClass([unref(y).e("stop"),unref(y).e("marks-stop")])},null,6))),128))]),createBaseVNode("div",{class:normalizeClass(unref(y).e("marks"))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(vn),(Mn,bn)=>(openBlock(),createBlock(unref(SliderMarker),{key:bn,mark:Mn.mark,style:normalizeStyle$1(unref(Ne)(Mn.position)),onMousedown:withModifiers(Pn=>unref(xe)(Mn.position),["stop"])},null,8,["mark","style","onMousedown"]))),128))],2)],64)):createCommentVNode("v-if",!0)],46,["onMousedown","onTouchstartPassive"]),hn.showInput&&!hn.range?(openBlock(),createBlock(unref(ElInputNumber),{key:0,ref:"input","model-value":unref(kt),class:normalizeClass(unref(y).e("input")),step:hn.step,disabled:unref(ae),controls:hn.showInputControls,min:hn.min,max:hn.max,precision:unref(En),debounce:hn.debounce,size:unref(Et),"onUpdate:modelValue":unref(Ie),onChange:unref(he)},null,8,["model-value","class","step","disabled","controls","min","max","precision","debounce","size","onUpdate:modelValue","onChange"])):createCommentVNode("v-if",!0)],10,["id","role","aria-label","aria-labelledby"])}}});var Slider=_export_sfc$1(_sfc_main$X,[["__file","slider.vue"]]);const ElSlider=withInstall(Slider),spaceItemProps=buildProps({prefixCls:{type:String}}),SpaceItem=defineComponent({name:"ElSpaceItem",props:spaceItemProps,setup(t,{slots:n}){const r=useNamespace("space"),g=computed(()=>`${t.prefixCls||r.b()}__item`);return()=>h$1("div",{class:g.value},renderSlot(n,"default"))}}),SIZE_MAP={small:8,default:12,large:16};function useSpace(t){const n=useNamespace("space"),r=computed(()=>[n.b(),n.m(t.direction),t.class]),g=ref(0),y=ref(0),$=computed(()=>{const V=t.wrap||t.fill?{flexWrap:"wrap"}:{},z={alignItems:t.alignment},j={rowGap:`${y.value}px`,columnGap:`${g.value}px`};return[V,z,j,t.style]}),L=computed(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return watchEffect(()=>{const{size:V="small",wrap:z,direction:j,fill:re}=t;if(isArray$4(V)){const[ae=0,oe=0]=V;g.value=ae,y.value=oe}else{let ae;isNumber$1(V)?ae=V:ae=SIZE_MAP[V||"small"]||SIZE_MAP.small,(z||re)&&j==="horizontal"?g.value=y.value=ae:j==="horizontal"?(g.value=ae,y.value=0):(y.value=ae,g.value=0)}}),{classes:r,containerStyle:$,itemStyle:L}}const spaceProps=buildProps({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:definePropType([String,Object,Array]),default:""},style:{type:definePropType([String,Array,Object]),default:""},alignment:{type:definePropType(String),default:"center"},prefixCls:{type:String},spacer:{type:definePropType([Object,String,Number,Array]),default:null,validator:t=>isVNode(t)||isNumber$1(t)||isString$2(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:componentSizes,validator:t=>isNumber$1(t)||isArray$4(t)&&t.length===2&&t.every(isNumber$1)}}),Space=defineComponent({name:"ElSpace",props:spaceProps,setup(t,{slots:n}){const{classes:r,containerStyle:g,itemStyle:y}=useSpace(t);function $(L,V="",z=[]){const{prefixCls:j}=t;return L.forEach((re,ae)=>{isFragment(re)?isArray$4(re.children)&&re.children.forEach((oe,ie)=>{isFragment(oe)&&isArray$4(oe.children)?$(oe.children,`${V+ie}-`,z):isVNode(oe)&&(oe==null?void 0:oe.type)===Comment?z.push(oe):z.push(createVNode$1(SpaceItem,{style:y.value,prefixCls:j,key:`nested-${V+ie}`},{default:()=>[oe]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"]))}):isValidElementNode(re)?z.push(createVNode$1(SpaceItem,{style:y.value,prefixCls:j,key:`LoopKey${V+ae}`},{default:()=>[re]},PatchFlags.PROPS|PatchFlags.STYLE,["style","prefixCls"])):isVNode(re)&&re.type===Comment&&z.push(re)}),z}return()=>{var L;const{spacer:V,direction:z}=t,j=renderSlot(n,"default",{key:0},()=>[]);if(((L=j.children)!=null?L:[]).length===0)return null;if(isArray$4(j.children)){let re=$(j.children);if(V){const ae=re.length-1;re=re.reduce((oe,ie,le)=>{const ue=[...oe,ie];return le!==ae&&ue.push(createVNode$1("span",{style:[y.value,z==="vertical"?"width: 100%":null],key:le},[isVNode(V)?V:createTextVNode(V,PatchFlags.TEXT)],PatchFlags.STYLE)),ue},[])}return createVNode$1("div",{class:r.value,style:g.value},re,PatchFlags.STYLE|PatchFlags.CLASS)}return j.children}}}),ElSpace=withInstall(Space),statisticProps=buildProps({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:definePropType([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:definePropType([String,Object,Array])}}),__default__$D=defineComponent({name:"ElStatistic"}),_sfc_main$W=defineComponent({...__default__$D,props:statisticProps,setup(t,{expose:n}){const r=t,g=useNamespace("statistic"),y=computed(()=>{const{value:$,formatter:L,precision:V,decimalSeparator:z,groupSeparator:j}=r;if(isFunction$3(L))return L($);if(!isNumber$1($)||Number.isNaN($))return $;let[re,ae=""]=String($).split(".");return ae=ae.padEnd(V,"0").slice(0,V>0?V:0),re=re.replace(/\B(?=(\d{3})+(?!\d))/g,j),[re,ae].join(ae?z:"")});return n({displayValue:y}),($,L)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).b())},[$.$slots.title||$.title?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("head"))},[renderSlot($.$slots,"title",{},()=>[createTextVNode(toDisplayString($.title),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("content"))},[$.$slots.prefix||$.prefix?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("prefix"))},[renderSlot($.$slots,"prefix",{},()=>[createBaseVNode("span",null,toDisplayString($.prefix),1)])],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{class:normalizeClass(unref(g).e("number")),style:normalizeStyle$1($.valueStyle)},toDisplayString(unref(y)),7),$.$slots.suffix||$.suffix?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(g).e("suffix"))},[renderSlot($.$slots,"suffix",{},()=>[createBaseVNode("span",null,toDisplayString($.suffix),1)])],2)):createCommentVNode("v-if",!0)],2)],2))}});var Statistic=_export_sfc$1(_sfc_main$W,[["__file","statistic.vue"]]);const ElStatistic=withInstall(Statistic),countdownProps=buildProps({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:definePropType([Number,Object]),default:0},valueStyle:{type:definePropType([String,Object,Array])}}),countdownEmits={finish:()=>!0,[CHANGE_EVENT]:t=>isNumber$1(t)},timeUnits$1=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],getTime$1=t=>isNumber$1(t)?new Date(t).getTime():t.valueOf(),formatTime$1=(t,n)=>{let r=t;const g=/\[([^\]]*)]/g;return timeUnits$1.reduce(($,[L,V])=>{const z=new RegExp(`${L}+(?![^\\[\\]]*\\])`,"g");if(z.test($)){const j=Math.floor(r/V);return r-=j*V,$.replace(z,re=>String(j).padStart(re.length,"0"))}return $},n).replace(g,"$1")},__default__$C=defineComponent({name:"ElCountdown"}),_sfc_main$V=defineComponent({...__default__$C,props:countdownProps,emits:countdownEmits,setup(t,{expose:n,emit:r}){const g=t;let y;const $=ref(0),L=computed(()=>formatTime$1($.value,g.format)),V=re=>formatTime$1(re,g.format),z=()=>{y&&(cAF(y),y=void 0)},j=()=>{const re=getTime$1(g.value),ae=()=>{let oe=re-Date.now();r(CHANGE_EVENT,oe),oe<=0?(oe=0,z(),r("finish")):y=rAF(ae),$.value=oe};y=rAF(ae)};return onMounted(()=>{$.value=getTime$1(g.value)-Date.now(),watch(()=>[g.value,g.format],()=>{z(),j()},{immediate:!0})}),onBeforeUnmount(()=>{z()}),n({displayValue:L}),(re,ae)=>(openBlock(),createBlock(unref(ElStatistic),{value:$.value,title:re.title,prefix:re.prefix,suffix:re.suffix,"value-style":re.valueStyle,formatter:V},createSlots({_:2},[renderList(re.$slots,(oe,ie)=>({name:ie,fn:withCtx(()=>[renderSlot(re.$slots,ie)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var Countdown=_export_sfc$1(_sfc_main$V,[["__file","countdown.vue"]]);const ElCountdown=withInstall(Countdown),stepsProps=buildProps({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),stepsEmits={[CHANGE_EVENT]:(t,n)=>[t,n].every(isNumber$1)},STEPS_INJECTION_KEY="ElSteps",__default__$B=defineComponent({name:"ElSteps"}),_sfc_main$U=defineComponent({...__default__$B,props:stepsProps,emits:stepsEmits,setup(t,{emit:n}){const r=t,g=useNamespace("steps"),{children:y,addChild:$,removeChild:L}=useOrderedChildren(getCurrentInstance(),"ElStep");return watch(y,()=>{y.value.forEach((V,z)=>{V.setIndex(z)})}),provide(STEPS_INJECTION_KEY,{props:r,steps:y,addStep:$,removeStep:L}),watch(()=>r.active,(V,z)=>{n(CHANGE_EVENT,V,z)}),(V,z)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(V.simple?"simple":V.direction)])},[renderSlot(V.$slots,"default")],2))}});var Steps=_export_sfc$1(_sfc_main$U,[["__file","steps.vue"]]);const stepProps=buildProps({title:{type:String,default:""},icon:{type:iconPropType},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),__default__$A=defineComponent({name:"ElStep"}),_sfc_main$T=defineComponent({...__default__$A,props:stepProps,setup(t){const n=t,r=useNamespace("step"),g=ref(-1),y=ref({}),$=ref(""),L=inject(STEPS_INJECTION_KEY),V=getCurrentInstance();onMounted(()=>{watch([()=>L.props.active,()=>L.props.processStatus,()=>L.props.finishStatus],([Ie])=>{Ce(Ie)},{immediate:!0})}),onBeforeUnmount(()=>{L.removeStep(xe.uid)});const z=computed(()=>n.status||$.value),j=computed(()=>{const Ie=L.steps.value[g.value-1];return Ie?Ie.currentStatus:"wait"}),re=computed(()=>L.props.alignCenter),ae=computed(()=>L.props.direction==="vertical"),oe=computed(()=>L.props.simple),ie=computed(()=>L.steps.value.length),le=computed(()=>{var Ie;return((Ie=L.steps.value[ie.value-1])==null?void 0:Ie.uid)===(V==null?void 0:V.uid)}),ue=computed(()=>oe.value?"":L.props.space),de=computed(()=>[r.b(),r.is(oe.value?"simple":L.props.direction),r.is("flex",le.value&&!ue.value&&!re.value),r.is("center",re.value&&!ae.value&&!oe.value)]),he=computed(()=>{const Ie={flexBasis:isNumber$1(ue.value)?`${ue.value}px`:ue.value?ue.value:`${100/(ie.value-(re.value?0:1))}%`};return ae.value||le.value&&(Ie.maxWidth=`${100/ie.value}%`),Ie}),pe=Ie=>{g.value=Ie},_e=Ie=>{const $e=Ie==="wait",Oe={transitionDelay:`${$e?"-":""}${150*g.value}ms`},Ne=Ie===L.props.processStatus||$e?0:100;Oe.borderWidth=Ne&&!oe.value?"1px":0,Oe[L.props.direction==="vertical"?"height":"width"]=`${Ne}%`,y.value=Oe},Ce=Ie=>{Ie>g.value?$.value=L.props.finishStatus:Ie===g.value&&j.value!=="error"?$.value=L.props.processStatus:$.value="wait";const $e=L.steps.value[g.value-1];$e&&$e.calcProgress($.value)},xe=reactive({uid:V.uid,currentStatus:z,setIndex:pe,calcProgress:_e});return L.addStep(xe),(Ie,$e)=>(openBlock(),createElementBlock("div",{style:normalizeStyle$1(unref(he)),class:normalizeClass(unref(de))},[createCommentVNode(" icon & line "),createBaseVNode("div",{class:normalizeClass([unref(r).e("head"),unref(r).is(unref(z))])},[unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("line"))},[createBaseVNode("i",{class:normalizeClass(unref(r).e("line-inner")),style:normalizeStyle$1(y.value)},null,6)],2)),createBaseVNode("div",{class:normalizeClass([unref(r).e("icon"),unref(r).is(Ie.icon||Ie.$slots.icon?"icon":"text")])},[renderSlot(Ie.$slots,"icon",{},()=>[Ie.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon-inner"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(Ie.icon)))]),_:1},8,["class"])):unref(z)==="success"?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1},8,["class"])):unref(z)==="error"?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass([unref(r).e("icon-inner"),unref(r).is("status")])},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:1},8,["class"])):unref(oe)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:3,class:normalizeClass(unref(r).e("icon-inner"))},toDisplayString(g.value+1),3))])],2)],2),createCommentVNode(" title & description "),createBaseVNode("div",{class:normalizeClass(unref(r).e("main"))},[createBaseVNode("div",{class:normalizeClass([unref(r).e("title"),unref(r).is(unref(z))])},[renderSlot(Ie.$slots,"title",{},()=>[createTextVNode(toDisplayString(Ie.title),1)])],2),unref(oe)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(r).e("arrow"))},null,2)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("description"),unref(r).is(unref(z))])},[renderSlot(Ie.$slots,"description",{},()=>[createTextVNode(toDisplayString(Ie.description),1)])],2))],2)],6))}});var Step=_export_sfc$1(_sfc_main$T,[["__file","item.vue"]]);const ElSteps=withInstall(Steps,{Step}),ElStep=withNoopInstall(Step),isValidComponentSize=t=>["",...componentSizes].includes(t),switchProps=buildProps({modelValue:{type:[Boolean,String,Number],default:!1},disabled:Boolean,loading:Boolean,size:{type:String,validator:isValidComponentSize},width:{type:[String,Number],default:""},inlinePrompt:Boolean,inactiveActionIcon:{type:iconPropType},activeActionIcon:{type:iconPropType},activeIcon:{type:iconPropType},inactiveIcon:{type:iconPropType},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:definePropType(Function)},id:String,tabindex:{type:[String,Number]},...useAriaProps(["ariaLabel"])}),switchEmits={[UPDATE_MODEL_EVENT]:t=>isBoolean(t)||isString$2(t)||isNumber$1(t),[CHANGE_EVENT]:t=>isBoolean(t)||isString$2(t)||isNumber$1(t),[INPUT_EVENT]:t=>isBoolean(t)||isString$2(t)||isNumber$1(t)},COMPONENT_NAME$9="ElSwitch",__default__$z=defineComponent({name:COMPONENT_NAME$9}),_sfc_main$S=defineComponent({...__default__$z,props:switchProps,emits:switchEmits,setup(t,{expose:n,emit:r}){const g=t,{formItem:y}=useFormItem(),$=useFormSize(),L=useNamespace("switch"),{inputId:V}=useFormItemInputId(g,{formItemContext:y}),z=useFormDisabled(computed(()=>g.loading)),j=ref(g.modelValue!==!1),re=ref(),ae=ref(),oe=computed(()=>[L.b(),L.m($.value),L.is("disabled",z.value),L.is("checked",he.value)]),ie=computed(()=>[L.e("label"),L.em("label","left"),L.is("active",!he.value)]),le=computed(()=>[L.e("label"),L.em("label","right"),L.is("active",he.value)]),ue=computed(()=>({width:addUnit(g.width)}));watch(()=>g.modelValue,()=>{j.value=!0});const de=computed(()=>j.value?g.modelValue:!1),he=computed(()=>de.value===g.activeValue);[g.activeValue,g.inactiveValue].includes(de.value)||(r(UPDATE_MODEL_EVENT,g.inactiveValue),r(CHANGE_EVENT,g.inactiveValue),r(INPUT_EVENT,g.inactiveValue)),watch(he,xe=>{var Ie;re.value.checked=xe,g.validateEvent&&((Ie=y==null?void 0:y.validate)==null||Ie.call(y,"change").catch($e=>void 0))});const pe=()=>{const xe=he.value?g.inactiveValue:g.activeValue;r(UPDATE_MODEL_EVENT,xe),r(CHANGE_EVENT,xe),r(INPUT_EVENT,xe),nextTick(()=>{re.value.checked=he.value})},_e=()=>{if(z.value)return;const{beforeChange:xe}=g;if(!xe){pe();return}const Ie=xe();[isPromise(Ie),isBoolean(Ie)].includes(!0)||throwError$1(COMPONENT_NAME$9,"beforeChange must return type `Promise<boolean>` or `boolean`"),isPromise(Ie)?Ie.then(Oe=>{Oe&&pe()}).catch(Oe=>{}):Ie&&pe()},Ce=()=>{var xe,Ie;(Ie=(xe=re.value)==null?void 0:xe.focus)==null||Ie.call(xe)};return onMounted(()=>{re.value.checked=he.value}),n({focus:Ce,checked:he}),(xe,Ie)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(oe)),onClick:withModifiers(_e,["prevent"])},[createBaseVNode("input",{id:unref(V),ref_key:"input",ref:re,class:normalizeClass(unref(L).e("input")),type:"checkbox",role:"switch","aria-checked":unref(he),"aria-disabled":unref(z),"aria-label":xe.ariaLabel,name:xe.name,"true-value":xe.activeValue,"false-value":xe.inactiveValue,disabled:unref(z),tabindex:xe.tabindex,onChange:pe,onKeydown:withKeys(_e,["enter"])},null,42,["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"]),!xe.inlinePrompt&&(xe.inactiveIcon||xe.inactiveText)?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(ie))},[xe.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.inactiveIcon)))]),_:1})):createCommentVNode("v-if",!0),!xe.inactiveIcon&&xe.inactiveText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":unref(he)},toDisplayString(xe.inactiveText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("span",{ref_key:"core",ref:ae,class:normalizeClass(unref(L).e("core")),style:normalizeStyle$1(unref(ue))},[xe.inlinePrompt?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(L).e("inner"))},[xe.activeIcon||xe.inactiveIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).is("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(he)?xe.activeIcon:xe.inactiveIcon)))]),_:1},8,["class"])):xe.activeText||xe.inactiveText?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(L).is("text")),"aria-hidden":!unref(he)},toDisplayString(unref(he)?xe.activeText:xe.inactiveText),11,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(L).e("action"))},[xe.loading?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(L).is("loading"))},{default:withCtx(()=>[createVNode$1(unref(loading_default))]),_:1},8,["class"])):unref(he)?renderSlot(xe.$slots,"active-action",{key:1},()=>[xe.activeActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.activeActionIcon)))]),_:1})):createCommentVNode("v-if",!0)]):unref(he)?createCommentVNode("v-if",!0):renderSlot(xe.$slots,"inactive-action",{key:2},()=>[xe.inactiveActionIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.inactiveActionIcon)))]),_:1})):createCommentVNode("v-if",!0)])],2)],6),!xe.inlinePrompt&&(xe.activeIcon||xe.activeText)?(openBlock(),createElementBlock("span",{key:1,class:normalizeClass(unref(le))},[xe.activeIcon?(openBlock(),createBlock(unref(ElIcon),{key:0},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(xe.activeIcon)))]),_:1})):createCommentVNode("v-if",!0),!xe.activeIcon&&xe.activeText?(openBlock(),createElementBlock("span",{key:1,"aria-hidden":!unref(he)},toDisplayString(xe.activeText),9,["aria-hidden"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0)],10,["onClick"]))}});var Switch=_export_sfc$1(_sfc_main$S,[["__file","switch.vue"]]);const ElSwitch=withInstall(Switch),getCell=function(t){var n;return(n=t.target)==null?void 0:n.closest("td")},orderBy=function(t,n,r,g,y){if(!n&&!g&&(!y||isArray$4(y)&&!y.length))return t;isString$2(r)?r=r==="descending"?-1:1:r=r&&r<0?-1:1;const $=g?null:function(V,z){return y?(isArray$4(y)||(y=[y]),y.map(j=>isString$2(j)?get$1(V,j):j(V,z,t))):(n!=="$key"&&isObject$5(V)&&"$value"in V&&(V=V.$value),[isObject$5(V)?get$1(V,n):V])},L=function(V,z){if(g)return g(V.value,z.value);for(let j=0,re=V.key.length;j<re;j++){if(V.key[j]<z.key[j])return-1;if(V.key[j]>z.key[j])return 1}return 0};return t.map((V,z)=>({value:V,index:z,key:$?$(V,z):null})).sort((V,z)=>{let j=L(V,z);return j||(j=V.index-z.index),j*+r}).map(V=>V.value)},getColumnById=function(t,n){let r=null;return t.columns.forEach(g=>{g.id===n&&(r=g)}),r},getColumnByKey=function(t,n){let r=null;for(let g=0;g<t.columns.length;g++){const y=t.columns[g];if(y.columnKey===n){r=y;break}}return r||throwError$1("ElTable",`No column matching with column-key: ${n}`),r},getColumnByCell=function(t,n,r){const g=(n.className||"").match(new RegExp(`${r}-table_[^\\s]+`,"gm"));return g?getColumnById(t,g[0]):null},getRowIdentity=(t,n)=>{if(!t)throw new Error("Row is required when get row identity");if(isString$2(n)){if(!n.includes("."))return`${t[n]}`;const r=n.split(".");let g=t;for(const y of r)g=g[y];return`${g}`}else if(isFunction$3(n))return n.call(null,t)},getKeysMap=function(t,n,r=!1,g="children"){const y=t||[],$={};return y.forEach((L,V)=>{if($[getRowIdentity(L,n)]={row:L,index:V},r){const z=L[g];isArray$4(z)&&Object.assign($,getKeysMap(z,n,!0,g))}}),$};function mergeOptions$1(t,n){const r={};let g;for(g in t)r[g]=t[g];for(g in n)if(hasOwn$1(n,g)){const y=n[g];isUndefined(y)||(r[g]=y)}return r}function parseWidth(t){return t===""||isUndefined(t)||(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function parseMinWidth(t){return t===""||isUndefined(t)||(t=parseWidth(t),Number.isNaN(t)&&(t=80)),t}function parseHeight(t){return isNumber$1(t)?t:isString$2(t)?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function compose(...t){return t.length===0?n=>n:t.length===1?t[0]:t.reduce((n,r)=>(...g)=>n(r(...g)))}function toggleRowStatus(t,n,r,g,y,$){let L=$??0,V=!1;const z=t.indexOf(n),j=z!==-1,re=y==null?void 0:y.call(null,n,L),ae=ie=>{ie==="add"?t.push(n):t.splice(z,1),V=!0},oe=ie=>{let le=0;const ue=(g==null?void 0:g.children)&&ie[g.children];return ue&&isArray$4(ue)&&(le+=ue.length,ue.forEach(de=>{le+=oe(de)})),le};return(!y||re)&&(isBoolean(r)?r&&!j?ae("add"):!r&&j&&ae("remove"):ae(j?"remove":"add")),!(g!=null&&g.checkStrictly)&&(g!=null&&g.children)&&isArray$4(n[g.children])&&n[g.children].forEach(ie=>{const le=toggleRowStatus(t,ie,r??!j,g,y,L+1);L+=oe(ie)+1,le&&(V=le)}),V}function walkTreeNode(t,n,r="children",g="hasChildren"){const y=L=>!(isArray$4(L)&&L.length);function $(L,V,z){n(L,V,z),V.forEach(j=>{if(j[g]){n(j,null,z+1);return}const re=j[r];y(re)||$(j,re,z+1)})}t.forEach(L=>{if(L[g]){n(L,null,0);return}const V=L[r];y(V)||$(L,V,0)})}const getTableOverflowTooltipProps=(t,n,r,g)=>{const y={strategy:"fixed",...t.popperOptions},$=isFunction$3(g.tooltipFormatter)?g.tooltipFormatter({row:r,column:g,cellValue:getProp(r,g.property).value}):void 0;return isVNode($)?{slotContent:$,content:null,...t,popperOptions:y}:{slotContent:null,content:$??n,...t,popperOptions:y}};let removePopper=null;function createTablePopper(t,n,r,g,y,$){const L=getTableOverflowTooltipProps(t,n,r,g),V={...L,slotContent:void 0};if((removePopper==null?void 0:removePopper.trigger)===y){const ie=removePopper.vm.component;merge$1(ie.props,V),L.slotContent&&(ie.slots.content=()=>[L.slotContent]);return}removePopper==null||removePopper();const z=$==null?void 0:$.refs.tableWrapper,j=z==null?void 0:z.dataset.prefix,re=createVNode$1(ElTooltip,{virtualTriggering:!0,virtualRef:y,appendTo:z,placement:"top",transition:"none",offset:0,hideAfter:0,...V},L.slotContent?{content:()=>L.slotContent}:void 0);re.appContext={...$.appContext,...$};const ae=document.createElement("div");render$1(re,ae),re.component.exposed.onOpen();const oe=z==null?void 0:z.querySelector(`.${j}-scrollbar__wrap`);removePopper=()=>{render$1(null,ae),oe==null||oe.removeEventListener("scroll",removePopper),removePopper=null},removePopper.trigger=y,removePopper.vm=re,oe==null||oe.addEventListener("scroll",removePopper)}function getCurrentColumns(t){return t.children?flatMap(t.children,getCurrentColumns):[t]}function getColSpan(t,n){return t+n.colSpan}const isFixedColumn=(t,n,r,g)=>{let y=0,$=t;const L=r.states.columns.value;if(g){const z=getCurrentColumns(g[t]);y=L.slice(0,L.indexOf(z[0])).reduce(getColSpan,0),$=y+z.reduce(getColSpan,0)-1}else y=t;let V;switch(n){case"left":$<r.states.fixedLeafColumnsLength.value&&(V="left");break;case"right":y>=L.length-r.states.rightFixedLeafColumnsLength.value&&(V="right");break;default:$<r.states.fixedLeafColumnsLength.value?V="left":y>=L.length-r.states.rightFixedLeafColumnsLength.value&&(V="right")}return V?{direction:V,start:y,after:$}:{}},getFixedColumnsClass=(t,n,r,g,y,$=0)=>{const L=[],{direction:V,start:z,after:j}=isFixedColumn(n,r,g,y);if(V){const re=V==="left";L.push(`${t}-fixed-column--${V}`),re&&j+$===g.states.fixedLeafColumnsLength.value-1?L.push("is-last-column"):!re&&z-$===g.states.columns.value.length-g.states.rightFixedLeafColumnsLength.value&&L.push("is-first-column")}return L};function getOffset$1(t,n){return t+(isNull(n.realWidth)||Number.isNaN(n.realWidth)?Number(n.width):n.realWidth)}const getFixedColumnOffset=(t,n,r,g)=>{const{direction:y,start:$=0,after:L=0}=isFixedColumn(t,n,r,g);if(!y)return;const V={},z=y==="left",j=r.states.columns.value;return z?V.left=j.slice(0,$).reduce(getOffset$1,0):V.right=j.slice(L+1).reverse().reduce(getOffset$1,0),V},ensurePosition=(t,n)=>{t&&(Number.isNaN(t[n])||(t[n]=`${t[n]}px`))};function useExpand(t){const n=getCurrentInstance(),r=ref(!1),g=ref([]);return{updateExpandRows:()=>{const z=t.data.value||[],j=t.rowKey.value;if(r.value)g.value=z.slice();else if(j){const re=getKeysMap(g.value,j);g.value=z.reduce((ae,oe)=>{const ie=getRowIdentity(oe,j);return re[ie]&&ae.push(oe),ae},[])}else g.value=[]},toggleRowExpansion:(z,j)=>{toggleRowStatus(g.value,z,j)&&n.emit("expand-change",z,g.value.slice())},setExpandRowKeys:z=>{n.store.assertRowKey();const j=t.data.value||[],re=t.rowKey.value,ae=getKeysMap(j,re);g.value=z.reduce((oe,ie)=>{const le=ae[ie];return le&&oe.push(le.row),oe},[])},isRowExpanded:z=>{const j=t.rowKey.value;return j?!!getKeysMap(g.value,j)[getRowIdentity(z,j)]:g.value.includes(z)},states:{expandRows:g,defaultExpandAll:r}}}function useCurrent(t){const n=getCurrentInstance(),r=ref(null),g=ref(null),y=j=>{n.store.assertRowKey(),r.value=j,L(j)},$=()=>{r.value=null},L=j=>{const{data:re,rowKey:ae}=t;let oe=null;ae.value&&(oe=(unref(re)||[]).find(ie=>getRowIdentity(ie,ae.value)===j)),g.value=oe,n.emit("current-change",g.value,null)};return{setCurrentRowKey:y,restoreCurrentRowKey:$,setCurrentRowByKey:L,updateCurrentRow:j=>{const re=g.value;if(j&&j!==re){g.value=j,n.emit("current-change",g.value,re);return}!j&&re&&(g.value=null,n.emit("current-change",null,re))},updateCurrentRowData:()=>{const j=t.rowKey.value,re=t.data.value||[],ae=g.value;if(!re.includes(ae)&&ae){if(j){const oe=getRowIdentity(ae,j);L(oe)}else g.value=null;isNull(g.value)&&n.emit("current-change",null,ae)}else r.value&&(L(r.value),$())},states:{_currentRowKey:r,currentRow:g}}}function useTree$2(t){const n=ref([]),r=ref({}),g=ref(16),y=ref(!1),$=ref({}),L=ref("hasChildren"),V=ref("children"),z=ref(!1),j=getCurrentInstance(),re=computed(()=>{if(!t.rowKey.value)return{};const Ce=t.data.value||[];return oe(Ce)}),ae=computed(()=>{const Ce=t.rowKey.value,xe=Object.keys($.value),Ie={};return xe.length&&xe.forEach($e=>{if($.value[$e].length){const Oe={children:[]};$.value[$e].forEach(Ne=>{const Fe=getRowIdentity(Ne,Ce);Oe.children.push(Fe),Ne[L.value]&&!Ie[Fe]&&(Ie[Fe]={children:[]})}),Ie[$e]=Oe}}),Ie}),oe=Ce=>{const xe=t.rowKey.value,Ie={};return walkTreeNode(Ce,($e,Oe,Ne)=>{const Fe=getRowIdentity($e,xe);isArray$4(Oe)?Ie[Fe]={children:Oe.map(Ve=>getRowIdentity(Ve,xe)),level:Ne}:y.value&&(Ie[Fe]={children:[],lazy:!0,level:Ne})},V.value,L.value),Ie},ie=(Ce=!1,xe=(Ie=>(Ie=j.store)==null?void 0:Ie.states.defaultExpandAll.value)())=>{var Ie;const $e=re.value,Oe=ae.value,Ne=Object.keys($e),Fe={};if(Ne.length){const Ve=unref(r),ze=[],Et=(Ue,qe)=>{if(Ce)return n.value?xe||n.value.includes(qe):!!(xe||Ue!=null&&Ue.expanded);{const Lt=xe||n.value&&n.value.includes(qe);return!!(Ue!=null&&Ue.expanded||Lt)}};Ne.forEach(Ue=>{const qe=Ve[Ue],Lt={...$e[Ue]};if(Lt.expanded=Et(qe,Ue),Lt.lazy){const{loaded:Pt=!1,loading:At=!1}=qe||{};Lt.loaded=!!Pt,Lt.loading=!!At,ze.push(Ue)}Fe[Ue]=Lt});const Dt=Object.keys(Oe);y.value&&Dt.length&&ze.length&&Dt.forEach(Ue=>{const qe=Ve[Ue],Lt=Oe[Ue].children;if(ze.includes(Ue)){if(Fe[Ue].children.length!==0)throw new Error("[ElTable]children must be an empty array.");Fe[Ue].children=Lt}else{const{loaded:Pt=!1,loading:At=!1}=qe||{};Fe[Ue]={lazy:!0,loaded:!!Pt,loading:!!At,expanded:Et(qe,Ue),children:Lt,level:""}}})}r.value=Fe,(Ie=j.store)==null||Ie.updateTableScrollY()};watch(()=>n.value,()=>{ie(!0)}),watch(()=>re.value,()=>{ie()}),watch(()=>ae.value,()=>{ie()});const le=Ce=>{n.value=Ce,ie()},ue=Ce=>y.value&&Ce&&"loaded"in Ce&&!Ce.loaded,de=(Ce,xe)=>{j.store.assertRowKey();const Ie=t.rowKey.value,$e=getRowIdentity(Ce,Ie),Oe=$e&&r.value[$e];if($e&&Oe&&"expanded"in Oe){const Ne=Oe.expanded;xe=isUndefined(xe)?!Oe.expanded:xe,r.value[$e].expanded=xe,Ne!==xe&&j.emit("expand-change",Ce,xe),ue(Oe)&&pe(Ce,$e,Oe),j.store.updateTableScrollY()}},he=Ce=>{j.store.assertRowKey();const xe=t.rowKey.value,Ie=getRowIdentity(Ce,xe),$e=r.value[Ie];ue($e)?pe(Ce,Ie,$e):de(Ce,void 0)},pe=(Ce,xe,Ie)=>{const{load:$e}=j.props;$e&&!r.value[xe].loaded&&(r.value[xe].loading=!0,$e(Ce,Ie,Oe=>{if(!isArray$4(Oe))throw new TypeError("[ElTable] data must be an array");r.value[xe].loading=!1,r.value[xe].loaded=!0,r.value[xe].expanded=!0,Oe.length&&($.value[xe]=Oe),j.emit("expand-change",Ce,!0)}))};return{loadData:pe,loadOrToggle:he,toggleTreeExpansion:de,updateTreeExpandKeys:le,updateTreeData:ie,updateKeyChildren:(Ce,xe)=>{const{lazy:Ie,rowKey:$e}=j.props;if(Ie){if(!$e)throw new Error("[Table] rowKey is required in updateKeyChild");$.value[Ce]&&($.value[Ce]=xe)}},normalize:oe,states:{expandRowKeys:n,treeData:r,indent:g,lazy:y,lazyTreeNodeMap:$,lazyColumnIdentifier:L,childrenColumnName:V,checkStrictly:z}}}const sortData=(t,n)=>{const r=n.sortingColumn;return!r||isString$2(r.sortable)?t:orderBy(t,n.sortProp,n.sortOrder,r.sortMethod,r.sortBy)},doFlattenColumns=t=>{const n=[];return t.forEach(r=>{r.children&&r.children.length>0?n.push.apply(n,doFlattenColumns(r.children)):n.push(r)}),n};function useWatcher$1(){var t;const n=getCurrentInstance(),{size:r}=toRefs((t=n.proxy)==null?void 0:t.$props),g=ref(null),y=ref([]),$=ref([]),L=ref(!1),V=ref([]),z=ref([]),j=ref([]),re=ref([]),ae=ref([]),oe=ref([]),ie=ref([]),le=ref([]),ue=[],de=ref(0),he=ref(0),pe=ref(0),_e=ref(!1),Ce=ref([]),xe=ref(!1),Ie=ref(!1),$e=ref(null),Oe=ref({}),Ne=ref(null),Fe=ref(null),Ve=ref(null),ze=ref(null),Et=ref(null),Dt=computed(()=>g.value?getKeysMap(Ce.value,g.value):void 0);watch(y,()=>{var ir;n.state&&(Pt(!1),n.props.tableLayout==="auto"&&((ir=n.refs.tableHeaderRef)==null||ir.updateFixedColumnStyle()))},{deep:!0});const Ue=()=>{if(!g.value)throw new Error("[ElTable] prop row-key is required")},qe=ir=>{var gr;(gr=ir.children)==null||gr.forEach(Gn=>{Gn.fixed=ir.fixed,qe(Gn)})},Lt=()=>{V.value.forEach(Yn=>{qe(Yn)}),re.value=V.value.filter(Yn=>[!0,"left"].includes(Yn.fixed));const ir=V.value.find(Yn=>Yn.type==="selection");let gr;ir&&ir.fixed!=="right"&&!re.value.includes(ir)&&V.value.indexOf(ir)===0&&re.value.length&&(re.value.unshift(ir),gr=!0),ae.value=V.value.filter(Yn=>Yn.fixed==="right");const Gn=V.value.filter(Yn=>(gr?Yn.type!=="selection":!0)&&!Yn.fixed);z.value=[].concat(re.value).concat(Gn).concat(ae.value);const Qn=doFlattenColumns(Gn),Nn=doFlattenColumns(re.value),Hn=doFlattenColumns(ae.value);de.value=Qn.length,he.value=Nn.length,pe.value=Hn.length,j.value=[].concat(Nn).concat(Qn).concat(Hn),L.value=re.value.length>0||ae.value.length>0},Pt=(ir,gr=!1)=>{ir&&Lt(),gr?n.state.doLayout():n.state.debouncedUpdateLayout()},At=ir=>Dt.value?!!Dt.value[getRowIdentity(ir,g.value)]:Ce.value.includes(ir),vn=()=>{_e.value=!1;const ir=Ce.value;Ce.value=[],ir.length&&n.emit("selection-change",[])},En=()=>{var ir,gr;let Gn;if(g.value){Gn=[];const Qn=(gr=(ir=n==null?void 0:n.store)==null?void 0:ir.states)==null?void 0:gr.childrenColumnName.value,Nn=getKeysMap(y.value,g.value,!0,Qn);for(const Hn in Dt.value)hasOwn$1(Dt.value,Hn)&&!Nn[Hn]&&Gn.push(Dt.value[Hn].row)}else Gn=Ce.value.filter(Qn=>!y.value.includes(Qn));if(Gn.length){const Qn=Ce.value.filter(Nn=>!Gn.includes(Nn));Ce.value=Qn,n.emit("selection-change",Qn.slice())}},Sn=()=>(Ce.value||[]).slice(),kt=(ir,gr,Gn=!0,Qn=!1)=>{var Nn,Hn,Yn,pr;const Cr={children:(Hn=(Nn=n==null?void 0:n.store)==null?void 0:Nn.states)==null?void 0:Hn.childrenColumnName.value,checkStrictly:(pr=(Yn=n==null?void 0:n.store)==null?void 0:Yn.states)==null?void 0:pr.checkStrictly.value};if(toggleRowStatus(Ce.value,ir,gr,Cr,Qn?void 0:$e.value,y.value.indexOf(ir))){const Xn=(Ce.value||[]).slice();Gn&&n.emit("select",Xn,ir),n.emit("selection-change",Xn)}},jt=()=>{var ir,gr;const Gn=Ie.value?!_e.value:!(_e.value||Ce.value.length);_e.value=Gn;let Qn=!1,Nn=0;const Hn=(gr=(ir=n==null?void 0:n.store)==null?void 0:ir.states)==null?void 0:gr.rowKey.value,{childrenColumnName:Yn}=n.store.states,pr={children:Yn.value,checkStrictly:!1};y.value.forEach((Cr,$n)=>{const Xn=$n+Nn;toggleRowStatus(Ce.value,Cr,Gn,pr,$e.value,Xn)&&(Qn=!0),Nn+=hn(getRowIdentity(Cr,Hn))}),Qn&&n.emit("selection-change",Ce.value?Ce.value.slice():[]),n.emit("select-all",(Ce.value||[]).slice())},_n=()=>{y.value.forEach(ir=>{const gr=getRowIdentity(ir,g.value),Gn=Dt.value[gr];Gn&&(Ce.value[Gn.index]=ir)})},wn=()=>{var ir;if(((ir=y.value)==null?void 0:ir.length)===0){_e.value=!1;return}const{childrenColumnName:gr}=n.store.states;let Gn=0,Qn=0;const Nn=Yn=>{var pr;for(const Cr of Yn){const $n=$e.value&&$e.value.call(null,Cr,Gn);if(At(Cr))Qn++;else if(!$e.value||$n)return!1;if(Gn++,(pr=Cr[gr.value])!=null&&pr.length&&!Nn(Cr[gr.value]))return!1}return!0},Hn=Nn(y.value||[]);_e.value=Qn===0?!1:Hn},hn=ir=>{var gr;if(!n||!n.store)return 0;const{treeData:Gn}=n.store.states;let Qn=0;const Nn=(gr=Gn.value[ir])==null?void 0:gr.children;return Nn&&(Qn+=Nn.length,Nn.forEach(Hn=>{Qn+=hn(Hn)})),Qn},Cn=(ir,gr)=>{isArray$4(ir)||(ir=[ir]);const Gn={};return ir.forEach(Qn=>{Oe.value[Qn.id]=gr,Gn[Qn.columnKey||Qn.id]=gr}),Gn},Tn=(ir,gr,Gn)=>{Fe.value&&Fe.value!==ir&&(Fe.value.order=null),Fe.value=ir,Ve.value=gr,ze.value=Gn},xn=()=>{let ir=unref($);Object.keys(Oe.value).forEach(gr=>{const Gn=Oe.value[gr];if(!Gn||Gn.length===0)return;const Qn=getColumnById({columns:j.value},gr);Qn&&Qn.filterMethod&&(ir=ir.filter(Nn=>Gn.some(Hn=>Qn.filterMethod.call(null,Hn,Nn,Qn))))}),Ne.value=ir},Mn=()=>{y.value=sortData(Ne.value,{sortingColumn:Fe.value,sortProp:Ve.value,sortOrder:ze.value})},bn=(ir=void 0)=>{ir&&ir.filter||xn(),Mn()},Pn=ir=>{const{tableHeaderRef:gr}=n.refs;if(!gr)return;const Gn=Object.assign({},gr.filterPanels),Qn=Object.keys(Gn);if(Qn.length)if(isString$2(ir)&&(ir=[ir]),isArray$4(ir)){const Nn=ir.map(Hn=>getColumnByKey({columns:j.value},Hn));Qn.forEach(Hn=>{const Yn=Nn.find(pr=>pr.id===Hn);Yn&&(Yn.filteredValue=[])}),n.store.commit("filterChange",{column:Nn,values:[],silent:!0,multi:!0})}else Qn.forEach(Nn=>{const Hn=j.value.find(Yn=>Yn.id===Nn);Hn&&(Hn.filteredValue=[])}),Oe.value={},n.store.commit("filterChange",{column:{},values:[],silent:!0})},Rn=()=>{Fe.value&&(Tn(null,null,null),n.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:Fn,toggleRowExpansion:Dn,updateExpandRows:Ln,states:kn,isRowExpanded:In}=useExpand({data:y,rowKey:g}),{updateTreeExpandKeys:Vn,toggleTreeExpansion:zn,updateTreeData:Kn,updateKeyChildren:jn,loadOrToggle:Wn,states:Un}=useTree$2({data:y,rowKey:g}),{updateCurrentRowData:nr,updateCurrentRow:sr,setCurrentRowKey:mr,states:vr}=useCurrent({data:y,rowKey:g});return{assertRowKey:Ue,updateColumns:Lt,scheduleLayout:Pt,isSelected:At,clearSelection:vn,cleanSelection:En,getSelectionRows:Sn,toggleRowSelection:kt,_toggleAllSelection:jt,toggleAllSelection:null,updateSelectionByRowKey:_n,updateAllSelected:wn,updateFilters:Cn,updateCurrentRow:sr,updateSort:Tn,execFilter:xn,execSort:Mn,execQuery:bn,clearFilter:Pn,clearSort:Rn,toggleRowExpansion:Dn,setExpandRowKeysAdapter:ir=>{Fn(ir),Vn(ir)},setCurrentRowKey:mr,toggleRowExpansionAdapter:(ir,gr)=>{j.value.some(({type:Qn})=>Qn==="expand")?Dn(ir,gr):zn(ir,gr)},isRowExpanded:In,updateExpandRows:Ln,updateCurrentRowData:nr,loadOrToggle:Wn,updateTreeData:Kn,updateKeyChildren:jn,states:{tableSize:r,rowKey:g,data:y,_data:$,isComplex:L,_columns:V,originColumns:z,columns:j,fixedColumns:re,rightFixedColumns:ae,leafColumns:oe,fixedLeafColumns:ie,rightFixedLeafColumns:le,updateOrderFns:ue,leafColumnsLength:de,fixedLeafColumnsLength:he,rightFixedLeafColumnsLength:pe,isAllSelected:_e,selection:Ce,reserveSelection:xe,selectOnIndeterminate:Ie,selectable:$e,filters:Oe,filteredData:Ne,sortingColumn:Fe,sortProp:Ve,sortOrder:ze,hoverRow:Et,...kn,...Un,...vr}}}function replaceColumn(t,n){return t.map(r=>{var g;return r.id===n.id?n:((g=r.children)!=null&&g.length&&(r.children=replaceColumn(r.children,n)),r)})}function sortColumn(t){t.forEach(n=>{var r,g;n.no=(r=n.getColumnIndex)==null?void 0:r.call(n),(g=n.children)!=null&&g.length&&sortColumn(n.children)}),t.sort((n,r)=>n.no-r.no)}function useStore(){const t=getCurrentInstance(),n=useWatcher$1();return{ns:useNamespace("table"),...n,mutations:{setData(L,V){const z=unref(L._data)!==V;L.data.value=V,L._data.value=V,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),unref(L.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):z?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(L,V,z,j){const re=unref(L._columns);let ae=[];z?(z&&!z.children&&(z.children=[]),z.children.push(V),ae=replaceColumn(re,z)):(re.push(V),ae=re),sortColumn(ae),L._columns.value=ae,L.updateOrderFns.push(j),V.type==="selection"&&(L.selectable.value=V.selectable,L.reserveSelection.value=V.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(L,V){var z;((z=V.getColumnIndex)==null?void 0:z.call(V))!==V.no&&(sortColumn(L._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(L,V,z,j){const re=unref(L._columns)||[];if(z)z.children.splice(z.children.findIndex(oe=>oe.id===V.id),1),nextTick(()=>{var oe;((oe=z.children)==null?void 0:oe.length)===0&&delete z.children}),L._columns.value=replaceColumn(re,z);else{const oe=re.indexOf(V);oe>-1&&(re.splice(oe,1),L._columns.value=re)}const ae=L.updateOrderFns.indexOf(j);ae>-1&&L.updateOrderFns.splice(ae,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(L,V){const{prop:z,order:j,init:re}=V;if(z){const ae=unref(L.columns).find(oe=>oe.property===z);ae&&(ae.order=j,t.store.updateSort(ae,z,j),t.store.commit("changeSortCondition",{init:re}))}},changeSortCondition(L,V){const{sortingColumn:z,sortProp:j,sortOrder:re}=L,ae=unref(z),oe=unref(j),ie=unref(re);isNull(ie)&&(L.sortingColumn.value=null,L.sortProp.value=null);const le={filter:!0};t.store.execQuery(le),(!V||!(V.silent||V.init))&&t.emit("sort-change",{column:ae,prop:oe,order:ie}),t.store.updateTableScrollY()},filterChange(L,V){const{column:z,values:j,silent:re}=V,ae=t.store.updateFilters(z,j);t.store.execQuery(),re||t.emit("filter-change",ae),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(L,V){t.store.toggleRowSelection(V),t.store.updateAllSelected()},setHoverRow(L,V){L.hoverRow.value=V},setCurrentRow(L,V){t.store.updateCurrentRow(V)}},commit:function(L,...V){const z=t.store.mutations;if(z[L])z[L].apply(t,[t.store.states].concat(V));else throw new Error(`Action not found: ${L}`)},updateTableScrollY:function(){nextTick(()=>t.layout.updateScrollY.apply(t.layout))}}}const InitialStateMap={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"},"treeProps.checkStrictly":{key:"checkStrictly",default:!1}};function createStore(t,n){if(!t)throw new Error("Table is required.");const r=useStore();return r.toggleAllSelection=debounce(r._toggleAllSelection,10),Object.keys(InitialStateMap).forEach(g=>{handleValue(getArrKeysValue(n,g),g,r)}),proxyTableProps(r,n),r}function proxyTableProps(t,n){Object.keys(InitialStateMap).forEach(r=>{watch(()=>getArrKeysValue(n,r),g=>{handleValue(g,r,t)})})}function handleValue(t,n,r){let g=t,y=InitialStateMap[n];isObject$5(InitialStateMap[n])&&(y=y.key,g=g||InitialStateMap[n].default),r.states[y].value=g}function getArrKeysValue(t,n){if(n.includes(".")){const r=n.split(".");let g=t;return r.forEach(y=>{g=g[y]}),g}else return t[n]}class TableLayout{constructor(n){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=ref(null),this.scrollX=ref(!1),this.scrollY=ref(!1),this.bodyWidth=ref(null),this.fixedWidth=ref(null),this.rightFixedWidth=ref(null),this.gutterWidth=0;for(const r in n)hasOwn$1(n,r)&&(isRef(this[r])?this[r].value=n[r]:this[r]=n[r]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){const n=this.height.value;if(isNull(n))return!1;const r=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(r!=null&&r.wrapRef)){let g=!0;const y=this.scrollY.value;return g=r.wrapRef.scrollHeight>r.wrapRef.clientHeight,this.scrollY.value=g,y!==g}return!1}setHeight(n,r="height"){if(!isClient)return;const g=this.table.vnode.el;if(n=parseHeight(n),this.height.value=Number(n),!g&&(n||n===0))return nextTick(()=>this.setHeight(n,r));isNumber$1(n)?(g.style[r]=`${n}px`,this.updateElsHeight()):isString$2(n)&&(g.style[r]=n,this.updateElsHeight())}setMaxHeight(n){this.setHeight(n,"max-height")}getFlattenColumns(){const n=[];return this.table.store.states.columns.value.forEach(g=>{g.isColumnGroup?n.push.apply(n,g.columns):n.push(g)}),n}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(n){if(!n)return!0;let r=n;for(;r.tagName!=="DIV";){if(getComputedStyle(r).display==="none")return!0;r=r.parentElement}return!1}updateColumnsWidth(){if(!isClient)return;const n=this.fit,r=this.table.vnode.el.clientWidth;let g=0;const y=this.getFlattenColumns(),$=y.filter(z=>!isNumber$1(z.width));if(y.forEach(z=>{isNumber$1(z.width)&&z.realWidth&&(z.realWidth=null)}),$.length>0&&n){if(y.forEach(z=>{g+=Number(z.width||z.minWidth||80)}),g<=r){this.scrollX.value=!1;const z=r-g;if($.length===1)$[0].realWidth=Number($[0].minWidth||80)+z;else{const j=$.reduce((oe,ie)=>oe+Number(ie.minWidth||80),0),re=z/j;let ae=0;$.forEach((oe,ie)=>{if(ie===0)return;const le=Math.floor(Number(oe.minWidth||80)*re);ae+=le,oe.realWidth=Number(oe.minWidth||80)+le}),$[0].realWidth=Number($[0].minWidth||80)+z-ae}}else this.scrollX.value=!0,$.forEach(z=>{z.realWidth=Number(z.minWidth)});this.bodyWidth.value=Math.max(g,r),this.table.state.resizeState.value.width=this.bodyWidth.value}else y.forEach(z=>{!z.width&&!z.minWidth?z.realWidth=80:z.realWidth=Number(z.width||z.minWidth),g+=z.realWidth}),this.scrollX.value=g>r,this.bodyWidth.value=g;const L=this.store.states.fixedColumns.value;if(L.length>0){let z=0;L.forEach(j=>{z+=Number(j.realWidth||j.width)}),this.fixedWidth.value=z}const V=this.store.states.rightFixedColumns.value;if(V.length>0){let z=0;V.forEach(j=>{z+=Number(j.realWidth||j.width)}),this.rightFixedWidth.value=z}this.notifyObservers("columns")}addObserver(n){this.observers.push(n)}removeObserver(n){const r=this.observers.indexOf(n);r!==-1&&this.observers.splice(r,1)}notifyObservers(n){this.observers.forEach(g=>{var y,$;switch(n){case"columns":(y=g.state)==null||y.onColumnsChange(this);break;case"scrollable":($=g.state)==null||$.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${n}.`)}})}}const{CheckboxGroup:ElCheckboxGroup}=ElCheckbox,_sfc_main$R=defineComponent({name:"ElTableFilterPanel",components:{ElCheckbox,ElCheckboxGroup,ElScrollbar,ElTooltip,ElIcon,ArrowDown:arrow_down_default,ArrowUp:arrow_up_default},directives:{ClickOutside},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function},appendTo:useTooltipContentProps.appendTo},setup(t){const n=getCurrentInstance(),{t:r}=useLocale(),g=useNamespace("table-filter"),y=n==null?void 0:n.parent;y.filterPanels.value[t.column.id]||(y.filterPanels.value[t.column.id]=n);const $=ref(!1),L=ref(null),V=computed(()=>t.column&&t.column.filters),z=computed(()=>t.column.filterClassName?`${g.b()} ${t.column.filterClassName}`:g.b()),j=computed({get:()=>{var xe;return(((xe=t.column)==null?void 0:xe.filteredValue)||[])[0]},set:xe=>{re.value&&(isPropAbsent(xe)?re.value.splice(0,1):re.value.splice(0,1,xe))}}),re=computed({get(){return t.column?t.column.filteredValue||[]:[]},set(xe){t.column&&t.upDataColumn("filteredValue",xe)}}),ae=computed(()=>t.column?t.column.filterMultiple:!0),oe=xe=>xe.value===j.value,ie=()=>{$.value=!1},le=xe=>{xe.stopPropagation(),$.value=!$.value},ue=()=>{$.value=!1},de=()=>{_e(re.value),ie()},he=()=>{re.value=[],_e(re.value),ie()},pe=xe=>{j.value=xe,isPropAbsent(xe)?_e([]):_e(re.value),ie()},_e=xe=>{t.store.commit("filterChange",{column:t.column,values:xe}),t.store.updateAllSelected()};watch($,xe=>{t.column&&t.upDataColumn("filterOpened",xe)},{immediate:!0});const Ce=computed(()=>{var xe,Ie;return(Ie=(xe=L.value)==null?void 0:xe.popperRef)==null?void 0:Ie.contentRef});return{tooltipVisible:$,multiple:ae,filterClassName:z,filteredValue:re,filterValue:j,filters:V,handleConfirm:de,handleReset:he,handleSelect:pe,isPropAbsent,isActive:oe,t:r,ns:g,showFilterPanel:le,hideFilterPanel:ue,popperPaneRef:Ce,tooltip:L}}});function _sfc_render$a(t,n,r,g,y,$){const L=resolveComponent("el-checkbox"),V=resolveComponent("el-checkbox-group"),z=resolveComponent("el-scrollbar"),j=resolveComponent("arrow-up"),re=resolveComponent("arrow-down"),ae=resolveComponent("el-icon"),oe=resolveComponent("el-tooltip"),ie=resolveDirective("click-outside");return openBlock(),createBlock(oe,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:"","append-to":t.appendTo},{content:withCtx(()=>[t.multiple?(openBlock(),createElementBlock("div",{key:0},[createBaseVNode("div",{class:normalizeClass(t.ns.e("content"))},[createVNode$1(z,{"wrap-class":t.ns.e("wrap")},{default:withCtx(()=>[createVNode$1(V,{modelValue:t.filteredValue,"onUpdate:modelValue":le=>t.filteredValue=le,class:normalizeClass(t.ns.e("checkbox-group"))},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filters,le=>(openBlock(),createBlock(L,{key:le.value,value:le.value},{default:withCtx(()=>[createTextVNode(toDisplayString(le.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"])]),_:1},8,["wrap-class"])],2),createBaseVNode("div",{class:normalizeClass(t.ns.e("bottom"))},[createBaseVNode("button",{class:normalizeClass({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:t.handleConfirm},toDisplayString(t.t("el.table.confirmFilter")),11,["disabled","onClick"]),createBaseVNode("button",{type:"button",onClick:t.handleReset},toDisplayString(t.t("el.table.resetFilter")),9,["onClick"])],2)])):(openBlock(),createElementBlock("ul",{key:1,class:normalizeClass(t.ns.e("list"))},[createBaseVNode("li",{class:normalizeClass([t.ns.e("list-item"),{[t.ns.is("active")]:t.isPropAbsent(t.filterValue)}]),onClick:le=>t.handleSelect(null)},toDisplayString(t.t("el.table.clearFilter")),11,["onClick"]),(openBlock(!0),createElementBlock(Fragment,null,renderList(t.filters,le=>(openBlock(),createElementBlock("li",{key:le.value,class:normalizeClass([t.ns.e("list-item"),t.ns.is("active",t.isActive(le))]),label:le.value,onClick:ue=>t.handleSelect(le.value)},toDisplayString(le.text),11,["label","onClick"]))),128))],2))]),default:withCtx(()=>[withDirectives((openBlock(),createElementBlock("span",{class:normalizeClass([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:t.showFilterPanel},[createVNode$1(ae,null,{default:withCtx(()=>[renderSlot(t.$slots,"filter-icon",{},()=>[t.column.filterOpened?(openBlock(),createBlock(j,{key:0})):(openBlock(),createBlock(re,{key:1}))])]),_:3})],10,["onClick"])),[[ie,t.hideFilterPanel,t.popperPaneRef]])]),_:3},8,["visible","placement","popper-class","append-to"])}var FilterPanel=_export_sfc$1(_sfc_main$R,[["render",_sfc_render$a],["__file","filter-panel.vue"]]);function useLayoutObserver(t){const n=getCurrentInstance();onBeforeMount(()=>{r.value.addObserver(n)}),onMounted(()=>{g(r.value),y(r.value)}),onUpdated(()=>{g(r.value),y(r.value)}),onUnmounted(()=>{r.value.removeObserver(n)});const r=computed(()=>{const $=t.layout;if(!$)throw new Error("Can not find table layout.");return $}),g=$=>{var L;const V=((L=t.vnode.el)==null?void 0:L.querySelectorAll("colgroup > col"))||[];if(!V.length)return;const z=$.getFlattenColumns(),j={};z.forEach(re=>{j[re.id]=re});for(let re=0,ae=V.length;re<ae;re++){const oe=V[re],ie=oe.getAttribute("name"),le=j[ie];le&&oe.setAttribute("width",le.realWidth||le.width)}},y=$=>{var L,V;const z=((L=t.vnode.el)==null?void 0:L.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let re=0,ae=z.length;re<ae;re++)z[re].setAttribute("width",$.scrollY.value?$.gutterWidth:"0");const j=((V=t.vnode.el)==null?void 0:V.querySelectorAll("th.gutter"))||[];for(let re=0,ae=j.length;re<ae;re++){const oe=j[re];oe.style.width=$.scrollY.value?`${$.gutterWidth}px`:"0",oe.style.display=$.scrollY.value?"":"none"}};return{tableLayout:r.value,onColumnsChange:g,onScrollableChange:y}}const TABLE_INJECTION_KEY=Symbol("ElTable");function useEvent(t,n){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=ue=>{ue.stopPropagation()},$=(ue,de)=>{!de.filters&&de.sortable?le(ue,de,!1):de.filterable&&!de.sortable&&y(ue),g==null||g.emit("header-click",de,ue)},L=(ue,de)=>{g==null||g.emit("header-contextmenu",de,ue)},V=ref(null),z=ref(!1),j=ref({}),re=(ue,de)=>{if(isClient&&!(de.children&&de.children.length>0)&&V.value&&t.border){z.value=!0;const he=g;n("set-drag-visible",!0);const _e=(he==null?void 0:he.vnode.el).getBoundingClientRect().left,Ce=r.vnode.el.querySelector(`th.${de.id}`),xe=Ce.getBoundingClientRect(),Ie=xe.left-_e+30;addClass(Ce,"noclick"),j.value={startMouseLeft:ue.clientX,startLeft:xe.right-_e,startColumnLeft:xe.left-_e,tableLeft:_e};const $e=he==null?void 0:he.refs.resizeProxy;$e.style.left=`${j.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const Oe=Fe=>{const Ve=Fe.clientX-j.value.startMouseLeft,ze=j.value.startLeft+Ve;$e.style.left=`${Math.max(Ie,ze)}px`},Ne=()=>{if(z.value){const{startColumnLeft:Fe,startLeft:Ve}=j.value,Et=Number.parseInt($e.style.left,10)-Fe;de.width=de.realWidth=Et,he==null||he.emit("header-dragend",de.width,Ve-Fe,de,ue),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",z.value=!1,V.value=null,j.value={},n("set-drag-visible",!1)}document.removeEventListener("mousemove",Oe),document.removeEventListener("mouseup",Ne),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{removeClass(Ce,"noclick")},0)};document.addEventListener("mousemove",Oe),document.addEventListener("mouseup",Ne)}},ae=(ue,de)=>{var he;if(de.children&&de.children.length>0)return;const pe=ue.target;if(!isElement$1(pe))return;const _e=pe==null?void 0:pe.closest("th");if(!(!de||!de.resizable||!_e)&&!z.value&&t.border){const Ce=_e.getBoundingClientRect(),xe=document.body.style,Ie=((he=_e.parentNode)==null?void 0:he.lastElementChild)===_e,$e=t.allowDragLastColumn||!Ie;Ce.width>12&&Ce.right-ue.clientX<8&&$e?(xe.cursor="col-resize",hasClass(_e,"is-sortable")&&(_e.style.cursor="col-resize"),V.value=de):z.value||(xe.cursor="",hasClass(_e,"is-sortable")&&(_e.style.cursor="pointer"),V.value=null)}},oe=()=>{isClient&&(document.body.style.cursor="")},ie=({order:ue,sortOrders:de})=>{if(ue==="")return de[0];const he=de.indexOf(ue||null);return de[he>de.length-2?0:he+1]},le=(ue,de,he)=>{var pe;ue.stopPropagation();const _e=de.order===he?null:he||ie(de),Ce=(pe=ue.target)==null?void 0:pe.closest("th");if(Ce&&hasClass(Ce,"noclick")){removeClass(Ce,"noclick");return}if(!de.sortable)return;const xe=ue.currentTarget;if(["ascending","descending"].some(Fe=>hasClass(xe,Fe)&&!de.sortOrders.includes(Fe)))return;const Ie=t.store.states;let $e=Ie.sortProp.value,Oe;const Ne=Ie.sortingColumn.value;(Ne!==de||Ne===de&&isNull(Ne.order))&&(Ne&&(Ne.order=null),Ie.sortingColumn.value=de,$e=de.property),_e?Oe=de.order=_e:Oe=de.order=null,Ie.sortProp.value=$e,Ie.sortOrder.value=Oe,g==null||g.store.commit("changeSortCondition")};return{handleHeaderClick:$,handleHeaderContextMenu:L,handleMouseDown:re,handleMouseMove:ae,handleMouseOut:oe,handleSortClick:le,handleFilterClick:y}}function useStyle$2(t){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getHeaderRowStyle:V=>{const z=n==null?void 0:n.props.headerRowStyle;return isFunction$3(z)?z.call(null,{rowIndex:V}):z},getHeaderRowClass:V=>{const z=[],j=n==null?void 0:n.props.headerRowClassName;return isString$2(j)?z.push(j):isFunction$3(j)&&z.push(j.call(null,{rowIndex:V})),z.join(" ")},getHeaderCellStyle:(V,z,j,re)=>{var ae;let oe=(ae=n==null?void 0:n.props.headerCellStyle)!=null?ae:{};isFunction$3(oe)&&(oe=oe.call(null,{rowIndex:V,columnIndex:z,row:j,column:re}));const ie=getFixedColumnOffset(z,re.fixed,t.store,j);return ensurePosition(ie,"left"),ensurePosition(ie,"right"),Object.assign({},oe,ie)},getHeaderCellClass:(V,z,j,re)=>{const ae=getFixedColumnsClass(r.b(),z,re.fixed,t.store,j),oe=[re.id,re.order,re.headerAlign,re.className,re.labelClassName,...ae];re.children||oe.push("is-leaf"),re.sortable&&oe.push("is-sortable");const ie=n==null?void 0:n.props.headerCellClassName;return isString$2(ie)?oe.push(ie):isFunction$3(ie)&&oe.push(ie.call(null,{rowIndex:V,columnIndex:z,row:j,column:re})),oe.push(r.e("cell")),oe.filter(le=>!!le).join(" ")}}}const getAllColumns=t=>{const n=[];return t.forEach(r=>{r.children?(n.push(r),n.push.apply(n,getAllColumns(r.children))):n.push(r)}),n},convertToRows=t=>{let n=1;const r=($,L)=>{if(L&&($.level=L.level+1,n<$.level&&(n=$.level)),$.children){let V=0;$.children.forEach(z=>{r(z,$),V+=z.colSpan}),$.colSpan=V}else $.colSpan=1};t.forEach($=>{$.level=1,r($,void 0)});const g=[];for(let $=0;$<n;$++)g.push([]);return getAllColumns(t).forEach($=>{$.children?($.rowSpan=1,$.children.forEach(L=>L.isSubColumn=!0)):$.rowSpan=n-$.level+1,g[$.level-1].push($)}),g};function useUtils$1(t){const n=inject(TABLE_INJECTION_KEY),r=computed(()=>convertToRows(t.store.states.originColumns.value));return{isGroup:computed(()=>{const $=r.value.length>1;return $&&n&&(n.state.isGroup.value=!0),$}),toggleAllSelection:$=>{$.stopPropagation(),n==null||n.store.commit("toggleAllSelection")},columnRows:r}}var TableHeader=defineComponent({name:"ElTableHeader",components:{ElCheckbox},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})},appendFilterPanelTo:{type:String},allowDragLastColumn:{type:Boolean}},setup(t,{emit:n}){const r=getCurrentInstance(),g=inject(TABLE_INJECTION_KEY),y=useNamespace("table"),$=ref({}),{onColumnsChange:L,onScrollableChange:V}=useLayoutObserver(g),z=(g==null?void 0:g.props.tableLayout)==="auto",j=reactive(new Map),re=ref(),ae=()=>{setTimeout(()=>{j.size>0&&(j.forEach((Fe,Ve)=>{const ze=re.value.querySelector(`.${Ve.replace(/\s/g,".")}`);if(ze){const Et=ze.getBoundingClientRect().width;Fe.width=Et}}),j.clear())})};watch(j,ae),onMounted(async()=>{await nextTick(),await nextTick();const{prop:Fe,order:Ve}=t.defaultSort;g==null||g.store.commit("sort",{prop:Fe,order:Ve,init:!0}),ae()});const{handleHeaderClick:oe,handleHeaderContextMenu:ie,handleMouseDown:le,handleMouseMove:ue,handleMouseOut:de,handleSortClick:he,handleFilterClick:pe}=useEvent(t,n),{getHeaderRowStyle:_e,getHeaderRowClass:Ce,getHeaderCellStyle:xe,getHeaderCellClass:Ie}=useStyle$2(t),{isGroup:$e,toggleAllSelection:Oe,columnRows:Ne}=useUtils$1(t);return r.state={onColumnsChange:L,onScrollableChange:V},r.filterPanels=$,{ns:y,filterPanels:$,onColumnsChange:L,onScrollableChange:V,columnRows:Ne,getHeaderRowClass:Ce,getHeaderRowStyle:_e,getHeaderCellClass:Ie,getHeaderCellStyle:xe,handleHeaderClick:oe,handleHeaderContextMenu:ie,handleMouseDown:le,handleMouseMove:ue,handleMouseOut:de,handleSortClick:he,handleFilterClick:pe,isGroup:$e,toggleAllSelection:Oe,saveIndexSelection:j,isTableLayoutAuto:z,theadRef:re,updateFixedColumnStyle:ae}},render(){const{ns:t,isGroup:n,columnRows:r,getHeaderCellStyle:g,getHeaderCellClass:y,getHeaderRowClass:$,getHeaderRowStyle:L,handleHeaderClick:V,handleHeaderContextMenu:z,handleMouseDown:j,handleMouseMove:re,handleSortClick:ae,handleMouseOut:oe,store:ie,$parent:le,saveIndexSelection:ue,isTableLayoutAuto:de}=this;let he=1;return h$1("thead",{ref:"theadRef",class:{[t.is("group")]:n}},r.map((pe,_e)=>h$1("tr",{class:$(_e),key:_e,style:L(_e)},pe.map((Ce,xe)=>{Ce.rowSpan>he&&(he=Ce.rowSpan);const Ie=y(_e,xe,pe,Ce);return de&&Ce.fixed&&ue.set(Ie,Ce),h$1("th",{class:Ie,colspan:Ce.colSpan,key:`${Ce.id}-thead`,rowspan:Ce.rowSpan,style:g(_e,xe,pe,Ce),onClick:$e=>{$e.currentTarget.classList.contains("noclick")||V($e,Ce)},onContextmenu:$e=>z($e,Ce),onMousedown:$e=>j($e,Ce),onMousemove:$e=>re($e,Ce),onMouseout:oe},[h$1("div",{class:["cell",Ce.filteredValue&&Ce.filteredValue.length>0?"highlight":""]},[Ce.renderHeader?Ce.renderHeader({column:Ce,$index:xe,store:ie,_self:le}):Ce.label,Ce.sortable&&h$1("span",{onClick:$e=>ae($e,Ce),class:"caret-wrapper"},[h$1("i",{onClick:$e=>ae($e,Ce,"ascending"),class:"sort-caret ascending"}),h$1("i",{onClick:$e=>ae($e,Ce,"descending"),class:"sort-caret descending"})]),Ce.filterable&&h$1(FilterPanel,{store:ie,placement:Ce.filterPlacement||"bottom-start",appendTo:le.appendFilterPanelTo,column:Ce,upDataColumn:($e,Oe)=>{Ce[$e]=Oe}},{"filter-icon":()=>Ce.renderFilterIcon?Ce.renderFilterIcon({filterOpened:Ce.filterOpened}):null})])])}))))}});function isGreaterThan(t,n,r=.03){return t-n>r}function useEvents(t){const n=inject(TABLE_INJECTION_KEY),r=ref(""),g=ref(h$1("div")),y=(le,ue,de)=>{var he;const pe=n,_e=getCell(le);let Ce;const xe=(he=pe==null?void 0:pe.vnode.el)==null?void 0:he.dataset.prefix;_e&&(Ce=getColumnByCell({columns:t.store.states.columns.value},_e,xe),Ce&&(pe==null||pe.emit(`cell-${de}`,ue,Ce,_e,le))),pe==null||pe.emit(`row-${de}`,ue,Ce,le)},$=(le,ue)=>{y(le,ue,"dblclick")},L=(le,ue)=>{t.store.commit("setCurrentRow",ue),y(le,ue,"click")},V=(le,ue)=>{y(le,ue,"contextmenu")},z=debounce(le=>{t.store.commit("setHoverRow",le)},30),j=debounce(()=>{t.store.commit("setHoverRow",null)},30),re=le=>{const ue=window.getComputedStyle(le,null),de=Number.parseInt(ue.paddingLeft,10)||0,he=Number.parseInt(ue.paddingRight,10)||0,pe=Number.parseInt(ue.paddingTop,10)||0,_e=Number.parseInt(ue.paddingBottom,10)||0;return{left:de,right:he,top:pe,bottom:_e}},ae=(le,ue,de)=>{let he=ue.target.parentNode;for(;le>1&&(he=he==null?void 0:he.nextSibling,!(!he||he.nodeName!=="TR"));)de(he,"hover-row hover-fixed-row"),le--};return{handleDoubleClick:$,handleClick:L,handleContextMenu:V,handleMouseEnter:z,handleMouseLeave:j,handleCellMouseEnter:(le,ue,de)=>{var he,pe,_e;const Ce=n,xe=getCell(le),Ie=(he=Ce==null?void 0:Ce.vnode.el)==null?void 0:he.dataset.prefix;let $e;if(xe){$e=getColumnByCell({columns:t.store.states.columns.value},xe,Ie),xe.rowSpan>1&&ae(xe.rowSpan,le,addClass);const vn=Ce.hoverState={cell:xe,column:$e,row:ue};Ce==null||Ce.emit("cell-mouse-enter",vn.row,vn.column,vn.cell,le)}if(!de)return;const Oe=le.target.querySelector(".cell");if(!(hasClass(Oe,`${Ie}-tooltip`)&&Oe.childNodes.length))return;const Ne=document.createRange();Ne.setStart(Oe,0),Ne.setEnd(Oe,Oe.childNodes.length);const{width:Fe,height:Ve}=Ne.getBoundingClientRect(),{width:ze,height:Et}=Oe.getBoundingClientRect(),{top:Dt,left:Ue,right:qe,bottom:Lt}=re(Oe),Pt=Ue+qe,At=Dt+Lt;isGreaterThan(Fe+Pt,ze)||isGreaterThan(Ve+At,Et)||isGreaterThan(Oe.scrollWidth,ze)?createTablePopper(de,xe.innerText||xe.textContent,ue,$e,xe,Ce):((pe=removePopper)==null?void 0:pe.trigger)===xe&&((_e=removePopper)==null||_e())},handleCellMouseLeave:le=>{const ue=getCell(le);if(!ue)return;ue.rowSpan>1&&ae(ue.rowSpan,le,removeClass);const de=n==null?void 0:n.hoverState;n==null||n.emit("cell-mouse-leave",de==null?void 0:de.row,de==null?void 0:de.column,de==null?void 0:de.cell,le)},tooltipContent:r,tooltipTrigger:g}}function useStyles$1(t){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table");return{getRowStyle:(j,re)=>{const ae=n==null?void 0:n.props.rowStyle;return isFunction$3(ae)?ae.call(null,{row:j,rowIndex:re}):ae||null},getRowClass:(j,re)=>{const ae=[r.e("row")];n!=null&&n.props.highlightCurrentRow&&j===t.store.states.currentRow.value&&ae.push("current-row"),t.stripe&&re%2===1&&ae.push(r.em("row","striped"));const oe=n==null?void 0:n.props.rowClassName;return isString$2(oe)?ae.push(oe):isFunction$3(oe)&&ae.push(oe.call(null,{row:j,rowIndex:re})),ae},getCellStyle:(j,re,ae,oe)=>{const ie=n==null?void 0:n.props.cellStyle;let le=ie??{};isFunction$3(ie)&&(le=ie.call(null,{rowIndex:j,columnIndex:re,row:ae,column:oe}));const ue=getFixedColumnOffset(re,t==null?void 0:t.fixed,t.store);return ensurePosition(ue,"left"),ensurePosition(ue,"right"),Object.assign({},le,ue)},getCellClass:(j,re,ae,oe,ie)=>{const le=getFixedColumnsClass(r.b(),re,t==null?void 0:t.fixed,t.store,void 0,ie),ue=[oe.id,oe.align,oe.className,...le],de=n==null?void 0:n.props.cellClassName;return isString$2(de)?ue.push(de):isFunction$3(de)&&ue.push(de.call(null,{rowIndex:j,columnIndex:re,row:ae,column:oe})),ue.push(r.e("cell")),ue.filter(he=>!!he).join(" ")},getSpan:(j,re,ae,oe)=>{let ie=1,le=1;const ue=n==null?void 0:n.props.spanMethod;if(isFunction$3(ue)){const de=ue({row:j,column:re,rowIndex:ae,columnIndex:oe});isArray$4(de)?(ie=de[0],le=de[1]):isObject$5(de)&&(ie=de.rowspan,le=de.colspan)}return{rowspan:ie,colspan:le}},getColspanRealWidth:(j,re,ae)=>{if(re<1)return j[ae].realWidth;const oe=j.map(({realWidth:ie,width:le})=>ie||le).slice(ae,ae+re);return Number(oe.reduce((ie,le)=>Number(ie)+Number(le),-1))}}}const __default__$y=defineComponent({name:"TableTdWrapper"}),_sfc_main$Q=defineComponent({...__default__$y,props:{colspan:{type:Number,default:1},rowspan:{type:Number,default:1}},setup(t){return(n,r)=>(openBlock(),createElementBlock("td",{colspan:t.colspan,rowspan:t.rowspan},[renderSlot(n.$slots,"default")],8,["colspan","rowspan"]))}});var TdWrapper=_export_sfc$1(_sfc_main$Q,[["__file","td-wrapper.vue"]]);function useRender$1(t){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{handleDoubleClick:g,handleClick:y,handleContextMenu:$,handleMouseEnter:L,handleMouseLeave:V,handleCellMouseEnter:z,handleCellMouseLeave:j,tooltipContent:re,tooltipTrigger:ae}=useEvents(t),{getRowStyle:oe,getRowClass:ie,getCellStyle:le,getCellClass:ue,getSpan:de,getColspanRealWidth:he}=useStyles$1(t),pe=computed(()=>t.store.states.columns.value.findIndex(({type:$e})=>$e==="default")),_e=($e,Oe)=>{const Ne=n.props.rowKey;return Ne?getRowIdentity($e,Ne):Oe},Ce=($e,Oe,Ne,Fe=!1)=>{const{tooltipEffect:Ve,tooltipOptions:ze,store:Et}=t,{indent:Dt,columns:Ue}=Et.states,qe=ie($e,Oe);let Lt=!0;return Ne&&(qe.push(r.em("row",`level-${Ne.level}`)),Lt=Ne.display),h$1("tr",{style:[Lt?null:{display:"none"},oe($e,Oe)],class:qe,key:_e($e,Oe),onDblclick:At=>g(At,$e),onClick:At=>y(At,$e),onContextmenu:At=>$(At,$e),onMouseenter:()=>L(Oe),onMouseleave:V},Ue.value.map((At,vn)=>{const{rowspan:En,colspan:Sn}=de($e,At,Oe,vn);if(!En||!Sn)return null;const kt=Object.assign({},At);kt.realWidth=he(Ue.value,Sn,vn);const jt={store:t.store,_self:t.context||n,column:kt,row:$e,$index:Oe,cellIndex:vn,expanded:Fe};vn===pe.value&&Ne&&(jt.treeNode={indent:Ne.level*Dt.value,level:Ne.level},isBoolean(Ne.expanded)&&(jt.treeNode.expanded=Ne.expanded,"loading"in Ne&&(jt.treeNode.loading=Ne.loading),"noLazyChildren"in Ne&&(jt.treeNode.noLazyChildren=Ne.noLazyChildren)));const _n=`${_e($e,Oe)},${vn}`,wn=kt.columnKey||kt.rawColumnKey||"",hn=At.showOverflowTooltip&&merge$1({effect:Ve},ze,At.showOverflowTooltip);return h$1(TdWrapper,{style:le(Oe,vn,$e,At),class:ue(Oe,vn,$e,At,Sn-1),key:`${wn}${_n}`,rowspan:En,colspan:Sn,onMouseenter:Cn=>z(Cn,$e,hn),onMouseleave:j},{default:()=>xe(vn,At,jt)})}))},xe=($e,Oe,Ne)=>Oe.renderCell(Ne);return{wrappedRowRender:($e,Oe)=>{const Ne=t.store,{isRowExpanded:Fe,assertRowKey:Ve}=Ne,{treeData:ze,lazyTreeNodeMap:Et,childrenColumnName:Dt,rowKey:Ue}=Ne.states,qe=Ne.states.columns.value;if(qe.some(({type:Pt})=>Pt==="expand")){const Pt=Fe($e),At=Ce($e,Oe,void 0,Pt),vn=n.renderExpanded;if(!vn)return console.error("[Element Error]renderExpanded is required."),At;const En=[[At]];return(n.props.preserveExpandedContent||Pt)&&En[0].push(h$1("tr",{key:`expanded-row__${At.key}`,style:{display:Pt?"":"none"}},[h$1("td",{colspan:qe.length,class:`${r.e("cell")} ${r.e("expanded-cell")}`},[vn({row:$e,$index:Oe,store:Ne,expanded:Pt})])])),En}else if(Object.keys(ze.value).length){Ve();const Pt=getRowIdentity($e,Ue.value);let At=ze.value[Pt],vn=null;At&&(vn={expanded:At.expanded,level:At.level,display:!0},isBoolean(At.lazy)&&(isBoolean(At.loaded)&&At.loaded&&(vn.noLazyChildren=!(At.children&&At.children.length)),vn.loading=At.loading));const En=[Ce($e,Oe,vn)];if(At){let Sn=0;const kt=(_n,wn)=>{_n&&_n.length&&wn&&_n.forEach(hn=>{const Cn={display:wn.display&&wn.expanded,level:wn.level+1,expanded:!1,noLazyChildren:!1,loading:!1},Tn=getRowIdentity(hn,Ue.value);if(isPropAbsent(Tn))throw new Error("For nested data item, row-key is required.");if(At={...ze.value[Tn]},At&&(Cn.expanded=At.expanded,At.level=At.level||Cn.level,At.display=!!(At.expanded&&Cn.display),isBoolean(At.lazy)&&(isBoolean(At.loaded)&&At.loaded&&(Cn.noLazyChildren=!(At.children&&At.children.length)),Cn.loading=At.loading)),Sn++,En.push(Ce(hn,Oe+Sn,Cn)),At){const xn=Et.value[Tn]||hn[Dt.value];kt(xn,At)}})};At.display=!0;const jt=Et.value[Pt]||$e[Dt.value];kt(jt,At)}return En}else return Ce($e,Oe,void 0)},tooltipContent:re,tooltipTrigger:ae}}const defaultProps$3={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var TableBody=defineComponent({name:"ElTableBody",props:defaultProps$3,setup(t){const n=getCurrentInstance(),r=inject(TABLE_INJECTION_KEY),g=useNamespace("table"),{wrappedRowRender:y,tooltipContent:$,tooltipTrigger:L}=useRender$1(t),{onColumnsChange:V,onScrollableChange:z}=useLayoutObserver(r),j=[];return watch(t.store.states.hoverRow,(re,ae)=>{var oe;const ie=n==null?void 0:n.vnode.el,le=Array.from((ie==null?void 0:ie.children)||[]).filter(he=>he==null?void 0:he.classList.contains(`${g.e("row")}`));let ue=re;const de=(oe=le[ue])==null?void 0:oe.childNodes;if(de!=null&&de.length){let he=0;Array.from(de).reduce((_e,Ce,xe)=>{var Ie,$e;return((Ie=de[xe])==null?void 0:Ie.colSpan)>1&&(he=($e=de[xe])==null?void 0:$e.colSpan),Ce.nodeName!=="TD"&&he===0&&_e.push(xe),he>0&&he--,_e},[]).forEach(_e=>{var Ce;for(ue=re;ue>0;){const xe=(Ce=le[ue-1])==null?void 0:Ce.childNodes;if(xe[_e]&&xe[_e].nodeName==="TD"&&xe[_e].rowSpan>1){addClass(xe[_e],"hover-cell"),j.push(xe[_e]);break}ue--}})}else j.forEach(he=>removeClass(he,"hover-cell")),j.length=0;!t.store.states.isComplex.value||!isClient||rAF(()=>{const he=le[ae],pe=le[re];he&&!he.classList.contains("hover-fixed-row")&&removeClass(he,"hover-row"),pe&&addClass(pe,"hover-row")})}),onUnmounted(()=>{var re;(re=removePopper)==null||re()}),{ns:g,onColumnsChange:V,onScrollableChange:z,wrappedRowRender:y,tooltipContent:$,tooltipTrigger:L}},render(){const{wrappedRowRender:t,store:n}=this,r=n.states.data.value||[];return h$1("tbody",{tabIndex:-1},[r.reduce((g,y)=>g.concat(t(y,g.length)),[])])}});function useMapState(){var t;const n=inject(TABLE_INJECTION_KEY),r=n==null?void 0:n.store,g=computed(()=>{var z;return(z=r==null?void 0:r.states.fixedLeafColumnsLength.value)!=null?z:0}),y=computed(()=>{var z;return(z=r==null?void 0:r.states.rightFixedColumns.value.length)!=null?z:0}),$=computed(()=>{var z;return(z=r==null?void 0:r.states.columns.value.length)!=null?z:0}),L=computed(()=>{var z;return(z=r==null?void 0:r.states.fixedColumns.value.length)!=null?z:0}),V=computed(()=>{var z;return(z=r==null?void 0:r.states.rightFixedColumns.value.length)!=null?z:0});return{leftFixedLeafCount:g,rightFixedLeafCount:y,columnsCount:$,leftFixedCount:L,rightFixedCount:V,columns:(t=r==null?void 0:r.states.columns)!=null?t:[]}}function useStyle$1(t){const{columns:n}=useMapState(),r=useNamespace("table");return{getCellClasses:($,L)=>{const V=$[L],z=[r.e("cell"),V.id,V.align,V.labelClassName,...getFixedColumnsClass(r.b(),L,V.fixed,t.store)];return V.className&&z.push(V.className),V.children||z.push(r.is("leaf")),z},getCellStyles:($,L)=>{const V=getFixedColumnOffset(L,$.fixed,t.store);return ensurePosition(V,"left"),ensurePosition(V,"right"),V},columns:n}}var TableFooter=defineComponent({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const n=inject(TABLE_INJECTION_KEY),r=useNamespace("table"),{getCellClasses:g,getCellStyles:y,columns:$}=useStyle$1(t),{onScrollableChange:L,onColumnsChange:V}=useLayoutObserver(n);return{ns:r,onScrollableChange:L,onColumnsChange:V,getCellClasses:g,getCellStyles:y,columns:$}},render(){const{columns:t,getCellStyles:n,getCellClasses:r,summaryMethod:g,sumText:y}=this,$=this.store.states.data.value;let L=[];return g?L=g({columns:t,data:$}):t.forEach((V,z)=>{if(z===0){L[z]=y;return}const j=$.map(ie=>Number(ie[V.property])),re=[];let ae=!0;j.forEach(ie=>{if(!Number.isNaN(+ie)){ae=!1;const le=`${ie}`.split(".")[1];re.push(le?le.length:0)}});const oe=Math.max.apply(null,re);ae?L[z]="":L[z]=j.reduce((ie,le)=>{const ue=Number(le);return Number.isNaN(+ue)?ie:Number.parseFloat((ie+le).toFixed(Math.min(oe,20)))},0)}),h$1(h$1("tfoot",[h$1("tr",{},[...t.map((V,z)=>h$1("td",{key:z,colspan:V.colSpan,rowspan:V.rowSpan,class:r(t,z),style:n(V,z)},[h$1("div",{class:["cell",V.labelClassName]},[L[z]])]))])]))}});function useUtils(t){return{setCurrentRow:ae=>{t.commit("setCurrentRow",ae)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(ae,oe,ie=!0)=>{t.toggleRowSelection(ae,oe,!1,ie),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:ae=>{t.clearFilter(ae)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(ae,oe)=>{t.toggleRowExpansionAdapter(ae,oe)},clearSort:()=>{t.clearSort()},sort:(ae,oe)=>{t.commit("sort",{prop:ae,order:oe})},updateKeyChildren:(ae,oe)=>{t.updateKeyChildren(ae,oe)}}}function useStyle(t,n,r,g){const y=ref(!1),$=ref(null),L=ref(!1),V=Pt=>{L.value=Pt},z=ref({width:null,height:null,headerHeight:null}),j=ref(!1),re={display:"inline-block",verticalAlign:"middle"},ae=ref(),oe=ref(0),ie=ref(0),le=ref(0),ue=ref(0),de=ref(0);watchEffect(()=>{n.setHeight(t.height)}),watchEffect(()=>{n.setMaxHeight(t.maxHeight)}),watch(()=>[t.currentRowKey,r.states.rowKey],([Pt,At])=>{!unref(At)||!unref(Pt)||r.setCurrentRowKey(`${Pt}`)},{immediate:!0}),watch(()=>t.data,Pt=>{g.store.commit("setData",Pt)},{immediate:!0,deep:!0}),watchEffect(()=>{t.expandRowKeys&&r.setExpandRowKeysAdapter(t.expandRowKeys)});const he=()=>{g.store.commit("setHoverRow",null),g.hoverState&&(g.hoverState=null)},pe=(Pt,At)=>{const{pixelX:vn,pixelY:En}=At;Math.abs(vn)>=Math.abs(En)&&(g.refs.bodyWrapper.scrollLeft+=At.pixelX/5)},_e=computed(()=>t.height||t.maxHeight||r.states.fixedColumns.value.length>0||r.states.rightFixedColumns.value.length>0),Ce=computed(()=>({width:n.bodyWidth.value?`${n.bodyWidth.value}px`:""})),xe=()=>{_e.value&&n.updateElsHeight(),n.updateColumnsWidth(),!(typeof window>"u")&&requestAnimationFrame(Ne)};onMounted(async()=>{await nextTick(),r.updateColumns(),Fe(),requestAnimationFrame(xe);const Pt=g.vnode.el,At=g.refs.headerWrapper;t.flexible&&Pt&&Pt.parentElement&&(Pt.parentElement.style.minWidth="0"),z.value={width:ae.value=Pt.offsetWidth,height:Pt.offsetHeight,headerHeight:t.showHeader&&At?At.offsetHeight:null},r.states.columns.value.forEach(vn=>{vn.filteredValue&&vn.filteredValue.length&&g.store.commit("filterChange",{column:vn,values:vn.filteredValue,silent:!0})}),g.$ready=!0});const Ie=(Pt,At)=>{if(!Pt)return;const vn=Array.from(Pt.classList).filter(En=>!En.startsWith("is-scrolling-"));vn.push(n.scrollX.value?At:"is-scrolling-none"),Pt.className=vn.join(" ")},$e=Pt=>{const{tableWrapper:At}=g.refs;Ie(At,Pt)},Oe=Pt=>{const{tableWrapper:At}=g.refs;return!!(At&&At.classList.contains(Pt))},Ne=function(){if(!g.refs.scrollBarRef)return;if(!n.scrollX.value){const _n="is-scrolling-none";Oe(_n)||$e(_n);return}const Pt=g.refs.scrollBarRef.wrapRef;if(!Pt)return;const{scrollLeft:At,offsetWidth:vn,scrollWidth:En}=Pt,{headerWrapper:Sn,footerWrapper:kt}=g.refs;Sn&&(Sn.scrollLeft=At),kt&&(kt.scrollLeft=At);const jt=En-vn-1;At>=jt?$e("is-scrolling-right"):$e(At===0?"is-scrolling-left":"is-scrolling-middle")},Fe=()=>{g.refs.scrollBarRef&&(g.refs.scrollBarRef.wrapRef&&useEventListener(g.refs.scrollBarRef.wrapRef,"scroll",Ne,{passive:!0}),t.fit?useResizeObserver(g.vnode.el,Ve):useEventListener(window,"resize",Ve),useResizeObserver(g.refs.bodyWrapper,()=>{var Pt,At;Ve(),(At=(Pt=g.refs)==null?void 0:Pt.scrollBarRef)==null||At.update()}))},Ve=()=>{var Pt,At,vn,En;const Sn=g.vnode.el;if(!g.$ready||!Sn)return;let kt=!1;const{width:jt,height:_n,headerHeight:wn}=z.value,hn=ae.value=Sn.offsetWidth;jt!==hn&&(kt=!0);const Cn=Sn.offsetHeight;(t.height||_e.value)&&_n!==Cn&&(kt=!0);const Tn=t.tableLayout==="fixed"?g.refs.headerWrapper:(Pt=g.refs.tableHeaderRef)==null?void 0:Pt.$el;t.showHeader&&(Tn==null?void 0:Tn.offsetHeight)!==wn&&(kt=!0),oe.value=((At=g.refs.tableWrapper)==null?void 0:At.scrollHeight)||0,le.value=(Tn==null?void 0:Tn.scrollHeight)||0,ue.value=((vn=g.refs.footerWrapper)==null?void 0:vn.offsetHeight)||0,de.value=((En=g.refs.appendWrapper)==null?void 0:En.offsetHeight)||0,ie.value=oe.value-le.value-ue.value-de.value,kt&&(z.value={width:hn,height:Cn,headerHeight:t.showHeader&&(Tn==null?void 0:Tn.offsetHeight)||0},xe())},ze=useFormSize(),Et=computed(()=>{const{bodyWidth:Pt,scrollY:At,gutterWidth:vn}=n;return Pt.value?`${Pt.value-(At.value?vn:0)}px`:""}),Dt=computed(()=>t.maxHeight?"fixed":t.tableLayout),Ue=computed(()=>{if(t.data&&t.data.length)return null;let Pt="100%";t.height&&ie.value&&(Pt=`${ie.value}px`);const At=ae.value;return{width:At?`${At}px`:"",height:Pt}}),qe=computed(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${le.value+ue.value}px)`}:{maxHeight:`${t.maxHeight-le.value-ue.value}px`}:{});return{isHidden:y,renderExpanded:$,setDragVisible:V,isGroup:j,handleMouseLeave:he,handleHeaderFooterMousewheel:pe,tableSize:ze,emptyBlockStyle:Ue,handleFixedMousewheel:(Pt,At)=>{const vn=g.refs.bodyWrapper;if(Math.abs(At.spinY)>0){const En=vn.scrollTop;At.pixelY<0&&En!==0&&Pt.preventDefault(),At.pixelY>0&&vn.scrollHeight-vn.clientHeight>En&&Pt.preventDefault(),vn.scrollTop+=Math.ceil(At.pixelY/5)}else vn.scrollLeft+=Math.ceil(At.pixelX/5)},resizeProxyVisible:L,bodyWidth:Et,resizeState:z,doLayout:xe,tableBodyStyles:Ce,tableLayout:Dt,scrollbarViewStyle:re,scrollbarStyle:qe}}function useKeyRender(t){const n=ref(),r=()=>{const y=t.vnode.el.querySelector(".hidden-columns"),$={childList:!0,subtree:!0},L=t.store.states.updateOrderFns;n.value=new MutationObserver(()=>{L.forEach(V=>V())}),n.value.observe(y,$)};onMounted(()=>{r()}),onUnmounted(()=>{var g;(g=n.value)==null||g.disconnect()})}var defaultProps$2={data:{type:Array,default:()=>[]},size:useSizeProp,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],tooltipFormatter:Function,appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0},allowDragLastColumn:{type:Boolean,default:!0},preserveExpandedContent:{type:Boolean,default:!1}};function hColgroup(t){const n=t.tableLayout==="auto";let r=t.columns||[];n&&r.every(({width:y})=>isUndefined(y))&&(r=[]);const g=y=>{const $={key:`${t.tableLayout}_${y.id}`,style:{},name:void 0};return n?$.style={width:`${y.width}px`}:$.name=y.id,$};return h$1("colgroup",{},r.map(y=>h$1("col",g(y))))}hColgroup.props=["columns","tableLayout"];const useScrollbar$1=()=>{const t=ref(),n=($,L)=>{const V=t.value;V&&V.scrollTo($,L)},r=($,L)=>{const V=t.value;V&&isNumber$1(L)&&["Top","Left"].includes($)&&V[`setScroll${$}`](L)};return{scrollBarRef:t,scrollTo:n,setScrollTop:$=>r("Top",$),setScrollLeft:$=>r("Left",$)}};var v=!1,o,f,s,u,d,N,l,p,m$1,w,D,x,E,M,F;function a(){if(!v){v=!0;var t=navigator.userAgent,n=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),r=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(x=/\b(iPhone|iP[ao]d)/.exec(t),E=/\b(iP[ao]d)/.exec(t),w=/Android/i.exec(t),M=/FBAN\/\w+;/i.exec(t),F=/Mobile/i.exec(t),D=!!/Win64/.exec(t),n){o=n[1]?parseFloat(n[1]):n[5]?parseFloat(n[5]):NaN,o&&document&&document.documentMode&&(o=document.documentMode);var g=/(?:Trident\/(\d+.\d+))/.exec(t);N=g?parseFloat(g[1])+4:o,f=n[2]?parseFloat(n[2]):NaN,s=n[3]?parseFloat(n[3]):NaN,u=n[4]?parseFloat(n[4]):NaN,u?(n=/(?:Chrome\/(\d+\.\d+))/.exec(t),d=n&&n[1]?parseFloat(n[1]):NaN):d=NaN}else o=f=s=d=u=NaN;if(r){if(r[1]){var y=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);l=y?parseFloat(y[1].replace("_",".")):!0}else l=!1;p=!!r[2],m$1=!!r[3]}else l=p=m$1=!1}}var _={ie:function(){return a()||o},ieCompatibilityMode:function(){return a()||N>o},ie64:function(){return _.ie()&&D},firefox:function(){return a()||f},opera:function(){return a()||s},webkit:function(){return a()||u},safari:function(){return _.webkit()},chrome:function(){return a()||d},windows:function(){return a()||p},osx:function(){return a()||l},linux:function(){return a()||m$1},iphone:function(){return a()||x},mobile:function(){return a()||x||E||w||F},nativeApp:function(){return a()||M},android:function(){return a()||w},ipad:function(){return a()||E}},A=_,c=!!(typeof window<"u"&&window.document&&window.document.createElement),U={canUseDOM:c},h=U,X;h.canUseDOM&&(X=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function S(t,n){if(!h.canUseDOM||n&&!("addEventListener"in document))return!1;var r="on"+t,g=r in document;if(!g){var y=document.createElement("div");y.setAttribute(r,"return;"),g=typeof y[r]=="function"}return!g&&X&&t==="wheel"&&(g=document.implementation.hasFeature("Events.wheel","3.0")),g}var b=S,O=10,I=40,P=800;function T(t){var n=0,r=0,g=0,y=0;return"detail"in t&&(r=t.detail),"wheelDelta"in t&&(r=-t.wheelDelta/120),"wheelDeltaY"in t&&(r=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(n=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(n=r,r=0),g=n*O,y=r*O,"deltaY"in t&&(y=t.deltaY),"deltaX"in t&&(g=t.deltaX),(g||y)&&t.deltaMode&&(t.deltaMode==1?(g*=I,y*=I):(g*=P,y*=P)),g&&!n&&(n=g<1?-1:1),y&&!r&&(r=y<1?-1:1),{spinX:n,spinY:r,pixelX:g,pixelY:y}}T.getEventType=function(){return A.firefox()?"DOMMouseScroll":b("wheel")?"wheel":"mousewheel"};var Y=T;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const mousewheel=function(t,n){if(t&&t.addEventListener){const r=function(g){const y=Y(g);n&&Reflect.apply(n,this,[g,y])};t.addEventListener("wheel",r,{passive:!0})}},Mousewheel={beforeMount(t,n){mousewheel(t,n.value)}};let tableIdSeed=1;const _sfc_main$P=defineComponent({name:"ElTable",directives:{Mousewheel},components:{TableHeader,TableBody,TableFooter,ElScrollbar,hColgroup},props:defaultProps$2,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change","scroll"],setup(t){const{t:n}=useLocale(),r=useNamespace("table"),g=getCurrentInstance();provide(TABLE_INJECTION_KEY,g);const y=createStore(g,t);g.store=y;const $=new TableLayout({store:g.store,table:g,fit:t.fit,showHeader:t.showHeader});g.layout=$;const L=computed(()=>(y.states.data.value||[]).length===0),{setCurrentRow:V,getSelectionRows:z,toggleRowSelection:j,clearSelection:re,clearFilter:ae,toggleAllSelection:oe,toggleRowExpansion:ie,clearSort:le,sort:ue,updateKeyChildren:de}=useUtils(y),{isHidden:he,renderExpanded:pe,setDragVisible:_e,isGroup:Ce,handleMouseLeave:xe,handleHeaderFooterMousewheel:Ie,tableSize:$e,emptyBlockStyle:Oe,handleFixedMousewheel:Ne,resizeProxyVisible:Fe,bodyWidth:Ve,resizeState:ze,doLayout:Et,tableBodyStyles:Dt,tableLayout:Ue,scrollbarViewStyle:qe,scrollbarStyle:Lt}=useStyle(t,$,y,g),{scrollBarRef:Pt,scrollTo:At,setScrollLeft:vn,setScrollTop:En}=useScrollbar$1(),Sn=debounce(Et,50),kt=`${r.namespace.value}-table_${tableIdSeed++}`;g.tableId=kt,g.state={isGroup:Ce,resizeState:ze,doLayout:Et,debouncedUpdateLayout:Sn};const jt=computed(()=>{var hn;return(hn=t.sumText)!=null?hn:n("el.table.sumText")}),_n=computed(()=>{var hn;return(hn=t.emptyText)!=null?hn:n("el.table.emptyText")}),wn=computed(()=>convertToRows(y.states.originColumns.value)[0]);return useKeyRender(g),onBeforeUnmount(()=>{Sn.cancel()}),{ns:r,layout:$,store:y,columns:wn,handleHeaderFooterMousewheel:Ie,handleMouseLeave:xe,tableId:kt,tableSize:$e,isHidden:he,isEmpty:L,renderExpanded:pe,resizeProxyVisible:Fe,resizeState:ze,isGroup:Ce,bodyWidth:Ve,tableBodyStyles:Dt,emptyBlockStyle:Oe,debouncedUpdateLayout:Sn,handleFixedMousewheel:Ne,setCurrentRow:V,getSelectionRows:z,toggleRowSelection:j,clearSelection:re,clearFilter:ae,toggleAllSelection:oe,toggleRowExpansion:ie,clearSort:le,doLayout:Et,sort:ue,updateKeyChildren:de,t:n,setDragVisible:_e,context:g,computedSumText:jt,computedEmptyText:_n,tableLayout:Ue,scrollbarViewStyle:qe,scrollbarStyle:Lt,scrollBarRef:Pt,scrollTo:At,setScrollLeft:vn,setScrollTop:En,allowDragLastColumn:t.allowDragLastColumn}}});function _sfc_render$9(t,n,r,g,y,$){const L=resolveComponent("hColgroup"),V=resolveComponent("table-header"),z=resolveComponent("table-body"),j=resolveComponent("table-footer"),re=resolveComponent("el-scrollbar"),ae=resolveDirective("mousewheel");return openBlock(),createElementBlock("div",{ref:"tableWrapper",class:normalizeClass([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:normalizeStyle$1(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:t.handleMouseLeave},[createBaseVNode("div",{class:normalizeClass(t.ns.e("inner-wrapper"))},[createBaseVNode("div",{ref:"hiddenColumns",class:"hidden-columns"},[renderSlot(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:0,ref:"headerWrapper",class:normalizeClass(t.ns.e("header-wrapper"))},[createBaseVNode("table",{ref:"tableHeader",class:normalizeClass(t.ns.e("header")),style:normalizeStyle$1(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[createVNode$1(L,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),createVNode$1(V,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,"allow-drag-last-column":t.allowDragLastColumn,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","append-filter-panel-to","allow-drag-last-column","onSetDragVisible"])],6)],2)),[[ae,t.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),createBaseVNode("div",{ref:"bodyWrapper",class:normalizeClass(t.ns.e("body-wrapper"))},[createVNode$1(re,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn,tabindex:t.scrollbarTabindex,onScroll:oe=>t.$emit("scroll",oe)},{default:withCtx(()=>[createBaseVNode("table",{ref:"tableBody",class:normalizeClass(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$1({width:t.bodyWidth,tableLayout:t.tableLayout})},[createVNode$1(L,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(openBlock(),createBlock(V,{key:0,ref:"tableHeaderRef",class:normalizeClass(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,"append-filter-panel-to":t.appendFilterPanelTo,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","append-filter-panel-to","onSetDragVisible"])):createCommentVNode("v-if",!0),createVNode$1(z,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(openBlock(),createBlock(j,{key:1,class:normalizeClass(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):createCommentVNode("v-if",!0)],6),t.isEmpty?(openBlock(),createElementBlock("div",{key:0,ref:"emptyBlock",style:normalizeStyle$1(t.emptyBlockStyle),class:normalizeClass(t.ns.e("empty-block"))},[createBaseVNode("span",{class:normalizeClass(t.ns.e("empty-text"))},[renderSlot(t.$slots,"empty",{},()=>[createTextVNode(toDisplayString(t.computedEmptyText),1)])],2)],6)):createCommentVNode("v-if",!0),t.$slots.append?(openBlock(),createElementBlock("div",{key:1,ref:"appendWrapper",class:normalizeClass(t.ns.e("append-wrapper"))},[renderSlot(t.$slots,"append")],2)):createCommentVNode("v-if",!0)]),_:3},8,["view-style","wrap-style","always","tabindex","onScroll"])],2),t.showSummary&&t.tableLayout==="fixed"?withDirectives((openBlock(),createElementBlock("div",{key:1,ref:"footerWrapper",class:normalizeClass(t.ns.e("footer-wrapper"))},[createBaseVNode("table",{class:normalizeClass(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:normalizeStyle$1(t.tableBodyStyles)},[createVNode$1(L,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),createVNode$1(j,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[vShow,!t.isEmpty],[ae,t.handleHeaderFooterMousewheel]]):createCommentVNode("v-if",!0),t.border||t.isGroup?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(t.ns.e("border-left-patch"))},null,2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{ref:"resizeProxy",class:normalizeClass(t.ns.e("column-resize-proxy"))},null,2),[[vShow,t.resizeProxyVisible]])],46,["data-prefix","onMouseleave"])}var Table$1=_export_sfc$1(_sfc_main$P,[["render",_sfc_render$9],["__file","table.vue"]]);const defaultClassNames={selection:"table-column--selection",expand:"table__expand-column"},cellStarts={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},getDefaultClassName=t=>defaultClassNames[t]||"",cellForced={selection:{renderHeader({store:t,column:n}){function r(){return t.states.data.value&&t.states.data.value.length===0}return h$1(ElCheckbox,{disabled:r(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:n.label})},renderCell({row:t,column:n,store:r,$index:g}){return h$1(ElCheckbox,{disabled:n.selectable?!n.selectable.call(null,t,g):!1,size:r.states.tableSize.value,onChange:()=>{r.commit("rowSelectedChanged",t)},onClick:y=>y.stopPropagation(),modelValue:r.isSelected(t),ariaLabel:n.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:n}){let r=n+1;const g=t.index;return isNumber$1(g)?r=n+g:isFunction$3(g)&&(r=g(n)),h$1("div",{},[r])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({column:t,row:n,store:r,expanded:g}){const{ns:y}=r,$=[y.e("expand-icon")];return!t.renderExpand&&g&&$.push(y.em("expand-icon","expanded")),h$1("div",{class:$,onClick:function(V){V.stopPropagation(),r.toggleRowExpansion(n)}},{default:()=>t.renderExpand?[t.renderExpand({expanded:g})]:[h$1(ElIcon,null,{default:()=>[h$1(arrow_right_default)]})]})},sortable:!1,resizable:!1}};function defaultRenderCell({row:t,column:n,$index:r}){var g;const y=n.property,$=y&&getProp(t,y).value;return n&&n.formatter?n.formatter(t,n,$,r):((g=$==null?void 0:$.toString)==null?void 0:g.call($))||""}function treeCellPrefix({row:t,treeNode:n,store:r},g=!1){const{ns:y}=r;if(!n)return g?[h$1("span",{class:y.e("placeholder")})]:null;const $=[],L=function(V){V.stopPropagation(),!n.loading&&r.loadOrToggle(t)};if(n.indent&&$.push(h$1("span",{class:y.e("indent"),style:{"padding-left":`${n.indent}px`}})),isBoolean(n.expanded)&&!n.noLazyChildren){const V=[y.e("expand-icon"),n.expanded?y.em("expand-icon","expanded"):""];let z=arrow_right_default;n.loading&&(z=loading_default),$.push(h$1("div",{class:V,onClick:L},{default:()=>[h$1(ElIcon,{class:{[y.is("loading")]:n.loading}},{default:()=>[h$1(z)]})]}))}else $.push(h$1("span",{class:y.e("placeholder")}));return $}function getAllAliases(t,n){return t.reduce((r,g)=>(r[g]=g,r),n)}function useWatcher(t,n){const r=getCurrentInstance();return{registerComplexWatchers:()=>{const $=["fixed"],L={realWidth:"width",realMinWidth:"minWidth"},V=getAllAliases($,L);Object.keys(V).forEach(z=>{const j=L[z];hasOwn$1(n,j)&&watch(()=>n[j],re=>{let ae=re;j==="width"&&z==="realWidth"&&(ae=parseWidth(re)),j==="minWidth"&&z==="realMinWidth"&&(ae=parseMinWidth(re)),r.columnConfig.value[j]=ae,r.columnConfig.value[z]=ae;const oe=j==="fixed";t.value.store.scheduleLayout(oe)})})},registerNormalWatchers:()=>{const $=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip","tooltipFormatter"],L={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},V=getAllAliases($,L);Object.keys(V).forEach(z=>{const j=L[z];hasOwn$1(n,j)&&watch(()=>n[j],re=>{r.columnConfig.value[z]=re})})}}}function useRender(t,n,r){const g=getCurrentInstance(),y=ref(""),$=ref(!1),L=ref(),V=ref(),z=useNamespace("table");watchEffect(()=>{L.value=t.align?`is-${t.align}`:null,L.value}),watchEffect(()=>{V.value=t.headerAlign?`is-${t.headerAlign}`:L.value,V.value});const j=computed(()=>{let Ce=g.vnode.vParent||g.parent;for(;Ce&&!Ce.tableId&&!Ce.columnId;)Ce=Ce.vnode.vParent||Ce.parent;return Ce}),re=computed(()=>{const{store:Ce}=g.parent;if(!Ce)return!1;const{treeData:xe}=Ce.states,Ie=xe.value;return Ie&&Object.keys(Ie).length>0}),ae=ref(parseWidth(t.width)),oe=ref(parseMinWidth(t.minWidth)),ie=Ce=>(ae.value&&(Ce.width=ae.value),oe.value&&(Ce.minWidth=oe.value),!ae.value&&oe.value&&(Ce.width=void 0),Ce.minWidth||(Ce.minWidth=80),Ce.realWidth=Number(isUndefined(Ce.width)?Ce.minWidth:Ce.width),Ce),le=Ce=>{const xe=Ce.type,Ie=cellForced[xe]||{};Object.keys(Ie).forEach(Oe=>{const Ne=Ie[Oe];Oe!=="className"&&!isUndefined(Ne)&&(Ce[Oe]=Ne)});const $e=getDefaultClassName(xe);if($e){const Oe=`${unref(z.namespace)}-${$e}`;Ce.className=Ce.className?`${Ce.className} ${Oe}`:Oe}return Ce},ue=Ce=>{isArray$4(Ce)?Ce.forEach(Ie=>xe(Ie)):xe(Ce);function xe(Ie){var $e;(($e=Ie==null?void 0:Ie.type)==null?void 0:$e.name)==="ElTableColumn"&&(Ie.vParent=g)}};return{columnId:y,realAlign:L,isSubColumn:$,realHeaderAlign:V,columnOrTableParent:j,setColumnWidth:ie,setColumnForcedProps:le,setColumnRenders:Ce=>{t.renderHeader||Ce.type!=="selection"&&(Ce.renderHeader=Ie=>(g.columnConfig.value.label,renderSlot(n,"header",Ie,()=>[Ce.label]))),n["filter-icon"]&&(Ce.renderFilterIcon=Ie=>renderSlot(n,"filter-icon",Ie)),n.expand&&(Ce.renderExpand=Ie=>renderSlot(n,"expand",Ie));let xe=Ce.renderCell;return Ce.type==="expand"?(Ce.renderCell=Ie=>h$1("div",{class:"cell"},[xe(Ie)]),r.value.renderExpanded=Ie=>n.default?n.default(Ie):n.default):(xe=xe||defaultRenderCell,Ce.renderCell=Ie=>{let $e=null;if(n.default){const Et=n.default(Ie);$e=Et.some(Dt=>Dt.type!==Comment)?Et:xe(Ie)}else $e=xe(Ie);const{columns:Oe}=r.value.store.states,Ne=Oe.value.findIndex(Et=>Et.type==="default"),Fe=re.value&&Ie.cellIndex===Ne,Ve=treeCellPrefix(Ie,Fe),ze={class:"cell",style:{}};return Ce.showOverflowTooltip&&(ze.class=`${ze.class} ${unref(z.namespace)}-tooltip`,ze.style={width:`${(Ie.column.realWidth||Number(Ie.column.width))-1}px`}),ue($e),h$1("div",ze,[Ve,$e])}),Ce},getPropsData:(...Ce)=>Ce.reduce((xe,Ie)=>(isArray$4(Ie)&&Ie.forEach($e=>{xe[$e]=t[$e]}),xe),{}),getColumnElIndex:(Ce,xe)=>Array.prototype.indexOf.call(Ce,xe),updateColumnOrder:()=>{r.value.store.commit("updateColumnOrder",g.columnConfig.value)}}}var defaultProps$1={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},tooltipFormatter:Function,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(n=>["ascending","descending",null].includes(n))}};let columnIdSeed=1;var ElTableColumn$1=defineComponent({name:"ElTableColumn",components:{ElCheckbox},props:defaultProps$1,setup(t,{slots:n}){const r=getCurrentInstance(),g=ref({}),y=computed(()=>{let _e=r.parent;for(;_e&&!_e.tableId;)_e=_e.parent;return _e}),{registerNormalWatchers:$,registerComplexWatchers:L}=useWatcher(y,t),{columnId:V,isSubColumn:z,realHeaderAlign:j,columnOrTableParent:re,setColumnWidth:ae,setColumnForcedProps:oe,setColumnRenders:ie,getPropsData:le,getColumnElIndex:ue,realAlign:de,updateColumnOrder:he}=useRender(t,n,y),pe=re.value;V.value=`${pe.tableId||pe.columnId}_column_${columnIdSeed++}`,onBeforeMount(()=>{z.value=y.value!==pe;const _e=t.type||"default",Ce=t.sortable===""?!0:t.sortable,xe=_e==="selection"?!1:isUndefined(t.showOverflowTooltip)?pe.props.showOverflowTooltip:t.showOverflowTooltip,Ie=isUndefined(t.tooltipFormatter)?pe.props.tooltipFormatter:t.tooltipFormatter,$e={...cellStarts[_e],id:V.value,type:_e,property:t.prop||t.property,align:de,headerAlign:j,showOverflowTooltip:xe,tooltipFormatter:Ie,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:Ce,index:t.index,rawColumnKey:r.vnode.key};let ze=le(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);ze=mergeOptions$1($e,ze),ze=compose(ie,ae,oe)(ze),g.value=ze,$(),L()}),onMounted(()=>{var _e;const Ce=re.value,xe=z.value?Ce.vnode.el.children:(_e=Ce.refs.hiddenColumns)==null?void 0:_e.children,Ie=()=>ue(xe||[],r.vnode.el);g.value.getColumnIndex=Ie,Ie()>-1&&y.value.store.commit("insertColumn",g.value,z.value?Ce.columnConfig.value:null,he)}),onBeforeUnmount(()=>{const _e=g.value.getColumnIndex;(_e?_e():-1)>-1&&y.value.store.commit("removeColumn",g.value,z.value?pe.columnConfig.value:null,he)}),r.columnId=V.value,r.columnConfig=g},render(){var t,n,r;try{const g=(n=(t=this.$slots).default)==null?void 0:n.call(t,{row:{},column:{},$index:-1}),y=[];if(isArray$4(g))for(const L of g)((r=L.type)==null?void 0:r.name)==="ElTableColumn"||L.shapeFlag&2?y.push(L):L.type===Fragment&&isArray$4(L.children)&&L.children.forEach(V=>{(V==null?void 0:V.patchFlag)!==1024&&!isString$2(V==null?void 0:V.children)&&y.push(V)});return h$1("div",y)}catch{return h$1("div",[])}}});const ElTable=withInstall(Table$1,{TableColumn:ElTableColumn$1}),ElTableColumn=withNoopInstall(ElTableColumn$1);var SortOrder=(t=>(t.ASC="asc",t.DESC="desc",t))(SortOrder||{}),Alignment=(t=>(t.CENTER="center",t.RIGHT="right",t))(Alignment||{}),FixedDir=(t=>(t.LEFT="left",t.RIGHT="right",t))(FixedDir||{});const oppositeOrderMap={asc:"desc",desc:"asc"},placeholderSign=Symbol("placeholder"),calcColumnStyle=(t,n,r)=>{var g;const y={flexGrow:0,flexShrink:0,...r?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};r||(y.flexShrink=1);const $={...(g=t.style)!=null?g:{},...y,flexBasis:"auto",width:t.width};return n||(t.maxWidth&&($.maxWidth=t.maxWidth),t.minWidth&&($.minWidth=t.minWidth)),$};function useColumns(t,n,r){const g=computed(()=>unref(n).map((de,he)=>{var pe,_e;return{...de,key:(_e=(pe=de.key)!=null?pe:de.dataKey)!=null?_e:he}})),y=computed(()=>unref(g).filter(de=>!de.hidden)),$=computed(()=>unref(y).filter(de=>de.fixed==="left"||de.fixed===!0)),L=computed(()=>unref(y).filter(de=>de.fixed==="right")),V=computed(()=>unref(y).filter(de=>!de.fixed)),z=computed(()=>{const de=[];return unref($).forEach(he=>{de.push({...he,placeholderSign})}),unref(V).forEach(he=>{de.push(he)}),unref(L).forEach(he=>{de.push({...he,placeholderSign})}),de}),j=computed(()=>unref($).length||unref(L).length),re=computed(()=>unref(g).reduce((de,he)=>(de[he.key]=calcColumnStyle(he,unref(r),t.fixed),de),{})),ae=computed(()=>unref(y).reduce((de,he)=>de+he.width,0)),oe=de=>unref(g).find(he=>he.key===de),ie=de=>unref(re)[de],le=(de,he)=>{de.width=he};function ue(de){var he;const{key:pe}=de.currentTarget.dataset;if(!pe)return;const{sortState:_e,sortBy:Ce}=t;let xe=SortOrder.ASC;isObject$5(_e)?xe=oppositeOrderMap[_e[pe]]:xe=oppositeOrderMap[Ce.order],(he=t.onColumnSort)==null||he.call(t,{column:oe(pe),key:pe,order:xe})}return{columns:g,columnsStyles:re,columnsTotalWidth:ae,fixedColumnsOnLeft:$,fixedColumnsOnRight:L,hasFixedColumns:j,mainColumns:z,normalColumns:V,visibleColumns:y,getColumn:oe,getColumnStyle:ie,updateColumnWidth:le,onColumnSorted:ue}}const useScrollbar=(t,{mainTableRef:n,leftTableRef:r,rightTableRef:g,onMaybeEndReached:y})=>{const $=ref({scrollLeft:0,scrollTop:0});function L(ie){var le,ue,de;const{scrollTop:he}=ie;(le=n.value)==null||le.scrollTo(ie),(ue=r.value)==null||ue.scrollToTop(he),(de=g.value)==null||de.scrollToTop(he)}function V(ie){$.value=ie,L(ie)}function z(ie){$.value.scrollTop=ie,L(unref($))}function j(ie){var le,ue;$.value.scrollLeft=ie,(ue=(le=n.value)==null?void 0:le.scrollTo)==null||ue.call(le,unref($))}function re(ie){var le;V(ie),(le=t.onScroll)==null||le.call(t,ie)}function ae({scrollTop:ie}){const{scrollTop:le}=unref($);ie!==le&&z(ie)}function oe(ie,le="auto"){var ue;(ue=n.value)==null||ue.scrollToRow(ie,le)}return watch(()=>unref($).scrollTop,(ie,le)=>{ie>le&&y()}),{scrollPos:$,scrollTo:V,scrollToLeft:j,scrollToTop:z,scrollToRow:oe,onScroll:re,onVerticalScroll:ae}},useRow=(t,{mainTableRef:n,leftTableRef:r,rightTableRef:g,tableInstance:y,ns:$,isScrolling:L})=>{const V=getCurrentInstance(),{emit:z}=V,j=shallowRef(!1),re=ref(t.defaultExpandedRowKeys||[]),ae=ref(-1),oe=shallowRef(null),ie=ref({}),le=ref({}),ue=shallowRef({}),de=shallowRef({}),he=shallowRef({}),pe=computed(()=>isNumber$1(t.estimatedRowHeight));function _e(Fe){var Ve;(Ve=t.onRowsRendered)==null||Ve.call(t,Fe),Fe.rowCacheEnd>unref(ae)&&(ae.value=Fe.rowCacheEnd)}function Ce({hovered:Fe,rowKey:Ve}){if(L.value)return;y.vnode.el.querySelectorAll(`[rowkey="${String(Ve)}"]`).forEach(Dt=>{Fe?Dt.classList.add($.is("hovered")):Dt.classList.remove($.is("hovered"))})}function xe({expanded:Fe,rowData:Ve,rowIndex:ze,rowKey:Et}){var Dt,Ue;const qe=[...unref(re)],Lt=qe.indexOf(Et);Fe?Lt===-1&&qe.push(Et):Lt>-1&&qe.splice(Lt,1),re.value=qe,z("update:expandedRowKeys",qe),(Dt=t.onRowExpand)==null||Dt.call(t,{expanded:Fe,rowData:Ve,rowIndex:ze,rowKey:Et}),(Ue=t.onExpandedRowsChange)==null||Ue.call(t,qe)}const Ie=debounce(()=>{var Fe,Ve,ze,Et;j.value=!0,ie.value={...unref(ie),...unref(le)},$e(unref(oe),!1),le.value={},oe.value=null,(Fe=n.value)==null||Fe.forceUpdate(),(Ve=r.value)==null||Ve.forceUpdate(),(ze=g.value)==null||ze.forceUpdate(),(Et=V.proxy)==null||Et.$forceUpdate(),j.value=!1},0);function $e(Fe,Ve=!1){unref(pe)&&[n,r,g].forEach(ze=>{const Et=unref(ze);Et&&Et.resetAfterRowIndex(Fe,Ve)})}function Oe(Fe,Ve,ze){const Et=unref(oe);(Et===null||Et>ze)&&(oe.value=ze),le.value[Fe]=Ve}function Ne({rowKey:Fe,height:Ve,rowIndex:ze},Et){Et?Et===FixedDir.RIGHT?he.value[Fe]=Ve:ue.value[Fe]=Ve:de.value[Fe]=Ve;const Dt=Math.max(...[ue,he,de].map(Ue=>Ue.value[Fe]||0));unref(ie)[Fe]!==Dt&&(Oe(Fe,Dt,ze),Ie())}return{expandedRowKeys:re,lastRenderedRowIndex:ae,isDynamic:pe,isResetting:j,rowHeights:ie,resetAfterIndex:$e,onRowExpanded:xe,onRowHovered:Ce,onRowsRendered:_e,onRowHeightChange:Ne}},useData=(t,{expandedRowKeys:n,lastRenderedRowIndex:r,resetAfterIndex:g})=>{const y=ref({}),$=computed(()=>{const V={},{data:z,rowKey:j}=t,re=unref(n);if(!re||!re.length)return z;const ae=[],oe=new Set;re.forEach(le=>oe.add(le));let ie=z.slice();for(ie.forEach(le=>V[le[j]]=0);ie.length>0;){const le=ie.shift();ae.push(le),oe.has(le[j])&&isArray$4(le.children)&&le.children.length>0&&(ie=[...le.children,...ie],le.children.forEach(ue=>V[ue[j]]=V[le[j]]+1))}return y.value=V,ae}),L=computed(()=>{const{data:V,expandColumnKey:z}=t;return z?unref($):V});return watch(L,(V,z)=>{V!==z&&(r.value=-1,g(0,!0))}),{data:L,depthMap:y}},sumReducer=(t,n)=>t+n,sum$1=t=>isArray$4(t)?t.reduce(sumReducer,0):t,tryCall=(t,n,r={})=>isFunction$3(t)?t(n):t??r,enforceUnit=t=>(["width","maxWidth","minWidth","height"].forEach(n=>{t[n]=addUnit(t[n])}),t),componentToSlot=t=>isVNode(t)?n=>h$1(t,n):t,useStyles=(t,{columnsTotalWidth:n,rowsHeight:r,fixedColumnsOnLeft:g,fixedColumnsOnRight:y})=>{const $=computed(()=>{const{fixed:he,width:pe,vScrollbarSize:_e}=t,Ce=pe-_e;return he?Math.max(Math.round(unref(n)),Ce):Ce}),L=computed(()=>{const{height:he=0,maxHeight:pe=0,footerHeight:_e,hScrollbarSize:Ce}=t;if(pe>0){const xe=unref(oe),Ie=unref(r),Oe=unref(ae)+xe+Ie+Ce;return Math.min(Oe,pe-_e)}return he-_e}),V=computed(()=>{const{maxHeight:he}=t,pe=unref(L);if(isNumber$1(he)&&he>0)return pe;const _e=unref(r)+unref(ae)+unref(oe);return Math.min(pe,_e)}),z=he=>he.width,j=computed(()=>sum$1(unref(g).map(z))),re=computed(()=>sum$1(unref(y).map(z))),ae=computed(()=>sum$1(t.headerHeight)),oe=computed(()=>{var he;return(((he=t.fixedData)==null?void 0:he.length)||0)*t.rowHeight}),ie=computed(()=>unref(L)-unref(ae)-unref(oe)),le=computed(()=>{const{style:he={},height:pe,width:_e}=t;return enforceUnit({...he,height:pe,width:_e})}),ue=computed(()=>enforceUnit({height:t.footerHeight})),de=computed(()=>({top:addUnit(unref(ae)),bottom:addUnit(t.footerHeight),width:addUnit(t.width)}));return{bodyWidth:$,fixedTableHeight:V,mainTableHeight:L,leftTableWidth:j,rightTableWidth:re,windowHeight:ie,footerHeight:ue,emptyStyle:de,rootStyle:le,headerHeight:ae}};function useTable(t){const n=ref(),r=ref(),g=ref(),{columns:y,columnsStyles:$,columnsTotalWidth:L,fixedColumnsOnLeft:V,fixedColumnsOnRight:z,hasFixedColumns:j,mainColumns:re,onColumnSorted:ae}=useColumns(t,toRef(t,"columns"),toRef(t,"fixed")),{scrollTo:oe,scrollToLeft:ie,scrollToTop:le,scrollToRow:ue,onScroll:de,onVerticalScroll:he,scrollPos:pe}=useScrollbar(t,{mainTableRef:n,leftTableRef:r,rightTableRef:g,onMaybeEndReached:Pn}),_e=useNamespace("table-v2"),Ce=getCurrentInstance(),xe=shallowRef(!1),{expandedRowKeys:Ie,lastRenderedRowIndex:$e,isDynamic:Oe,isResetting:Ne,rowHeights:Fe,resetAfterIndex:Ve,onRowExpanded:ze,onRowHeightChange:Et,onRowHovered:Dt,onRowsRendered:Ue}=useRow(t,{mainTableRef:n,leftTableRef:r,rightTableRef:g,tableInstance:Ce,ns:_e,isScrolling:xe}),{data:qe,depthMap:Lt}=useData(t,{expandedRowKeys:Ie,lastRenderedRowIndex:$e,resetAfterIndex:Ve}),Pt=computed(()=>{const{estimatedRowHeight:Rn,rowHeight:Fn}=t,Dn=unref(qe);return isNumber$1(Rn)?Object.values(unref(Fe)).reduce((Ln,kn)=>Ln+kn,0):Dn.length*Fn}),{bodyWidth:At,fixedTableHeight:vn,mainTableHeight:En,leftTableWidth:Sn,rightTableWidth:kt,windowHeight:jt,footerHeight:_n,emptyStyle:wn,rootStyle:hn,headerHeight:Cn}=useStyles(t,{columnsTotalWidth:L,fixedColumnsOnLeft:V,fixedColumnsOnRight:z,rowsHeight:Pt}),Tn=ref(),xn=computed(()=>{const Rn=unref(qe).length===0;return isArray$4(t.fixedData)?t.fixedData.length===0&&Rn:Rn});function Mn(Rn){const{estimatedRowHeight:Fn,rowHeight:Dn,rowKey:Ln}=t;return Fn?unref(Fe)[unref(qe)[Rn][Ln]]||Fn:Dn}const bn=ref(!1);function Pn(){const{onEndReached:Rn}=t;if(!Rn)return;const{scrollTop:Fn}=unref(pe),Dn=unref(Pt),Ln=unref(jt),kn=Dn-(Fn+Ln)+t.hScrollbarSize;!bn.value&&unref($e)>=0&&Dn<=Fn+unref(En)-unref(Cn)?(bn.value=!0,Rn(kn)):bn.value=!1}return watch(()=>unref(Pt),()=>bn.value=!1),watch(()=>t.expandedRowKeys,Rn=>Ie.value=Rn,{deep:!0}),{columns:y,containerRef:Tn,mainTableRef:n,leftTableRef:r,rightTableRef:g,isDynamic:Oe,isResetting:Ne,isScrolling:xe,hasFixedColumns:j,columnsStyles:$,columnsTotalWidth:L,data:qe,expandedRowKeys:Ie,depthMap:Lt,fixedColumnsOnLeft:V,fixedColumnsOnRight:z,mainColumns:re,bodyWidth:At,emptyStyle:wn,rootStyle:hn,footerHeight:_n,mainTableHeight:En,fixedTableHeight:vn,leftTableWidth:Sn,rightTableWidth:kt,showEmpty:xn,getRowHeight:Mn,onColumnSorted:ae,onRowHovered:Dt,onRowExpanded:ze,onRowsRendered:Ue,onRowHeightChange:Et,scrollTo:oe,scrollToLeft:ie,scrollToTop:le,scrollToRow:ue,onScroll:de,onVerticalScroll:he}}const TableV2InjectionKey=Symbol("tableV2"),TABLE_V2_GRID_INJECTION_KEY="tableV2GridScrollLeft",classType=String,columns={type:definePropType(Array),required:!0},fixedDataType={type:definePropType(Array)},dataType={...fixedDataType,required:!0},expandColumnKey=String,expandKeys={type:definePropType(Array),default:()=>mutable([])},requiredNumber={type:Number,required:!0},rowKey={type:definePropType([String,Number,Symbol]),default:"id"},styleType={type:definePropType(Object)},tableV2RowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},depth:Number,expandColumnKey,estimatedRowHeight:{...virtualizedGridProps.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:definePropType(Function)},onRowHover:{type:definePropType(Function)},onRowHeightChange:{type:definePropType(Function)},rowData:{type:definePropType(Object),required:!0},rowEventHandlers:{type:definePropType(Object)},rowIndex:{type:Number,required:!0},rowKey,style:{type:definePropType(Object)}}),requiredNumberType={type:Number,required:!0},tableV2HeaderProps=buildProps({class:String,columns,fixedHeaderData:{type:definePropType(Array)},headerData:{type:definePropType(Array),required:!0},headerHeight:{type:definePropType([Number,Array]),default:50},rowWidth:requiredNumberType,rowHeight:{type:Number,default:50},height:requiredNumberType,width:requiredNumberType}),tableV2GridProps=buildProps({columns,data:dataType,fixedData:fixedDataType,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,width:requiredNumber,height:requiredNumber,headerWidth:requiredNumber,headerHeight:tableV2HeaderProps.headerHeight,bodyWidth:requiredNumber,rowHeight:requiredNumber,cache:virtualizedListProps.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:virtualizedGridProps.scrollbarAlwaysOn,scrollbarStartGap:virtualizedGridProps.scrollbarStartGap,scrollbarEndGap:virtualizedGridProps.scrollbarEndGap,class:classType,style:styleType,containerStyle:styleType,getRowHeight:{type:definePropType(Function),required:!0},rowKey:tableV2RowProps.rowKey,onRowsRendered:{type:definePropType(Function)},onScroll:{type:definePropType(Function)}}),tableV2Props=buildProps({cache:tableV2GridProps.cache,estimatedRowHeight:tableV2RowProps.estimatedRowHeight,rowKey,headerClass:{type:definePropType([String,Function])},headerProps:{type:definePropType([Object,Function])},headerCellProps:{type:definePropType([Object,Function])},headerHeight:tableV2HeaderProps.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:definePropType([String,Function])},rowProps:{type:definePropType([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:definePropType([Object,Function])},columns,data:dataType,dataGetter:{type:definePropType(Function)},fixedData:fixedDataType,expandColumnKey:tableV2RowProps.expandColumnKey,expandedRowKeys:expandKeys,defaultExpandedRowKeys:expandKeys,class:classType,fixed:Boolean,style:{type:definePropType(Object)},width:requiredNumber,height:requiredNumber,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:virtualizedGridProps.hScrollbarSize,vScrollbarSize:virtualizedGridProps.vScrollbarSize,scrollbarAlwaysOn:virtualizedScrollbarProps.alwaysOn,sortBy:{type:definePropType(Object),default:()=>({})},sortState:{type:definePropType(Object),default:void 0},onColumnSort:{type:definePropType(Function)},onExpandedRowsChange:{type:definePropType(Function)},onEndReached:{type:definePropType(Function)},onRowExpand:tableV2RowProps.onRowExpand,onScroll:tableV2GridProps.onScroll,onRowsRendered:tableV2GridProps.onRowsRendered,rowEventHandlers:tableV2RowProps.rowEventHandlers}),COMPONENT_NAME$8="ElTableV2Header",TableV2Header=defineComponent({name:COMPONENT_NAME$8,props:tableV2HeaderProps,setup(t,{slots:n,expose:r}){const g=useNamespace("table-v2"),y=inject(TABLE_V2_GRID_INJECTION_KEY),$=ref(),L=computed(()=>enforceUnit({width:t.width,height:t.height})),V=computed(()=>enforceUnit({width:t.rowWidth,height:t.height})),z=computed(()=>castArray$1(unref(t.headerHeight))),j=oe=>{const ie=unref($);nextTick(()=>{ie!=null&&ie.scroll&&ie.scroll({left:oe})})},re=()=>{const oe=g.e("fixed-header-row"),{columns:ie,fixedHeaderData:le,rowHeight:ue}=t;return le==null?void 0:le.map((de,he)=>{var pe;const _e=enforceUnit({height:ue,width:"100%"});return(pe=n.fixed)==null?void 0:pe.call(n,{class:oe,columns:ie,rowData:de,rowIndex:-(he+1),style:_e})})},ae=()=>{const oe=g.e("dynamic-header-row"),{columns:ie}=t;return unref(z).map((le,ue)=>{var de;const he=enforceUnit({width:"100%",height:le});return(de=n.dynamic)==null?void 0:de.call(n,{class:oe,columns:ie,headerIndex:ue,style:he})})};return onUpdated(()=>{y!=null&&y.value&&j(y.value)}),r({scrollToLeft:j}),()=>{if(!(t.height<=0))return createVNode$1("div",{ref:$,class:t.class,style:unref(L),role:"rowgroup"},[createVNode$1("div",{style:unref(V),class:g.e("header")},[ae(),re()])])}}});var Header$1=TableV2Header;const useGridWheel=({atXEndEdge:t,atXStartEdge:n,atYEndEdge:r,atYStartEdge:g},y)=>{let $=null,L=0,V=0;const z=(re,ae)=>{const oe=re<=0&&n.value||re>=0&&t.value,ie=ae<=0&&g.value||ae>=0&&r.value;return oe&&ie};return{hasReachedEdge:z,onWheel:re=>{cAF($);let ae=re.deltaX,oe=re.deltaY;Math.abs(ae)>Math.abs(oe)?oe=0:ae=0,re.shiftKey&&oe!==0&&(ae=oe,oe=0),!(z(L,V)&&z(L+ae,V+oe))&&(L+=ae,V+=oe,re.preventDefault(),$=rAF(()=>{y(L,V),L=0,V=0}))}}},createGrid=({name:t,clearCache:n,getColumnPosition:r,getColumnStartIndexForOffset:g,getColumnStopIndexForStartIndex:y,getEstimatedTotalHeight:$,getEstimatedTotalWidth:L,getColumnOffset:V,getRowOffset:z,getRowPosition:j,getRowStartIndexForOffset:re,getRowStopIndexForStartIndex:ae,initCache:oe,injectToInstance:ie,validateProps:le})=>defineComponent({name:t??"ElVirtualList",props:virtualizedGridProps,emits:[ITEM_RENDER_EVT,SCROLL_EVT],setup(ue,{emit:de,expose:he,slots:pe}){const _e=useNamespace("vl");le(ue);const Ce=getCurrentInstance(),xe=ref(oe(ue,Ce));ie==null||ie(Ce,xe);const Ie=ref(),$e=ref(),Oe=ref(),Ne=ref(null),Fe=ref({isScrolling:!1,scrollLeft:isNumber$1(ue.initScrollLeft)?ue.initScrollLeft:0,scrollTop:isNumber$1(ue.initScrollTop)?ue.initScrollTop:0,updateRequested:!1,xAxisScrollDir:FORWARD,yAxisScrollDir:FORWARD}),Ve=useCache(),ze=computed(()=>Number.parseInt(`${ue.height}`,10)),Et=computed(()=>Number.parseInt(`${ue.width}`,10)),Dt=computed(()=>{const{totalColumn:Ln,totalRow:kn,columnCache:In}=ue,{isScrolling:Vn,xAxisScrollDir:zn,scrollLeft:Kn}=unref(Fe);if(Ln===0||kn===0)return[0,0,0,0];const jn=g(ue,Kn,unref(xe)),Wn=y(ue,jn,Kn,unref(xe)),Un=!Vn||zn===BACKWARD?Math.max(1,In):1,nr=!Vn||zn===FORWARD?Math.max(1,In):1;return[Math.max(0,jn-Un),Math.max(0,Math.min(Ln-1,Wn+nr)),jn,Wn]}),Ue=computed(()=>{const{totalColumn:Ln,totalRow:kn,rowCache:In}=ue,{isScrolling:Vn,yAxisScrollDir:zn,scrollTop:Kn}=unref(Fe);if(Ln===0||kn===0)return[0,0,0,0];const jn=re(ue,Kn,unref(xe)),Wn=ae(ue,jn,Kn,unref(xe)),Un=!Vn||zn===BACKWARD?Math.max(1,In):1,nr=!Vn||zn===FORWARD?Math.max(1,In):1;return[Math.max(0,jn-Un),Math.max(0,Math.min(kn-1,Wn+nr)),jn,Wn]}),qe=computed(()=>$(ue,unref(xe))),Lt=computed(()=>L(ue,unref(xe))),Pt=computed(()=>{var Ln;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:ue.direction,height:isNumber$1(ue.height)?`${ue.height}px`:ue.height,width:isNumber$1(ue.width)?`${ue.width}px`:ue.width},(Ln=ue.style)!=null?Ln:{}]}),At=computed(()=>{const Ln=`${unref(Lt)}px`;return{height:`${unref(qe)}px`,pointerEvents:unref(Fe).isScrolling?"none":void 0,width:Ln}}),vn=()=>{const{totalColumn:Ln,totalRow:kn}=ue;if(Ln>0&&kn>0){const[Wn,Un,nr,sr]=unref(Dt),[mr,vr,Sr,yr]=unref(Ue);de(ITEM_RENDER_EVT,{columnCacheStart:Wn,columnCacheEnd:Un,rowCacheStart:mr,rowCacheEnd:vr,columnVisibleStart:nr,columnVisibleEnd:sr,rowVisibleStart:Sr,rowVisibleEnd:yr})}const{scrollLeft:In,scrollTop:Vn,updateRequested:zn,xAxisScrollDir:Kn,yAxisScrollDir:jn}=unref(Fe);de(SCROLL_EVT,{xAxisScrollDir:Kn,scrollLeft:In,yAxisScrollDir:jn,scrollTop:Vn,updateRequested:zn})},En=Ln=>{const{clientHeight:kn,clientWidth:In,scrollHeight:Vn,scrollLeft:zn,scrollTop:Kn,scrollWidth:jn}=Ln.currentTarget,Wn=unref(Fe);if(Wn.scrollTop===Kn&&Wn.scrollLeft===zn)return;let Un=zn;if(isRTL$1(ue.direction))switch(getRTLOffsetType()){case RTL_OFFSET_NAG:Un=-zn;break;case RTL_OFFSET_POS_DESC:Un=jn-In-zn;break}Fe.value={...Wn,isScrolling:!0,scrollLeft:Un,scrollTop:Math.max(0,Math.min(Kn,Vn-kn)),updateRequested:!0,xAxisScrollDir:getScrollDir(Wn.scrollLeft,Un),yAxisScrollDir:getScrollDir(Wn.scrollTop,Kn)},nextTick(()=>Cn()),Tn(),vn()},Sn=(Ln,kn)=>{const In=unref(ze),Vn=(qe.value-In)/kn*Ln;_n({scrollTop:Math.min(qe.value-In,Vn)})},kt=(Ln,kn)=>{const In=unref(Et),Vn=(Lt.value-In)/kn*Ln;_n({scrollLeft:Math.min(Lt.value-In,Vn)})},{onWheel:jt}=useGridWheel({atXStartEdge:computed(()=>Fe.value.scrollLeft<=0),atXEndEdge:computed(()=>Fe.value.scrollLeft>=Lt.value-unref(Et)),atYStartEdge:computed(()=>Fe.value.scrollTop<=0),atYEndEdge:computed(()=>Fe.value.scrollTop>=qe.value-unref(ze))},(Ln,kn)=>{var In,Vn,zn,Kn;(Vn=(In=$e.value)==null?void 0:In.onMouseUp)==null||Vn.call(In),(Kn=(zn=Oe.value)==null?void 0:zn.onMouseUp)==null||Kn.call(zn);const jn=unref(Et),Wn=unref(ze);_n({scrollLeft:Math.min(Fe.value.scrollLeft+Ln,Lt.value-jn),scrollTop:Math.min(Fe.value.scrollTop+kn,qe.value-Wn)})});useEventListener(Ie,"wheel",jt,{passive:!1});const _n=({scrollLeft:Ln=Fe.value.scrollLeft,scrollTop:kn=Fe.value.scrollTop})=>{Ln=Math.max(Ln,0),kn=Math.max(kn,0);const In=unref(Fe);kn===In.scrollTop&&Ln===In.scrollLeft||(Fe.value={...In,xAxisScrollDir:getScrollDir(In.scrollLeft,Ln),yAxisScrollDir:getScrollDir(In.scrollTop,kn),scrollLeft:Ln,scrollTop:kn,updateRequested:!0},nextTick(()=>Cn()),Tn(),vn())},wn=(Ln=0,kn=0,In=AUTO_ALIGNMENT)=>{const Vn=unref(Fe);kn=Math.max(0,Math.min(kn,ue.totalColumn-1)),Ln=Math.max(0,Math.min(Ln,ue.totalRow-1));const zn=getScrollBarWidth(_e.namespace.value),Kn=unref(xe),jn=$(ue,Kn),Wn=L(ue,Kn);_n({scrollLeft:V(ue,kn,In,Vn.scrollLeft,Kn,Wn>ue.width?zn:0),scrollTop:z(ue,Ln,In,Vn.scrollTop,Kn,jn>ue.height?zn:0)})},hn=(Ln,kn)=>{const{columnWidth:In,direction:Vn,rowHeight:zn}=ue,Kn=Ve.value(n&&In,n&&zn,n&&Vn),jn=`${Ln},${kn}`;if(hasOwn$1(Kn,jn))return Kn[jn];{const[,Wn]=r(ue,kn,unref(xe)),Un=unref(xe),nr=isRTL$1(Vn),[sr,mr]=j(ue,Ln,Un),[vr]=r(ue,kn,Un);return Kn[jn]={position:"absolute",left:nr?void 0:`${Wn}px`,right:nr?`${Wn}px`:void 0,top:`${mr}px`,height:`${sr}px`,width:`${vr}px`},Kn[jn]}},Cn=()=>{Fe.value.isScrolling=!1,nextTick(()=>{Ve.value(-1,null,null)})};onMounted(()=>{if(!isClient)return;const{initScrollLeft:Ln,initScrollTop:kn}=ue,In=unref(Ie);In&&(isNumber$1(Ln)&&(In.scrollLeft=Ln),isNumber$1(kn)&&(In.scrollTop=kn)),vn()});const Tn=()=>{const{direction:Ln}=ue,{scrollLeft:kn,scrollTop:In,updateRequested:Vn}=unref(Fe),zn=unref(Ie);if(Vn&&zn){if(Ln===RTL)switch(getRTLOffsetType()){case RTL_OFFSET_NAG:{zn.scrollLeft=-kn;break}case RTL_OFFSET_POS_ASC:{zn.scrollLeft=kn;break}default:{const{clientWidth:Kn,scrollWidth:jn}=zn;zn.scrollLeft=jn-Kn-kn;break}}else zn.scrollLeft=Math.max(0,kn);zn.scrollTop=Math.max(0,In)}},{resetAfterColumnIndex:xn,resetAfterRowIndex:Mn,resetAfter:bn}=Ce.proxy;he({windowRef:Ie,innerRef:Ne,getItemStyleCache:Ve,scrollTo:_n,scrollToItem:wn,states:Fe,resetAfterColumnIndex:xn,resetAfterRowIndex:Mn,resetAfter:bn});const Pn=()=>{const{scrollbarAlwaysOn:Ln,scrollbarStartGap:kn,scrollbarEndGap:In,totalColumn:Vn,totalRow:zn}=ue,Kn=unref(Et),jn=unref(ze),Wn=unref(Lt),Un=unref(qe),{scrollLeft:nr,scrollTop:sr}=unref(Fe),mr=h$1(ScrollBar,{ref:$e,alwaysOn:Ln,startGap:kn,endGap:In,class:_e.e("horizontal"),clientSize:Kn,layout:"horizontal",onScroll:kt,ratio:Kn*100/Wn,scrollFrom:nr/(Wn-Kn),total:zn,visible:!0}),vr=h$1(ScrollBar,{ref:Oe,alwaysOn:Ln,startGap:kn,endGap:In,class:_e.e("vertical"),clientSize:jn,layout:"vertical",onScroll:Sn,ratio:jn*100/Un,scrollFrom:sr/(Un-jn),total:Vn,visible:!0});return{horizontalScrollbar:mr,verticalScrollbar:vr}},Rn=()=>{var Ln;const[kn,In]=unref(Dt),[Vn,zn]=unref(Ue),{data:Kn,totalColumn:jn,totalRow:Wn,useIsScrolling:Un,itemKey:nr}=ue,sr=[];if(Wn>0&&jn>0)for(let mr=Vn;mr<=zn;mr++)for(let vr=kn;vr<=In;vr++){const Sr=nr({columnIndex:vr,data:Kn,rowIndex:mr});sr.push(h$1(Fragment,{key:Sr},(Ln=pe.default)==null?void 0:Ln.call(pe,{columnIndex:vr,data:Kn,isScrolling:Un?unref(Fe).isScrolling:void 0,style:hn(mr,vr),rowIndex:mr})))}return sr},Fn=()=>{const Ln=resolveDynamicComponent(ue.innerElement),kn=Rn();return[h$1(Ln,{style:unref(At),ref:Ne},isString$2(Ln)?kn:{default:()=>kn})]};return()=>{const Ln=resolveDynamicComponent(ue.containerElement),{horizontalScrollbar:kn,verticalScrollbar:In}=Pn(),Vn=Fn();return h$1("div",{key:0,class:_e.e("wrapper"),role:ue.role},[h$1(Ln,{class:ue.className,style:unref(Pt),onScroll:En,ref:Ie},isString$2(Ln)?Vn:{default:()=>Vn}),kn,In])}}}),{max:max$3,min:min$3,floor:floor$1}=Math,ACCESS_SIZER_KEY_MAP={column:"columnWidth",row:"rowHeight"},ACCESS_LAST_VISITED_KEY_MAP={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},getItemFromCache=(t,n,r,g)=>{const[y,$,L]=[r[g],t[ACCESS_SIZER_KEY_MAP[g]],r[ACCESS_LAST_VISITED_KEY_MAP[g]]];if(n>L){let V=0;if(L>=0){const z=y[L];V=z.offset+z.size}for(let z=L+1;z<=n;z++){const j=$(z);y[z]={offset:V,size:j},V+=j}r[ACCESS_LAST_VISITED_KEY_MAP[g]]=n}return y[n]},bs=(t,n,r,g,y,$)=>{for(;r<=g;){const L=r+floor$1((g-r)/2),V=getItemFromCache(t,L,n,$).offset;if(V===y)return L;V<y?r=L+1:g=L-1}return max$3(0,r-1)},es=(t,n,r,g,y)=>{const $=y==="column"?t.totalColumn:t.totalRow;let L=1;for(;r<$&&getItemFromCache(t,r,n,y).offset<g;)r+=L,L*=2;return bs(t,n,floor$1(r/2),min$3(r,$-1),g,y)},findItem=(t,n,r,g)=>{const[y,$]=[n[g],n[ACCESS_LAST_VISITED_KEY_MAP[g]]];return($>0?y[$].offset:0)>=r?bs(t,n,0,$,r,g):es(t,n,max$3(0,$),r,g)},getEstimatedTotalHeight=({totalRow:t},{estimatedRowHeight:n,lastVisitedRowIndex:r,row:g})=>{let y=0;if(r>=t&&(r=t-1),r>=0){const V=g[r];y=V.offset+V.size}const L=(t-r-1)*n;return y+L},getEstimatedTotalWidth=({totalColumn:t},{column:n,estimatedColumnWidth:r,lastVisitedColumnIndex:g})=>{let y=0;if(g>t&&(g=t-1),g>=0){const V=n[g];y=V.offset+V.size}const L=(t-g-1)*r;return y+L},ACCESS_ESTIMATED_SIZE_KEY_MAP={column:getEstimatedTotalWidth,row:getEstimatedTotalHeight},getOffset=(t,n,r,g,y,$,L)=>{const[V,z]=[$==="row"?t.height:t.width,ACCESS_ESTIMATED_SIZE_KEY_MAP[$]],j=getItemFromCache(t,n,y,$),re=z(t,y),ae=max$3(0,min$3(re-V,j.offset)),oe=max$3(0,j.offset-V+L+j.size);switch(r===SMART_ALIGNMENT&&(g>=oe-V&&g<=ae+V?r=AUTO_ALIGNMENT:r=CENTERED_ALIGNMENT),r){case START_ALIGNMENT:return ae;case END_ALIGNMENT:return oe;case CENTERED_ALIGNMENT:return Math.round(oe+(ae-oe)/2);case AUTO_ALIGNMENT:default:return g>=oe&&g<=ae?g:oe>ae||g<oe?oe:ae}},DynamicSizeGrid=createGrid({name:"ElDynamicSizeGrid",getColumnPosition:(t,n,r)=>{const g=getItemFromCache(t,n,r,"column");return[g.size,g.offset]},getRowPosition:(t,n,r)=>{const g=getItemFromCache(t,n,r,"row");return[g.size,g.offset]},getColumnOffset:(t,n,r,g,y,$)=>getOffset(t,n,r,g,y,"column",$),getRowOffset:(t,n,r,g,y,$)=>getOffset(t,n,r,g,y,"row",$),getColumnStartIndexForOffset:(t,n,r)=>findItem(t,r,n,"column"),getColumnStopIndexForStartIndex:(t,n,r,g)=>{const y=getItemFromCache(t,n,g,"column"),$=r+t.width;let L=y.offset+y.size,V=n;for(;V<t.totalColumn-1&&L<$;)V++,L+=getItemFromCache(t,n,g,"column").size;return V},getEstimatedTotalHeight,getEstimatedTotalWidth,getRowStartIndexForOffset:(t,n,r)=>findItem(t,r,n,"row"),getRowStopIndexForStartIndex:(t,n,r,g)=>{const{totalRow:y,height:$}=t,L=getItemFromCache(t,n,g,"row"),V=r+$;let z=L.size+L.offset,j=n;for(;j<y-1&&z<V;)j++,z+=getItemFromCache(t,j,g,"row").size;return j},injectToInstance:(t,n)=>{const r=({columnIndex:$,rowIndex:L},V)=>{var z,j;V=isUndefined(V)?!0:V,isNumber$1($)&&(n.value.lastVisitedColumnIndex=Math.min(n.value.lastVisitedColumnIndex,$-1)),isNumber$1(L)&&(n.value.lastVisitedRowIndex=Math.min(n.value.lastVisitedRowIndex,L-1)),(z=t.exposed)==null||z.getItemStyleCache.value(-1,null,null),V&&((j=t.proxy)==null||j.$forceUpdate())},g=($,L)=>{r({columnIndex:$},L)},y=($,L)=>{r({rowIndex:$},L)};Object.assign(t.proxy,{resetAfterColumnIndex:g,resetAfterRowIndex:y,resetAfter:r})},initCache:({estimatedColumnWidth:t=DEFAULT_DYNAMIC_LIST_ITEM_SIZE,estimatedRowHeight:n=DEFAULT_DYNAMIC_LIST_ITEM_SIZE})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:n,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:n})=>{}}),FixedSizeGrid=createGrid({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},n)=>[t,n*t],getRowPosition:({rowHeight:t},n)=>[t,n*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:n})=>n*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:n})=>n*t,getColumnOffset:({totalColumn:t,columnWidth:n,width:r},g,y,$,L,V)=>{r=Number(r);const z=Math.max(0,t*n-r),j=Math.min(z,g*n),re=Math.max(0,g*n-r+V+n);switch(y==="smart"&&($>=re-r&&$<=j+r?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return j;case END_ALIGNMENT:return re;case CENTERED_ALIGNMENT:{const ae=Math.round(re+(j-re)/2);return ae<Math.ceil(r/2)?0:ae>z+Math.floor(r/2)?z:ae}case AUTO_ALIGNMENT:default:return $>=re&&$<=j?$:re>j||$<re?re:j}},getRowOffset:({rowHeight:t,height:n,totalRow:r},g,y,$,L,V)=>{n=Number(n);const z=Math.max(0,r*t-n),j=Math.min(z,g*t),re=Math.max(0,g*t-n+V+t);switch(y===SMART_ALIGNMENT&&($>=re-n&&$<=j+n?y=AUTO_ALIGNMENT:y=CENTERED_ALIGNMENT),y){case START_ALIGNMENT:return j;case END_ALIGNMENT:return re;case CENTERED_ALIGNMENT:{const ae=Math.round(re+(j-re)/2);return ae<Math.ceil(n/2)?0:ae>z+Math.floor(n/2)?z:ae}case AUTO_ALIGNMENT:default:return $>=re&&$<=j?$:re>j||$<re?re:j}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:n},r)=>Math.max(0,Math.min(n-1,Math.floor(r/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:n,width:r},g,y)=>{const $=g*t,L=Math.ceil((r+y-$)/t);return Math.max(0,Math.min(n-1,g+L-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:n},r)=>Math.max(0,Math.min(n-1,Math.floor(r/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:n,height:r},g,y)=>{const $=g*t,L=Math.ceil((r+y-$)/t);return Math.max(0,Math.min(n-1,g+L-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:n})=>{}}),COMPONENT_NAME$7="ElTableV2Grid",useTableGrid=t=>{const n=ref(),r=ref(),g=ref(0),y=computed(()=>{const{data:de,rowHeight:he,estimatedRowHeight:pe}=t;if(!pe)return de.length*he}),$=computed(()=>{const{fixedData:de,rowHeight:he}=t;return((de==null?void 0:de.length)||0)*he}),L=computed(()=>sum$1(t.headerHeight)),V=computed(()=>{const{height:de}=t;return Math.max(0,de-unref(L)-unref($))}),z=computed(()=>unref(L)+unref($)>0),j=({data:de,rowIndex:he})=>de[he][t.rowKey];function re({rowCacheStart:de,rowCacheEnd:he,rowVisibleStart:pe,rowVisibleEnd:_e}){var Ce;(Ce=t.onRowsRendered)==null||Ce.call(t,{rowCacheStart:de,rowCacheEnd:he,rowVisibleStart:pe,rowVisibleEnd:_e})}function ae(de,he){var pe;(pe=r.value)==null||pe.resetAfterRowIndex(de,he)}function oe(de,he){const pe=unref(n),_e=unref(r);isObject$5(de)?(pe==null||pe.scrollToLeft(de.scrollLeft),g.value=de.scrollLeft,_e==null||_e.scrollTo(de)):(pe==null||pe.scrollToLeft(de),g.value=de,_e==null||_e.scrollTo({scrollLeft:de,scrollTop:he}))}function ie(de){var he;(he=unref(r))==null||he.scrollTo({scrollTop:de})}function le(de,he){var pe;(pe=unref(r))==null||pe.scrollToItem(de,1,he)}function ue(){var de,he;(de=unref(r))==null||de.$forceUpdate(),(he=unref(n))==null||he.$forceUpdate()}return watch(()=>t.bodyWidth,()=>{var de;isNumber$1(t.estimatedRowHeight)&&((de=r.value)==null||de.resetAfter({columnIndex:0},!1))}),{bodyRef:r,forceUpdate:ue,fixedRowHeight:$,gridHeight:V,hasHeader:z,headerHeight:L,headerRef:n,totalHeight:y,itemKey:j,onItemRendered:re,resetAfterRowIndex:ae,scrollTo:oe,scrollToTop:ie,scrollToRow:le,scrollLeft:g}},TableGrid=defineComponent({name:COMPONENT_NAME$7,props:tableV2GridProps,setup(t,{slots:n,expose:r}){const{ns:g}=inject(TableV2InjectionKey),{bodyRef:y,fixedRowHeight:$,gridHeight:L,hasHeader:V,headerRef:z,headerHeight:j,totalHeight:re,forceUpdate:ae,itemKey:oe,onItemRendered:ie,resetAfterRowIndex:le,scrollTo:ue,scrollToTop:de,scrollToRow:he,scrollLeft:pe}=useTableGrid(t);provide(TABLE_V2_GRID_INJECTION_KEY,pe),onActivated(async()=>{var Ce;await nextTick();const xe=(Ce=y.value)==null?void 0:Ce.states.scrollTop;xe&&de(Math.round(xe)+1)}),r({forceUpdate:ae,totalHeight:re,scrollTo:ue,scrollToTop:de,scrollToRow:he,resetAfterRowIndex:le});const _e=()=>t.bodyWidth;return()=>{const{cache:Ce,columns:xe,data:Ie,fixedData:$e,useIsScrolling:Oe,scrollbarAlwaysOn:Ne,scrollbarEndGap:Fe,scrollbarStartGap:Ve,style:ze,rowHeight:Et,bodyWidth:Dt,estimatedRowHeight:Ue,headerWidth:qe,height:Lt,width:Pt,getRowHeight:At,onScroll:vn}=t,En=isNumber$1(Ue),Sn=En?DynamicSizeGrid:FixedSizeGrid,kt=unref(j);return createVNode$1("div",{role:"table",class:[g.e("table"),t.class],style:ze},[createVNode$1(Sn,{ref:y,data:Ie,useIsScrolling:Oe,itemKey:oe,columnCache:0,columnWidth:En?_e:Dt,totalColumn:1,totalRow:Ie.length,rowCache:Ce,rowHeight:En?At:Et,width:Pt,height:unref(L),class:g.e("body"),role:"rowgroup",scrollbarStartGap:Ve,scrollbarEndGap:Fe,scrollbarAlwaysOn:Ne,onScroll:vn,onItemRendered:ie,perfMode:!1},{default:jt=>{var _n;const wn=Ie[jt.rowIndex];return(_n=n.row)==null?void 0:_n.call(n,{...jt,columns:xe,rowData:wn})}}),unref(V)&&createVNode$1(Header$1,{ref:z,class:g.e("header-wrapper"),columns:xe,headerData:Ie,headerHeight:t.headerHeight,fixedHeaderData:$e,rowWidth:qe,rowHeight:Et,width:Pt,height:Math.min(kt+unref($),Lt)},{dynamic:n.header,fixed:n.row})])}}});var Table=TableGrid;function _isSlot$5(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const MainTable=(t,{slots:n})=>{const{mainTableRef:r,...g}=t;return createVNode$1(Table,mergeProps({ref:r},g),_isSlot$5(n)?n:{default:()=>[n]})};var MainTable$1=MainTable;function _isSlot$4(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const LeftTable$1=(t,{slots:n})=>{if(!t.columns.length)return;const{leftTableRef:r,...g}=t;return createVNode$1(Table,mergeProps({ref:r},g),_isSlot$4(n)?n:{default:()=>[n]})};var LeftTable$1$1=LeftTable$1;function _isSlot$3(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const LeftTable=(t,{slots:n})=>{if(!t.columns.length)return;const{rightTableRef:r,...g}=t;return createVNode$1(Table,mergeProps({ref:r},g),_isSlot$3(n)?n:{default:()=>[n]})};var RightTable=LeftTable;const useTableRow=t=>{const{isScrolling:n}=inject(TableV2InjectionKey),r=ref(!1),g=ref(),y=computed(()=>isNumber$1(t.estimatedRowHeight)&&t.rowIndex>=0),$=(z=!1)=>{const j=unref(g);if(!j)return;const{columns:re,onRowHeightChange:ae,rowKey:oe,rowIndex:ie,style:le}=t,{height:ue}=j.getBoundingClientRect();r.value=!0,nextTick(()=>{if(z||ue!==Number.parseInt(le.height)){const de=re[0],he=(de==null?void 0:de.placeholderSign)===placeholderSign;ae==null||ae({rowKey:oe,height:ue,rowIndex:ie},de&&!he&&de.fixed)}})},L=computed(()=>{const{rowData:z,rowIndex:j,rowKey:re,onRowHover:ae}=t,oe=t.rowEventHandlers||{},ie={};return Object.entries(oe).forEach(([le,ue])=>{isFunction$3(ue)&&(ie[le]=de=>{ue({event:de,rowData:z,rowIndex:j,rowKey:re})})}),ae&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:le,hovered:ue})=>{const de=ie[le];ie[le]=he=>{ae({event:he,hovered:ue,rowData:z,rowIndex:j,rowKey:re}),de==null||de(he)}}),ie}),V=z=>{const{onRowExpand:j,rowData:re,rowIndex:ae,rowKey:oe}=t;j==null||j({expanded:z,rowData:re,rowIndex:ae,rowKey:oe})};return onMounted(()=>{unref(y)&&$(!0)}),{isScrolling:n,measurable:y,measured:r,rowRef:g,eventHandlers:L,onExpand:V}},COMPONENT_NAME$6="ElTableV2TableRow",TableV2Row=defineComponent({name:COMPONENT_NAME$6,props:tableV2RowProps,setup(t,{expose:n,slots:r,attrs:g}){const{eventHandlers:y,isScrolling:$,measurable:L,measured:V,rowRef:z,onExpand:j}=useTableRow(t);return n({onExpand:j}),()=>{const{columns:re,columnsStyles:ae,expandColumnKey:oe,depth:ie,rowData:le,rowIndex:ue,style:de}=t;let he=re.map((pe,_e)=>{const Ce=isArray$4(le.children)&&le.children.length>0&&pe.key===oe;return r.cell({column:pe,columns:re,columnIndex:_e,depth:ie,style:ae[pe.key],rowData:le,rowIndex:ue,isScrolling:unref($),expandIconProps:Ce?{rowData:le,rowIndex:ue,onExpand:j}:void 0})});if(r.row&&(he=r.row({cells:he.map(pe=>isArray$4(pe)&&pe.length===1?pe[0]:pe),style:de,columns:re,depth:ie,rowData:le,rowIndex:ue,isScrolling:unref($)})),unref(L)){const{height:pe,..._e}=de||{},Ce=unref(V);return createVNode$1("div",mergeProps({ref:z,class:t.class,style:Ce?de:_e,role:"row"},g,unref(y)),[he])}return createVNode$1("div",mergeProps(g,{ref:z,class:t.class,style:de,role:"row"},unref(y)),[he])}}});var Row$1=TableV2Row;function _isSlot$2(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const RowRenderer=(t,{slots:n})=>{const{columns:r,columnsStyles:g,depthMap:y,expandColumnKey:$,expandedRowKeys:L,estimatedRowHeight:V,hasFixedColumns:z,rowData:j,rowIndex:re,style:ae,isScrolling:oe,rowProps:ie,rowClass:le,rowKey:ue,rowEventHandlers:de,ns:he,onRowHovered:pe,onRowExpanded:_e}=t,Ce=tryCall(le,{columns:r,rowData:j,rowIndex:re},""),xe=tryCall(ie,{columns:r,rowData:j,rowIndex:re}),Ie=j[ue],$e=y[Ie]||0,Oe=!!$,Ne=re<0,Fe=[he.e("row"),Ce,{[he.e(`row-depth-${$e}`)]:Oe&&re>=0,[he.is("expanded")]:Oe&&L.includes(Ie),[he.is("fixed")]:!$e&&Ne,[he.is("customized")]:!!n.row}],Ve=z?pe:void 0,ze={...xe,columns:r,columnsStyles:g,class:Fe,depth:$e,expandColumnKey:$,estimatedRowHeight:Ne?void 0:V,isScrolling:oe,rowIndex:re,rowData:j,rowKey:Ie,rowEventHandlers:de,style:ae};return createVNode$1(Row$1,mergeProps(ze,{onRowExpand:_e,onMouseenter:Ue=>{Ve==null||Ve({hovered:!0,rowKey:Ie,event:Ue,rowData:j,rowIndex:re})},onMouseleave:Ue=>{Ve==null||Ve({hovered:!1,rowKey:Ie,event:Ue,rowData:j,rowIndex:re})},rowkey:Ie}),_isSlot$2(n)?n:{default:()=>[n]})};var Row=RowRenderer;const TableV2Cell=(t,{slots:n})=>{var r;const{cellData:g,style:y}=t,$=((r=g==null?void 0:g.toString)==null?void 0:r.call(g))||"",L=renderSlot(n,"default",t,()=>[$]);return createVNode$1("div",{class:t.class,title:$,style:y},[L])};TableV2Cell.displayName="ElTableV2Cell";TableV2Cell.inheritAttrs=!1;var TableCell=TableV2Cell;const ExpandIcon=t=>{const{expanded:n,expandable:r,onExpand:g,style:y,size:$}=t,L={onClick:r?()=>g(!n):void 0,class:t.class};return createVNode$1(ElIcon,mergeProps(L,{size:$,style:y}),{default:()=>[createVNode$1(arrow_right_default,null,null)]})};var ExpandIcon$1=ExpandIcon;const CellRenderer=({columns:t,column:n,columnIndex:r,depth:g,expandIconProps:y,isScrolling:$,rowData:L,rowIndex:V,style:z,expandedRowKeys:j,ns:re,cellProps:ae,expandColumnKey:oe,indentSize:ie,iconSize:le,rowKey:ue},{slots:de})=>{const he=enforceUnit(z);if(n.placeholderSign===placeholderSign)return createVNode$1("div",{class:re.em("row-cell","placeholder"),style:he},null);const{cellRenderer:pe,dataKey:_e,dataGetter:Ce}=n,xe=isFunction$3(Ce)?Ce({columns:t,column:n,columnIndex:r,rowData:L,rowIndex:V}):get$1(L,_e??""),Ie=tryCall(ae,{cellData:xe,columns:t,column:n,columnIndex:r,rowIndex:V,rowData:L}),$e={class:re.e("cell-text"),columns:t,column:n,columnIndex:r,cellData:xe,isScrolling:$,rowData:L,rowIndex:V},Oe=componentToSlot(pe),Ne=Oe?Oe($e):renderSlot(de,"default",$e,()=>[createVNode$1(TableCell,$e,null)]),Fe=[re.e("row-cell"),n.class,n.align===Alignment.CENTER&&re.is("align-center"),n.align===Alignment.RIGHT&&re.is("align-right")],Ve=V>=0&&oe&&n.key===oe,ze=V>=0&&j.includes(L[ue]);let Et;const Dt=`margin-inline-start: ${g*ie}px;`;return Ve&&(isObject$5(y)?Et=createVNode$1(ExpandIcon$1,mergeProps(y,{class:[re.e("expand-icon"),re.is("expanded",ze)],size:le,expanded:ze,style:Dt,expandable:!0}),null):Et=createVNode$1("div",{style:[Dt,`width: ${le}px; height: ${le}px;`].join(" ")},null)),createVNode$1("div",mergeProps({class:Fe,style:he},Ie,{role:"cell"}),[Et,Ne])};CellRenderer.inheritAttrs=!1;var Cell=CellRenderer;const tableV2HeaderRowProps=buildProps({class:String,columns,columnsStyles:{type:definePropType(Object),required:!0},headerIndex:Number,style:{type:definePropType(Object)}}),TableV2HeaderRow=defineComponent({name:"ElTableV2HeaderRow",props:tableV2HeaderRowProps,setup(t,{slots:n}){return()=>{const{columns:r,columnsStyles:g,headerIndex:y,style:$}=t;let L=r.map((V,z)=>n.cell({columns:r,column:V,columnIndex:z,headerIndex:y,style:g[V.key]}));return n.header&&(L=n.header({cells:L.map(V=>isArray$4(V)&&V.length===1?V[0]:V),columns:r,headerIndex:y})),createVNode$1("div",{class:t.class,style:$,role:"row"},[L])}}});var HeaderRow=TableV2HeaderRow;function _isSlot$1(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const HeaderRenderer=({columns:t,columnsStyles:n,headerIndex:r,style:g,headerClass:y,headerProps:$,ns:L},{slots:V})=>{const z={columns:t,headerIndex:r},j=[L.e("header-row"),tryCall(y,z,""),{[L.is("customized")]:!!V.header}],re={...tryCall($,z),columnsStyles:n,class:j,columns:t,headerIndex:r,style:g};return createVNode$1(HeaderRow,re,_isSlot$1(V)?V:{default:()=>[V]})};var Header=HeaderRenderer;const HeaderCell$1=(t,{slots:n})=>renderSlot(n,"default",t,()=>{var r,g;return[createVNode$1("div",{class:t.class,title:(r=t.column)==null?void 0:r.title},[(g=t.column)==null?void 0:g.title])]});HeaderCell$1.displayName="ElTableV2HeaderCell";HeaderCell$1.inheritAttrs=!1;var HeaderCell$1$1=HeaderCell$1;const SortIcon=t=>{const{sortOrder:n}=t;return createVNode$1(ElIcon,{size:14,class:t.class},{default:()=>[n===SortOrder.ASC?createVNode$1(sort_up_default,null,null):createVNode$1(sort_down_default,null,null)]})};var SortIcon$1=SortIcon;const HeaderCellRenderer=(t,{slots:n})=>{const{column:r,ns:g,style:y,onColumnSorted:$}=t,L=enforceUnit(y);if(r.placeholderSign===placeholderSign)return createVNode$1("div",{class:g.em("header-row-cell","placeholder"),style:L},null);const{headerCellRenderer:V,headerClass:z,sortable:j}=r,re={...t,class:g.e("header-cell-text")},ae=componentToSlot(V),oe=ae?ae(re):renderSlot(n,"default",re,()=>[createVNode$1(HeaderCell$1$1,re,null)]),{sortBy:ie,sortState:le,headerCellProps:ue}=t;let de,he;if(le){const Ce=le[r.key];de=!!oppositeOrderMap[Ce],he=de?Ce:SortOrder.ASC}else de=r.key===ie.key,he=de?ie.order:SortOrder.ASC;const pe=[g.e("header-cell"),tryCall(z,t,""),r.align===Alignment.CENTER&&g.is("align-center"),r.align===Alignment.RIGHT&&g.is("align-right"),j&&g.is("sortable")],_e={...tryCall(ue,t),onClick:r.sortable?$:void 0,class:pe,style:L,"data-key":r.key};return createVNode$1("div",mergeProps(_e,{role:"columnheader"}),[oe,j&&createVNode$1(SortIcon$1,{class:[g.e("sort-icon"),de&&g.is("sorting")],sortOrder:he},null)])};var HeaderCell=HeaderCellRenderer;const Footer$1=(t,{slots:n})=>{var r;return createVNode$1("div",{class:t.class,style:t.style},[(r=n.default)==null?void 0:r.call(n)])};Footer$1.displayName="ElTableV2Footer";var Footer$1$1=Footer$1;const Footer=(t,{slots:n})=>{const r=renderSlot(n,"default",{},()=>[createVNode$1(ElEmpty,null,null)]);return createVNode$1("div",{class:t.class,style:t.style},[r])};Footer.displayName="ElTableV2Empty";var Empty=Footer;const Overlay=(t,{slots:n})=>{var r;return createVNode$1("div",{class:t.class,style:t.style},[(r=n.default)==null?void 0:r.call(n)])};Overlay.displayName="ElTableV2Overlay";var Overlay$1=Overlay;function _isSlot(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!isVNode(t)}const COMPONENT_NAME$5="ElTableV2",TableV2=defineComponent({name:COMPONENT_NAME$5,props:tableV2Props,setup(t,{slots:n,expose:r}){const g=useNamespace("table-v2"),{columnsStyles:y,fixedColumnsOnLeft:$,fixedColumnsOnRight:L,mainColumns:V,mainTableHeight:z,fixedTableHeight:j,leftTableWidth:re,rightTableWidth:ae,data:oe,depthMap:ie,expandedRowKeys:le,hasFixedColumns:ue,mainTableRef:de,leftTableRef:he,rightTableRef:pe,isDynamic:_e,isResetting:Ce,isScrolling:xe,bodyWidth:Ie,emptyStyle:$e,rootStyle:Oe,footerHeight:Ne,showEmpty:Fe,scrollTo:Ve,scrollToLeft:ze,scrollToTop:Et,scrollToRow:Dt,getRowHeight:Ue,onColumnSorted:qe,onRowHeightChange:Lt,onRowHovered:Pt,onRowExpanded:At,onRowsRendered:vn,onScroll:En,onVerticalScroll:Sn}=useTable(t);return r({scrollTo:Ve,scrollToLeft:ze,scrollToTop:Et,scrollToRow:Dt}),provide(TableV2InjectionKey,{ns:g,isResetting:Ce,isScrolling:xe}),()=>{const{cache:kt,cellProps:jt,estimatedRowHeight:_n,expandColumnKey:wn,fixedData:hn,headerHeight:Cn,headerClass:Tn,headerProps:xn,headerCellProps:Mn,sortBy:bn,sortState:Pn,rowHeight:Rn,rowClass:Fn,rowEventHandlers:Dn,rowKey:Ln,rowProps:kn,scrollbarAlwaysOn:In,indentSize:Vn,iconSize:zn,useIsScrolling:Kn,vScrollbarSize:jn,width:Wn}=t,Un=unref(oe),nr={cache:kt,class:g.e("main"),columns:unref(V),data:Un,fixedData:hn,estimatedRowHeight:_n,bodyWidth:unref(Ie),headerHeight:Cn,headerWidth:unref(Ie),height:unref(z),mainTableRef:de,rowKey:Ln,rowHeight:Rn,scrollbarAlwaysOn:In,scrollbarStartGap:2,scrollbarEndGap:jn,useIsScrolling:Kn,width:Wn,getRowHeight:Ue,onRowsRendered:vn,onScroll:En},sr=unref(re),mr=unref(j),vr={cache:kt,class:g.e("left"),columns:unref($),data:Un,fixedData:hn,estimatedRowHeight:_n,leftTableRef:he,rowHeight:Rn,bodyWidth:sr,headerWidth:sr,headerHeight:Cn,height:mr,rowKey:Ln,scrollbarAlwaysOn:In,scrollbarStartGap:2,scrollbarEndGap:jn,useIsScrolling:Kn,width:sr,getRowHeight:Ue,onScroll:Sn},Sr=unref(ae),yr={cache:kt,class:g.e("right"),columns:unref(L),data:Un,fixedData:hn,estimatedRowHeight:_n,rightTableRef:pe,rowHeight:Rn,bodyWidth:Sr,headerWidth:Sr,headerHeight:Cn,height:mr,rowKey:Ln,scrollbarAlwaysOn:In,scrollbarStartGap:2,scrollbarEndGap:jn,width:Sr,style:`--${unref(g.namespace)}-table-scrollbar-size: ${jn}px`,useIsScrolling:Kn,getRowHeight:Ue,onScroll:Sn},ir=unref(y),gr={ns:g,depthMap:unref(ie),columnsStyles:ir,expandColumnKey:wn,expandedRowKeys:unref(le),estimatedRowHeight:_n,hasFixedColumns:unref(ue),rowProps:kn,rowClass:Fn,rowKey:Ln,rowEventHandlers:Dn,onRowHovered:Pt,onRowExpanded:At,onRowHeightChange:Lt},Gn={cellProps:jt,expandColumnKey:wn,indentSize:Vn,iconSize:zn,rowKey:Ln,expandedRowKeys:unref(le),ns:g},Qn={ns:g,headerClass:Tn,headerProps:xn,columnsStyles:ir},Nn={ns:g,sortBy:bn,sortState:Pn,headerCellProps:Mn,onColumnSorted:qe},Hn={row:Cr=>createVNode$1(Row,mergeProps(Cr,gr),{row:n.row,cell:$n=>{let Xn;return n.cell?createVNode$1(Cell,mergeProps($n,Gn,{style:ir[$n.column.key]}),_isSlot(Xn=n.cell($n))?Xn:{default:()=>[Xn]}):createVNode$1(Cell,mergeProps($n,Gn,{style:ir[$n.column.key]}),null)}}),header:Cr=>createVNode$1(Header,mergeProps(Cr,Qn),{header:n.header,cell:$n=>{let Xn;return n["header-cell"]?createVNode$1(HeaderCell,mergeProps($n,Nn,{style:ir[$n.column.key]}),_isSlot(Xn=n["header-cell"]($n))?Xn:{default:()=>[Xn]}):createVNode$1(HeaderCell,mergeProps($n,Nn,{style:ir[$n.column.key]}),null)}})},Yn=[t.class,g.b(),g.e("root"),{[g.is("dynamic")]:unref(_e)}],pr={class:g.e("footer"),style:unref(Ne)};return createVNode$1("div",{class:Yn,style:unref(Oe)},[createVNode$1(MainTable$1,nr,_isSlot(Hn)?Hn:{default:()=>[Hn]}),createVNode$1(LeftTable$1$1,vr,_isSlot(Hn)?Hn:{default:()=>[Hn]}),createVNode$1(RightTable,yr,_isSlot(Hn)?Hn:{default:()=>[Hn]}),n.footer&&createVNode$1(Footer$1$1,pr,{default:n.footer}),unref(Fe)&&createVNode$1(Empty,{class:g.e("empty"),style:unref($e)},{default:n.empty}),n.overlay&&createVNode$1(Overlay$1,{class:g.e("overlay")},{default:n.overlay})])}}});var TableV2$1=TableV2;const autoResizerProps=buildProps({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:definePropType(Function)}}),useAutoResize=t=>{const n=ref(),r=ref(0),g=ref(0);let y;return onMounted(()=>{y=useResizeObserver(n,([$])=>{const{width:L,height:V}=$.contentRect,{paddingLeft:z,paddingRight:j,paddingTop:re,paddingBottom:ae}=getComputedStyle($.target),oe=Number.parseInt(z)||0,ie=Number.parseInt(j)||0,le=Number.parseInt(re)||0,ue=Number.parseInt(ae)||0;r.value=L-oe-ie,g.value=V-le-ue}).stop}),onBeforeUnmount(()=>{y==null||y()}),watch([r,g],([$,L])=>{var V;(V=t.onResize)==null||V.call(t,{width:$,height:L})}),{sizer:n,width:r,height:g}},AutoResizer=defineComponent({name:"ElAutoResizer",props:autoResizerProps,setup(t,{slots:n}){const r=useNamespace("auto-resizer"),{height:g,width:y,sizer:$}=useAutoResize(t),L={width:"100%",height:"100%"};return()=>{var V;return createVNode$1("div",{ref:$,class:r.b(),style:L},[(V=n.default)==null?void 0:V.call(n,{height:g.value,width:y.value})])}}});var AutoResizer$1=AutoResizer;const ElTableV2=withInstall(TableV2$1),ElAutoResizer=withInstall(AutoResizer$1),tabsRootContextKey=Symbol("tabsRootContextKey"),tabBarProps=buildProps({tabs:{type:definePropType(Array),default:()=>mutable([])}}),COMPONENT_NAME$4="ElTabBar",__default__$x=defineComponent({name:COMPONENT_NAME$4}),_sfc_main$O=defineComponent({...__default__$x,props:tabBarProps,setup(t,{expose:n}){const r=t,g=getCurrentInstance(),y=inject(tabsRootContextKey);y||throwError$1(COMPONENT_NAME$4,"<el-tabs><el-tab-bar /></el-tabs>");const $=useNamespace("tabs"),L=ref(),V=ref(),z=()=>{let ie=0,le=0;const ue=["top","bottom"].includes(y.props.tabPosition)?"width":"height",de=ue==="width"?"x":"y",he=de==="x"?"left":"top";return r.tabs.every(pe=>{var _e,Ce;const xe=(Ce=(_e=g.parent)==null?void 0:_e.refs)==null?void 0:Ce[`tab-${pe.uid}`];if(!xe)return!1;if(!pe.active)return!0;ie=xe[`offset${capitalize(he)}`],le=xe[`client${capitalize(ue)}`];const Ie=window.getComputedStyle(xe);return ue==="width"&&(le-=Number.parseFloat(Ie.paddingLeft)+Number.parseFloat(Ie.paddingRight),ie+=Number.parseFloat(Ie.paddingLeft)),!1}),{[ue]:`${le}px`,transform:`translate${capitalize(de)}(${ie}px)`}},j=()=>V.value=z(),re=[],ae=()=>{var ie;re.forEach(ue=>ue.stop()),re.length=0;const le=(ie=g.parent)==null?void 0:ie.refs;if(le){for(const ue in le)if(ue.startsWith("tab-")){const de=le[ue];de&&re.push(useResizeObserver(de,j))}}};watch(()=>r.tabs,async()=>{await nextTick(),j(),ae()},{immediate:!0});const oe=useResizeObserver(L,()=>j());return onBeforeUnmount(()=>{re.forEach(ie=>ie.stop()),re.length=0,oe.stop()}),n({ref:L,update:j}),(ie,le)=>(openBlock(),createElementBlock("div",{ref_key:"barRef",ref:L,class:normalizeClass([unref($).e("active-bar"),unref($).is(unref(y).props.tabPosition)]),style:normalizeStyle$1(V.value)},null,6))}});var TabBar=_export_sfc$1(_sfc_main$O,[["__file","tab-bar.vue"]]);const tabNavProps=buildProps({panes:{type:definePropType(Array),default:()=>mutable([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),tabNavEmits={tabClick:(t,n,r)=>r instanceof Event,tabRemove:(t,n)=>n instanceof Event},COMPONENT_NAME$3="ElTabNav",TabNav=defineComponent({name:COMPONENT_NAME$3,props:tabNavProps,emits:tabNavEmits,setup(t,{expose:n,emit:r}){const g=inject(tabsRootContextKey);g||throwError$1(COMPONENT_NAME$3,"<el-tabs><tab-nav /></el-tabs>");const y=useNamespace("tabs"),$=useDocumentVisibility(),L=useWindowFocus(),V=ref(),z=ref(),j=ref(),re=ref(),ae=ref(!1),oe=ref(0),ie=ref(!1),le=ref(!0),ue=computed(()=>["top","bottom"].includes(g.props.tabPosition)?"width":"height"),de=computed(()=>({transform:`translate${ue.value==="width"?"X":"Y"}(-${oe.value}px)`})),he=()=>{if(!V.value)return;const Oe=V.value[`offset${capitalize(ue.value)}`],Ne=oe.value;if(!Ne)return;const Fe=Ne>Oe?Ne-Oe:0;oe.value=Fe},pe=()=>{if(!V.value||!z.value)return;const Oe=z.value[`offset${capitalize(ue.value)}`],Ne=V.value[`offset${capitalize(ue.value)}`],Fe=oe.value;if(Oe-Fe<=Ne)return;const Ve=Oe-Fe>Ne*2?Fe+Ne:Oe-Ne;oe.value=Ve},_e=async()=>{const Oe=z.value;if(!ae.value||!j.value||!V.value||!Oe)return;await nextTick();const Ne=j.value.querySelector(".is-active");if(!Ne)return;const Fe=V.value,Ve=["top","bottom"].includes(g.props.tabPosition),ze=Ne.getBoundingClientRect(),Et=Fe.getBoundingClientRect(),Dt=Ve?Oe.offsetWidth-Et.width:Oe.offsetHeight-Et.height,Ue=oe.value;let qe=Ue;Ve?(ze.left<Et.left&&(qe=Ue-(Et.left-ze.left)),ze.right>Et.right&&(qe=Ue+ze.right-Et.right)):(ze.top<Et.top&&(qe=Ue-(Et.top-ze.top)),ze.bottom>Et.bottom&&(qe=Ue+(ze.bottom-Et.bottom))),qe=Math.max(qe,0),oe.value=Math.min(qe,Dt)},Ce=()=>{var Oe;if(!z.value||!V.value)return;t.stretch&&((Oe=re.value)==null||Oe.update());const Ne=z.value[`offset${capitalize(ue.value)}`],Fe=V.value[`offset${capitalize(ue.value)}`],Ve=oe.value;Fe<Ne?(ae.value=ae.value||{},ae.value.prev=Ve,ae.value.next=Ve+Fe<Ne,Ne-Ve<Fe&&(oe.value=Ne-Fe)):(ae.value=!1,Ve>0&&(oe.value=0))},xe=Oe=>{let Ne=0;switch(Oe.code){case EVENT_CODE.left:case EVENT_CODE.up:Ne=-1;break;case EVENT_CODE.right:case EVENT_CODE.down:Ne=1;break;default:return}const Fe=Array.from(Oe.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)"));let ze=Fe.indexOf(Oe.target)+Ne;ze<0?ze=Fe.length-1:ze>=Fe.length&&(ze=0),Fe[ze].focus({preventScroll:!0}),Fe[ze].click(),Ie()},Ie=()=>{le.value&&(ie.value=!0)},$e=()=>ie.value=!1;return watch($,Oe=>{Oe==="hidden"?le.value=!1:Oe==="visible"&&setTimeout(()=>le.value=!0,50)}),watch(L,Oe=>{Oe?setTimeout(()=>le.value=!0,50):le.value=!1}),useResizeObserver(j,Ce),onMounted(()=>setTimeout(()=>_e(),0)),onUpdated(()=>Ce()),n({scrollToActiveTab:_e,removeFocus:$e,tabListRef:z,tabBarRef:re}),()=>{const Oe=ae.value?[createVNode$1("span",{class:[y.e("nav-prev"),y.is("disabled",!ae.value.prev)],onClick:he},[createVNode$1(ElIcon,null,{default:()=>[createVNode$1(arrow_left_default,null,null)]})]),createVNode$1("span",{class:[y.e("nav-next"),y.is("disabled",!ae.value.next)],onClick:pe},[createVNode$1(ElIcon,null,{default:()=>[createVNode$1(arrow_right_default,null,null)]})])]:null,Ne=t.panes.map((Fe,Ve)=>{var ze,Et,Dt,Ue;const qe=Fe.uid,Lt=Fe.props.disabled,Pt=(Et=(ze=Fe.props.name)!=null?ze:Fe.index)!=null?Et:`${Ve}`,At=!Lt&&(Fe.isClosable||t.editable);Fe.index=`${Ve}`;const vn=At?createVNode$1(ElIcon,{class:"is-icon-close",onClick:kt=>r("tabRemove",Fe,kt)},{default:()=>[createVNode$1(close_default,null,null)]}):null,En=((Ue=(Dt=Fe.slots).label)==null?void 0:Ue.call(Dt))||Fe.props.label,Sn=!Lt&&Fe.active?0:-1;return createVNode$1("div",{ref:`tab-${qe}`,class:[y.e("item"),y.is(g.props.tabPosition),y.is("active",Fe.active),y.is("disabled",Lt),y.is("closable",At),y.is("focus",ie.value)],id:`tab-${Pt}`,key:`tab-${qe}`,"aria-controls":`pane-${Pt}`,role:"tab","aria-selected":Fe.active,tabindex:Sn,onFocus:()=>Ie(),onBlur:()=>$e(),onClick:kt=>{$e(),r("tabClick",Fe,Pt,kt)},onKeydown:kt=>{At&&(kt.code===EVENT_CODE.delete||kt.code===EVENT_CODE.backspace)&&r("tabRemove",Fe,kt)}},[En,vn])});return createVNode$1("div",{ref:j,class:[y.e("nav-wrap"),y.is("scrollable",!!ae.value),y.is(g.props.tabPosition)]},[Oe,createVNode$1("div",{class:y.e("nav-scroll"),ref:V},[createVNode$1("div",{class:[y.e("nav"),y.is(g.props.tabPosition),y.is("stretch",t.stretch&&["top","bottom"].includes(g.props.tabPosition))],ref:z,style:de.value,role:"tablist",onKeydown:xe},[t.type?null:createVNode$1(TabBar,{ref:re,tabs:[...t.panes]},null),Ne])])])}}}),tabsProps=buildProps({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:definePropType(Function),default:()=>!0},stretch:Boolean}),isPaneName=t=>isString$2(t)||isNumber$1(t),tabsEmits={[UPDATE_MODEL_EVENT]:t=>isPaneName(t),tabClick:(t,n)=>n instanceof Event,tabChange:t=>isPaneName(t),edit:(t,n)=>["remove","add"].includes(n),tabRemove:t=>isPaneName(t),tabAdd:()=>!0},Tabs=defineComponent({name:"ElTabs",props:tabsProps,emits:tabsEmits,setup(t,{emit:n,slots:r,expose:g}){var y;const $=useNamespace("tabs"),L=computed(()=>["left","right"].includes(t.tabPosition)),{children:V,addChild:z,removeChild:j}=useOrderedChildren(getCurrentInstance(),"ElTabPane"),re=ref(),ae=ref((y=t.modelValue)!=null?y:"0"),oe=async(he,pe=!1)=>{var _e,Ce;if(!(ae.value===he||isUndefined(he)))try{let xe;if(t.beforeLeave){const Ie=t.beforeLeave(he,ae.value);xe=Ie instanceof Promise?await Ie:Ie}else xe=!0;xe!==!1&&(ae.value=he,pe&&(n(UPDATE_MODEL_EVENT,he),n("tabChange",he)),(Ce=(_e=re.value)==null?void 0:_e.removeFocus)==null||Ce.call(_e))}catch{}},ie=(he,pe,_e)=>{he.props.disabled||(n("tabClick",he,_e),oe(pe,!0))},le=(he,pe)=>{he.props.disabled||isUndefined(he.props.name)||(pe.stopPropagation(),n("edit",he.props.name,"remove"),n("tabRemove",he.props.name))},ue=()=>{n("edit",void 0,"add"),n("tabAdd")};watch(()=>t.modelValue,he=>oe(he)),watch(ae,async()=>{var he;await nextTick(),(he=re.value)==null||he.scrollToActiveTab()}),provide(tabsRootContextKey,{props:t,currentName:ae,registerPane:he=>{V.value.push(he)},sortPane:z,unregisterPane:j}),g({currentName:ae,tabNavRef:re});const de=({render:he})=>he();return()=>{const he=r["add-icon"],pe=t.editable||t.addable?createVNode$1("div",{class:[$.e("new-tab"),L.value&&$.e("new-tab-vertical")],tabindex:"0",onClick:ue,onKeydown:xe=>{[EVENT_CODE.enter,EVENT_CODE.numpadEnter].includes(xe.code)&&ue()}},[he?renderSlot(r,"add-icon"):createVNode$1(ElIcon,{class:$.is("icon-plus")},{default:()=>[createVNode$1(plus_default,null,null)]})]):null,_e=createVNode$1("div",{class:[$.e("header"),L.value&&$.e("header-vertical"),$.is(t.tabPosition)]},[createVNode$1(de,{render:()=>{const xe=V.value.some(Ie=>Ie.slots.label);return createVNode$1(TabNav,{ref:re,currentName:ae.value,editable:t.editable,type:t.type,panes:V.value,stretch:t.stretch,onTabClick:ie,onTabRemove:le},{$stable:!xe})}},null),pe]),Ce=createVNode$1("div",{class:$.e("content")},[renderSlot(r,"default")]);return createVNode$1("div",{class:[$.b(),$.m(t.tabPosition),{[$.m("card")]:t.type==="card",[$.m("border-card")]:t.type==="border-card"}]},[Ce,_e])}}});var Tabs$1=Tabs;const tabPaneProps=buildProps({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),COMPONENT_NAME$2="ElTabPane",__default__$w=defineComponent({name:COMPONENT_NAME$2}),_sfc_main$N=defineComponent({...__default__$w,props:tabPaneProps,setup(t){const n=t,r=getCurrentInstance(),g=useSlots(),y=inject(tabsRootContextKey);y||throwError$1(COMPONENT_NAME$2,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const $=useNamespace("tab-pane"),L=ref(),V=computed(()=>n.closable||y.props.closable),z=computedEager(()=>{var ie;return y.currentName.value===((ie=n.name)!=null?ie:L.value)}),j=ref(z.value),re=computed(()=>{var ie;return(ie=n.name)!=null?ie:L.value}),ae=computedEager(()=>!n.lazy||j.value||z.value);watch(z,ie=>{ie&&(j.value=!0)});const oe=reactive({uid:r.uid,slots:g,props:n,paneName:re,active:z,index:L,isClosable:V});return y.registerPane(oe),onMounted(()=>{y.sortPane(oe)}),onUnmounted(()=>{y.unregisterPane(oe.uid)}),(ie,le)=>unref(ae)?withDirectives((openBlock(),createElementBlock("div",{key:0,id:`pane-${unref(re)}`,class:normalizeClass(unref($).b()),role:"tabpanel","aria-hidden":!unref(z),"aria-labelledby":`tab-${unref(re)}`},[renderSlot(ie.$slots,"default")],10,["id","aria-hidden","aria-labelledby"])),[[vShow,unref(z)]]):createCommentVNode("v-if",!0)}});var TabPane=_export_sfc$1(_sfc_main$N,[["__file","tab-pane.vue"]]);const ElTabs=withInstall(Tabs$1,{TabPane}),ElTabPane=withNoopInstall(TabPane),textProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:componentSizes,default:""},truncated:Boolean,lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),__default__$v=defineComponent({name:"ElText"}),_sfc_main$M=defineComponent({...__default__$v,props:textProps,setup(t){const n=t,r=ref(),g=useFormSize(),y=useNamespace("text"),$=computed(()=>[y.b(),y.m(n.type),y.m(g.value),y.is("truncated",n.truncated),y.is("line-clamp",!isUndefined(n.lineClamp))]),L=()=>{var V,z,j,re,ae,oe,ie;if(useAttrs$1().title)return;let ue=!1;const de=((V=r.value)==null?void 0:V.textContent)||"";if(n.truncated){const he=(z=r.value)==null?void 0:z.offsetWidth,pe=(j=r.value)==null?void 0:j.scrollWidth;he&&pe&&pe>he&&(ue=!0)}else if(!isUndefined(n.lineClamp)){const he=(re=r.value)==null?void 0:re.offsetHeight,pe=(ae=r.value)==null?void 0:ae.scrollHeight;he&&pe&&pe>he&&(ue=!0)}ue?(oe=r.value)==null||oe.setAttribute("title",de):(ie=r.value)==null||ie.removeAttribute("title")};return onMounted(L),onUpdated(L),(V,z)=>(openBlock(),createBlock(resolveDynamicComponent(V.tag),{ref_key:"textRef",ref:r,class:normalizeClass(unref($)),style:normalizeStyle$1({"-webkit-line-clamp":V.lineClamp})},{default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},8,["class","style"]))}});var Text=_export_sfc$1(_sfc_main$M,[["__file","text.vue"]]);const ElText=withInstall(Text),timeSelectProps=buildProps({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:definePropType(String),default:"light"},clearable:{type:Boolean,default:!0},size:useSizeProp,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,includeEndTime:{type:Boolean,default:!1},name:String,prefixIcon:{type:definePropType([String,Object]),default:()=>clock_default},clearIcon:{type:definePropType([String,Object]),default:()=>circle_close_default},...useEmptyValuesProps}),parseTime=t=>{const n=(t||"").split(":");if(n.length>=2){let r=Number.parseInt(n[0],10);const g=Number.parseInt(n[1],10),y=t.toUpperCase();return y.includes("AM")&&r===12?r=0:y.includes("PM")&&r!==12&&(r+=12),{hours:r,minutes:g}}return null},compareTime=(t,n)=>{const r=parseTime(t);if(!r)return-1;const g=parseTime(n);if(!g)return-1;const y=r.minutes+r.hours*60,$=g.minutes+g.hours*60;return y===$?0:y>$?1:-1},padTime=t=>`${t}`.padStart(2,"0"),formatTime=t=>`${padTime(t.hours)}:${padTime(t.minutes)}`,nextTime=(t,n)=>{const r=parseTime(t);if(!r)return"";const g=parseTime(n);if(!g)return"";const y={hours:r.hours,minutes:r.minutes};return y.minutes+=g.minutes,y.hours+=g.hours,y.hours+=Math.floor(y.minutes/60),y.minutes=y.minutes%60,formatTime(y)},__default__$u=defineComponent({name:"ElTimeSelect"}),_sfc_main$L=defineComponent({...__default__$u,props:timeSelectProps,emits:[CHANGE_EVENT,"blur","focus","clear",UPDATE_MODEL_EVENT],setup(t,{expose:n}){const r=t;dayjs.extend(customParseFormat);const{Option:g}=ElSelect,y=useNamespace("input"),$=ref(),L=useFormDisabled(),{lang:V}=useLocale(),z=computed(()=>r.modelValue),j=computed(()=>{const he=parseTime(r.start);return he?formatTime(he):null}),re=computed(()=>{const he=parseTime(r.end);return he?formatTime(he):null}),ae=computed(()=>{const he=parseTime(r.step);return he?formatTime(he):null}),oe=computed(()=>{const he=parseTime(r.minTime||"");return he?formatTime(he):null}),ie=computed(()=>{const he=parseTime(r.maxTime||"");return he?formatTime(he):null}),le=computed(()=>{var he;const pe=[],_e=(Ce,xe)=>{pe.push({value:Ce,disabled:compareTime(xe,oe.value||"-1:-1")<=0||compareTime(xe,ie.value||"100:100")>=0})};if(r.start&&r.end&&r.step){let Ce=j.value,xe;for(;Ce&&re.value&&compareTime(Ce,re.value)<=0;)xe=dayjs(Ce,"HH:mm").locale(V.value).format(r.format),_e(xe,Ce),Ce=nextTime(Ce,ae.value);if(r.includeEndTime&&re.value&&((he=pe[pe.length-1])==null?void 0:he.value)!==re.value){const Ie=dayjs(re.value,"HH:mm").locale(V.value).format(r.format);_e(Ie,re.value)}}return pe});return n({blur:()=>{var he,pe;(pe=(he=$.value)==null?void 0:he.blur)==null||pe.call(he)},focus:()=>{var he,pe;(pe=(he=$.value)==null?void 0:he.focus)==null||pe.call(he)}}),(he,pe)=>(openBlock(),createBlock(unref(ElSelect),{ref_key:"select",ref:$,"model-value":unref(z),disabled:unref(L),clearable:he.clearable,"clear-icon":he.clearIcon,size:he.size,effect:he.effect,placeholder:he.placeholder,"default-first-option":"",filterable:he.editable,"empty-values":he.emptyValues,"value-on-clear":he.valueOnClear,"onUpdate:modelValue":_e=>he.$emit(unref(UPDATE_MODEL_EVENT),_e),onChange:_e=>he.$emit(unref(CHANGE_EVENT),_e),onBlur:_e=>he.$emit("blur",_e),onFocus:_e=>he.$emit("focus",_e),onClear:()=>he.$emit("clear")},{prefix:withCtx(()=>[he.prefixIcon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(y).e("prefix-icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(he.prefixIcon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(le),_e=>(openBlock(),createBlock(unref(g),{key:_e.value,label:_e.value,value:_e.value,disabled:_e.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear","onUpdate:modelValue","onChange","onBlur","onFocus","onClear"]))}});var TimeSelect=_export_sfc$1(_sfc_main$L,[["__file","time-select.vue"]]);const ElTimeSelect=withInstall(TimeSelect),TIMELINE_INJECTION_KEY="timeline",Timeline=defineComponent({name:"ElTimeline",setup(t,{slots:n}){const r=useNamespace("timeline");return provide(TIMELINE_INJECTION_KEY,n),()=>h$1("ul",{class:[r.b()]},[renderSlot(n,"default")])}}),timelineItemProps=buildProps({timestamp:{type:String,default:""},hideTimestamp:Boolean,center:Boolean,placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:iconPropType},hollow:Boolean}),__default__$t=defineComponent({name:"ElTimelineItem"}),_sfc_main$K=defineComponent({...__default__$t,props:timelineItemProps,setup(t){const n=t,r=useNamespace("timeline-item"),g=computed(()=>[r.e("node"),r.em("node",n.size||""),r.em("node",n.type||""),r.is("hollow",n.hollow)]);return(y,$)=>(openBlock(),createElementBlock("li",{class:normalizeClass([unref(r).b(),{[unref(r).e("center")]:y.center}])},[createBaseVNode("div",{class:normalizeClass(unref(r).e("tail"))},null,2),y.$slots.dot?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g)),style:normalizeStyle$1({backgroundColor:y.color})},[y.icon?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(r).e("icon"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(y.icon)))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],6)),y.$slots.dot?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(r).e("dot"))},[renderSlot(y.$slots,"dot")],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("wrapper"))},[!y.hideTimestamp&&y.placement==="top"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("top")])},toDisplayString(y.timestamp),3)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(r).e("content"))},[renderSlot(y.$slots,"default")],2),!y.hideTimestamp&&y.placement==="bottom"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(r).e("timestamp"),unref(r).is("bottom")])},toDisplayString(y.timestamp),3)):createCommentVNode("v-if",!0)],2)],2))}});var TimelineItem=_export_sfc$1(_sfc_main$K,[["__file","timeline-item.vue"]]);const ElTimeline=withInstall(Timeline,{TimelineItem}),ElTimelineItem=withNoopInstall(TimelineItem),tooltipV2CommonProps=buildProps({nowrap:Boolean});var TooltipV2Sides=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(TooltipV2Sides||{});const tooltipV2Sides=Object.values(TooltipV2Sides),tooltipV2ArrowProps=buildProps({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:definePropType(Object),default:null}}),tooltipV2ArrowSpecialProps=buildProps({side:{type:definePropType(String),values:tooltipV2Sides,required:!0}}),tooltipV2Strategies=["absolute","fixed"],tooltipV2Placements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tooltipV2ContentProps=buildProps({arrowPadding:{type:definePropType(Number),default:5},effect:{type:definePropType(String),default:"light"},contentClass:String,placement:{type:definePropType(String),values:tooltipV2Placements,default:"bottom"},reference:{type:definePropType(Object),default:null},offset:{type:Number,default:8},strategy:{type:definePropType(String),values:tooltipV2Strategies,default:"absolute"},showArrow:Boolean,...useAriaProps(["ariaLabel"])}),tooltipV2RootProps=buildProps({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:definePropType(Function)},"onUpdate:open":{type:definePropType(Function)}}),EventHandler={type:definePropType(Function)},tooltipV2TriggerProps=buildProps({onBlur:EventHandler,onClick:EventHandler,onFocus:EventHandler,onMouseDown:EventHandler,onMouseEnter:EventHandler,onMouseLeave:EventHandler}),tooltipV2Props=buildProps({...tooltipV2RootProps,...tooltipV2ArrowProps,...tooltipV2TriggerProps,...tooltipV2ContentProps,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:definePropType(Object),default:null},teleported:Boolean,to:{type:definePropType([String,Object]),default:"body"}}),tooltipV2RootKey=Symbol("tooltipV2"),tooltipV2ContentKey=Symbol("tooltipV2Content"),TOOLTIP_V2_OPEN="tooltip_v2.open",__default__$s=defineComponent({name:"ElTooltipV2Root"}),_sfc_main$J=defineComponent({...__default__$s,props:tooltipV2RootProps,setup(t,{expose:n}){const r=t,g=ref(r.defaultOpen),y=ref(null),$=computed({get:()=>isPropAbsent(r.open)?g.value:r.open,set:de=>{var he;g.value=de,(he=r["onUpdate:open"])==null||he.call(r,de)}}),L=computed(()=>isNumber$1(r.delayDuration)&&r.delayDuration>0),{start:V,stop:z}=useTimeoutFn(()=>{$.value=!0},computed(()=>r.delayDuration),{immediate:!1}),j=useNamespace("tooltip-v2"),re=useId(),ae=()=>{z(),$.value=!0},oe=()=>{unref(L)?V():ae()},ie=ae,le=()=>{z(),$.value=!1};return watch($,de=>{var he;de&&(document.dispatchEvent(new CustomEvent(TOOLTIP_V2_OPEN)),ie()),(he=r.onOpenChange)==null||he.call(r,de)}),onMounted(()=>{document.addEventListener(TOOLTIP_V2_OPEN,le)}),onBeforeUnmount(()=>{z(),document.removeEventListener(TOOLTIP_V2_OPEN,le)}),provide(tooltipV2RootKey,{contentId:re,triggerRef:y,ns:j,onClose:le,onDelayOpen:oe,onOpen:ie}),n({onOpen:ie,onClose:le}),(de,he)=>renderSlot(de.$slots,"default",{open:unref($)})}});var TooltipV2Root=_export_sfc$1(_sfc_main$J,[["__file","root.vue"]]);const __default__$r=defineComponent({name:"ElTooltipV2Arrow"}),_sfc_main$I=defineComponent({...__default__$r,props:{...tooltipV2ArrowProps,...tooltipV2ArrowSpecialProps},setup(t){const n=t,{ns:r}=inject(tooltipV2RootKey),{arrowRef:g}=inject(tooltipV2ContentKey),y=computed(()=>{const{style:$,width:L,height:V}=n,z=r.namespace.value;return{[`--${z}-tooltip-v2-arrow-width`]:`${L}px`,[`--${z}-tooltip-v2-arrow-height`]:`${V}px`,[`--${z}-tooltip-v2-arrow-border-width`]:`${L/2}px`,[`--${z}-tooltip-v2-arrow-cover-width`]:L/2-1,...$||{}}});return($,L)=>(openBlock(),createElementBlock("span",{ref_key:"arrowRef",ref:g,style:normalizeStyle$1(unref(y)),class:normalizeClass(unref(r).e("arrow"))},null,6))}});var TooltipV2Arrow=_export_sfc$1(_sfc_main$I,[["__file","arrow.vue"]]);const min$2=Math.min,max$2=Math.max,round$4=Math.round,floor=Math.floor,createCoords=t=>({x:t,y:t}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(t,n,r){return max$2(t,min$2(n,r))}function evaluate(t,n){return typeof t=="function"?t(n):t}function getSide(t){return t.split("-")[0]}function getAlignment(t){return t.split("-")[1]}function getOppositeAxis(t){return t==="x"?"y":"x"}function getAxisLength(t){return t==="y"?"height":"width"}function getSideAxis(t){return["top","bottom"].includes(getSide(t))?"y":"x"}function getAlignmentAxis(t){return getOppositeAxis(getSideAxis(t))}function getAlignmentSides(t,n,r){r===void 0&&(r=!1);const g=getAlignment(t),y=getAlignmentAxis(t),$=getAxisLength(y);let L=y==="x"?g===(r?"end":"start")?"right":"left":g==="start"?"bottom":"top";return n.reference[$]>n.floating[$]&&(L=getOppositePlacement(L)),[L,getOppositePlacement(L)]}function getExpandedPlacements(t){const n=getOppositePlacement(t);return[getOppositeAlignmentPlacement(t),n,getOppositeAlignmentPlacement(n)]}function getOppositeAlignmentPlacement(t){return t.replace(/start|end/g,n=>oppositeAlignmentMap[n])}function getSideList(t,n,r){const g=["left","right"],y=["right","left"],$=["top","bottom"],L=["bottom","top"];switch(t){case"top":case"bottom":return r?n?y:g:n?g:y;case"left":case"right":return n?$:L;default:return[]}}function getOppositeAxisPlacements(t,n,r,g){const y=getAlignment(t);let $=getSideList(getSide(t),r==="start",g);return y&&($=$.map(L=>L+"-"+y),n&&($=$.concat($.map(getOppositeAlignmentPlacement)))),$}function getOppositePlacement(t){return t.replace(/left|right|bottom|top/g,n=>oppositeSideMap[n])}function expandPaddingObject(t){return{top:0,right:0,bottom:0,left:0,...t}}function getPaddingObject(t){return typeof t!="number"?expandPaddingObject(t):{top:t,right:t,bottom:t,left:t}}function rectToClientRect(t){const{x:n,y:r,width:g,height:y}=t;return{width:g,height:y,top:r,left:n,right:n+g,bottom:r+y,x:n,y:r}}function computeCoordsFromPlacement(t,n,r){let{reference:g,floating:y}=t;const $=getSideAxis(n),L=getAlignmentAxis(n),V=getAxisLength(L),z=getSide(n),j=$==="y",re=g.x+g.width/2-y.width/2,ae=g.y+g.height/2-y.height/2,oe=g[V]/2-y[V]/2;let ie;switch(z){case"top":ie={x:re,y:g.y-y.height};break;case"bottom":ie={x:re,y:g.y+g.height};break;case"right":ie={x:g.x+g.width,y:ae};break;case"left":ie={x:g.x-y.width,y:ae};break;default:ie={x:g.x,y:g.y}}switch(getAlignment(n)){case"start":ie[L]-=oe*(r&&j?-1:1);break;case"end":ie[L]+=oe*(r&&j?-1:1);break}return ie}const computePosition$1=async(t,n,r)=>{const{placement:g="bottom",strategy:y="absolute",middleware:$=[],platform:L}=r,V=$.filter(Boolean),z=await(L.isRTL==null?void 0:L.isRTL(n));let j=await L.getElementRects({reference:t,floating:n,strategy:y}),{x:re,y:ae}=computeCoordsFromPlacement(j,g,z),oe=g,ie={},le=0;for(let ue=0;ue<V.length;ue++){const{name:de,fn:he}=V[ue],{x:pe,y:_e,data:Ce,reset:xe}=await he({x:re,y:ae,initialPlacement:g,placement:oe,strategy:y,middlewareData:ie,rects:j,platform:L,elements:{reference:t,floating:n}});re=pe??re,ae=_e??ae,ie={...ie,[de]:{...ie[de],...Ce}},xe&&le<=50&&(le++,typeof xe=="object"&&(xe.placement&&(oe=xe.placement),xe.rects&&(j=xe.rects===!0?await L.getElementRects({reference:t,floating:n,strategy:y}):xe.rects),{x:re,y:ae}=computeCoordsFromPlacement(j,oe,z)),ue=-1)}return{x:re,y:ae,placement:oe,strategy:y,middlewareData:ie}};async function detectOverflow$1(t,n){var r;n===void 0&&(n={});const{x:g,y,platform:$,rects:L,elements:V,strategy:z}=t,{boundary:j="clippingAncestors",rootBoundary:re="viewport",elementContext:ae="floating",altBoundary:oe=!1,padding:ie=0}=evaluate(n,t),le=getPaddingObject(ie),de=V[oe?ae==="floating"?"reference":"floating":ae],he=rectToClientRect(await $.getClippingRect({element:(r=await($.isElement==null?void 0:$.isElement(de)))==null||r?de:de.contextElement||await($.getDocumentElement==null?void 0:$.getDocumentElement(V.floating)),boundary:j,rootBoundary:re,strategy:z})),pe=ae==="floating"?{x:g,y,width:L.floating.width,height:L.floating.height}:L.reference,_e=await($.getOffsetParent==null?void 0:$.getOffsetParent(V.floating)),Ce=await($.isElement==null?void 0:$.isElement(_e))?await($.getScale==null?void 0:$.getScale(_e))||{x:1,y:1}:{x:1,y:1},xe=rectToClientRect($.convertOffsetParentRelativeRectToViewportRelativeRect?await $.convertOffsetParentRelativeRectToViewportRelativeRect({elements:V,rect:pe,offsetParent:_e,strategy:z}):pe);return{top:(he.top-xe.top+le.top)/Ce.y,bottom:(xe.bottom-he.bottom+le.bottom)/Ce.y,left:(he.left-xe.left+le.left)/Ce.x,right:(xe.right-he.right+le.right)/Ce.x}}const arrow$1=t=>({name:"arrow",options:t,async fn(n){const{x:r,y:g,placement:y,rects:$,platform:L,elements:V,middlewareData:z}=n,{element:j,padding:re=0}=evaluate(t,n)||{};if(j==null)return{};const ae=getPaddingObject(re),oe={x:r,y:g},ie=getAlignmentAxis(y),le=getAxisLength(ie),ue=await L.getDimensions(j),de=ie==="y",he=de?"top":"left",pe=de?"bottom":"right",_e=de?"clientHeight":"clientWidth",Ce=$.reference[le]+$.reference[ie]-oe[ie]-$.floating[le],xe=oe[ie]-$.reference[ie],Ie=await(L.getOffsetParent==null?void 0:L.getOffsetParent(j));let $e=Ie?Ie[_e]:0;(!$e||!await(L.isElement==null?void 0:L.isElement(Ie)))&&($e=V.floating[_e]||$.floating[le]);const Oe=Ce/2-xe/2,Ne=$e/2-ue[le]/2-1,Fe=min$2(ae[he],Ne),Ve=min$2(ae[pe],Ne),ze=Fe,Et=$e-ue[le]-Ve,Dt=$e/2-ue[le]/2+Oe,Ue=clamp$1(ze,Dt,Et),qe=!z.arrow&&getAlignment(y)!=null&&Dt!==Ue&&$.reference[le]/2-(Dt<ze?Fe:Ve)-ue[le]/2<0,Lt=qe?Dt<ze?Dt-ze:Dt-Et:0;return{[ie]:oe[ie]+Lt,data:{[ie]:Ue,centerOffset:Dt-Ue-Lt,...qe&&{alignmentOffset:Lt}},reset:qe}}}),flip$1=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(n){var r,g;const{placement:y,middlewareData:$,rects:L,initialPlacement:V,platform:z,elements:j}=n,{mainAxis:re=!0,crossAxis:ae=!0,fallbackPlacements:oe,fallbackStrategy:ie="bestFit",fallbackAxisSideDirection:le="none",flipAlignment:ue=!0,...de}=evaluate(t,n);if((r=$.arrow)!=null&&r.alignmentOffset)return{};const he=getSide(y),pe=getSideAxis(V),_e=getSide(V)===V,Ce=await(z.isRTL==null?void 0:z.isRTL(j.floating)),xe=oe||(_e||!ue?[getOppositePlacement(V)]:getExpandedPlacements(V)),Ie=le!=="none";!oe&&Ie&&xe.push(...getOppositeAxisPlacements(V,ue,le,Ce));const $e=[V,...xe],Oe=await detectOverflow$1(n,de),Ne=[];let Fe=((g=$.flip)==null?void 0:g.overflows)||[];if(re&&Ne.push(Oe[he]),ae){const Dt=getAlignmentSides(y,L,Ce);Ne.push(Oe[Dt[0]],Oe[Dt[1]])}if(Fe=[...Fe,{placement:y,overflows:Ne}],!Ne.every(Dt=>Dt<=0)){var Ve,ze;const Dt=(((Ve=$.flip)==null?void 0:Ve.index)||0)+1,Ue=$e[Dt];if(Ue&&(!(ae==="alignment"?pe!==getSideAxis(Ue):!1)||Fe.every(Pt=>Pt.overflows[0]>0&&getSideAxis(Pt.placement)===pe)))return{data:{index:Dt,overflows:Fe},reset:{placement:Ue}};let qe=(ze=Fe.filter(Lt=>Lt.overflows[0]<=0).sort((Lt,Pt)=>Lt.overflows[1]-Pt.overflows[1])[0])==null?void 0:ze.placement;if(!qe)switch(ie){case"bestFit":{var Et;const Lt=(Et=Fe.filter(Pt=>{if(Ie){const At=getSideAxis(Pt.placement);return At===pe||At==="y"}return!0}).map(Pt=>[Pt.placement,Pt.overflows.filter(At=>At>0).reduce((At,vn)=>At+vn,0)]).sort((Pt,At)=>Pt[1]-At[1])[0])==null?void 0:Et[0];Lt&&(qe=Lt);break}case"initialPlacement":qe=V;break}if(y!==qe)return{reset:{placement:qe}}}return{}}}};async function convertValueToCoords(t,n){const{placement:r,platform:g,elements:y}=t,$=await(g.isRTL==null?void 0:g.isRTL(y.floating)),L=getSide(r),V=getAlignment(r),z=getSideAxis(r)==="y",j=["left","top"].includes(L)?-1:1,re=$&&z?-1:1,ae=evaluate(n,t);let{mainAxis:oe,crossAxis:ie,alignmentAxis:le}=typeof ae=="number"?{mainAxis:ae,crossAxis:0,alignmentAxis:null}:{mainAxis:ae.mainAxis||0,crossAxis:ae.crossAxis||0,alignmentAxis:ae.alignmentAxis};return V&&typeof le=="number"&&(ie=V==="end"?le*-1:le),z?{x:ie*re,y:oe*j}:{x:oe*j,y:ie*re}}const offset$1=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(n){var r,g;const{x:y,y:$,placement:L,middlewareData:V}=n,z=await convertValueToCoords(n,t);return L===((r=V.offset)==null?void 0:r.placement)&&(g=V.arrow)!=null&&g.alignmentOffset?{}:{x:y+z.x,y:$+z.y,data:{...z,placement:L}}}}},shift$1=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(n){const{x:r,y:g,placement:y}=n,{mainAxis:$=!0,crossAxis:L=!1,limiter:V={fn:de=>{let{x:he,y:pe}=de;return{x:he,y:pe}}},...z}=evaluate(t,n),j={x:r,y:g},re=await detectOverflow$1(n,z),ae=getSideAxis(getSide(y)),oe=getOppositeAxis(ae);let ie=j[oe],le=j[ae];if($){const de=oe==="y"?"top":"left",he=oe==="y"?"bottom":"right",pe=ie+re[de],_e=ie-re[he];ie=clamp$1(pe,ie,_e)}if(L){const de=ae==="y"?"top":"left",he=ae==="y"?"bottom":"right",pe=le+re[de],_e=le-re[he];le=clamp$1(pe,le,_e)}const ue=V.fn({...n,[oe]:ie,[ae]:le});return{...ue,data:{x:ue.x-r,y:ue.y-g,enabled:{[oe]:$,[ae]:L}}}}}};function hasWindow(){return typeof window<"u"}function getNodeName(t){return isNode(t)?(t.nodeName||"").toLowerCase():"#document"}function getWindow(t){var n;return(t==null||(n=t.ownerDocument)==null?void 0:n.defaultView)||window}function getDocumentElement(t){var n;return(n=(isNode(t)?t.ownerDocument:t.document)||window.document)==null?void 0:n.documentElement}function isNode(t){return hasWindow()?t instanceof Node||t instanceof getWindow(t).Node:!1}function isElement(t){return hasWindow()?t instanceof Element||t instanceof getWindow(t).Element:!1}function isHTMLElement(t){return hasWindow()?t instanceof HTMLElement||t instanceof getWindow(t).HTMLElement:!1}function isShadowRoot(t){return!hasWindow()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof getWindow(t).ShadowRoot}function isOverflowElement(t){const{overflow:n,overflowX:r,overflowY:g,display:y}=getComputedStyle$2(t);return/auto|scroll|overlay|hidden|clip/.test(n+g+r)&&!["inline","contents"].includes(y)}function isTableElement(t){return["table","td","th"].includes(getNodeName(t))}function isTopLayer(t){return[":popover-open",":modal"].some(n=>{try{return t.matches(n)}catch{return!1}})}function isContainingBlock(t){const n=isWebKit(),r=isElement(t)?getComputedStyle$2(t):t;return["transform","translate","scale","rotate","perspective"].some(g=>r[g]?r[g]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!n&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!n&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(g=>(r.willChange||"").includes(g))||["paint","layout","strict","content"].some(g=>(r.contain||"").includes(g))}function getContainingBlock(t){let n=getParentNode(t);for(;isHTMLElement(n)&&!isLastTraversableNode(n);){if(isContainingBlock(n))return n;if(isTopLayer(n))return null;n=getParentNode(n)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(t){return["html","body","#document"].includes(getNodeName(t))}function getComputedStyle$2(t){return getWindow(t).getComputedStyle(t)}function getNodeScroll(t){return isElement(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function getParentNode(t){if(getNodeName(t)==="html")return t;const n=t.assignedSlot||t.parentNode||isShadowRoot(t)&&t.host||getDocumentElement(t);return isShadowRoot(n)?n.host:n}function getNearestOverflowAncestor(t){const n=getParentNode(t);return isLastTraversableNode(n)?t.ownerDocument?t.ownerDocument.body:t.body:isHTMLElement(n)&&isOverflowElement(n)?n:getNearestOverflowAncestor(n)}function getOverflowAncestors(t,n,r){var g;n===void 0&&(n=[]),r===void 0&&(r=!0);const y=getNearestOverflowAncestor(t),$=y===((g=t.ownerDocument)==null?void 0:g.body),L=getWindow(y);if($){const V=getFrameElement(L);return n.concat(L,L.visualViewport||[],isOverflowElement(y)?y:[],V&&r?getOverflowAncestors(V):[])}return n.concat(y,getOverflowAncestors(y,[],r))}function getFrameElement(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function getCssDimensions(t){const n=getComputedStyle$2(t);let r=parseFloat(n.width)||0,g=parseFloat(n.height)||0;const y=isHTMLElement(t),$=y?t.offsetWidth:r,L=y?t.offsetHeight:g,V=round$4(r)!==$||round$4(g)!==L;return V&&(r=$,g=L),{width:r,height:g,$:V}}function unwrapElement(t){return isElement(t)?t:t.contextElement}function getScale(t){const n=unwrapElement(t);if(!isHTMLElement(n))return createCoords(1);const r=n.getBoundingClientRect(),{width:g,height:y,$}=getCssDimensions(n);let L=($?round$4(r.width):r.width)/g,V=($?round$4(r.height):r.height)/y;return(!L||!Number.isFinite(L))&&(L=1),(!V||!Number.isFinite(V))&&(V=1),{x:L,y:V}}const noOffsets=createCoords(0);function getVisualOffsets(t){const n=getWindow(t);return!isWebKit()||!n.visualViewport?noOffsets:{x:n.visualViewport.offsetLeft,y:n.visualViewport.offsetTop}}function shouldAddVisualOffsets(t,n,r){return n===void 0&&(n=!1),!r||n&&r!==getWindow(t)?!1:n}function getBoundingClientRect(t,n,r,g){n===void 0&&(n=!1),r===void 0&&(r=!1);const y=t.getBoundingClientRect(),$=unwrapElement(t);let L=createCoords(1);n&&(g?isElement(g)&&(L=getScale(g)):L=getScale(t));const V=shouldAddVisualOffsets($,r,g)?getVisualOffsets($):createCoords(0);let z=(y.left+V.x)/L.x,j=(y.top+V.y)/L.y,re=y.width/L.x,ae=y.height/L.y;if($){const oe=getWindow($),ie=g&&isElement(g)?getWindow(g):g;let le=oe,ue=getFrameElement(le);for(;ue&&g&&ie!==le;){const de=getScale(ue),he=ue.getBoundingClientRect(),pe=getComputedStyle$2(ue),_e=he.left+(ue.clientLeft+parseFloat(pe.paddingLeft))*de.x,Ce=he.top+(ue.clientTop+parseFloat(pe.paddingTop))*de.y;z*=de.x,j*=de.y,re*=de.x,ae*=de.y,z+=_e,j+=Ce,le=getWindow(ue),ue=getFrameElement(le)}}return rectToClientRect({width:re,height:ae,x:z,y:j})}function getWindowScrollBarX(t,n){const r=getNodeScroll(t).scrollLeft;return n?n.left+r:getBoundingClientRect(getDocumentElement(t)).left+r}function getHTMLOffset(t,n,r){r===void 0&&(r=!1);const g=t.getBoundingClientRect(),y=g.left+n.scrollLeft-(r?0:getWindowScrollBarX(t,g)),$=g.top+n.scrollTop;return{x:y,y:$}}function convertOffsetParentRelativeRectToViewportRelativeRect(t){let{elements:n,rect:r,offsetParent:g,strategy:y}=t;const $=y==="fixed",L=getDocumentElement(g),V=n?isTopLayer(n.floating):!1;if(g===L||V&&$)return r;let z={scrollLeft:0,scrollTop:0},j=createCoords(1);const re=createCoords(0),ae=isHTMLElement(g);if((ae||!ae&&!$)&&((getNodeName(g)!=="body"||isOverflowElement(L))&&(z=getNodeScroll(g)),isHTMLElement(g))){const ie=getBoundingClientRect(g);j=getScale(g),re.x=ie.x+g.clientLeft,re.y=ie.y+g.clientTop}const oe=L&&!ae&&!$?getHTMLOffset(L,z,!0):createCoords(0);return{width:r.width*j.x,height:r.height*j.y,x:r.x*j.x-z.scrollLeft*j.x+re.x+oe.x,y:r.y*j.y-z.scrollTop*j.y+re.y+oe.y}}function getClientRects(t){return Array.from(t.getClientRects())}function getDocumentRect(t){const n=getDocumentElement(t),r=getNodeScroll(t),g=t.ownerDocument.body,y=max$2(n.scrollWidth,n.clientWidth,g.scrollWidth,g.clientWidth),$=max$2(n.scrollHeight,n.clientHeight,g.scrollHeight,g.clientHeight);let L=-r.scrollLeft+getWindowScrollBarX(t);const V=-r.scrollTop;return getComputedStyle$2(g).direction==="rtl"&&(L+=max$2(n.clientWidth,g.clientWidth)-y),{width:y,height:$,x:L,y:V}}function getViewportRect(t,n){const r=getWindow(t),g=getDocumentElement(t),y=r.visualViewport;let $=g.clientWidth,L=g.clientHeight,V=0,z=0;if(y){$=y.width,L=y.height;const j=isWebKit();(!j||j&&n==="fixed")&&(V=y.offsetLeft,z=y.offsetTop)}return{width:$,height:L,x:V,y:z}}function getInnerBoundingClientRect(t,n){const r=getBoundingClientRect(t,!0,n==="fixed"),g=r.top+t.clientTop,y=r.left+t.clientLeft,$=isHTMLElement(t)?getScale(t):createCoords(1),L=t.clientWidth*$.x,V=t.clientHeight*$.y,z=y*$.x,j=g*$.y;return{width:L,height:V,x:z,y:j}}function getClientRectFromClippingAncestor(t,n,r){let g;if(n==="viewport")g=getViewportRect(t,r);else if(n==="document")g=getDocumentRect(getDocumentElement(t));else if(isElement(n))g=getInnerBoundingClientRect(n,r);else{const y=getVisualOffsets(t);g={x:n.x-y.x,y:n.y-y.y,width:n.width,height:n.height}}return rectToClientRect(g)}function hasFixedPositionAncestor(t,n){const r=getParentNode(t);return r===n||!isElement(r)||isLastTraversableNode(r)?!1:getComputedStyle$2(r).position==="fixed"||hasFixedPositionAncestor(r,n)}function getClippingElementAncestors(t,n){const r=n.get(t);if(r)return r;let g=getOverflowAncestors(t,[],!1).filter(V=>isElement(V)&&getNodeName(V)!=="body"),y=null;const $=getComputedStyle$2(t).position==="fixed";let L=$?getParentNode(t):t;for(;isElement(L)&&!isLastTraversableNode(L);){const V=getComputedStyle$2(L),z=isContainingBlock(L);!z&&V.position==="fixed"&&(y=null),($?!z&&!y:!z&&V.position==="static"&&!!y&&["absolute","fixed"].includes(y.position)||isOverflowElement(L)&&!z&&hasFixedPositionAncestor(t,L))?g=g.filter(re=>re!==L):y=V,L=getParentNode(L)}return n.set(t,g),g}function getClippingRect(t){let{element:n,boundary:r,rootBoundary:g,strategy:y}=t;const L=[...r==="clippingAncestors"?isTopLayer(n)?[]:getClippingElementAncestors(n,this._c):[].concat(r),g],V=L[0],z=L.reduce((j,re)=>{const ae=getClientRectFromClippingAncestor(n,re,y);return j.top=max$2(ae.top,j.top),j.right=min$2(ae.right,j.right),j.bottom=min$2(ae.bottom,j.bottom),j.left=max$2(ae.left,j.left),j},getClientRectFromClippingAncestor(n,V,y));return{width:z.right-z.left,height:z.bottom-z.top,x:z.left,y:z.top}}function getDimensions(t){const{width:n,height:r}=getCssDimensions(t);return{width:n,height:r}}function getRectRelativeToOffsetParent(t,n,r){const g=isHTMLElement(n),y=getDocumentElement(n),$=r==="fixed",L=getBoundingClientRect(t,!0,$,n);let V={scrollLeft:0,scrollTop:0};const z=createCoords(0);function j(){z.x=getWindowScrollBarX(y)}if(g||!g&&!$)if((getNodeName(n)!=="body"||isOverflowElement(y))&&(V=getNodeScroll(n)),g){const ie=getBoundingClientRect(n,!0,$,n);z.x=ie.x+n.clientLeft,z.y=ie.y+n.clientTop}else y&&j();$&&!g&&y&&j();const re=y&&!g&&!$?getHTMLOffset(y,V):createCoords(0),ae=L.left+V.scrollLeft-z.x-re.x,oe=L.top+V.scrollTop-z.y-re.y;return{x:ae,y:oe,width:L.width,height:L.height}}function isStaticPositioned(t){return getComputedStyle$2(t).position==="static"}function getTrueOffsetParent(t,n){if(!isHTMLElement(t)||getComputedStyle$2(t).position==="fixed")return null;if(n)return n(t);let r=t.offsetParent;return getDocumentElement(t)===r&&(r=r.ownerDocument.body),r}function getOffsetParent(t,n){const r=getWindow(t);if(isTopLayer(t))return r;if(!isHTMLElement(t)){let y=getParentNode(t);for(;y&&!isLastTraversableNode(y);){if(isElement(y)&&!isStaticPositioned(y))return y;y=getParentNode(y)}return r}let g=getTrueOffsetParent(t,n);for(;g&&isTableElement(g)&&isStaticPositioned(g);)g=getTrueOffsetParent(g,n);return g&&isLastTraversableNode(g)&&isStaticPositioned(g)&&!isContainingBlock(g)?r:g||getContainingBlock(t)||r}const getElementRects=async function(t){const n=this.getOffsetParent||getOffsetParent,r=this.getDimensions,g=await r(t.floating);return{reference:getRectRelativeToOffsetParent(t.reference,await n(t.floating),t.strategy),floating:{x:0,y:0,width:g.width,height:g.height}}};function isRTL(t){return getComputedStyle$2(t).direction==="rtl"}const platform$1={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement,getClippingRect,getOffsetParent,getElementRects,getClientRects,getDimensions,getScale,isElement,isRTL};function rectsAreEqual(t,n){return t.x===n.x&&t.y===n.y&&t.width===n.width&&t.height===n.height}function observeMove(t,n){let r=null,g;const y=getDocumentElement(t);function $(){var V;clearTimeout(g),(V=r)==null||V.disconnect(),r=null}function L(V,z){V===void 0&&(V=!1),z===void 0&&(z=1),$();const j=t.getBoundingClientRect(),{left:re,top:ae,width:oe,height:ie}=j;if(V||n(),!oe||!ie)return;const le=floor(ae),ue=floor(y.clientWidth-(re+oe)),de=floor(y.clientHeight-(ae+ie)),he=floor(re),_e={rootMargin:-le+"px "+-ue+"px "+-de+"px "+-he+"px",threshold:max$2(0,min$2(1,z))||1};let Ce=!0;function xe(Ie){const $e=Ie[0].intersectionRatio;if($e!==z){if(!Ce)return L();$e?L(!1,$e):g=setTimeout(()=>{L(!1,1e-7)},1e3)}$e===1&&!rectsAreEqual(j,t.getBoundingClientRect())&&L(),Ce=!1}try{r=new IntersectionObserver(xe,{..._e,root:y.ownerDocument})}catch{r=new IntersectionObserver(xe,_e)}r.observe(t)}return L(!0),$}function autoUpdate(t,n,r,g){g===void 0&&(g={});const{ancestorScroll:y=!0,ancestorResize:$=!0,elementResize:L=typeof ResizeObserver=="function",layoutShift:V=typeof IntersectionObserver=="function",animationFrame:z=!1}=g,j=unwrapElement(t),re=y||$?[...j?getOverflowAncestors(j):[],...getOverflowAncestors(n)]:[];re.forEach(he=>{y&&he.addEventListener("scroll",r,{passive:!0}),$&&he.addEventListener("resize",r)});const ae=j&&V?observeMove(j,r):null;let oe=-1,ie=null;L&&(ie=new ResizeObserver(he=>{let[pe]=he;pe&&pe.target===j&&ie&&(ie.unobserve(n),cancelAnimationFrame(oe),oe=requestAnimationFrame(()=>{var _e;(_e=ie)==null||_e.observe(n)})),r()}),j&&!z&&ie.observe(j),ie.observe(n));let le,ue=z?getBoundingClientRect(t):null;z&&de();function de(){const he=getBoundingClientRect(t);ue&&!rectsAreEqual(ue,he)&&r(),ue=he,le=requestAnimationFrame(de)}return r(),()=>{var he;re.forEach(pe=>{y&&pe.removeEventListener("scroll",r),$&&pe.removeEventListener("resize",r)}),ae==null||ae(),(he=ie)==null||he.disconnect(),ie=null,z&&cancelAnimationFrame(le)}}const detectOverflow=detectOverflow$1,offset=offset$1,shift=shift$1,flip=flip$1,arrow=arrow$1,computePosition=(t,n,r)=>{const g=new Map,y={platform:platform$1,...r},$={...y.platform,_c:g};return computePosition$1(t,n,{...y,platform:$})},visualHiddenProps=buildProps({style:{type:definePropType([String,Object,Array]),default:()=>({})}}),__default__$q=defineComponent({name:"ElVisuallyHidden"}),_sfc_main$H=defineComponent({...__default__$q,props:visualHiddenProps,setup(t){const n=t,r=computed(()=>[n.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(g,y)=>(openBlock(),createElementBlock("span",mergeProps(g.$attrs,{style:unref(r)}),[renderSlot(g.$slots,"default")],16))}});var ElVisuallyHidden=_export_sfc$1(_sfc_main$H,[["__file","visual-hidden.vue"]]);buildProps({});const unrefReference=t=>{if(!isClient)return;if(!t)return t;const n=unrefElement(t);return n||(isRef(t)?n:t)},useFloating$1=({middleware:t,placement:n,strategy:r})=>{const g=ref(),y=ref(),$=ref(),L=ref(),V=ref({}),z={x:$,y:L,placement:n,strategy:r,middlewareData:V},j=async()=>{if(!isClient)return;const re=unrefReference(g),ae=unrefElement(y);if(!re||!ae)return;const oe=await computePosition(re,ae,{placement:unref(n),strategy:unref(r),middleware:unref(t)});keysOf(z).forEach(ie=>{z[ie].value=oe[ie]})};return onMounted(()=>{watchEffect(()=>{j()})}),{...z,update:j,referenceRef:g,contentRef:y}},arrowMiddleware=({arrowRef:t,padding:n})=>({name:"arrow",options:{element:t,padding:n},fn(r){const g=unref(t);return g?arrow({element:g,padding:n}).fn(r):{}}}),__default__$p=defineComponent({name:"ElTooltipV2Content"}),_sfc_main$G=defineComponent({...__default__$p,props:{...tooltipV2ContentProps,...tooltipV2CommonProps},setup(t){const n=t,{triggerRef:r,contentId:g}=inject(tooltipV2RootKey),y=ref(n.placement),$=ref(n.strategy),L=ref(null),{referenceRef:V,contentRef:z,middlewareData:j,x:re,y:ae,update:oe}=useFloating$1({placement:y,strategy:$,middleware:computed(()=>{const _e=[offset(n.offset)];return n.showArrow&&_e.push(arrowMiddleware({arrowRef:L})),_e})}),ie=useZIndex().nextZIndex(),le=useNamespace("tooltip-v2"),ue=computed(()=>y.value.split("-")[0]),de=computed(()=>({position:unref($),top:`${unref(ae)||0}px`,left:`${unref(re)||0}px`,zIndex:ie})),he=computed(()=>{if(!n.showArrow)return{};const{arrow:_e}=unref(j);return{[`--${le.namespace.value}-tooltip-v2-arrow-x`]:`${_e==null?void 0:_e.x}px`||"",[`--${le.namespace.value}-tooltip-v2-arrow-y`]:`${_e==null?void 0:_e.y}px`||""}}),pe=computed(()=>[le.e("content"),le.is("dark",n.effect==="dark"),le.is(unref($)),n.contentClass]);return watch(L,()=>oe()),watch(()=>n.placement,_e=>y.value=_e),onMounted(()=>{watch(()=>n.reference||r.value,_e=>{V.value=_e||void 0},{immediate:!0})}),provide(tooltipV2ContentKey,{arrowRef:L}),(_e,Ce)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:z,style:normalizeStyle$1(unref(de)),"data-tooltip-v2-root":""},[_e.nowrap?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("div",{key:0,"data-side":unref(ue),class:normalizeClass(unref(pe))},[renderSlot(_e.$slots,"default",{contentStyle:unref(de),contentClass:unref(pe)}),createVNode$1(unref(ElVisuallyHidden),{id:unref(g),role:"tooltip"},{default:withCtx(()=>[_e.ariaLabel?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(_e.ariaLabel),1)],64)):renderSlot(_e.$slots,"default",{key:1})]),_:3},8,["id"]),renderSlot(_e.$slots,"arrow",{style:normalizeStyle$1(unref(he)),side:unref(ue)})],10,["data-side"]))],4))}});var TooltipV2Content=_export_sfc$1(_sfc_main$G,[["__file","content.vue"]]);const forwardRefProps=buildProps({setRef:{type:definePropType(Function),required:!0},onlyChild:Boolean});var ForwardRef=defineComponent({props:forwardRefProps,setup(t,{slots:n}){const r=ref(),g=composeRefs(r,y=>{y?t.setRef(y.nextElementSibling):t.setRef(null)});return()=>{var y;const[$]=((y=n.default)==null?void 0:y.call(n))||[],L=t.onlyChild?ensureOnlyChild($.children):$.children;return createVNode$1(Fragment,{ref:g},[L])}}});const __default__$o=defineComponent({name:"ElTooltipV2Trigger"}),_sfc_main$F=defineComponent({...__default__$o,props:{...tooltipV2CommonProps,...tooltipV2TriggerProps},setup(t){const n=t,{onClose:r,onOpen:g,onDelayOpen:y,triggerRef:$,contentId:L}=inject(tooltipV2RootKey);let V=!1;const z=pe=>{$.value=pe},j=()=>{V=!1},re=composeEventHandlers(n.onMouseEnter,y),ae=composeEventHandlers(n.onMouseLeave,r),oe=composeEventHandlers(n.onMouseDown,()=>{r(),V=!0,document.addEventListener("mouseup",j,{once:!0})}),ie=composeEventHandlers(n.onFocus,()=>{V||g()}),le=composeEventHandlers(n.onBlur,r),ue=composeEventHandlers(n.onClick,pe=>{pe.detail===0&&r()}),de={blur:le,click:ue,focus:ie,mousedown:oe,mouseenter:re,mouseleave:ae},he=(pe,_e,Ce)=>{pe&&Object.entries(_e).forEach(([xe,Ie])=>{pe[Ce](xe,Ie)})};return watch($,(pe,_e)=>{he(pe,de,"addEventListener"),he(_e,de,"removeEventListener"),pe&&pe.setAttribute("aria-describedby",L.value)}),onBeforeUnmount(()=>{he($.value,de,"removeEventListener"),document.removeEventListener("mouseup",j)}),(pe,_e)=>pe.nowrap?(openBlock(),createBlock(unref(ForwardRef),{key:0,"set-ref":z,"only-child":""},{default:withCtx(()=>[renderSlot(pe.$slots,"default")]),_:3})):(openBlock(),createElementBlock("button",mergeProps({key:1,ref_key:"triggerRef",ref:$},pe.$attrs),[renderSlot(pe.$slots,"default")],16))}});var TooltipV2Trigger=_export_sfc$1(_sfc_main$F,[["__file","trigger.vue"]]);const __default__$n=defineComponent({name:"ElTooltipV2"}),_sfc_main$E=defineComponent({...__default__$n,props:tooltipV2Props,setup(t){const r=toRefs(t),g=reactive(pick(r,Object.keys(tooltipV2ArrowProps))),y=reactive(pick(r,Object.keys(tooltipV2ContentProps))),$=reactive(pick(r,Object.keys(tooltipV2RootProps))),L=reactive(pick(r,Object.keys(tooltipV2TriggerProps)));return(V,z)=>(openBlock(),createBlock(TooltipV2Root,normalizeProps(guardReactiveProps($)),{default:withCtx(({open:j})=>[createVNode$1(TooltipV2Trigger,mergeProps(L,{nowrap:""}),{default:withCtx(()=>[renderSlot(V.$slots,"trigger")]),_:3},16),createVNode$1(unref(ElTeleport),{to:V.to,disabled:!V.teleported},{default:withCtx(()=>[V.fullTransition?(openBlock(),createBlock(Transition,normalizeProps(mergeProps({key:0},V.transitionProps)),{default:withCtx(()=>[V.alwaysOn||j?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:re,side:ae})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:re,side:ae}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)]),_:2},1040)):(openBlock(),createElementBlock(Fragment,{key:1},[V.alwaysOn||j?(openBlock(),createBlock(TooltipV2Content,normalizeProps(mergeProps({key:0},y)),{arrow:withCtx(({style:re,side:ae})=>[V.showArrow?(openBlock(),createBlock(TooltipV2Arrow,mergeProps({key:0},g,{style:re,side:ae}),null,16,["style","side"])):createCommentVNode("v-if",!0)]),default:withCtx(()=>[renderSlot(V.$slots,"default")]),_:3},16)):createCommentVNode("v-if",!0)],64))]),_:2},1032,["to","disabled"])]),_:3},16))}});var TooltipV2=_export_sfc$1(_sfc_main$E,[["__file","tooltip.vue"]]);const ElTooltipV2=withInstall(TooltipV2),LEFT_CHECK_CHANGE_EVENT="left-check-change",RIGHT_CHECK_CHANGE_EVENT="right-check-change",transferProps=buildProps({data:{type:definePropType(Array),default:()=>[]},titles:{type:definePropType(Array),default:()=>[]},buttonTexts:{type:definePropType(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:definePropType(Function)},leftDefaultChecked:{type:definePropType(Array),default:()=>[]},rightDefaultChecked:{type:definePropType(Array),default:()=>[]},renderContent:{type:definePropType(Function)},modelValue:{type:definePropType(Array),default:()=>[]},format:{type:definePropType(Object),default:()=>({})},filterable:Boolean,props:{type:definePropType(Object),default:()=>mutable({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),transferCheckedChangeFn=(t,n)=>[t,n].every(isArray$4)||isArray$4(t)&&isNil(n),transferEmits={[CHANGE_EVENT]:(t,n,r)=>[t,r].every(isArray$4)&&["left","right"].includes(n),[UPDATE_MODEL_EVENT]:t=>isArray$4(t),[LEFT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn,[RIGHT_CHECK_CHANGE_EVENT]:transferCheckedChangeFn},CHECKED_CHANGE_EVENT="checked-change",transferPanelProps=buildProps({data:transferProps.data,optionRender:{type:definePropType(Function)},placeholder:String,title:String,filterable:Boolean,format:transferProps.format,filterMethod:transferProps.filterMethod,defaultChecked:transferProps.leftDefaultChecked,props:transferProps.props}),transferPanelEmits={[CHECKED_CHANGE_EVENT]:transferCheckedChangeFn},usePropsAlias=t=>{const n={label:"label",key:"key",disabled:"disabled"};return computed(()=>({...n,...t.props}))},useCheck$1=(t,n,r)=>{const g=usePropsAlias(t),y=computed(()=>t.data.filter(re=>isFunction$3(t.filterMethod)?t.filterMethod(n.query,re):String(re[g.value.label]||re[g.value.key]).toLowerCase().includes(n.query.toLowerCase()))),$=computed(()=>y.value.filter(re=>!re[g.value.disabled])),L=computed(()=>{const re=n.checked.length,ae=t.data.length,{noChecked:oe,hasChecked:ie}=t.format;return oe&&ie?re>0?ie.replace(/\${checked}/g,re.toString()).replace(/\${total}/g,ae.toString()):oe.replace(/\${total}/g,ae.toString()):`${re}/${ae}`}),V=computed(()=>{const re=n.checked.length;return re>0&&re<$.value.length}),z=()=>{const re=$.value.map(ae=>ae[g.value.key]);n.allChecked=re.length>0&&re.every(ae=>n.checked.includes(ae))},j=re=>{n.checked=re?$.value.map(ae=>ae[g.value.key]):[]};return watch(()=>n.checked,(re,ae)=>{if(z(),n.checkChangeByUser){const oe=re.concat(ae).filter(ie=>!re.includes(ie)||!ae.includes(ie));r(CHECKED_CHANGE_EVENT,re,oe)}else r(CHECKED_CHANGE_EVENT,re),n.checkChangeByUser=!0}),watch($,()=>{z()}),watch(()=>t.data,()=>{const re=[],ae=y.value.map(oe=>oe[g.value.key]);n.checked.forEach(oe=>{ae.includes(oe)&&re.push(oe)}),n.checkChangeByUser=!1,n.checked=re}),watch(()=>t.defaultChecked,(re,ae)=>{if(ae&&re.length===ae.length&&re.every(le=>ae.includes(le)))return;const oe=[],ie=$.value.map(le=>le[g.value.key]);re.forEach(le=>{ie.includes(le)&&oe.push(le)}),n.checkChangeByUser=!1,n.checked=oe},{immediate:!0}),{filteredData:y,checkableData:$,checkedSummary:L,isIndeterminate:V,updateAllChecked:z,handleAllCheckedChange:j}},__default__$m=defineComponent({name:"ElTransferPanel"}),_sfc_main$D=defineComponent({...__default__$m,props:transferPanelProps,emits:transferPanelEmits,setup(t,{expose:n,emit:r}){const g=t,y=useSlots(),$=({option:_e})=>_e,{t:L}=useLocale(),V=useNamespace("transfer"),z=reactive({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),j=usePropsAlias(g),{filteredData:re,checkedSummary:ae,isIndeterminate:oe,handleAllCheckedChange:ie}=useCheck$1(g,z,r),le=computed(()=>!isEmpty(z.query)&&isEmpty(re.value)),ue=computed(()=>!isEmpty(y.default()[0].children)),{checked:de,allChecked:he,query:pe}=toRefs(z);return n({query:pe}),(_e,Ce)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(V).b("panel"))},[createBaseVNode("p",{class:normalizeClass(unref(V).be("panel","header"))},[createVNode$1(unref(ElCheckbox),{modelValue:unref(he),"onUpdate:modelValue":xe=>isRef(he)?he.value=xe:null,indeterminate:unref(oe),"validate-event":!1,onChange:unref(ie)},{default:withCtx(()=>[createTextVNode(toDisplayString(_e.title)+" ",1),createBaseVNode("span",null,toDisplayString(unref(ae)),1)]),_:1},8,["modelValue","onUpdate:modelValue","indeterminate","onChange"])],2),createBaseVNode("div",{class:normalizeClass([unref(V).be("panel","body"),unref(V).is("with-footer",unref(ue))])},[_e.filterable?(openBlock(),createBlock(unref(ElInput),{key:0,modelValue:unref(pe),"onUpdate:modelValue":xe=>isRef(pe)?pe.value=xe:null,class:normalizeClass(unref(V).be("panel","filter")),size:"default",placeholder:_e.placeholder,"prefix-icon":unref(search_default),clearable:"","validate-event":!1},null,8,["modelValue","onUpdate:modelValue","class","placeholder","prefix-icon"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(unref(ElCheckboxGroup$1),{modelValue:unref(de),"onUpdate:modelValue":xe=>isRef(de)?de.value=xe:null,"validate-event":!1,class:normalizeClass([unref(V).is("filterable",_e.filterable),unref(V).be("panel","list")])},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(re),xe=>(openBlock(),createBlock(unref(ElCheckbox),{key:xe[unref(j).key],class:normalizeClass(unref(V).be("panel","item")),value:xe[unref(j).key],disabled:xe[unref(j).disabled],"validate-event":!1},{default:withCtx(()=>{var Ie;return[createVNode$1($,{option:(Ie=_e.optionRender)==null?void 0:Ie.call(_e,xe)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","class"]),[[vShow,!unref(le)&&!unref(isEmpty)(_e.data)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(V).be("panel","empty"))},[renderSlot(_e.$slots,"empty",{},()=>[createTextVNode(toDisplayString(unref(le)?unref(L)("el.transfer.noMatch"):unref(L)("el.transfer.noData")),1)])],2),[[vShow,unref(le)||unref(isEmpty)(_e.data)]])],2),unref(ue)?(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(V).be("panel","footer"))},[renderSlot(_e.$slots,"default")],2)):createCommentVNode("v-if",!0)],2))}});var TransferPanel=_export_sfc$1(_sfc_main$D,[["__file","transfer-panel.vue"]]);const useComputedData=t=>{const n=usePropsAlias(t),r=computed(()=>t.data.reduce(($,L)=>($[L[n.value.key]]=L)&&$,{})),g=computed(()=>t.data.filter($=>!t.modelValue.includes($[n.value.key]))),y=computed(()=>t.targetOrder==="original"?t.data.filter($=>t.modelValue.includes($[n.value.key])):t.modelValue.reduce(($,L)=>{const V=r.value[L];return V&&$.push(V),$},[]));return{sourceData:g,targetData:y}},useMove=(t,n,r)=>{const g=usePropsAlias(t),y=(V,z,j)=>{r(UPDATE_MODEL_EVENT,V),r(CHANGE_EVENT,V,z,j)};return{addToLeft:()=>{const V=t.modelValue.slice();n.rightChecked.forEach(z=>{const j=V.indexOf(z);j>-1&&V.splice(j,1)}),y(V,"left",n.rightChecked)},addToRight:()=>{let V=t.modelValue.slice();const z=t.data.filter(j=>{const re=j[g.value.key];return n.leftChecked.includes(re)&&!t.modelValue.includes(re)}).map(j=>j[g.value.key]);V=t.targetOrder==="unshift"?z.concat(V):V.concat(z),t.targetOrder==="original"&&(V=t.data.filter(j=>V.includes(j[g.value.key])).map(j=>j[g.value.key])),y(V,"right",n.leftChecked)}}},useCheckedChange=(t,n)=>({onSourceCheckedChange:(y,$)=>{t.leftChecked=y,$&&n(LEFT_CHECK_CHANGE_EVENT,y,$)},onTargetCheckedChange:(y,$)=>{t.rightChecked=y,$&&n(RIGHT_CHECK_CHANGE_EVENT,y,$)}}),__default__$l=defineComponent({name:"ElTransfer"}),_sfc_main$C=defineComponent({...__default__$l,props:transferProps,emits:transferEmits,setup(t,{expose:n,emit:r}){const g=t,y=useSlots(),{t:$}=useLocale(),L=useNamespace("transfer"),{formItem:V}=useFormItem(),z=reactive({leftChecked:[],rightChecked:[]}),j=usePropsAlias(g),{sourceData:re,targetData:ae}=useComputedData(g),{onSourceCheckedChange:oe,onTargetCheckedChange:ie}=useCheckedChange(z,r),{addToLeft:le,addToRight:ue}=useMove(g,z,r),de=ref(),he=ref(),pe=Oe=>{switch(Oe){case"left":de.value.query="";break;case"right":he.value.query="";break}},_e=computed(()=>g.buttonTexts.length===2),Ce=computed(()=>g.titles[0]||$("el.transfer.titles.0")),xe=computed(()=>g.titles[1]||$("el.transfer.titles.1")),Ie=computed(()=>g.filterPlaceholder||$("el.transfer.filterPlaceholder"));watch(()=>g.modelValue,()=>{var Oe;g.validateEvent&&((Oe=V==null?void 0:V.validate)==null||Oe.call(V,"change").catch(Ne=>void 0))});const $e=computed(()=>Oe=>{var Ne;if(g.renderContent)return g.renderContent(h$1,Oe);const Fe=(((Ne=y.default)==null?void 0:Ne.call(y,{option:Oe}))||[]).filter(Ve=>Ve.type!==Comment);return Fe.length?Fe:h$1("span",Oe[j.value.label]||Oe[j.value.key])});return n({clearQuery:pe,leftPanel:de,rightPanel:he}),(Oe,Ne)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(L).b())},[createVNode$1(TransferPanel,{ref_key:"leftPanel",ref:de,data:unref(re),"option-render":unref($e),placeholder:unref(Ie),title:unref(Ce),filterable:Oe.filterable,format:Oe.format,"filter-method":Oe.filterMethod,"default-checked":Oe.leftDefaultChecked,props:g.props,onCheckedChange:unref(oe)},{empty:withCtx(()=>[renderSlot(Oe.$slots,"left-empty")]),default:withCtx(()=>[renderSlot(Oe.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),createBaseVNode("div",{class:normalizeClass(unref(L).e("buttons"))},[createVNode$1(unref(ElButton),{type:"primary",class:normalizeClass([unref(L).e("button"),unref(L).is("with-texts",unref(_e))]),disabled:unref(isEmpty)(z.rightChecked),onClick:unref(le)},{default:withCtx(()=>[createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_left_default))]),_:1}),unref(isUndefined)(Oe.buttonTexts[0])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0},toDisplayString(Oe.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),createVNode$1(unref(ElButton),{type:"primary",class:normalizeClass([unref(L).e("button"),unref(L).is("with-texts",unref(_e))]),disabled:unref(isEmpty)(z.leftChecked),onClick:unref(ue)},{default:withCtx(()=>[unref(isUndefined)(Oe.buttonTexts[1])?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0},toDisplayString(Oe.buttonTexts[1]),1)),createVNode$1(unref(ElIcon),null,{default:withCtx(()=>[createVNode$1(unref(arrow_right_default))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),createVNode$1(TransferPanel,{ref_key:"rightPanel",ref:he,data:unref(ae),"option-render":unref($e),placeholder:unref(Ie),filterable:Oe.filterable,format:Oe.format,"filter-method":Oe.filterMethod,title:unref(xe),"default-checked":Oe.rightDefaultChecked,props:g.props,onCheckedChange:unref(ie)},{empty:withCtx(()=>[renderSlot(Oe.$slots,"right-empty")]),default:withCtx(()=>[renderSlot(Oe.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var Transfer=_export_sfc$1(_sfc_main$C,[["__file","transfer.vue"]]);const ElTransfer=withInstall(Transfer),NODE_KEY="$treeNodeId",markNodeData=function(t,n){!n||n[NODE_KEY]||Object.defineProperty(n,NODE_KEY,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},getNodeKey=(t,n)=>n==null?void 0:n[t||NODE_KEY],handleCurrentChange=(t,n,r)=>{const g=t.value.currentNode;r();const y=t.value.currentNode;g!==y&&n("current-change",y?y.data:null,y)},getChildState=t=>{let n=!0,r=!0,g=!0;for(let y=0,$=t.length;y<$;y++){const L=t[y];(L.checked!==!0||L.indeterminate)&&(n=!1,L.disabled||(g=!1)),(L.checked!==!1||L.indeterminate)&&(r=!1)}return{all:n,none:r,allWithoutDisable:g,half:!n&&!r}},reInitChecked=function(t){if(t.childNodes.length===0||t.loading)return;const{all:n,none:r,half:g}=getChildState(t.childNodes);n?(t.checked=!0,t.indeterminate=!1):g?(t.checked=!1,t.indeterminate=!0):r&&(t.checked=!1,t.indeterminate=!1);const y=t.parent;!y||y.level===0||t.store.checkStrictly||reInitChecked(y)},getPropertyFromData=function(t,n){const r=t.store.props,g=t.data||{},y=r[n];if(isFunction$3(y))return y(g,t);if(isString$2(y))return g[y];if(isUndefined(y)){const $=g[n];return isUndefined($)?"":$}};let nodeIdSeed=0,Node$1=class oa{constructor(n){this.id=nodeIdSeed++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const r in n)hasOwn$1(n,r)&&(this[r]=n[r]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const n=this.store;if(!n)throw new Error("[Node]store is required!");n.registerNode(this);const r=n.props;if(r&&typeof r.isLeaf<"u"){const $=getPropertyFromData(this,"isLeaf");isBoolean($)&&(this.isLeafByUser=$)}if(n.lazy!==!0&&this.data?(this.setData(this.data),n.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&n.lazy&&n.defaultExpandAll&&!this.isLeafByUser&&this.expand(),isArray$4(this.data)||markNodeData(this,this.data),!this.data)return;const g=n.defaultExpandedKeys,y=n.key;y&&g&&g.includes(this.key)&&this.expand(null,n.autoExpandParent),y&&n.currentNodeKey!==void 0&&this.key===n.currentNodeKey&&(n.currentNode=this,n.currentNode.isCurrent=!0),n.lazy&&n._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(n){isArray$4(n)||markNodeData(this,n),this.data=n,this.childNodes=[];let r;this.level===0&&isArray$4(this.data)?r=this.data:r=getPropertyFromData(this,"children")||[];for(let g=0,y=r.length;g<y;g++)this.insertChild({data:r[g]})}get label(){return getPropertyFromData(this,"label")}get key(){const n=this.store.key;return this.data?this.data[n]:null}get disabled(){return getPropertyFromData(this,"disabled")}get nextSibling(){const n=this.parent;if(n){const r=n.childNodes.indexOf(this);if(r>-1)return n.childNodes[r+1]}return null}get previousSibling(){const n=this.parent;if(n){const r=n.childNodes.indexOf(this);if(r>-1)return r>0?n.childNodes[r-1]:null}return null}contains(n,r=!0){return(this.childNodes||[]).some(g=>g===n||r&&g.contains(n))}remove(){const n=this.parent;n&&n.removeChild(this)}insertChild(n,r,g){if(!n)throw new Error("InsertChild error: child is required.");if(!(n instanceof oa)){if(!g){const y=this.getChildren(!0);y.includes(n.data)||(isUndefined(r)||r<0?y.push(n.data):y.splice(r,0,n.data))}Object.assign(n,{parent:this,store:this.store}),n=reactive(new oa(n)),n instanceof oa&&n.initialize()}n.level=this.level+1,isUndefined(r)||r<0?this.childNodes.push(n):this.childNodes.splice(r,0,n),this.updateLeafState()}insertBefore(n,r){let g;r&&(g=this.childNodes.indexOf(r)),this.insertChild(n,g)}insertAfter(n,r){let g;r&&(g=this.childNodes.indexOf(r),g!==-1&&(g+=1)),this.insertChild(n,g)}removeChild(n){const r=this.getChildren()||[],g=r.indexOf(n.data);g>-1&&r.splice(g,1);const y=this.childNodes.indexOf(n);y>-1&&(this.store&&this.store.deregisterNode(n),n.parent=null,this.childNodes.splice(y,1)),this.updateLeafState()}removeChildByData(n){let r=null;for(let g=0;g<this.childNodes.length;g++)if(this.childNodes[g].data===n){r=this.childNodes[g];break}r&&this.removeChild(r)}expand(n,r){const g=()=>{if(r){let y=this.parent;for(;y.level>0;)y.expanded=!0,y=y.parent}this.expanded=!0,n&&n(),this.childNodes.forEach(y=>{y.canFocus=!0})};this.shouldLoadData()?this.loadData(y=>{isArray$4(y)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||reInitChecked(this),g())}):g()}doCreateChildren(n,r={}){n.forEach(g=>{this.insertChild(Object.assign({data:g},r),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(n=>{n.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const n=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!n||n.length===0;return}this.isLeaf=!1}setChecked(n,r,g,y){if(this.indeterminate=n==="half",this.checked=n===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:L,allWithoutDisable:V}=getChildState(this.childNodes);!this.isLeaf&&!L&&V&&(this.checked=!1,n=!1);const z=()=>{if(r){const j=this.childNodes;for(let oe=0,ie=j.length;oe<ie;oe++){const le=j[oe];y=y||n!==!1;const ue=le.disabled?le.checked:y;le.setChecked(ue,r,!0,y)}const{half:re,all:ae}=getChildState(j);ae||(this.checked=ae,this.indeterminate=re)}};if(this.shouldLoadData()){this.loadData(()=>{z(),reInitChecked(this)},{checked:n!==!1});return}else z()}const $=this.parent;!$||$.level===0||g||reInitChecked($)}getChildren(n=!1){if(this.level===0)return this.data;const r=this.data;if(!r)return null;const g=this.store.props;let y="children";return g&&(y=g.children||"children"),isUndefined(r[y])&&(r[y]=null),n&&!r[y]&&(r[y]=[]),r[y]}updateChildren(){const n=this.getChildren()||[],r=this.childNodes.map($=>$.data),g={},y=[];n.forEach(($,L)=>{const V=$[NODE_KEY];!!V&&r.findIndex(j=>j[NODE_KEY]===V)>=0?g[V]={index:L,data:$}:y.push({index:L,data:$})}),this.store.lazy||r.forEach($=>{g[$[NODE_KEY]]||this.removeChildByData($)}),y.forEach(({index:$,data:L})=>{this.insertChild({data:L},$)}),this.updateLeafState()}loadData(n,r={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(r).length)){this.loading=!0;const g=$=>{this.childNodes=[],this.doCreateChildren($,r),this.loaded=!0,this.loading=!1,this.updateLeafState(),n&&n.call(this,$)},y=()=>{this.loading=!1};this.store.load(this,g,y)}else n&&n.call(this)}eachNode(n){const r=[this];for(;r.length;){const g=r.shift();r.unshift(...g.childNodes),n(g)}}reInitChecked(){this.store.checkStrictly||reInitChecked(this)}};class TreeStore{constructor(n){this.currentNode=null,this.currentNodeKey=null;for(const r in n)hasOwn$1(n,r)&&(this[r]=n[r]);this.nodesMap={}}initialize(){if(this.root=new Node$1({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const n=this.load;n(this.root,r=>{this.root.doCreateChildren(r),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(n){const r=this.filterNodeMethod,g=this.lazy,y=async function($){const L=$.root?$.root.childNodes:$.childNodes;for(const[V,z]of L.entries())z.visible=r.call(z,n,z.data,z),V%80===0&&V>0&&await nextTick(),await y(z);if(!$.visible&&L.length){let V=!0;V=!L.some(z=>z.visible),$.root?$.root.visible=V===!1:$.visible=V===!1}n&&$.visible&&!$.isLeaf&&(!g||$.loaded)&&$.expand()};y(this)}setData(n){n!==this.root.data?(this.nodesMap={},this.root.setData(n),this._initDefaultCheckedNodes(),this.setCurrentNodeKey(this.currentNodeKey)):this.root.updateChildren()}getNode(n){if(n instanceof Node$1)return n;const r=isObject$5(n)?getNodeKey(this.key,n):n;return this.nodesMap[r]||null}insertBefore(n,r){const g=this.getNode(r);g.parent.insertBefore({data:n},g)}insertAfter(n,r){const g=this.getNode(r);g.parent.insertAfter({data:n},g)}remove(n){const r=this.getNode(n);r&&r.parent&&(r===this.currentNode&&(this.currentNode=null),r.parent.removeChild(r))}append(n,r){const g=isPropAbsent(r)?this.root:this.getNode(r);g&&g.insertChild({data:n})}_initDefaultCheckedNodes(){const n=this.defaultCheckedKeys||[],r=this.nodesMap;n.forEach(g=>{const y=r[g];y&&y.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(n){(this.defaultCheckedKeys||[]).includes(n.key)&&n.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(n){n!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=n,this._initDefaultCheckedNodes())}registerNode(n){const r=this.key;!n||!n.data||(r?n.key!==void 0&&(this.nodesMap[n.key]=n):this.nodesMap[n.id]=n)}deregisterNode(n){!this.key||!n||!n.data||(n.childNodes.forEach(g=>{this.deregisterNode(g)}),delete this.nodesMap[n.key])}getCheckedNodes(n=!1,r=!1){const g=[],y=function($){($.root?$.root.childNodes:$.childNodes).forEach(V=>{(V.checked||r&&V.indeterminate)&&(!n||n&&V.isLeaf)&&g.push(V.data),y(V)})};return y(this),g}getCheckedKeys(n=!1){return this.getCheckedNodes(n).map(r=>(r||{})[this.key])}getHalfCheckedNodes(){const n=[],r=function(g){(g.root?g.root.childNodes:g.childNodes).forEach($=>{$.indeterminate&&n.push($.data),r($)})};return r(this),n}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(n=>(n||{})[this.key])}_getAllNodes(){const n=[],r=this.nodesMap;for(const g in r)hasOwn$1(r,g)&&n.push(r[g]);return n}updateChildren(n,r){const g=this.nodesMap[n];if(!g)return;const y=g.childNodes;for(let $=y.length-1;$>=0;$--){const L=y[$];this.remove(L.data)}for(let $=0,L=r.length;$<L;$++){const V=r[$];this.append(V,g.data)}}_setCheckedKeys(n,r=!1,g){const y=this._getAllNodes().sort((z,j)=>z.level-j.level),$=Object.create(null),L=Object.keys(g);y.forEach(z=>z.setChecked(!1,!1));const V=z=>{z.childNodes.forEach(j=>{var re;$[j.data[n]]=!0,(re=j.childNodes)!=null&&re.length&&V(j)})};for(let z=0,j=y.length;z<j;z++){const re=y[z],ae=re.data[n].toString();if(!L.includes(ae)){re.checked&&!$[ae]&&re.setChecked(!1,!1);continue}if(re.childNodes.length&&V(re),re.isLeaf||this.checkStrictly){re.setChecked(!0,!1);continue}if(re.setChecked(!0,!0),r){re.setChecked(!1,!1);const ie=function(le){le.childNodes.forEach(de=>{de.isLeaf||de.setChecked(!1,!1),ie(de)})};ie(re)}}}setCheckedNodes(n,r=!1){const g=this.key,y={};n.forEach($=>{y[($||{})[g]]=!0}),this._setCheckedKeys(g,r,y)}setCheckedKeys(n,r=!1){this.defaultCheckedKeys=n;const g=this.key,y={};n.forEach($=>{y[$]=!0}),this._setCheckedKeys(g,r,y)}setDefaultExpandedKeys(n){n=n||[],this.defaultExpandedKeys=n,n.forEach(r=>{const g=this.getNode(r);g&&g.expand(null,this.autoExpandParent)})}setChecked(n,r,g){const y=this.getNode(n);y&&y.setChecked(!!r,g)}getCurrentNode(){return this.currentNode}setCurrentNode(n){const r=this.currentNode;r&&(r.isCurrent=!1),this.currentNode=n,this.currentNode.isCurrent=!0}setUserCurrentNode(n,r=!0){const g=n[this.key],y=this.nodesMap[g];this.setCurrentNode(y),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(n,r=!0){if(this.currentNodeKey=n,isPropAbsent(n)){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const g=this.getNode(n);g&&(this.setCurrentNode(g),r&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const ROOT_TREE_INJECTION_KEY$1="RootTree",NODE_INSTANCE_INJECTION_KEY="NodeInstance",TREE_NODE_MAP_INJECTION_KEY="TreeNodeMap",_sfc_main$B=defineComponent({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const n=useNamespace("tree"),r=inject(NODE_INSTANCE_INJECTION_KEY),g=inject(ROOT_TREE_INJECTION_KEY$1);return()=>{const y=t.node,{data:$,store:L}=y;return t.renderContent?t.renderContent(h$1,{_self:r,node:y,data:$,store:L}):renderSlot(g.ctx.slots,"default",{node:y,data:$},()=>[h$1(ElText,{tag:"span",truncated:!0,class:n.be("node","label")},()=>[y.label])])}}});var NodeContent=_export_sfc$1(_sfc_main$B,[["__file","tree-node-content.vue"]]);function useNodeExpandEventBroadcast(t){const n=inject(TREE_NODE_MAP_INJECTION_KEY,null),r={treeNodeExpand:g=>{t.node!==g&&t.node.collapse()},children:[]};return n&&n.children.push(r),provide(TREE_NODE_MAP_INJECTION_KEY,r),{broadcastExpanded:g=>{if(t.accordion)for(const y of r.children)y.treeNodeExpand(g)}}}const dragEventsKey=Symbol("dragEvents");function useDragNodeHandler({props:t,ctx:n,el$:r,dropIndicator$:g,store:y}){const $=useNamespace("tree"),L=ref({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return provide(dragEventsKey,{treeNodeDragStart:({event:re,treeNode:ae})=>{if(isFunction$3(t.allowDrag)&&!t.allowDrag(ae.node))return re.preventDefault(),!1;re.dataTransfer.effectAllowed="move";try{re.dataTransfer.setData("text/plain","")}catch{}L.value.draggingNode=ae,n.emit("node-drag-start",ae.node,re)},treeNodeDragOver:({event:re,treeNode:ae})=>{const oe=ae,ie=L.value.dropNode;ie&&ie.node.id!==oe.node.id&&removeClass(ie.$el,$.is("drop-inner"));const le=L.value.draggingNode;if(!le||!oe)return;let ue=!0,de=!0,he=!0,pe=!0;isFunction$3(t.allowDrop)&&(ue=t.allowDrop(le.node,oe.node,"prev"),pe=de=t.allowDrop(le.node,oe.node,"inner"),he=t.allowDrop(le.node,oe.node,"next")),re.dataTransfer.dropEffect=de||ue||he?"move":"none",(ue||de||he)&&(ie==null?void 0:ie.node.id)!==oe.node.id&&(ie&&n.emit("node-drag-leave",le.node,ie.node,re),n.emit("node-drag-enter",le.node,oe.node,re)),ue||de||he?L.value.dropNode=oe:L.value.dropNode=null,oe.node.nextSibling===le.node&&(he=!1),oe.node.previousSibling===le.node&&(ue=!1),oe.node.contains(le.node,!1)&&(de=!1),(le.node===oe.node||le.node.contains(oe.node))&&(ue=!1,de=!1,he=!1);const _e=oe.$el.querySelector(`.${$.be("node","content")}`).getBoundingClientRect(),Ce=r.value.getBoundingClientRect();let xe;const Ie=ue?de?.25:he?.45:1:-1,$e=he?de?.75:ue?.55:0:1;let Oe=-9999;const Ne=re.clientY-_e.top;Ne<_e.height*Ie?xe="before":Ne>_e.height*$e?xe="after":de?xe="inner":xe="none";const Fe=oe.$el.querySelector(`.${$.be("node","expand-icon")}`).getBoundingClientRect(),Ve=g.value;xe==="before"?Oe=Fe.top-Ce.top:xe==="after"&&(Oe=Fe.bottom-Ce.top),Ve.style.top=`${Oe}px`,Ve.style.left=`${Fe.right-Ce.left}px`,xe==="inner"?addClass(oe.$el,$.is("drop-inner")):removeClass(oe.$el,$.is("drop-inner")),L.value.showDropIndicator=xe==="before"||xe==="after",L.value.allowDrop=L.value.showDropIndicator||pe,L.value.dropType=xe,n.emit("node-drag-over",le.node,oe.node,re)},treeNodeDragEnd:re=>{const{draggingNode:ae,dropType:oe,dropNode:ie}=L.value;if(re.preventDefault(),re.dataTransfer&&(re.dataTransfer.dropEffect="move"),ae&&ie){const le={data:ae.node.data};oe!=="none"&&ae.node.remove(),oe==="before"?ie.node.parent.insertBefore(le,ie.node):oe==="after"?ie.node.parent.insertAfter(le,ie.node):oe==="inner"&&ie.node.insertChild(le),oe!=="none"&&(y.value.registerNode(le),y.value.key&&ae.node.eachNode(ue=>{var de;(de=y.value.nodesMap[ue.data[y.value.key]])==null||de.setChecked(ue.checked,!y.value.checkStrictly)})),removeClass(ie.$el,$.is("drop-inner")),n.emit("node-drag-end",ae.node,ie.node,oe,re),oe!=="none"&&n.emit("node-drop",ae.node,ie.node,oe,re)}ae&&!ie&&n.emit("node-drag-end",ae.node,null,oe,re),L.value.showDropIndicator=!1,L.value.draggingNode=null,L.value.dropNode=null,L.value.allowDrop=!0}}),{dragState:L}}const _sfc_main$A=defineComponent({name:"ElTreeNode",components:{ElCollapseTransition,ElCheckbox,NodeContent,ElIcon,Loading:loading_default},props:{node:{type:Node$1,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,n){const r=useNamespace("tree"),{broadcastExpanded:g}=useNodeExpandEventBroadcast(t),y=inject(ROOT_TREE_INJECTION_KEY$1),$=ref(!1),L=ref(!1),V=ref(),z=ref(),j=ref(),re=inject(dragEventsKey),ae=getCurrentInstance();provide(NODE_INSTANCE_INJECTION_KEY,ae),t.node.expanded&&($.value=!0,L.value=!0);const oe=y.props.props.children||"children";watch(()=>{var Ne;const Fe=(Ne=t.node.data)==null?void 0:Ne[oe];return Fe&&[...Fe]},()=>{t.node.updateChildren()}),watch(()=>t.node.indeterminate,Ne=>{ue(t.node.checked,Ne)}),watch(()=>t.node.checked,Ne=>{ue(Ne,t.node.indeterminate)}),watch(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),watch(()=>t.node.expanded,Ne=>{nextTick(()=>$.value=Ne),Ne&&(L.value=!0)});const ie=Ne=>getNodeKey(y.props.nodeKey,Ne.data),le=Ne=>{const Fe=t.props.class;if(!Fe)return{};let Ve;if(isFunction$3(Fe)){const{data:ze}=Ne;Ve=Fe(ze,Ne)}else Ve=Fe;return isString$2(Ve)?{[Ve]:!0}:Ve},ue=(Ne,Fe)=>{(V.value!==Ne||z.value!==Fe)&&y.ctx.emit("check-change",t.node.data,Ne,Fe),V.value=Ne,z.value=Fe},de=Ne=>{handleCurrentChange(y.store,y.ctx.emit,()=>{var Fe;if((Fe=y==null?void 0:y.props)==null?void 0:Fe.nodeKey){const ze=ie(t.node);y.store.value.setCurrentNodeKey(ze)}else y.store.value.setCurrentNode(t.node)}),y.currentNode.value=t.node,y.props.expandOnClickNode&&pe(),(y.props.checkOnClickNode||t.node.isLeaf&&y.props.checkOnClickLeaf&&t.showCheckbox)&&!t.node.disabled&&_e(!t.node.checked),y.ctx.emit("node-click",t.node.data,t.node,ae,Ne)},he=Ne=>{var Fe;(Fe=y.instance.vnode.props)!=null&&Fe.onNodeContextmenu&&(Ne.stopPropagation(),Ne.preventDefault()),y.ctx.emit("node-contextmenu",Ne,t.node.data,t.node,ae)},pe=()=>{t.node.isLeaf||($.value?(y.ctx.emit("node-collapse",t.node.data,t.node,ae),t.node.collapse()):t.node.expand(()=>{n.emit("node-expand",t.node.data,t.node,ae)}))},_e=Ne=>{t.node.setChecked(Ne,!(y!=null&&y.props.checkStrictly)),nextTick(()=>{const Fe=y.store.value;y.ctx.emit("check",t.node.data,{checkedNodes:Fe.getCheckedNodes(),checkedKeys:Fe.getCheckedKeys(),halfCheckedNodes:Fe.getHalfCheckedNodes(),halfCheckedKeys:Fe.getHalfCheckedKeys()})})};return{ns:r,node$:j,tree:y,expanded:$,childNodeRendered:L,oldChecked:V,oldIndeterminate:z,getNodeKey:ie,getNodeClass:le,handleSelectChange:ue,handleClick:de,handleContextMenu:he,handleExpandIconClick:pe,handleCheckChange:_e,handleChildNodeExpand:(Ne,Fe,Ve)=>{g(Fe),y.ctx.emit("node-expand",Ne,Fe,Ve)},handleDragStart:Ne=>{y.props.draggable&&re.treeNodeDragStart({event:Ne,treeNode:t})},handleDragOver:Ne=>{Ne.preventDefault(),y.props.draggable&&re.treeNodeDragOver({event:Ne,treeNode:{$el:j.value,node:t.node}})},handleDrop:Ne=>{Ne.preventDefault()},handleDragEnd:Ne=>{y.props.draggable&&re.treeNodeDragEnd(Ne)},CaretRight:caret_right_default}}});function _sfc_render$8(t,n,r,g,y,$){const L=resolveComponent("el-icon"),V=resolveComponent("el-checkbox"),z=resolveComponent("loading"),j=resolveComponent("node-content"),re=resolveComponent("el-tree-node"),ae=resolveComponent("el-collapse-transition");return withDirectives((openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:withModifiers(t.handleClick,["stop"]),onContextmenu:t.handleContextMenu,onDragstart:withModifiers(t.handleDragStart,["stop"]),onDragover:withModifiers(t.handleDragOver,["stop"]),onDragend:withModifiers(t.handleDragEnd,["stop"]),onDrop:withModifiers(t.handleDrop,["stop"])},[createBaseVNode("div",{class:normalizeClass(t.ns.be("node","content")),style:normalizeStyle$1({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(openBlock(),createBlock(L,{key:0,class:normalizeClass([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:withModifiers(t.handleExpandIconClick,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),t.showCheckbox?(openBlock(),createBlock(V,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:withModifiers(()=>{},["stop"]),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onClick","onChange"])):createCommentVNode("v-if",!0),t.node.loading?(openBlock(),createBlock(L,{key:2,class:normalizeClass([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:withCtx(()=>[createVNode$1(z)]),_:1},8,["class"])):createCommentVNode("v-if",!0),createVNode$1(j,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),createVNode$1(ae,null,{default:withCtx(()=>[!t.renderAfterExpand||t.childNodeRendered?withDirectives((openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded,onClick:withModifiers(()=>{},["stop"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.node.childNodes,oe=>(openBlock(),createBlock(re,{key:t.getNodeKey(oe),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:oe,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,["aria-expanded","onClick"])),[[vShow,t.expanded]]):createCommentVNode("v-if",!0)]),_:1})],42,["aria-expanded","aria-disabled","aria-checked","draggable","data-key","onClick","onContextmenu","onDragstart","onDragover","onDragend","onDrop"])),[[vShow,t.node.visible]])}var ElTreeNode$1=_export_sfc$1(_sfc_main$A,[["render",_sfc_render$8],["__file","tree-node.vue"]]);function useKeydown({el$:t},n){const r=useNamespace("tree");onMounted(()=>{y()}),onUpdated(()=>{Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(L=>{L.setAttribute("tabindex","-1")})}),useEventListener(t,"keydown",$=>{const L=$.target;if(!L.className.includes(r.b("node")))return;const V=$.code,z=Array.from(t.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`)),j=z.indexOf(L);let re;if([EVENT_CODE.up,EVENT_CODE.down].includes(V)){if($.preventDefault(),V===EVENT_CODE.up){re=j===-1?0:j!==0?j-1:z.length-1;const oe=re;for(;!n.value.getNode(z[re].dataset.key).canFocus;){if(re--,re===oe){re=-1;break}re<0&&(re=z.length-1)}}else{re=j===-1?0:j<z.length-1?j+1:0;const oe=re;for(;!n.value.getNode(z[re].dataset.key).canFocus;){if(re++,re===oe){re=-1;break}re>=z.length&&(re=0)}}re!==-1&&z[re].focus()}[EVENT_CODE.left,EVENT_CODE.right].includes(V)&&($.preventDefault(),L.click());const ae=L.querySelector('[type="checkbox"]');[EVENT_CODE.enter,EVENT_CODE.numpadEnter,EVENT_CODE.space].includes(V)&&ae&&($.preventDefault(),ae.click())});const y=()=>{var $;const L=Array.from(t.value.querySelectorAll(`.${r.is("focusable")}[role=treeitem]`));Array.from(t.value.querySelectorAll("input[type=checkbox]")).forEach(j=>{j.setAttribute("tabindex","-1")});const z=t.value.querySelectorAll(`.${r.is("checked")}[role=treeitem]`);if(z.length){z[0].setAttribute("tabindex","0");return}($=L[0])==null||$.setAttribute("tabindex","0")}}const _sfc_main$z=defineComponent({name:"ElTree",components:{ElTreeNode:ElTreeNode$1},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkOnClickLeaf:{type:Boolean,default:!0},checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:iconPropType}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,n){const{t:r}=useLocale(),g=useNamespace("tree"),y=inject(selectKey,null),$=ref(new TreeStore({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));$.value.initialize();const L=ref($.value.root),V=ref(null),z=ref(null),j=ref(null),{broadcastExpanded:re}=useNodeExpandEventBroadcast(t),{dragState:ae}=useDragNodeHandler({props:t,ctx:n,el$:z,dropIndicator$:j,store:$});useKeydown({el$:z},$);const oe=computed(()=>{const{childNodes:Pt}=L.value,At=y?y.hasFilteredOptions!==0:!1;return(!Pt||Pt.length===0||Pt.every(({visible:vn})=>!vn))&&!At});watch(()=>t.currentNodeKey,Pt=>{$.value.setCurrentNodeKey(Pt)}),watch(()=>t.defaultCheckedKeys,Pt=>{$.value.setDefaultCheckedKey(Pt)}),watch(()=>t.defaultExpandedKeys,Pt=>{$.value.setDefaultExpandedKeys(Pt)}),watch(()=>t.data,Pt=>{$.value.setData(Pt)},{deep:!0}),watch(()=>t.checkStrictly,Pt=>{$.value.checkStrictly=Pt});const ie=Pt=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");$.value.filter(Pt)},le=Pt=>getNodeKey(t.nodeKey,Pt.data),ue=Pt=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const At=$.value.getNode(Pt);if(!At)return[];const vn=[At.data];let En=At.parent;for(;En&&En!==L.value;)vn.push(En.data),En=En.parent;return vn.reverse()},de=(Pt,At)=>$.value.getCheckedNodes(Pt,At),he=Pt=>$.value.getCheckedKeys(Pt),pe=()=>{const Pt=$.value.getCurrentNode();return Pt?Pt.data:null},_e=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const Pt=pe();return Pt?Pt[t.nodeKey]:null},Ce=(Pt,At)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");$.value.setCheckedNodes(Pt,At)},xe=(Pt,At)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");$.value.setCheckedKeys(Pt,At)},Ie=(Pt,At,vn)=>{$.value.setChecked(Pt,At,vn)},$e=()=>$.value.getHalfCheckedNodes(),Oe=()=>$.value.getHalfCheckedKeys(),Ne=(Pt,At=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");handleCurrentChange($,n.emit,()=>{re(Pt),$.value.setUserCurrentNode(Pt,At)})},Fe=(Pt,At=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");handleCurrentChange($,n.emit,()=>{re(),$.value.setCurrentNodeKey(Pt,At)})},Ve=Pt=>$.value.getNode(Pt),ze=Pt=>{$.value.remove(Pt)},Et=(Pt,At)=>{$.value.append(Pt,At)},Dt=(Pt,At)=>{$.value.insertBefore(Pt,At)},Ue=(Pt,At)=>{$.value.insertAfter(Pt,At)},qe=(Pt,At,vn)=>{re(At),n.emit("node-expand",Pt,At,vn)},Lt=(Pt,At)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");$.value.updateChildren(Pt,At)};return provide(ROOT_TREE_INJECTION_KEY$1,{ctx:n,props:t,store:$,root:L,currentNode:V,instance:getCurrentInstance()}),provide(formItemContextKey,void 0),{ns:g,store:$,root:L,currentNode:V,dragState:ae,el$:z,dropIndicator$:j,isEmpty:oe,filter:ie,getNodeKey:le,getNodePath:ue,getCheckedNodes:de,getCheckedKeys:he,getCurrentNode:pe,getCurrentKey:_e,setCheckedNodes:Ce,setCheckedKeys:xe,setChecked:Ie,getHalfCheckedNodes:$e,getHalfCheckedKeys:Oe,setCurrentNode:Ne,setCurrentKey:Fe,t:r,getNode:Ve,remove:ze,append:Et,insertBefore:Dt,insertAfter:Ue,handleNodeExpand:qe,updateKeyChildren:Lt}}});function _sfc_render$7(t,n,r,g,y,$){const L=resolveComponent("el-tree-node");return openBlock(),createElementBlock("div",{ref:"el$",class:normalizeClass([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.root.childNodes,V=>(openBlock(),createBlock(L,{key:t.getNodeKey(V),node:V,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(t.ns.e("empty-block"))},[renderSlot(t.$slots,"empty",{},()=>{var V;return[createBaseVNode("span",{class:normalizeClass(t.ns.e("empty-text"))},toDisplayString((V=t.emptyText)!=null?V:t.t("el.tree.emptyText")),3)]})],2)):createCommentVNode("v-if",!0),withDirectives(createBaseVNode("div",{ref:"dropIndicator$",class:normalizeClass(t.ns.e("drop-indicator"))},null,2),[[vShow,t.dragState.showDropIndicator]])],2)}var Tree$1=_export_sfc$1(_sfc_main$z,[["render",_sfc_render$7],["__file","tree.vue"]]);const ElTree=withInstall(Tree$1),useSelect=(t,{attrs:n,emit:r},{select:g,tree:y,key:$})=>{const L=useNamespace("tree-select");return watch(()=>t.data,()=>{t.filterable&&nextTick(()=>{var z,j;(j=y.value)==null||j.filter((z=g.value)==null?void 0:z.states.inputValue)})},{flush:"post"}),{...pick(toRefs(t),Object.keys(ElSelect.props)),...n,class:computed(()=>n.class),style:computed(()=>n.style),"onUpdate:modelValue":z=>r(UPDATE_MODEL_EVENT,z),valueKey:$,popperClass:computed(()=>{const z=[L.e("popper")];return t.popperClass&&z.push(t.popperClass),z.join(" ")}),filterMethod:(z="")=>{var j;t.filterMethod?t.filterMethod(z):t.remoteMethod?t.remoteMethod(z):(j=y.value)==null||j.filter(z)}}},component=defineComponent({extends:ElOption,setup(t,n){const r=ElOption.setup(t,n);delete r.selectOptionClick;const g=getCurrentInstance().proxy;return nextTick(()=>{r.select.states.cachedOptions.get(g.value)||r.select.onOptionCreate(g)}),watch(()=>n.attrs.visible,y=>{nextTick(()=>{r.states.visible=y})},{immediate:!0}),r},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function isValidValue(t){return t||t===0}function isValidArray(t){return isArray$4(t)&&t.length}function toValidArray(t){return isArray$4(t)?t:isValidValue(t)?[t]:[]}function treeFind(t,n,r,g,y){for(let $=0;$<t.length;$++){const L=t[$];if(n(L,$,t,y))return g?g(L,$,t,y):L;{const V=r(L);if(isValidArray(V)){const z=treeFind(V,n,r,g,L);if(z)return z}}}}function treeEach(t,n,r,g){for(let y=0;y<t.length;y++){const $=t[y];n($,y,t,g);const L=r($);isValidArray(L)&&treeEach(L,n,r,$)}}const useTree$1=(t,{attrs:n,slots:r,emit:g},{select:y,tree:$,key:L})=>{watch([()=>t.modelValue,$],()=>{t.showCheckbox&&nextTick(()=>{const oe=$.value;oe&&!isEqual$1(oe.getCheckedKeys(),toValidArray(t.modelValue))&&oe.setCheckedKeys(toValidArray(t.modelValue))})},{immediate:!0,deep:!0});const V=computed(()=>({value:L.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),z=(oe,ie)=>{var le;const ue=V.value[oe];return isFunction$3(ue)?ue(ie,(le=$.value)==null?void 0:le.getNode(z("value",ie))):ie[ue]},j=toValidArray(t.modelValue).map(oe=>treeFind(t.data||[],ie=>z("value",ie)===oe,ie=>z("children",ie),(ie,le,ue,de)=>de&&z("value",de))).filter(oe=>isValidValue(oe)),re=computed(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const oe=[];return treeEach(t.data.concat(t.cacheData),ie=>{const le=z("value",ie);oe.push({value:le,currentLabel:z("label",ie),isDisabled:z("disabled",ie)})},ie=>z("children",ie)),oe}),ae=()=>{var oe;return(oe=$.value)==null?void 0:oe.getCheckedKeys().filter(ie=>{var le;const ue=(le=$.value)==null?void 0:le.getNode(ie);return!isNil(ue)&&isEmpty(ue.childNodes)})};return{...pick(toRefs(t),Object.keys(ElTree.props)),...n,nodeKey:L,expandOnClickNode:computed(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:computed(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(j):j),renderContent:(oe,{node:ie,data:le,store:ue})=>oe(component,{value:z("value",le),label:z("label",le),disabled:z("disabled",le),visible:ie.visible},t.renderContent?()=>t.renderContent(oe,{node:ie,data:le,store:ue}):r.default?()=>r.default({node:ie,data:le,store:ue}):void 0),filterNodeMethod:(oe,ie,le)=>t.filterNodeMethod?t.filterNodeMethod(oe,ie,le):oe?new RegExp(escapeStringRegexp(oe),"i").test(z("label",ie)||""):!0,onNodeClick:(oe,ie,le)=>{var ue,de,he,pe;if((ue=n.onNodeClick)==null||ue.call(n,oe,ie,le),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||ie.isLeaf)){if(!z("disabled",oe)){const _e=(de=y.value)==null?void 0:de.states.options.get(z("value",oe));(he=y.value)==null||he.handleOptionSelect(_e)}}else t.expandOnClickNode&&le.proxy.handleExpandIconClick();(pe=y.value)==null||pe.focus()}},onCheck:(oe,ie)=>{var le;if(!t.showCheckbox)return;const ue=z("value",oe),de={};treeEach([$.value.store.root],Ce=>de[Ce.key]=Ce,Ce=>Ce.childNodes);const he=ie.checkedKeys,pe=t.multiple?toValidArray(t.modelValue).filter(Ce=>!(Ce in de)&&!he.includes(Ce)):[],_e=pe.concat(he);if(t.checkStrictly)g(UPDATE_MODEL_EVENT,t.multiple?_e:_e.includes(ue)?ue:void 0);else if(t.multiple){const Ce=ae();g(UPDATE_MODEL_EVENT,pe.concat(Ce))}else{const Ce=treeFind([oe],$e=>!isValidArray(z("children",$e))&&!z("disabled",$e),$e=>z("children",$e)),xe=Ce?z("value",Ce):void 0,Ie=isValidValue(t.modelValue)&&!!treeFind([oe],$e=>z("value",$e)===t.modelValue,$e=>z("children",$e));g(UPDATE_MODEL_EVENT,xe===t.modelValue||Ie?void 0:xe)}nextTick(()=>{var Ce;const xe=toValidArray(t.modelValue);$.value.setCheckedKeys(xe),(Ce=n.onCheck)==null||Ce.call(n,oe,{checkedKeys:$.value.getCheckedKeys(),checkedNodes:$.value.getCheckedNodes(),halfCheckedKeys:$.value.getHalfCheckedKeys(),halfCheckedNodes:$.value.getHalfCheckedNodes()})}),(le=y.value)==null||le.focus()},onNodeExpand:(oe,ie,le)=>{var ue;(ue=n.onNodeExpand)==null||ue.call(n,oe,ie,le),nextTick(()=>{if(!t.checkStrictly&&t.lazy&&t.multiple&&ie.checked){const de={},he=$.value.getCheckedKeys();treeEach([$.value.store.root],Ce=>de[Ce.key]=Ce,Ce=>Ce.childNodes);const pe=toValidArray(t.modelValue).filter(Ce=>!(Ce in de)&&!he.includes(Ce)),_e=ae();g(UPDATE_MODEL_EVENT,pe.concat(_e))}})},cacheOptions:re}};var CacheOptions=defineComponent({props:{data:{type:Array,default:()=>[]}},setup(t){const n=inject(selectKey);return watch(()=>t.data,()=>{var r;t.data.forEach(y=>{n.states.cachedOptions.has(y.value)||n.states.cachedOptions.set(y.value,y)});const g=((r=n.selectRef)==null?void 0:r.querySelectorAll("input"))||[];isClient&&!Array.from(g).includes(document.activeElement)&&n.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const _sfc_main$y=defineComponent({name:"ElTreeSelect",inheritAttrs:!1,props:{...ElSelect.props,...ElTree.props,cacheData:{type:Array,default:()=>[]}},setup(t,n){const{slots:r,expose:g}=n,y=ref(),$=ref(),L=computed(()=>t.nodeKey||t.valueKey||"value"),V=useSelect(t,n,{select:y,tree:$,key:L}),{cacheOptions:z,...j}=useTree$1(t,n,{select:y,tree:$,key:L}),re=reactive({});return g(re),onMounted(()=>{Object.assign(re,{...pick($.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...pick(y.value,["focus","blur","selectedLabel"])})}),()=>h$1(ElSelect,reactive({...V,ref:ae=>y.value=ae}),{...r,default:()=>[h$1(CacheOptions,{data:z.value}),h$1(ElTree,reactive({...j,ref:ae=>$.value=ae}))]})}});var TreeSelect=_export_sfc$1(_sfc_main$y,[["__file","tree-select.vue"]]);const ElTreeSelect=withInstall(TreeSelect),ROOT_TREE_INJECTION_KEY=Symbol(),EMPTY_NODE={key:-1,level:-1,data:{}};var TreeOptionsEnum=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t.CLASS="",t))(TreeOptionsEnum||{}),SetOperationEnum=(t=>(t.ADD="add",t.DELETE="delete",t))(SetOperationEnum||{});const itemSize={type:Number,default:26},treeProps=buildProps({data:{type:definePropType(Array),default:()=>mutable([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:definePropType(Object),default:()=>mutable({children:"children",label:"label",disabled:"disabled",value:"id",class:""})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:definePropType(Array),default:()=>mutable([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:definePropType(Array),default:()=>mutable([])},indent:{type:Number,default:16},itemSize,icon:{type:iconPropType},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},checkOnClickLeaf:{type:Boolean,default:!0},currentNodeKey:{type:definePropType([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:definePropType(Function)},perfMode:{type:Boolean,default:!0}}),treeNodeProps=buildProps({node:{type:definePropType(Object),default:()=>mutable(EMPTY_NODE)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize}),treeNodeContentProps=buildProps({node:{type:definePropType(Object),required:!0}}),NODE_CLICK="node-click",NODE_DROP="node-drop",NODE_EXPAND="node-expand",NODE_COLLAPSE="node-collapse",CURRENT_CHANGE="current-change",NODE_CHECK="check",NODE_CHECK_CHANGE="check-change",NODE_CONTEXTMENU="node-contextmenu",treeEmits={[NODE_CLICK]:(t,n,r)=>t&&n&&r,[NODE_DROP]:(t,n,r)=>t&&n&&r,[NODE_EXPAND]:(t,n)=>t&&n,[NODE_COLLAPSE]:(t,n)=>t&&n,[CURRENT_CHANGE]:(t,n)=>t&&n,[NODE_CHECK]:(t,n)=>t&&n,[NODE_CHECK_CHANGE]:(t,n)=>t&&isBoolean(n),[NODE_CONTEXTMENU]:(t,n,r)=>t&&n&&r},treeNodeEmits={click:(t,n)=>!!(t&&n),drop:(t,n)=>!!(t&&n),toggle:t=>!!t,check:(t,n)=>t&&isBoolean(n)};function useCheck(t,n){const r=ref(new Set),g=ref(new Set),{emit:y}=getCurrentInstance();watch([()=>n.value,()=>t.defaultCheckedKeys],()=>nextTick(()=>{pe(t.defaultCheckedKeys)}),{immediate:!0});const $=()=>{if(!n.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:_e,maxLevel:Ce}=n.value,xe=r.value,Ie=new Set;for(let $e=Ce-1;$e>=1;--$e){const Oe=_e.get($e);Oe&&Oe.forEach(Ne=>{const Fe=Ne.children;if(Fe){let Ve=!0,ze=!1;for(const Et of Fe){const Dt=Et.key;if(xe.has(Dt))ze=!0;else if(Ie.has(Dt)){Ve=!1,ze=!0;break}else Ve=!1}Ve?xe.add(Ne.key):ze?(Ie.add(Ne.key),xe.delete(Ne.key)):(xe.delete(Ne.key),Ie.delete(Ne.key))}})}g.value=Ie},L=_e=>r.value.has(_e.key),V=_e=>g.value.has(_e.key),z=(_e,Ce,xe=!0,Ie=!0)=>{const $e=r.value,Oe=(Ne,Fe)=>{$e[Fe?SetOperationEnum.ADD:SetOperationEnum.DELETE](Ne.key);const Ve=Ne.children;!t.checkStrictly&&Ve&&Ve.forEach(ze=>{ze.disabled||Oe(ze,Fe)})};Oe(_e,Ce),Ie&&$(),xe&&j(_e,Ce)},j=(_e,Ce)=>{const{checkedNodes:xe,checkedKeys:Ie}=le(),{halfCheckedNodes:$e,halfCheckedKeys:Oe}=ue();y(NODE_CHECK,_e.data,{checkedKeys:Ie,checkedNodes:xe,halfCheckedKeys:Oe,halfCheckedNodes:$e}),y(NODE_CHECK_CHANGE,_e.data,Ce)};function re(_e=!1){return le(_e).checkedKeys}function ae(_e=!1){return le(_e).checkedNodes}function oe(){return ue().halfCheckedKeys}function ie(){return ue().halfCheckedNodes}function le(_e=!1){const Ce=[],xe=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:Ie}=n.value;r.value.forEach($e=>{const Oe=Ie.get($e);Oe&&(!_e||_e&&Oe.isLeaf)&&(xe.push($e),Ce.push(Oe.data))})}return{checkedKeys:xe,checkedNodes:Ce}}function ue(){const _e=[],Ce=[];if(n!=null&&n.value&&t.showCheckbox){const{treeNodeMap:xe}=n.value;g.value.forEach(Ie=>{const $e=xe.get(Ie);$e&&(Ce.push(Ie),_e.push($e.data))})}return{halfCheckedNodes:_e,halfCheckedKeys:Ce}}function de(_e){r.value.clear(),g.value.clear(),nextTick(()=>{pe(_e)})}function he(_e,Ce){if(n!=null&&n.value&&t.showCheckbox){const xe=n.value.treeNodeMap.get(_e);xe&&z(xe,Ce,!1)}}function pe(_e){if(n!=null&&n.value){const{treeNodeMap:Ce}=n.value;if(t.showCheckbox&&Ce&&(_e==null?void 0:_e.length)>0){for(const xe of _e){const Ie=Ce.get(xe);Ie&&!L(Ie)&&z(Ie,!0,!1,!1)}$()}}}return{updateCheckedKeys:$,toggleCheckbox:z,isChecked:L,isIndeterminate:V,getCheckedKeys:re,getCheckedNodes:ae,getHalfCheckedKeys:oe,getHalfCheckedNodes:ie,setChecked:he,setCheckedKeys:de}}function useFilter(t,n){const r=ref(new Set([])),g=ref(new Set([])),y=computed(()=>isFunction$3(t.filterMethod));function $(V){var z;if(!y.value)return;const j=new Set,re=g.value,ae=r.value,oe=[],ie=((z=n.value)==null?void 0:z.treeNodes)||[],le=t.filterMethod;ae.clear();function ue(de){de.forEach(he=>{oe.push(he),le!=null&&le(V,he.data,he)?oe.forEach(_e=>{j.add(_e.key)}):he.isLeaf&&ae.add(he.key);const pe=he.children;if(pe&&ue(pe),!he.isLeaf){if(!j.has(he.key))ae.add(he.key);else if(pe){let _e=!0;for(const Ce of pe)if(!ae.has(Ce.key)){_e=!1;break}_e?re.add(he.key):re.delete(he.key)}}oe.pop()})}return ue(ie),j}function L(V){return g.value.has(V.key)}return{hiddenExpandIconKeySet:g,hiddenNodeKeySet:r,doFilter:$,isForceHiddenExpandIcon:L}}function useTree(t,n){const r=ref(new Set(t.defaultExpandedKeys)),g=ref(),y=shallowRef(),$=ref(),{isIndeterminate:L,isChecked:V,toggleCheckbox:z,getCheckedKeys:j,getCheckedNodes:re,getHalfCheckedKeys:ae,getHalfCheckedNodes:oe,setChecked:ie,setCheckedKeys:le}=useCheck(t,y),{doFilter:ue,hiddenNodeKeySet:de,isForceHiddenExpandIcon:he}=useFilter(t,y),pe=computed(()=>{var bn;return((bn=t.props)==null?void 0:bn.value)||TreeOptionsEnum.KEY}),_e=computed(()=>{var bn;return((bn=t.props)==null?void 0:bn.children)||TreeOptionsEnum.CHILDREN}),Ce=computed(()=>{var bn;return((bn=t.props)==null?void 0:bn.disabled)||TreeOptionsEnum.DISABLED}),xe=computed(()=>{var bn;return((bn=t.props)==null?void 0:bn.label)||TreeOptionsEnum.LABEL}),Ie=computed(()=>{var bn;const Pn=r.value,Rn=de.value,Fn=[],Dn=((bn=y.value)==null?void 0:bn.treeNodes)||[],Ln=[];for(let kn=Dn.length-1;kn>=0;--kn)Ln.push(Dn[kn]);for(;Ln.length;){const kn=Ln.pop();if(!Rn.has(kn.key)&&(Fn.push(kn),kn.children&&Pn.has(kn.key)))for(let In=kn.children.length-1;In>=0;--In)Ln.push(kn.children[In])}return Fn}),$e=computed(()=>Ie.value.length>0);function Oe(bn){const Pn=new Map,Rn=new Map;let Fn=1;function Dn(kn,In=1,Vn=void 0){var zn;const Kn=[];for(const jn of kn){const Wn=Ve(jn),Un={level:In,key:Wn,data:jn};Un.label=Et(jn),Un.parent=Vn;const nr=Fe(jn);Un.disabled=ze(jn),Un.isLeaf=!nr||nr.length===0,nr&&nr.length&&(Un.children=Dn(nr,In+1,Un)),Kn.push(Un),Pn.set(Wn,Un),Rn.has(In)||Rn.set(In,[]),(zn=Rn.get(In))==null||zn.push(Un)}return In>Fn&&(Fn=In),Kn}const Ln=Dn(bn);return{treeNodeMap:Pn,levelTreeNodeMap:Rn,maxLevel:Fn,treeNodes:Ln}}function Ne(bn){const Pn=ue(bn);Pn&&(r.value=Pn)}function Fe(bn){return bn[_e.value]}function Ve(bn){return bn?bn[pe.value]:""}function ze(bn){return bn[Ce.value]}function Et(bn){return bn[xe.value]}function Dt(bn){r.value.has(bn.key)?En(bn):vn(bn)}function Ue(bn){const Pn=new Set,Rn=y.value.treeNodeMap;bn.forEach(Fn=>{let Dn=Rn.get(Fn);for(;Dn&&!Pn.has(Dn.key);)Pn.add(Dn.key),Dn=Dn.parent}),r.value=Pn}function qe(bn,Pn){n(NODE_CLICK,bn.data,bn,Pn),Pt(bn),t.expandOnClickNode&&Dt(bn),t.showCheckbox&&(t.checkOnClickNode||bn.isLeaf&&t.checkOnClickLeaf)&&!bn.disabled&&z(bn,!V(bn),!0)}function Lt(bn,Pn){n(NODE_DROP,bn.data,bn,Pn)}function Pt(bn){jt(bn)||(g.value=bn.key,n(CURRENT_CHANGE,bn.data,bn))}function At(bn,Pn){z(bn,Pn)}function vn(bn){const Pn=r.value;if(y.value&&t.accordion){const{treeNodeMap:Rn}=y.value;Pn.forEach(Fn=>{const Dn=Rn.get(Fn);bn&&bn.level===(Dn==null?void 0:Dn.level)&&Pn.delete(Fn)})}Pn.add(bn.key),n(NODE_EXPAND,bn.data,bn)}function En(bn){r.value.delete(bn.key),n(NODE_COLLAPSE,bn.data,bn)}function Sn(bn){return r.value.has(bn.key)}function kt(bn){return!!bn.disabled}function jt(bn){const Pn=g.value;return Pn!==void 0&&Pn===bn.key}function _n(){var bn,Pn;if(g.value)return(Pn=(bn=y.value)==null?void 0:bn.treeNodeMap.get(g.value))==null?void 0:Pn.data}function wn(){return g.value}function hn(bn){g.value=bn}function Cn(bn){y.value=Oe(bn)}function Tn(bn){var Pn;const Rn=isObject$5(bn)?Ve(bn):bn;return(Pn=y.value)==null?void 0:Pn.treeNodeMap.get(Rn)}function xn(bn,Pn="auto"){const Rn=Tn(bn);Rn&&$.value&&$.value.scrollToItem(Ie.value.indexOf(Rn),Pn)}function Mn(bn){var Pn;(Pn=$.value)==null||Pn.scrollTo(bn)}return watch(()=>t.currentNodeKey,bn=>{g.value=bn},{immediate:!0}),watch(()=>t.data,bn=>{Cn(bn)},{immediate:!0}),{tree:y,flattenTree:Ie,isNotEmpty:$e,listRef:$,getKey:Ve,getChildren:Fe,toggleExpand:Dt,toggleCheckbox:z,isExpanded:Sn,isChecked:V,isIndeterminate:L,isDisabled:kt,isCurrent:jt,isForceHiddenExpandIcon:he,handleNodeClick:qe,handleNodeDrop:Lt,handleNodeCheck:At,getCurrentNode:_n,getCurrentKey:wn,setCurrentKey:hn,getCheckedKeys:j,getCheckedNodes:re,getHalfCheckedKeys:ae,getHalfCheckedNodes:oe,setChecked:ie,setCheckedKeys:le,filter:Ne,setData:Cn,getNode:Tn,expandNode:vn,collapseNode:En,setExpandedKeys:Ue,scrollToNode:xn,scrollTo:Mn}}var ElNodeContent=defineComponent({name:"ElTreeNodeContent",props:treeNodeContentProps,setup(t){const n=inject(ROOT_TREE_INJECTION_KEY),r=useNamespace("tree");return()=>{const g=t.node,{data:y}=g;return n!=null&&n.ctx.slots.default?n.ctx.slots.default({node:g,data:y}):h$1(ElText,{tag:"span",truncated:!0,class:r.be("node","label")},()=>[g==null?void 0:g.label])}}});const __default__$k=defineComponent({name:"ElTreeNode"}),_sfc_main$x=defineComponent({...__default__$k,props:treeNodeProps,emits:treeNodeEmits,setup(t,{emit:n}){const r=t,g=inject(ROOT_TREE_INJECTION_KEY),y=useNamespace("tree"),$=computed(()=>{var ie;return(ie=g==null?void 0:g.props.indent)!=null?ie:16}),L=computed(()=>{var ie;return(ie=g==null?void 0:g.props.icon)!=null?ie:caret_right_default}),V=ie=>{const le=g==null?void 0:g.props.props.class;if(!le)return{};let ue;if(isFunction$3(le)){const{data:de}=ie;ue=le(de,ie)}else ue=le;return isString$2(ue)?{[ue]:!0}:ue},z=ie=>{n("click",r.node,ie)},j=ie=>{n("drop",r.node,ie)},re=()=>{n("toggle",r.node)},ae=ie=>{n("check",r.node,ie)},oe=ie=>{var le,ue,de,he;(de=(ue=(le=g==null?void 0:g.instance)==null?void 0:le.vnode)==null?void 0:ue.props)!=null&&de.onNodeContextmenu&&(ie.stopPropagation(),ie.preventDefault()),g==null||g.ctx.emit(NODE_CONTEXTMENU,ie,(he=r.node)==null?void 0:he.data,r.node)};return(ie,le)=>{var ue,de,he;return openBlock(),createElementBlock("div",{ref:"node$",class:normalizeClass([unref(y).b("node"),unref(y).is("expanded",ie.expanded),unref(y).is("current",ie.current),unref(y).is("focusable",!ie.disabled),unref(y).is("checked",!ie.disabled&&ie.checked),V(ie.node)]),role:"treeitem",tabindex:"-1","aria-expanded":ie.expanded,"aria-disabled":ie.disabled,"aria-checked":ie.checked,"data-key":(ue=ie.node)==null?void 0:ue.key,onClick:withModifiers(z,["stop"]),onContextmenu:oe,onDragover:withModifiers(()=>{},["prevent"]),onDragenter:withModifiers(()=>{},["prevent"]),onDrop:withModifiers(j,["stop"])},[createBaseVNode("div",{class:normalizeClass(unref(y).be("node","content")),style:normalizeStyle$1({paddingLeft:`${(ie.node.level-1)*unref($)}px`,height:ie.itemSize+"px"})},[unref(L)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(y).is("leaf",!!((de=ie.node)!=null&&de.isLeaf)),unref(y).is("hidden",ie.hiddenExpandIcon),{expanded:!((he=ie.node)!=null&&he.isLeaf)&&ie.expanded},unref(y).be("node","expand-icon")]),onClick:withModifiers(re,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(L))))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0),ie.showCheckbox?(openBlock(),createBlock(unref(ElCheckbox),{key:1,"model-value":ie.checked,indeterminate:ie.indeterminate,disabled:ie.disabled,onChange:ae,onClick:withModifiers(()=>{},["stop"])},null,8,["model-value","indeterminate","disabled","onClick"])):createCommentVNode("v-if",!0),createVNode$1(unref(ElNodeContent),{node:ie.node},null,8,["node"])],6)],42,["aria-expanded","aria-disabled","aria-checked","data-key","onClick","onDragover","onDragenter","onDrop"])}}});var ElTreeNode=_export_sfc$1(_sfc_main$x,[["__file","tree-node.vue"]]);const __default__$j=defineComponent({name:"ElTreeV2"}),_sfc_main$w=defineComponent({...__default__$j,props:treeProps,emits:treeEmits,setup(t,{expose:n,emit:r}){const g=t,y=useSlots(),$=computed(()=>g.itemSize);provide(ROOT_TREE_INJECTION_KEY,{ctx:{emit:r,slots:y},props:g,instance:getCurrentInstance()}),provide(formItemContextKey,void 0);const{t:L}=useLocale(),V=useNamespace("tree"),{flattenTree:z,isNotEmpty:j,listRef:re,toggleExpand:ae,isExpanded:oe,isIndeterminate:ie,isChecked:le,isDisabled:ue,isCurrent:de,isForceHiddenExpandIcon:he,handleNodeClick:pe,handleNodeDrop:_e,handleNodeCheck:Ce,toggleCheckbox:xe,getCurrentNode:Ie,getCurrentKey:$e,setCurrentKey:Oe,getCheckedKeys:Ne,getCheckedNodes:Fe,getHalfCheckedKeys:Ve,getHalfCheckedNodes:ze,setChecked:Et,setCheckedKeys:Dt,filter:Ue,setData:qe,getNode:Lt,expandNode:Pt,collapseNode:At,setExpandedKeys:vn,scrollToNode:En,scrollTo:Sn}=useTree(g,r);return n({toggleCheckbox:xe,getCurrentNode:Ie,getCurrentKey:$e,setCurrentKey:Oe,getCheckedKeys:Ne,getCheckedNodes:Fe,getHalfCheckedKeys:Ve,getHalfCheckedNodes:ze,setChecked:Et,setCheckedKeys:Dt,filter:Ue,setData:qe,getNode:Lt,expandNode:Pt,collapseNode:At,setExpandedKeys:vn,scrollToNode:En,scrollTo:Sn}),(kt,jt)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(V).b(),{[unref(V).m("highlight-current")]:kt.highlightCurrent}]),role:"tree"},[unref(j)?(openBlock(),createBlock(unref(FixedSizeList),{key:0,ref_key:"listRef",ref:re,"class-name":unref(V).b("virtual-list"),data:unref(z),total:unref(z).length,height:kt.height,"item-size":unref($),"perf-mode":kt.perfMode},{default:withCtx(({data:_n,index:wn,style:hn})=>[(openBlock(),createBlock(ElTreeNode,{key:_n[wn].key,style:normalizeStyle$1(hn),node:_n[wn],expanded:unref(oe)(_n[wn]),"show-checkbox":kt.showCheckbox,checked:unref(le)(_n[wn]),indeterminate:unref(ie)(_n[wn]),"item-size":unref($),disabled:unref(ue)(_n[wn]),current:unref(de)(_n[wn]),"hidden-expand-icon":unref(he)(_n[wn]),onClick:unref(pe),onToggle:unref(ae),onCheck:unref(Ce),onDrop:unref(_e)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck","onDrop"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(V).e("empty-block"))},[renderSlot(kt.$slots,"empty",{},()=>{var _n;return[createBaseVNode("span",{class:normalizeClass(unref(V).e("empty-text"))},toDisplayString((_n=kt.emptyText)!=null?_n:unref(L)("el.tree.emptyText")),3)]})],2))],2))}});var TreeV2=_export_sfc$1(_sfc_main$w,[["__file","tree.vue"]]);const ElTreeV2=withInstall(TreeV2),uploadContextKey=Symbol("uploadContextKey"),SCOPE$2="ElUpload";class UploadAjaxError extends Error{constructor(n,r,g,y){super(n),this.name="UploadAjaxError",this.status=r,this.method=g,this.url=y}}function getError(t,n,r){let g;return r.response?g=`${r.response.error||r.response}`:r.responseText?g=`${r.responseText}`:g=`fail to ${n.method} ${t} ${r.status}`,new UploadAjaxError(g,r.status,n.method,t)}function getBody(t){const n=t.responseText||t.response;if(!n)return n;try{return JSON.parse(n)}catch{return n}}const ajaxUpload=t=>{typeof XMLHttpRequest>"u"&&throwError$1(SCOPE$2,"XMLHttpRequest is undefined");const n=new XMLHttpRequest,r=t.action;n.upload&&n.upload.addEventListener("progress",$=>{const L=$;L.percent=$.total>0?$.loaded/$.total*100:0,t.onProgress(L)});const g=new FormData;if(t.data)for(const[$,L]of Object.entries(t.data))isArray$4(L)&&L.length?g.append($,...L):g.append($,L);g.append(t.filename,t.file,t.file.name),n.addEventListener("error",()=>{t.onError(getError(r,t,n))}),n.addEventListener("load",()=>{if(n.status<200||n.status>=300)return t.onError(getError(r,t,n));t.onSuccess(getBody(n))}),n.open(t.method,r,!0),t.withCredentials&&"withCredentials"in n&&(n.withCredentials=!0);const y=t.headers||{};if(y instanceof Headers)y.forEach(($,L)=>n.setRequestHeader(L,$));else for(const[$,L]of Object.entries(y))isNil(L)||n.setRequestHeader($,String(L));return n.send(g),n},uploadListTypes=["text","picture","picture-card"];let fileId=1;const genFileId=()=>Date.now()+fileId++,uploadBaseProps=buildProps({action:{type:String,default:"#"},headers:{type:definePropType(Object)},method:{type:String,default:"post"},data:{type:definePropType([Object,Function,Promise]),default:()=>mutable({})},multiple:Boolean,name:{type:String,default:"file"},drag:Boolean,withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:definePropType(Array),default:()=>mutable([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:uploadListTypes,default:"text"},httpRequest:{type:definePropType(Function),default:ajaxUpload},disabled:Boolean,limit:Number}),uploadProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},beforeRemove:{type:definePropType(Function)},onRemove:{type:definePropType(Function),default:NOOP},onChange:{type:definePropType(Function),default:NOOP},onPreview:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP},crossorigin:{type:definePropType(String)}}),uploadListProps=buildProps({files:{type:definePropType(Array),default:()=>mutable([])},disabled:{type:Boolean,default:!1},handlePreview:{type:definePropType(Function),default:NOOP},listType:{type:String,values:uploadListTypes,default:"text"},crossorigin:{type:definePropType(String)}}),uploadListEmits={remove:t=>!!t},__default__$i=defineComponent({name:"ElUploadList"}),_sfc_main$v=defineComponent({...__default__$i,props:uploadListProps,emits:uploadListEmits,setup(t,{emit:n}){const r=t,{t:g}=useLocale(),y=useNamespace("upload"),$=useNamespace("icon"),L=useNamespace("list"),V=useFormDisabled(),z=ref(!1),j=computed(()=>[y.b("list"),y.bm("list",r.listType),y.is("disabled",r.disabled)]),re=ae=>{n("remove",ae)};return(ae,oe)=>(openBlock(),createBlock(TransitionGroup,{tag:"ul",class:normalizeClass(unref(j)),name:unref(L).b()},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(ae.files,(ie,le)=>(openBlock(),createElementBlock("li",{key:ie.uid||ie.name,class:normalizeClass([unref(y).be("list","item"),unref(y).is(ie.status),{focusing:z.value}]),tabindex:"0",onKeydown:withKeys(ue=>!unref(V)&&re(ie),["delete"]),onFocus:ue=>z.value=!0,onBlur:ue=>z.value=!1,onClick:ue=>z.value=!1},[renderSlot(ae.$slots,"default",{file:ie,index:le},()=>[ae.listType==="picture"||ie.status!=="uploading"&&ae.listType==="picture-card"?(openBlock(),createElementBlock("img",{key:0,class:normalizeClass(unref(y).be("list","item-thumbnail")),src:ie.url,crossorigin:ae.crossorigin,alt:""},null,10,["src","crossorigin"])):createCommentVNode("v-if",!0),ie.status==="uploading"||ae.listType!=="picture-card"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).be("list","item-info"))},[createBaseVNode("a",{class:normalizeClass(unref(y).be("list","item-name")),onClick:withModifiers(ue=>ae.handlePreview(ie),["prevent"])},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref($).m("document"))},{default:withCtx(()=>[createVNode$1(unref(document_default))]),_:1},8,["class"]),createBaseVNode("span",{class:normalizeClass(unref(y).be("list","item-file-name")),title:ie.name},toDisplayString(ie.name),11,["title"])],10,["onClick"]),ie.status==="uploading"?(openBlock(),createBlock(unref(ElProgress),{key:0,type:ae.listType==="picture-card"?"circle":"line","stroke-width":ae.listType==="picture-card"?6:2,percentage:Number(ie.percentage),style:normalizeStyle$1(ae.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("label",{class:normalizeClass(unref(y).be("list","item-status-label"))},[ae.listType==="text"?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref($).m("upload-success"),unref($).m("circle-check")])},{default:withCtx(()=>[createVNode$1(unref(circle_check_default))]),_:1},8,["class"])):["picture-card","picture"].includes(ae.listType)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref($).m("upload-success"),unref($).m("check")])},{default:withCtx(()=>[createVNode$1(unref(check_default))]),_:1},8,["class"])):createCommentVNode("v-if",!0)],2),unref(V)?createCommentVNode("v-if",!0):(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref($).m("close")),onClick:ue=>re(ie)},{default:withCtx(()=>[createVNode$1(unref(close_default))]),_:2},1032,["class","onClick"])),createCommentVNode(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),createCommentVNode(" This is a bug which needs to be fixed "),createCommentVNode(" TODO: Fix the incorrect navigation interaction "),unref(V)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("i",{key:3,class:normalizeClass(unref($).m("close-tip"))},toDisplayString(unref(g)("el.upload.deleteTip")),3)),ae.listType==="picture-card"?(openBlock(),createElementBlock("span",{key:4,class:normalizeClass(unref(y).be("list","item-actions"))},[createBaseVNode("span",{class:normalizeClass(unref(y).be("list","item-preview")),onClick:ue=>ae.handlePreview(ie)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref($).m("zoom-in"))},{default:withCtx(()=>[createVNode$1(unref(zoom_in_default))]),_:1},8,["class"])],10,["onClick"]),unref(V)?createCommentVNode("v-if",!0):(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(y).be("list","item-delete")),onClick:ue=>re(ie)},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref($).m("delete"))},{default:withCtx(()=>[createVNode$1(unref(delete_default))]),_:1},8,["class"])],10,["onClick"]))],2)):createCommentVNode("v-if",!0)])],42,["onKeydown","onFocus","onBlur","onClick"]))),128)),renderSlot(ae.$slots,"append")]),_:3},8,["class","name"]))}});var UploadList=_export_sfc$1(_sfc_main$v,[["__file","upload-list.vue"]]);const uploadDraggerProps=buildProps({disabled:{type:Boolean,default:!1}}),uploadDraggerEmits={file:t=>isArray$4(t)},COMPONENT_NAME$1="ElUploadDrag",__default__$h=defineComponent({name:COMPONENT_NAME$1}),_sfc_main$u=defineComponent({...__default__$h,props:uploadDraggerProps,emits:uploadDraggerEmits,setup(t,{emit:n}){inject(uploadContextKey)||throwError$1(COMPONENT_NAME$1,"usage: <el-upload><el-upload-dragger /></el-upload>");const g=useNamespace("upload"),y=ref(!1),$=useFormDisabled(),L=z=>{if($.value)return;y.value=!1,z.stopPropagation();const j=Array.from(z.dataTransfer.files),re=z.dataTransfer.items||[];j.forEach((ae,oe)=>{var ie;const le=re[oe],ue=(ie=le==null?void 0:le.webkitGetAsEntry)==null?void 0:ie.call(le);ue&&(ae.isDirectory=ue.isDirectory)}),n("file",j)},V=()=>{$.value||(y.value=!0)};return(z,j)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b("dragger"),unref(g).is("dragover",y.value)]),onDrop:withModifiers(L,["prevent"]),onDragover:withModifiers(V,["prevent"]),onDragleave:withModifiers(re=>y.value=!1,["prevent"])},[renderSlot(z.$slots,"default")],42,["onDrop","onDragover","onDragleave"]))}});var UploadDragger=_export_sfc$1(_sfc_main$u,[["__file","upload-dragger.vue"]]);const uploadContentProps=buildProps({...uploadBaseProps,beforeUpload:{type:definePropType(Function),default:NOOP},onRemove:{type:definePropType(Function),default:NOOP},onStart:{type:definePropType(Function),default:NOOP},onSuccess:{type:definePropType(Function),default:NOOP},onProgress:{type:definePropType(Function),default:NOOP},onError:{type:definePropType(Function),default:NOOP},onExceed:{type:definePropType(Function),default:NOOP}}),__default__$g=defineComponent({name:"ElUploadContent",inheritAttrs:!1}),_sfc_main$t=defineComponent({...__default__$g,props:uploadContentProps,setup(t,{expose:n}){const r=t,g=useNamespace("upload"),y=useFormDisabled(),$=shallowRef({}),L=shallowRef(),V=ue=>{if(ue.length===0)return;const{autoUpload:de,limit:he,fileList:pe,multiple:_e,onStart:Ce,onExceed:xe}=r;if(he&&pe.length+ue.length>he){xe(ue,pe);return}_e||(ue=ue.slice(0,1));for(const Ie of ue){const $e=Ie;$e.uid=genFileId(),Ce($e),de&&z($e)}},z=async ue=>{if(L.value.value="",!r.beforeUpload)return re(ue);let de,he={};try{const _e=r.data,Ce=r.beforeUpload(ue);he=isPlainObject$1(r.data)?cloneDeep(r.data):r.data,de=await Ce,isPlainObject$1(r.data)&&isEqual$1(_e,he)&&(he=cloneDeep(r.data))}catch{de=!1}if(de===!1){r.onRemove(ue);return}let pe=ue;de instanceof Blob&&(de instanceof File?pe=de:pe=new File([de],ue.name,{type:ue.type})),re(Object.assign(pe,{uid:ue.uid}),he)},j=async(ue,de)=>isFunction$3(ue)?ue(de):ue,re=async(ue,de)=>{const{headers:he,data:pe,method:_e,withCredentials:Ce,name:xe,action:Ie,onProgress:$e,onSuccess:Oe,onError:Ne,httpRequest:Fe}=r;try{de=await j(de??pe,ue)}catch{r.onRemove(ue);return}const{uid:Ve}=ue,ze={headers:he||{},withCredentials:Ce,file:ue,data:de,method:_e,filename:xe,action:Ie,onProgress:Dt=>{$e(Dt,ue)},onSuccess:Dt=>{Oe(Dt,ue),delete $.value[Ve]},onError:Dt=>{Ne(Dt,ue),delete $.value[Ve]}},Et=Fe(ze);$.value[Ve]=Et,Et instanceof Promise&&Et.then(ze.onSuccess,ze.onError)},ae=ue=>{const de=ue.target.files;de&&V(Array.from(de))},oe=()=>{y.value||(L.value.value="",L.value.click())},ie=()=>{oe()};return n({abort:ue=>{entriesOf($.value).filter(ue?([he])=>String(ue.uid)===he:()=>!0).forEach(([he,pe])=>{pe instanceof XMLHttpRequest&&pe.abort(),delete $.value[he]})},upload:z}),(ue,de)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b(),unref(g).m(ue.listType),unref(g).is("drag",ue.drag),unref(g).is("disabled",unref(y))]),tabindex:unref(y)?"-1":"0",onClick:oe,onKeydown:withKeys(withModifiers(ie,["self"]),["enter","space"])},[ue.drag?(openBlock(),createBlock(UploadDragger,{key:0,disabled:unref(y),onFile:V},{default:withCtx(()=>[renderSlot(ue.$slots,"default")]),_:3},8,["disabled"])):renderSlot(ue.$slots,"default",{key:1}),createBaseVNode("input",{ref_key:"inputRef",ref:L,class:normalizeClass(unref(g).e("input")),name:ue.name,disabled:unref(y),multiple:ue.multiple,accept:ue.accept,type:"file",onChange:ae,onClick:withModifiers(()=>{},["stop"])},null,42,["name","disabled","multiple","accept","onClick"])],42,["tabindex","onKeydown"]))}});var UploadContent=_export_sfc$1(_sfc_main$t,[["__file","upload-content.vue"]]);const SCOPE$1="ElUpload",revokeFileObjectURL=t=>{var n;(n=t.url)!=null&&n.startsWith("blob:")&&URL.revokeObjectURL(t.url)},useHandlers=(t,n)=>{const r=useVModel(t,"fileList",void 0,{passive:!0}),g=ie=>r.value.find(le=>le.uid===ie.uid);function y(ie){var le;(le=n.value)==null||le.abort(ie)}function $(ie=["ready","uploading","success","fail"]){r.value=r.value.filter(le=>!ie.includes(le.status))}function L(ie){r.value=r.value.filter(le=>le.uid!==ie.uid)}const V=(ie,le)=>{const ue=g(le);ue&&(console.error(ie),ue.status="fail",L(ue),t.onError(ie,ue,r.value),t.onChange(ue,r.value))},z=(ie,le)=>{const ue=g(le);ue&&(t.onProgress(ie,ue,r.value),ue.status="uploading",ue.percentage=Math.round(ie.percent))},j=(ie,le)=>{const ue=g(le);ue&&(ue.status="success",ue.response=ie,t.onSuccess(ie,ue,r.value),t.onChange(ue,r.value))},re=ie=>{isNil(ie.uid)&&(ie.uid=genFileId());const le={name:ie.name,percentage:0,status:"ready",size:ie.size,raw:ie,uid:ie.uid};if(t.listType==="picture-card"||t.listType==="picture")try{le.url=URL.createObjectURL(ie)}catch(ue){ue.message,t.onError(ue,le,r.value)}r.value=[...r.value,le],t.onChange(le,r.value)},ae=async ie=>{const le=ie instanceof File?g(ie):ie;le||throwError$1(SCOPE$1,"file to be removed not found");const ue=de=>{y(de),L(de),t.onRemove(de,r.value),revokeFileObjectURL(de)};t.beforeRemove?await t.beforeRemove(le,r.value)!==!1&&ue(le):ue(le)};function oe(){r.value.filter(({status:ie})=>ie==="ready").forEach(({raw:ie})=>{var le;return ie&&((le=n.value)==null?void 0:le.upload(ie))})}return watch(()=>t.listType,ie=>{ie!=="picture-card"&&ie!=="picture"||(r.value=r.value.map(le=>{const{raw:ue,url:de}=le;if(!de&&ue)try{le.url=URL.createObjectURL(ue)}catch(he){t.onError(he,le,r.value)}return le}))}),watch(r,ie=>{for(const le of ie)le.uid||(le.uid=genFileId()),le.status||(le.status="success")},{immediate:!0,deep:!0}),{uploadFiles:r,abort:y,clearFiles:$,handleError:V,handleProgress:z,handleStart:re,handleSuccess:j,handleRemove:ae,submit:oe,revokeFileObjectURL}},__default__$f=defineComponent({name:"ElUpload"}),_sfc_main$s=defineComponent({...__default__$f,props:uploadProps,setup(t,{expose:n}){const r=t,g=useFormDisabled(),y=shallowRef(),{abort:$,submit:L,clearFiles:V,uploadFiles:z,handleStart:j,handleError:re,handleRemove:ae,handleSuccess:oe,handleProgress:ie,revokeFileObjectURL:le}=useHandlers(r,y),ue=computed(()=>r.listType==="picture-card"),de=computed(()=>({...r,fileList:z.value,onStart:j,onProgress:ie,onSuccess:oe,onError:re,onRemove:ae}));return onBeforeUnmount(()=>{z.value.forEach(le)}),provide(uploadContextKey,{accept:toRef(r,"accept")}),n({abort:$,submit:L,clearFiles:V,handleStart:j,handleRemove:ae}),(he,pe)=>(openBlock(),createElementBlock("div",null,[unref(ue)&&he.showFileList?(openBlock(),createBlock(UploadList,{key:0,disabled:unref(g),"list-type":he.listType,files:unref(z),crossorigin:he.crossorigin,"handle-preview":he.onPreview,onRemove:unref(ae)},createSlots({append:withCtx(()=>[createVNode$1(UploadContent,mergeProps({ref_key:"uploadRef",ref:y},unref(de)),{default:withCtx(()=>[he.$slots.trigger?renderSlot(he.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!he.$slots.trigger&&he.$slots.default?renderSlot(he.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)]),_:2},[he.$slots.file?{name:"default",fn:withCtx(({file:_e,index:Ce})=>[renderSlot(he.$slots,"file",{file:_e,index:Ce})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0),!unref(ue)||unref(ue)&&!he.showFileList?(openBlock(),createBlock(UploadContent,mergeProps({key:1,ref_key:"uploadRef",ref:y},unref(de)),{default:withCtx(()=>[he.$slots.trigger?renderSlot(he.$slots,"trigger",{key:0}):createCommentVNode("v-if",!0),!he.$slots.trigger&&he.$slots.default?renderSlot(he.$slots,"default",{key:1}):createCommentVNode("v-if",!0)]),_:3},16)):createCommentVNode("v-if",!0),he.$slots.trigger?renderSlot(he.$slots,"default",{key:2}):createCommentVNode("v-if",!0),renderSlot(he.$slots,"tip"),!unref(ue)&&he.showFileList?(openBlock(),createBlock(UploadList,{key:3,disabled:unref(g),"list-type":he.listType,files:unref(z),crossorigin:he.crossorigin,"handle-preview":he.onPreview,onRemove:unref(ae)},createSlots({_:2},[he.$slots.file?{name:"default",fn:withCtx(({file:_e,index:Ce})=>[renderSlot(he.$slots,"file",{file:_e,index:Ce})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):createCommentVNode("v-if",!0)]))}});var Upload=_export_sfc$1(_sfc_main$s,[["__file","upload.vue"]]);const ElUpload=withInstall(Upload),watermarkProps=buildProps({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:definePropType([String,Array]),default:"Element Plus"},font:{type:definePropType(Object)},gap:{type:definePropType(Array),default:()=>[100,100]},offset:{type:definePropType(Array)}});function toLowercaseSeparator(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function getStyleStr(t){return Object.keys(t).map(n=>`${toLowercaseSeparator(n)}: ${t[n]};`).join(" ")}function getPixelRatio(){return window.devicePixelRatio||1}const reRendering=(t,n)=>{let r=!1;return t.removedNodes.length&&n&&(r=Array.from(t.removedNodes).includes(n)),t.type==="attributes"&&t.target===n&&(r=!0),r},FontGap=3;function prepareCanvas(t,n,r=1){const g=document.createElement("canvas"),y=g.getContext("2d"),$=t*r,L=n*r;return g.setAttribute("width",`${$}px`),g.setAttribute("height",`${L}px`),y.save(),[y,g,$,L]}function useClips(){function t(n,r,g,y,$,L,V,z){const[j,re,ae,oe]=prepareCanvas(y,$,g);if(n instanceof HTMLImageElement)j.drawImage(n,0,0,ae,oe);else{const{color:En,fontSize:Sn,fontStyle:kt,fontWeight:jt,fontFamily:_n,textAlign:wn,textBaseline:hn}=L,Cn=Number(Sn)*g;j.font=`${kt} normal ${jt} ${Cn}px/${$}px ${_n}`,j.fillStyle=En,j.textAlign=wn,j.textBaseline=hn;const Tn=isArray$4(n)?n:[n];Tn==null||Tn.forEach((xn,Mn)=>{j.fillText(xn??"",ae/2,Mn*(Cn+FontGap*g))})}const ie=Math.PI/180*Number(r),le=Math.max(y,$),[ue,de,he]=prepareCanvas(le,le,g);ue.translate(he/2,he/2),ue.rotate(ie),ae>0&&oe>0&&ue.drawImage(re,-ae/2,-oe/2);function pe(En,Sn){const kt=En*Math.cos(ie)-Sn*Math.sin(ie),jt=En*Math.sin(ie)+Sn*Math.cos(ie);return[kt,jt]}let _e=0,Ce=0,xe=0,Ie=0;const $e=ae/2,Oe=oe/2;[[0-$e,0-Oe],[0+$e,0-Oe],[0+$e,0+Oe],[0-$e,0+Oe]].forEach(([En,Sn])=>{const[kt,jt]=pe(En,Sn);_e=Math.min(_e,kt),Ce=Math.max(Ce,kt),xe=Math.min(xe,jt),Ie=Math.max(Ie,jt)});const Fe=_e+he/2,Ve=xe+he/2,ze=Ce-_e,Et=Ie-xe,Dt=V*g,Ue=z*g,qe=(ze+Dt)*2,Lt=Et+Ue,[Pt,At]=prepareCanvas(qe,Lt);function vn(En=0,Sn=0){Pt.drawImage(de,Fe,Ve,ze,Et,En,Sn,ze,Et)}return vn(),vn(ze+Dt,-Et/2-Ue/2),vn(ze+Dt,+Et/2+Ue/2),[At.toDataURL(),qe/g,Lt/g]}return t}const __default__$e=defineComponent({name:"ElWatermark"}),_sfc_main$r=defineComponent({...__default__$e,props:watermarkProps,setup(t){const n=t,r={position:"relative"},g=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.color)!=null?Ve:"rgba(0,0,0,.15)"}),y=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.fontSize)!=null?Ve:16}),$=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.fontWeight)!=null?Ve:"normal"}),L=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.fontStyle)!=null?Ve:"normal"}),V=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.fontFamily)!=null?Ve:"sans-serif"}),z=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.textAlign)!=null?Ve:"center"}),j=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.font)==null?void 0:Fe.textBaseline)!=null?Ve:"hanging"}),re=computed(()=>n.gap[0]),ae=computed(()=>n.gap[1]),oe=computed(()=>re.value/2),ie=computed(()=>ae.value/2),le=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.offset)==null?void 0:Fe[0])!=null?Ve:oe.value}),ue=computed(()=>{var Fe,Ve;return(Ve=(Fe=n.offset)==null?void 0:Fe[1])!=null?Ve:ie.value}),de=()=>{const Fe={zIndex:n.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let Ve=le.value-oe.value,ze=ue.value-ie.value;return Ve>0&&(Fe.left=`${Ve}px`,Fe.width=`calc(100% - ${Ve}px)`,Ve=0),ze>0&&(Fe.top=`${ze}px`,Fe.height=`calc(100% - ${ze}px)`,ze=0),Fe.backgroundPosition=`${Ve}px ${ze}px`,Fe},he=shallowRef(null),pe=shallowRef(),_e=ref(!1),Ce=()=>{pe.value&&(pe.value.remove(),pe.value=void 0)},xe=(Fe,Ve)=>{var ze;he.value&&pe.value&&(_e.value=!0,pe.value.setAttribute("style",getStyleStr({...de(),backgroundImage:`url('${Fe}')`,backgroundSize:`${Math.floor(Ve)}px`})),(ze=he.value)==null||ze.append(pe.value),setTimeout(()=>{_e.value=!1}))},Ie=Fe=>{let Ve=120,ze=64;const{image:Et,content:Dt,width:Ue,height:qe,rotate:Lt}=n;if(!Et&&Fe.measureText){Fe.font=`${Number(y.value)}px ${V.value}`;const Pt=isArray$4(Dt)?Dt:[Dt];let At=0,vn=0;Pt.forEach(kt=>{const{width:jt,fontBoundingBoxAscent:_n,fontBoundingBoxDescent:wn,actualBoundingBoxAscent:hn,actualBoundingBoxDescent:Cn}=Fe.measureText(kt),Tn=isUndefined(_n)?hn+Cn:_n+wn;jt>At&&(At=Math.ceil(jt)),Tn>vn&&(vn=Math.ceil(Tn))}),Ve=At,ze=vn*Pt.length+(Pt.length-1)*FontGap;const En=Math.PI/180*Number(Lt),Sn=Math.ceil(Math.abs(Math.sin(En)*ze)/2);Ve+=Sn}return[Ue??Ve,qe??ze]},$e=useClips(),Oe=()=>{const Ve=document.createElement("canvas").getContext("2d"),ze=n.image,Et=n.content,Dt=n.rotate;if(Ve){pe.value||(pe.value=document.createElement("div"));const Ue=getPixelRatio(),[qe,Lt]=Ie(Ve),Pt=At=>{const[vn,En]=$e(At||"",Dt,Ue,qe,Lt,{color:g.value,fontSize:y.value,fontStyle:L.value,fontWeight:$.value,fontFamily:V.value,textAlign:z.value,textBaseline:j.value},re.value,ae.value);xe(vn,En)};if(ze){const At=new Image;At.onload=()=>{Pt(At)},At.onerror=()=>{Pt(Et)},At.crossOrigin="anonymous",At.referrerPolicy="no-referrer",At.src=ze}else Pt(Et)}};return onMounted(()=>{Oe()}),watch(()=>n,()=>{Oe()},{deep:!0,flush:"post"}),onBeforeUnmount(()=>{Ce()}),useMutationObserver(he,Fe=>{_e.value||Fe.forEach(Ve=>{reRendering(Ve,pe.value)&&(Ce(),Oe())})},{attributes:!0,subtree:!0,childList:!0}),(Fe,Ve)=>(openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:he,style:normalizeStyle$1([r])},[renderSlot(Fe.$slots,"default")],4))}});var Watermark=_export_sfc$1(_sfc_main$r,[["__file","watermark.vue"]]);const ElWatermark=withInstall(Watermark),maskProps=buildProps({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:definePropType(Object)},targetAreaClickable:{type:Boolean,default:!0}}),useTarget=(t,n,r,g,y)=>{const $=ref(null),L=()=>{let ae;return isString$2(t.value)?ae=document.querySelector(t.value):isFunction$3(t.value)?ae=t.value():ae=t.value,ae},V=()=>{const ae=L();if(!ae||!n.value){$.value=null;return}isInViewPort(ae)||ae.scrollIntoView(y.value);const{left:oe,top:ie,width:le,height:ue}=ae.getBoundingClientRect();$.value={left:oe,top:ie,width:le,height:ue,radius:0}};onMounted(()=>{watch([n,t],()=>{V()},{immediate:!0}),window.addEventListener("resize",V)}),onBeforeUnmount(()=>{window.removeEventListener("resize",V)});const z=ae=>{var oe;return(oe=isArray$4(r.value.offset)?r.value.offset[ae]:r.value.offset)!=null?oe:6},j=computed(()=>{var ae;if(!$.value)return $.value;const oe=z(0),ie=z(1),le=((ae=r.value)==null?void 0:ae.radius)||2;return{left:$.value.left-oe,top:$.value.top-ie,width:$.value.width+oe*2,height:$.value.height+ie*2,radius:le}}),re=computed(()=>{const ae=L();return!g.value||!ae||!window.DOMRect?ae||void 0:{getBoundingClientRect(){var oe,ie,le,ue;return window.DOMRect.fromRect({width:((oe=j.value)==null?void 0:oe.width)||0,height:((ie=j.value)==null?void 0:ie.height)||0,x:((le=j.value)==null?void 0:le.left)||0,y:((ue=j.value)==null?void 0:ue.top)||0})}}});return{mergedPosInfo:j,triggerTarget:re}},tourKey=Symbol("ElTour");function isInViewPort(t){const n=window.innerWidth||document.documentElement.clientWidth,r=window.innerHeight||document.documentElement.clientHeight,{top:g,right:y,bottom:$,left:L}=t.getBoundingClientRect();return g>=0&&L>=0&&y<=n&&$<=r}const useFloating=(t,n,r,g,y,$,L,V)=>{const z=ref(),j=ref(),re=ref({}),ae={x:z,y:j,placement:g,strategy:y,middlewareData:re},oe=computed(()=>{const he=[offset(unref($)),flip(),shift(),overflowMiddleware()];return unref(V)&&unref(r)&&he.push(arrow({element:unref(r)})),he}),ie=async()=>{if(!isClient)return;const he=unref(t),pe=unref(n);if(!he||!pe)return;const _e=await computePosition(he,pe,{placement:unref(g),strategy:unref(y),middleware:unref(oe)});keysOf(ae).forEach(Ce=>{ae[Ce].value=_e[Ce]})},le=computed(()=>{if(!unref(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:unref(L)};const{overflow:he}=unref(re);return{position:unref(y),zIndex:unref(L),top:unref(j)!=null?`${unref(j)}px`:"",left:unref(z)!=null?`${unref(z)}px`:"",maxWidth:he!=null&&he.maxWidth?`${he==null?void 0:he.maxWidth}px`:""}}),ue=computed(()=>{if(!unref(V))return{};const{arrow:he}=unref(re);return{left:(he==null?void 0:he.x)!=null?`${he==null?void 0:he.x}px`:"",top:(he==null?void 0:he.y)!=null?`${he==null?void 0:he.y}px`:""}});let de;return onMounted(()=>{const he=unref(t),pe=unref(n);he&&pe&&(de=autoUpdate(he,pe,ie)),watchEffect(()=>{ie()})}),onBeforeUnmount(()=>{de&&de()}),{update:ie,contentStyle:le,arrowStyle:ue}},overflowMiddleware=()=>({name:"overflow",async fn(t){const n=await detectOverflow(t);let r=0;return n.left>0&&(r=n.left),n.right>0&&(r=n.right),{data:{maxWidth:t.rects.floating.width-r}}}}),__default__$d=defineComponent({name:"ElTourMask",inheritAttrs:!1}),_sfc_main$q=defineComponent({...__default__$d,props:maskProps,setup(t){const n=t,{ns:r}=inject(tourKey),g=computed(()=>{var V,z;return(z=(V=n.pos)==null?void 0:V.radius)!=null?z:2}),y=computed(()=>{const V=g.value,z=`a${V},${V} 0 0 1`;return{topRight:`${z} ${V},${V}`,bottomRight:`${z} ${-V},${V}`,bottomLeft:`${z} ${-V},${-V}`,topLeft:`${z} ${V},${-V}`}}),$=computed(()=>{const V=window.innerWidth,z=window.innerHeight,j=y.value,re=`M${V},0 L0,0 L0,${z} L${V},${z} L${V},0 Z`,ae=g.value;return n.pos?`${re} M${n.pos.left+ae},${n.pos.top} h${n.pos.width-ae*2} ${j.topRight} v${n.pos.height-ae*2} ${j.bottomRight} h${-n.pos.width+ae*2} ${j.bottomLeft} v${-n.pos.height+ae*2} ${j.topLeft} z`:re}),L=computed(()=>({fill:n.fill,pointerEvents:"auto",cursor:"auto"}));return useLockscreen(toRef(n,"visible"),{ns:r}),(V,z)=>V.visible?(openBlock(),createElementBlock("div",mergeProps({key:0,class:unref(r).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:V.zIndex,pointerEvents:V.pos&&V.targetAreaClickable?"none":"auto"}},V.$attrs),[(openBlock(),createElementBlock("svg",{style:{width:"100%",height:"100%"}},[createBaseVNode("path",{class:normalizeClass(unref(r).e("hollow")),style:normalizeStyle$1(unref(L)),d:unref($)},null,14,["d"])]))],16)):createCommentVNode("v-if",!0)}});var ElTourMask=_export_sfc$1(_sfc_main$q,[["__file","mask.vue"]]);const tourStrategies=["absolute","fixed"],tourPlacements=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],tourContentProps=buildProps({placement:{type:definePropType(String),values:tourPlacements,default:"bottom"},reference:{type:definePropType(Object),default:null},strategy:{type:definePropType(String),values:tourStrategies,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),tourContentEmits={close:()=>!0},__default__$c=defineComponent({name:"ElTourContent"}),_sfc_main$p=defineComponent({...__default__$c,props:tourContentProps,emits:tourContentEmits,setup(t,{emit:n}){const r=t,g=ref(r.placement),y=ref(r.strategy),$=ref(null),L=ref(null);watch(()=>r.placement,()=>{g.value=r.placement});const{contentStyle:V,arrowStyle:z}=useFloating(toRef(r,"reference"),$,L,g,y,toRef(r,"offset"),toRef(r,"zIndex"),toRef(r,"showArrow")),j=computed(()=>g.value.split("-")[0]),{ns:re}=inject(tourKey),ae=()=>{n("close")},oe=ie=>{ie.detail.focusReason==="pointer"&&ie.preventDefault()};return(ie,le)=>(openBlock(),createElementBlock("div",{ref_key:"contentRef",ref:$,style:normalizeStyle$1(unref(V)),class:normalizeClass(unref(re).e("content")),"data-side":unref(j),tabindex:"-1"},[createVNode$1(unref(ElFocusTrap),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":$.value||void 0,onReleaseRequested:ae,onFocusoutPrevented:oe},{default:withCtx(()=>[renderSlot(ie.$slots,"default")]),_:3},8,["focus-trap-el"]),ie.showArrow?(openBlock(),createElementBlock("span",{key:0,ref_key:"arrowRef",ref:L,style:normalizeStyle$1(unref(z)),class:normalizeClass(unref(re).e("arrow"))},null,6)):createCommentVNode("v-if",!0)],14,["data-side"]))}});var ElTourContent=_export_sfc$1(_sfc_main$p,[["__file","content.vue"]]),ElTourSteps=defineComponent({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:n,emit:r}){let g=0;return()=>{var y,$;const L=(y=n.default)==null?void 0:y.call(n),V=[];let z=0;function j(re){isArray$4(re)&&re.forEach(ae=>{var oe;((oe=(ae==null?void 0:ae.type)||{})==null?void 0:oe.name)==="ElTourStep"&&(V.push(ae),z+=1)})}return L.length&&j(flattedChildren(($=L[0])==null?void 0:$.children)),g!==z&&(g=z,r("update-total",z)),V.length?V[t.current]:null}}});const tourProps=buildProps({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:iconPropType},placement:tourContentProps.placement,contentStyle:{type:definePropType([Object])},mask:{type:definePropType([Boolean,Object]),default:!0},gap:{type:definePropType(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:()=>({block:"center"})},type:{type:definePropType(String)},appendTo:{type:teleportProps.to.type,default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),tourEmits={[UPDATE_MODEL_EVENT]:t=>isBoolean(t),"update:current":t=>isNumber$1(t),close:t=>isNumber$1(t),finish:()=>!0,change:t=>isNumber$1(t)},__default__$b=defineComponent({name:"ElTour"}),_sfc_main$o=defineComponent({...__default__$b,props:tourProps,emits:tourEmits,setup(t,{emit:n}){const r=t,g=useNamespace("tour"),y=ref(0),$=ref(),L=useVModel(r,"current",n,{passive:!0}),V=computed(()=>{var Ne;return(Ne=$.value)==null?void 0:Ne.target}),z=computed(()=>[g.b(),de.value==="primary"?g.m("primary"):""]),j=computed(()=>{var Ne;return((Ne=$.value)==null?void 0:Ne.placement)||r.placement}),re=computed(()=>{var Ne,Fe;return(Fe=(Ne=$.value)==null?void 0:Ne.contentStyle)!=null?Fe:r.contentStyle}),ae=computed(()=>{var Ne,Fe;return(Fe=(Ne=$.value)==null?void 0:Ne.mask)!=null?Fe:r.mask}),oe=computed(()=>!!ae.value&&r.modelValue),ie=computed(()=>isBoolean(ae.value)?void 0:ae.value),le=computed(()=>{var Ne,Fe;return!!V.value&&((Fe=(Ne=$.value)==null?void 0:Ne.showArrow)!=null?Fe:r.showArrow)}),ue=computed(()=>{var Ne,Fe;return(Fe=(Ne=$.value)==null?void 0:Ne.scrollIntoViewOptions)!=null?Fe:r.scrollIntoViewOptions}),de=computed(()=>{var Ne,Fe;return(Fe=(Ne=$.value)==null?void 0:Ne.type)!=null?Fe:r.type}),{nextZIndex:he}=useZIndex(),pe=he(),_e=computed(()=>{var Ne;return(Ne=r.zIndex)!=null?Ne:pe}),{mergedPosInfo:Ce,triggerTarget:xe}=useTarget(V,toRef(r,"modelValue"),toRef(r,"gap"),ae,ue);watch(()=>r.modelValue,Ne=>{Ne||(L.value=0)});const Ie=()=>{r.closeOnPressEscape&&(n(UPDATE_MODEL_EVENT,!1),n("close",L.value))},$e=Ne=>{y.value=Ne},Oe=useSlots();return provide(tourKey,{currentStep:$,current:L,total:y,showClose:toRef(r,"showClose"),closeIcon:toRef(r,"closeIcon"),mergedType:de,ns:g,slots:Oe,updateModelValue(Ne){n(UPDATE_MODEL_EVENT,Ne)},onClose(){n("close",L.value)},onFinish(){n("finish")},onChange(){n(CHANGE_EVENT,L.value)}}),(Ne,Fe)=>(openBlock(),createElementBlock(Fragment,null,[createVNode$1(unref(ElTeleport),{to:Ne.appendTo},{default:withCtx(()=>{var Ve,ze;return[createBaseVNode("div",mergeProps({class:unref(z)},Ne.$attrs),[createVNode$1(ElTourMask,{visible:unref(oe),fill:(Ve=unref(ie))==null?void 0:Ve.color,style:normalizeStyle$1((ze=unref(ie))==null?void 0:ze.style),pos:unref(Ce),"z-index":unref(_e),"target-area-clickable":Ne.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),Ne.modelValue?(openBlock(),createBlock(ElTourContent,{key:unref(L),reference:unref(xe),placement:unref(j),"show-arrow":unref(le),"z-index":unref(_e),style:normalizeStyle$1(unref(re)),onClose:Ie},{default:withCtx(()=>[createVNode$1(unref(ElTourSteps),{current:unref(L),onUpdateTotal:$e},{default:withCtx(()=>[renderSlot(Ne.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):createCommentVNode("v-if",!0)],16)]}),_:3},8,["to"]),createCommentVNode(" just for IDE "),createCommentVNode("v-if",!0)],64))}});var Tour=_export_sfc$1(_sfc_main$o,[["__file","tour.vue"]]);const tourStepProps=buildProps({target:{type:definePropType([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:iconPropType},showArrow:{type:Boolean,default:void 0},placement:tourContentProps.placement,mask:{type:definePropType([Boolean,Object]),default:void 0},contentStyle:{type:definePropType([Object])},prevButtonProps:{type:definePropType(Object)},nextButtonProps:{type:definePropType(Object)},scrollIntoViewOptions:{type:definePropType([Boolean,Object]),default:void 0},type:{type:definePropType(String)}}),tourStepEmits={close:()=>!0},__default__$a=defineComponent({name:"ElTourStep"}),_sfc_main$n=defineComponent({...__default__$a,props:tourStepProps,emits:tourStepEmits,setup(t,{emit:n}){const r=t,{Close:g}=CloseComponents,{t:y}=useLocale(),{currentStep:$,current:L,total:V,showClose:z,closeIcon:j,mergedType:re,ns:ae,slots:oe,updateModelValue:ie,onClose:le,onFinish:ue,onChange:de}=inject(tourKey);watch(r,Oe=>{$.value=Oe},{immediate:!0});const he=computed(()=>{var Oe;return(Oe=r.showClose)!=null?Oe:z.value}),pe=computed(()=>{var Oe,Ne;return(Ne=(Oe=r.closeIcon)!=null?Oe:j.value)!=null?Ne:g}),_e=Oe=>{if(Oe)return omit(Oe,["children","onClick"])},Ce=()=>{var Oe,Ne;L.value-=1,(Oe=r.prevButtonProps)!=null&&Oe.onClick&&((Ne=r.prevButtonProps)==null||Ne.onClick()),de()},xe=()=>{var Oe;L.value>=V.value-1?Ie():L.value+=1,(Oe=r.nextButtonProps)!=null&&Oe.onClick&&r.nextButtonProps.onClick(),de()},Ie=()=>{$e(),ue()},$e=()=>{ie(!1),le(),n("close")};return(Oe,Ne)=>(openBlock(),createElementBlock(Fragment,null,[unref(he)?(openBlock(),createElementBlock("button",{key:0,"aria-label":"Close",class:normalizeClass(unref(ae).e("closebtn")),type:"button",onClick:$e},[createVNode$1(unref(ElIcon),{class:normalizeClass(unref(ae).e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(pe))))]),_:1},8,["class"])],2)):createCommentVNode("v-if",!0),createBaseVNode("header",{class:normalizeClass([unref(ae).e("header"),{"show-close":unref(z)}])},[renderSlot(Oe.$slots,"header",{},()=>[createBaseVNode("span",{role:"heading",class:normalizeClass(unref(ae).e("title"))},toDisplayString(Oe.title),3)])],2),createBaseVNode("div",{class:normalizeClass(unref(ae).e("body"))},[renderSlot(Oe.$slots,"default",{},()=>[createBaseVNode("span",null,toDisplayString(Oe.description),1)])],2),createBaseVNode("footer",{class:normalizeClass(unref(ae).e("footer"))},[createBaseVNode("div",{class:normalizeClass(unref(ae).b("indicators"))},[unref(oe).indicators?(openBlock(),createBlock(resolveDynamicComponent(unref(oe).indicators),{key:0,current:unref(L),total:unref(V)},null,8,["current","total"])):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(unref(V),(Fe,Ve)=>(openBlock(),createElementBlock("span",{key:Fe,class:normalizeClass([unref(ae).b("indicator"),Ve===unref(L)?"is-active":""])},null,2))),128))],2),createBaseVNode("div",{class:normalizeClass(unref(ae).b("buttons"))},[unref(L)>0?(openBlock(),createBlock(unref(ElButton),mergeProps({key:0,size:"small",type:unref(re)},_e(Oe.prevButtonProps),{onClick:Ce}),{default:withCtx(()=>{var Fe,Ve;return[createTextVNode(toDisplayString((Ve=(Fe=Oe.prevButtonProps)==null?void 0:Fe.children)!=null?Ve:unref(y)("el.tour.previous")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0),unref(L)<=unref(V)-1?(openBlock(),createBlock(unref(ElButton),mergeProps({key:1,size:"small",type:unref(re)==="primary"?"default":"primary"},_e(Oe.nextButtonProps),{onClick:xe}),{default:withCtx(()=>{var Fe,Ve;return[createTextVNode(toDisplayString((Ve=(Fe=Oe.nextButtonProps)==null?void 0:Fe.children)!=null?Ve:unref(L)===unref(V)-1?unref(y)("el.tour.finish"):unref(y)("el.tour.next")),1)]}),_:1},16,["type"])):createCommentVNode("v-if",!0)],2)],2)],64))}});var TourStep=_export_sfc$1(_sfc_main$n,[["__file","step.vue"]]);const ElTour=withInstall(Tour,{TourStep}),ElTourStep=withNoopInstall(TourStep),anchorProps=buildProps({container:{type:definePropType([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:definePropType(String),default:"default"},direction:{type:definePropType(String),default:"vertical"},selectScrollTop:{type:Boolean,default:!1}}),anchorEmits={change:t=>isString$2(t),click:(t,n)=>t instanceof MouseEvent&&(isString$2(n)||isUndefined(n))},anchorKey=Symbol("anchor"),getElement=t=>{if(!isClient||t==="")return null;if(isString$2(t))try{return document.querySelector(t)}catch{return null}return t};function throttleByRaf(t){let n=0;const r=(...g)=>{n&&cAF(n),n=rAF(()=>{t(...g),n=0})};return r.cancel=()=>{cAF(n),n=0},r}const __default__$9=defineComponent({name:"ElAnchor"}),_sfc_main$m=defineComponent({...__default__$9,props:anchorProps,emits:anchorEmits,setup(t,{expose:n,emit:r}){const g=t,y=ref(""),$=ref(null),L=ref(null),V=ref(),z={};let j=!1,re=0;const ae=useNamespace("anchor"),oe=computed(()=>[ae.b(),g.type==="underline"?ae.m("underline"):"",ae.m(g.direction)]),ie=Oe=>{z[Oe.href]=Oe.el},le=Oe=>{delete z[Oe]},ue=Oe=>{y.value!==Oe&&(y.value=Oe,r(CHANGE_EVENT,Oe))};let de=null;const he=Oe=>{if(!V.value)return;const Ne=getElement(Oe);if(!Ne)return;de&&de(),j=!0;const Fe=getScrollElement(Ne,V.value),Ve=getOffsetTopDistance(Ne,Fe),ze=Fe.scrollHeight-Fe.clientHeight,Et=Math.min(Ve-g.offset,ze);de=animateScrollTo(V.value,re,Et,g.duration,()=>{setTimeout(()=>{j=!1},20)})},pe=Oe=>{Oe&&(ue(Oe),he(Oe))},_e=(Oe,Ne)=>{r("click",Oe,Ne),pe(Ne)},Ce=throttleByRaf(()=>{V.value&&(re=getScrollTop(V.value));const Oe=xe();j||isUndefined(Oe)||ue(Oe)}),xe=()=>{if(!V.value)return;const Oe=getScrollTop(V.value),Ne=[];for(const Fe of Object.keys(z)){const Ve=getElement(Fe);if(!Ve)continue;const ze=getScrollElement(Ve,V.value),Et=getOffsetTopDistance(Ve,ze);Ne.push({top:Et-g.offset-g.bound,href:Fe})}Ne.sort((Fe,Ve)=>Fe.top-Ve.top);for(let Fe=0;Fe<Ne.length;Fe++){const Ve=Ne[Fe],ze=Ne[Fe+1];if(Fe===0&&Oe===0)return g.selectScrollTop?Ve.href:"";if(Ve.top<=Oe&&(!ze||ze.top>Oe))return Ve.href}},Ie=()=>{const Oe=getElement(g.container);!Oe||isWindow(Oe)?V.value=window:V.value=Oe};useEventListener(V,"scroll",Ce);const $e=computed(()=>{if(!$.value||!L.value||!y.value)return{};const Oe=z[y.value];if(!Oe)return{};const Ne=$.value.getBoundingClientRect(),Fe=L.value.getBoundingClientRect(),Ve=Oe.getBoundingClientRect();return g.direction==="horizontal"?{left:`${Ve.left-Ne.left}px`,width:`${Ve.width}px`,opacity:1}:{top:`${Ve.top-Ne.top+(Ve.height-Fe.height)/2}px`,opacity:1}});return onMounted(()=>{Ie();const Oe=decodeURIComponent(window.location.hash);getElement(Oe)?pe(Oe):Ce()}),watch(()=>g.container,()=>{Ie()}),provide(anchorKey,{ns:ae,direction:g.direction,currentAnchor:y,addLink:ie,removeLink:le,handleClick:_e}),n({scrollTo:pe}),(Oe,Ne)=>(openBlock(),createElementBlock("div",{ref_key:"anchorRef",ref:$,class:normalizeClass(unref(oe))},[Oe.marker?(openBlock(),createElementBlock("div",{key:0,ref_key:"markerRef",ref:L,class:normalizeClass(unref(ae).e("marker")),style:normalizeStyle$1(unref($e))},null,6)):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(ae).e("list"))},[renderSlot(Oe.$slots,"default")],2)],2))}});var Anchor=_export_sfc$1(_sfc_main$m,[["__file","anchor.vue"]]);const anchorLinkProps=buildProps({title:String,href:String}),__default__$8=defineComponent({name:"ElAnchorLink"}),_sfc_main$l=defineComponent({...__default__$8,props:anchorLinkProps,setup(t){const n=t,r=ref(null),{ns:g,direction:y,currentAnchor:$,addLink:L,removeLink:V,handleClick:z}=inject(anchorKey),j=computed(()=>[g.e("link"),g.is("active",$.value===n.href)]),re=ae=>{z(ae,n.href)};return watch(()=>n.href,(ae,oe)=>{nextTick(()=>{oe&&V(oe),ae&&L({href:ae,el:r.value})})}),onMounted(()=>{const{href:ae}=n;ae&&L({href:ae,el:r.value})}),onBeforeUnmount(()=>{const{href:ae}=n;ae&&V(ae)}),(ae,oe)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(g).e("item"))},[createBaseVNode("a",{ref_key:"linkRef",ref:r,class:normalizeClass(unref(j)),href:ae.href,onClick:re},[renderSlot(ae.$slots,"default",{},()=>[createTextVNode(toDisplayString(ae.title),1)])],10,["href"]),ae.$slots["sub-link"]&&unref(y)==="vertical"?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(g).e("list"))},[renderSlot(ae.$slots,"sub-link")],2)):createCommentVNode("v-if",!0)],2))}});var AnchorLink=_export_sfc$1(_sfc_main$l,[["__file","anchor-link.vue"]]);const ElAnchor=withInstall(Anchor,{AnchorLink}),ElAnchorLink=withNoopInstall(AnchorLink),defaultProps={label:"label",value:"value",disabled:"disabled"},segmentedProps=buildProps({direction:{type:definePropType(String),default:"horizontal"},options:{type:definePropType(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},props:{type:definePropType(Object),default:()=>defaultProps},block:Boolean,size:useSizeProp,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,...useAriaProps(["ariaLabel"])}),segmentedEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t)||isNumber$1(t)||isBoolean(t),[CHANGE_EVENT]:t=>isString$2(t)||isNumber$1(t)||isBoolean(t)},__default__$7=defineComponent({name:"ElSegmented"}),_sfc_main$k=defineComponent({...__default__$7,props:segmentedProps,emits:segmentedEmits,setup(t,{emit:n}){const r=t,g=useNamespace("segmented"),y=useId(),$=useFormSize(),L=useFormDisabled(),{formItem:V}=useFormItem(),{inputId:z,isLabeledByFormItem:j}=useFormItemInputId(r,{formItemContext:V}),re=ref(null),ae=useActiveElement(),oe=reactive({isInit:!1,width:0,height:0,translateX:0,translateY:0,focusVisible:!1}),ie=Fe=>{const Ve=ue(Fe);n(UPDATE_MODEL_EVENT,Ve),n(CHANGE_EVENT,Ve)},le=computed(()=>({...defaultProps,...r.props})),ue=Fe=>isObject$5(Fe)?Fe[le.value.value]:Fe,de=Fe=>isObject$5(Fe)?Fe[le.value.label]:Fe,he=Fe=>!!(L.value||isObject$5(Fe)&&Fe[le.value.disabled]),pe=Fe=>r.modelValue===ue(Fe),_e=Fe=>r.options.find(Ve=>ue(Ve)===Fe),Ce=Fe=>[g.e("item"),g.is("selected",pe(Fe)),g.is("disabled",he(Fe))],xe=()=>{if(!re.value)return;const Fe=re.value.querySelector(".is-selected"),Ve=re.value.querySelector(".is-selected input");if(!Fe||!Ve){oe.width=0,oe.height=0,oe.translateX=0,oe.translateY=0,oe.focusVisible=!1;return}const ze=Fe.getBoundingClientRect();oe.isInit=!0,r.direction==="vertical"?(oe.height=ze.height,oe.translateY=Fe.offsetTop):(oe.width=ze.width,oe.translateX=Fe.offsetLeft);try{oe.focusVisible=Ve.matches(":focus-visible")}catch{}},Ie=computed(()=>[g.b(),g.m($.value),g.is("block",r.block)]),$e=computed(()=>({width:r.direction==="vertical"?"100%":`${oe.width}px`,height:r.direction==="vertical"?`${oe.height}px`:"100%",transform:r.direction==="vertical"?`translateY(${oe.translateY}px)`:`translateX(${oe.translateX}px)`,display:oe.isInit?"block":"none"})),Oe=computed(()=>[g.e("item-selected"),g.is("disabled",he(_e(r.modelValue))),g.is("focus-visible",oe.focusVisible)]),Ne=computed(()=>r.name||y.value);return useResizeObserver(re,xe),watch(ae,xe),watch(()=>r.modelValue,()=>{var Fe;xe(),r.validateEvent&&((Fe=V==null?void 0:V.validate)==null||Fe.call(V,"change").catch(Ve=>void 0))},{flush:"post"}),(Fe,Ve)=>Fe.options.length?(openBlock(),createElementBlock("div",{key:0,id:unref(z),ref_key:"segmentedRef",ref:re,class:normalizeClass(unref(Ie)),role:"radiogroup","aria-label":unref(j)?void 0:Fe.ariaLabel||"segmented","aria-labelledby":unref(j)?unref(V).labelId:void 0},[createBaseVNode("div",{class:normalizeClass([unref(g).e("group"),unref(g).m(r.direction)])},[createBaseVNode("div",{style:normalizeStyle$1(unref($e)),class:normalizeClass(unref(Oe))},null,6),(openBlock(!0),createElementBlock(Fragment,null,renderList(Fe.options,(ze,Et)=>(openBlock(),createElementBlock("label",{key:Et,class:normalizeClass(Ce(ze))},[createBaseVNode("input",{class:normalizeClass(unref(g).e("item-input")),type:"radio",name:unref(Ne),disabled:he(ze),checked:pe(ze),onChange:Dt=>ie(ze)},null,42,["name","disabled","checked","onChange"]),createBaseVNode("div",{class:normalizeClass(unref(g).e("item-label"))},[renderSlot(Fe.$slots,"default",{item:ze},()=>[createTextVNode(toDisplayString(de(ze)),1)])],2)],2))),128))],2)],10,["id","aria-label","aria-labelledby"])):createCommentVNode("v-if",!0)}});var Segmented=_export_sfc$1(_sfc_main$k,[["__file","segmented.vue"]]);const ElSegmented=withInstall(Segmented),filterOption=(t,n)=>{const r=t.toLowerCase();return(n.label||n.value).toLowerCase().includes(r)},getMentionCtx=(t,n,r)=>{const{selectionEnd:g}=t;if(g===null)return;const y=t.value,$=castArray$1(n);let L=-1,V;for(let z=g-1;z>=0;--z){const j=y[z];if(j===r||j===`
`||j==="\r"){L=z;continue}if($.includes(j)){const re=L===-1?g:L;V={pattern:y.slice(z+1,re),start:z+1,end:re,prefix:j,prefixIndex:z,splitIndex:L,selectionEnd:g};break}}return V},getCursorPosition=(t,n={debug:!1,useSelectionEnd:!1})=>{const r=t.selectionStart!==null?t.selectionStart:0,g=t.selectionEnd!==null?t.selectionEnd:0,y=n.useSelectionEnd?g:r,$=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"];if(n.debug){const oe=document.querySelector("#input-textarea-caret-position-mirror-div");oe!=null&&oe.parentNode&&oe.parentNode.removeChild(oe)}const L=document.createElement("div");L.id="input-textarea-caret-position-mirror-div",document.body.appendChild(L);const V=L.style,z=window.getComputedStyle(t),j=t.nodeName==="INPUT";V.whiteSpace=j?"nowrap":"pre-wrap",j||(V.wordWrap="break-word"),V.position="absolute",n.debug||(V.visibility="hidden"),$.forEach(oe=>{if(j&&oe==="lineHeight")if(z.boxSizing==="border-box"){const ie=Number.parseInt(z.height),le=Number.parseInt(z.paddingTop)+Number.parseInt(z.paddingBottom)+Number.parseInt(z.borderTopWidth)+Number.parseInt(z.borderBottomWidth),ue=le+Number.parseInt(z.lineHeight);ie>ue?V.lineHeight=`${ie-le}px`:ie===ue?V.lineHeight=z.lineHeight:V.lineHeight="0"}else V.lineHeight=z.height;else V[oe]=z[oe]}),isFirefox()?t.scrollHeight>Number.parseInt(z.height)&&(V.overflowY="scroll"):V.overflow="hidden",L.textContent=t.value.slice(0,Math.max(0,y)),j&&L.textContent&&(L.textContent=L.textContent.replace(/\s/g,""));const re=document.createElement("span");re.textContent=t.value.slice(Math.max(0,y))||".",re.style.position="relative",re.style.left=`${-t.scrollLeft}px`,re.style.top=`${-t.scrollTop}px`,L.appendChild(re);const ae={top:re.offsetTop+Number.parseInt(z.borderTopWidth),left:re.offsetLeft+Number.parseInt(z.borderLeftWidth),height:Number.parseInt(z.fontSize)*1.5};return n.debug?re.style.backgroundColor="#aaa":document.body.removeChild(L),ae.left>=t.clientWidth&&(ae.left=t.clientWidth),ae},mentionProps=buildProps({...inputProps,options:{type:definePropType(Array),default:()=>[]},prefix:{type:definePropType([String,Array]),default:"@",validator:t=>isString$2(t)?t.length===1:t.every(n=>isString$2(n)&&n.length===1)},split:{type:String,default:" ",validator:t=>t.length===1},filterOption:{type:definePropType([Boolean,Function]),default:()=>filterOption,validator:t=>t===!1?!0:isFunction$3(t)},placement:{type:definePropType(String),default:"bottom"},showArrow:Boolean,offset:{type:Number,default:0},whole:Boolean,checkIsWhole:{type:definePropType(Function)},modelValue:String,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})}}),mentionEmits={[UPDATE_MODEL_EVENT]:t=>isString$2(t),input:t=>isString$2(t),search:(t,n)=>isString$2(t)&&isString$2(n),select:(t,n)=>isString$2(t.value)&&isString$2(n),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},mentionDropdownProps=buildProps({options:{type:definePropType(Array),default:()=>[]},loading:Boolean,disabled:Boolean,contentId:String,ariaLabel:String}),mentionDropdownEmits={select:t=>isString$2(t.value)},__default__$6=defineComponent({name:"ElMentionDropdown"}),_sfc_main$j=defineComponent({...__default__$6,props:mentionDropdownProps,emits:mentionDropdownEmits,setup(t,{expose:n,emit:r}){const g=t,y=useNamespace("mention"),{t:$}=useLocale(),L=ref(-1),V=ref(),z=ref(),j=ref(),re=(_e,Ce)=>[y.be("dropdown","item"),y.is("hovering",L.value===Ce),y.is("disabled",_e.disabled||g.disabled)],ae=_e=>{_e.disabled||g.disabled||r("select",_e)},oe=_e=>{L.value=_e},ie=computed(()=>g.disabled||g.options.every(_e=>_e.disabled)),le=computed(()=>g.options[L.value]),ue=()=>{le.value&&r("select",le.value)},de=_e=>{const{options:Ce}=g;if(Ce.length===0||ie.value)return;_e==="next"?(L.value++,L.value===Ce.length&&(L.value=0)):_e==="prev"&&(L.value--,L.value<0&&(L.value=Ce.length-1));const xe=Ce[L.value];if(xe.disabled){de(_e);return}nextTick(()=>he(xe))},he=_e=>{var Ce,xe,Ie,$e;const{options:Oe}=g,Ne=Oe.findIndex(Ve=>Ve.value===_e.value),Fe=(Ce=z.value)==null?void 0:Ce[Ne];if(Fe){const Ve=(Ie=(xe=j.value)==null?void 0:xe.querySelector)==null?void 0:Ie.call(xe,`.${y.be("dropdown","wrap")}`);Ve&&scrollIntoView(Ve,Fe)}($e=V.value)==null||$e.handleScroll()};return watch(()=>g.options,()=>{ie.value||g.options.length===0?L.value=-1:L.value=0},{immediate:!0}),n({hoveringIndex:L,navigateOptions:de,selectHoverOption:ue,hoverOption:le}),(_e,Ce)=>(openBlock(),createElementBlock("div",{ref_key:"dropdownRef",ref:j,class:normalizeClass(unref(y).b("dropdown"))},[_e.$slots.header?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(unref(y).be("dropdown","header"))},[renderSlot(_e.$slots,"header")],2)):createCommentVNode("v-if",!0),withDirectives(createVNode$1(unref(ElScrollbar),{id:_e.contentId,ref_key:"scrollbarRef",ref:V,tag:"ul","wrap-class":unref(y).be("dropdown","wrap"),"view-class":unref(y).be("dropdown","list"),role:"listbox","aria-label":_e.ariaLabel,"aria-orientation":"vertical"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(_e.options,(xe,Ie)=>(openBlock(),createElementBlock("li",{id:`${_e.contentId}-${Ie}`,ref_for:!0,ref_key:"optionRefs",ref:z,key:Ie,class:normalizeClass(re(xe,Ie)),role:"option","aria-disabled":xe.disabled||_e.disabled||void 0,"aria-selected":L.value===Ie,onMousemove:$e=>oe(Ie),onClick:withModifiers($e=>ae(xe),["stop"])},[renderSlot(_e.$slots,"label",{item:xe,index:Ie},()=>{var $e;return[createBaseVNode("span",null,toDisplayString(($e=xe.label)!=null?$e:xe.value),1)]})],42,["id","aria-disabled","aria-selected","onMousemove","onClick"]))),128))]),_:3},8,["id","wrap-class","view-class","aria-label"]),[[vShow,_e.options.length>0&&!_e.loading]]),_e.loading?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(unref(y).be("dropdown","loading"))},[renderSlot(_e.$slots,"loading",{},()=>[createTextVNode(toDisplayString(unref($)("el.mention.loading")),1)])],2)):createCommentVNode("v-if",!0),_e.$slots.footer?(openBlock(),createElementBlock("div",{key:2,class:normalizeClass(unref(y).be("dropdown","footer"))},[renderSlot(_e.$slots,"footer")],2)):createCommentVNode("v-if",!0)],2))}});var ElMentionDropdown=_export_sfc$1(_sfc_main$j,[["__file","mention-dropdown.vue"]]);const __default__$5=defineComponent({name:"ElMention",inheritAttrs:!1}),_sfc_main$i=defineComponent({...__default__$5,props:mentionProps,emits:mentionEmits,setup(t,{expose:n,emit:r}){const g=t,y=computed(()=>pick(g,Object.keys(inputProps))),$=useNamespace("mention"),L=useFormDisabled(),V=useId(),z=ref(),j=ref(),re=ref(),ae=ref(!1),oe=ref(),ie=ref(),le=computed(()=>g.showArrow?g.placement:`${g.placement}-start`),ue=computed(()=>g.showArrow?["bottom","top"]:["bottom-start","top-start"]),de=computed(()=>{const{filterOption:ze,options:Et}=g;return!ie.value||!ze?Et:Et.filter(Dt=>ze(ie.value.pattern,Dt))}),he=computed(()=>ae.value&&(!!de.value.length||g.loading)),pe=computed(()=>{var ze;return`${V.value}-${(ze=re.value)==null?void 0:ze.hoveringIndex}`}),_e=ze=>{r(UPDATE_MODEL_EVENT,ze),r(INPUT_EVENT,ze),Ne()},Ce=ze=>{var Et,Dt,Ue,qe;if(!(!("code"in ze)||(Et=z.value)!=null&&Et.isComposing))switch(ze.code){case EVENT_CODE.left:case EVENT_CODE.right:Ne();break;case EVENT_CODE.up:case EVENT_CODE.down:if(!ae.value)return;ze.preventDefault(),(Dt=re.value)==null||Dt.navigateOptions(ze.code===EVENT_CODE.up?"prev":"next");break;case EVENT_CODE.enter:case EVENT_CODE.numpadEnter:if(!ae.value)return;ze.preventDefault(),(Ue=re.value)!=null&&Ue.hoverOption?(qe=re.value)==null||qe.selectHoverOption():ae.value=!1;break;case EVENT_CODE.esc:if(!ae.value)return;ze.preventDefault(),ae.value=!1;break;case EVENT_CODE.backspace:if(g.whole&&ie.value){const{splitIndex:Lt,selectionEnd:Pt,pattern:At,prefixIndex:vn,prefix:En}=ie.value,Sn=Oe();if(!Sn)return;const kt=Sn.value,jt=g.options.find(wn=>wn.value===At);if((isFunction$3(g.checkIsWhole)?g.checkIsWhole(At,En):jt)&&Lt!==-1&&Lt+1===Pt){ze.preventDefault();const wn=kt.slice(0,vn)+kt.slice(Lt+1);r(UPDATE_MODEL_EVENT,wn),r(INPUT_EVENT,wn);const hn=vn;nextTick(()=>{Sn.selectionStart=hn,Sn.selectionEnd=hn,Ve()})}}}},{wrapperRef:xe}=useFocusController(z,{beforeFocus(){return L.value},afterFocus(){Ne()},beforeBlur(ze){var Et;return(Et=j.value)==null?void 0:Et.isFocusInsideContent(ze)},afterBlur(){ae.value=!1}}),Ie=()=>{Ne()},$e=ze=>{if(!ie.value)return;const Et=Oe();if(!Et)return;const Dt=Et.value,{split:Ue}=g,qe=Dt.slice(ie.value.end),Lt=qe.startsWith(Ue),Pt=`${ze.value}${Lt?"":Ue}`,At=Dt.slice(0,ie.value.start)+Pt+qe;r(UPDATE_MODEL_EVENT,At),r(INPUT_EVENT,At),r("select",ze,ie.value.prefix);const vn=ie.value.start+Pt.length+(Lt?1:0);nextTick(()=>{Et.selectionStart=vn,Et.selectionEnd=vn,Et.focus(),Ve()})},Oe=()=>{var ze,Et;return g.type==="textarea"?(ze=z.value)==null?void 0:ze.textarea:(Et=z.value)==null?void 0:Et.input},Ne=()=>{setTimeout(()=>{Fe(),Ve(),nextTick(()=>{var ze;return(ze=j.value)==null?void 0:ze.updatePopper()})},0)},Fe=()=>{const ze=Oe();if(!ze)return;const Et=getCursorPosition(ze),Dt=ze.getBoundingClientRect(),Ue=z.value.$el.getBoundingClientRect();oe.value={position:"absolute",width:0,height:`${Et.height}px`,left:`${Et.left+Dt.left-Ue.left}px`,top:`${Et.top+Dt.top-Ue.top}px`}},Ve=()=>{const ze=Oe();if(document.activeElement!==ze){ae.value=!1;return}const{prefix:Et,split:Dt}=g;if(ie.value=getMentionCtx(ze,Et,Dt),ie.value&&ie.value.splitIndex===-1){ae.value=!0,r("search",ie.value.pattern,ie.value.prefix);return}ae.value=!1};return n({input:z,tooltip:j,dropdownVisible:he}),(ze,Et)=>(openBlock(),createElementBlock("div",{ref_key:"wrapperRef",ref:xe,class:normalizeClass(unref($).b())},[createVNode$1(unref(ElInput),mergeProps(mergeProps(unref(y),ze.$attrs),{ref_key:"elInputRef",ref:z,"model-value":ze.modelValue,disabled:unref(L),role:unref(he)?"combobox":void 0,"aria-activedescendant":unref(he)?unref(pe)||"":void 0,"aria-controls":unref(he)?unref(V):void 0,"aria-expanded":unref(he)||void 0,"aria-label":ze.ariaLabel,"aria-autocomplete":unref(he)?"none":void 0,"aria-haspopup":unref(he)?"listbox":void 0,onInput:_e,onKeydown:Ce,onMousedown:Ie}),createSlots({_:2},[renderList(ze.$slots,(Dt,Ue)=>({name:Ue,fn:withCtx(qe=>[renderSlot(ze.$slots,Ue,normalizeProps(guardReactiveProps(qe)))])}))]),1040,["model-value","disabled","role","aria-activedescendant","aria-controls","aria-expanded","aria-label","aria-autocomplete","aria-haspopup"]),createVNode$1(unref(ElTooltip),{ref_key:"tooltipRef",ref:j,visible:unref(he),"popper-class":[unref($).e("popper"),ze.popperClass],"popper-options":ze.popperOptions,placement:unref(le),"fallback-placements":unref(ue),effect:"light",pure:"",offset:ze.offset,"show-arrow":ze.showArrow},{default:withCtx(()=>[createBaseVNode("div",{style:normalizeStyle$1(oe.value)},null,4)]),content:withCtx(()=>{var Dt;return[createVNode$1(ElMentionDropdown,{ref_key:"dropdownRef",ref:re,options:unref(de),disabled:unref(L),loading:ze.loading,"content-id":unref(V),"aria-label":ze.ariaLabel,onSelect:$e,onClick:withModifiers((Dt=z.value)==null?void 0:Dt.focus,["stop"])},createSlots({_:2},[renderList(ze.$slots,(Ue,qe)=>({name:qe,fn:withCtx(Lt=>[renderSlot(ze.$slots,qe,normalizeProps(guardReactiveProps(Lt)))])}))]),1032,["options","disabled","loading","content-id","aria-label","onClick"])]}),_:3},8,["visible","popper-class","popper-options","placement","fallback-placements","offset","show-arrow"])],2))}});var Mention=_export_sfc$1(_sfc_main$i,[["__file","mention.vue"]]);const ElMention=withInstall(Mention),splitterProps=buildProps({layout:{type:String,default:"horizontal",values:["horizontal","vertical"]}}),splitterRootContextKey=Symbol("splitterRootContextKey");function useContainer(t){const n=ref(),{width:r,height:g}=useElementSize(n),y=computed(()=>t.value==="horizontal"?r.value:g.value);return{containerEl:n,containerSize:y}}function getPct(t){return Number(t.slice(0,-1))/100}function getPx(t){return Number(t.slice(0,-2))}function isPct(t){return isString$2(t)&&t.endsWith("%")}function isPx(t){return isString$2(t)&&t.endsWith("px")}function useSize(t,n){const r=computed(()=>t.value.map(V=>V.size)),g=computed(()=>t.value.length),y=ref([]);watch([r,g,n],()=>{var V;let z=[],j=0;for(let ae=0;ae<g.value;ae+=1){const oe=(V=t.value[ae])==null?void 0:V.size;if(isPct(oe))z[ae]=getPct(oe);else if(isPx(oe))z[ae]=getPx(oe)/n.value;else if(oe||oe===0){const ie=Number(oe);Number.isNaN(ie)||(z[ae]=ie/n.value)}else j+=1,z[ae]=void 0}const re=z.reduce((ae,oe)=>ae+(oe||0),0);if(re>1||!j){const ae=1/re;z=z.map(oe=>oe===void 0?0:oe*ae)}else{const ae=(1-re)/j;z=z.map(oe=>oe===void 0?ae:oe)}y.value=z});const $=V=>V*n.value,L=computed(()=>y.value.map($));return{percentSizes:y,pxSizes:L}}function useResize(t,n,r){const g=ie=>ie*n.value||0;function y(ie,le){return isPct(ie)?g(getPct(ie)):isPx(ie)?getPx(ie):ie??le}const $=ref(null);let L=[];const V=computed(()=>t.value.map(ie=>[ie.min,ie.max])),z=ie=>{$.value={index:ie,confirmed:!1},L=r.value},j=(ie,le)=>{var ue,de;let he=null;if((!$.value||!$.value.confirmed)&&le!==0){if(le>0)he=ie,$.value={index:ie,confirmed:!0};else for(let Fe=ie;Fe>=0;Fe-=1)if(L[Fe]>0){he=Fe,$.value={index:Fe,confirmed:!0};break}}const pe=(de=he??((ue=$.value)==null?void 0:ue.index))!=null?de:ie,_e=[...L],Ce=pe+1,xe=y(V.value[pe][0],0),Ie=y(V.value[Ce][0],0),$e=y(V.value[pe][1],n.value||0),Oe=y(V.value[Ce][1],n.value||0);let Ne=le;_e[pe]+Ne<xe&&(Ne=xe-_e[pe]),_e[Ce]-Ne<Ie&&(Ne=_e[Ce]-Ie),_e[pe]+Ne>$e&&(Ne=$e-_e[pe]),_e[Ce]-Ne>Oe&&(Ne=_e[Ce]-Oe),_e[pe]+=Ne,_e[Ce]-=Ne,t.value.forEach((Fe,Ve)=>{Fe.size=_e[Ve]})},re=()=>{$.value=null,L=[]},ae=[];return{onMoveStart:z,onMoving:j,onMoveEnd:re,movingIndex:$,onCollapse:(ie,le)=>{const ue=r.value,de=le==="start"?ie:ie+1,he=le==="start"?ie+1:ie,pe=ue[de],_e=ue[he];if(pe!==0&&_e!==0)ue[de]=0,ue[he]+=pe,ae[ie]=pe;else{const Ce=pe+_e,xe=ae[ie],Ie=Ce-xe;ue[he]=xe,ue[de]=Ie}t.value.forEach((Ce,xe)=>{Ce.size=ue[xe]})}}}const __default__$4=defineComponent({name:"ElSplitter"}),_sfc_main$h=defineComponent({...__default__$4,props:splitterProps,emits:["resizeStart","resize","resizeEnd"],setup(t,{emit:n}){const r=t,g=useNamespace("splitter"),{containerEl:y,containerSize:$}=useContainer(toRef(r,"layout")),{removeChild:L,children:V,addChild:z}=useOrderedChildren(getCurrentInstance(),"ElSplitterPanel");watch(V,()=>{V.value.forEach((_e,Ce)=>{_e.setIndex(Ce)})});const{percentSizes:j,pxSizes:re}=useSize(V,$),{onMoveStart:ae,onMoving:oe,onMoveEnd:ie,onCollapse:le,movingIndex:ue}=useResize(V,$,re),de=_e=>{ae(_e),n("resizeStart",_e,re.value)},he=(_e,Ce)=>{oe(_e,Ce),n("resize",_e,re.value)},pe=_e=>{ie(),n("resizeEnd",_e,re.value)};return provide(splitterRootContextKey,reactive({panels:V,percentSizes:j,pxSizes:re,layout:r.layout,movingIndex:ue,containerSize:$,onMoveStart:de,onMoving:he,onMoveEnd:pe,onCollapse:le,registerPanel:_e=>{V.value.push(_e)},sortPanel:z,unregisterPanel:L})),(_e,Ce)=>(openBlock(),createElementBlock("div",{ref_key:"containerEl",ref:y,class:normalizeClass([unref(g).b(),unref(g).e(_e.layout)])},[renderSlot(_e.$slots,"default"),createCommentVNode(" Prevent iframe touch events from breaking "),unref(ue)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(g).e("mask"),unref(g).e(`mask-${_e.layout}`)])},null,2)):createCommentVNode("v-if",!0)],2))}});var Splitter=_export_sfc$1(_sfc_main$h,[["__file","splitter.vue"]]);function getCollapsible(t){return t&&isObject$5(t)?t:{start:!!t,end:!!t}}function isCollapsible(t,n,r,g){return!!(t!=null&&t.collapsible.end&&n>0||r!=null&&r.collapsible.start&&g===0&&n>0)}const __default__$3=defineComponent({name:"ElSplitterBar"}),_sfc_main$g=defineComponent({...__default__$3,props:{index:{type:Number,required:!0},layout:{type:String,values:["horizontal","vertical"],default:"horizontal"},resizable:{type:Boolean,default:!0},startCollapsible:{type:Boolean},endCollapsible:{type:Boolean}},emits:["moveStart","moving","moveEnd","collapse"],setup(t,{emit:n}){const r=t,g=useNamespace("splitter-bar"),y=computed(()=>r.layout==="horizontal"),$=computed(()=>y.value?{width:0}:{height:0}),L=computed(()=>({width:y.value?"16px":"100%",height:y.value?"100%":"16px",cursor:y.value?"col-resize":"row-resize",touchAction:"none"})),V=computed(()=>{const he=g.e("dragger");let pe=y.value?`${he}-horizontal`:`${he}-vertical`;return z.value&&(pe+=` ${he}-active`),pe}),z=ref(null),j=he=>{r.resizable&&(z.value=[he.pageX,he.pageY],n("moveStart",r.index),window.addEventListener("mouseup",ie),window.addEventListener("mousemove",ae))},re=he=>{if(r.resizable&&he.touches.length===1){he.preventDefault();const pe=he.touches[0];z.value=[pe.pageX,pe.pageY],n("moveStart",r.index),window.addEventListener("touchend",le),window.addEventListener("touchmove",oe)}},ae=he=>{const{pageX:pe,pageY:_e}=he,Ce=pe-z.value[0],xe=_e-z.value[1],Ie=y.value?Ce:xe;n("moving",r.index,Ie)},oe=he=>{if(he.touches.length===1){he.preventDefault();const pe=he.touches[0],_e=pe.pageX-z.value[0],Ce=pe.pageY-z.value[1],xe=y.value?_e:Ce;n("moving",r.index,xe)}},ie=()=>{z.value=null,window.removeEventListener("mouseup",ie),window.removeEventListener("mousemove",ae),n("moveEnd",r.index)},le=()=>{z.value=null,window.removeEventListener("touchend",le),window.removeEventListener("touchmove",oe),n("moveEnd",r.index)},ue=computed(()=>y.value?arrow_left_default:arrow_up_default),de=computed(()=>y.value?arrow_right_default:arrow_down_default);return(he,pe)=>(openBlock(),createElementBlock("div",{class:normalizeClass([unref(g).b()]),style:normalizeStyle$1(unref($))},[t.startCollapsible?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass([unref(g).e("collapse-icon"),unref(g).e(`${t.layout}-collapse-icon-start`)]),onClick:_e=>n("collapse",t.index,"start")},[renderSlot(he.$slots,"start-collapsible",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(ue)),{style:{width:"12px",height:"12px"}}))])],10,["onClick"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass([unref(g).e("dragger"),unref(V),t.resizable?"":unref(g).e("disable")]),style:normalizeStyle$1(unref(L)),onMousedown:j,onTouchstart:re},null,38),t.endCollapsible?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass([unref(g).e("collapse-icon"),unref(g).e(`${t.layout}-collapse-icon-end`)]),onClick:_e=>n("collapse",t.index,"end")},[renderSlot(he.$slots,"end-collapsible",{},()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de)),{style:{width:"12px",height:"12px"}}))])],10,["onClick"])):createCommentVNode("v-if",!0)],6))}});var SplitBar=_export_sfc$1(_sfc_main$g,[["__file","split-bar.vue"]]);const splitterPanelProps=buildProps({min:{type:[String,Number]},max:{type:[String,Number]},size:{type:[String,Number]},resizable:{type:Boolean,default:!0},collapsible:{type:Boolean,default:!1}}),COMPONENT_NAME="ElSplitterPanel",__default__$2=defineComponent({name:COMPONENT_NAME}),_sfc_main$f=defineComponent({...__default__$2,props:splitterPanelProps,emits:["update:size"],setup(t,{emit:n}){const r=t,g=useNamespace("splitter-panel"),y=inject(splitterRootContextKey);y||throwError$1(COMPONENT_NAME,"usage: <el-splitter><el-splitter-panel /></el-splitter/>");const{panels:$,layout:L,containerSize:V,pxSizes:z}=toRefs(y),{registerPanel:j,sortPanel:re,unregisterPanel:ae,onCollapse:oe,onMoveEnd:ie,onMoveStart:le,onMoving:ue}=y,de=ref(),he=getCurrentInstance().uid,pe=ref(0),_e=computed(()=>$.value[pe.value]),Ce=Ue=>{pe.value=Ue},xe=computed(()=>{var Ue;return _e.value&&(Ue=z.value[pe.value])!=null?Ue:0}),Ie=computed(()=>{var Ue;return _e.value&&(Ue=z.value[pe.value+1])!=null?Ue:0}),$e=computed(()=>_e.value?$.value[pe.value+1]:null),Oe=computed(()=>{var Ue;return $e.value?r.resizable&&((Ue=$e.value)==null?void 0:Ue.resizable)&&(xe.value!==0||!r.min)&&(Ie.value!==0||!$e.value.min):!1}),Ne=computed(()=>_e.value?pe.value!==$.value.length-1:!1),Fe=computed(()=>isCollapsible(_e.value,xe.value,$e.value,Ie.value)),Ve=computed(()=>isCollapsible($e.value,Ie.value,_e.value,xe.value));function ze(Ue){return isPct(Ue)?getPct(Ue)*V.value||0:isPx(Ue)?getPx(Ue):Ue??0}let Et=!1;watch(()=>r.size,()=>{if(_e.value){const Ue=ze(r.size),qe=ze(r.max),Lt=ze(r.min),Pt=Math.min(Math.max(Ue,Lt||0),qe||Ue);Pt!==Ue&&(Et=!0,n("update:size",Pt)),_e.value.size=Pt,nextTick(()=>Et=!1)}}),watch(()=>{var Ue;return(Ue=_e.value)==null?void 0:Ue.size},Ue=>{!Et&&Ue!==r.size&&n("update:size",Ue)}),watch(()=>r.resizable,Ue=>{_e.value&&(_e.value.resizable=Ue)});const Dt=reactive({el:de.value,uid:he,setIndex:Ce,...r,collapsible:getCollapsible(r.collapsible)});return j(Dt),onMounted(()=>{re(Dt)}),onUnmounted(()=>ae==null?void 0:ae(he)),(Ue,qe)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"panelEl",ref:de,class:[unref(g).b()],style:{flexBasis:`${unref(xe)}px`}},Ue.$attrs),[renderSlot(Ue.$slots,"default")],16),unref(Ne)?(openBlock(),createBlock(SplitBar,{key:0,index:pe.value,layout:unref(L),resizable:unref(Oe),"start-collapsible":unref(Fe),"end-collapsible":unref(Ve),onMoveStart:unref(le),onMoving:unref(ue),onMoveEnd:unref(ie),onCollapse:unref(oe)},{"start-collapsible":withCtx(()=>[renderSlot(Ue.$slots,"start-collapsible")]),"end-collapsible":withCtx(()=>[renderSlot(Ue.$slots,"end-collapsible")]),_:3},8,["index","layout","resizable","start-collapsible","end-collapsible","onMoveStart","onMoving","onMoveEnd","onCollapse"])):createCommentVNode("v-if",!0)],64))}});var SplitPanel=_export_sfc$1(_sfc_main$f,[["__file","split-panel.vue"]]);const ElSplitter=withInstall(Splitter,{SplitPanel}),ElSplitterPanel=withNoopInstall(SplitPanel);var Components=[ElAffix,ElAlert,ElAutocomplete,ElAutoResizer,ElAvatar,ElBacktop,ElBadge,ElBreadcrumb,ElBreadcrumbItem,ElButton,ElButtonGroup$1,ElCalendar,ElCard,ElCarousel,ElCarouselItem,ElCascader,ElCascaderPanel,ElCheckTag,ElCheckbox,ElCheckboxButton,ElCheckboxGroup$1,ElCol,ElCollapse,ElCollapseItem,ElCollapseTransition,ElColorPicker,ElConfigProvider,ElContainer,ElAside,ElFooter,ElHeader,ElMain,ElDatePicker,ElDescriptions,ElDescriptionsItem,ElDialog,ElDivider,ElDrawer,ElDropdown,ElDropdownItem,ElDropdownMenu,ElEmpty,ElForm,ElFormItem,ElIcon,ElImage,ElImageViewer,ElInput,ElInputNumber,ElInputTag,ElLink,ElMenu,ElMenuItem,ElMenuItemGroup,ElSubMenu,ElPageHeader,ElPagination,ElPopconfirm,ElPopover,ElPopper,ElProgress,ElRadio,ElRadioButton,ElRadioGroup,ElRate,ElResult,ElRow,ElScrollbar,ElSelect,ElOption,ElOptionGroup,ElSelectV2,ElSkeleton,ElSkeletonItem,ElSlider,ElSpace,ElStatistic,ElCountdown,ElSteps,ElStep,ElSwitch,ElTable,ElTableColumn,ElTableV2,ElTabs,ElTabPane,ElTag,ElText,ElTimePicker,ElTimeSelect,ElTimeline,ElTimelineItem,ElTooltip,ElTooltipV2,ElTransfer,ElTree,ElTreeSelect,ElTreeV2,ElUpload,ElWatermark,ElTour,ElTourStep,ElAnchor,ElAnchorLink,ElSegmented,ElMention,ElSplitter,ElSplitterPanel];const SCOPE="ElInfiniteScroll",CHECK_INTERVAL=50,DEFAULT_DELAY=200,DEFAULT_DISTANCE=0,attributes={delay:{type:Number,default:DEFAULT_DELAY},distance:{type:Number,default:DEFAULT_DISTANCE},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},getScrollOptions=(t,n)=>Object.entries(attributes).reduce((r,[g,y])=>{var $,L;const{type:V,default:z}=y,j=t.getAttribute(`infinite-scroll-${g}`);let re=(L=($=n[j])!=null?$:j)!=null?L:z;return re=re==="false"?!1:re,re=V(re),r[g]=Number.isNaN(re)?z:re,r},{}),destroyObserver=t=>{const{observer:n}=t[SCOPE];n&&(n.disconnect(),delete t[SCOPE].observer)},handleScroll=(t,n)=>{const{container:r,containerEl:g,instance:y,observer:$,lastScrollTop:L}=t[SCOPE],{disabled:V,distance:z}=getScrollOptions(t,y),{clientHeight:j,scrollHeight:re,scrollTop:ae}=g,oe=ae-L;if(t[SCOPE].lastScrollTop=ae,$||V||oe<0)return;let ie=!1;if(r===t)ie=re-(j+ae)<=z;else{const{clientTop:le,scrollHeight:ue}=t,de=getOffsetTopDistance(t,g);ie=ae+j>=de+le+ue-z}ie&&n.call(y)};function checkFull(t,n){const{containerEl:r,instance:g}=t[SCOPE],{disabled:y}=getScrollOptions(t,g);y||r.clientHeight===0||(r.scrollHeight<=r.clientHeight?n.call(g):destroyObserver(t))}const InfiniteScroll={async mounted(t,n){const{instance:r,value:g}=n;isFunction$3(g)||throwError$1(SCOPE,"'v-infinite-scroll' binding value must be a function"),await nextTick();const{delay:y,immediate:$}=getScrollOptions(t,r),L=getScrollContainer(t,!0),V=L===window?document.documentElement:L,z=throttle$1(handleScroll.bind(null,t,g),y);if(L){if(t[SCOPE]={instance:r,container:L,containerEl:V,delay:y,cb:g,onScroll:z,lastScrollTop:V.scrollTop},$){const j=new MutationObserver(throttle$1(checkFull.bind(null,t,g),CHECK_INTERVAL));t[SCOPE].observer=j,j.observe(t,{childList:!0,subtree:!0}),checkFull(t,g)}L.addEventListener("scroll",z)}},unmounted(t){if(!t[SCOPE])return;const{container:n,onScroll:r}=t[SCOPE];n==null||n.removeEventListener("scroll",r),destroyObserver(t)},async updated(t){if(!t[SCOPE])await nextTick();else{const{containerEl:n,cb:r,observer:g}=t[SCOPE];n.clientHeight&&g&&checkFull(t,r)}}},_InfiniteScroll=InfiniteScroll;_InfiniteScroll.install=t=>{t.directive("InfiniteScroll",_InfiniteScroll)};const ElInfiniteScroll=_InfiniteScroll;function createLoadingComponent(t,n){let r;const g=ref(!1),y=reactive({...t,originalPosition:"",originalOverflow:"",visible:!1});function $(ie){y.text=ie}function L(){const ie=y.parent,le=oe.ns;if(!ie.vLoadingAddClassList){let ue=ie.getAttribute("loading-number");ue=Number.parseInt(ue)-1,ue?ie.setAttribute("loading-number",ue.toString()):(removeClass(ie,le.bm("parent","relative")),ie.removeAttribute("loading-number")),removeClass(ie,le.bm("parent","hidden"))}V(),ae.unmount()}function V(){var ie,le;(le=(ie=oe.$el)==null?void 0:ie.parentNode)==null||le.removeChild(oe.$el)}function z(){var ie;t.beforeClose&&!t.beforeClose()||(g.value=!0,clearTimeout(r),r=setTimeout(j,400),y.visible=!1,(ie=t.closed)==null||ie.call(t))}function j(){if(!g.value)return;const ie=y.parent;g.value=!1,ie.vLoadingAddClassList=void 0,L()}const ae=createApp(defineComponent({name:"ElLoading",setup(ie,{expose:le}){const{ns:ue,zIndex:de}=useGlobalComponentSettings("loading");return le({ns:ue,zIndex:de}),()=>{const he=y.spinner||y.svg,pe=h$1("svg",{class:"circular",viewBox:y.svgViewBox?y.svgViewBox:"0 0 50 50",...he?{innerHTML:he}:{}},[h$1("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),_e=y.text?h$1("p",{class:ue.b("text")},[y.text]):void 0;return h$1(Transition,{name:ue.b("fade"),onAfterLeave:j},{default:withCtx(()=>[withDirectives(createVNode$1("div",{style:{backgroundColor:y.background||""},class:[ue.b("mask"),y.customClass,y.fullscreen?"is-fullscreen":""]},[h$1("div",{class:ue.b("spinner")},[pe,_e])]),[[vShow,y.visible]])])})}}}));Object.assign(ae._context,n??{});const oe=ae.mount(document.createElement("div"));return{...toRefs(y),setText:$,removeElLoadingChild:V,close:z,handleAfterLeave:j,vm:oe,get $el(){return oe.$el}}}let fullscreenInstance;const Loading=function(t={}){if(!isClient)return;const n=resolveOptions(t);if(n.fullscreen&&fullscreenInstance)return fullscreenInstance;const r=createLoadingComponent({...n,closed:()=>{var y;(y=n.closed)==null||y.call(n),n.fullscreen&&(fullscreenInstance=void 0)}},Loading._context);addStyle(n,n.parent,r),addClassList(n,n.parent,r),n.parent.vLoadingAddClassList=()=>addClassList(n,n.parent,r);let g=n.parent.getAttribute("loading-number");return g?g=`${Number.parseInt(g)+1}`:g="1",n.parent.setAttribute("loading-number",g),n.parent.appendChild(r.$el),nextTick(()=>r.visible.value=n.visible),n.fullscreen&&(fullscreenInstance=r),r},resolveOptions=t=>{var n,r,g,y;let $;return isString$2(t.target)?$=(n=document.querySelector(t.target))!=null?n:document.body:$=t.target||document.body,{parent:$===document.body||t.body?document.body:$,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:$===document.body&&((r=t.fullscreen)!=null?r:!0),lock:(g=t.lock)!=null?g:!1,customClass:t.customClass||"",visible:(y=t.visible)!=null?y:!0,beforeClose:t.beforeClose,closed:t.closed,target:$}},addStyle=async(t,n,r)=>{const{nextZIndex:g}=r.vm.zIndex||r.vm._.exposed.zIndex,y={};if(t.fullscreen)r.originalPosition.value=getStyle$1(document.body,"position"),r.originalOverflow.value=getStyle$1(document.body,"overflow"),y.zIndex=g();else if(t.parent===document.body){r.originalPosition.value=getStyle$1(document.body,"position"),await nextTick();for(const $ of["top","left"]){const L=$==="top"?"scrollTop":"scrollLeft";y[$]=`${t.target.getBoundingClientRect()[$]+document.body[L]+document.documentElement[L]-Number.parseInt(getStyle$1(document.body,`margin-${$}`),10)}px`}for(const $ of["height","width"])y[$]=`${t.target.getBoundingClientRect()[$]}px`}else r.originalPosition.value=getStyle$1(n,"position");for(const[$,L]of Object.entries(y))r.$el.style[$]=L},addClassList=(t,n,r)=>{const g=r.vm.ns||r.vm._.exposed.ns;["absolute","fixed","sticky"].includes(r.originalPosition.value)?removeClass(n,g.bm("parent","relative")):addClass(n,g.bm("parent","relative")),t.fullscreen&&t.lock?addClass(n,g.bm("parent","hidden")):removeClass(n,g.bm("parent","hidden"))};Loading._context=null;const INSTANCE_KEY=Symbol("ElLoading"),createInstance=(t,n)=>{var r,g,y,$;const L=n.instance,V=ie=>isObject$5(n.value)?n.value[ie]:void 0,z=ie=>{const le=isString$2(ie)&&(L==null?void 0:L[ie])||ie;return le&&ref(le)},j=ie=>z(V(ie)||t.getAttribute(`element-loading-${hyphenate(ie)}`)),re=(r=V("fullscreen"))!=null?r:n.modifiers.fullscreen,ae={text:j("text"),svg:j("svg"),svgViewBox:j("svgViewBox"),spinner:j("spinner"),background:j("background"),customClass:j("customClass"),fullscreen:re,target:(g=V("target"))!=null?g:re?void 0:t,body:(y=V("body"))!=null?y:n.modifiers.body,lock:($=V("lock"))!=null?$:n.modifiers.lock},oe=Loading(ae);oe._context=vLoading._context,t[INSTANCE_KEY]={options:ae,instance:oe}},updateOptions=(t,n)=>{for(const r of Object.keys(n))isRef(n[r])&&(n[r].value=t[r])},vLoading={mounted(t,n){n.value&&createInstance(t,n)},updated(t,n){const r=t[INSTANCE_KEY];n.oldValue!==n.value&&(n.value&&!n.oldValue?createInstance(t,n):n.value&&n.oldValue?isObject$5(n.value)&&updateOptions(n.value,r.options):r==null||r.instance.close())},unmounted(t){var n;(n=t[INSTANCE_KEY])==null||n.instance.close(),t[INSTANCE_KEY]=null}};vLoading._context=null;const ElLoading={install(t){Loading._context=t._context,vLoading._context=t._context,t.directive("loading",vLoading),t.config.globalProperties.$loading=Loading},directive:vLoading,service:Loading},messageTypes=["primary","success","info","warning","error"],messageDefaults=mutable({customClass:"",dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:isClient?document.body:void 0}),messageProps=buildProps({customClass:{type:String,default:messageDefaults.customClass},dangerouslyUseHTMLString:{type:Boolean,default:messageDefaults.dangerouslyUseHTMLString},duration:{type:Number,default:messageDefaults.duration},icon:{type:iconPropType,default:messageDefaults.icon},id:{type:String,default:messageDefaults.id},message:{type:definePropType([String,Object,Function]),default:messageDefaults.message},onClose:{type:definePropType(Function),default:messageDefaults.onClose},showClose:{type:Boolean,default:messageDefaults.showClose},type:{type:String,values:messageTypes,default:messageDefaults.type},plain:{type:Boolean,default:messageDefaults.plain},offset:{type:Number,default:messageDefaults.offset},zIndex:{type:Number,default:messageDefaults.zIndex},grouping:{type:Boolean,default:messageDefaults.grouping},repeatNum:{type:Number,default:messageDefaults.repeatNum}}),messageEmits={destroy:()=>!0},instances$2=shallowReactive([]),getInstance=t=>{const n=instances$2.findIndex(y=>y.id===t),r=instances$2[n];let g;return n>0&&(g=instances$2[n-1]),{current:r,prev:g}},getLastOffset=t=>{const{prev:n}=getInstance(t);return n?n.vm.exposed.bottom.value:0},getOffsetOrSpace=(t,n)=>instances$2.findIndex(g=>g.id===t)>0?16:n,__default__$1=defineComponent({name:"ElMessage"}),_sfc_main$e=defineComponent({...__default__$1,props:messageProps,emits:messageEmits,setup(t,{expose:n,emit:r}){const g=t,{Close:y}=TypeComponents,$=ref(!1),{ns:L,zIndex:V}=useGlobalComponentSettings("message"),{currentZIndex:z,nextZIndex:j}=V,re=ref(),ae=ref(!1),oe=ref(0);let ie;const le=computed(()=>g.type?g.type==="error"?"danger":g.type:"info"),ue=computed(()=>{const Ne=g.type;return{[L.bm("icon",Ne)]:Ne&&TypeComponentsMap[Ne]}}),de=computed(()=>g.icon||TypeComponentsMap[g.type]||""),he=computed(()=>getLastOffset(g.id)),pe=computed(()=>getOffsetOrSpace(g.id,g.offset)+he.value),_e=computed(()=>oe.value+pe.value),Ce=computed(()=>({top:`${pe.value}px`,zIndex:z.value}));function xe(){g.duration!==0&&({stop:ie}=useTimeoutFn(()=>{$e()},g.duration))}function Ie(){ie==null||ie()}function $e(){ae.value=!1,nextTick(()=>{var Ne;$.value||((Ne=g.onClose)==null||Ne.call(g),r("destroy"))})}function Oe({code:Ne}){Ne===EVENT_CODE.esc&&$e()}return onMounted(()=>{xe(),j(),ae.value=!0}),watch(()=>g.repeatNum,()=>{Ie(),xe()}),useEventListener(document,"keydown",Oe),useResizeObserver(re,()=>{oe.value=re.value.getBoundingClientRect().height}),n({visible:ae,bottom:_e,close:$e}),(Ne,Fe)=>(openBlock(),createBlock(Transition,{name:unref(L).b("fade"),onBeforeEnter:Ve=>$.value=!0,onBeforeLeave:Ne.onClose,onAfterLeave:Ve=>Ne.$emit("destroy"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:Ne.id,ref_key:"messageRef",ref:re,class:normalizeClass([unref(L).b(),{[unref(L).m(Ne.type)]:Ne.type},unref(L).is("closable",Ne.showClose),unref(L).is("plain",Ne.plain),Ne.customClass]),style:normalizeStyle$1(unref(Ce)),role:"alert",onMouseenter:Ie,onMouseleave:xe},[Ne.repeatNum>1?(openBlock(),createBlock(unref(ElBadge),{key:0,value:Ne.repeatNum,type:unref(le),class:normalizeClass(unref(L).e("badge"))},null,8,["value","type","class"])):createCommentVNode("v-if",!0),unref(de)?(openBlock(),createBlock(unref(ElIcon),{key:1,class:normalizeClass([unref(L).e("icon"),unref(ue)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(de))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),renderSlot(Ne.$slots,"default",{},()=>[Ne.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{class:normalizeClass(unref(L).e("content")),innerHTML:Ne.message},null,10,["innerHTML"])],2112)):(openBlock(),createElementBlock("p",{key:0,class:normalizeClass(unref(L).e("content"))},toDisplayString(Ne.message),3))]),Ne.showClose?(openBlock(),createBlock(unref(ElIcon),{key:2,class:normalizeClass(unref(L).e("closeBtn")),onClick:withModifiers($e,["stop"])},{default:withCtx(()=>[createVNode$1(unref(y))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],46,["id"]),[[vShow,ae.value]])]),_:3},8,["name","onBeforeEnter","onBeforeLeave","onAfterLeave"]))}});var MessageConstructor=_export_sfc$1(_sfc_main$e,[["__file","message.vue"]]);let seed$1=1;const normalizeOptions=t=>{const n=!t||isString$2(t)||isVNode(t)||isFunction$3(t)?{message:t}:t,r={...messageDefaults,...n};if(!r.appendTo)r.appendTo=document.body;else if(isString$2(r.appendTo)){let g=document.querySelector(r.appendTo);isElement$1(g)||(g=document.body),r.appendTo=g}return isBoolean(messageConfig.grouping)&&!r.grouping&&(r.grouping=messageConfig.grouping),isNumber$1(messageConfig.duration)&&r.duration===3e3&&(r.duration=messageConfig.duration),isNumber$1(messageConfig.offset)&&r.offset===16&&(r.offset=messageConfig.offset),isBoolean(messageConfig.showClose)&&!r.showClose&&(r.showClose=messageConfig.showClose),isBoolean(messageConfig.plain)&&!r.plain&&(r.plain=messageConfig.plain),r},closeMessage=t=>{const n=instances$2.indexOf(t);if(n===-1)return;instances$2.splice(n,1);const{handler:r}=t;r.close()},createMessage=({appendTo:t,...n},r)=>{const g=`message_${seed$1++}`,y=n.onClose,$=document.createElement("div"),L={...n,id:g,onClose:()=>{y==null||y(),closeMessage(re)},onDestroy:()=>{render$1(null,$)}},V=createVNode$1(MessageConstructor,L,isFunction$3(L.message)||isVNode(L.message)?{default:isFunction$3(L.message)?L.message:()=>L.message}:null);V.appContext=r||message._context,render$1(V,$),t.appendChild($.firstElementChild);const z=V.component,re={id:g,vnode:V,vm:z,handler:{close:()=>{z.exposed.close()}},props:V.component.props};return re},message=(t={},n)=>{if(!isClient)return{close:()=>{}};const r=normalizeOptions(t);if(r.grouping&&instances$2.length){const y=instances$2.find(({vnode:$})=>{var L;return((L=$.props)==null?void 0:L.message)===r.message});if(y)return y.props.repeatNum+=1,y.props.type=r.type,y.handler}if(isNumber$1(messageConfig.max)&&instances$2.length>=messageConfig.max)return{close:()=>{}};const g=createMessage(r,n);return instances$2.push(g),g.handler};messageTypes.forEach(t=>{message[t]=(n={},r)=>{const g=normalizeOptions(n);return message({...g,type:t},r)}});function closeAll$1(t){const n=[...instances$2];for(const r of n)(!t||t===r.props.type)&&r.handler.close()}message.closeAll=closeAll$1;message._context=null;const ElMessage=withInstallFunction(message,"$message"),FOCUSABLE_CHILDREN="_trap-focus-children",FOCUS_STACK=[],FOCUS_HANDLER=t=>{if(FOCUS_STACK.length===0)return;const n=FOCUS_STACK[FOCUS_STACK.length-1][FOCUSABLE_CHILDREN];if(n.length>0&&t.code===EVENT_CODE.tab){if(n.length===1){t.preventDefault(),document.activeElement!==n[0]&&n[0].focus();return}const r=t.shiftKey,g=t.target===n[0],y=t.target===n[n.length-1];g&&r&&(t.preventDefault(),n[n.length-1].focus()),y&&!r&&(t.preventDefault(),n[0].focus())}},TrapFocus={beforeMount(t){t[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(t),FOCUS_STACK.push(t),FOCUS_STACK.length<=1&&document.addEventListener("keydown",FOCUS_HANDLER)},updated(t){nextTick(()=>{t[FOCUSABLE_CHILDREN]=obtainAllFocusableElements$1(t)})},unmounted(){FOCUS_STACK.shift(),FOCUS_STACK.length===0&&document.removeEventListener("keydown",FOCUS_HANDLER)}},_sfc_main$d=defineComponent({name:"ElMessageBox",directives:{TrapFocus},components:{ElButton,ElFocusTrap,ElInput,ElOverlay,ElIcon,...TypeComponents},inheritAttrs:!1,props:{buttonSize:{type:String,validator:isValidComponentSize},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:n}){const{locale:r,zIndex:g,ns:y,size:$}=useGlobalComponentSettings("message-box",computed(()=>t.buttonSize)),{t:L}=r,{nextZIndex:V}=g,z=ref(!1),j=reactive({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",closeIcon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:"",inputValidator:void 0,inputErrorMessage:"",message:"",modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonLoadingIcon:markRaw(loading_default),cancelButtonLoadingIcon:markRaw(loading_default),confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:V()}),re=computed(()=>{const qe=j.type;return{[y.bm("icon",qe)]:qe&&TypeComponentsMap[qe]}}),ae=useId(),oe=useId(),ie=computed(()=>{const qe=j.type;return j.icon||qe&&TypeComponentsMap[qe]||""}),le=computed(()=>!!j.message),ue=ref(),de=ref(),he=ref(),pe=ref(),_e=ref(),Ce=computed(()=>j.confirmButtonClass);watch(()=>j.inputValue,async qe=>{await nextTick(),t.boxType==="prompt"&&qe&&ze()},{immediate:!0}),watch(()=>z.value,qe=>{var Lt,Pt;qe&&(t.boxType!=="prompt"&&(j.autofocus?he.value=(Pt=(Lt=_e.value)==null?void 0:Lt.$el)!=null?Pt:ue.value:he.value=ue.value),j.zIndex=V()),t.boxType==="prompt"&&(qe?nextTick().then(()=>{var At;pe.value&&pe.value.$el&&(j.autofocus?he.value=(At=Et())!=null?At:ue.value:he.value=ue.value)}):(j.editorErrorMessage="",j.validateError=!1))});const xe=computed(()=>t.draggable),Ie=computed(()=>t.overflow);useDraggable(ue,de,xe,Ie),onMounted(async()=>{await nextTick(),t.closeOnHashChange&&window.addEventListener("hashchange",$e)}),onBeforeUnmount(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",$e)});function $e(){z.value&&(z.value=!1,nextTick(()=>{j.action&&n("action",j.action)}))}const Oe=()=>{t.closeOnClickModal&&Ve(j.distinguishCancelAndClose?"close":"cancel")},Ne=useSameTarget(Oe),Fe=qe=>{if(j.inputType!=="textarea")return qe.preventDefault(),Ve("confirm")},Ve=qe=>{var Lt;t.boxType==="prompt"&&qe==="confirm"&&!ze()||(j.action=qe,j.beforeClose?(Lt=j.beforeClose)==null||Lt.call(j,qe,j,$e):$e())},ze=()=>{if(t.boxType==="prompt"){const qe=j.inputPattern;if(qe&&!qe.test(j.inputValue||""))return j.editorErrorMessage=j.inputErrorMessage||L("el.messagebox.error"),j.validateError=!0,!1;const Lt=j.inputValidator;if(isFunction$3(Lt)){const Pt=Lt(j.inputValue);if(Pt===!1)return j.editorErrorMessage=j.inputErrorMessage||L("el.messagebox.error"),j.validateError=!0,!1;if(isString$2(Pt))return j.editorErrorMessage=Pt,j.validateError=!0,!1}}return j.editorErrorMessage="",j.validateError=!1,!0},Et=()=>{var qe,Lt;const Pt=(qe=pe.value)==null?void 0:qe.$refs;return(Lt=Pt==null?void 0:Pt.input)!=null?Lt:Pt==null?void 0:Pt.textarea},Dt=()=>{Ve("close")},Ue=()=>{t.closeOnPressEscape&&Dt()};return t.lockScroll&&useLockscreen(z),{...toRefs(j),ns:y,overlayEvent:Ne,visible:z,hasMessage:le,typeClass:re,contentId:ae,inputId:oe,btnSize:$,iconComponent:ie,confirmButtonClasses:Ce,rootRef:ue,focusStartRef:he,headerRef:de,inputRef:pe,confirmRef:_e,doClose:$e,handleClose:Dt,onCloseRequested:Ue,handleWrapperClick:Oe,handleInputEnter:Fe,handleAction:Ve,t:L}}});function _sfc_render$6(t,n,r,g,y,$){const L=resolveComponent("el-icon"),V=resolveComponent("el-input"),z=resolveComponent("el-button"),j=resolveComponent("el-focus-trap"),re=resolveComponent("el-overlay");return openBlock(),createBlock(Transition,{name:"fade-in-linear",onAfterLeave:ae=>t.$emit("vanish"),persisted:""},{default:withCtx(()=>[withDirectives(createVNode$1(re,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:withCtx(()=>[createBaseVNode("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:normalizeClass(`${t.ns.namespace.value}-overlay-message-box`),onClick:t.overlayEvent.onClick,onMousedown:t.overlayEvent.onMousedown,onMouseup:t.overlayEvent.onMouseup},[createVNode$1(j,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:withCtx(()=>[createBaseVNode("div",{ref:"rootRef",class:normalizeClass([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:normalizeStyle$1(t.customStyle),tabindex:"-1",onClick:withModifiers(()=>{},["stop"])},[t.title!==null&&t.title!==void 0?(openBlock(),createElementBlock("div",{key:0,ref:"headerRef",class:normalizeClass([t.ns.e("header"),{"show-close":t.showClose}])},[createBaseVNode("div",{class:normalizeClass(t.ns.e("title"))},[t.iconComponent&&t.center?(openBlock(),createBlock(L,{key:0,class:normalizeClass([t.ns.e("status"),t.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("span",null,toDisplayString(t.title),1)],2),t.showClose?(openBlock(),createElementBlock("button",{key:0,type:"button",class:normalizeClass(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:ae=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),onKeydown:withKeys(withModifiers(ae=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"])},[createVNode$1(L,{class:normalizeClass(t.ns.e("close"))},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.closeIcon||"close")))]),_:1},8,["class"])],42,["aria-label","onClick","onKeydown"])):createCommentVNode("v-if",!0)],2)):createCommentVNode("v-if",!0),createBaseVNode("div",{id:t.contentId,class:normalizeClass(t.ns.e("content"))},[createBaseVNode("div",{class:normalizeClass(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(openBlock(),createBlock(L,{key:0,class:normalizeClass([t.ns.e("status"),t.typeClass])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(t.iconComponent)))]),_:1},8,["class"])):createCommentVNode("v-if",!0),t.hasMessage?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(t.ns.e("message"))},[renderSlot(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(openBlock(),createBlock(resolveDynamicComponent(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(openBlock(),createBlock(resolveDynamicComponent(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:withCtx(()=>[createTextVNode(toDisplayString(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):createCommentVNode("v-if",!0)],2),withDirectives(createBaseVNode("div",{class:normalizeClass(t.ns.e("input"))},[createVNode$1(V,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":ae=>t.inputValue=ae,type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:normalizeClass({invalid:t.validateError}),onKeydown:withKeys(t.handleInputEnter,["enter"])},null,8,["id","modelValue","onUpdate:modelValue","type","placeholder","aria-invalid","class","onKeydown"]),createBaseVNode("div",{class:normalizeClass(t.ns.e("errormsg")),style:normalizeStyle$1({visibility:t.editorErrorMessage?"visible":"hidden"})},toDisplayString(t.editorErrorMessage),7)],2),[[vShow,t.showInput]])],10,["id"]),createBaseVNode("div",{class:normalizeClass(t.ns.e("btns"))},[t.showCancelButton?(openBlock(),createBlock(z,{key:0,loading:t.cancelButtonLoading,"loading-icon":t.cancelButtonLoadingIcon,class:normalizeClass([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:ae=>t.handleAction("cancel"),onKeydown:withKeys(withModifiers(ae=>t.handleAction("cancel"),["prevent"]),["enter"])},{default:withCtx(()=>[createTextVNode(toDisplayString(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","loading-icon","class","round","size","onClick","onKeydown"])):createCommentVNode("v-if",!0),withDirectives(createVNode$1(z,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,"loading-icon":t.confirmButtonLoadingIcon,class:normalizeClass([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:ae=>t.handleAction("confirm"),onKeydown:withKeys(withModifiers(ae=>t.handleAction("confirm"),["prevent"]),["enter"])},{default:withCtx(()=>[createTextVNode(toDisplayString(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","loading-icon","class","round","disabled","size","onClick","onKeydown"]),[[vShow,t.showConfirmButton]])],2)],14,["onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,["aria-label","aria-describedby","onClick","onMousedown","onMouseup"])]),_:3},8,["z-index","overlay-class","mask"]),[[vShow,t.visible]])]),_:3},8,["onAfterLeave"])}var MessageBoxConstructor=_export_sfc$1(_sfc_main$d,[["render",_sfc_render$6],["__file","index.vue"]]);const messageInstance=new Map,getAppendToElement=t=>{let n=document.body;return t.appendTo&&(isString$2(t.appendTo)&&(n=document.querySelector(t.appendTo)),isElement$1(t.appendTo)&&(n=t.appendTo),isElement$1(n)||(n=document.body)),n},initInstance=(t,n,r=null)=>{const g=createVNode$1(MessageBoxConstructor,t,isFunction$3(t.message)||isVNode(t.message)?{default:isFunction$3(t.message)?t.message:()=>t.message}:null);return g.appContext=r,render$1(g,n),getAppendToElement(t).appendChild(n.firstElementChild),g.component},genContainer=()=>document.createElement("div"),showMessage=(t,n)=>{const r=genContainer();t.onVanish=()=>{render$1(null,r),messageInstance.delete(y)},t.onAction=$=>{const L=messageInstance.get(y);let V;t.showInput?V={value:y.inputValue,action:$}:V=$,t.callback?t.callback(V,g.proxy):$==="cancel"||$==="close"?t.distinguishCancelAndClose&&$!=="cancel"?L.reject("close"):L.reject("cancel"):L.resolve(V)};const g=initInstance(t,r,n),y=g.proxy;for(const $ in t)hasOwn$1(t,$)&&!hasOwn$1(y.$props,$)&&($==="closeIcon"&&isObject$5(t[$])?y[$]=markRaw(t[$]):y[$]=t[$]);return y.visible=!0,y};function MessageBox(t,n=null){if(!isClient)return Promise.reject();let r;return isString$2(t)||isVNode(t)?t={message:t}:r=t.callback,new Promise((g,y)=>{const $=showMessage(t,n??MessageBox._context);messageInstance.set($,{options:t,callback:r,resolve:g,reject:y})})}const MESSAGE_BOX_VARIANTS=["alert","confirm","prompt"],MESSAGE_BOX_DEFAULT_OPTS={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};MESSAGE_BOX_VARIANTS.forEach(t=>{MessageBox[t]=messageBoxFactory(t)});function messageBoxFactory(t){return(n,r,g,y)=>{let $="";return isObject$5(r)?(g=r,$=""):isUndefined(r)?$="":$=r,MessageBox(Object.assign({title:$,message:n,type:"",...MESSAGE_BOX_DEFAULT_OPTS[t]},g,{boxType:t}),y)}}MessageBox.close=()=>{messageInstance.forEach((t,n)=>{n.doClose()}),messageInstance.clear()};MessageBox._context=null;const _MessageBox=MessageBox;_MessageBox.install=t=>{_MessageBox._context=t._context,t.config.globalProperties.$msgbox=_MessageBox,t.config.globalProperties.$messageBox=_MessageBox,t.config.globalProperties.$alert=_MessageBox.alert,t.config.globalProperties.$confirm=_MessageBox.confirm,t.config.globalProperties.$prompt=_MessageBox.prompt};const ElMessageBox=_MessageBox,notificationTypes=["primary","success","info","warning","error"],notificationProps=buildProps({customClass:{type:String,default:""},dangerouslyUseHTMLString:Boolean,duration:{type:Number,default:4500},icon:{type:iconPropType},id:{type:String,default:""},message:{type:definePropType([String,Object,Function]),default:""},offset:{type:Number,default:0},onClick:{type:definePropType(Function),default:()=>{}},onClose:{type:definePropType(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...notificationTypes,""],default:""},zIndex:Number,closeIcon:{type:iconPropType,default:close_default}}),notificationEmits={destroy:()=>!0},__default__=defineComponent({name:"ElNotification"}),_sfc_main$c=defineComponent({...__default__,props:notificationProps,emits:notificationEmits,setup(t,{expose:n}){const r=t,{ns:g,zIndex:y}=useGlobalComponentSettings("notification"),{nextZIndex:$,currentZIndex:L}=y,V=ref(!1);let z;const j=computed(()=>{const pe=r.type;return pe&&TypeComponentsMap[r.type]?g.m(pe):""}),re=computed(()=>r.type&&TypeComponentsMap[r.type]||r.icon),ae=computed(()=>r.position.endsWith("right")?"right":"left"),oe=computed(()=>r.position.startsWith("top")?"top":"bottom"),ie=computed(()=>{var pe;return{[oe.value]:`${r.offset}px`,zIndex:(pe=r.zIndex)!=null?pe:L.value}});function le(){r.duration>0&&({stop:z}=useTimeoutFn(()=>{V.value&&de()},r.duration))}function ue(){z==null||z()}function de(){V.value=!1}function he({code:pe}){pe===EVENT_CODE.delete||pe===EVENT_CODE.backspace?ue():pe===EVENT_CODE.esc?V.value&&de():le()}return onMounted(()=>{le(),$(),V.value=!0}),useEventListener(document,"keydown",he),n({visible:V,close:de}),(pe,_e)=>(openBlock(),createBlock(Transition,{name:unref(g).b("fade"),onBeforeLeave:pe.onClose,onAfterLeave:Ce=>pe.$emit("destroy"),persisted:""},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{id:pe.id,class:normalizeClass([unref(g).b(),pe.customClass,unref(ae)]),style:normalizeStyle$1(unref(ie)),role:"alert",onMouseenter:ue,onMouseleave:le,onClick:pe.onClick},[unref(re)?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass([unref(g).e("icon"),unref(j)])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(re))))]),_:1},8,["class"])):createCommentVNode("v-if",!0),createBaseVNode("div",{class:normalizeClass(unref(g).e("group"))},[createBaseVNode("h2",{class:normalizeClass(unref(g).e("title")),textContent:toDisplayString(pe.title)},null,10,["textContent"]),withDirectives(createBaseVNode("div",{class:normalizeClass(unref(g).e("content")),style:normalizeStyle$1(pe.title?void 0:{margin:0})},[renderSlot(pe.$slots,"default",{},()=>[pe.dangerouslyUseHTMLString?(openBlock(),createElementBlock(Fragment,{key:1},[createCommentVNode(" Caution here, message could've been compromised, never use user's input as message "),createBaseVNode("p",{innerHTML:pe.message},null,8,["innerHTML"])],2112)):(openBlock(),createElementBlock("p",{key:0},toDisplayString(pe.message),1))])],6),[[vShow,pe.message]]),pe.showClose?(openBlock(),createBlock(unref(ElIcon),{key:0,class:normalizeClass(unref(g).e("closeBtn")),onClick:withModifiers(de,["stop"])},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(pe.closeIcon)))]),_:1},8,["class","onClick"])):createCommentVNode("v-if",!0)],2)],46,["id","onClick"]),[[vShow,V.value]])]),_:3},8,["name","onBeforeLeave","onAfterLeave"]))}});var NotificationConstructor=_export_sfc$1(_sfc_main$c,[["__file","notification.vue"]]);const notifications={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},GAP_SIZE=16;let seed=1;const notify=function(t={},n){if(!isClient)return{close:()=>{}};(isString$2(t)||isVNode(t))&&(t={message:t});const r=t.position||"top-right";let g=t.offset||0;notifications[r].forEach(({vm:re})=>{var ae;g+=(((ae=re.el)==null?void 0:ae.offsetHeight)||0)+GAP_SIZE}),g+=GAP_SIZE;const y=`notification_${seed++}`,$=t.onClose,L={...t,offset:g,id:y,onClose:()=>{close(y,r,$)}};let V=document.body;isElement$1(t.appendTo)?V=t.appendTo:isString$2(t.appendTo)&&(V=document.querySelector(t.appendTo)),isElement$1(V)||(V=document.body);const z=document.createElement("div"),j=createVNode$1(NotificationConstructor,L,isFunction$3(L.message)?L.message:isVNode(L.message)?()=>L.message:null);return j.appContext=isUndefined(n)?notify._context:n,j.props.onDestroy=()=>{render$1(null,z)},render$1(j,z),notifications[r].push({vm:j}),V.appendChild(z.firstElementChild),{close:()=>{j.component.exposed.visible.value=!1}}};notificationTypes.forEach(t=>{notify[t]=(n={},r)=>((isString$2(n)||isVNode(n))&&(n={message:n}),notify({...n,type:t},r))});function close(t,n,r){const g=notifications[n],y=g.findIndex(({vm:j})=>{var re;return((re=j.component)==null?void 0:re.props.id)===t});if(y===-1)return;const{vm:$}=g[y];if(!$)return;r==null||r($);const L=$.el.offsetHeight,V=n.split("-")[0];g.splice(y,1);const z=g.length;if(!(z<1))for(let j=y;j<z;j++){const{el:re,component:ae}=g[j].vm,oe=Number.parseInt(re.style[V],10)-L-GAP_SIZE;ae.props.offset=oe}}function closeAll(){for(const t of Object.values(notifications))t.forEach(({vm:n})=>{n.component.exposed.visible.value=!1})}notify.closeAll=closeAll;notify._context=null;const ElNotification=withInstallFunction(notify,"$notify");var Plugins=[ElInfiniteScroll,ElLoading,ElMessage,ElMessageBox,ElNotification,ElPopoverDirective],installer=makeInstaller([...Components,...Plugins]);const _export_sfc=(t,n)=>{const r=t.__vccOpts||t;for(const[g,y]of n)r[g]=y;return r},_hoisted_1$6={class:"app-wrapper"},_hoisted_2$2={class:"nav-bar"},_hoisted_3$1={class:"center-content nav-center"},_hoisted_4={class:"main-content"},_hoisted_5={class:"center-content"},_sfc_main$b={__name:"App",setup(t){const n=[{path:"/",label:"Home"},{path:"/design",label:"Design"},{path:"/maps",label:"Maps"},{path:"/distribution",label:"Distribution"},{path:"/contact",label:"Contact"}];return(r,g)=>{const y=resolveComponent("router-link"),$=resolveComponent("router-view");return openBlock(),createElementBlock("div",_hoisted_1$6,[g[0]||(g[0]=createBaseVNode("div",{class:"header"},[createBaseVNode("div",{class:"center-content"},[createBaseVNode("div",{class:"title-block"},[createBaseVNode("h1",null,"China Preference and Personality Survey (CPPS)"),createBaseVNode("p",null,"A Nationwide Study of Economic Preferences and Personality Traits in Mainland China")])])],-1)),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$1,[(openBlock(),createElementBlock(Fragment,null,renderList(n,L=>createVNode$1(y,{key:L.path,to:L.path,class:"nav-item","active-class":"active-link"},{default:withCtx(()=>[createTextVNode(toDisplayString(L.label),1)]),_:2},1032,["to"])),64))])]),createBaseVNode("div",_hoisted_4,[createBaseVNode("div",_hoisted_5,[createVNode$1($)])]),g[1]||(g[1]=createBaseVNode("div",{class:"footer"},[createBaseVNode("div",{class:"center-content footer-inner"},[createBaseVNode("div",{class:"footer-item"},[createBaseVNode("span",null," 2025 School of Business and Management, Shanghai International Studies University")])])],-1))])}}},App=_export_sfc(_sfc_main$b,[["__scopeId","data-v-b0ff77d6"]]);/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const isBrowser=typeof document<"u";function isRouteComponent(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function isESModule(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&isRouteComponent(t.default)}const assign=Object.assign;function applyToParams(t,n){const r={};for(const g in n){const y=n[g];r[g]=isArray$2(y)?y.map(t):t(y)}return r}const noop$1=()=>{},isArray$2=Array.isArray,HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(t){return encodeURI(""+t).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(t){return commonEncode(t).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(t){return commonEncode(t).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(t){return encodeQueryValue(t).replace(EQUAL_RE,"%3D")}function encodePath(t){return commonEncode(t).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(t){return t==null?"":encodePath(t).replace(SLASH_RE,"%2F")}function decode$1(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=t=>t.replace(TRAILING_SLASH_RE,"");function parseURL(t,n,r="/"){let g,y={},$="",L="";const V=n.indexOf("#");let z=n.indexOf("?");return V<z&&V>=0&&(z=-1),z>-1&&(g=n.slice(0,z),$=n.slice(z+1,V>-1?V:n.length),y=t($)),V>-1&&(g=g||n.slice(0,V),L=n.slice(V,n.length)),g=resolveRelativePath(g??n,r),{fullPath:g+($&&"?")+$+L,path:g,query:y,hash:decode$1(L)}}function stringifyURL(t,n){const r=n.query?t(n.query):"";return n.path+(r&&"?")+r+(n.hash||"")}function stripBase(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function isSameRouteLocation(t,n,r){const g=n.matched.length-1,y=r.matched.length-1;return g>-1&&g===y&&isSameRouteRecord(n.matched[g],r.matched[y])&&isSameRouteLocationParams(n.params,r.params)&&t(n.query)===t(r.query)&&n.hash===r.hash}function isSameRouteRecord(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function isSameRouteLocationParams(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!isSameRouteLocationParamsValue(t[r],n[r]))return!1;return!0}function isSameRouteLocationParamsValue(t,n){return isArray$2(t)?isEquivalentArray(t,n):isArray$2(n)?isEquivalentArray(n,t):t===n}function isEquivalentArray(t,n){return isArray$2(n)?t.length===n.length&&t.every((r,g)=>r===n[g]):t.length===1&&t[0]===n}function resolveRelativePath(t,n){if(t.startsWith("/"))return t;if(!t)return n;const r=n.split("/"),g=t.split("/"),y=g[g.length-1];(y===".."||y===".")&&g.push("");let $=r.length-1,L,V;for(L=0;L<g.length;L++)if(V=g[L],V!==".")if(V==="..")$>1&&$--;else break;return r.slice(0,$).join("/")+"/"+g.slice(L).join("/")}const START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var NavigationType;(function(t){t.pop="pop",t.push="push"})(NavigationType||(NavigationType={}));var NavigationDirection;(function(t){t.back="back",t.forward="forward",t.unknown=""})(NavigationDirection||(NavigationDirection={}));function normalizeBase(t){if(!t)if(isBrowser){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),removeTrailingSlash(t)}const BEFORE_HASH_RE=/^[^#]+#/;function createHref(t,n){return t.replace(BEFORE_HASH_RE,"#")+n}function getElementPosition(t,n){const r=document.documentElement.getBoundingClientRect(),g=t.getBoundingClientRect();return{behavior:n.behavior,left:g.left-r.left-(n.left||0),top:g.top-r.top-(n.top||0)}}const computeScrollPosition=()=>({left:window.scrollX,top:window.scrollY});function scrollToPosition(t){let n;if("el"in t){const r=t.el,g=typeof r=="string"&&r.startsWith("#"),y=typeof r=="string"?g?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!y)return;n=getElementPosition(y,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function getScrollKey(t,n){return(history.state?history.state.position-n:-1)+t}const scrollPositions=new Map;function saveScrollPosition(t,n){scrollPositions.set(t,n)}function getSavedScrollPosition(t){const n=scrollPositions.get(t);return scrollPositions.delete(t),n}let createBaseLocation=()=>location.protocol+"//"+location.host;function createCurrentLocation(t,n){const{pathname:r,search:g,hash:y}=n,$=t.indexOf("#");if($>-1){let V=y.includes(t.slice($))?t.slice($).length:1,z=y.slice(V);return z[0]!=="/"&&(z="/"+z),stripBase(z,"")}return stripBase(r,t)+g+y}function useHistoryListeners(t,n,r,g){let y=[],$=[],L=null;const V=({state:oe})=>{const ie=createCurrentLocation(t,location),le=r.value,ue=n.value;let de=0;if(oe){if(r.value=ie,n.value=oe,L&&L===le){L=null;return}de=ue?oe.position-ue.position:0}else g(ie);y.forEach(he=>{he(r.value,le,{delta:de,type:NavigationType.pop,direction:de?de>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})})};function z(){L=r.value}function j(oe){y.push(oe);const ie=()=>{const le=y.indexOf(oe);le>-1&&y.splice(le,1)};return $.push(ie),ie}function re(){const{history:oe}=window;oe.state&&oe.replaceState(assign({},oe.state,{scroll:computeScrollPosition()}),"")}function ae(){for(const oe of $)oe();$=[],window.removeEventListener("popstate",V),window.removeEventListener("beforeunload",re)}return window.addEventListener("popstate",V),window.addEventListener("beforeunload",re,{passive:!0}),{pauseListeners:z,listen:j,destroy:ae}}function buildState(t,n,r,g=!1,y=!1){return{back:t,current:n,forward:r,replaced:g,position:window.history.length,scroll:y?computeScrollPosition():null}}function useHistoryStateNavigation(t){const{history:n,location:r}=window,g={value:createCurrentLocation(t,r)},y={value:n.state};y.value||$(g.value,{back:null,current:g.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function $(z,j,re){const ae=t.indexOf("#"),oe=ae>-1?(r.host&&document.querySelector("base")?t:t.slice(ae))+z:createBaseLocation()+t+z;try{n[re?"replaceState":"pushState"](j,"",oe),y.value=j}catch(ie){console.error(ie),r[re?"replace":"assign"](oe)}}function L(z,j){const re=assign({},n.state,buildState(y.value.back,z,y.value.forward,!0),j,{position:y.value.position});$(z,re,!0),g.value=z}function V(z,j){const re=assign({},y.value,n.state,{forward:z,scroll:computeScrollPosition()});$(re.current,re,!0);const ae=assign({},buildState(g.value,z,null),{position:re.position+1},j);$(z,ae,!1),g.value=z}return{location:g,state:y,push:V,replace:L}}function createWebHistory(t){t=normalizeBase(t);const n=useHistoryStateNavigation(t),r=useHistoryListeners(t,n.state,n.location,n.replace);function g($,L=!0){L||r.pauseListeners(),history.go($)}const y=assign({location:"",base:t,go:g,createHref:createHref.bind(null,t)},n,r);return Object.defineProperty(y,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(y,"state",{enumerable:!0,get:()=>n.state.value}),y}function isRouteLocation(t){return typeof t=="string"||t&&typeof t=="object"}function isRouteName(t){return typeof t=="string"||typeof t=="symbol"}const NavigationFailureSymbol=Symbol("");var NavigationFailureType;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(NavigationFailureType||(NavigationFailureType={}));function createRouterError(t,n){return assign(new Error,{type:t,[NavigationFailureSymbol]:!0},n)}function isNavigationFailure(t,n){return t instanceof Error&&NavigationFailureSymbol in t&&(n==null||!!(t.type&n))}const BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(t,n){const r=assign({},BASE_PATH_PARSER_OPTIONS,n),g=[];let y=r.start?"^":"";const $=[];for(const j of t){const re=j.length?[]:[90];r.strict&&!j.length&&(y+="/");for(let ae=0;ae<j.length;ae++){const oe=j[ae];let ie=40+(r.sensitive?.25:0);if(oe.type===0)ae||(y+="/"),y+=oe.value.replace(REGEX_CHARS_RE,"\\$&"),ie+=40;else if(oe.type===1){const{value:le,repeatable:ue,optional:de,regexp:he}=oe;$.push({name:le,repeatable:ue,optional:de});const pe=he||BASE_PARAM_PATTERN;if(pe!==BASE_PARAM_PATTERN){ie+=10;try{new RegExp(`(${pe})`)}catch(Ce){throw new Error(`Invalid custom RegExp for param "${le}" (${pe}): `+Ce.message)}}let _e=ue?`((?:${pe})(?:/(?:${pe}))*)`:`(${pe})`;ae||(_e=de&&j.length<2?`(?:/${_e})`:"/"+_e),de&&(_e+="?"),y+=_e,ie+=20,de&&(ie+=-8),ue&&(ie+=-20),pe===".*"&&(ie+=-50)}re.push(ie)}g.push(re)}if(r.strict&&r.end){const j=g.length-1;g[j][g[j].length-1]+=.7000000000000001}r.strict||(y+="/?"),r.end?y+="$":r.strict&&!y.endsWith("/")&&(y+="(?:/|$)");const L=new RegExp(y,r.sensitive?"":"i");function V(j){const re=j.match(L),ae={};if(!re)return null;for(let oe=1;oe<re.length;oe++){const ie=re[oe]||"",le=$[oe-1];ae[le.name]=ie&&le.repeatable?ie.split("/"):ie}return ae}function z(j){let re="",ae=!1;for(const oe of t){(!ae||!re.endsWith("/"))&&(re+="/"),ae=!1;for(const ie of oe)if(ie.type===0)re+=ie.value;else if(ie.type===1){const{value:le,repeatable:ue,optional:de}=ie,he=le in j?j[le]:"";if(isArray$2(he)&&!ue)throw new Error(`Provided param "${le}" is an array but it is not repeatable (* or + modifiers)`);const pe=isArray$2(he)?he.join("/"):he;if(!pe)if(de)oe.length<2&&(re.endsWith("/")?re=re.slice(0,-1):ae=!0);else throw new Error(`Missing required param "${le}"`);re+=pe}}return re||"/"}return{re:L,score:g,keys:$,parse:V,stringify:z}}function compareScoreArray(t,n){let r=0;for(;r<t.length&&r<n.length;){const g=n[r]-t[r];if(g)return g;r++}return t.length<n.length?t.length===1&&t[0]===80?-1:1:t.length>n.length?n.length===1&&n[0]===80?1:-1:0}function comparePathParserScore(t,n){let r=0;const g=t.score,y=n.score;for(;r<g.length&&r<y.length;){const $=compareScoreArray(g[r],y[r]);if($)return $;r++}if(Math.abs(y.length-g.length)===1){if(isLastScoreNegative(g))return 1;if(isLastScoreNegative(y))return-1}return y.length-g.length}function isLastScoreNegative(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(t){if(!t)return[[]];if(t==="/")return[[ROOT_TOKEN]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(ie){throw new Error(`ERR (${r})/"${j}": ${ie}`)}let r=0,g=r;const y=[];let $;function L(){$&&y.push($),$=[]}let V=0,z,j="",re="";function ae(){j&&(r===0?$.push({type:0,value:j}):r===1||r===2||r===3?($.length>1&&(z==="*"||z==="+")&&n(`A repeatable param (${j}) must be alone in its segment. eg: '/:ids+.`),$.push({type:1,value:j,regexp:re,repeatable:z==="*"||z==="+",optional:z==="*"||z==="?"})):n("Invalid state to consume buffer"),j="")}function oe(){j+=z}for(;V<t.length;){if(z=t[V++],z==="\\"&&r!==2){g=r,r=4;continue}switch(r){case 0:z==="/"?(j&&ae(),L()):z===":"?(ae(),r=1):oe();break;case 4:oe(),r=g;break;case 1:z==="("?r=2:VALID_PARAM_RE.test(z)?oe():(ae(),r=0,z!=="*"&&z!=="?"&&z!=="+"&&V--);break;case 2:z===")"?re[re.length-1]=="\\"?re=re.slice(0,-1)+z:r=3:re+=z;break;case 3:ae(),r=0,z!=="*"&&z!=="?"&&z!=="+"&&V--,re="";break;default:n("Unknown state");break}}return r===2&&n(`Unfinished custom RegExp for param "${j}"`),ae(),L(),y}function createRouteRecordMatcher(t,n,r){const g=tokensToParser(tokenizePath(t.path),r),y=assign(g,{record:t,parent:n,children:[],alias:[]});return n&&!y.record.aliasOf==!n.record.aliasOf&&n.children.push(y),y}function createRouterMatcher(t,n){const r=[],g=new Map;n=mergeOptions({strict:!1,end:!0,sensitive:!1},n);function y(ae){return g.get(ae)}function $(ae,oe,ie){const le=!ie,ue=normalizeRouteRecord(ae);ue.aliasOf=ie&&ie.record;const de=mergeOptions(n,ae),he=[ue];if("alias"in ae){const Ce=typeof ae.alias=="string"?[ae.alias]:ae.alias;for(const xe of Ce)he.push(normalizeRouteRecord(assign({},ue,{components:ie?ie.record.components:ue.components,path:xe,aliasOf:ie?ie.record:ue})))}let pe,_e;for(const Ce of he){const{path:xe}=Ce;if(oe&&xe[0]!=="/"){const Ie=oe.record.path,$e=Ie[Ie.length-1]==="/"?"":"/";Ce.path=oe.record.path+(xe&&$e+xe)}if(pe=createRouteRecordMatcher(Ce,oe,de),ie?ie.alias.push(pe):(_e=_e||pe,_e!==pe&&_e.alias.push(pe),le&&ae.name&&!isAliasRecord(pe)&&L(ae.name)),isMatchable(pe)&&z(pe),ue.children){const Ie=ue.children;for(let $e=0;$e<Ie.length;$e++)$(Ie[$e],pe,ie&&ie.children[$e])}ie=ie||pe}return _e?()=>{L(_e)}:noop$1}function L(ae){if(isRouteName(ae)){const oe=g.get(ae);oe&&(g.delete(ae),r.splice(r.indexOf(oe),1),oe.children.forEach(L),oe.alias.forEach(L))}else{const oe=r.indexOf(ae);oe>-1&&(r.splice(oe,1),ae.record.name&&g.delete(ae.record.name),ae.children.forEach(L),ae.alias.forEach(L))}}function V(){return r}function z(ae){const oe=findInsertionIndex(ae,r);r.splice(oe,0,ae),ae.record.name&&!isAliasRecord(ae)&&g.set(ae.record.name,ae)}function j(ae,oe){let ie,le={},ue,de;if("name"in ae&&ae.name){if(ie=g.get(ae.name),!ie)throw createRouterError(1,{location:ae});de=ie.record.name,le=assign(paramsFromLocation(oe.params,ie.keys.filter(_e=>!_e.optional).concat(ie.parent?ie.parent.keys.filter(_e=>_e.optional):[]).map(_e=>_e.name)),ae.params&&paramsFromLocation(ae.params,ie.keys.map(_e=>_e.name))),ue=ie.stringify(le)}else if(ae.path!=null)ue=ae.path,ie=r.find(_e=>_e.re.test(ue)),ie&&(le=ie.parse(ue),de=ie.record.name);else{if(ie=oe.name?g.get(oe.name):r.find(_e=>_e.re.test(oe.path)),!ie)throw createRouterError(1,{location:ae,currentLocation:oe});de=ie.record.name,le=assign({},oe.params,ae.params),ue=ie.stringify(le)}const he=[];let pe=ie;for(;pe;)he.unshift(pe.record),pe=pe.parent;return{name:de,path:ue,params:le,matched:he,meta:mergeMetaFields(he)}}t.forEach(ae=>$(ae));function re(){r.length=0,g.clear()}return{addRoute:$,resolve:j,removeRoute:L,clearRoutes:re,getRoutes:V,getRecordMatcher:y}}function paramsFromLocation(t,n){const r={};for(const g of n)g in t&&(r[g]=t[g]);return r}function normalizeRouteRecord(t){const n={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:normalizeRecordProps(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function normalizeRecordProps(t){const n={},r=t.props||!1;if("component"in t)n.default=r;else for(const g in t.components)n[g]=typeof r=="object"?r[g]:r;return n}function isAliasRecord(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function mergeMetaFields(t){return t.reduce((n,r)=>assign(n,r.meta),{})}function mergeOptions(t,n){const r={};for(const g in t)r[g]=g in n?n[g]:t[g];return r}function findInsertionIndex(t,n){let r=0,g=n.length;for(;r!==g;){const $=r+g>>1;comparePathParserScore(t,n[$])<0?g=$:r=$+1}const y=getInsertionAncestor(t);return y&&(g=n.lastIndexOf(y,g-1)),g}function getInsertionAncestor(t){let n=t;for(;n=n.parent;)if(isMatchable(n)&&comparePathParserScore(t,n)===0)return n}function isMatchable({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function parseQuery(t){const n={};if(t===""||t==="?")return n;const g=(t[0]==="?"?t.slice(1):t).split("&");for(let y=0;y<g.length;++y){const $=g[y].replace(PLUS_RE," "),L=$.indexOf("="),V=decode$1(L<0?$:$.slice(0,L)),z=L<0?null:decode$1($.slice(L+1));if(V in n){let j=n[V];isArray$2(j)||(j=n[V]=[j]),j.push(z)}else n[V]=z}return n}function stringifyQuery(t){let n="";for(let r in t){const g=t[r];if(r=encodeQueryKey(r),g==null){g!==void 0&&(n+=(n.length?"&":"")+r);continue}(isArray$2(g)?g.map($=>$&&encodeQueryValue($)):[g&&encodeQueryValue(g)]).forEach($=>{$!==void 0&&(n+=(n.length?"&":"")+r,$!=null&&(n+="="+$))})}return n}function normalizeQuery(t){const n={};for(const r in t){const g=t[r];g!==void 0&&(n[r]=isArray$2(g)?g.map(y=>y==null?null:""+y):g==null?g:""+g)}return n}const matchedRouteKey=Symbol(""),viewDepthKey=Symbol(""),routerKey=Symbol(""),routeLocationKey=Symbol(""),routerViewLocationKey=Symbol("");function useCallbacks(){let t=[];function n(g){return t.push(g),()=>{const y=t.indexOf(g);y>-1&&t.splice(y,1)}}function r(){t=[]}return{add:n,list:()=>t.slice(),reset:r}}function guardToPromiseFn(t,n,r,g,y,$=L=>L()){const L=g&&(g.enterCallbacks[y]=g.enterCallbacks[y]||[]);return()=>new Promise((V,z)=>{const j=oe=>{oe===!1?z(createRouterError(4,{from:r,to:n})):oe instanceof Error?z(oe):isRouteLocation(oe)?z(createRouterError(2,{from:n,to:oe})):(L&&g.enterCallbacks[y]===L&&typeof oe=="function"&&L.push(oe),V())},re=$(()=>t.call(g&&g.instances[y],n,r,j));let ae=Promise.resolve(re);t.length<3&&(ae=ae.then(j)),ae.catch(oe=>z(oe))})}function extractComponentsGuards(t,n,r,g,y=$=>$()){const $=[];for(const L of t)for(const V in L.components){let z=L.components[V];if(!(n!=="beforeRouteEnter"&&!L.instances[V]))if(isRouteComponent(z)){const re=(z.__vccOpts||z)[n];re&&$.push(guardToPromiseFn(re,r,g,L,V,y))}else{let j=z();$.push(()=>j.then(re=>{if(!re)throw new Error(`Couldn't resolve component "${V}" at "${L.path}"`);const ae=isESModule(re)?re.default:re;L.mods[V]=re,L.components[V]=ae;const ie=(ae.__vccOpts||ae)[n];return ie&&guardToPromiseFn(ie,r,g,L,V,y)()}))}}return $}function useLink(t){const n=inject(routerKey),r=inject(routeLocationKey),g=computed(()=>{const z=unref(t.to);return n.resolve(z)}),y=computed(()=>{const{matched:z}=g.value,{length:j}=z,re=z[j-1],ae=r.matched;if(!re||!ae.length)return-1;const oe=ae.findIndex(isSameRouteRecord.bind(null,re));if(oe>-1)return oe;const ie=getOriginalPath(z[j-2]);return j>1&&getOriginalPath(re)===ie&&ae[ae.length-1].path!==ie?ae.findIndex(isSameRouteRecord.bind(null,z[j-2])):oe}),$=computed(()=>y.value>-1&&includesParams(r.params,g.value.params)),L=computed(()=>y.value>-1&&y.value===r.matched.length-1&&isSameRouteLocationParams(r.params,g.value.params));function V(z={}){if(guardEvent(z)){const j=n[unref(t.replace)?"replace":"push"](unref(t.to)).catch(noop$1);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>j),j}return Promise.resolve()}return{route:g,href:computed(()=>g.value.href),isActive:$,isExactActive:L,navigate:V}}function preferSingleVNode(t){return t.length===1?t[0]:t}const RouterLinkImpl=defineComponent({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink,setup(t,{slots:n}){const r=reactive(useLink(t)),{options:g}=inject(routerKey),y=computed(()=>({[getLinkClass(t.activeClass,g.linkActiveClass,"router-link-active")]:r.isActive,[getLinkClass(t.exactActiveClass,g.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const $=n.default&&preferSingleVNode(n.default(r));return t.custom?$:h$1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:y.value},$)}}}),RouterLink=RouterLinkImpl;function guardEvent(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function includesParams(t,n){for(const r in n){const g=n[r],y=t[r];if(typeof g=="string"){if(g!==y)return!1}else if(!isArray$2(y)||y.length!==g.length||g.some(($,L)=>$!==y[L]))return!1}return!0}function getOriginalPath(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const getLinkClass=(t,n,r)=>t??n??r,RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:r}){const g=inject(routerViewLocationKey),y=computed(()=>t.route||g.value),$=inject(viewDepthKey,0),L=computed(()=>{let j=unref($);const{matched:re}=y.value;let ae;for(;(ae=re[j])&&!ae.components;)j++;return j}),V=computed(()=>y.value.matched[L.value]);provide(viewDepthKey,computed(()=>L.value+1)),provide(matchedRouteKey,V),provide(routerViewLocationKey,y);const z=ref();return watch(()=>[z.value,V.value,t.name],([j,re,ae],[oe,ie,le])=>{re&&(re.instances[ae]=j,ie&&ie!==re&&j&&j===oe&&(re.leaveGuards.size||(re.leaveGuards=ie.leaveGuards),re.updateGuards.size||(re.updateGuards=ie.updateGuards))),j&&re&&(!ie||!isSameRouteRecord(re,ie)||!oe)&&(re.enterCallbacks[ae]||[]).forEach(ue=>ue(j))},{flush:"post"}),()=>{const j=y.value,re=t.name,ae=V.value,oe=ae&&ae.components[re];if(!oe)return normalizeSlot(r.default,{Component:oe,route:j});const ie=ae.props[re],le=ie?ie===!0?j.params:typeof ie=="function"?ie(j):ie:null,de=h$1(oe,assign({},le,n,{onVnodeUnmounted:he=>{he.component.isUnmounted&&(ae.instances[re]=null)},ref:z}));return normalizeSlot(r.default,{Component:de,route:j})||de}}});function normalizeSlot(t,n){if(!t)return null;const r=t(n);return r.length===1?r[0]:r}const RouterView=RouterViewImpl;function createRouter(t){const n=createRouterMatcher(t.routes,t),r=t.parseQuery||parseQuery,g=t.stringifyQuery||stringifyQuery,y=t.history,$=useCallbacks(),L=useCallbacks(),V=useCallbacks(),z=shallowRef(START_LOCATION_NORMALIZED);let j=START_LOCATION_NORMALIZED;isBrowser&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const re=applyToParams.bind(null,hn=>""+hn),ae=applyToParams.bind(null,encodeParam),oe=applyToParams.bind(null,decode$1);function ie(hn,Cn){let Tn,xn;return isRouteName(hn)?(Tn=n.getRecordMatcher(hn),xn=Cn):xn=hn,n.addRoute(xn,Tn)}function le(hn){const Cn=n.getRecordMatcher(hn);Cn&&n.removeRoute(Cn)}function ue(){return n.getRoutes().map(hn=>hn.record)}function de(hn){return!!n.getRecordMatcher(hn)}function he(hn,Cn){if(Cn=assign({},Cn||z.value),typeof hn=="string"){const Rn=parseURL(r,hn,Cn.path),Fn=n.resolve({path:Rn.path},Cn),Dn=y.createHref(Rn.fullPath);return assign(Rn,Fn,{params:oe(Fn.params),hash:decode$1(Rn.hash),redirectedFrom:void 0,href:Dn})}let Tn;if(hn.path!=null)Tn=assign({},hn,{path:parseURL(r,hn.path,Cn.path).path});else{const Rn=assign({},hn.params);for(const Fn in Rn)Rn[Fn]==null&&delete Rn[Fn];Tn=assign({},hn,{params:ae(Rn)}),Cn.params=ae(Cn.params)}const xn=n.resolve(Tn,Cn),Mn=hn.hash||"";xn.params=re(oe(xn.params));const bn=stringifyURL(g,assign({},hn,{hash:encodeHash(Mn),path:xn.path})),Pn=y.createHref(bn);return assign({fullPath:bn,hash:Mn,query:g===stringifyQuery?normalizeQuery(hn.query):hn.query||{}},xn,{redirectedFrom:void 0,href:Pn})}function pe(hn){return typeof hn=="string"?parseURL(r,hn,z.value.path):assign({},hn)}function _e(hn,Cn){if(j!==hn)return createRouterError(8,{from:Cn,to:hn})}function Ce(hn){return $e(hn)}function xe(hn){return Ce(assign(pe(hn),{replace:!0}))}function Ie(hn){const Cn=hn.matched[hn.matched.length-1];if(Cn&&Cn.redirect){const{redirect:Tn}=Cn;let xn=typeof Tn=="function"?Tn(hn):Tn;return typeof xn=="string"&&(xn=xn.includes("?")||xn.includes("#")?xn=pe(xn):{path:xn},xn.params={}),assign({query:hn.query,hash:hn.hash,params:xn.path!=null?{}:hn.params},xn)}}function $e(hn,Cn){const Tn=j=he(hn),xn=z.value,Mn=hn.state,bn=hn.force,Pn=hn.replace===!0,Rn=Ie(Tn);if(Rn)return $e(assign(pe(Rn),{state:typeof Rn=="object"?assign({},Mn,Rn.state):Mn,force:bn,replace:Pn}),Cn||Tn);const Fn=Tn;Fn.redirectedFrom=Cn;let Dn;return!bn&&isSameRouteLocation(g,xn,Tn)&&(Dn=createRouterError(16,{to:Fn,from:xn}),En(xn,xn,!0,!1)),(Dn?Promise.resolve(Dn):Fe(Fn,xn)).catch(Ln=>isNavigationFailure(Ln)?isNavigationFailure(Ln,2)?Ln:vn(Ln):Pt(Ln,Fn,xn)).then(Ln=>{if(Ln){if(isNavigationFailure(Ln,2))return $e(assign({replace:Pn},pe(Ln.to),{state:typeof Ln.to=="object"?assign({},Mn,Ln.to.state):Mn,force:bn}),Cn||Fn)}else Ln=ze(Fn,xn,!0,Pn,Mn);return Ve(Fn,xn,Ln),Ln})}function Oe(hn,Cn){const Tn=_e(hn,Cn);return Tn?Promise.reject(Tn):Promise.resolve()}function Ne(hn){const Cn=jt.values().next().value;return Cn&&typeof Cn.runWithContext=="function"?Cn.runWithContext(hn):hn()}function Fe(hn,Cn){let Tn;const[xn,Mn,bn]=extractChangingRecords(hn,Cn);Tn=extractComponentsGuards(xn.reverse(),"beforeRouteLeave",hn,Cn);for(const Rn of xn)Rn.leaveGuards.forEach(Fn=>{Tn.push(guardToPromiseFn(Fn,hn,Cn))});const Pn=Oe.bind(null,hn,Cn);return Tn.push(Pn),wn(Tn).then(()=>{Tn=[];for(const Rn of $.list())Tn.push(guardToPromiseFn(Rn,hn,Cn));return Tn.push(Pn),wn(Tn)}).then(()=>{Tn=extractComponentsGuards(Mn,"beforeRouteUpdate",hn,Cn);for(const Rn of Mn)Rn.updateGuards.forEach(Fn=>{Tn.push(guardToPromiseFn(Fn,hn,Cn))});return Tn.push(Pn),wn(Tn)}).then(()=>{Tn=[];for(const Rn of bn)if(Rn.beforeEnter)if(isArray$2(Rn.beforeEnter))for(const Fn of Rn.beforeEnter)Tn.push(guardToPromiseFn(Fn,hn,Cn));else Tn.push(guardToPromiseFn(Rn.beforeEnter,hn,Cn));return Tn.push(Pn),wn(Tn)}).then(()=>(hn.matched.forEach(Rn=>Rn.enterCallbacks={}),Tn=extractComponentsGuards(bn,"beforeRouteEnter",hn,Cn,Ne),Tn.push(Pn),wn(Tn))).then(()=>{Tn=[];for(const Rn of L.list())Tn.push(guardToPromiseFn(Rn,hn,Cn));return Tn.push(Pn),wn(Tn)}).catch(Rn=>isNavigationFailure(Rn,8)?Rn:Promise.reject(Rn))}function Ve(hn,Cn,Tn){V.list().forEach(xn=>Ne(()=>xn(hn,Cn,Tn)))}function ze(hn,Cn,Tn,xn,Mn){const bn=_e(hn,Cn);if(bn)return bn;const Pn=Cn===START_LOCATION_NORMALIZED,Rn=isBrowser?history.state:{};Tn&&(xn||Pn?y.replace(hn.fullPath,assign({scroll:Pn&&Rn&&Rn.scroll},Mn)):y.push(hn.fullPath,Mn)),z.value=hn,En(hn,Cn,Tn,Pn),vn()}let Et;function Dt(){Et||(Et=y.listen((hn,Cn,Tn)=>{if(!_n.listening)return;const xn=he(hn),Mn=Ie(xn);if(Mn){$e(assign(Mn,{replace:!0,force:!0}),xn).catch(noop$1);return}j=xn;const bn=z.value;isBrowser&&saveScrollPosition(getScrollKey(bn.fullPath,Tn.delta),computeScrollPosition()),Fe(xn,bn).catch(Pn=>isNavigationFailure(Pn,12)?Pn:isNavigationFailure(Pn,2)?($e(assign(pe(Pn.to),{force:!0}),xn).then(Rn=>{isNavigationFailure(Rn,20)&&!Tn.delta&&Tn.type===NavigationType.pop&&y.go(-1,!1)}).catch(noop$1),Promise.reject()):(Tn.delta&&y.go(-Tn.delta,!1),Pt(Pn,xn,bn))).then(Pn=>{Pn=Pn||ze(xn,bn,!1),Pn&&(Tn.delta&&!isNavigationFailure(Pn,8)?y.go(-Tn.delta,!1):Tn.type===NavigationType.pop&&isNavigationFailure(Pn,20)&&y.go(-1,!1)),Ve(xn,bn,Pn)}).catch(noop$1)}))}let Ue=useCallbacks(),qe=useCallbacks(),Lt;function Pt(hn,Cn,Tn){vn(hn);const xn=qe.list();return xn.length?xn.forEach(Mn=>Mn(hn,Cn,Tn)):console.error(hn),Promise.reject(hn)}function At(){return Lt&&z.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((hn,Cn)=>{Ue.add([hn,Cn])})}function vn(hn){return Lt||(Lt=!hn,Dt(),Ue.list().forEach(([Cn,Tn])=>hn?Tn(hn):Cn()),Ue.reset()),hn}function En(hn,Cn,Tn,xn){const{scrollBehavior:Mn}=t;if(!isBrowser||!Mn)return Promise.resolve();const bn=!Tn&&getSavedScrollPosition(getScrollKey(hn.fullPath,0))||(xn||!Tn)&&history.state&&history.state.scroll||null;return nextTick().then(()=>Mn(hn,Cn,bn)).then(Pn=>Pn&&scrollToPosition(Pn)).catch(Pn=>Pt(Pn,hn,Cn))}const Sn=hn=>y.go(hn);let kt;const jt=new Set,_n={currentRoute:z,listening:!0,addRoute:ie,removeRoute:le,clearRoutes:n.clearRoutes,hasRoute:de,getRoutes:ue,resolve:he,options:t,push:Ce,replace:xe,go:Sn,back:()=>Sn(-1),forward:()=>Sn(1),beforeEach:$.add,beforeResolve:L.add,afterEach:V.add,onError:qe.add,isReady:At,install(hn){const Cn=this;hn.component("RouterLink",RouterLink),hn.component("RouterView",RouterView),hn.config.globalProperties.$router=Cn,Object.defineProperty(hn.config.globalProperties,"$route",{enumerable:!0,get:()=>unref(z)}),isBrowser&&!kt&&z.value===START_LOCATION_NORMALIZED&&(kt=!0,Ce(y.location).catch(Mn=>{}));const Tn={};for(const Mn in START_LOCATION_NORMALIZED)Object.defineProperty(Tn,Mn,{get:()=>z.value[Mn],enumerable:!0});hn.provide(routerKey,Cn),hn.provide(routeLocationKey,shallowReactive(Tn)),hn.provide(routerViewLocationKey,z);const xn=hn.unmount;jt.add(hn),hn.unmount=function(){jt.delete(hn),jt.size<1&&(j=START_LOCATION_NORMALIZED,Et&&Et(),Et=null,z.value=START_LOCATION_NORMALIZED,kt=!1,Lt=!1),xn()}}};function wn(hn){return hn.reduce((Cn,Tn)=>Cn.then(()=>Ne(Tn)),Promise.resolve())}return _n}function extractChangingRecords(t,n){const r=[],g=[],y=[],$=Math.max(n.matched.length,t.matched.length);for(let L=0;L<$;L++){const V=n.matched[L];V&&(t.matched.find(j=>isSameRouteRecord(j,V))?g.push(V):r.push(V));const z=t.matched[L];z&&(n.matched.find(j=>isSameRouteRecord(j,z))||y.push(z))}return[r,g,y]}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var extendStatics=function(t,n){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,g){r.__proto__=g}||function(r,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(r[y]=g[y])},extendStatics(t,n)};function __extends(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");extendStatics(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}var Browser=function(){function t(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return t}(),Env=function(){function t(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return t}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:!env.hasGlobalWindow||"Deno"in window?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(t,n){var r=n.browser,g=t.match(/Firefox\/([\d.]+)/),y=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),$=t.match(/Edge?\/([\d.]+)/),L=/micromessenger/i.test(t);g&&(r.firefox=!0,r.version=g[1]),y&&(r.ie=!0,r.version=y[1]),$&&(r.edge=!0,r.version=$[1],r.newEdge=+$[1].split(".")[0]>18),L&&(r.weChat=!0),n.svgSupported=typeof SVGRect<"u",n.touchEventsSupported="ontouchstart"in window&&!r.ie&&!r.edge,n.pointerEventsSupported="onpointerdown"in window&&(r.edge||r.ie&&+r.version>=11),n.domSupported=typeof document<"u";var V=document.documentElement.style;n.transform3dSupported=(r.ie&&"transition"in V||r.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in V)&&!("OTransition"in V),n.transformSupported=n.transform3dSupported||r.ie&&+r.version>=9}var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(t){var n={};if(typeof JSON>"u")return n;for(var r=0;r<t.length;r++){var g=String.fromCharCode(r+32),y=(t.charCodeAt(r)-OFFSET)/SCALE;n[g]=y}return n}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var t,n;return function(r,g){if(!t){var y=platformApi.createCanvas();t=y&&y.getContext("2d")}if(t)return n!==g&&(n=t.font=g||DEFAULT_FONT),t.measureText(r);r=r||"",g=g||DEFAULT_FONT;var $=/((?:\d+)?\.?\d*)px/.exec(g),L=$&&+$[1]||DEFAULT_FONT_SIZE,V=0;if(g.indexOf("mono")>=0)V=L*r.length;else for(var z=0;z<r.length;z++){var j=DEFAULT_TEXT_WIDTH_MAP[r[z]];V+=j==null?L:j*L}return{width:V}}}(),loadImage:function(t,n,r){var g=new Image;return g.onload=n,g.onerror=r,g.src=t,g}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(t,n){return t["[object "+n+"]"]=!0,t},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(t,n){return t["[object "+n+"Array]"]=!0,t},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];typeof console<"u"&&console.error.apply(console,t)}function clone$4(t){if(t==null||typeof t!="object")return t;var n=t,r=objToString.call(t);if(r==="[object Array]"){if(!isPrimitive(t)){n=[];for(var g=0,y=t.length;g<y;g++)n[g]=clone$4(t[g])}}else if(TYPED_ARRAY[r]){if(!isPrimitive(t)){var $=t.constructor;if($.from)n=$.from(t);else{n=new $(t.length);for(var g=0,y=t.length;g<y;g++)n[g]=t[g]}}}else if(!BUILTIN_OBJECT[r]&&!isPrimitive(t)&&!isDom(t)){n={};for(var L in t)t.hasOwnProperty(L)&&L!==protoKey&&(n[L]=clone$4(t[L]))}return n}function merge(t,n,r){if(!isObject$3(n)||!isObject$3(t))return r?clone$4(n):t;for(var g in n)if(n.hasOwnProperty(g)&&g!==protoKey){var y=t[g],$=n[g];isObject$3($)&&isObject$3(y)&&!isArray$1($)&&!isArray$1(y)&&!isDom($)&&!isDom(y)&&!isBuiltInObject($)&&!isBuiltInObject(y)&&!isPrimitive($)&&!isPrimitive(y)?merge(y,$,r):(r||!(g in t))&&(t[g]=clone$4(n[g]))}return t}function mergeAll(t,n){for(var r=t[0],g=1,y=t.length;g<y;g++)r=merge(r,t[g],n);return r}function extend(t,n){if(Object.assign)Object.assign(t,n);else for(var r in n)n.hasOwnProperty(r)&&r!==protoKey&&(t[r]=n[r]);return t}function defaults(t,n,r){for(var g=keys(n),y=0,$=g.length;y<$;y++){var L=g[y];(r?n[L]!=null:t[L]==null)&&(t[L]=n[L])}return t}function indexOf(t,n){if(t){if(t.indexOf)return t.indexOf(n);for(var r=0,g=t.length;r<g;r++)if(t[r]===n)return r}return-1}function inherits(t,n){var r=t.prototype;function g(){}g.prototype=n.prototype,t.prototype=new g;for(var y in r)r.hasOwnProperty(y)&&(t.prototype[y]=r[y]);t.prototype.constructor=t,t.superClass=n}function mixin(t,n,r){if(t="prototype"in t?t.prototype:t,n="prototype"in n?n.prototype:n,Object.getOwnPropertyNames)for(var g=Object.getOwnPropertyNames(n),y=0;y<g.length;y++){var $=g[y];$!=="constructor"&&(r?n[$]!=null:t[$]==null)&&(t[$]=n[$])}else defaults(t,n,r)}function isArrayLike(t){return!t||typeof t=="string"?!1:typeof t.length=="number"}function each$f(t,n,r){if(t&&n)if(t.forEach&&t.forEach===nativeForEach)t.forEach(n,r);else if(t.length===+t.length)for(var g=0,y=t.length;g<y;g++)n.call(r,t[g],g,t);else for(var $ in t)t.hasOwnProperty($)&&n.call(r,t[$],$,t)}function map$1(t,n,r){if(!t)return[];if(!n)return slice(t);if(t.map&&t.map===nativeMap)return t.map(n,r);for(var g=[],y=0,$=t.length;y<$;y++)g.push(n.call(r,t[y],y,t));return g}function reduce(t,n,r,g){if(t&&n){for(var y=0,$=t.length;y<$;y++)r=n.call(g,r,t[y],y,t);return r}}function filter(t,n,r){if(!t)return[];if(!n)return slice(t);if(t.filter&&t.filter===nativeFilter)return t.filter(n,r);for(var g=[],y=0,$=t.length;y<$;y++)n.call(r,t[y],y,t)&&g.push(t[y]);return g}function find(t,n,r){if(t&&n){for(var g=0,y=t.length;g<y;g++)if(n.call(r,t[g],g,t))return t[g]}}function keys(t){if(!t)return[];if(Object.keys)return Object.keys(t);var n=[];for(var r in t)t.hasOwnProperty(r)&&n.push(r);return n}function bindPolyfill(t,n){for(var r=[],g=2;g<arguments.length;g++)r[g-2]=arguments[g];return function(){return t.apply(n,r.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return function(){return t.apply(this,n.concat(nativeSlice.call(arguments)))}}function isArray$1(t){return Array.isArray?Array.isArray(t):objToString.call(t)==="[object Array]"}function isFunction(t){return typeof t=="function"}function isString(t){return typeof t=="string"}function isStringSafe(t){return objToString.call(t)==="[object String]"}function isNumber(t){return typeof t=="number"}function isObject$3(t){var n=typeof t;return n==="function"||!!t&&n==="object"}function isBuiltInObject(t){return!!BUILTIN_OBJECT[objToString.call(t)]}function isTypedArray(t){return!!TYPED_ARRAY[objToString.call(t)]}function isDom(t){return typeof t=="object"&&typeof t.nodeType=="number"&&typeof t.ownerDocument=="object"}function isGradientObject(t){return t.colorStops!=null}function isImagePatternObject(t){return t.image!=null}function isRegExp(t){return objToString.call(t)==="[object RegExp]"}function eqNaN(t){return t!==t}function retrieve(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=0,g=t.length;r<g;r++)if(t[r]!=null)return t[r]}function retrieve2(t,n){return t??n}function retrieve3(t,n,r){return t??n??r}function slice(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return nativeSlice.apply(t,n)}function normalizeCssArray$1(t){if(typeof t=="number")return[t,t,t,t];var n=t.length;return n===2?[t[0],t[1],t[0],t[1]]:n===3?[t[0],t[1],t[2],t[1]]:t}function assert(t,n){if(!t)throw new Error(n)}function trim$1(t){return t==null?null:typeof t.trim=="function"?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(t){t[primitiveKey]=!0}function isPrimitive(t){return t[primitiveKey]}var MapPolyfill=function(){function t(){this.data={}}return t.prototype.delete=function(n){var r=this.has(n);return r&&delete this.data[n],r},t.prototype.has=function(n){return this.data.hasOwnProperty(n)},t.prototype.get=function(n){return this.data[n]},t.prototype.set=function(n,r){return this.data[n]=r,this},t.prototype.keys=function(){return keys(this.data)},t.prototype.forEach=function(n){var r=this.data;for(var g in r)r.hasOwnProperty(g)&&n(r[g],g)},t}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function t(n){var r=isArray$1(n);this.data=maybeNativeMap();var g=this;n instanceof t?n.each(y):n&&each$f(n,y);function y($,L){r?g.set($,L):g.set(L,$)}}return t.prototype.hasKey=function(n){return this.data.has(n)},t.prototype.get=function(n){return this.data.get(n)},t.prototype.set=function(n,r){return this.data.set(n,r),r},t.prototype.each=function(n,r){this.data.forEach(function(g,y){n.call(r,g,y)})},t.prototype.keys=function(){var n=this.data.keys();return isNativeMapSupported?Array.from(n):n},t.prototype.removeKey=function(n){this.data.delete(n)},t}();function createHashMap(t){return new HashMap(t)}function concatArray(t,n){for(var r=new t.constructor(t.length+n.length),g=0;g<t.length;g++)r[g]=t[g];for(var y=t.length,g=0;g<n.length;g++)r[g+y]=n[g];return r}function createObject(t,n){var r;if(Object.create)r=Object.create(t);else{var g=function(){};g.prototype=t,r=new g}return n&&extend(r,n),r}function disableUserSelect(t){var n=t.style;n.webkitUserSelect="none",n.userSelect="none",n.webkitTapHighlightColor="rgba(0,0,0,0)",n["-webkit-touch-callout"]="none"}function hasOwn(t,n){return t.hasOwnProperty(n)}function noop(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$2(t,n){return t==null&&(t=0),n==null&&(n=0),[t,n]}function copy$1(t,n){return t[0]=n[0],t[1]=n[1],t}function clone$3(t){return[t[0],t[1]]}function set$1(t,n,r){return t[0]=n,t[1]=r,t}function add(t,n,r){return t[0]=n[0]+r[0],t[1]=n[1]+r[1],t}function scaleAndAdd$1(t,n,r,g){return t[0]=n[0]+r[0]*g,t[1]=n[1]+r[1]*g,t}function sub(t,n,r){return t[0]=n[0]-r[0],t[1]=n[1]-r[1],t}function len(t){return Math.sqrt(lenSquare(t))}function lenSquare(t){return t[0]*t[0]+t[1]*t[1]}function scale$2(t,n,r){return t[0]=n[0]*r,t[1]=n[1]*r,t}function normalize$3(t,n){var r=len(n);return r===0?(t[0]=0,t[1]=0):(t[0]=n[0]/r,t[1]=n[1]/r),t}function distance(t,n){return Math.sqrt((t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1]))}var dist$1=distance;function distanceSquare(t,n){return(t[0]-n[0])*(t[0]-n[0])+(t[1]-n[1])*(t[1]-n[1])}var distSquare=distanceSquare;function lerp$1(t,n,r,g){return t[0]=n[0]+g*(r[0]-n[0]),t[1]=n[1]+g*(r[1]-n[1]),t}function applyTransform$1(t,n,r){var g=n[0],y=n[1];return t[0]=r[0]*g+r[2]*y+r[4],t[1]=r[1]*g+r[3]*y+r[5],t}function min$1(t,n,r){return t[0]=Math.min(n[0],r[0]),t[1]=Math.min(n[1],r[1]),t}function max$1(t,n,r){return t[0]=Math.max(n[0],r[0]),t[1]=Math.max(n[1],r[1]),t}var Param=function(){function t(n,r){this.target=n,this.topTarget=r&&r.topTarget}return t}(),Draggable=function(){function t(n){this.handler=n,n.on("mousedown",this._dragStart,this),n.on("mousemove",this._drag,this),n.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(n){for(var r=n.target;r&&!r.draggable;)r=r.parent||r.__hostTarget;r&&(this._draggingTarget=r,r.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this.handler.dispatchToElement(new Param(r,n),"dragstart",n.event))},t.prototype._drag=function(n){var r=this._draggingTarget;if(r){var g=n.offsetX,y=n.offsetY,$=g-this._x,L=y-this._y;this._x=g,this._y=y,r.drift($,L,n),this.handler.dispatchToElement(new Param(r,n),"drag",n.event);var V=this.handler.findHover(g,y,r).target,z=this._dropTarget;this._dropTarget=V,r!==V&&(z&&V!==z&&this.handler.dispatchToElement(new Param(z,n),"dragleave",n.event),V&&V!==z&&this.handler.dispatchToElement(new Param(V,n),"dragenter",n.event))}},t.prototype._dragEnd=function(n){var r=this._draggingTarget;r&&(r.dragging=!1),this.handler.dispatchToElement(new Param(r,n),"dragend",n.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,n),"drop",n.event),this._draggingTarget=null,this._dropTarget=null},t}(),Eventful=function(){function t(n){n&&(this._$eventProcessor=n)}return t.prototype.on=function(n,r,g,y){this._$handlers||(this._$handlers={});var $=this._$handlers;if(typeof r=="function"&&(y=g,g=r,r=null),!g||!n)return this;var L=this._$eventProcessor;r!=null&&L&&L.normalizeQuery&&(r=L.normalizeQuery(r)),$[n]||($[n]=[]);for(var V=0;V<$[n].length;V++)if($[n][V].h===g)return this;var z={h:g,query:r,ctx:y||this,callAtLast:g.zrEventfulCallAtLast},j=$[n].length-1,re=$[n][j];return re&&re.callAtLast?$[n].splice(j,0,z):$[n].push(z),this},t.prototype.isSilent=function(n){var r=this._$handlers;return!r||!r[n]||!r[n].length},t.prototype.off=function(n,r){var g=this._$handlers;if(!g)return this;if(!n)return this._$handlers={},this;if(r){if(g[n]){for(var y=[],$=0,L=g[n].length;$<L;$++)g[n][$].h!==r&&y.push(g[n][$]);g[n]=y}g[n]&&g[n].length===0&&delete g[n]}else delete g[n];return this},t.prototype.trigger=function(n){for(var r=[],g=1;g<arguments.length;g++)r[g-1]=arguments[g];if(!this._$handlers)return this;var y=this._$handlers[n],$=this._$eventProcessor;if(y)for(var L=r.length,V=y.length,z=0;z<V;z++){var j=y[z];if(!($&&$.filter&&j.query!=null&&!$.filter(n,j.query)))switch(L){case 0:j.h.call(j.ctx);break;case 1:j.h.call(j.ctx,r[0]);break;case 2:j.h.call(j.ctx,r[0],r[1]);break;default:j.h.apply(j.ctx,r);break}}return $&&$.afterTrigger&&$.afterTrigger(n),this},t.prototype.triggerWithContext=function(n){for(var r=[],g=1;g<arguments.length;g++)r[g-1]=arguments[g];if(!this._$handlers)return this;var y=this._$handlers[n],$=this._$eventProcessor;if(y)for(var L=r.length,V=r[L-1],z=y.length,j=0;j<z;j++){var re=y[j];if(!($&&$.filter&&re.query!=null&&!$.filter(n,re.query)))switch(L){case 0:re.h.call(V);break;case 1:re.h.call(V,r[0]);break;case 2:re.h.call(V,r[0],r[1]);break;default:re.h.apply(V,r.slice(1,L-1));break}}return $&&$.afterTrigger&&$.afterTrigger(n),this},t}(),LN2=Math.log(2);function determinant(t,n,r,g,y,$){var L=g+"-"+y,V=t.length;if($.hasOwnProperty(L))return $[L];if(n===1){var z=Math.round(Math.log((1<<V)-1&~y)/LN2);return t[r][z]}for(var j=g|1<<r,re=r+1;g&1<<re;)re++;for(var ae=0,oe=0,ie=0;oe<V;oe++){var le=1<<oe;le&y||(ae+=(ie%2?-1:1)*t[r][oe]*determinant(t,n-1,re,j,y|le,$),ie++)}return $[L]=ae,ae}function buildTransformer(t,n){var r=[[t[0],t[1],1,0,0,0,-n[0]*t[0],-n[0]*t[1]],[0,0,0,t[0],t[1],1,-n[1]*t[0],-n[1]*t[1]],[t[2],t[3],1,0,0,0,-n[2]*t[2],-n[2]*t[3]],[0,0,0,t[2],t[3],1,-n[3]*t[2],-n[3]*t[3]],[t[4],t[5],1,0,0,0,-n[4]*t[4],-n[4]*t[5]],[0,0,0,t[4],t[5],1,-n[5]*t[4],-n[5]*t[5]],[t[6],t[7],1,0,0,0,-n[6]*t[6],-n[6]*t[7]],[0,0,0,t[6],t[7],1,-n[7]*t[6],-n[7]*t[7]]],g={},y=determinant(r,8,0,0,0,g);if(y!==0){for(var $=[],L=0;L<8;L++)for(var V=0;V<8;V++)$[V]==null&&($[V]=0),$[V]+=((L+V)%2?-1:1)*determinant(r,7,L===0?1:0,1<<L,1<<V,g)/y*n[L];return function(z,j,re){var ae=j*$[6]+re*$[7]+1;z[0]=(j*$[0]+re*$[1]+$[2])/ae,z[1]=(j*$[3]+re*$[4]+$[5])/ae}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(t,n,r,g,y){return transformCoordWithViewport(_calcOut$1,n,g,y,!0)&&transformCoordWithViewport(t,r,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(t,n,r,g,y){if(n.getBoundingClientRect&&env.domSupported&&!isCanvasEl(n)){var $=n[EVENT_SAVED_PROP]||(n[EVENT_SAVED_PROP]={}),L=prepareCoordMarkers(n,$),V=preparePointerTransformer(L,$,y);if(V)return V(t,r,g),!0}return!1}function prepareCoordMarkers(t,n){var r=n.markers;if(r)return r;r=n.markers=[];for(var g=["left","right"],y=["top","bottom"],$=0;$<4;$++){var L=document.createElement("div"),V=L.style,z=$%2,j=($>>1)%2;V.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",g[z]+":0",y[j]+":0",g[1-z]+":auto",y[1-j]+":auto",""].join("!important;"),t.appendChild(L),r.push(L)}return r}function preparePointerTransformer(t,n,r){for(var g=r?"invTrans":"trans",y=n[g],$=n.srcCoords,L=[],V=[],z=!0,j=0;j<4;j++){var re=t[j].getBoundingClientRect(),ae=2*j,oe=re.left,ie=re.top;L.push(oe,ie),z=z&&$&&oe===$[ae]&&ie===$[ae+1],V.push(t[j].offsetLeft,t[j].offsetTop)}return z&&y?y:(n.srcCoords=L,n[g]=r?buildTransformer(V,L):buildTransformer(L,V))}function isCanvasEl(t){return t.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(t){return t==null?"":(t+"").replace(replaceReg,function(n,r){return replaceMap[r]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env.browser.firefox&&+env.browser.version.split(".")[0]<39;function clientToLocal(t,n,r,g){return r=r||{},g?calculateZrXY(t,n,r):firefoxNotSupportOffsetXY&&n.layerX!=null&&n.layerX!==n.offsetX?(r.zrX=n.layerX,r.zrY=n.layerY):n.offsetX!=null?(r.zrX=n.offsetX,r.zrY=n.offsetY):calculateZrXY(t,n,r),r}function calculateZrXY(t,n,r){if(env.domSupported&&t.getBoundingClientRect){var g=n.clientX,y=n.clientY;if(isCanvasEl(t)){var $=t.getBoundingClientRect();r.zrX=g-$.left,r.zrY=y-$.top;return}else if(transformCoordWithViewport(_calcOut,t,g,y)){r.zrX=_calcOut[0],r.zrY=_calcOut[1];return}}r.zrX=r.zrY=0}function getNativeEvent(t){return t||window.event}function normalizeEvent(t,n,r){if(n=getNativeEvent(n),n.zrX!=null)return n;var g=n.type,y=g&&g.indexOf("touch")>=0;if(y){var L=g!=="touchend"?n.targetTouches[0]:n.changedTouches[0];L&&clientToLocal(t,L,n,r)}else{clientToLocal(t,n,n,r);var $=getWheelDeltaMayPolyfill(n);n.zrDelta=$?$/120:-(n.detail||0)/3}var V=n.button;return n.which==null&&V!==void 0&&MOUSE_EVENT_REG.test(n.type)&&(n.which=V&1?1:V&2?3:V&4?2:0),n}function getWheelDeltaMayPolyfill(t){var n=t.wheelDelta;if(n)return n;var r=t.deltaX,g=t.deltaY;if(r==null||g==null)return n;var y=Math.abs(g!==0?g:r),$=g>0?-1:g<0?1:r>0?-1:1;return 3*y*$}function addEventListener(t,n,r,g){t.addEventListener(n,r,g)}function removeEventListener(t,n,r,g){t.removeEventListener(n,r,g)}var stop=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0};function isMiddleOrRightButtonOnMouseUpDown(t){return t.which===2||t.which===3}var GestureMgr=function(){function t(){this._track=[]}return t.prototype.recognize=function(n,r,g){return this._doTrack(n,r,g),this._recognize(n)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(n,r,g){var y=n.touches;if(y){for(var $={points:[],touches:[],target:r,event:n},L=0,V=y.length;L<V;L++){var z=y[L],j=clientToLocal(g,z,{});$.points.push([j.zrX,j.zrY]),$.touches.push(z)}this._track.push($)}},t.prototype._recognize=function(n){for(var r in recognizers)if(recognizers.hasOwnProperty(r)){var g=recognizers[r](this._track,n);if(g)return g}},t}();function dist(t){var n=t[1][0]-t[0][0],r=t[1][1]-t[0][1];return Math.sqrt(n*n+r*r)}function center$1(t){return[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}var recognizers={pinch:function(t,n){var r=t.length;if(r){var g=(t[r-1]||{}).points,y=(t[r-2]||{}).points||g;if(y&&y.length>1&&g&&g.length>1){var $=dist(g)/dist(y);!isFinite($)&&($=1),n.pinchScale=$;var L=center$1(g);return n.pinchX=L[0],n.pinchY=L[1],{type:"pinch",target:t[0].target,event:n}}}}};function create$1(){return[1,0,0,1,0,0]}function identity(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function copy(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t}function mul(t,n,r){var g=n[0]*r[0]+n[2]*r[1],y=n[1]*r[0]+n[3]*r[1],$=n[0]*r[2]+n[2]*r[3],L=n[1]*r[2]+n[3]*r[3],V=n[0]*r[4]+n[2]*r[5]+n[4],z=n[1]*r[4]+n[3]*r[5]+n[5];return t[0]=g,t[1]=y,t[2]=$,t[3]=L,t[4]=V,t[5]=z,t}function translate(t,n,r){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4]+r[0],t[5]=n[5]+r[1],t}function rotate(t,n,r,g){g===void 0&&(g=[0,0]);var y=n[0],$=n[2],L=n[4],V=n[1],z=n[3],j=n[5],re=Math.sin(r),ae=Math.cos(r);return t[0]=y*ae+V*re,t[1]=-y*re+V*ae,t[2]=$*ae+z*re,t[3]=-$*re+ae*z,t[4]=ae*(L-g[0])+re*(j-g[1])+g[0],t[5]=ae*(j-g[1])-re*(L-g[0])+g[1],t}function scale$1(t,n,r){var g=r[0],y=r[1];return t[0]=n[0]*g,t[1]=n[1]*y,t[2]=n[2]*g,t[3]=n[3]*y,t[4]=n[4]*g,t[5]=n[5]*y,t}function invert(t,n){var r=n[0],g=n[2],y=n[4],$=n[1],L=n[3],V=n[5],z=r*L-$*g;return z?(z=1/z,t[0]=L*z,t[1]=-$*z,t[2]=-g*z,t[3]=r*z,t[4]=(g*V-L*y)*z,t[5]=($*y-r*V)*z,t):null}function clone$2(t){var n=create$1();return copy(n,t),n}var Point=function(){function t(n,r){this.x=n||0,this.y=r||0}return t.prototype.copy=function(n){return this.x=n.x,this.y=n.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(n,r){return this.x=n,this.y=r,this},t.prototype.equal=function(n){return n.x===this.x&&n.y===this.y},t.prototype.add=function(n){return this.x+=n.x,this.y+=n.y,this},t.prototype.scale=function(n){this.x*=n,this.y*=n},t.prototype.scaleAndAdd=function(n,r){this.x+=n.x*r,this.y+=n.y*r},t.prototype.sub=function(n){return this.x-=n.x,this.y-=n.y,this},t.prototype.dot=function(n){return this.x*n.x+this.y*n.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var n=this.len();return this.x/=n,this.y/=n,this},t.prototype.distance=function(n){var r=this.x-n.x,g=this.y-n.y;return Math.sqrt(r*r+g*g)},t.prototype.distanceSquare=function(n){var r=this.x-n.x,g=this.y-n.y;return r*r+g*g},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(n){if(n){var r=this.x,g=this.y;return this.x=n[0]*r+n[2]*g+n[4],this.y=n[1]*r+n[3]*g+n[5],this}},t.prototype.toArray=function(n){return n[0]=this.x,n[1]=this.y,n},t.prototype.fromArray=function(n){this.x=n[0],this.y=n[1]},t.set=function(n,r,g){n.x=r,n.y=g},t.copy=function(n,r){n.x=r.x,n.y=r.y},t.len=function(n){return Math.sqrt(n.x*n.x+n.y*n.y)},t.lenSquare=function(n){return n.x*n.x+n.y*n.y},t.dot=function(n,r){return n.x*r.x+n.y*r.y},t.add=function(n,r,g){n.x=r.x+g.x,n.y=r.y+g.y},t.sub=function(n,r,g){n.x=r.x-g.x,n.y=r.y-g.y},t.scale=function(n,r,g){n.x=r.x*g,n.y=r.y*g},t.scaleAndAdd=function(n,r,g,y){n.x=r.x+g.x*y,n.y=r.y+g.y*y},t.lerp=function(n,r,g,y){var $=1-y;n.x=$*r.x+y*g.x,n.y=$*r.y+y*g.y},t}(),mathMin$a=Math.min,mathMax$a=Math.max,lt=new Point,rb=new Point,lb=new Point,rt=new Point,minTv$1=new Point,maxTv$1=new Point,BoundingRect=function(){function t(n,r,g,y){g<0&&(n=n+g,g=-g),y<0&&(r=r+y,y=-y),this.x=n,this.y=r,this.width=g,this.height=y}return t.prototype.union=function(n){var r=mathMin$a(n.x,this.x),g=mathMin$a(n.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$a(n.x+n.width,this.x+this.width)-r:this.width=n.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$a(n.y+n.height,this.y+this.height)-g:this.height=n.height,this.x=r,this.y=g},t.prototype.applyTransform=function(n){t.applyTransform(this,this,n)},t.prototype.calculateTransform=function(n){var r=this,g=n.width/r.width,y=n.height/r.height,$=create$1();return translate($,$,[-r.x,-r.y]),scale$1($,$,[g,y]),translate($,$,[n.x,n.y]),$},t.prototype.intersect=function(n,r){if(!n)return!1;n instanceof t||(n=t.create(n));var g=this,y=g.x,$=g.x+g.width,L=g.y,V=g.y+g.height,z=n.x,j=n.x+n.width,re=n.y,ae=n.y+n.height,oe=!($<z||j<y||V<re||ae<L);if(r){var ie=1/0,le=0,ue=Math.abs($-z),de=Math.abs(j-y),he=Math.abs(V-re),pe=Math.abs(ae-L),_e=Math.min(ue,de),Ce=Math.min(he,pe);$<z||j<y?_e>le&&(le=_e,ue<de?Point.set(maxTv$1,-ue,0):Point.set(maxTv$1,de,0)):_e<ie&&(ie=_e,ue<de?Point.set(minTv$1,ue,0):Point.set(minTv$1,-de,0)),V<re||ae<L?Ce>le&&(le=Ce,he<pe?Point.set(maxTv$1,0,-he):Point.set(maxTv$1,0,pe)):_e<ie&&(ie=_e,he<pe?Point.set(minTv$1,0,he):Point.set(minTv$1,0,-pe))}return r&&Point.copy(r,oe?minTv$1:maxTv$1),oe},t.prototype.contain=function(n,r){var g=this;return n>=g.x&&n<=g.x+g.width&&r>=g.y&&r<=g.y+g.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(n){t.copy(this,n)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return this.width===0||this.height===0},t.create=function(n){return new t(n.x,n.y,n.width,n.height)},t.copy=function(n,r){n.x=r.x,n.y=r.y,n.width=r.width,n.height=r.height},t.applyTransform=function(n,r,g){if(!g){n!==r&&t.copy(n,r);return}if(g[1]<1e-5&&g[1]>-1e-5&&g[2]<1e-5&&g[2]>-1e-5){var y=g[0],$=g[3],L=g[4],V=g[5];n.x=r.x*y+L,n.y=r.y*$+V,n.width=r.width*y,n.height=r.height*$,n.width<0&&(n.x+=n.width,n.width=-n.width),n.height<0&&(n.y+=n.height,n.height=-n.height);return}lt.x=lb.x=r.x,lt.y=rt.y=r.y,rb.x=rt.x=r.x+r.width,rb.y=lb.y=r.y+r.height,lt.transform(g),rt.transform(g),rb.transform(g),lb.transform(g),n.x=mathMin$a(lt.x,rb.x,lb.x,rt.x),n.y=mathMin$a(lt.y,rb.y,lb.y,rt.y);var z=mathMax$a(lt.x,rb.x,lb.x,rt.x),j=mathMax$a(lt.y,rb.y,lb.y,rt.y);n.width=z-n.x,n.height=j-n.y},t}(),SILENT="silent";function makeEventPacket(t,n,r){return{type:t,event:r,target:n.target,topTarget:n.topTarget,cancelBubble:!1,offsetX:r.zrX,offsetY:r.zrY,gestureEvent:r.gestureEvent,pinchX:r.pinchX,pinchY:r.pinchY,pinchScale:r.pinchScale,wheelDelta:r.zrDelta,zrByTouch:r.zrByTouch,which:r.which,stop:stopEvent}}function stopEvent(){stop(this.event)}var EmptyProxy=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.handler=null,r}return n.prototype.dispose=function(){},n.prototype.setCursor=function(){},n}(Eventful),HoveredResult=function(){function t(n,r){this.x=n,this.y=r}return t}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect(0,0,0,0),Handler=function(t){__extends(n,t);function n(r,g,y,$,L){var V=t.call(this)||this;return V._hovered=new HoveredResult(0,0),V.storage=r,V.painter=g,V.painterRoot=$,V._pointerSize=L,y=y||new EmptyProxy,V.proxy=null,V.setHandlerProxy(y),V._draggingMgr=new Draggable(V),V}return n.prototype.setHandlerProxy=function(r){this.proxy&&this.proxy.dispose(),r&&(each$f(handlerNames,function(g){r.on&&r.on(g,this[g],this)},this),r.handler=this),this.proxy=r},n.prototype.mousemove=function(r){var g=r.zrX,y=r.zrY,$=isOutsideBoundary(this,g,y),L=this._hovered,V=L.target;V&&!V.__zr&&(L=this.findHover(L.x,L.y),V=L.target);var z=this._hovered=$?new HoveredResult(g,y):this.findHover(g,y),j=z.target,re=this.proxy;re.setCursor&&re.setCursor(j?j.cursor:"default"),V&&j!==V&&this.dispatchToElement(L,"mouseout",r),this.dispatchToElement(z,"mousemove",r),j&&j!==V&&this.dispatchToElement(z,"mouseover",r)},n.prototype.mouseout=function(r){var g=r.zrEventControl;g!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",r),g!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:r})},n.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},n.prototype.dispatch=function(r,g){var y=this[r];y&&y.call(this,g)},n.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},n.prototype.setCursorStyle=function(r){var g=this.proxy;g.setCursor&&g.setCursor(r)},n.prototype.dispatchToElement=function(r,g,y){r=r||{};var $=r.target;if(!($&&$.silent)){for(var L="on"+g,V=makeEventPacket(g,r,y);$&&($[L]&&(V.cancelBubble=!!$[L].call($,V)),$.trigger(g,V),$=$.__hostTarget?$.__hostTarget:$.parent,!V.cancelBubble););V.cancelBubble||(this.trigger(g,V),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(z){typeof z[L]=="function"&&z[L].call(z,V),z.trigger&&z.trigger(g,V)}))}},n.prototype.findHover=function(r,g,y){var $=this.storage.getDisplayList(),L=new HoveredResult(r,g);if(setHoverTarget($,L,r,g,y),this._pointerSize&&!L.target){for(var V=[],z=this._pointerSize,j=z/2,re=new BoundingRect(r-j,g-j,z,z),ae=$.length-1;ae>=0;ae--){var oe=$[ae];oe!==y&&!oe.ignore&&!oe.ignoreCoarsePointer&&(!oe.parent||!oe.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(oe.getBoundingRect()),oe.transform&&tmpRect$1.applyTransform(oe.transform),tmpRect$1.intersect(re)&&V.push(oe))}if(V.length)for(var ie=4,le=Math.PI/12,ue=Math.PI*2,de=0;de<j;de+=ie)for(var he=0;he<ue;he+=le){var pe=r+de*Math.cos(he),_e=g+de*Math.sin(he);if(setHoverTarget(V,L,pe,_e,y),L.target)return L}}return L},n.prototype.processGesture=function(r,g){this._gestureMgr||(this._gestureMgr=new GestureMgr);var y=this._gestureMgr;g==="start"&&y.clear();var $=y.recognize(r,this.findHover(r.zrX,r.zrY,null).target,this.proxy.dom);if(g==="end"&&y.clear(),$){var L=$.type;r.gestureEvent=L;var V=new HoveredResult;V.target=$.target,this.dispatchToElement(V,L,$.event)}},n}(Eventful);each$f(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(t){Handler.prototype[t]=function(n){var r=n.zrX,g=n.zrY,y=isOutsideBoundary(this,r,g),$,L;if((t!=="mouseup"||!y)&&($=this.findHover(r,g),L=$.target),t==="mousedown")this._downEl=L,this._downPoint=[n.zrX,n.zrY],this._upEl=L;else if(t==="mouseup")this._upEl=L;else if(t==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[n.zrX,n.zrY])>4)return;this._downPoint=null}this.dispatchToElement($,t,n)}});function isHover(t,n,r){if(t[t.rectHover?"rectContain":"contain"](n,r)){for(var g=t,y=void 0,$=!1;g;){if(g.ignoreClip&&($=!0),!$){var L=g.getClipPath();if(L&&!L.contain(n,r))return!1}g.silent&&(y=!0);var V=g.__hostTarget;g=V||g.parent}return y?SILENT:!0}return!1}function setHoverTarget(t,n,r,g,y){for(var $=t.length-1;$>=0;$--){var L=t[$],V=void 0;if(L!==y&&!L.ignore&&(V=isHover(L,r,g))&&(!n.topTarget&&(n.topTarget=L),V!==SILENT)){n.target=L;break}}}function isOutsideBoundary(t,n,r){var g=t.painter;return n<0||n>g.getWidth()||r<0||r>g.getHeight()}var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(t){for(var n=0;t>=DEFAULT_MIN_MERGE;)n|=t&1,t>>=1;return t+n}function makeAscendingRun(t,n,r,g){var y=n+1;if(y===r)return 1;if(g(t[y++],t[n])<0){for(;y<r&&g(t[y],t[y-1])<0;)y++;reverseRun(t,n,y)}else for(;y<r&&g(t[y],t[y-1])>=0;)y++;return y-n}function reverseRun(t,n,r){for(r--;n<r;){var g=t[n];t[n++]=t[r],t[r--]=g}}function binaryInsertionSort(t,n,r,g,y){for(g===n&&g++;g<r;g++){for(var $=t[g],L=n,V=g,z;L<V;)z=L+V>>>1,y($,t[z])<0?V=z:L=z+1;var j=g-L;switch(j){case 3:t[L+3]=t[L+2];case 2:t[L+2]=t[L+1];case 1:t[L+1]=t[L];break;default:for(;j>0;)t[L+j]=t[L+j-1],j--}t[L]=$}}function gallopLeft(t,n,r,g,y,$){var L=0,V=0,z=1;if($(t,n[r+y])>0){for(V=g-y;z<V&&$(t,n[r+y+z])>0;)L=z,z=(z<<1)+1,z<=0&&(z=V);z>V&&(z=V),L+=y,z+=y}else{for(V=y+1;z<V&&$(t,n[r+y-z])<=0;)L=z,z=(z<<1)+1,z<=0&&(z=V);z>V&&(z=V);var j=L;L=y-z,z=y-j}for(L++;L<z;){var re=L+(z-L>>>1);$(t,n[r+re])>0?L=re+1:z=re}return z}function gallopRight(t,n,r,g,y,$){var L=0,V=0,z=1;if($(t,n[r+y])<0){for(V=y+1;z<V&&$(t,n[r+y-z])<0;)L=z,z=(z<<1)+1,z<=0&&(z=V);z>V&&(z=V);var j=L;L=y-z,z=y-j}else{for(V=g-y;z<V&&$(t,n[r+y+z])>=0;)L=z,z=(z<<1)+1,z<=0&&(z=V);z>V&&(z=V),L+=y,z+=y}for(L++;L<z;){var re=L+(z-L>>>1);$(t,n[r+re])<0?z=re:L=re+1}return z}function TimSort(t,n){var r=DEFAULT_MIN_GALLOPING,g,y,$=0,L=[];g=[],y=[];function V(ie,le){g[$]=ie,y[$]=le,$+=1}function z(){for(;$>1;){var ie=$-2;if(ie>=1&&y[ie-1]<=y[ie]+y[ie+1]||ie>=2&&y[ie-2]<=y[ie]+y[ie-1])y[ie-1]<y[ie+1]&&ie--;else if(y[ie]>y[ie+1])break;re(ie)}}function j(){for(;$>1;){var ie=$-2;ie>0&&y[ie-1]<y[ie+1]&&ie--,re(ie)}}function re(ie){var le=g[ie],ue=y[ie],de=g[ie+1],he=y[ie+1];y[ie]=ue+he,ie===$-3&&(g[ie+1]=g[ie+2],y[ie+1]=y[ie+2]),$--;var pe=gallopRight(t[de],t,le,ue,0,n);le+=pe,ue-=pe,ue!==0&&(he=gallopLeft(t[le+ue-1],t,de,he,he-1,n),he!==0&&(ue<=he?ae(le,ue,de,he):oe(le,ue,de,he)))}function ae(ie,le,ue,de){var he=0;for(he=0;he<le;he++)L[he]=t[ie+he];var pe=0,_e=ue,Ce=ie;if(t[Ce++]=t[_e++],--de===0){for(he=0;he<le;he++)t[Ce+he]=L[pe+he];return}if(le===1){for(he=0;he<de;he++)t[Ce+he]=t[_e+he];t[Ce+de]=L[pe];return}for(var xe=r,Ie,$e,Oe;;){Ie=0,$e=0,Oe=!1;do if(n(t[_e],L[pe])<0){if(t[Ce++]=t[_e++],$e++,Ie=0,--de===0){Oe=!0;break}}else if(t[Ce++]=L[pe++],Ie++,$e=0,--le===1){Oe=!0;break}while((Ie|$e)<xe);if(Oe)break;do{if(Ie=gallopRight(t[_e],L,pe,le,0,n),Ie!==0){for(he=0;he<Ie;he++)t[Ce+he]=L[pe+he];if(Ce+=Ie,pe+=Ie,le-=Ie,le<=1){Oe=!0;break}}if(t[Ce++]=t[_e++],--de===0){Oe=!0;break}if($e=gallopLeft(L[pe],t,_e,de,0,n),$e!==0){for(he=0;he<$e;he++)t[Ce+he]=t[_e+he];if(Ce+=$e,_e+=$e,de-=$e,de===0){Oe=!0;break}}if(t[Ce++]=L[pe++],--le===1){Oe=!0;break}xe--}while(Ie>=DEFAULT_MIN_GALLOPING||$e>=DEFAULT_MIN_GALLOPING);if(Oe)break;xe<0&&(xe=0),xe+=2}if(r=xe,r<1&&(r=1),le===1){for(he=0;he<de;he++)t[Ce+he]=t[_e+he];t[Ce+de]=L[pe]}else{if(le===0)throw new Error;for(he=0;he<le;he++)t[Ce+he]=L[pe+he]}}function oe(ie,le,ue,de){var he=0;for(he=0;he<de;he++)L[he]=t[ue+he];var pe=ie+le-1,_e=de-1,Ce=ue+de-1,xe=0,Ie=0;if(t[Ce--]=t[pe--],--le===0){for(xe=Ce-(de-1),he=0;he<de;he++)t[xe+he]=L[he];return}if(de===1){for(Ce-=le,pe-=le,Ie=Ce+1,xe=pe+1,he=le-1;he>=0;he--)t[Ie+he]=t[xe+he];t[Ce]=L[_e];return}for(var $e=r;;){var Oe=0,Ne=0,Fe=!1;do if(n(L[_e],t[pe])<0){if(t[Ce--]=t[pe--],Oe++,Ne=0,--le===0){Fe=!0;break}}else if(t[Ce--]=L[_e--],Ne++,Oe=0,--de===1){Fe=!0;break}while((Oe|Ne)<$e);if(Fe)break;do{if(Oe=le-gallopRight(L[_e],t,ie,le,le-1,n),Oe!==0){for(Ce-=Oe,pe-=Oe,le-=Oe,Ie=Ce+1,xe=pe+1,he=Oe-1;he>=0;he--)t[Ie+he]=t[xe+he];if(le===0){Fe=!0;break}}if(t[Ce--]=L[_e--],--de===1){Fe=!0;break}if(Ne=de-gallopLeft(t[pe],L,0,de,de-1,n),Ne!==0){for(Ce-=Ne,_e-=Ne,de-=Ne,Ie=Ce+1,xe=_e+1,he=0;he<Ne;he++)t[Ie+he]=L[xe+he];if(de<=1){Fe=!0;break}}if(t[Ce--]=t[pe--],--le===0){Fe=!0;break}$e--}while(Oe>=DEFAULT_MIN_GALLOPING||Ne>=DEFAULT_MIN_GALLOPING);if(Fe)break;$e<0&&($e=0),$e+=2}if(r=$e,r<1&&(r=1),de===1){for(Ce-=le,pe-=le,Ie=Ce+1,xe=pe+1,he=le-1;he>=0;he--)t[Ie+he]=t[xe+he];t[Ce]=L[_e]}else{if(de===0)throw new Error;for(xe=Ce-(de-1),he=0;he<de;he++)t[xe+he]=L[he]}}return{mergeRuns:z,forceMergeRuns:j,pushRun:V}}function sort$2(t,n,r,g){r||(r=0),g||(g=t.length);var y=g-r;if(!(y<2)){var $=0;if(y<DEFAULT_MIN_MERGE){$=makeAscendingRun(t,r,g,n),binaryInsertionSort(t,r,g,r+$,n);return}var L=TimSort(t,n),V=minRunLength(y);do{if($=makeAscendingRun(t,r,g,n),$<V){var z=y;z>V&&(z=V),binaryInsertionSort(t,r,r+z,r+$,n),$=z}L.pushRun(r,$),L.mergeRuns(),y-=$,r+=$}while(y!==0);L.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(t,n){return t.zlevel===n.zlevel?t.z===n.z?t.z2-n.z2:t.z-n.z:t.zlevel-n.zlevel}var Storage=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return t.prototype.traverse=function(n,r){for(var g=0;g<this._roots.length;g++)this._roots[g].traverse(n,r)},t.prototype.getDisplayList=function(n,r){r=r||!1;var g=this._displayList;return(n||!g.length)&&this.updateDisplayList(r),g},t.prototype.updateDisplayList=function(n){this._displayListLen=0;for(var r=this._roots,g=this._displayList,y=0,$=r.length;y<$;y++)this._updateAndAddDisplayable(r[y],null,n);g.length=this._displayListLen,sort$2(g,shapeCompareFunc)},t.prototype._updateAndAddDisplayable=function(n,r,g){if(!(n.ignore&&!g)){n.beforeUpdate(),n.update(),n.afterUpdate();var y=n.getClipPath();if(n.ignoreClip)r=null;else if(y){r?r=r.slice():r=[];for(var $=y,L=n;$;)$.parent=L,$.updateTransform(),r.push($),L=$,$=$.getClipPath()}if(n.childrenRef){for(var V=n.childrenRef(),z=0;z<V.length;z++){var j=V[z];n.__dirty&&(j.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(j,r,g)}n.__dirty=0}else{var re=n;r&&r.length?re.__clipPaths=r:re.__clipPaths&&re.__clipPaths.length>0&&(re.__clipPaths=[]),isNaN(re.z)&&(logInvalidZError(),re.z=0),isNaN(re.z2)&&(logInvalidZError(),re.z2=0),isNaN(re.zlevel)&&(logInvalidZError(),re.zlevel=0),this._displayList[this._displayListLen++]=re}var ae=n.getDecalElement&&n.getDecalElement();ae&&this._updateAndAddDisplayable(ae,r,g);var oe=n.getTextGuideLine();oe&&this._updateAndAddDisplayable(oe,r,g);var ie=n.getTextContent();ie&&this._updateAndAddDisplayable(ie,r,g)}},t.prototype.addRoot=function(n){n.__zr&&n.__zr.storage===this||this._roots.push(n)},t.prototype.delRoot=function(n){if(n instanceof Array){for(var r=0,g=n.length;r<g;r++)this.delRoot(n[r]);return}var y=indexOf(this._roots,n);y>=0&&this._roots.splice(y,1)},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}(),requestAnimationFrame$1;requestAnimationFrame$1=env.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)};var easingFuncs={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return .5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return t===0?0:Math.pow(1024,t-1)},exponentialOut:function(t){return t===1?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return t===0?0:t===1?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(-Math.pow(2,-10*(t-1))+2)},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var n,r=.1,g=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=g/4):n=g*Math.asin(1/r)/(2*Math.PI),-(r*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/g)))},elasticOut:function(t){var n,r=.1,g=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=g/4):n=g*Math.asin(1/r)/(2*Math.PI),r*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/g)+1)},elasticInOut:function(t){var n,r=.1,g=.4;return t===0?0:t===1?1:(!r||r<1?(r=1,n=g/4):n=g*Math.asin(1/r)/(2*Math.PI),(t*=2)<1?-.5*(r*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/g)):r*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/g)*.5+1)},backIn:function(t){var n=1.70158;return t*t*((n+1)*t-n)},backOut:function(t){var n=1.70158;return--t*t*((n+1)*t+n)+1},backInOut:function(t){var n=2.5949095;return(t*=2)<1?.5*(t*t*((n+1)*t-n)):.5*((t-=2)*t*((n+1)*t+n)+2)},bounceIn:function(t){return 1-easingFuncs.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?easingFuncs.bounceIn(t*2)*.5:easingFuncs.bounceOut(t*2-1)*.5+.5}},mathPow$2=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$4=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$2(),_v1=create$2(),_v2=create$2();function isAroundZero$1(t){return t>-EPSILON$4&&t<EPSILON$4}function isNotAroundZero$1(t){return t>EPSILON$4||t<-EPSILON$4}function cubicAt(t,n,r,g,y){var $=1-y;return $*$*($*t+3*y*n)+y*y*(y*g+3*$*r)}function cubicDerivativeAt(t,n,r,g,y){var $=1-y;return 3*(((n-t)*$+2*(r-n)*y)*$+(g-r)*y*y)}function cubicRootAt(t,n,r,g,y,$){var L=g+3*(n-r)-t,V=3*(r-n*2+t),z=3*(n-t),j=t-y,re=V*V-3*L*z,ae=V*z-9*L*j,oe=z*z-3*V*j,ie=0;if(isAroundZero$1(re)&&isAroundZero$1(ae))if(isAroundZero$1(V))$[0]=0;else{var le=-z/V;le>=0&&le<=1&&($[ie++]=le)}else{var ue=ae*ae-4*re*oe;if(isAroundZero$1(ue)){var de=ae/re,le=-V/L+de,he=-de/2;le>=0&&le<=1&&($[ie++]=le),he>=0&&he<=1&&($[ie++]=he)}else if(ue>0){var pe=mathSqrt$3(ue),_e=re*V+1.5*L*(-ae+pe),Ce=re*V+1.5*L*(-ae-pe);_e<0?_e=-mathPow$2(-_e,ONE_THIRD):_e=mathPow$2(_e,ONE_THIRD),Ce<0?Ce=-mathPow$2(-Ce,ONE_THIRD):Ce=mathPow$2(Ce,ONE_THIRD);var le=(-V-(_e+Ce))/(3*L);le>=0&&le<=1&&($[ie++]=le)}else{var xe=(2*re*V-3*L*ae)/(2*mathSqrt$3(re*re*re)),Ie=Math.acos(xe)/3,$e=mathSqrt$3(re),Oe=Math.cos(Ie),le=(-V-2*$e*Oe)/(3*L),he=(-V+$e*(Oe+THREE_SQRT*Math.sin(Ie)))/(3*L),Ne=(-V+$e*(Oe-THREE_SQRT*Math.sin(Ie)))/(3*L);le>=0&&le<=1&&($[ie++]=le),he>=0&&he<=1&&($[ie++]=he),Ne>=0&&Ne<=1&&($[ie++]=Ne)}}return ie}function cubicExtrema(t,n,r,g,y){var $=6*r-12*n+6*t,L=9*n+3*g-3*t-9*r,V=3*n-3*t,z=0;if(isAroundZero$1(L)){if(isNotAroundZero$1($)){var j=-V/$;j>=0&&j<=1&&(y[z++]=j)}}else{var re=$*$-4*L*V;if(isAroundZero$1(re))y[0]=-$/(2*L);else if(re>0){var ae=mathSqrt$3(re),j=(-$+ae)/(2*L),oe=(-$-ae)/(2*L);j>=0&&j<=1&&(y[z++]=j),oe>=0&&oe<=1&&(y[z++]=oe)}}return z}function cubicSubdivide(t,n,r,g,y,$){var L=(n-t)*y+t,V=(r-n)*y+n,z=(g-r)*y+r,j=(V-L)*y+L,re=(z-V)*y+V,ae=(re-j)*y+j;$[0]=t,$[1]=L,$[2]=j,$[3]=ae,$[4]=ae,$[5]=re,$[6]=z,$[7]=g}function cubicProjectPoint(t,n,r,g,y,$,L,V,z,j,re){var ae,oe=.005,ie=1/0,le,ue,de,he;_v0[0]=z,_v0[1]=j;for(var pe=0;pe<1;pe+=.05)_v1[0]=cubicAt(t,r,y,L,pe),_v1[1]=cubicAt(n,g,$,V,pe),de=distSquare(_v0,_v1),de<ie&&(ae=pe,ie=de);ie=1/0;for(var _e=0;_e<32&&!(oe<EPSILON_NUMERIC);_e++)le=ae-oe,ue=ae+oe,_v1[0]=cubicAt(t,r,y,L,le),_v1[1]=cubicAt(n,g,$,V,le),de=distSquare(_v1,_v0),le>=0&&de<ie?(ae=le,ie=de):(_v2[0]=cubicAt(t,r,y,L,ue),_v2[1]=cubicAt(n,g,$,V,ue),he=distSquare(_v2,_v0),ue<=1&&he<ie?(ae=ue,ie=he):oe*=.5);return re&&(re[0]=cubicAt(t,r,y,L,ae),re[1]=cubicAt(n,g,$,V,ae)),mathSqrt$3(ie)}function cubicLength(t,n,r,g,y,$,L,V,z){for(var j=t,re=n,ae=0,oe=1/z,ie=1;ie<=z;ie++){var le=ie*oe,ue=cubicAt(t,r,y,L,le),de=cubicAt(n,g,$,V,le),he=ue-j,pe=de-re;ae+=Math.sqrt(he*he+pe*pe),j=ue,re=de}return ae}function quadraticAt$1(t,n,r,g){var y=1-g;return y*(y*t+2*g*n)+g*g*r}function quadraticDerivativeAt(t,n,r,g){return 2*((1-g)*(n-t)+g*(r-n))}function quadraticRootAt(t,n,r,g,y){var $=t-2*n+r,L=2*(n-t),V=t-g,z=0;if(isAroundZero$1($)){if(isNotAroundZero$1(L)){var j=-V/L;j>=0&&j<=1&&(y[z++]=j)}}else{var re=L*L-4*$*V;if(isAroundZero$1(re)){var j=-L/(2*$);j>=0&&j<=1&&(y[z++]=j)}else if(re>0){var ae=mathSqrt$3(re),j=(-L+ae)/(2*$),oe=(-L-ae)/(2*$);j>=0&&j<=1&&(y[z++]=j),oe>=0&&oe<=1&&(y[z++]=oe)}}return z}function quadraticExtremum(t,n,r){var g=t+r-2*n;return g===0?.5:(t-n)/g}function quadraticSubdivide(t,n,r,g,y){var $=(n-t)*g+t,L=(r-n)*g+n,V=(L-$)*g+$;y[0]=t,y[1]=$,y[2]=V,y[3]=V,y[4]=L,y[5]=r}function quadraticProjectPoint(t,n,r,g,y,$,L,V,z){var j,re=.005,ae=1/0;_v0[0]=L,_v0[1]=V;for(var oe=0;oe<1;oe+=.05){_v1[0]=quadraticAt$1(t,r,y,oe),_v1[1]=quadraticAt$1(n,g,$,oe);var ie=distSquare(_v0,_v1);ie<ae&&(j=oe,ae=ie)}ae=1/0;for(var le=0;le<32&&!(re<EPSILON_NUMERIC);le++){var ue=j-re,de=j+re;_v1[0]=quadraticAt$1(t,r,y,ue),_v1[1]=quadraticAt$1(n,g,$,ue);var ie=distSquare(_v1,_v0);if(ue>=0&&ie<ae)j=ue,ae=ie;else{_v2[0]=quadraticAt$1(t,r,y,de),_v2[1]=quadraticAt$1(n,g,$,de);var he=distSquare(_v2,_v0);de<=1&&he<ae?(j=de,ae=he):re*=.5}}return z&&(z[0]=quadraticAt$1(t,r,y,j),z[1]=quadraticAt$1(n,g,$,j)),mathSqrt$3(ae)}function quadraticLength(t,n,r,g,y,$,L){for(var V=t,z=n,j=0,re=1/L,ae=1;ae<=L;ae++){var oe=ae*re,ie=quadraticAt$1(t,r,y,oe),le=quadraticAt$1(n,g,$,oe),ue=ie-V,de=le-z;j+=Math.sqrt(ue*ue+de*de),V=ie,z=le}return j}var regexp=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(t){var n=t&&regexp.exec(t);if(n){var r=n[1].split(","),g=+trim$1(r[0]),y=+trim$1(r[1]),$=+trim$1(r[2]),L=+trim$1(r[3]);if(isNaN(g+y+$+L))return;var V=[];return function(z){return z<=0?0:z>=1?1:cubicRootAt(0,g,$,1,z,V)&&cubicAt(0,y,L,1,V[0])}}}var Clip=function(){function t(n){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=n.life||1e3,this._delay=n.delay||0,this.loop=n.loop||!1,this.onframe=n.onframe||noop,this.ondestroy=n.ondestroy||noop,this.onrestart=n.onrestart||noop,n.easing&&this.setEasing(n.easing)}return t.prototype.step=function(n,r){if(this._inited||(this._startTime=n+this._delay,this._inited=!0),this._paused){this._pausedTime+=r;return}var g=this._life,y=n-this._startTime-this._pausedTime,$=y/g;$<0&&($=0),$=Math.min($,1);var L=this.easingFunc,V=L?L($):$;if(this.onframe(V),$===1)if(this.loop){var z=y%g;this._startTime=n-z,this._pausedTime=0,this.onrestart()}else return!0;return!1},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(n){this.easing=n,this.easingFunc=isFunction(n)?n:easingFuncs[n]||createCubicEasingFunc(n)},t}(),Entry=function(){function t(n){this.value=n}return t}(),LinkedList=function(){function t(){this._len=0}return t.prototype.insert=function(n){var r=new Entry(n);return this.insertEntry(r),r},t.prototype.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,n.next=null,this.tail=n):this.head=this.tail=n,this._len++},t.prototype.remove=function(n){var r=n.prev,g=n.next;r?r.next=g:this.head=g,g?g.prev=r:this.tail=r,n.next=n.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}(),LRU=function(){function t(n){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=n}return t.prototype.put=function(n,r){var g=this._list,y=this._map,$=null;if(y[n]==null){var L=g.len(),V=this._lastRemovedEntry;if(L>=this._maxSize&&L>0){var z=g.head;g.remove(z),delete y[z.key],$=z.value,this._lastRemovedEntry=z}V?V.value=r:V=new Entry(r),V.key=n,g.insertEntry(V),y[n]=V}return $},t.prototype.get=function(n){var r=this._map[n],g=this._list;if(r!=null)return r!==g.tail&&(g.remove(r),g.insertEntry(r)),r.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}(),kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(t){return t=Math.round(t),t<0?0:t>255?255:t}function clampCssAngle(t){return t=Math.round(t),t<0?0:t>360?360:t}function clampCssFloat(t){return t<0?0:t>1?1:t}function parseCssInt(t){var n=t;return n.length&&n.charAt(n.length-1)==="%"?clampCssByte(parseFloat(n)/100*255):clampCssByte(parseInt(n,10))}function parseCssFloat(t){var n=t;return n.length&&n.charAt(n.length-1)==="%"?clampCssFloat(parseFloat(n)/100):clampCssFloat(parseFloat(n))}function cssHueToRgb(t,n,r){return r<0?r+=1:r>1&&(r-=1),r*6<1?t+(n-t)*r*6:r*2<1?n:r*3<2?t+(n-t)*(2/3-r)*6:t}function lerpNumber(t,n,r){return t+(n-t)*r}function setRgba(t,n,r,g,y){return t[0]=n,t[1]=r,t[2]=g,t[3]=y,t}function copyRgba(t,n){return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t}var colorCache=new LRU(20),lastRemovedArr=null;function putToCache(t,n){lastRemovedArr&&copyRgba(lastRemovedArr,n),lastRemovedArr=colorCache.put(t,lastRemovedArr||n.slice())}function parse(t,n){if(t){n=n||[];var r=colorCache.get(t);if(r)return copyRgba(n,r);t=t+"";var g=t.replace(/ /g,"").toLowerCase();if(g in kCSSColorTable)return copyRgba(n,kCSSColorTable[g]),putToCache(t,n),n;var y=g.length;if(g.charAt(0)==="#"){if(y===4||y===5){var $=parseInt(g.slice(1,4),16);if(!($>=0&&$<=4095)){setRgba(n,0,0,0,1);return}return setRgba(n,($&3840)>>4|($&3840)>>8,$&240|($&240)>>4,$&15|($&15)<<4,y===5?parseInt(g.slice(4),16)/15:1),putToCache(t,n),n}else if(y===7||y===9){var $=parseInt(g.slice(1,7),16);if(!($>=0&&$<=16777215)){setRgba(n,0,0,0,1);return}return setRgba(n,($&16711680)>>16,($&65280)>>8,$&255,y===9?parseInt(g.slice(7),16)/255:1),putToCache(t,n),n}return}var L=g.indexOf("("),V=g.indexOf(")");if(L!==-1&&V+1===y){var z=g.substr(0,L),j=g.substr(L+1,V-(L+1)).split(","),re=1;switch(z){case"rgba":if(j.length!==4)return j.length===3?setRgba(n,+j[0],+j[1],+j[2],1):setRgba(n,0,0,0,1);re=parseCssFloat(j.pop());case"rgb":if(j.length>=3)return setRgba(n,parseCssInt(j[0]),parseCssInt(j[1]),parseCssInt(j[2]),j.length===3?re:parseCssFloat(j[3])),putToCache(t,n),n;setRgba(n,0,0,0,1);return;case"hsla":if(j.length!==4){setRgba(n,0,0,0,1);return}return j[3]=parseCssFloat(j[3]),hsla2rgba(j,n),putToCache(t,n),n;case"hsl":if(j.length!==3){setRgba(n,0,0,0,1);return}return hsla2rgba(j,n),putToCache(t,n),n;default:return}}setRgba(n,0,0,0,1)}}function hsla2rgba(t,n){var r=(parseFloat(t[0])%360+360)%360/360,g=parseCssFloat(t[1]),y=parseCssFloat(t[2]),$=y<=.5?y*(g+1):y+g-y*g,L=y*2-$;return n=n||[],setRgba(n,clampCssByte(cssHueToRgb(L,$,r+1/3)*255),clampCssByte(cssHueToRgb(L,$,r)*255),clampCssByte(cssHueToRgb(L,$,r-1/3)*255),1),t.length===4&&(n[3]=t[3]),n}function rgba2hsla(t){if(t){var n=t[0]/255,r=t[1]/255,g=t[2]/255,y=Math.min(n,r,g),$=Math.max(n,r,g),L=$-y,V=($+y)/2,z,j;if(L===0)z=0,j=0;else{V<.5?j=L/($+y):j=L/(2-$-y);var re=(($-n)/6+L/2)/L,ae=(($-r)/6+L/2)/L,oe=(($-g)/6+L/2)/L;n===$?z=oe-ae:r===$?z=1/3+re-oe:g===$&&(z=2/3+ae-re),z<0&&(z+=1),z>1&&(z-=1)}var ie=[z*360,j,V];return t[3]!=null&&ie.push(t[3]),ie}}function lift(t,n){var r=parse(t);if(r){for(var g=0;g<3;g++)n<0?r[g]=r[g]*(1-n)|0:r[g]=(255-r[g])*n+r[g]|0,r[g]>255?r[g]=255:r[g]<0&&(r[g]=0);return stringify(r,r.length===4?"rgba":"rgb")}}function fastLerp(t,n,r){if(!(!(n&&n.length)||!(t>=0&&t<=1))){r=r||[];var g=t*(n.length-1),y=Math.floor(g),$=Math.ceil(g),L=n[y],V=n[$],z=g-y;return r[0]=clampCssByte(lerpNumber(L[0],V[0],z)),r[1]=clampCssByte(lerpNumber(L[1],V[1],z)),r[2]=clampCssByte(lerpNumber(L[2],V[2],z)),r[3]=clampCssFloat(lerpNumber(L[3],V[3],z)),r}}function lerp(t,n,r){if(!(!(n&&n.length)||!(t>=0&&t<=1))){var g=t*(n.length-1),y=Math.floor(g),$=Math.ceil(g),L=parse(n[y]),V=parse(n[$]),z=g-y,j=stringify([clampCssByte(lerpNumber(L[0],V[0],z)),clampCssByte(lerpNumber(L[1],V[1],z)),clampCssByte(lerpNumber(L[2],V[2],z)),clampCssFloat(lerpNumber(L[3],V[3],z))],"rgba");return r?{color:j,leftIndex:y,rightIndex:$,value:g}:j}}function modifyHSL(t,n,r,g){var y=parse(t);if(t)return y=rgba2hsla(y),n!=null&&(y[0]=clampCssAngle(n)),r!=null&&(y[1]=parseCssFloat(r)),g!=null&&(y[2]=parseCssFloat(g)),stringify(hsla2rgba(y),"rgba")}function modifyAlpha(t,n){var r=parse(t);if(r&&n!=null)return r[3]=clampCssFloat(n),stringify(r,"rgba")}function stringify(t,n){if(!(!t||!t.length)){var r=t[0]+","+t[1]+","+t[2];return(n==="rgba"||n==="hsva"||n==="hsla")&&(r+=","+t[3]),n+"("+r+")"}}function lum(t,n){var r=parse(t);return r?(.299*r[0]+.587*r[1]+.114*r[2])*r[3]/255+(1-r[3])*n:0}var liftedColorCache=new LRU(100);function liftColor(t){if(isString(t)){var n=liftedColorCache.get(t);return n||(n=lift(t,-.1),liftedColorCache.put(t,n)),n}else if(isGradientObject(t)){var r=extend({},t);return r.colorStops=map$1(t.colorStops,function(g){return{offset:g.offset,color:lift(g.color,-.1)}}),r}return t}var mathRound$1=Math.round;function normalizeColor(t){var n;if(!t||t==="transparent")t="none";else if(typeof t=="string"&&t.indexOf("rgba")>-1){var r=parse(t);r&&(t="rgb("+r[0]+","+r[1]+","+r[2]+")",n=r[3])}return{color:t,opacity:n??1}}var EPSILON$3=1e-4;function isAroundZero(t){return t<EPSILON$3&&t>-EPSILON$3}function round3(t){return mathRound$1(t*1e3)/1e3}function round4(t){return mathRound$1(t*1e4)/1e4}function getMatrixStr(t){return"matrix("+round3(t[0])+","+round3(t[1])+","+round3(t[2])+","+round3(t[3])+","+round4(t[4])+","+round4(t[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(t,n,r){return r==="top"?t+=n/2:r==="bottom"&&(t-=n/2),t}function hasShadow(t){return t&&(t.shadowBlur||t.shadowOffsetX||t.shadowOffsetY)}function getShadowKey(t){var n=t.style,r=t.getGlobalScale();return[n.shadowColor,(n.shadowBlur||0).toFixed(2),(n.shadowOffsetX||0).toFixed(2),(n.shadowOffsetY||0).toFixed(2),r[0],r[1]].join(",")}function isImagePattern(t){return t&&!!t.image}function isSVGPattern(t){return t&&!!t.svgElement}function isPattern(t){return isImagePattern(t)||isSVGPattern(t)}function isLinearGradient(t){return t.type==="linear"}function isRadialGradient(t){return t.type==="radial"}function isGradient(t){return t&&(t.type==="linear"||t.type==="radial")}function getIdURL(t){return"url(#"+t+")"}function getPathPrecision(t){var n=t.getGlobalScale(),r=Math.max(n[0],n[1]);return Math.max(Math.ceil(Math.log(r)/Math.log(10)),1)}function getSRTTransformString(t){var n=t.x||0,r=t.y||0,g=(t.rotation||0)*RADIAN_TO_DEGREE,y=retrieve2(t.scaleX,1),$=retrieve2(t.scaleY,1),L=t.skewX||0,V=t.skewY||0,z=[];return(n||r)&&z.push("translate("+n+"px,"+r+"px)"),g&&z.push("rotate("+g+")"),(y!==1||$!==1)&&z.push("scale("+y+","+$+")"),(L||V)&&z.push("skew("+mathRound$1(L*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(V*RADIAN_TO_DEGREE)+"deg)"),z.join(" ")}var encodeBase64=function(){return env.hasGlobalWindow&&isFunction(window.btoa)?function(t){return window.btoa(unescape(encodeURIComponent(t)))}:typeof Buffer<"u"?function(t){return Buffer.from(t).toString("base64")}:function(t){return null}}(),arraySlice=Array.prototype.slice;function interpolateNumber$1(t,n,r){return(n-t)*r+t}function interpolate1DArray(t,n,r,g){for(var y=n.length,$=0;$<y;$++)t[$]=interpolateNumber$1(n[$],r[$],g);return t}function interpolate2DArray(t,n,r,g){for(var y=n.length,$=y&&n[0].length,L=0;L<y;L++){t[L]||(t[L]=[]);for(var V=0;V<$;V++)t[L][V]=interpolateNumber$1(n[L][V],r[L][V],g)}return t}function add1DArray(t,n,r,g){for(var y=n.length,$=0;$<y;$++)t[$]=n[$]+r[$]*g;return t}function add2DArray(t,n,r,g){for(var y=n.length,$=y&&n[0].length,L=0;L<y;L++){t[L]||(t[L]=[]);for(var V=0;V<$;V++)t[L][V]=n[L][V]+r[L][V]*g}return t}function fillColorStops(t,n){for(var r=t.length,g=n.length,y=r>g?n:t,$=Math.min(r,g),L=y[$-1]||{color:[0,0,0,0],offset:0},V=$;V<Math.max(r,g);V++)y.push({offset:L.offset,color:L.color.slice()})}function fillArray(t,n,r){var g=t,y=n;if(!(!g.push||!y.push)){var $=g.length,L=y.length;if($!==L){var V=$>L;if(V)g.length=L;else for(var z=$;z<L;z++)g.push(r===1?y[z]:arraySlice.call(y[z]))}for(var j=g[0]&&g[0].length,z=0;z<g.length;z++)if(r===1)isNaN(g[z])&&(g[z]=y[z]);else for(var re=0;re<j;re++)isNaN(g[z][re])&&(g[z][re]=y[z][re])}}function cloneValue(t){if(isArrayLike(t)){var n=t.length;if(isArrayLike(t[0])){for(var r=[],g=0;g<n;g++)r.push(arraySlice.call(t[g]));return r}return arraySlice.call(t)}return t}function rgba2String(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=t[3]==null?1:t[3],"rgba("+t.join(",")+")"}function guessArrayDim(t){return isArrayLike(t&&t[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(t){return t===VALUE_TYPE_LINEAR_GRADIENT||t===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(t){return t===VALUE_TYPE_1D_ARRAY||t===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function t(n){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=n}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(n,r,g){this._needsSort=!0;var y=this.keyframes,$=y.length,L=!1,V=VALUE_TYPE_UNKOWN,z=r;if(isArrayLike(r)){var j=guessArrayDim(r);V=j,(j===1&&!isNumber(r[0])||j===2&&!isNumber(r[0][0]))&&(L=!0)}else if(isNumber(r)&&!eqNaN(r))V=VALUE_TYPE_NUMBER;else if(isString(r))if(!isNaN(+r))V=VALUE_TYPE_NUMBER;else{var re=parse(r);re&&(z=re,V=VALUE_TYPE_COLOR)}else if(isGradientObject(r)){var ae=extend({},z);ae.colorStops=map$1(r.colorStops,function(ie){return{offset:ie.offset,color:parse(ie.color)}}),isLinearGradient(r)?V=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(r)&&(V=VALUE_TYPE_RADIAL_GRADIENT),z=ae}$===0?this.valType=V:(V!==this.valType||V===VALUE_TYPE_UNKOWN)&&(L=!0),this.discrete=this.discrete||L;var oe={time:n,value:z,rawValue:r,percent:0};return g&&(oe.easing=g,oe.easingFunc=isFunction(g)?g:easingFuncs[g]||createCubicEasingFunc(g)),y.push(oe),oe},t.prototype.prepare=function(n,r){var g=this.keyframes;this._needsSort&&g.sort(function(ue,de){return ue.time-de.time});for(var y=this.valType,$=g.length,L=g[$-1],V=this.discrete,z=isArrayValueType(y),j=isGradientValueType(y),re=0;re<$;re++){var ae=g[re],oe=ae.value,ie=L.value;ae.percent=ae.time/n,V||(z&&re!==$-1?fillArray(oe,ie,y):j&&fillColorStops(oe.colorStops,ie.colorStops))}if(!V&&y!==VALUE_TYPE_RADIAL_GRADIENT&&r&&this.needsAnimate()&&r.needsAnimate()&&y===r.valType&&!r._finished){this._additiveTrack=r;for(var le=g[0].value,re=0;re<$;re++)y===VALUE_TYPE_NUMBER?g[re].additiveValue=g[re].value-le:y===VALUE_TYPE_COLOR?g[re].additiveValue=add1DArray([],g[re].value,le,-1):isArrayValueType(y)&&(g[re].additiveValue=y===VALUE_TYPE_1D_ARRAY?add1DArray([],g[re].value,le,-1):add2DArray([],g[re].value,le,-1))}},t.prototype.step=function(n,r){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var g=this._additiveTrack!=null,y=g?"additiveValue":"value",$=this.valType,L=this.keyframes,V=L.length,z=this.propName,j=$===VALUE_TYPE_COLOR,re,ae=this._lastFr,oe=Math.min,ie,le;if(V===1)ie=le=L[0];else{if(r<0)re=0;else if(r<this._lastFrP){var ue=oe(ae+1,V-1);for(re=ue;re>=0&&!(L[re].percent<=r);re--);re=oe(re,V-2)}else{for(re=ae;re<V&&!(L[re].percent>r);re++);re=oe(re-1,V-2)}le=L[re+1],ie=L[re]}if(ie&&le){this._lastFr=re,this._lastFrP=r;var de=le.percent-ie.percent,he=de===0?1:oe((r-ie.percent)/de,1);le.easingFunc&&(he=le.easingFunc(he));var pe=g?this._additiveValue:j?tmpRgba:n[z];if((isArrayValueType($)||j)&&!pe&&(pe=this._additiveValue=[]),this.discrete)n[z]=he<1?ie.rawValue:le.rawValue;else if(isArrayValueType($))$===VALUE_TYPE_1D_ARRAY?interpolate1DArray(pe,ie[y],le[y],he):interpolate2DArray(pe,ie[y],le[y],he);else if(isGradientValueType($)){var _e=ie[y],Ce=le[y],xe=$===VALUE_TYPE_LINEAR_GRADIENT;n[z]={type:xe?"linear":"radial",x:interpolateNumber$1(_e.x,Ce.x,he),y:interpolateNumber$1(_e.y,Ce.y,he),colorStops:map$1(_e.colorStops,function($e,Oe){var Ne=Ce.colorStops[Oe];return{offset:interpolateNumber$1($e.offset,Ne.offset,he),color:rgba2String(interpolate1DArray([],$e.color,Ne.color,he))}}),global:Ce.global},xe?(n[z].x2=interpolateNumber$1(_e.x2,Ce.x2,he),n[z].y2=interpolateNumber$1(_e.y2,Ce.y2,he)):n[z].r=interpolateNumber$1(_e.r,Ce.r,he)}else if(j)interpolate1DArray(pe,ie[y],le[y],he),g||(n[z]=rgba2String(pe));else{var Ie=interpolateNumber$1(ie[y],le[y],he);g?this._additiveValue=Ie:n[z]=Ie}g&&this._addToTarget(n)}}},t.prototype._addToTarget=function(n){var r=this.valType,g=this.propName,y=this._additiveValue;r===VALUE_TYPE_NUMBER?n[g]=n[g]+y:r===VALUE_TYPE_COLOR?(parse(n[g],tmpRgba),add1DArray(tmpRgba,tmpRgba,y,1),n[g]=rgba2String(tmpRgba)):r===VALUE_TYPE_1D_ARRAY?add1DArray(n[g],n[g],y,1):r===VALUE_TYPE_2D_ARRAY&&add2DArray(n[g],n[g],y,1)},t}(),Animator=function(){function t(n,r,g,y){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=n,this._loop=r,r&&y){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=y,this._allowDiscrete=g}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(n){this._target=n},t.prototype.when=function(n,r,g){return this.whenWithKeys(n,r,keys(r),g)},t.prototype.whenWithKeys=function(n,r,g,y){for(var $=this._tracks,L=0;L<g.length;L++){var V=g[L],z=$[V];if(!z){z=$[V]=new Track(V);var j=void 0,re=this._getAdditiveTrack(V);if(re){var ae=re.keyframes,oe=ae[ae.length-1];j=oe&&oe.value,re.valType===VALUE_TYPE_COLOR&&j&&(j=rgba2String(j))}else j=this._target[V];if(j==null)continue;n>0&&z.addKeyframe(0,cloneValue(j),y),this._trackKeys.push(V)}z.addKeyframe(n,cloneValue(r[V]),y)}return this._maxTime=Math.max(this._maxTime,n),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(n){return this._maxTime=n,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var n=this._doneCbs;if(n)for(var r=n.length,g=0;g<r;g++)n[g].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var n=this.animation,r=this._abortedCbs;if(n&&n.removeClip(this._clip),this._clip=null,r)for(var g=0;g<r.length;g++)r[g].call(this)},t.prototype._setTracksFinished=function(){for(var n=this._tracks,r=this._trackKeys,g=0;g<r.length;g++)n[r[g]].setFinished()},t.prototype._getAdditiveTrack=function(n){var r,g=this._additiveAnimators;if(g)for(var y=0;y<g.length;y++){var $=g[y].getTrack(n);$&&(r=$)}return r},t.prototype.start=function(n){if(!(this._started>0)){this._started=1;for(var r=this,g=[],y=this._maxTime||0,$=0;$<this._trackKeys.length;$++){var L=this._trackKeys[$],V=this._tracks[L],z=this._getAdditiveTrack(L),j=V.keyframes,re=j.length;if(V.prepare(y,z),V.needsAnimate())if(!this._allowDiscrete&&V.discrete){var ae=j[re-1];ae&&(r._target[V.propName]=ae.rawValue),V.setFinished()}else g.push(V)}if(g.length||this._force){var oe=new Clip({life:y,loop:this._loop,delay:this._delay||0,onframe:function(ie){r._started=2;var le=r._additiveAnimators;if(le){for(var ue=!1,de=0;de<le.length;de++)if(le[de]._clip){ue=!0;break}ue||(r._additiveAnimators=null)}for(var de=0;de<g.length;de++)g[de].step(r._target,ie);var he=r._onframeCbs;if(he)for(var de=0;de<he.length;de++)he[de](r._target,ie)},ondestroy:function(){r._doneCallback()}});this._clip=oe,this.animation&&this.animation.addClip(oe),n&&oe.setEasing(n)}else this._doneCallback();return this}},t.prototype.stop=function(n){if(this._clip){var r=this._clip;n&&r.onframe(1),this._abortedCallback()}},t.prototype.delay=function(n){return this._delay=n,this},t.prototype.during=function(n){return n&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(n)),this},t.prototype.done=function(n){return n&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(n)),this},t.prototype.aborted=function(n){return n&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(n)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(n){return this._tracks[n]},t.prototype.getTracks=function(){var n=this;return map$1(this._trackKeys,function(r){return n._tracks[r]})},t.prototype.stopTracks=function(n,r){if(!n.length||!this._clip)return!0;for(var g=this._tracks,y=this._trackKeys,$=0;$<n.length;$++){var L=g[n[$]];L&&!L.isFinished()&&(r?L.step(this._target,1):this._started===1&&L.step(this._target,0),L.setFinished())}for(var V=!0,$=0;$<y.length;$++)if(!g[y[$]].isFinished()){V=!1;break}return V&&this._abortedCallback(),V},t.prototype.saveTo=function(n,r,g){if(n){r=r||this._trackKeys;for(var y=0;y<r.length;y++){var $=r[y],L=this._tracks[$];if(!(!L||L.isFinished())){var V=L.keyframes,z=V[g?0:V.length-1];z&&(n[$]=cloneValue(z.rawValue))}}}},t.prototype.__changeFinalValue=function(n,r){r=r||keys(n);for(var g=0;g<r.length;g++){var y=r[g],$=this._tracks[y];if($){var L=$.keyframes;if(L.length>1){var V=L.pop();$.addKeyframe(V.time,n[y]),$.prepare(this._maxTime,$.getAdditiveTrack())}}}},t}();function getTime(){return new Date().getTime()}var Animation=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;return g._running=!1,g._time=0,g._pausedTime=0,g._pauseStart=0,g._paused=!1,r=r||{},g.stage=r.stage||{},g}return n.prototype.addClip=function(r){r.animation&&this.removeClip(r),this._head?(this._tail.next=r,r.prev=this._tail,r.next=null,this._tail=r):this._head=this._tail=r,r.animation=this},n.prototype.addAnimator=function(r){r.animation=this;var g=r.getClip();g&&this.addClip(g)},n.prototype.removeClip=function(r){if(r.animation){var g=r.prev,y=r.next;g?g.next=y:this._head=y,y?y.prev=g:this._tail=g,r.next=r.prev=r.animation=null}},n.prototype.removeAnimator=function(r){var g=r.getClip();g&&this.removeClip(g),r.animation=null},n.prototype.update=function(r){for(var g=getTime()-this._pausedTime,y=g-this._time,$=this._head;$;){var L=$.next,V=$.step(g,y);V&&($.ondestroy(),this.removeClip($)),$=L}this._time=g,r||(this.trigger("frame",y),this.stage.update&&this.stage.update())},n.prototype._startLoop=function(){var r=this;this._running=!0;function g(){r._running&&(requestAnimationFrame$1(g),!r._paused&&r.update())}requestAnimationFrame$1(g)},n.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},n.prototype.stop=function(){this._running=!1},n.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},n.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},n.prototype.clear=function(){for(var r=this._head;r;){var g=r.next;r.prev=r.next=r.animation=null,r=g}this._head=this._tail=null},n.prototype.isFinished=function(){return this._head==null},n.prototype.animate=function(r,g){g=g||{},this.start();var y=new Animator(r,g.loop);return this.addAnimator(y),y},n}(Eventful),TOUCH_CLICK_DELAY=300,globalEventSupported=env.domSupported,localNativeListenerNames=function(){var t=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],n=["touchstart","touchend","touchmove"],r={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},g=map$1(t,function(y){var $=y.replace("mouse","pointer");return r.hasOwnProperty($)?$:y});return{mouse:t,touch:n,pointer:g}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(t){var n=t.pointerType;return n==="pen"||n==="touch"}function setTouchTimer(t){t.touching=!0,t.touchTimer!=null&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout(function(){t.touching=!1,t.touchTimer=null},700)}function markTouch(t){t&&(t.zrByTouch=!0)}function normalizeGlobalEvent(t,n){return normalizeEvent(t.dom,new FakeGlobalEvent(t,n),!0)}function isLocalEl(t,n){for(var r=n,g=!1;r&&r.nodeType!==9&&!(g=r.domBelongToZr||r!==n&&r===t.painterRoot);)r=r.parentNode;return g}var FakeGlobalEvent=function(){function t(n,r){this.stopPropagation=noop,this.stopImmediatePropagation=noop,this.preventDefault=noop,this.type=r.type,this.target=this.currentTarget=n.dom,this.pointerType=r.pointerType,this.clientX=r.clientX,this.clientY=r.clientY}return t}(),localDOMHandlers={mousedown:function(t){t=normalizeEvent(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=normalizeEvent(this.dom,t);var n=this.__mayPointerCapture;n&&(t.zrX!==n[0]||t.zrY!==n[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=normalizeEvent(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){t=normalizeEvent(this.dom,t);var n=t.toElement||t.relatedTarget;isLocalEl(this,n)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){wheelEventSupported=!0,t=normalizeEvent(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){wheelEventSupported||(t=normalizeEvent(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),localDOMHandlers.mousemove.call(this,t),localDOMHandlers.mousedown.call(this,t)},touchmove:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.handler.processGesture(t,"change"),localDOMHandlers.mousemove.call(this,t)},touchend:function(t){t=normalizeEvent(this.dom,t),markTouch(t),this.handler.processGesture(t,"end"),localDOMHandlers.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,t)},pointerdown:function(t){localDOMHandlers.mousedown.call(this,t)},pointermove:function(t){isPointerFromTouch(t)||localDOMHandlers.mousemove.call(this,t)},pointerup:function(t){localDOMHandlers.mouseup.call(this,t)},pointerout:function(t){isPointerFromTouch(t)||localDOMHandlers.mouseout.call(this,t)}};each$f(["click","dblclick","contextmenu"],function(t){localDOMHandlers[t]=function(n){n=normalizeEvent(this.dom,n),this.trigger(t,n)}});var globalDOMHandlers={pointermove:function(t){isPointerFromTouch(t)||globalDOMHandlers.mousemove.call(this,t)},pointerup:function(t){globalDOMHandlers.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var n=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),n&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function mountLocalDOMEventListeners(t,n){var r=n.domHandlers;env.pointerEventsSupported?each$f(localNativeListenerNames.pointer,function(g){mountSingleDOMEventListener(n,g,function(y){r[g].call(t,y)})}):(env.touchEventsSupported&&each$f(localNativeListenerNames.touch,function(g){mountSingleDOMEventListener(n,g,function(y){r[g].call(t,y),setTouchTimer(n)})}),each$f(localNativeListenerNames.mouse,function(g){mountSingleDOMEventListener(n,g,function(y){y=getNativeEvent(y),n.touching||r[g].call(t,y)})}))}function mountGlobalDOMEventListeners(t,n){env.pointerEventsSupported?each$f(globalNativeListenerNames.pointer,r):env.touchEventsSupported||each$f(globalNativeListenerNames.mouse,r);function r(g){function y($){$=getNativeEvent($),isLocalEl(t,$.target)||($=normalizeGlobalEvent(t,$),n.domHandlers[g].call(t,$))}mountSingleDOMEventListener(n,g,y,{capture:!0})}}function mountSingleDOMEventListener(t,n,r,g){t.mounted[n]=r,t.listenerOpts[n]=g,addEventListener(t.domTarget,n,r,g)}function unmountDOMEventListeners(t){var n=t.mounted;for(var r in n)n.hasOwnProperty(r)&&removeEventListener(t.domTarget,r,n[r],t.listenerOpts[r]);t.mounted={}}var DOMHandlerScope=function(){function t(n,r){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=n,this.domHandlers=r}return t}(),HandlerDomProxy=function(t){__extends(n,t);function n(r,g){var y=t.call(this)||this;return y.__pointerCapturing=!1,y.dom=r,y.painterRoot=g,y._localHandlerScope=new DOMHandlerScope(r,localDOMHandlers),globalEventSupported&&(y._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(y,y._localHandlerScope),y}return n.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},n.prototype.setCursor=function(r){this.dom.style&&(this.dom.style.cursor=r||"default")},n.prototype.__togglePointerCapture=function(r){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+r){this.__pointerCapturing=r;var g=this._globalHandlerScope;r?mountGlobalDOMEventListeners(this,g):unmountDOMEventListeners(g)}},n}(Eventful),dpr=1;env.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity,EPSILON$2=5e-5;function isNotAroundZero(t){return t>EPSILON$2||t<-EPSILON$2}var scaleTmp=[],tmpTransform=[],originTransform=create$1(),abs=Math.abs,Transformable=function(){function t(){}return t.prototype.getLocalTransform=function(n){return t.getLocalTransform(this,n)},t.prototype.setPosition=function(n){this.x=n[0],this.y=n[1]},t.prototype.setScale=function(n){this.scaleX=n[0],this.scaleY=n[1]},t.prototype.setSkew=function(n){this.skewX=n[0],this.skewY=n[1]},t.prototype.setOrigin=function(n){this.originX=n[0],this.originY=n[1]},t.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},t.prototype.updateTransform=function(){var n=this.parent&&this.parent.transform,r=this.needLocalTransform(),g=this.transform;if(!(r||n)){g&&(mIdentity(g),this.invTransform=null);return}g=g||create$1(),r?this.getLocalTransform(g):mIdentity(g),n&&(r?mul(g,n,g):copy(g,n)),this.transform=g,this._resolveGlobalScaleRatio(g)},t.prototype._resolveGlobalScaleRatio=function(n){var r=this.globalScaleRatio;if(r!=null&&r!==1){this.getGlobalScale(scaleTmp);var g=scaleTmp[0]<0?-1:1,y=scaleTmp[1]<0?-1:1,$=((scaleTmp[0]-g)*r+g)/scaleTmp[0]||0,L=((scaleTmp[1]-y)*r+y)/scaleTmp[1]||0;n[0]*=$,n[1]*=$,n[2]*=L,n[3]*=L}this.invTransform=this.invTransform||create$1(),invert(this.invTransform,n)},t.prototype.getComputedTransform=function(){for(var n=this,r=[];n;)r.push(n),n=n.parent;for(;n=r.pop();)n.updateTransform();return this.transform},t.prototype.setLocalTransform=function(n){if(n){var r=n[0]*n[0]+n[1]*n[1],g=n[2]*n[2]+n[3]*n[3],y=Math.atan2(n[1],n[0]),$=Math.PI/2+y-Math.atan2(n[3],n[2]);g=Math.sqrt(g)*Math.cos($),r=Math.sqrt(r),this.skewX=$,this.skewY=0,this.rotation=-y,this.x=+n[4],this.y=+n[5],this.scaleX=r,this.scaleY=g,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var n=this.parent,r=this.transform;n&&n.transform&&(n.invTransform=n.invTransform||create$1(),mul(tmpTransform,n.invTransform,r),r=tmpTransform);var g=this.originX,y=this.originY;(g||y)&&(originTransform[4]=g,originTransform[5]=y,mul(tmpTransform,r,originTransform),tmpTransform[4]-=g,tmpTransform[5]-=y,r=tmpTransform),this.setLocalTransform(r)}},t.prototype.getGlobalScale=function(n){var r=this.transform;return n=n||[],r?(n[0]=Math.sqrt(r[0]*r[0]+r[1]*r[1]),n[1]=Math.sqrt(r[2]*r[2]+r[3]*r[3]),r[0]<0&&(n[0]=-n[0]),r[3]<0&&(n[1]=-n[1]),n):(n[0]=1,n[1]=1,n)},t.prototype.transformCoordToLocal=function(n,r){var g=[n,r],y=this.invTransform;return y&&applyTransform$1(g,g,y),g},t.prototype.transformCoordToGlobal=function(n,r){var g=[n,r],y=this.transform;return y&&applyTransform$1(g,g,y),g},t.prototype.getLineScale=function(){var n=this.transform;return n&&abs(n[0]-1)>1e-10&&abs(n[3]-1)>1e-10?Math.sqrt(abs(n[0]*n[3]-n[2]*n[1])):1},t.prototype.copyTransform=function(n){copyTransform(this,n)},t.getLocalTransform=function(n,r){r=r||[];var g=n.originX||0,y=n.originY||0,$=n.scaleX,L=n.scaleY,V=n.anchorX,z=n.anchorY,j=n.rotation||0,re=n.x,ae=n.y,oe=n.skewX?Math.tan(n.skewX):0,ie=n.skewY?Math.tan(-n.skewY):0;if(g||y||V||z){var le=g+V,ue=y+z;r[4]=-le*$-oe*ue*L,r[5]=-ue*L-ie*le*$}else r[4]=r[5]=0;return r[0]=$,r[3]=L,r[1]=ie*$,r[2]=oe*L,j&&rotate(r,r,j),r[4]+=g+re,r[5]+=y+ae,r},t.initDefaultProps=function(){var n=t.prototype;n.scaleX=n.scaleY=n.globalScaleRatio=1,n.x=n.y=n.originX=n.originY=n.skewX=n.skewY=n.rotation=n.anchorX=n.anchorY=0}(),t}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(t,n){for(var r=0;r<TRANSFORMABLE_PROPS.length;r++){var g=TRANSFORMABLE_PROPS[r];t[g]=n[g]}}var textWidthCache={};function getWidth(t,n){n=n||DEFAULT_FONT;var r=textWidthCache[n];r||(r=textWidthCache[n]=new LRU(500));var g=r.get(t);return g==null&&(g=platformApi.measureText(t,n).width,r.put(t,g)),g}function innerGetBoundingRect(t,n,r,g){var y=getWidth(t,n),$=getLineHeight(n),L=adjustTextX(0,y,r),V=adjustTextY(0,$,g),z=new BoundingRect(L,V,y,$);return z}function getBoundingRect(t,n,r,g){var y=((t||"")+"").split(`
`),$=y.length;if($===1)return innerGetBoundingRect(y[0],n,r,g);for(var L=new BoundingRect(0,0,0,0),V=0;V<y.length;V++){var z=innerGetBoundingRect(y[V],n,r,g);V===0?L.copy(z):L.union(z)}return L}function adjustTextX(t,n,r){return r==="right"?t-=n:r==="center"&&(t-=n/2),t}function adjustTextY(t,n,r){return r==="middle"?t-=n/2:r==="bottom"&&(t-=n),t}function getLineHeight(t){return getWidth("",t)}function parsePercent$1(t,n){return typeof t=="string"?t.lastIndexOf("%")>=0?parseFloat(t)/100*n:parseFloat(t):t}function calculateTextPosition(t,n,r){var g=n.position||"inside",y=n.distance!=null?n.distance:5,$=r.height,L=r.width,V=$/2,z=r.x,j=r.y,re="left",ae="top";if(g instanceof Array)z+=parsePercent$1(g[0],r.width),j+=parsePercent$1(g[1],r.height),re=null,ae=null;else switch(g){case"left":z-=y,j+=V,re="right",ae="middle";break;case"right":z+=y+L,j+=V,ae="middle";break;case"top":z+=L/2,j-=y,re="center",ae="bottom";break;case"bottom":z+=L/2,j+=$+y,re="center";break;case"inside":z+=L/2,j+=V,re="center",ae="middle";break;case"insideLeft":z+=y,j+=V,ae="middle";break;case"insideRight":z+=L-y,j+=V,re="right",ae="middle";break;case"insideTop":z+=L/2,j+=y,re="center";break;case"insideBottom":z+=L/2,j+=$-y,re="center",ae="bottom";break;case"insideTopLeft":z+=y,j+=y;break;case"insideTopRight":z+=L-y,j+=y,re="right";break;case"insideBottomLeft":z+=y,j+=$-y,ae="bottom";break;case"insideBottomRight":z+=L-y,j+=$-y,re="right",ae="bottom";break}return t=t||{},t.x=z,t.y=j,t.align=re,t.verticalAlign=ae,t}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(t,n){return t[n]=!0,t},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect(0,0,0,0),Element$1=function(){function t(n){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(n)}return t.prototype._init=function(n){this.attr(n)},t.prototype.drift=function(n,r,g){switch(this.draggable){case"horizontal":r=0;break;case"vertical":n=0;break}var y=this.transform;y||(y=this.transform=[1,0,0,1,0,0]),y[4]+=n,y[5]+=r,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(n){var r=this._textContent;if(r&&(!r.ignore||n)){this.textConfig||(this.textConfig={});var g=this.textConfig,y=g.local,$=r.innerTransformable,L=void 0,V=void 0,z=!1;$.parent=y?this:null;var j=!1;if($.copyTransform(r),g.position!=null){var re=tmpBoundingRect;g.layoutRect?re.copy(g.layoutRect):re.copy(this.getBoundingRect()),y||re.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,g,re):calculateTextPosition(tmpTextPosCalcRes,g,re),$.x=tmpTextPosCalcRes.x,$.y=tmpTextPosCalcRes.y,L=tmpTextPosCalcRes.align,V=tmpTextPosCalcRes.verticalAlign;var ae=g.origin;if(ae&&g.rotation!=null){var oe=void 0,ie=void 0;ae==="center"?(oe=re.width*.5,ie=re.height*.5):(oe=parsePercent$1(ae[0],re.width),ie=parsePercent$1(ae[1],re.height)),j=!0,$.originX=-$.x+oe+(y?0:re.x),$.originY=-$.y+ie+(y?0:re.y)}}g.rotation!=null&&($.rotation=g.rotation);var le=g.offset;le&&($.x+=le[0],$.y+=le[1],j||($.originX=-le[0],$.originY=-le[1]));var ue=g.inside==null?typeof g.position=="string"&&g.position.indexOf("inside")>=0:g.inside,de=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),he=void 0,pe=void 0,_e=void 0;ue&&this.canBeInsideText()?(he=g.insideFill,pe=g.insideStroke,(he==null||he==="auto")&&(he=this.getInsideTextFill()),(pe==null||pe==="auto")&&(pe=this.getInsideTextStroke(he),_e=!0)):(he=g.outsideFill,pe=g.outsideStroke,(he==null||he==="auto")&&(he=this.getOutsideFill()),(pe==null||pe==="auto")&&(pe=this.getOutsideStroke(he),_e=!0)),he=he||"#000",(he!==de.fill||pe!==de.stroke||_e!==de.autoStroke||L!==de.align||V!==de.verticalAlign)&&(z=!0,de.fill=he,de.stroke=pe,de.autoStroke=_e,de.align=L,de.verticalAlign=V,r.setDefaultTextStyle(de)),r.__dirty|=REDRAW_BIT,z&&r.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(n){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},t.prototype.getOutsideStroke=function(n){var r=this.__zr&&this.__zr.getBackgroundColor(),g=typeof r=="string"&&parse(r);g||(g=[255,255,255,1]);for(var y=g[3],$=this.__zr.isDarkMode(),L=0;L<3;L++)g[L]=g[L]*y+($?0:255)*(1-y);return g[3]=1,stringify(g,"rgba")},t.prototype.traverse=function(n,r){},t.prototype.attrKV=function(n,r){n==="textConfig"?this.setTextConfig(r):n==="textContent"?this.setTextContent(r):n==="clipPath"?this.setClipPath(r):n==="extra"?(this.extra=this.extra||{},extend(this.extra,r)):this[n]=r},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(n,r){if(typeof n=="string")this.attrKV(n,r);else if(isObject$3(n))for(var g=n,y=keys(g),$=0;$<y.length;$++){var L=y[$];this.attrKV(L,n[L])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(n){this._innerSaveToNormal(n);for(var r=this._normalState,g=0;g<this.animators.length;g++){var y=this.animators[g],$=y.__fromStateTransition;if(!(y.getLoop()||$&&$!==PRESERVED_NORMAL_STATE)){var L=y.targetName,V=L?r[L]:r;y.saveTo(V)}}},t.prototype._innerSaveToNormal=function(n){var r=this._normalState;r||(r=this._normalState={}),n.textConfig&&!r.textConfig&&(r.textConfig=this.textConfig),this._savePrimaryToNormal(n,r,PRIMARY_STATES_KEYS$1)},t.prototype._savePrimaryToNormal=function(n,r,g){for(var y=0;y<g.length;y++){var $=g[y];n[$]!=null&&!($ in r)&&(r[$]=this[$])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(n){return this.states[n]},t.prototype.ensureState=function(n){var r=this.states;return r[n]||(r[n]={}),r[n]},t.prototype.clearStates=function(n){this.useState(PRESERVED_NORMAL_STATE,!1,n)},t.prototype.useState=function(n,r,g,y){var $=n===PRESERVED_NORMAL_STATE,L=this.hasState();if(!(!L&&$)){var V=this.currentStates,z=this.stateTransition;if(!(indexOf(V,n)>=0&&(r||V.length===1))){var j;if(this.stateProxy&&!$&&(j=this.stateProxy(n)),j||(j=this.states&&this.states[n]),!j&&!$){logError("State "+n+" not exists.");return}$||this.saveCurrentToNormalState(j);var re=!!(j&&j.hoverLayer||y);re&&this._toggleHoverLayerFlag(!0),this._applyStateObj(n,j,this._normalState,r,!g&&!this.__inHover&&z&&z.duration>0,z);var ae=this._textContent,oe=this._textGuide;return ae&&ae.useState(n,r,g,re),oe&&oe.useState(n,r,g,re),$?(this.currentStates=[],this._normalState={}):r?this.currentStates.push(n):this.currentStates=[n],this._updateAnimationTargets(),this.markRedraw(),!re&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),j}}},t.prototype.useStates=function(n,r,g){if(!n.length)this.clearStates();else{var y=[],$=this.currentStates,L=n.length,V=L===$.length;if(V){for(var z=0;z<L;z++)if(n[z]!==$[z]){V=!1;break}}if(V)return;for(var z=0;z<L;z++){var j=n[z],re=void 0;this.stateProxy&&(re=this.stateProxy(j,n)),re||(re=this.states[j]),re&&y.push(re)}var ae=y[L-1],oe=!!(ae&&ae.hoverLayer||g);oe&&this._toggleHoverLayerFlag(!0);var ie=this._mergeStates(y),le=this.stateTransition;this.saveCurrentToNormalState(ie),this._applyStateObj(n.join(","),ie,this._normalState,!1,!r&&!this.__inHover&&le&&le.duration>0,le);var ue=this._textContent,de=this._textGuide;ue&&ue.useStates(n,r,oe),de&&de.useStates(n,r,oe),this._updateAnimationTargets(),this.currentStates=n.slice(),this.markRedraw(),!oe&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},t.prototype.isSilent=function(){for(var n=this.silent,r=this.parent;!n&&r;){if(r.silent){n=!0;break}r=r.parent}return n},t.prototype._updateAnimationTargets=function(){for(var n=0;n<this.animators.length;n++){var r=this.animators[n];r.targetName&&r.changeTarget(this[r.targetName])}},t.prototype.removeState=function(n){var r=indexOf(this.currentStates,n);if(r>=0){var g=this.currentStates.slice();g.splice(r,1),this.useStates(g)}},t.prototype.replaceState=function(n,r,g){var y=this.currentStates.slice(),$=indexOf(y,n),L=indexOf(y,r)>=0;$>=0?L?y.splice($,1):y[$]=r:g&&!L&&y.push(r),this.useStates(y)},t.prototype.toggleState=function(n,r){r?this.useState(n,!0):this.removeState(n)},t.prototype._mergeStates=function(n){for(var r={},g,y=0;y<n.length;y++){var $=n[y];extend(r,$),$.textConfig&&(g=g||{},extend(g,$.textConfig))}return g&&(r.textConfig=g),r},t.prototype._applyStateObj=function(n,r,g,y,$,L){var V=!(r&&y);r&&r.textConfig?(this.textConfig=extend({},y?this.textConfig:g.textConfig),extend(this.textConfig,r.textConfig)):V&&g.textConfig&&(this.textConfig=g.textConfig);for(var z={},j=!1,re=0;re<PRIMARY_STATES_KEYS$1.length;re++){var ae=PRIMARY_STATES_KEYS$1[re],oe=$&&DEFAULT_ANIMATABLE_MAP[ae];r&&r[ae]!=null?oe?(j=!0,z[ae]=r[ae]):this[ae]=r[ae]:V&&g[ae]!=null&&(oe?(j=!0,z[ae]=g[ae]):this[ae]=g[ae])}if(!$)for(var re=0;re<this.animators.length;re++){var ie=this.animators[re],le=ie.targetName;ie.getLoop()||ie.__changeFinalValue(le?(r||g)[le]:r||g)}j&&this._transitionState(n,z,L)},t.prototype._attachComponent=function(n){if(!(n.__zr&&!n.__hostTarget)&&n!==this){var r=this.__zr;r&&n.addSelfToZr(r),n.__zr=r,n.__hostTarget=this}},t.prototype._detachComponent=function(n){n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(n){this._clipPath&&this._clipPath!==n&&this.removeClipPath(),this._attachComponent(n),this._clipPath=n,this.markRedraw()},t.prototype.removeClipPath=function(){var n=this._clipPath;n&&(this._detachComponent(n),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(n){var r=this._textContent;r!==n&&(r&&r!==n&&this.removeTextContent(),n.innerTransformable=new Transformable,this._attachComponent(n),this._textContent=n,this.markRedraw())},t.prototype.setTextConfig=function(n){this.textConfig||(this.textConfig={}),extend(this.textConfig,n),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var n=this._textContent;n&&(n.innerTransformable=null,this._detachComponent(n),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(n){this._textGuide&&this._textGuide!==n&&this.removeTextGuideLine(),this._attachComponent(n),this._textGuide=n,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var n=this._textGuide;n&&(this._detachComponent(n),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var n=this.__zr;n&&(this.__inHover?n.refreshHover():n.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(n){this.__inHover=n;var r=this._textContent,g=this._textGuide;r&&(r.__inHover=n),g&&(g.__inHover=n)},t.prototype.addSelfToZr=function(n){if(this.__zr!==n){this.__zr=n;var r=this.animators;if(r)for(var g=0;g<r.length;g++)n.animation.addAnimator(r[g]);this._clipPath&&this._clipPath.addSelfToZr(n),this._textContent&&this._textContent.addSelfToZr(n),this._textGuide&&this._textGuide.addSelfToZr(n)}},t.prototype.removeSelfFromZr=function(n){if(this.__zr){this.__zr=null;var r=this.animators;if(r)for(var g=0;g<r.length;g++)n.animation.removeAnimator(r[g]);this._clipPath&&this._clipPath.removeSelfFromZr(n),this._textContent&&this._textContent.removeSelfFromZr(n),this._textGuide&&this._textGuide.removeSelfFromZr(n)}},t.prototype.animate=function(n,r,g){var y=n?this[n]:this,$=new Animator(y,r,g);return n&&($.targetName=n),this.addAnimator($,n),$},t.prototype.addAnimator=function(n,r){var g=this.__zr,y=this;n.during(function(){y.updateDuringAnimation(r)}).done(function(){var $=y.animators,L=indexOf($,n);L>=0&&$.splice(L,1)}),this.animators.push(n),g&&g.animation.addAnimator(n),g&&g.wakeUp()},t.prototype.updateDuringAnimation=function(n){this.markRedraw()},t.prototype.stopAnimation=function(n,r){for(var g=this.animators,y=g.length,$=[],L=0;L<y;L++){var V=g[L];!n||n===V.scope?V.stop(r):$.push(V)}return this.animators=$,this},t.prototype.animateTo=function(n,r,g){animateTo(this,n,r,g)},t.prototype.animateFrom=function(n,r,g){animateTo(this,n,r,g,!0)},t.prototype._transitionState=function(n,r,g,y){for(var $=animateTo(this,r,g,y),L=0;L<$.length;L++)$[L].__fromStateTransition=n},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var n=t.prototype;n.type="element",n.name="",n.ignore=n.silent=n.isGroup=n.draggable=n.dragging=n.ignoreClip=n.__inHover=!1,n.__dirty=REDRAW_BIT;function r(g,y,$,L){Object.defineProperty(n,g,{get:function(){if(!this[y]){var z=this[y]=[];V(this,z)}return this[y]},set:function(z){this[$]=z[0],this[L]=z[1],this[y]=z,V(this,z)}});function V(z,j){Object.defineProperty(j,0,{get:function(){return z[$]},set:function(re){z[$]=re}}),Object.defineProperty(j,1,{get:function(){return z[L]},set:function(re){z[L]=re}})}}Object.defineProperty&&(r("position","_legacyPos","x","y"),r("scale","_legacyScale","scaleX","scaleY"),r("origin","_legacyOrigin","originX","originY"))}(),t}();mixin(Element$1,Eventful);mixin(Element$1,Transformable);function animateTo(t,n,r,g,y){r=r||{};var $=[];animateToShallow(t,"",t,n,r,g,$,y);var L=$.length,V=!1,z=r.done,j=r.aborted,re=function(){V=!0,L--,L<=0&&(V?z&&z():j&&j())},ae=function(){L--,L<=0&&(V?z&&z():j&&j())};L||z&&z(),$.length>0&&r.during&&$[0].during(function(le,ue){r.during(ue)});for(var oe=0;oe<$.length;oe++){var ie=$[oe];re&&ie.done(re),ae&&ie.aborted(ae),r.force&&ie.duration(r.duration),ie.start(r.easing)}return $}function copyArrShallow(t,n,r){for(var g=0;g<r;g++)t[g]=n[g]}function is2DArray(t){return isArrayLike(t[0])}function copyValue(t,n,r){if(isArrayLike(n[r]))if(isArrayLike(t[r])||(t[r]=[]),isTypedArray(n[r])){var g=n[r].length;t[r].length!==g&&(t[r]=new n[r].constructor(g),copyArrShallow(t[r],n[r],g))}else{var y=n[r],$=t[r],L=y.length;if(is2DArray(y))for(var V=y[0].length,z=0;z<L;z++)$[z]?copyArrShallow($[z],y[z],V):$[z]=Array.prototype.slice.call(y[z]);else copyArrShallow($,y,L);$.length=y.length}else t[r]=n[r]}function isValueSame(t,n){return t===n||isArrayLike(t)&&isArrayLike(n)&&is1DArraySame(t,n)}function is1DArraySame(t,n){var r=t.length;if(r!==n.length)return!1;for(var g=0;g<r;g++)if(t[g]!==n[g])return!1;return!0}function animateToShallow(t,n,r,g,y,$,L,V){for(var z=keys(g),j=y.duration,re=y.delay,ae=y.additive,oe=y.setToFinal,ie=!isObject$3($),le=t.animators,ue=[],de=0;de<z.length;de++){var he=z[de],pe=g[he];if(pe!=null&&r[he]!=null&&(ie||$[he]))if(isObject$3(pe)&&!isArrayLike(pe)&&!isGradientObject(pe)){if(n){V||(r[he]=pe,t.updateDuringAnimation(n));continue}animateToShallow(t,he,r[he],pe,y,$&&$[he],L,V)}else ue.push(he);else V||(r[he]=pe,t.updateDuringAnimation(n),ue.push(he))}var _e=ue.length;if(!ae&&_e)for(var Ce=0;Ce<le.length;Ce++){var xe=le[Ce];if(xe.targetName===n){var Ie=xe.stopTracks(ue);if(Ie){var $e=indexOf(le,xe);le.splice($e,1)}}}if(y.force||(ue=filter(ue,function(Ve){return!isValueSame(g[Ve],r[Ve])}),_e=ue.length),_e>0||y.force&&!L.length){var Oe=void 0,Ne=void 0,Fe=void 0;if(V){Ne={},oe&&(Oe={});for(var Ce=0;Ce<_e;Ce++){var he=ue[Ce];Ne[he]=r[he],oe?Oe[he]=g[he]:r[he]=g[he]}}else if(oe){Fe={};for(var Ce=0;Ce<_e;Ce++){var he=ue[Ce];Fe[he]=cloneValue(r[he]),copyValue(r,g,he)}}var xe=new Animator(r,!1,!1,ae?filter(le,function(ze){return ze.targetName===n}):null);xe.targetName=n,y.scope&&(xe.scope=y.scope),oe&&Oe&&xe.whenWithKeys(0,Oe,ue),Fe&&xe.whenWithKeys(0,Fe,ue),xe.whenWithKeys(j??500,V?Ne:g,ue).delay(re||0),t.addAnimator(xe,n),L.push(xe)}}var Group$3=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;return g.isGroup=!0,g._children=[],g.attr(r),g}return n.prototype.childrenRef=function(){return this._children},n.prototype.children=function(){return this._children.slice()},n.prototype.childAt=function(r){return this._children[r]},n.prototype.childOfName=function(r){for(var g=this._children,y=0;y<g.length;y++)if(g[y].name===r)return g[y]},n.prototype.childCount=function(){return this._children.length},n.prototype.add=function(r){return r&&r!==this&&r.parent!==this&&(this._children.push(r),this._doAdd(r)),this},n.prototype.addBefore=function(r,g){if(r&&r!==this&&r.parent!==this&&g&&g.parent===this){var y=this._children,$=y.indexOf(g);$>=0&&(y.splice($,0,r),this._doAdd(r))}return this},n.prototype.replace=function(r,g){var y=indexOf(this._children,r);return y>=0&&this.replaceAt(g,y),this},n.prototype.replaceAt=function(r,g){var y=this._children,$=y[g];if(r&&r!==this&&r.parent!==this&&r!==$){y[g]=r,$.parent=null;var L=this.__zr;L&&$.removeSelfFromZr(L),this._doAdd(r)}return this},n.prototype._doAdd=function(r){r.parent&&r.parent.remove(r),r.parent=this;var g=this.__zr;g&&g!==r.__zr&&r.addSelfToZr(g),g&&g.refresh()},n.prototype.remove=function(r){var g=this.__zr,y=this._children,$=indexOf(y,r);return $<0?this:(y.splice($,1),r.parent=null,g&&r.removeSelfFromZr(g),g&&g.refresh(),this)},n.prototype.removeAll=function(){for(var r=this._children,g=this.__zr,y=0;y<r.length;y++){var $=r[y];g&&$.removeSelfFromZr(g),$.parent=null}return r.length=0,this},n.prototype.eachChild=function(r,g){for(var y=this._children,$=0;$<y.length;$++){var L=y[$];r.call(g,L,$)}return this},n.prototype.traverse=function(r,g){for(var y=0;y<this._children.length;y++){var $=this._children[y],L=r.call(g,$);$.isGroup&&!L&&$.traverse(r,g)}return this},n.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var g=0;g<this._children.length;g++){var y=this._children[g];y.addSelfToZr(r)}},n.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var g=0;g<this._children.length;g++){var y=this._children[g];y.removeSelfFromZr(r)}},n.prototype.getBoundingRect=function(r){for(var g=new BoundingRect(0,0,0,0),y=r||this._children,$=[],L=null,V=0;V<y.length;V++){var z=y[V];if(!(z.ignore||z.invisible)){var j=z.getBoundingRect(),re=z.getLocalTransform($);re?(BoundingRect.applyTransform(g,j,re),L=L||g.clone(),L.union(g)):(L=L||j.clone(),L.union(j))}}return L||g},n}(Element$1);Group$3.prototype.type="group";/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(t){delete instances$1[t]}function isDarkMode(t){if(!t)return!1;if(typeof t=="string")return lum(t,1)<DARK_MODE_THRESHOLD;if(t.colorStops){for(var n=t.colorStops,r=0,g=n.length,y=0;y<g;y++)r+=lum(n[y].color,1);return r/=g,r<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function t(n,r,g){var y=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,g=g||{},this.dom=r,this.id=n;var $=new Storage,L=g.renderer||"canvas";painterCtors[L]||(L=keys(painterCtors)[0]),g.useDirtyRect=g.useDirtyRect==null?!1:g.useDirtyRect;var V=new painterCtors[L](r,$,g,n),z=g.ssr||V.ssrOnly;this.storage=$,this.painter=V;var j=!env.node&&!env.worker&&!z?new HandlerDomProxy(V.getViewportRoot(),V.root):null,re=g.useCoarsePointer,ae=re==null||re==="auto"?env.touchEventsSupported:!!re,oe=44,ie;ae&&(ie=retrieve2(g.pointerSize,oe)),this.handler=new Handler($,V,j,V.root,ie),this.animation=new Animation({stage:{update:z?null:function(){return y._flush(!0)}}}),z||this.animation.start()}return t.prototype.add=function(n){this._disposed||!n||(this.storage.addRoot(n),n.addSelfToZr(this),this.refresh())},t.prototype.remove=function(n){this._disposed||!n||(this.storage.delRoot(n),n.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(n,r){this._disposed||(this.painter.configLayer&&this.painter.configLayer(n,r),this.refresh())},t.prototype.setBackgroundColor=function(n){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(n),this.refresh(),this._backgroundColor=n,this._darkMode=isDarkMode(n))},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(n){this._darkMode=n},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(n){this._disposed||(n||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},t.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},t.prototype.flush=function(){this._disposed||this._flush(!1)},t.prototype._flush=function(n){var r,g=getTime();this._needsRefresh&&(r=!0,this.refreshImmediately(n)),this._needsRefreshHover&&(r=!0,this.refreshHoverImmediately());var y=getTime();r?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:y-g})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(n){this._sleepAfterStill=n},t.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},t.prototype.resize=function(n){this._disposed||(n=n||{},this.painter.resize(n.width,n.height),this.handler.resize())},t.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},t.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},t.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},t.prototype.setCursorStyle=function(n){this._disposed||this.handler.setCursorStyle(n)},t.prototype.findHover=function(n,r){if(!this._disposed)return this.handler.findHover(n,r)},t.prototype.on=function(n,r,g){return this._disposed||this.handler.on(n,r,g),this},t.prototype.off=function(n,r){this._disposed||this.handler.off(n,r)},t.prototype.trigger=function(n,r){this._disposed||this.handler.trigger(n,r)},t.prototype.clear=function(){if(!this._disposed){for(var n=this.storage.getRoots(),r=0;r<n.length;r++)n[r]instanceof Group$3&&n[r].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},t.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},t}();function init$2(t,n){var r=new ZRender(guid(),t,n);return instances$1[r.id]=r,r}function registerPainter(t,n){painterCtors[t]=n}var ssrDataGetter;function getElementSSRData(t){if(typeof ssrDataGetter=="function")return ssrDataGetter(t)}function registerSSRDataGetter(t){ssrDataGetter=t}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(t){return t.replace(/^\s+|\s+$/g,"")}function linearMap$2(t,n,r,g){var y=n[0],$=n[1],L=r[0],V=r[1],z=$-y,j=V-L;if(z===0)return j===0?L:(L+V)/2;if(g)if(z>0){if(t<=y)return L;if(t>=$)return V}else{if(t>=y)return L;if(t<=$)return V}else{if(t===y)return L;if(t===$)return V}return(t-y)/z*j+L}function parsePercent(t,n){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%";break}return isString(t)?_trim(t).match(/%$/)?parseFloat(t)/100*n:parseFloat(t):t==null?NaN:+t}function round$3(t,n,r){return n==null&&(n=10),n=Math.min(Math.max(0,n),ROUND_SUPPORTED_PRECISION_MAX),t=(+t).toFixed(n),r?t:+t}function asc$2(t){return t.sort(function(n,r){return n-r}),t}function getPrecision(t){if(t=+t,isNaN(t))return 0;if(t>1e-14){for(var n=1,r=0;r<15;r++,n*=10)if(Math.round(t*n)/n===t)return r}return getPrecisionSafe(t)}function getPrecisionSafe(t){var n=t.toString().toLowerCase(),r=n.indexOf("e"),g=r>0?+n.slice(r+1):0,y=r>0?r:n.length,$=n.indexOf("."),L=$<0?0:y-1-$;return Math.max(0,L-g)}function getPixelPrecision(t,n){var r=Math.log,g=Math.LN10,y=Math.floor(r(t[1]-t[0])/g),$=Math.round(r(Math.abs(n[1]-n[0]))/g),L=Math.min(Math.max(-y+$,0),20);return isFinite(L)?L:20}function getPercentSeats(t,n){var r=reduce(t,function(ie,le){return ie+(isNaN(le)?0:le)},0);if(r===0)return[];for(var g=Math.pow(10,n),y=map$1(t,function(ie){return(isNaN(ie)?0:ie)/r*g*100}),$=g*100,L=map$1(y,function(ie){return Math.floor(ie)}),V=reduce(L,function(ie,le){return ie+le},0),z=map$1(y,function(ie,le){return ie-L[le]});V<$;){for(var j=Number.NEGATIVE_INFINITY,re=null,ae=0,oe=z.length;ae<oe;++ae)z[ae]>j&&(j=z[ae],re=ae);++L[re],z[re]=0,++V}return map$1(L,function(ie){return ie/g})}function addSafe(t,n){var r=Math.max(getPrecision(t),getPrecision(n)),g=t+n;return r>ROUND_SUPPORTED_PRECISION_MAX?g:round$3(g,r)}var MAX_SAFE_INTEGER=9007199254740991;function remRadian(t){var n=Math.PI*2;return(t%n+n)%n}function isRadianAroundZero(t){return t>-RADIAN_EPSILON&&t<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(t){if(t instanceof Date)return t;if(isString(t)){var n=TIME_REG.exec(t);if(!n)return new Date(NaN);if(n[8]){var r=+n[4]||0;return n[8].toUpperCase()!=="Z"&&(r-=+n[8].slice(0,3)),new Date(Date.UTC(+n[1],+(n[2]||1)-1,+n[3]||1,r,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0))}else return new Date(+n[1],+(n[2]||1)-1,+n[3]||1,+n[4]||0,+(n[5]||0),+n[6]||0,n[7]?+n[7].substring(0,3):0)}else if(t==null)return new Date(NaN);return new Date(Math.round(t))}function quantity(t){return Math.pow(10,quantityExponent(t))}function quantityExponent(t){if(t===0)return 0;var n=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,n)>=10&&n++,n}function nice(t,n){var r=quantityExponent(t),g=Math.pow(10,r),y=t/g,$;return y<1.5?$=1:y<2.5?$=2:y<4?$=3:y<7?$=5:$=10,t=$*g,r>=-20?+t.toFixed(r<0?-r:0):t}function quantile(t,n){var r=(t.length-1)*n+1,g=Math.floor(r),y=+t[g-1],$=r-g;return $?y+$*(t[g]-y):y}function reformIntervals(t){t.sort(function(z,j){return V(z,j,0)?-1:1});for(var n=-1/0,r=1,g=0;g<t.length;){for(var y=t[g].interval,$=t[g].close,L=0;L<2;L++)y[L]<=n&&(y[L]=n,$[L]=L?1:1-r),n=y[L],r=$[L];y[0]===y[1]&&$[0]*$[1]!==1?t.splice(g,1):g++}return t;function V(z,j,re){return z.interval[re]<j.interval[re]||z.interval[re]===j.interval[re]&&(z.close[re]-j.close[re]===(re?-1:1)||!re&&V(z,j,1))}}function numericToNumber(t){var n=parseFloat(t);return n==t&&(n!==0||!isString(t)||t.indexOf("x")<=0)?n:NaN}function isNumeric(t){return!isNaN(numericToNumber(t))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(t,n){return n===0?t:getGreatestCommonDividor(n,t%n)}function getLeastCommonMultiple(t,n){return t==null?n:n==null?t:t*n/getGreatestCommonDividor(t,n)}function throwError(t){throw new Error(t)}function interpolateNumber(t,n,r){return(n-t)*r+t}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(t){return t instanceof Array?t:t==null?[]:[t]}function defaultEmphasis(t,n,r){if(t){t[n]=t[n]||{},t.emphasis=t.emphasis||{},t.emphasis[n]=t.emphasis[n]||{};for(var g=0,y=r.length;g<y;g++){var $=r[g];!t.emphasis[n].hasOwnProperty($)&&t[n].hasOwnProperty($)&&(t.emphasis[n][$]=t[n][$])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(t){return isObject$3(t)&&!isArray$1(t)&&!(t instanceof Date)?t.value:t}function isDataItemOption(t){return isObject$3(t)&&!(t instanceof Array)}function mappingToExists(t,n,r){var g=r==="normalMerge",y=r==="replaceMerge",$=r==="replaceAll";t=t||[],n=(n||[]).slice();var L=createHashMap();each$f(n,function(z,j){if(!isObject$3(z)){n[j]=null;return}});var V=prepareResult(t,L,r);return(g||y)&&mappingById(V,t,L,n),g&&mappingByName(V,n),g||y?mappingByIndex(V,n,y):$&&mappingInReplaceAllMode(V,n),makeIdAndName(V),V}function prepareResult(t,n,r){var g=[];if(r==="replaceAll")return g;for(var y=0;y<t.length;y++){var $=t[y];$&&$.id!=null&&n.set($.id,y),g.push({existing:r==="replaceMerge"||isComponentIdInternal($)?null:$,newOption:null,keyInfo:null,brandNew:null})}return g}function mappingById(t,n,r,g){each$f(g,function(y,$){if(!(!y||y.id==null)){var L=makeComparableKey(y.id),V=r.get(L);if(V!=null){var z=t[V];assert(!z.newOption,'Duplicated option on id "'+L+'".'),z.newOption=y,z.existing=n[V],g[$]=null}}})}function mappingByName(t,n){each$f(n,function(r,g){if(!(!r||r.name==null))for(var y=0;y<t.length;y++){var $=t[y].existing;if(!t[y].newOption&&$&&($.id==null||r.id==null)&&!isComponentIdInternal(r)&&!isComponentIdInternal($)&&keyExistAndEqual("name",$,r)){t[y].newOption=r,n[g]=null;return}}})}function mappingByIndex(t,n,r){each$f(n,function(g){if(g){for(var y,$=0;(y=t[$])&&(y.newOption||isComponentIdInternal(y.existing)||y.existing&&g.id!=null&&!keyExistAndEqual("id",g,y.existing));)$++;y?(y.newOption=g,y.brandNew=r):t.push({newOption:g,brandNew:r,existing:null,keyInfo:null}),$++}})}function mappingInReplaceAllMode(t,n){each$f(n,function(r){t.push({newOption:r,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(t){var n=createHashMap();each$f(t,function(r){var g=r.existing;g&&n.set(g.id,r)}),each$f(t,function(r){var g=r.newOption;assert(!g||g.id==null||!n.get(g.id)||n.get(g.id)===r,"id duplicates: "+(g&&g.id)),g&&g.id!=null&&n.set(g.id,r),!r.keyInfo&&(r.keyInfo={})}),each$f(t,function(r,g){var y=r.existing,$=r.newOption,L=r.keyInfo;if(isObject$3($)){if(L.name=$.name!=null?makeComparableKey($.name):y?y.name:DUMMY_COMPONENT_NAME_PREFIX+g,y)L.id=makeComparableKey(y.id);else if($.id!=null)L.id=makeComparableKey($.id);else{var V=0;do L.id="\0"+L.name+"\0"+V++;while(n.get(L.id))}n.set(L.id,r)}})}function keyExistAndEqual(t,n,r){var g=convertOptionIdName(n[t],null),y=convertOptionIdName(r[t],null);return g!=null&&y!=null&&g===y}function makeComparableKey(t){return convertOptionIdName(t,"")}function convertOptionIdName(t,n){return t==null?n:isString(t)?t:isNumber(t)||isStringSafe(t)?t+"":n}function isNameSpecified(t){var n=t.name;return!!(n&&n.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(t){return t&&t.id!=null&&makeComparableKey(t.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function makeInternalComponentId(t){return INTERNAL_COMPONENT_ID_PREFIX+t}function setComponentTypeToKeyInfo(t,n,r){each$f(t,function(g){var y=g.newOption;isObject$3(y)&&(g.keyInfo.mainType=n,g.keyInfo.subType=determineSubType(n,y,g.existing,r))})}function determineSubType(t,n,r,g){var y=n.type?n.type:r?r.subType:g.determineSubType(t,n);return y}function compressBatches(t,n){var r={},g={};return y(t||[],r),y(n||[],g,r),[$(r),$(g)];function y(L,V,z){for(var j=0,re=L.length;j<re;j++){var ae=convertOptionIdName(L[j].seriesId,null);if(ae==null)return;for(var oe=normalizeToArray(L[j].dataIndex),ie=z&&z[ae],le=0,ue=oe.length;le<ue;le++){var de=oe[le];ie&&ie[de]?ie[de]=null:(V[ae]||(V[ae]={}))[de]=1}}}function $(L,V){var z=[];for(var j in L)if(L.hasOwnProperty(j)&&L[j]!=null)if(V)z.push(+j);else{var re=$(L[j],!0);re.length&&z.push({seriesId:j,dataIndex:re})}return z}}function queryDataIndex(t,n){if(n.dataIndexInside!=null)return n.dataIndexInside;if(n.dataIndex!=null)return isArray$1(n.dataIndex)?map$1(n.dataIndex,function(r){return t.indexOfRawIndex(r)}):t.indexOfRawIndex(n.dataIndex);if(n.name!=null)return isArray$1(n.name)?map$1(n.name,function(r){return t.indexOfName(r)}):t.indexOfName(n.name)}function makeInner(){var t="__ec_inner_"+innerUniqueIndex++;return function(n){return n[t]||(n[t]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder$1(t,n,r){var g=preParseFinder(n,r),y=g.mainTypeSpecified,$=g.queryOptionMap,L=g.others,V=L,z=r?r.defaultMainType:null;return!y&&z&&$.set(z,{}),$.each(function(j,re){var ae=queryReferringComponents(t,re,j,{useDefault:z===re,enableAll:r&&r.enableAll!=null?r.enableAll:!0,enableNone:r&&r.enableNone!=null?r.enableNone:!0});V[re+"Models"]=ae.models,V[re+"Model"]=ae.models[0]}),V}function preParseFinder(t,n){var r;if(isString(t)){var g={};g[t+"Index"]=0,r=g}else r=t;var y=createHashMap(),$={},L=!1;return each$f(r,function(V,z){if(z==="dataIndex"||z==="dataIndexInside"){$[z]=V;return}var j=z.match(/^(\w+)(Index|Id|Name)$/)||[],re=j[1],ae=(j[2]||"").toLowerCase();if(!(!re||!ae||n&&n.includeMainTypes&&indexOf(n.includeMainTypes,re)<0)){L=L||!!re;var oe=y.get(re)||y.set(re,{});oe[ae]=V}}),{mainTypeSpecified:L,queryOptionMap:y,others:$}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1},MULTIPLE_REFERRING={useDefault:!1,enableAll:!0,enableNone:!0};function queryReferringComponents(t,n,r,g){g=g||SINGLE_REFERRING;var y=r.index,$=r.id,L=r.name,V={models:null,specified:y!=null||$!=null||L!=null};if(!V.specified){var z=void 0;return V.models=g.useDefault&&(z=t.getComponent(n))?[z]:[],V}return y==="none"||y===!1?(assert(g.enableNone,'`"none"` or `false` is not a valid value on index option.'),V.models=[],V):(y==="all"&&(assert(g.enableAll,'`"all"` is not a valid value on index option.'),y=$=L=null),V.models=t.queryComponents({mainType:n,index:y,id:$,name:L}),V)}function setAttribute(t,n,r){t.setAttribute?t.setAttribute(n,r):t[n]=r}function getAttribute(t,n){return t.getAttribute?t.getAttribute(n):t[n]}function getTooltipRenderMode(t){return t==="auto"?env.domSupported?"html":"richText":t||"html"}function groupData(t,n){var r=createHashMap(),g=[];return each$f(t,function(y){var $=n(y);(r.get($)||(g.push($),r.set($,[]))).push(y)}),{keys:g,buckets:r}}function interpolateRawValues(t,n,r,g,y){var $=n==null||n==="auto";if(g==null)return g;if(isNumber(g)){var L=interpolateNumber(r||0,g,y);return round$3(L,$?Math.max(getPrecision(r||0),getPrecision(g)):n)}else{if(isString(g))return y<1?r:g;for(var V=[],z=r,j=g,re=Math.max(z?z.length:0,j.length),ae=0;ae<re;++ae){var oe=t.getDimensionInfo(ae);if(oe&&oe.type==="ordinal")V[ae]=(y<1&&z?z:j)[ae];else{var ie=z&&z[ae]?z[ae]:0,le=j[ae],L=interpolateNumber(ie,le,y);V[ae]=round$3(L,$?Math.max(getPrecision(ie),getPrecision(le)):n)}}return V}}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(t){var n={main:"",sub:""};if(t){var r=t.split(TYPE_DELIMITER);n.main=r[0]||"",n.sub=r[1]||""}return n}function checkClassType(t){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(t),'componentType "'+t+'" illegal')}function isExtendedClass(t){return!!(t&&t[IS_EXTENDED_CLASS])}function enableClassExtend(t,n){t.$constructor=t,t.extend=function(r){var g=this,y;return isESClass(g)?y=function($){__extends(L,$);function L(){return $.apply(this,arguments)||this}return L}(g):(y=function(){(r.$constructor||g).apply(this,arguments)},inherits(y,this)),extend(y.prototype,r),y[IS_EXTENDED_CLASS]=!0,y.extend=this.extend,y.superCall=superCall,y.superApply=superApply,y.superClass=g,y}}function isESClass(t){return isFunction(t)&&/^class\s/.test(Function.prototype.toString.call(t))}function mountExtend(t,n){t.extend=n.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(t){var n=["__\0is_clz",classBase++].join("_");t.prototype[n]=!0,t.isInstance=function(r){return!!(r&&r[n])}}function superCall(t,n){for(var r=[],g=2;g<arguments.length;g++)r[g-2]=arguments[g];return this.superClass.prototype[n].apply(t,r)}function superApply(t,n,r){return this.superClass.prototype[n].apply(t,r)}function enableClassManagement(t){var n={};t.registerClass=function(g){var y=g.type||g.prototype.type;if(y){checkClassType(y),g.prototype.type=y;var $=parseClassType(y);if(!$.sub)n[$.main]=g;else if($.sub!==IS_CONTAINER){var L=r($);L[$.sub]=g}}return g},t.getClass=function(g,y,$){var L=n[g];if(L&&L[IS_CONTAINER]&&(L=y?L[y]:null),$&&!L)throw new Error(y?"Component "+g+"."+(y||"")+" is used but not imported.":g+".type should be specified.");return L},t.getClassesByMainType=function(g){var y=parseClassType(g),$=[],L=n[y.main];return L&&L[IS_CONTAINER]?each$f(L,function(V,z){z!==IS_CONTAINER&&$.push(V)}):$.push(L),$},t.hasClass=function(g){var y=parseClassType(g);return!!n[y.main]},t.getAllClassMainTypes=function(){var g=[];return each$f(n,function(y,$){g.push($)}),g},t.hasSubTypes=function(g){var y=parseClassType(g),$=n[y.main];return $&&$[IS_CONTAINER]};function r(g){var y=n[g.main];return(!y||!y[IS_CONTAINER])&&(y=n[g.main]={},y[IS_CONTAINER]=!0),y}}function makeStyleMapper(t,n){for(var r=0;r<t.length;r++)t[r][1]||(t[r][1]=t[r][0]);return n=n||!1,function(g,y,$){for(var L={},V=0;V<t.length;V++){var z=t[V][1];if(!(y&&indexOf(y,z)>=0||$&&indexOf($,z)<0)){var j=g.getShallow(z,n);j!=null&&(L[t[V][0]]=j)}}return L}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function t(){}return t.prototype.getAreaStyle=function(n,r){return getAreaStyle(this,n,r)},t}(),globalImageCache=new LRU(50);function findExistImage(t){if(typeof t=="string"){var n=globalImageCache.get(t);return n&&n.image}else return t}function createOrUpdateImage(t,n,r,g,y){if(t)if(typeof t=="string"){if(n&&n.__zrImageSrc===t||!r)return n;var $=globalImageCache.get(t),L={hostEl:r,cb:g,cbPayload:y};return $?(n=$.image,!isImageReady(n)&&$.pending.push(L)):(n=platformApi.loadImage(t,imageOnLoad,imageOnLoad),n.__zrImageSrc=t,globalImageCache.put(t,n.__cachedImgObj={image:n,pending:[L]})),n}else return t;else return n}function imageOnLoad(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var n=0;n<t.pending.length;n++){var r=t.pending[n],g=r.cb;g&&g(this,r.cbPayload),r.hostEl.dirty()}t.pending.length=0}function isImageReady(t){return t&&t.width&&t.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText2(t,n,r,g,y,$){if(!r){t.text="",t.isTruncated=!1;return}var L=(n+"").split(`
`);$=prepareTruncateOptions(r,g,y,$);for(var V=!1,z={},j=0,re=L.length;j<re;j++)truncateSingleLine(z,L[j],$),L[j]=z.textLine,V=V||z.isTruncated;t.text=L.join(`
`),t.isTruncated=V}function prepareTruncateOptions(t,n,r,g){g=g||{};var y=extend({},g);y.font=n,r=retrieve2(r,"..."),y.maxIterations=retrieve2(g.maxIterations,2);var $=y.minChar=retrieve2(g.minChar,0);y.cnCharWidth=getWidth("",n);var L=y.ascCharWidth=getWidth("a",n);y.placeholder=retrieve2(g.placeholder,"");for(var V=t=Math.max(0,t-1),z=0;z<$&&V>=L;z++)V-=L;var j=getWidth(r,n);return j>V&&(r="",j=0),V=t-j,y.ellipsis=r,y.ellipsisWidth=j,y.contentWidth=V,y.containerWidth=t,y}function truncateSingleLine(t,n,r){var g=r.containerWidth,y=r.font,$=r.contentWidth;if(!g){t.textLine="",t.isTruncated=!1;return}var L=getWidth(n,y);if(L<=g){t.textLine=n,t.isTruncated=!1;return}for(var V=0;;V++){if(L<=$||V>=r.maxIterations){n+=r.ellipsis;break}var z=V===0?estimateLength(n,$,r.ascCharWidth,r.cnCharWidth):L>0?Math.floor(n.length*$/L):0;n=n.substr(0,z),L=getWidth(n,y)}n===""&&(n=r.placeholder),t.textLine=n,t.isTruncated=!0}function estimateLength(t,n,r,g){for(var y=0,$=0,L=t.length;$<L&&y<n;$++){var V=t.charCodeAt($);y+=0<=V&&V<=127?r:g}return $}function parsePlainText(t,n){t!=null&&(t+="");var r=n.overflow,g=n.padding,y=n.font,$=r==="truncate",L=getLineHeight(y),V=retrieve2(n.lineHeight,L),z=!!n.backgroundColor,j=n.lineOverflow==="truncate",re=!1,ae=n.width,oe;ae!=null&&(r==="break"||r==="breakAll")?oe=t?wrapText(t,n.font,ae,r==="breakAll",0).lines:[]:oe=t?t.split(`
`):[];var ie=oe.length*V,le=retrieve2(n.height,ie);if(ie>le&&j){var ue=Math.floor(le/V);re=re||oe.length>ue,oe=oe.slice(0,ue)}if(t&&$&&ae!=null)for(var de=prepareTruncateOptions(ae,y,n.ellipsis,{minChar:n.truncateMinChar,placeholder:n.placeholder}),he={},pe=0;pe<oe.length;pe++)truncateSingleLine(he,oe[pe],de),oe[pe]=he.textLine,re=re||he.isTruncated;for(var _e=le,Ce=0,pe=0;pe<oe.length;pe++)Ce=Math.max(getWidth(oe[pe],y),Ce);ae==null&&(ae=Ce);var xe=Ce;return g&&(_e+=g[0]+g[2],xe+=g[1]+g[3],ae+=g[1]+g[3]),z&&(xe=ae),{lines:oe,height:le,outerWidth:xe,outerHeight:_e,lineHeight:V,calculatedLineHeight:L,contentWidth:Ce,contentHeight:ie,width:ae,isTruncated:re}}var RichTextToken=function(){function t(){}return t}(),RichTextLine=function(){function t(n){this.tokens=[],n&&(this.tokens=n)}return t}(),RichTextContentBlock=function(){function t(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[],this.isTruncated=!1}return t}();function parseRichText(t,n){var r=new RichTextContentBlock;if(t!=null&&(t+=""),!t)return r;for(var g=n.width,y=n.height,$=n.overflow,L=($==="break"||$==="breakAll")&&g!=null?{width:g,accumWidth:0,breakAll:$==="breakAll"}:null,V=STYLE_REG.lastIndex=0,z;(z=STYLE_REG.exec(t))!=null;){var j=z.index;j>V&&pushTokens(r,t.substring(V,j),n,L),pushTokens(r,z[2],n,L,z[1]),V=STYLE_REG.lastIndex}V<t.length&&pushTokens(r,t.substring(V,t.length),n,L);var re=[],ae=0,oe=0,ie=n.padding,le=$==="truncate",ue=n.lineOverflow==="truncate",de={};function he(vn,En,Sn){vn.width=En,vn.lineHeight=Sn,ae+=Sn,oe=Math.max(oe,En)}e:for(var pe=0;pe<r.lines.length;pe++){for(var _e=r.lines[pe],Ce=0,xe=0,Ie=0;Ie<_e.tokens.length;Ie++){var $e=_e.tokens[Ie],Oe=$e.styleName&&n.rich[$e.styleName]||{},Ne=$e.textPadding=Oe.padding,Fe=Ne?Ne[1]+Ne[3]:0,Ve=$e.font=Oe.font||n.font;$e.contentHeight=getLineHeight(Ve);var ze=retrieve2(Oe.height,$e.contentHeight);if($e.innerHeight=ze,Ne&&(ze+=Ne[0]+Ne[2]),$e.height=ze,$e.lineHeight=retrieve3(Oe.lineHeight,n.lineHeight,ze),$e.align=Oe&&Oe.align||n.align,$e.verticalAlign=Oe&&Oe.verticalAlign||"middle",ue&&y!=null&&ae+$e.lineHeight>y){var Et=r.lines.length;Ie>0?(_e.tokens=_e.tokens.slice(0,Ie),he(_e,xe,Ce),r.lines=r.lines.slice(0,pe+1)):r.lines=r.lines.slice(0,pe),r.isTruncated=r.isTruncated||r.lines.length<Et;break e}var Dt=Oe.width,Ue=Dt==null||Dt==="auto";if(typeof Dt=="string"&&Dt.charAt(Dt.length-1)==="%")$e.percentWidth=Dt,re.push($e),$e.contentWidth=getWidth($e.text,Ve);else{if(Ue){var qe=Oe.backgroundColor,Lt=qe&&qe.image;Lt&&(Lt=findExistImage(Lt),isImageReady(Lt)&&($e.width=Math.max($e.width,Lt.width*ze/Lt.height)))}var Pt=le&&g!=null?g-xe:null;Pt!=null&&Pt<$e.width?!Ue||Pt<Fe?($e.text="",$e.width=$e.contentWidth=0):(truncateText2(de,$e.text,Pt-Fe,Ve,n.ellipsis,{minChar:n.truncateMinChar}),$e.text=de.text,r.isTruncated=r.isTruncated||de.isTruncated,$e.width=$e.contentWidth=getWidth($e.text,Ve)):$e.contentWidth=getWidth($e.text,Ve)}$e.width+=Fe,xe+=$e.width,Oe&&(Ce=Math.max(Ce,$e.lineHeight))}he(_e,xe,Ce)}r.outerWidth=r.width=retrieve2(g,oe),r.outerHeight=r.height=retrieve2(y,ae),r.contentHeight=ae,r.contentWidth=oe,ie&&(r.outerWidth+=ie[1]+ie[3],r.outerHeight+=ie[0]+ie[2]);for(var pe=0;pe<re.length;pe++){var $e=re[pe],At=$e.percentWidth;$e.width=parseInt(At,10)/100*r.width}return r}function pushTokens(t,n,r,g,y){var $=n==="",L=y&&r.rich[y]||{},V=t.lines,z=L.font||r.font,j=!1,re,ae;if(g){var oe=L.padding,ie=oe?oe[1]+oe[3]:0;if(L.width!=null&&L.width!=="auto"){var le=parsePercent$1(L.width,g.width)+ie;V.length>0&&le+g.accumWidth>g.width&&(re=n.split(`
`),j=!0),g.accumWidth=le}else{var ue=wrapText(n,z,g.width,g.breakAll,g.accumWidth);g.accumWidth=ue.accumWidth+ie,ae=ue.linesWidths,re=ue.lines}}else re=n.split(`
`);for(var de=0;de<re.length;de++){var he=re[de],pe=new RichTextToken;if(pe.styleName=y,pe.text=he,pe.isLineHolder=!he&&!$,typeof L.width=="number"?pe.width=L.width:pe.width=ae?ae[de]:getWidth(he,z),!de&&!j){var _e=(V[V.length-1]||(V[0]=new RichTextLine)).tokens,Ce=_e.length;Ce===1&&_e[0].isLineHolder?_e[0]=pe:(he||!Ce||$)&&_e.push(pe)}else V.push(new RichTextLine([pe]))}}function isAlphabeticLetter(t){var n=t.charCodeAt(0);return n>=32&&n<=591||n>=880&&n<=4351||n>=4608&&n<=5119||n>=7680&&n<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(t,n){return t[n]=!0,t},{});function isWordBreakChar(t){return isAlphabeticLetter(t)?!!breakCharMap[t]:!0}function wrapText(t,n,r,g,y){for(var $=[],L=[],V="",z="",j=0,re=0,ae=0;ae<t.length;ae++){var oe=t.charAt(ae);if(oe===`
`){z&&(V+=z,re+=j),$.push(V),L.push(re),V="",z="",j=0,re=0;continue}var ie=getWidth(oe,n),le=g?!1:!isWordBreakChar(oe);if($.length?re+ie>r:y+re+ie>r){re?(V||z)&&(le?(V||(V=z,z="",j=0,re=j),$.push(V),L.push(re-j),z+=oe,j+=ie,V="",re=j):(z&&(V+=z,z="",j=0),$.push(V),L.push(re),V=oe,re=ie)):le?($.push(z),L.push(j),z=oe,j=ie):($.push(oe),L.push(ie));continue}re+=ie,le?(z+=oe,j+=ie):(z&&(V+=z,z="",j=0),V+=oe)}return!$.length&&!V&&(V=t,z="",j=0),z&&(V+=z),V&&($.push(V),L.push(re)),$.length===1&&(re+=y),{accumWidth:re,lines:$,linesWidths:L}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype._init=function(r){for(var g=keys(r),y=0;y<g.length;y++){var $=g[y];$==="style"?this.useStyle(r[$]):t.prototype.attrKV.call(this,$,r[$])}this.style||this.useStyle({})},n.prototype.beforeBrush=function(){},n.prototype.afterBrush=function(){},n.prototype.innerBeforeBrush=function(){},n.prototype.innerAfterBrush=function(){},n.prototype.shouldBePainted=function(r,g,y,$){var L=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,r,g)||L&&!L[0]&&!L[3])return!1;if(y&&this.__clipPaths){for(var V=0;V<this.__clipPaths.length;++V)if(this.__clipPaths[V].isZeroArea())return!1}if($&&this.parent)for(var z=this.parent;z;){if(z.ignore)return!1;z=z.parent}return!0},n.prototype.contain=function(r,g){return this.rectContain(r,g)},n.prototype.traverse=function(r,g){r.call(g,this)},n.prototype.rectContain=function(r,g){var y=this.transformCoordToLocal(r,g),$=this.getBoundingRect();return $.contain(y[0],y[1])},n.prototype.getPaintRect=function(){var r=this._paintRect;if(!this._paintRect||this.__dirty){var g=this.transform,y=this.getBoundingRect(),$=this.style,L=$.shadowBlur||0,V=$.shadowOffsetX||0,z=$.shadowOffsetY||0;r=this._paintRect||(this._paintRect=new BoundingRect(0,0,0,0)),g?BoundingRect.applyTransform(r,y,g):r.copy(y),(L||V||z)&&(r.width+=L*2+Math.abs(V),r.height+=L*2+Math.abs(z),r.x=Math.min(r.x,r.x+V-L),r.y=Math.min(r.y,r.y+z-L));var j=this.dirtyRectTolerance;r.isZero()||(r.x=Math.floor(r.x-j),r.y=Math.floor(r.y-j),r.width=Math.ceil(r.width+1+j*2),r.height=Math.ceil(r.height+1+j*2))}return r},n.prototype.setPrevPaintRect=function(r){r?(this._prevPaintRect=this._prevPaintRect||new BoundingRect(0,0,0,0),this._prevPaintRect.copy(r)):this._prevPaintRect=null},n.prototype.getPrevPaintRect=function(){return this._prevPaintRect},n.prototype.animateStyle=function(r){return this.animate("style",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():this.markRedraw()},n.prototype.attrKV=function(r,g){r!=="style"?t.prototype.attrKV.call(this,r,g):this.style?this.setStyle(g):this.useStyle(g)},n.prototype.setStyle=function(r,g){return typeof r=="string"?this.style[r]=g:extend(this.style,r),this.dirtyStyle(),this},n.prototype.dirtyStyle=function(r){r||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},n.prototype.dirty=function(){this.dirtyStyle()},n.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},n.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},n.prototype.createStyle=function(r){return createObject(DEFAULT_COMMON_STYLE,r)},n.prototype.useStyle=function(r){r[STYLE_MAGIC_KEY]||(r=this.createStyle(r)),this.__inHover?this.__hoverStyle=r:this.style=r,this.dirtyStyle()},n.prototype.isStyleObject=function(r){return r[STYLE_MAGIC_KEY]},n.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var g=this._normalState;r.style&&!g.style&&(g.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(r,g,PRIMARY_STATES_KEYS)},n.prototype._applyStateObj=function(r,g,y,$,L,V){t.prototype._applyStateObj.call(this,r,g,y,$,L,V);var z=!(g&&$),j;if(g&&g.style?L?$?j=g.style:(j=this._mergeStyle(this.createStyle(),y.style),this._mergeStyle(j,g.style)):(j=this._mergeStyle(this.createStyle(),$?this.style:y.style),this._mergeStyle(j,g.style)):z&&(j=y.style),j)if(L){var re=this.style;if(this.style=this.createStyle(z?{}:re),z)for(var ae=keys(re),oe=0;oe<ae.length;oe++){var ie=ae[oe];ie in j&&(j[ie]=j[ie],this.style[ie]=re[ie])}for(var le=keys(j),oe=0;oe<le.length;oe++){var ie=le[oe];this.style[ie]=this.style[ie]}this._transitionState(r,{style:j},V,this.getAnimationStyleProps())}else this.useStyle(j);for(var ue=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,oe=0;oe<ue.length;oe++){var ie=ue[oe];g&&g[ie]!=null?this[ie]=g[ie]:z&&y[ie]!=null&&(this[ie]=y[ie])}},n.prototype._mergeStates=function(r){for(var g=t.prototype._mergeStates.call(this,r),y,$=0;$<r.length;$++){var L=r[$];L.style&&(y=y||{},this._mergeStyle(y,L.style))}return y&&(g.style=y),g},n.prototype._mergeStyle=function(r,g){return extend(r,g),r},n.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},n.initDefaultProps=function(){var r=n.prototype;r.type="displayable",r.invisible=!1,r.z=0,r.z2=0,r.zlevel=0,r.culling=!1,r.cursor="pointer",r.rectHover=!1,r.incremental=!1,r._rect=null,r.dirtyRectTolerance=0,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),n}(Element$1),tmpRect=new BoundingRect(0,0,0,0),viewRect=new BoundingRect(0,0,0,0);function isDisplayableCulled(t,n,r){return tmpRect.copy(t.getBoundingRect()),t.transform&&tmpRect.applyTransform(t.transform),viewRect.width=n,viewRect.height=r,!tmpRect.intersect(viewRect)}var mathMin$9=Math.min,mathMax$9=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$8=Math.PI*2,start=create$2(),end=create$2(),extremity=create$2();function fromPoints(t,n,r){if(t.length!==0){for(var g=t[0],y=g[0],$=g[0],L=g[1],V=g[1],z=1;z<t.length;z++)g=t[z],y=mathMin$9(y,g[0]),$=mathMax$9($,g[0]),L=mathMin$9(L,g[1]),V=mathMax$9(V,g[1]);n[0]=y,n[1]=L,r[0]=$,r[1]=V}}function fromLine(t,n,r,g,y,$){y[0]=mathMin$9(t,r),y[1]=mathMin$9(n,g),$[0]=mathMax$9(t,r),$[1]=mathMax$9(n,g)}var xDim=[],yDim=[];function fromCubic(t,n,r,g,y,$,L,V,z,j){var re=cubicExtrema,ae=cubicAt,oe=re(t,r,y,L,xDim);z[0]=1/0,z[1]=1/0,j[0]=-1/0,j[1]=-1/0;for(var ie=0;ie<oe;ie++){var le=ae(t,r,y,L,xDim[ie]);z[0]=mathMin$9(le,z[0]),j[0]=mathMax$9(le,j[0])}oe=re(n,g,$,V,yDim);for(var ie=0;ie<oe;ie++){var ue=ae(n,g,$,V,yDim[ie]);z[1]=mathMin$9(ue,z[1]),j[1]=mathMax$9(ue,j[1])}z[0]=mathMin$9(t,z[0]),j[0]=mathMax$9(t,j[0]),z[0]=mathMin$9(L,z[0]),j[0]=mathMax$9(L,j[0]),z[1]=mathMin$9(n,z[1]),j[1]=mathMax$9(n,j[1]),z[1]=mathMin$9(V,z[1]),j[1]=mathMax$9(V,j[1])}function fromQuadratic(t,n,r,g,y,$,L,V){var z=quadraticExtremum,j=quadraticAt$1,re=mathMax$9(mathMin$9(z(t,r,y),1),0),ae=mathMax$9(mathMin$9(z(n,g,$),1),0),oe=j(t,r,y,re),ie=j(n,g,$,ae);L[0]=mathMin$9(t,y,oe),L[1]=mathMin$9(n,$,ie),V[0]=mathMax$9(t,y,oe),V[1]=mathMax$9(n,$,ie)}function fromArc(t,n,r,g,y,$,L,V,z){var j=min$1,re=max$1,ae=Math.abs(y-$);if(ae%PI2$8<1e-4&&ae>1e-4){V[0]=t-r,V[1]=n-g,z[0]=t+r,z[1]=n+g;return}if(start[0]=mathCos$4(y)*r+t,start[1]=mathSin$4(y)*g+n,end[0]=mathCos$4($)*r+t,end[1]=mathSin$4($)*g+n,j(V,start,end),re(z,start,end),y=y%PI2$8,y<0&&(y=y+PI2$8),$=$%PI2$8,$<0&&($=$+PI2$8),y>$&&!L?$+=PI2$8:y<$&&L&&(y+=PI2$8),L){var oe=$;$=y,y=oe}for(var ie=0;ie<$;ie+=Math.PI/2)ie>y&&(extremity[0]=mathCos$4(ie)*r+t,extremity[1]=mathSin$4(ie)*g+n,j(V,extremity,V),re(z,extremity,z))}var CMD$4={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$8=Math.min,mathMax$8=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$2=Math.abs,PI$8=Math.PI,PI2$7=PI$8*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(t){var n=Math.round(t/PI$8*1e8)/1e8;return n%2*PI$8}function normalizeArcAngles(t,n){var r=modPI2(t[0]);r<0&&(r+=PI2$7);var g=r-t[0],y=t[1];y+=g,!n&&y-r>=PI2$7?y=r+PI2$7:n&&r-y>=PI2$7?y=r-PI2$7:!n&&r>y?y=r+(PI2$7-modPI2(r-y)):n&&r<y&&(y=r-(PI2$7-modPI2(y-r))),t[0]=r,t[1]=y}var PathProxy=function(){function t(n){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,n&&(this._saveData=!1),this._saveData&&(this.data=[])}return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(n,r,g){g=g||0,g>0&&(this._ux=mathAbs$2(g/devicePixelRatio/n)||0,this._uy=mathAbs$2(g/devicePixelRatio/r)||0)},t.prototype.setDPR=function(n){this.dpr=n},t.prototype.setContext=function(n){this._ctx=n},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(n,r){return this._drawPendingPt(),this.addData(CMD$4.M,n,r),this._ctx&&this._ctx.moveTo(n,r),this._x0=n,this._y0=r,this._xi=n,this._yi=r,this},t.prototype.lineTo=function(n,r){var g=mathAbs$2(n-this._xi),y=mathAbs$2(r-this._yi),$=g>this._ux||y>this._uy;if(this.addData(CMD$4.L,n,r),this._ctx&&$&&this._ctx.lineTo(n,r),$)this._xi=n,this._yi=r,this._pendingPtDist=0;else{var L=g*g+y*y;L>this._pendingPtDist&&(this._pendingPtX=n,this._pendingPtY=r,this._pendingPtDist=L)}return this},t.prototype.bezierCurveTo=function(n,r,g,y,$,L){return this._drawPendingPt(),this.addData(CMD$4.C,n,r,g,y,$,L),this._ctx&&this._ctx.bezierCurveTo(n,r,g,y,$,L),this._xi=$,this._yi=L,this},t.prototype.quadraticCurveTo=function(n,r,g,y){return this._drawPendingPt(),this.addData(CMD$4.Q,n,r,g,y),this._ctx&&this._ctx.quadraticCurveTo(n,r,g,y),this._xi=g,this._yi=y,this},t.prototype.arc=function(n,r,g,y,$,L){this._drawPendingPt(),tmpAngles[0]=y,tmpAngles[1]=$,normalizeArcAngles(tmpAngles,L),y=tmpAngles[0],$=tmpAngles[1];var V=$-y;return this.addData(CMD$4.A,n,r,g,g,y,V,0,L?0:1),this._ctx&&this._ctx.arc(n,r,g,y,$,L),this._xi=mathCos$3($)*g+n,this._yi=mathSin$3($)*g+r,this},t.prototype.arcTo=function(n,r,g,y,$){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(n,r,g,y,$),this},t.prototype.rect=function(n,r,g,y){return this._drawPendingPt(),this._ctx&&this._ctx.rect(n,r,g,y),this.addData(CMD$4.R,n,r,g,y),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$4.Z);var n=this._ctx,r=this._x0,g=this._y0;return n&&n.closePath(),this._xi=r,this._yi=g,this},t.prototype.fill=function(n){n&&n.fill(),this.toStatic()},t.prototype.stroke=function(n){n&&n.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(n){var r=n.length;!(this.data&&this.data.length===r)&&hasTypedArray&&(this.data=new Float32Array(r));for(var g=0;g<r;g++)this.data[g]=n[g];this._len=r},t.prototype.appendPath=function(n){n instanceof Array||(n=[n]);for(var r=n.length,g=0,y=this._len,$=0;$<r;$++)g+=n[$].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(y+g));for(var $=0;$<r;$++)for(var L=n[$].data,V=0;V<L.length;V++)this.data[y++]=L[V];this._len=y},t.prototype.addData=function(n,r,g,y,$,L,V,z,j){if(this._saveData){var re=this.data;this._len+arguments.length>re.length&&(this._expandData(),re=this.data);for(var ae=0;ae<arguments.length;ae++)re[this._len++]=arguments[ae]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var n=[],r=0;r<this._len;r++)n[r]=this.data[r];this.data=n}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var n=this.data;n instanceof Array&&(n.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(n)))}},t.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var n=this.data,r=0,g=0,y=0,$=0,L;for(L=0;L<this._len;){var V=n[L++],z=L===1;switch(z&&(r=n[L],g=n[L+1],y=r,$=g),V){case CMD$4.M:r=y=n[L++],g=$=n[L++],min2[0]=y,min2[1]=$,max2[0]=y,max2[1]=$;break;case CMD$4.L:fromLine(r,g,n[L],n[L+1],min2,max2),r=n[L++],g=n[L++];break;case CMD$4.C:fromCubic(r,g,n[L++],n[L++],n[L++],n[L++],n[L],n[L+1],min2,max2),r=n[L++],g=n[L++];break;case CMD$4.Q:fromQuadratic(r,g,n[L++],n[L++],n[L],n[L+1],min2,max2),r=n[L++],g=n[L++];break;case CMD$4.A:var j=n[L++],re=n[L++],ae=n[L++],oe=n[L++],ie=n[L++],le=n[L++]+ie;L+=1;var ue=!n[L++];z&&(y=mathCos$3(ie)*ae+j,$=mathSin$3(ie)*oe+re),fromArc(j,re,ae,oe,ie,le,ue,min2,max2),r=mathCos$3(le)*ae+j,g=mathSin$3(le)*oe+re;break;case CMD$4.R:y=r=n[L++],$=g=n[L++];var de=n[L++],he=n[L++];fromLine(y,$,y+de,$+he,min2,max2);break;case CMD$4.Z:r=y,g=$;break}min$1(min,min,min2),max$1(max,max,max2)}return L===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect(min[0],min[1],max[0]-min[0],max[1]-min[1])},t.prototype._calculateLength=function(){var n=this.data,r=this._len,g=this._ux,y=this._uy,$=0,L=0,V=0,z=0;this._pathSegLen||(this._pathSegLen=[]);for(var j=this._pathSegLen,re=0,ae=0,oe=0;oe<r;){var ie=n[oe++],le=oe===1;le&&($=n[oe],L=n[oe+1],V=$,z=L);var ue=-1;switch(ie){case CMD$4.M:$=V=n[oe++],L=z=n[oe++];break;case CMD$4.L:{var de=n[oe++],he=n[oe++],pe=de-$,_e=he-L;(mathAbs$2(pe)>g||mathAbs$2(_e)>y||oe===r-1)&&(ue=Math.sqrt(pe*pe+_e*_e),$=de,L=he);break}case CMD$4.C:{var Ce=n[oe++],xe=n[oe++],de=n[oe++],he=n[oe++],Ie=n[oe++],$e=n[oe++];ue=cubicLength($,L,Ce,xe,de,he,Ie,$e,10),$=Ie,L=$e;break}case CMD$4.Q:{var Ce=n[oe++],xe=n[oe++],de=n[oe++],he=n[oe++];ue=quadraticLength($,L,Ce,xe,de,he,10),$=de,L=he;break}case CMD$4.A:var Oe=n[oe++],Ne=n[oe++],Fe=n[oe++],Ve=n[oe++],ze=n[oe++],Et=n[oe++],Dt=Et+ze;oe+=1,le&&(V=mathCos$3(ze)*Fe+Oe,z=mathSin$3(ze)*Ve+Ne),ue=mathMax$8(Fe,Ve)*mathMin$8(PI2$7,Math.abs(Et)),$=mathCos$3(Dt)*Fe+Oe,L=mathSin$3(Dt)*Ve+Ne;break;case CMD$4.R:{V=$=n[oe++],z=L=n[oe++];var Ue=n[oe++],qe=n[oe++];ue=Ue*2+qe*2;break}case CMD$4.Z:{var pe=V-$,_e=z-L;ue=Math.sqrt(pe*pe+_e*_e),$=V,L=z;break}}ue>=0&&(j[ae++]=ue,re+=ue)}return this._pathLen=re,re},t.prototype.rebuildPath=function(n,r){var g=this.data,y=this._ux,$=this._uy,L=this._len,V,z,j,re,ae,oe,ie=r<1,le,ue,de=0,he=0,pe,_e=0,Ce,xe;if(!(ie&&(this._pathSegLen||this._calculateLength(),le=this._pathSegLen,ue=this._pathLen,pe=r*ue,!pe)))e:for(var Ie=0;Ie<L;){var $e=g[Ie++],Oe=Ie===1;switch(Oe&&(j=g[Ie],re=g[Ie+1],V=j,z=re),$e!==CMD$4.L&&_e>0&&(n.lineTo(Ce,xe),_e=0),$e){case CMD$4.M:V=j=g[Ie++],z=re=g[Ie++],n.moveTo(j,re);break;case CMD$4.L:{ae=g[Ie++],oe=g[Ie++];var Ne=mathAbs$2(ae-j),Fe=mathAbs$2(oe-re);if(Ne>y||Fe>$){if(ie){var Ve=le[he++];if(de+Ve>pe){var ze=(pe-de)/Ve;n.lineTo(j*(1-ze)+ae*ze,re*(1-ze)+oe*ze);break e}de+=Ve}n.lineTo(ae,oe),j=ae,re=oe,_e=0}else{var Et=Ne*Ne+Fe*Fe;Et>_e&&(Ce=ae,xe=oe,_e=Et)}break}case CMD$4.C:{var Dt=g[Ie++],Ue=g[Ie++],qe=g[Ie++],Lt=g[Ie++],Pt=g[Ie++],At=g[Ie++];if(ie){var Ve=le[he++];if(de+Ve>pe){var ze=(pe-de)/Ve;cubicSubdivide(j,Dt,qe,Pt,ze,tmpOutX),cubicSubdivide(re,Ue,Lt,At,ze,tmpOutY),n.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}de+=Ve}n.bezierCurveTo(Dt,Ue,qe,Lt,Pt,At),j=Pt,re=At;break}case CMD$4.Q:{var Dt=g[Ie++],Ue=g[Ie++],qe=g[Ie++],Lt=g[Ie++];if(ie){var Ve=le[he++];if(de+Ve>pe){var ze=(pe-de)/Ve;quadraticSubdivide(j,Dt,qe,ze,tmpOutX),quadraticSubdivide(re,Ue,Lt,ze,tmpOutY),n.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}de+=Ve}n.quadraticCurveTo(Dt,Ue,qe,Lt),j=qe,re=Lt;break}case CMD$4.A:var vn=g[Ie++],En=g[Ie++],Sn=g[Ie++],kt=g[Ie++],jt=g[Ie++],_n=g[Ie++],wn=g[Ie++],hn=!g[Ie++],Cn=Sn>kt?Sn:kt,Tn=mathAbs$2(Sn-kt)>.001,xn=jt+_n,Mn=!1;if(ie){var Ve=le[he++];de+Ve>pe&&(xn=jt+_n*(pe-de)/Ve,Mn=!0),de+=Ve}if(Tn&&n.ellipse?n.ellipse(vn,En,Sn,kt,wn,jt,xn,hn):n.arc(vn,En,Cn,jt,xn,hn),Mn)break e;Oe&&(V=mathCos$3(jt)*Sn+vn,z=mathSin$3(jt)*kt+En),j=mathCos$3(xn)*Sn+vn,re=mathSin$3(xn)*kt+En;break;case CMD$4.R:V=j=g[Ie],z=re=g[Ie+1],ae=g[Ie++],oe=g[Ie++];var bn=g[Ie++],Pn=g[Ie++];if(ie){var Ve=le[he++];if(de+Ve>pe){var Rn=pe-de;n.moveTo(ae,oe),n.lineTo(ae+mathMin$8(Rn,bn),oe),Rn-=bn,Rn>0&&n.lineTo(ae+bn,oe+mathMin$8(Rn,Pn)),Rn-=Pn,Rn>0&&n.lineTo(ae+mathMax$8(bn-Rn,0),oe+Pn),Rn-=bn,Rn>0&&n.lineTo(ae,oe+mathMax$8(Pn-Rn,0));break e}de+=Ve}n.rect(ae,oe,bn,Pn);break;case CMD$4.Z:if(ie){var Ve=le[he++];if(de+Ve>pe){var ze=(pe-de)/Ve;n.lineTo(j*(1-ze)+V*ze,re*(1-ze)+z*ze);break e}de+=Ve}n.closePath(),j=V,re=z}}},t.prototype.clone=function(){var n=new t,r=this.data;return n.data=r.slice?r.slice():Array.prototype.slice.call(r),n._len=this._len,n},t.CMD=CMD$4,t.initDefaultProps=function(){var n=t.prototype;n._saveData=!0,n._ux=0,n._uy=0,n._pendingPtDist=0,n._version=0}(),t}();function containStroke$4(t,n,r,g,y,$,L){if(y===0)return!1;var V=y,z=0,j=t;if(L>n+V&&L>g+V||L<n-V&&L<g-V||$>t+V&&$>r+V||$<t-V&&$<r-V)return!1;if(t!==r)z=(n-g)/(t-r),j=(t*g-r*n)/(t-r);else return Math.abs($-t)<=V/2;var re=z*$-L+j,ae=re*re/(z*z+1);return ae<=V/2*V/2}function containStroke$3(t,n,r,g,y,$,L,V,z,j,re){if(z===0)return!1;var ae=z;if(re>n+ae&&re>g+ae&&re>$+ae&&re>V+ae||re<n-ae&&re<g-ae&&re<$-ae&&re<V-ae||j>t+ae&&j>r+ae&&j>y+ae&&j>L+ae||j<t-ae&&j<r-ae&&j<y-ae&&j<L-ae)return!1;var oe=cubicProjectPoint(t,n,r,g,y,$,L,V,j,re,null);return oe<=ae/2}function containStroke$2(t,n,r,g,y,$,L,V,z){if(L===0)return!1;var j=L;if(z>n+j&&z>g+j&&z>$+j||z<n-j&&z<g-j&&z<$-j||V>t+j&&V>r+j&&V>y+j||V<t-j&&V<r-j&&V<y-j)return!1;var re=quadraticProjectPoint(t,n,r,g,y,$,V,z,null);return re<=j/2}var PI2$6=Math.PI*2;function normalizeRadian(t){return t%=PI2$6,t<0&&(t+=PI2$6),t}var PI2$5=Math.PI*2;function containStroke$1(t,n,r,g,y,$,L,V,z){if(L===0)return!1;var j=L;V-=t,z-=n;var re=Math.sqrt(V*V+z*z);if(re-j>r||re+j<r)return!1;if(Math.abs(g-y)%PI2$5<1e-4)return!0;if($){var ae=g;g=normalizeRadian(y),y=normalizeRadian(ae)}else g=normalizeRadian(g),y=normalizeRadian(y);g>y&&(y+=PI2$5);var oe=Math.atan2(z,V);return oe<0&&(oe+=PI2$5),oe>=g&&oe<=y||oe+PI2$5>=g&&oe+PI2$5<=y}function windingLine(t,n,r,g,y,$){if($>n&&$>g||$<n&&$<g||g===n)return 0;var L=($-n)/(g-n),V=g<n?1:-1;(L===1||L===0)&&(V=g<n?.5:-.5);var z=L*(r-t)+t;return z===y?1/0:z>y?V:0}var CMD$3=PathProxy.CMD,PI2$4=Math.PI*2,EPSILON$1=1e-4;function isAroundEqual$1(t,n){return Math.abs(t-n)<EPSILON$1}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var t=extrema[0];extrema[0]=extrema[1],extrema[1]=t}function windingCubic(t,n,r,g,y,$,L,V,z,j){if(j>n&&j>g&&j>$&&j>V||j<n&&j<g&&j<$&&j<V)return 0;var re=cubicRootAt(n,g,$,V,j,roots);if(re===0)return 0;for(var ae=0,oe=-1,ie=void 0,le=void 0,ue=0;ue<re;ue++){var de=roots[ue],he=de===0||de===1?.5:1,pe=cubicAt(t,r,y,L,de);pe<z||(oe<0&&(oe=cubicExtrema(n,g,$,V,extrema),extrema[1]<extrema[0]&&oe>1&&swapExtrema(),ie=cubicAt(n,g,$,V,extrema[0]),oe>1&&(le=cubicAt(n,g,$,V,extrema[1]))),oe===2?de<extrema[0]?ae+=ie<n?he:-he:de<extrema[1]?ae+=le<ie?he:-he:ae+=V<le?he:-he:de<extrema[0]?ae+=ie<n?he:-he:ae+=V<ie?he:-he)}return ae}function windingQuadratic(t,n,r,g,y,$,L,V){if(V>n&&V>g&&V>$||V<n&&V<g&&V<$)return 0;var z=quadraticRootAt(n,g,$,V,roots);if(z===0)return 0;var j=quadraticExtremum(n,g,$);if(j>=0&&j<=1){for(var re=0,ae=quadraticAt$1(n,g,$,j),oe=0;oe<z;oe++){var ie=roots[oe]===0||roots[oe]===1?.5:1,le=quadraticAt$1(t,r,y,roots[oe]);le<L||(roots[oe]<j?re+=ae<n?ie:-ie:re+=$<ae?ie:-ie)}return re}else{var ie=roots[0]===0||roots[0]===1?.5:1,le=quadraticAt$1(t,r,y,roots[0]);return le<L?0:$<n?ie:-ie}}function windingArc(t,n,r,g,y,$,L,V){if(V-=n,V>r||V<-r)return 0;var z=Math.sqrt(r*r-V*V);roots[0]=-z,roots[1]=z;var j=Math.abs(g-y);if(j<1e-4)return 0;if(j>=PI2$4-1e-4){g=0,y=PI2$4;var re=$?1:-1;return L>=roots[0]+t&&L<=roots[1]+t?re:0}if(g>y){var ae=g;g=y,y=ae}g<0&&(g+=PI2$4,y+=PI2$4);for(var oe=0,ie=0;ie<2;ie++){var le=roots[ie];if(le+t>L){var ue=Math.atan2(V,le),re=$?1:-1;ue<0&&(ue=PI2$4+ue),(ue>=g&&ue<=y||ue+PI2$4>=g&&ue+PI2$4<=y)&&(ue>Math.PI/2&&ue<Math.PI*1.5&&(re=-re),oe+=re)}}return oe}function containPath(t,n,r,g,y){for(var $=t.data,L=t.len(),V=0,z=0,j=0,re=0,ae=0,oe,ie,le=0;le<L;){var ue=$[le++],de=le===1;switch(ue===CMD$3.M&&le>1&&(r||(V+=windingLine(z,j,re,ae,g,y))),de&&(z=$[le],j=$[le+1],re=z,ae=j),ue){case CMD$3.M:re=$[le++],ae=$[le++],z=re,j=ae;break;case CMD$3.L:if(r){if(containStroke$4(z,j,$[le],$[le+1],n,g,y))return!0}else V+=windingLine(z,j,$[le],$[le+1],g,y)||0;z=$[le++],j=$[le++];break;case CMD$3.C:if(r){if(containStroke$3(z,j,$[le++],$[le++],$[le++],$[le++],$[le],$[le+1],n,g,y))return!0}else V+=windingCubic(z,j,$[le++],$[le++],$[le++],$[le++],$[le],$[le+1],g,y)||0;z=$[le++],j=$[le++];break;case CMD$3.Q:if(r){if(containStroke$2(z,j,$[le++],$[le++],$[le],$[le+1],n,g,y))return!0}else V+=windingQuadratic(z,j,$[le++],$[le++],$[le],$[le+1],g,y)||0;z=$[le++],j=$[le++];break;case CMD$3.A:var he=$[le++],pe=$[le++],_e=$[le++],Ce=$[le++],xe=$[le++],Ie=$[le++];le+=1;var $e=!!(1-$[le++]);oe=Math.cos(xe)*_e+he,ie=Math.sin(xe)*Ce+pe,de?(re=oe,ae=ie):V+=windingLine(z,j,oe,ie,g,y);var Oe=(g-he)*Ce/_e+he;if(r){if(containStroke$1(he,pe,Ce,xe,xe+Ie,$e,n,Oe,y))return!0}else V+=windingArc(he,pe,Ce,xe,xe+Ie,$e,Oe,y);z=Math.cos(xe+Ie)*_e+he,j=Math.sin(xe+Ie)*Ce+pe;break;case CMD$3.R:re=z=$[le++],ae=j=$[le++];var Ne=$[le++],Fe=$[le++];if(oe=re+Ne,ie=ae+Fe,r){if(containStroke$4(re,ae,oe,ae,n,g,y)||containStroke$4(oe,ae,oe,ie,n,g,y)||containStroke$4(oe,ie,re,ie,n,g,y)||containStroke$4(re,ie,re,ae,n,g,y))return!0}else V+=windingLine(oe,ae,oe,ie,g,y),V+=windingLine(re,ie,re,ae,g,y);break;case CMD$3.Z:if(r){if(containStroke$4(z,j,re,ae,n,g,y))return!0}else V+=windingLine(z,j,re,ae,g,y);z=re,j=ae;break}}return!r&&!isAroundEqual$1(j,ae)&&(V+=windingLine(z,j,re,ae,g,y)||0),V!==0}function contain$2(t,n,r){return containPath(t,0,!1,n,r)}function containStroke(t,n,r,g){return containPath(t,n,!0,r,g)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.update=function(){var r=this;t.prototype.update.call(this);var g=this.style;if(g.decal){var y=this._decalEl=this._decalEl||new n;y.buildPath===n.prototype.buildPath&&(y.buildPath=function(z){r.buildPath(z,r.shape)}),y.silent=!0;var $=y.style;for(var L in g)$[L]!==g[L]&&($[L]=g[L]);$.fill=g.fill?g.decal:null,$.decal=null,$.shadowColor=null,g.strokeFirst&&($.stroke=null);for(var V=0;V<pathCopyParams.length;++V)y[pathCopyParams[V]]=this[pathCopyParams[V]];y.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},n.prototype.getDecalElement=function(){return this._decalEl},n.prototype._init=function(r){var g=keys(r);this.shape=this.getDefaultShape();var y=this.getDefaultStyle();y&&this.useStyle(y);for(var $=0;$<g.length;$++){var L=g[$],V=r[L];L==="style"?this.style?extend(this.style,V):this.useStyle(V):L==="shape"?extend(this.shape,V):t.prototype.attrKV.call(this,L,V)}this.style||this.useStyle({})},n.prototype.getDefaultStyle=function(){return null},n.prototype.getDefaultShape=function(){return{}},n.prototype.canBeInsideText=function(){return this.hasFill()},n.prototype.getInsideTextFill=function(){var r=this.style.fill;if(r!=="none"){if(isString(r)){var g=lum(r,0);return g>.5?DARK_LABEL_COLOR:g>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(r)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},n.prototype.getInsideTextStroke=function(r){var g=this.style.fill;if(isString(g)){var y=this.__zr,$=!!(y&&y.isDarkMode()),L=lum(r,0)<DARK_MODE_THRESHOLD;if($===L)return g}},n.prototype.buildPath=function(r,g,y){},n.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},n.prototype.getUpdatedPathProxy=function(r){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,r),this.path},n.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},n.prototype.hasStroke=function(){var r=this.style,g=r.stroke;return!(g==null||g==="none"||!(r.lineWidth>0))},n.prototype.hasFill=function(){var r=this.style,g=r.fill;return g!=null&&g!=="none"},n.prototype.getBoundingRect=function(){var r=this._rect,g=this.style,y=!r;if(y){var $=!1;this.path||($=!0,this.createPathProxy());var L=this.path;($||this.__dirty&SHAPE_CHANGED_BIT)&&(L.beginPath(),this.buildPath(L,this.shape,!1),this.pathUpdated()),r=L.getBoundingRect()}if(this._rect=r,this.hasStroke()&&this.path&&this.path.len()>0){var V=this._rectStroke||(this._rectStroke=r.clone());if(this.__dirty||y){V.copy(r);var z=g.strokeNoScale?this.getLineScale():1,j=g.lineWidth;if(!this.hasFill()){var re=this.strokeContainThreshold;j=Math.max(j,re??4)}z>1e-10&&(V.width+=j/z,V.height+=j/z,V.x-=j/z/2,V.y-=j/z/2)}return V}return r},n.prototype.contain=function(r,g){var y=this.transformCoordToLocal(r,g),$=this.getBoundingRect(),L=this.style;if(r=y[0],g=y[1],$.contain(r,g)){var V=this.path;if(this.hasStroke()){var z=L.lineWidth,j=L.strokeNoScale?this.getLineScale():1;if(j>1e-10&&(this.hasFill()||(z=Math.max(z,this.strokeContainThreshold)),containStroke(V,z/j,r,g)))return!0}if(this.hasFill())return contain$2(V,r,g)}return!1},n.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},n.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},n.prototype.animateShape=function(r){return this.animate("shape",r)},n.prototype.updateDuringAnimation=function(r){r==="style"?this.dirtyStyle():r==="shape"?this.dirtyShape():this.markRedraw()},n.prototype.attrKV=function(r,g){r==="shape"?this.setShape(g):t.prototype.attrKV.call(this,r,g)},n.prototype.setShape=function(r,g){var y=this.shape;return y||(y=this.shape={}),typeof r=="string"?y[r]=g:extend(y,r),this.dirtyShape(),this},n.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},n.prototype.createStyle=function(r){return createObject(DEFAULT_PATH_STYLE,r)},n.prototype._innerSaveToNormal=function(r){t.prototype._innerSaveToNormal.call(this,r);var g=this._normalState;r.shape&&!g.shape&&(g.shape=extend({},this.shape))},n.prototype._applyStateObj=function(r,g,y,$,L,V){t.prototype._applyStateObj.call(this,r,g,y,$,L,V);var z=!(g&&$),j;if(g&&g.shape?L?$?j=g.shape:(j=extend({},y.shape),extend(j,g.shape)):(j=extend({},$?this.shape:y.shape),extend(j,g.shape)):z&&(j=y.shape),j)if(L){this.shape=extend({},this.shape);for(var re={},ae=keys(j),oe=0;oe<ae.length;oe++){var ie=ae[oe];typeof j[ie]=="object"?this.shape[ie]=j[ie]:re[ie]=j[ie]}this._transitionState(r,{shape:re},V)}else this.shape=j,this.dirtyShape()},n.prototype._mergeStates=function(r){for(var g=t.prototype._mergeStates.call(this,r),y,$=0;$<r.length;$++){var L=r[$];L.shape&&(y=y||{},this._mergeStyle(y,L.shape))}return y&&(g.shape=y),g},n.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},n.prototype.isZeroArea=function(){return!1},n.extend=function(r){var g=function($){__extends(L,$);function L(V){var z=$.call(this,V)||this;return r.init&&r.init.call(z,V),z}return L.prototype.getDefaultStyle=function(){return clone$4(r.style)},L.prototype.getDefaultShape=function(){return clone$4(r.shape)},L}(n);for(var y in r)typeof r[y]=="function"&&(g.prototype[y]=r[y]);return g},n.initDefaultProps=function(){var r=n.prototype;r.type="path",r.strokeContainThreshold=5,r.segmentIgnoreThreshold=0,r.subPixelOptimize=!1,r.autoBatch=!1,r.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),n}(Displayable),DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.hasStroke=function(){var r=this.style,g=r.stroke;return g!=null&&g!=="none"&&r.lineWidth>0},n.prototype.hasFill=function(){var r=this.style,g=r.fill;return g!=null&&g!=="none"},n.prototype.createStyle=function(r){return createObject(DEFAULT_TSPAN_STYLE,r)},n.prototype.setBoundingRect=function(r){this._rect=r},n.prototype.getBoundingRect=function(){var r=this.style;if(!this._rect){var g=r.text;g!=null?g+="":g="";var y=getBoundingRect(g,r.font,r.textAlign,r.textBaseline);if(y.x+=r.x||0,y.y+=r.y||0,this.hasStroke()){var $=r.lineWidth;y.x-=$/2,y.y-=$/2,y.width+=$,y.height+=$}this._rect=y}return this._rect},n.initDefaultProps=function(){var r=n.prototype;r.dirtyRectTolerance=10}(),n}(Displayable);TSpan.prototype.type="tspan";var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(t){return!!(t&&typeof t!="string"&&t.width&&t.height)}var ZRImage=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.createStyle=function(r){return createObject(DEFAULT_IMAGE_STYLE,r)},n.prototype._getSize=function(r){var g=this.style,y=g[r];if(y!=null)return y;var $=isImageLike$1(g.image)?g.image:this.__image;if(!$)return 0;var L=r==="width"?"height":"width",V=g[L];return V==null?$[r]:$[r]/$[L]*V},n.prototype.getWidth=function(){return this._getSize("width")},n.prototype.getHeight=function(){return this._getSize("height")},n.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},n.prototype.getBoundingRect=function(){var r=this.style;return this._rect||(this._rect=new BoundingRect(r.x||0,r.y||0,this.getWidth(),this.getHeight())),this._rect},n}(Displayable);ZRImage.prototype.type="image";function buildPath$2(t,n){var r=n.x,g=n.y,y=n.width,$=n.height,L=n.r,V,z,j,re;y<0&&(r=r+y,y=-y),$<0&&(g=g+$,$=-$),typeof L=="number"?V=z=j=re=L:L instanceof Array?L.length===1?V=z=j=re=L[0]:L.length===2?(V=j=L[0],z=re=L[1]):L.length===3?(V=L[0],z=re=L[1],j=L[2]):(V=L[0],z=L[1],j=L[2],re=L[3]):V=z=j=re=0;var ae;V+z>y&&(ae=V+z,V*=y/ae,z*=y/ae),j+re>y&&(ae=j+re,j*=y/ae,re*=y/ae),z+j>$&&(ae=z+j,z*=$/ae,j*=$/ae),V+re>$&&(ae=V+re,V*=$/ae,re*=$/ae),t.moveTo(r+V,g),t.lineTo(r+y-z,g),z!==0&&t.arc(r+y-z,g+z,z,-Math.PI/2,0),t.lineTo(r+y,g+$-j),j!==0&&t.arc(r+y-j,g+$-j,j,0,Math.PI/2),t.lineTo(r+re,g+$),re!==0&&t.arc(r+re,g+$-re,re,Math.PI/2,Math.PI),t.lineTo(r,g+V),V!==0&&t.arc(r+V,g+V,V,Math.PI,Math.PI*1.5)}var round$2=Math.round;function subPixelOptimizeLine$1(t,n,r){if(n){var g=n.x1,y=n.x2,$=n.y1,L=n.y2;t.x1=g,t.x2=y,t.y1=$,t.y2=L;var V=r&&r.lineWidth;return V&&(round$2(g*2)===round$2(y*2)&&(t.x1=t.x2=subPixelOptimize$1(g,V,!0)),round$2($*2)===round$2(L*2)&&(t.y1=t.y2=subPixelOptimize$1($,V,!0))),t}}function subPixelOptimizeRect$1(t,n,r){if(n){var g=n.x,y=n.y,$=n.width,L=n.height;t.x=g,t.y=y,t.width=$,t.height=L;var V=r&&r.lineWidth;return V&&(t.x=subPixelOptimize$1(g,V,!0),t.y=subPixelOptimize$1(y,V,!0),t.width=Math.max(subPixelOptimize$1(g+$,V,!1)-t.x,$===0?0:1),t.height=Math.max(subPixelOptimize$1(y+L,V,!1)-t.y,L===0?0:1)),t}}function subPixelOptimize$1(t,n,r){if(!n)return t;var g=round$2(t*2);return(g+round$2(n))%2===0?g/2:(g+(r?1:-1))/2}var RectShape=function(){function t(){this.x=0,this.y=0,this.width=0,this.height=0}return t}(),subPixelOptimizeOutputShape$1={},Rect$2=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RectShape},n.prototype.buildPath=function(r,g){var y,$,L,V;if(this.subPixelOptimize){var z=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,g,this.style);y=z.x,$=z.y,L=z.width,V=z.height,z.r=g.r,g=z}else y=g.x,$=g.y,L=g.width,V=g.height;g.r?buildPath$2(r,g):r.rect(y,$,L,V)},n.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},n}(Path);Rect$2.prototype.type="rect";var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;return g.type="text",g._children=[],g._defaultStyle=DEFAULT_RICH_TEXT_COLOR,g.attr(r),g}return n.prototype.childrenRef=function(){return this._children},n.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var r=0;r<this._children.length;r++){var g=this._children[r];g.zlevel=this.zlevel,g.z=this.z,g.z2=this.z2,g.culling=this.culling,g.cursor=this.cursor,g.invisible=this.invisible}},n.prototype.updateTransform=function(){var r=this.innerTransformable;r?(r.updateTransform(),r.transform&&(this.transform=r.transform)):t.prototype.updateTransform.call(this)},n.prototype.getLocalTransform=function(r){var g=this.innerTransformable;return g?g.getLocalTransform(r):t.prototype.getLocalTransform.call(this,r)},n.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},n.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},n.prototype.addSelfToZr=function(r){t.prototype.addSelfToZr.call(this,r);for(var g=0;g<this._children.length;g++)this._children[g].__zr=r},n.prototype.removeSelfFromZr=function(r){t.prototype.removeSelfFromZr.call(this,r);for(var g=0;g<this._children.length;g++)this._children[g].__zr=null},n.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var r=new BoundingRect(0,0,0,0),g=this._children,y=[],$=null,L=0;L<g.length;L++){var V=g[L],z=V.getBoundingRect(),j=V.getLocalTransform(y);j?(r.copy(z),r.applyTransform(j),$=$||r.clone(),$.union(r)):($=$||z.clone(),$.union(z))}this._rect=$||r}return this._rect},n.prototype.setDefaultTextStyle=function(r){this._defaultStyle=r||DEFAULT_RICH_TEXT_COLOR},n.prototype.setTextContent=function(r){},n.prototype._mergeStyle=function(r,g){if(!g)return r;var y=g.rich,$=r.rich||y&&{};return extend(r,g),y&&$?(this._mergeRich($,y),r.rich=$):$&&(r.rich=$),r},n.prototype._mergeRich=function(r,g){for(var y=keys(g),$=0;$<y.length;$++){var L=y[$];r[L]=r[L]||{},extend(r[L],g[L])}},n.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},n.prototype._getOrCreateChild=function(r){var g=this._children[this._childCursor];return(!g||!(g instanceof r))&&(g=new r),this._children[this._childCursor++]=g,g.__zr=this.__zr,g.parent=this,g},n.prototype._updatePlainTexts=function(){var r=this.style,g=r.font||DEFAULT_FONT,y=r.padding,$=getStyleText(r),L=parsePlainText($,r),V=needDrawBackground(r),z=!!r.backgroundColor,j=L.outerHeight,re=L.outerWidth,ae=L.contentWidth,oe=L.lines,ie=L.lineHeight,le=this._defaultStyle;this.isTruncated=!!L.isTruncated;var ue=r.x||0,de=r.y||0,he=r.align||le.align||"left",pe=r.verticalAlign||le.verticalAlign||"top",_e=ue,Ce=adjustTextY(de,L.contentHeight,pe);if(V||y){var xe=adjustTextX(ue,re,he),Ie=adjustTextY(de,j,pe);V&&this._renderBackground(r,r,xe,Ie,re,j)}Ce+=ie/2,y&&(_e=getTextXForPadding(ue,he,y),pe==="top"?Ce+=y[0]:pe==="bottom"&&(Ce-=y[2]));for(var $e=0,Oe=!1,Ne=getFill("fill"in r?r.fill:(Oe=!0,le.fill)),Fe=getStroke("stroke"in r?r.stroke:!z&&(!le.autoStroke||Oe)?($e=DEFAULT_STROKE_LINE_WIDTH,le.stroke):null),Ve=r.textShadowBlur>0,ze=r.width!=null&&(r.overflow==="truncate"||r.overflow==="break"||r.overflow==="breakAll"),Et=L.calculatedLineHeight,Dt=0;Dt<oe.length;Dt++){var Ue=this._getOrCreateChild(TSpan),qe=Ue.createStyle();Ue.useStyle(qe),qe.text=oe[Dt],qe.x=_e,qe.y=Ce,qe.textAlign=he,qe.textBaseline="middle",qe.opacity=r.opacity,qe.strokeFirst=!0,Ve&&(qe.shadowBlur=r.textShadowBlur||0,qe.shadowColor=r.textShadowColor||"transparent",qe.shadowOffsetX=r.textShadowOffsetX||0,qe.shadowOffsetY=r.textShadowOffsetY||0),qe.stroke=Fe,qe.fill=Ne,Fe&&(qe.lineWidth=r.lineWidth||$e,qe.lineDash=r.lineDash,qe.lineDashOffset=r.lineDashOffset||0),qe.font=g,setSeparateFont(qe,r),Ce+=ie,ze&&Ue.setBoundingRect(new BoundingRect(adjustTextX(qe.x,ae,qe.textAlign),adjustTextY(qe.y,Et,qe.textBaseline),ae,Et))}},n.prototype._updateRichTexts=function(){var r=this.style,g=getStyleText(r),y=parseRichText(g,r),$=y.width,L=y.outerWidth,V=y.outerHeight,z=r.padding,j=r.x||0,re=r.y||0,ae=this._defaultStyle,oe=r.align||ae.align,ie=r.verticalAlign||ae.verticalAlign;this.isTruncated=!!y.isTruncated;var le=adjustTextX(j,L,oe),ue=adjustTextY(re,V,ie),de=le,he=ue;z&&(de+=z[3],he+=z[0]);var pe=de+$;needDrawBackground(r)&&this._renderBackground(r,r,le,ue,L,V);for(var _e=!!r.backgroundColor,Ce=0;Ce<y.lines.length;Ce++){for(var xe=y.lines[Ce],Ie=xe.tokens,$e=Ie.length,Oe=xe.lineHeight,Ne=xe.width,Fe=0,Ve=de,ze=pe,Et=$e-1,Dt=void 0;Fe<$e&&(Dt=Ie[Fe],!Dt.align||Dt.align==="left");)this._placeToken(Dt,r,Oe,he,Ve,"left",_e),Ne-=Dt.width,Ve+=Dt.width,Fe++;for(;Et>=0&&(Dt=Ie[Et],Dt.align==="right");)this._placeToken(Dt,r,Oe,he,ze,"right",_e),Ne-=Dt.width,ze-=Dt.width,Et--;for(Ve+=($-(Ve-de)-(pe-ze)-Ne)/2;Fe<=Et;)Dt=Ie[Fe],this._placeToken(Dt,r,Oe,he,Ve+Dt.width/2,"center",_e),Ve+=Dt.width,Fe++;he+=Oe}},n.prototype._placeToken=function(r,g,y,$,L,V,z){var j=g.rich[r.styleName]||{};j.text=r.text;var re=r.verticalAlign,ae=$+y/2;re==="top"?ae=$+r.height/2:re==="bottom"&&(ae=$+y-r.height/2);var oe=!r.isLineHolder&&needDrawBackground(j);oe&&this._renderBackground(j,g,V==="right"?L-r.width:V==="center"?L-r.width/2:L,ae-r.height/2,r.width,r.height);var ie=!!j.backgroundColor,le=r.textPadding;le&&(L=getTextXForPadding(L,V,le),ae-=r.height/2-le[0]-r.innerHeight/2);var ue=this._getOrCreateChild(TSpan),de=ue.createStyle();ue.useStyle(de);var he=this._defaultStyle,pe=!1,_e=0,Ce=getFill("fill"in j?j.fill:"fill"in g?g.fill:(pe=!0,he.fill)),xe=getStroke("stroke"in j?j.stroke:"stroke"in g?g.stroke:!ie&&!z&&(!he.autoStroke||pe)?(_e=DEFAULT_STROKE_LINE_WIDTH,he.stroke):null),Ie=j.textShadowBlur>0||g.textShadowBlur>0;de.text=r.text,de.x=L,de.y=ae,Ie&&(de.shadowBlur=j.textShadowBlur||g.textShadowBlur||0,de.shadowColor=j.textShadowColor||g.textShadowColor||"transparent",de.shadowOffsetX=j.textShadowOffsetX||g.textShadowOffsetX||0,de.shadowOffsetY=j.textShadowOffsetY||g.textShadowOffsetY||0),de.textAlign=V,de.textBaseline="middle",de.font=r.font||DEFAULT_FONT,de.opacity=retrieve3(j.opacity,g.opacity,1),setSeparateFont(de,j),xe&&(de.lineWidth=retrieve3(j.lineWidth,g.lineWidth,_e),de.lineDash=retrieve2(j.lineDash,g.lineDash),de.lineDashOffset=g.lineDashOffset||0,de.stroke=xe),Ce&&(de.fill=Ce);var $e=r.contentWidth,Oe=r.contentHeight;ue.setBoundingRect(new BoundingRect(adjustTextX(de.x,$e,de.textAlign),adjustTextY(de.y,Oe,de.textBaseline),$e,Oe))},n.prototype._renderBackground=function(r,g,y,$,L,V){var z=r.backgroundColor,j=r.borderWidth,re=r.borderColor,ae=z&&z.image,oe=z&&!ae,ie=r.borderRadius,le=this,ue,de;if(oe||r.lineHeight||j&&re){ue=this._getOrCreateChild(Rect$2),ue.useStyle(ue.createStyle()),ue.style.fill=null;var he=ue.shape;he.x=y,he.y=$,he.width=L,he.height=V,he.r=ie,ue.dirtyShape()}if(oe){var pe=ue.style;pe.fill=z||null,pe.fillOpacity=retrieve2(r.fillOpacity,1)}else if(ae){de=this._getOrCreateChild(ZRImage),de.onload=function(){le.dirtyStyle()};var _e=de.style;_e.image=z.image,_e.x=y,_e.y=$,_e.width=L,_e.height=V}if(j&&re){var pe=ue.style;pe.lineWidth=j,pe.stroke=re,pe.strokeOpacity=retrieve2(r.strokeOpacity,1),pe.lineDash=r.borderDash,pe.lineDashOffset=r.borderDashOffset||0,ue.strokeContainThreshold=0,ue.hasFill()&&ue.hasStroke()&&(pe.strokeFirst=!0,pe.lineWidth*=2)}var Ce=(ue||de).style;Ce.shadowBlur=r.shadowBlur||0,Ce.shadowColor=r.shadowColor||"transparent",Ce.shadowOffsetX=r.shadowOffsetX||0,Ce.shadowOffsetY=r.shadowOffsetY||0,Ce.opacity=retrieve3(r.opacity,g.opacity,1)},n.makeFont=function(r){var g="";return hasSeparateFont(r)&&(g=[r.fontStyle,r.fontWeight,parseFontSize(r.fontSize),r.fontFamily||"sans-serif"].join(" ")),g&&trim$1(g)||r.textFont||r.font},n}(Displayable),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(t){return typeof t=="string"&&(t.indexOf("px")!==-1||t.indexOf("rem")!==-1||t.indexOf("em")!==-1)?t:isNaN(+t)?DEFAULT_FONT_SIZE+"px":t+"px"}function setSeparateFont(t,n){for(var r=0;r<FONT_PARTS.length;r++){var g=FONT_PARTS[r],y=n[g];y!=null&&(t[g]=y)}}function hasSeparateFont(t){return t.fontSize!=null||t.fontFamily||t.fontWeight}function normalizeTextStyle(t){return normalizeStyle(t),each$f(t.rich,normalizeStyle),t}function normalizeStyle(t){if(t){t.font=ZRText.makeFont(t);var n=t.align;n==="middle"&&(n="center"),t.align=n==null||VALID_TEXT_ALIGN[n]?n:"left";var r=t.verticalAlign;r==="center"&&(r="middle"),t.verticalAlign=r==null||VALID_TEXT_VERTICAL_ALIGN[r]?r:"top";var g=t.padding;g&&(t.padding=normalizeCssArray$1(t.padding))}}function getStroke(t,n){return t==null||n<=0||t==="transparent"||t==="none"?null:t.image||t.colorStops?"#000":t}function getFill(t){return t==null||t==="none"?null:t.image||t.colorStops?"#000":t}function getTextXForPadding(t,n,r){return n==="right"?t-r[1]:n==="center"?t+r[3]/2-r[1]/2:t+r[3]}function getStyleText(t){var n=t.text;return n!=null&&(n+=""),n}function needDrawBackground(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}var getECData=makeInner(),setCommonECData=function(t,n,r,g){if(g){var y=getECData(g);y.dataIndex=r,y.dataType=n,y.seriesIndex=t,y.ssrType="chart",g.type==="group"&&g.traverse(function($){var L=getECData($);L.seriesIndex=t,L.dataIndex=r,L.dataType=n,L.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(t){return t!=null&&t!=="none"}function doChangeHoverState(t,n,r){t.onHoverStateChange&&(t.hoverState||0)!==r&&t.onHoverStateChange(n),t.hoverState=r}function singleEnterEmphasis(t){doChangeHoverState(t,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(t){t.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(t,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(t){doChangeHoverState(t,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(t){t.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(t,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(t){t.selected=!0}function singleLeaveSelect(t){t.selected=!1}function updateElementState(t,n,r){n(t,r)}function traverseUpdateState(t,n,r){updateElementState(t,n,r),t.isGroup&&t.traverse(function(g){updateElementState(g,n,r)})}function setStatesFlag(t,n){switch(n){case"emphasis":t.hoverState=HOVER_STATE_EMPHASIS;break;case"normal":t.hoverState=HOVER_STATE_NORMAL;break;case"blur":t.hoverState=HOVER_STATE_BLUR;break;case"select":t.selected=!0}}function getFromStateStyle(t,n,r,g){for(var y=t.style,$={},L=0;L<n.length;L++){var V=n[L],z=y[V];$[V]=z??(g&&g[V])}for(var L=0;L<t.animators.length;L++){var j=t.animators[L];j.__fromStateTransition&&j.__fromStateTransition.indexOf(r)<0&&j.targetName==="style"&&j.saveTo($,n)}return $}function createEmphasisDefaultState(t,n,r,g){var y=r&&indexOf(r,"select")>=0,$=!1;if(t instanceof Path){var L=getSavedStates(t),V=y&&L.selectFill||L.normalFill,z=y&&L.selectStroke||L.normalStroke;if(hasFillOrStroke(V)||hasFillOrStroke(z)){g=g||{};var j=g.style||{};j.fill==="inherit"?($=!0,g=extend({},g),j=extend({},j),j.fill=V):!hasFillOrStroke(j.fill)&&hasFillOrStroke(V)?($=!0,g=extend({},g),j=extend({},j),j.fill=liftColor(V)):!hasFillOrStroke(j.stroke)&&hasFillOrStroke(z)&&($||(g=extend({},g),j=extend({},j)),j.stroke=liftColor(z)),g.style=j}}if(g&&g.z2==null){$||(g=extend({},g));var re=t.z2EmphasisLift;g.z2=t.z2+(re??Z2_EMPHASIS_LIFT)}return g}function createSelectDefaultState(t,n,r){if(r&&r.z2==null){r=extend({},r);var g=t.z2SelectLift;r.z2=t.z2+(g??Z2_SELECT_LIFT)}return r}function createBlurDefaultState(t,n,r){var g=indexOf(t.currentStates,n)>=0,y=t.style.opacity,$=g?null:getFromStateStyle(t,["opacity"],n,{opacity:1});r=r||{};var L=r.style||{};return L.opacity==null&&(r=extend({},r),L=extend({opacity:g?y:$.opacity*.1},L),r.style=L),r}function elementStateProxy(t,n){var r=this.states[t];if(this.style){if(t==="emphasis")return createEmphasisDefaultState(this,t,n,r);if(t==="blur")return createBlurDefaultState(this,t,r);if(t==="select")return createSelectDefaultState(this,t,r)}return r}function setDefaultStateProxy(t){t.stateProxy=elementStateProxy;var n=t.getTextContent(),r=t.getTextGuideLine();n&&(n.stateProxy=elementStateProxy),r&&(r.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(t,n){!shouldSilent(t,n)&&!t.__highByOuter&&traverseUpdateState(t,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(t,n){!shouldSilent(t,n)&&!t.__highByOuter&&traverseUpdateState(t,singleLeaveEmphasis)}function enterEmphasis(t,n){t.__highByOuter|=1<<(n||0),traverseUpdateState(t,singleEnterEmphasis)}function leaveEmphasis(t,n){!(t.__highByOuter&=~(1<<(n||0)))&&traverseUpdateState(t,singleLeaveEmphasis)}function enterBlur(t){traverseUpdateState(t,singleEnterBlur)}function leaveBlur(t){traverseUpdateState(t,singleLeaveBlur)}function enterSelect(t){traverseUpdateState(t,singleEnterSelect)}function leaveSelect(t){traverseUpdateState(t,singleLeaveSelect)}function shouldSilent(t,n){return t.__highDownSilentOnTouch&&n.zrByTouch}function allLeaveBlur(t){var n=t.getModel(),r=[],g=[];n.eachComponent(function(y,$){var L=getComponentStates($),V=y==="series",z=V?t.getViewOfSeriesModel($):t.getViewOfComponentModel($);!V&&g.push(z),L.isBlured&&(z.group.traverse(function(j){singleLeaveBlur(j)}),V&&r.push($)),L.isBlured=!1}),each$f(g,function(y){y&&y.toggleBlurSeries&&y.toggleBlurSeries(r,!1,n)})}function blurSeries(t,n,r,g){var y=g.getModel();r=r||"coordinateSystem";function $(j,re){for(var ae=0;ae<re.length;ae++){var oe=j.getItemGraphicEl(re[ae]);oe&&leaveBlur(oe)}}if(t!=null&&!(!n||n==="none")){var L=y.getSeriesByIndex(t),V=L.coordinateSystem;V&&V.master&&(V=V.master);var z=[];y.eachSeries(function(j){var re=L===j,ae=j.coordinateSystem;ae&&ae.master&&(ae=ae.master);var oe=ae&&V?ae===V:re;if(!(r==="series"&&!re||r==="coordinateSystem"&&!oe||n==="series"&&re)){var ie=g.getViewOfSeriesModel(j);if(ie.group.traverse(function(de){de.__highByOuter&&re&&n==="self"||singleEnterBlur(de)}),isArrayLike(n))$(j.getData(),n);else if(isObject$3(n))for(var le=keys(n),ue=0;ue<le.length;ue++)$(j.getData(le[ue]),n[le[ue]]);z.push(j),getComponentStates(j).isBlured=!0}}),y.eachComponent(function(j,re){if(j!=="series"){var ae=g.getViewOfComponentModel(re);ae&&ae.toggleBlurSeries&&ae.toggleBlurSeries(z,!0,y)}})}}function blurComponent(t,n,r){if(!(t==null||n==null)){var g=r.getModel().getComponent(t,n);if(g){getComponentStates(g).isBlured=!0;var y=r.getViewOfComponentModel(g);!y||!y.focusBlurEnabled||y.group.traverse(function($){singleEnterBlur($)})}}}function blurSeriesFromHighlightPayload(t,n,r){var g=t.seriesIndex,y=t.getData(n.dataType);if(y){var $=queryDataIndex(y,n);$=(isArray$1($)?$[0]:$)||0;var L=y.getItemGraphicEl($);if(!L)for(var V=y.count(),z=0;!L&&z<V;)L=y.getItemGraphicEl(z++);if(L){var j=getECData(L);blurSeries(g,j.focus,j.blurScope,r)}else{var re=t.get(["emphasis","focus"]),ae=t.get(["emphasis","blurScope"]);re!=null&&blurSeries(g,re,ae,r)}}}function findComponentHighDownDispatchers(t,n,r,g){var y={focusSelf:!1,dispatchers:null};if(t==null||t==="series"||n==null||r==null)return y;var $=g.getModel().getComponent(t,n);if(!$)return y;var L=g.getViewOfComponentModel($);if(!L||!L.findHighDownDispatchers)return y;for(var V=L.findHighDownDispatchers(r),z,j=0;j<V.length;j++)if(getECData(V[j]).focus==="self"){z=!0;break}return{focusSelf:z,dispatchers:V}}function handleGlobalMouseOverForHighDown(t,n,r){var g=getECData(t),y=findComponentHighDownDispatchers(g.componentMainType,g.componentIndex,g.componentHighDownName,r),$=y.dispatchers,L=y.focusSelf;$?(L&&blurComponent(g.componentMainType,g.componentIndex,r),each$f($,function(V){return enterEmphasisWhenMouseOver(V,n)})):(blurSeries(g.seriesIndex,g.focus,g.blurScope,r),g.focus==="self"&&blurComponent(g.componentMainType,g.componentIndex,r),enterEmphasisWhenMouseOver(t,n))}function handleGlobalMouseOutForHighDown(t,n,r){allLeaveBlur(r);var g=getECData(t),y=findComponentHighDownDispatchers(g.componentMainType,g.componentIndex,g.componentHighDownName,r).dispatchers;y?each$f(y,function($){return leaveEmphasisWhenMouseOut($,n)}):leaveEmphasisWhenMouseOut(t,n)}function toggleSelectionFromPayload(t,n,r){if(isSelectChangePayload(n)){var g=n.dataType,y=t.getData(g),$=queryDataIndex(y,n);isArray$1($)||($=[$]),t[n.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":n.type===SELECT_ACTION_TYPE?"select":"unselect"]($,g)}}function updateSeriesElementSelection(t){var n=t.getAllData();each$f(n,function(r){var g=r.data,y=r.type;g.eachItemGraphicEl(function($,L){t.isSelected(L,y)?enterSelect($):leaveSelect($)})})}function getAllSelectedIndices(t){var n=[];return t.eachSeries(function(r){var g=r.getAllData();each$f(g,function(y){y.data;var $=y.type,L=r.getSelectedDataIndices();if(L.length>0){var V={dataIndex:L,seriesIndex:r.seriesIndex};$!=null&&(V.dataType=$),n.push(V)}})}),n}function enableHoverEmphasis(t,n,r){setAsHighDownDispatcher(t,!0),traverseUpdateState(t,setDefaultStateProxy),enableHoverFocus(t,n,r)}function disableHoverEmphasis(t){setAsHighDownDispatcher(t,!1)}function toggleHoverEmphasis(t,n,r,g){g?disableHoverEmphasis(t):enableHoverEmphasis(t,n,r)}function enableHoverFocus(t,n,r){var g=getECData(t);n!=null?(g.focus=n,g.blurScope=r):g.focus&&(g.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(t,n,r,g){r=r||"itemStyle";for(var y=0;y<OTHER_STATES.length;y++){var $=OTHER_STATES[y],L=n.getModel([$,r]),V=t.ensureState($);V.style=g?g(L):L[defaultStyleGetterMap[r]]()}}function setAsHighDownDispatcher(t,n){var r=n===!1,g=t;t.highDownSilentOnTouch&&(g.__highDownSilentOnTouch=t.highDownSilentOnTouch),(!r||g.__highDownDispatcher)&&(g.__highByOuter=g.__highByOuter||0,g.__highDownDispatcher=!r)}function isHighDownDispatcher(t){return!!(t&&t.__highDownDispatcher)}function enableComponentHighDownFeatures(t,n,r){var g=getECData(t);g.componentMainType=n.mainType,g.componentIndex=n.componentIndex,g.componentHighDownName=r}function getHighlightDigit(t){var n=_highlightKeyMap[t];return n==null&&_highlightNextDigit<=32&&(n=_highlightKeyMap[t]=_highlightNextDigit++),n}function isSelectChangePayload(t){var n=t.type;return n===SELECT_ACTION_TYPE||n===UNSELECT_ACTION_TYPE||n===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(t){var n=t.type;return n===HIGHLIGHT_ACTION_TYPE||n===DOWNPLAY_ACTION_TYPE}function savePathStates(t){var n=getSavedStates(t);n.normalFill=t.style.fill,n.normalStroke=t.style.stroke;var r=t.states.select||{};n.selectFill=r.style&&r.style.fill||null,n.selectStroke=r.style&&r.style.stroke||null}var CMD$2=PathProxy.CMD,points$2=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(t,n){if(n){var r=t.data,g=t.len(),y,$,L,V,z,j,re=CMD$2.M,ae=CMD$2.C,oe=CMD$2.L,ie=CMD$2.R,le=CMD$2.A,ue=CMD$2.Q;for(L=0,V=0;L<g;){switch(y=r[L++],V=L,$=0,y){case re:$=1;break;case oe:$=1;break;case ae:$=3;break;case ue:$=2;break;case le:var de=n[4],he=n[5],pe=mathSqrt$2(n[0]*n[0]+n[1]*n[1]),_e=mathSqrt$2(n[2]*n[2]+n[3]*n[3]),Ce=mathAtan2(-n[1]/_e,n[0]/pe);r[L]*=pe,r[L++]+=de,r[L]*=_e,r[L++]+=he,r[L++]*=pe,r[L++]*=_e,r[L++]+=Ce,r[L++]+=Ce,L+=2,V=L;break;case ie:j[0]=r[L++],j[1]=r[L++],applyTransform$1(j,j,n),r[V++]=j[0],r[V++]=j[1],j[0]+=r[L++],j[1]+=r[L++],applyTransform$1(j,j,n),r[V++]=j[0],r[V++]=j[1]}for(z=0;z<$;z++){var xe=points$2[z];xe[0]=r[L++],xe[1]=r[L++],applyTransform$1(xe,xe,n),r[V++]=xe[0],r[V++]=xe[1]}}t.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$7=Math.PI;function vMag(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function vRatio(t,n){return(t[0]*n[0]+t[1]*n[1])/(vMag(t)*vMag(n))}function vAngle(t,n){return(t[0]*n[1]<t[1]*n[0]?-1:1)*Math.acos(vRatio(t,n))}function processArc(t,n,r,g,y,$,L,V,z,j,re){var ae=z*(PI$7/180),oe=mathCos$2(ae)*(t-r)/2+mathSin$2(ae)*(n-g)/2,ie=-1*mathSin$2(ae)*(t-r)/2+mathCos$2(ae)*(n-g)/2,le=oe*oe/(L*L)+ie*ie/(V*V);le>1&&(L*=mathSqrt$1(le),V*=mathSqrt$1(le));var ue=(y===$?-1:1)*mathSqrt$1((L*L*(V*V)-L*L*(ie*ie)-V*V*(oe*oe))/(L*L*(ie*ie)+V*V*(oe*oe)))||0,de=ue*L*ie/V,he=ue*-V*oe/L,pe=(t+r)/2+mathCos$2(ae)*de-mathSin$2(ae)*he,_e=(n+g)/2+mathSin$2(ae)*de+mathCos$2(ae)*he,Ce=vAngle([1,0],[(oe-de)/L,(ie-he)/V]),xe=[(oe-de)/L,(ie-he)/V],Ie=[(-1*oe-de)/L,(-1*ie-he)/V],$e=vAngle(xe,Ie);if(vRatio(xe,Ie)<=-1&&($e=PI$7),vRatio(xe,Ie)>=1&&($e=0),$e<0){var Oe=Math.round($e/PI$7*1e6)/1e6;$e=PI$7*2+Oe%2*PI$7}re.addData(j,pe,_e,L,V,Ce,$e,ae,$)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg$1=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(t){var n=new PathProxy;if(!t)return n;var r=0,g=0,y=r,$=g,L,V=PathProxy.CMD,z=t.match(commandReg);if(!z)return n;for(var j=0;j<z.length;j++){for(var re=z[j],ae=re.charAt(0),oe=void 0,ie=re.match(numberReg$1)||[],le=ie.length,ue=0;ue<le;ue++)ie[ue]=parseFloat(ie[ue]);for(var de=0;de<le;){var he=void 0,pe=void 0,_e=void 0,Ce=void 0,xe=void 0,Ie=void 0,$e=void 0,Oe=r,Ne=g,Fe=void 0,Ve=void 0;switch(ae){case"l":r+=ie[de++],g+=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"L":r=ie[de++],g=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"m":r+=ie[de++],g+=ie[de++],oe=V.M,n.addData(oe,r,g),y=r,$=g,ae="l";break;case"M":r=ie[de++],g=ie[de++],oe=V.M,n.addData(oe,r,g),y=r,$=g,ae="L";break;case"h":r+=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"H":r=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"v":g+=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"V":g=ie[de++],oe=V.L,n.addData(oe,r,g);break;case"C":oe=V.C,n.addData(oe,ie[de++],ie[de++],ie[de++],ie[de++],ie[de++],ie[de++]),r=ie[de-2],g=ie[de-1];break;case"c":oe=V.C,n.addData(oe,ie[de++]+r,ie[de++]+g,ie[de++]+r,ie[de++]+g,ie[de++]+r,ie[de++]+g),r+=ie[de-2],g+=ie[de-1];break;case"S":he=r,pe=g,Fe=n.len(),Ve=n.data,L===V.C&&(he+=r-Ve[Fe-4],pe+=g-Ve[Fe-3]),oe=V.C,Oe=ie[de++],Ne=ie[de++],r=ie[de++],g=ie[de++],n.addData(oe,he,pe,Oe,Ne,r,g);break;case"s":he=r,pe=g,Fe=n.len(),Ve=n.data,L===V.C&&(he+=r-Ve[Fe-4],pe+=g-Ve[Fe-3]),oe=V.C,Oe=r+ie[de++],Ne=g+ie[de++],r+=ie[de++],g+=ie[de++],n.addData(oe,he,pe,Oe,Ne,r,g);break;case"Q":Oe=ie[de++],Ne=ie[de++],r=ie[de++],g=ie[de++],oe=V.Q,n.addData(oe,Oe,Ne,r,g);break;case"q":Oe=ie[de++]+r,Ne=ie[de++]+g,r+=ie[de++],g+=ie[de++],oe=V.Q,n.addData(oe,Oe,Ne,r,g);break;case"T":he=r,pe=g,Fe=n.len(),Ve=n.data,L===V.Q&&(he+=r-Ve[Fe-4],pe+=g-Ve[Fe-3]),r=ie[de++],g=ie[de++],oe=V.Q,n.addData(oe,he,pe,r,g);break;case"t":he=r,pe=g,Fe=n.len(),Ve=n.data,L===V.Q&&(he+=r-Ve[Fe-4],pe+=g-Ve[Fe-3]),r+=ie[de++],g+=ie[de++],oe=V.Q,n.addData(oe,he,pe,r,g);break;case"A":_e=ie[de++],Ce=ie[de++],xe=ie[de++],Ie=ie[de++],$e=ie[de++],Oe=r,Ne=g,r=ie[de++],g=ie[de++],oe=V.A,processArc(Oe,Ne,r,g,Ie,$e,_e,Ce,xe,oe,n);break;case"a":_e=ie[de++],Ce=ie[de++],xe=ie[de++],Ie=ie[de++],$e=ie[de++],Oe=r,Ne=g,r+=ie[de++],g+=ie[de++],oe=V.A,processArc(Oe,Ne,r,g,Ie,$e,_e,Ce,xe,oe,n);break}}(ae==="z"||ae==="Z")&&(oe=V.Z,n.addData(oe),r=y,g=$),L=oe}return n.toStatic(),n}var SVGPath=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.applyTransform=function(r){},n}(Path);function isPathProxy(t){return t.setData!=null}function createPathOptions(t,n){var r=createPathProxyFromString(t),g=extend({},n);return g.buildPath=function(y){if(isPathProxy(y)){y.setData(r.data);var $=y.getContext();$&&y.rebuildPath($,1)}else{var $=y;r.rebuildPath($,1)}},g.applyTransform=function(y){transformPath(r,y),this.dirtyShape()},g}function createFromString(t,n){return new SVGPath(createPathOptions(t,n))}function extendFromString(t,n){var r=createPathOptions(t,n),g=function(y){__extends($,y);function $(L){var V=y.call(this,L)||this;return V.applyTransform=r.applyTransform,V.buildPath=r.buildPath,V}return $}(SVGPath);return g}function mergePath$1(t,n){for(var r=[],g=t.length,y=0;y<g;y++){var $=t[y];r.push($.getUpdatedPathProxy(!0))}var L=new Path(n);return L.createPathProxy(),L.buildPath=function(V){if(isPathProxy(V)){V.appendPath(r);var z=V.getContext();z&&V.rebuildPath(z,1)}},L}function clonePath(t,n){n=n||{};var r=new Path;return t.shape&&r.setShape(t.shape),r.setStyle(t.style),n.bakeTransform?transformPath(r.path,t.getComputedTransform()):n.toLocal?r.setLocalTransform(t.getComputedTransform()):r.copyTransform(t),r.buildPath=t.buildPath,r.applyTransform=r.applyTransform,r.z=t.z,r.z2=t.z2,r.zlevel=t.zlevel,r}var CircleShape=function(){function t(){this.cx=0,this.cy=0,this.r=0}return t}(),Circle=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new CircleShape},n.prototype.buildPath=function(r,g){r.moveTo(g.cx+g.r,g.cy),r.arc(g.cx,g.cy,g.r,0,Math.PI*2)},n}(Path);Circle.prototype.type="circle";var EllipseShape=function(){function t(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return t}(),Ellipse=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new EllipseShape},n.prototype.buildPath=function(r,g){var y=.5522848,$=g.cx,L=g.cy,V=g.rx,z=g.ry,j=V*y,re=z*y;r.moveTo($-V,L),r.bezierCurveTo($-V,L-re,$-j,L-z,$,L-z),r.bezierCurveTo($+j,L-z,$+V,L-re,$+V,L),r.bezierCurveTo($+V,L+re,$+j,L+z,$,L+z),r.bezierCurveTo($-j,L+z,$-V,L+re,$-V,L),r.closePath()},n}(Path);Ellipse.prototype.type="ellipse";var PI$6=Math.PI,PI2$3=PI$6*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs$1=Math.abs,mathSqrt=Math.sqrt,mathMax$7=Math.max,mathMin$7=Math.min,e=1e-4;function intersect(t,n,r,g,y,$,L,V){var z=r-t,j=g-n,re=L-y,ae=V-$,oe=ae*z-re*j;if(!(oe*oe<e))return oe=(re*(n-$)-ae*(t-y))/oe,[t+oe*z,n+oe*j]}function computeCornerTangents(t,n,r,g,y,$,L){var V=t-r,z=n-g,j=(L?$:-$)/mathSqrt(V*V+z*z),re=j*z,ae=-j*V,oe=t+re,ie=n+ae,le=r+re,ue=g+ae,de=(oe+le)/2,he=(ie+ue)/2,pe=le-oe,_e=ue-ie,Ce=pe*pe+_e*_e,xe=y-$,Ie=oe*ue-le*ie,$e=(_e<0?-1:1)*mathSqrt(mathMax$7(0,xe*xe*Ce-Ie*Ie)),Oe=(Ie*_e-pe*$e)/Ce,Ne=(-Ie*pe-_e*$e)/Ce,Fe=(Ie*_e+pe*$e)/Ce,Ve=(-Ie*pe+_e*$e)/Ce,ze=Oe-de,Et=Ne-he,Dt=Fe-de,Ue=Ve-he;return ze*ze+Et*Et>Dt*Dt+Ue*Ue&&(Oe=Fe,Ne=Ve),{cx:Oe,cy:Ne,x0:-re,y0:-ae,x1:Oe*(y/xe-1),y1:Ne*(y/xe-1)}}function normalizeCornerRadius(t){var n;if(isArray$1(t)){var r=t.length;if(!r)return t;r===1?n=[t[0],t[0],0,0]:r===2?n=[t[0],t[0],t[1],t[1]]:r===3?n=t.concat(t[2]):n=t}else n=[t,t,t,t];return n}function buildPath$1(t,n){var r,g=mathMax$7(n.r,0),y=mathMax$7(n.r0||0,0),$=g>0,L=y>0;if(!(!$&&!L)){if($||(g=y,y=0),y>g){var V=g;g=y,y=V}var z=n.startAngle,j=n.endAngle;if(!(isNaN(z)||isNaN(j))){var re=n.cx,ae=n.cy,oe=!!n.clockwise,ie=mathAbs$1(j-z),le=ie>PI2$3&&ie%PI2$3;if(le>e&&(ie=le),!(g>e))t.moveTo(re,ae);else if(ie>PI2$3-e)t.moveTo(re+g*mathCos$1(z),ae+g*mathSin$1(z)),t.arc(re,ae,g,z,j,!oe),y>e&&(t.moveTo(re+y*mathCos$1(j),ae+y*mathSin$1(j)),t.arc(re,ae,y,j,z,oe));else{var ue=void 0,de=void 0,he=void 0,pe=void 0,_e=void 0,Ce=void 0,xe=void 0,Ie=void 0,$e=void 0,Oe=void 0,Ne=void 0,Fe=void 0,Ve=void 0,ze=void 0,Et=void 0,Dt=void 0,Ue=g*mathCos$1(z),qe=g*mathSin$1(z),Lt=y*mathCos$1(j),Pt=y*mathSin$1(j),At=ie>e;if(At){var vn=n.cornerRadius;vn&&(r=normalizeCornerRadius(vn),ue=r[0],de=r[1],he=r[2],pe=r[3]);var En=mathAbs$1(g-y)/2;if(_e=mathMin$7(En,he),Ce=mathMin$7(En,pe),xe=mathMin$7(En,ue),Ie=mathMin$7(En,de),Ne=$e=mathMax$7(_e,Ce),Fe=Oe=mathMax$7(xe,Ie),($e>e||Oe>e)&&(Ve=g*mathCos$1(j),ze=g*mathSin$1(j),Et=y*mathCos$1(z),Dt=y*mathSin$1(z),ie<PI$6)){var Sn=intersect(Ue,qe,Et,Dt,Ve,ze,Lt,Pt);if(Sn){var kt=Ue-Sn[0],jt=qe-Sn[1],_n=Ve-Sn[0],wn=ze-Sn[1],hn=1/mathSin$1(mathACos((kt*_n+jt*wn)/(mathSqrt(kt*kt+jt*jt)*mathSqrt(_n*_n+wn*wn)))/2),Cn=mathSqrt(Sn[0]*Sn[0]+Sn[1]*Sn[1]);Ne=mathMin$7($e,(g-Cn)/(hn+1)),Fe=mathMin$7(Oe,(y-Cn)/(hn-1))}}}if(!At)t.moveTo(re+Ue,ae+qe);else if(Ne>e){var Tn=mathMin$7(he,Ne),xn=mathMin$7(pe,Ne),Mn=computeCornerTangents(Et,Dt,Ue,qe,g,Tn,oe),bn=computeCornerTangents(Ve,ze,Lt,Pt,g,xn,oe);t.moveTo(re+Mn.cx+Mn.x0,ae+Mn.cy+Mn.y0),Ne<$e&&Tn===xn?t.arc(re+Mn.cx,ae+Mn.cy,Ne,mathATan2(Mn.y0,Mn.x0),mathATan2(bn.y0,bn.x0),!oe):(Tn>0&&t.arc(re+Mn.cx,ae+Mn.cy,Tn,mathATan2(Mn.y0,Mn.x0),mathATan2(Mn.y1,Mn.x1),!oe),t.arc(re,ae,g,mathATan2(Mn.cy+Mn.y1,Mn.cx+Mn.x1),mathATan2(bn.cy+bn.y1,bn.cx+bn.x1),!oe),xn>0&&t.arc(re+bn.cx,ae+bn.cy,xn,mathATan2(bn.y1,bn.x1),mathATan2(bn.y0,bn.x0),!oe))}else t.moveTo(re+Ue,ae+qe),t.arc(re,ae,g,z,j,!oe);if(!(y>e)||!At)t.lineTo(re+Lt,ae+Pt);else if(Fe>e){var Tn=mathMin$7(ue,Fe),xn=mathMin$7(de,Fe),Mn=computeCornerTangents(Lt,Pt,Ve,ze,y,-xn,oe),bn=computeCornerTangents(Ue,qe,Et,Dt,y,-Tn,oe);t.lineTo(re+Mn.cx+Mn.x0,ae+Mn.cy+Mn.y0),Fe<Oe&&Tn===xn?t.arc(re+Mn.cx,ae+Mn.cy,Fe,mathATan2(Mn.y0,Mn.x0),mathATan2(bn.y0,bn.x0),!oe):(xn>0&&t.arc(re+Mn.cx,ae+Mn.cy,xn,mathATan2(Mn.y0,Mn.x0),mathATan2(Mn.y1,Mn.x1),!oe),t.arc(re,ae,y,mathATan2(Mn.cy+Mn.y1,Mn.cx+Mn.x1),mathATan2(bn.cy+bn.y1,bn.cx+bn.x1),oe),Tn>0&&t.arc(re+bn.cx,ae+bn.cy,Tn,mathATan2(bn.y1,bn.x1),mathATan2(bn.y0,bn.x0),!oe))}else t.lineTo(re+Lt,ae+Pt),t.arc(re,ae,y,j,z,oe)}t.closePath()}}}var SectorShape=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return t}(),Sector=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SectorShape},n.prototype.buildPath=function(r,g){buildPath$1(r,g)},n.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},n}(Path);Sector.prototype.type="sector";var RingShape=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return t}(),Ring=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new RingShape},n.prototype.buildPath=function(r,g){var y=g.cx,$=g.cy,L=Math.PI*2;r.moveTo(y+g.r,$),r.arc(y,$,g.r,0,L,!1),r.moveTo(y+g.r0,$),r.arc(y,$,g.r0,0,L,!0)},n}(Path);Ring.prototype.type="ring";function smoothBezier(t,n,r,g){var y=[],$=[],L=[],V=[],z,j,re,ae;if(g){re=[1/0,1/0],ae=[-1/0,-1/0];for(var oe=0,ie=t.length;oe<ie;oe++)min$1(re,re,t[oe]),max$1(ae,ae,t[oe]);min$1(re,re,g[0]),max$1(ae,ae,g[1])}for(var oe=0,ie=t.length;oe<ie;oe++){var le=t[oe];if(r)z=t[oe?oe-1:ie-1],j=t[(oe+1)%ie];else if(oe===0||oe===ie-1){y.push(clone$3(t[oe]));continue}else z=t[oe-1],j=t[oe+1];sub($,j,z),scale$2($,$,n);var ue=distance(le,z),de=distance(le,j),he=ue+de;he!==0&&(ue/=he,de/=he),scale$2(L,$,-ue),scale$2(V,$,de);var pe=add([],le,L),_e=add([],le,V);g&&(max$1(pe,pe,re),min$1(pe,pe,ae),max$1(_e,_e,re),min$1(_e,_e,ae)),y.push(pe),y.push(_e)}return r&&y.push(y.shift()),y}function buildPath(t,n,r){var g=n.smooth,y=n.points;if(y&&y.length>=2){if(g){var $=smoothBezier(y,g,r,n.smoothConstraint);t.moveTo(y[0][0],y[0][1]);for(var L=y.length,V=0;V<(r?L:L-1);V++){var z=$[V*2],j=$[V*2+1],re=y[(V+1)%L];t.bezierCurveTo(z[0],z[1],j[0],j[1],re[0],re[1])}}else{t.moveTo(y[0][0],y[0][1]);for(var V=1,ae=y.length;V<ae;V++)t.lineTo(y[V][0],y[V][1])}r&&t.closePath()}}var PolygonShape=function(){function t(){this.points=null,this.smooth=0,this.smoothConstraint=null}return t}(),Polygon=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new PolygonShape},n.prototype.buildPath=function(r,g){buildPath(r,g,!0)},n}(Path);Polygon.prototype.type="polygon";var PolylineShape=function(){function t(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return t}(),Polyline$1=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new PolylineShape},n.prototype.buildPath=function(r,g){buildPath(r,g,!1)},n}(Path);Polyline$1.prototype.type="polyline";var subPixelOptimizeOutputShape={},LineShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}(),Line$1=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LineShape},n.prototype.buildPath=function(r,g){var y,$,L,V;if(this.subPixelOptimize){var z=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,g,this.style);y=z.x1,$=z.y1,L=z.x2,V=z.y2}else y=g.x1,$=g.y1,L=g.x2,V=g.y2;var j=g.percent;j!==0&&(r.moveTo(y,$),j<1&&(L=y*(1-j)+L*j,V=$*(1-j)+V*j),r.lineTo(L,V))},n.prototype.pointAt=function(r){var g=this.shape;return[g.x1*(1-r)+g.x2*r,g.y1*(1-r)+g.y2*r]},n}(Path);Line$1.prototype.type="line";var out=[],BezierCurveShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return t}();function someVectorAt(t,n,r){var g=t.cpx2,y=t.cpy2;return g!=null||y!=null?[(r?cubicDerivativeAt:cubicAt)(t.x1,t.cpx1,t.cpx2,t.x2,n),(r?cubicDerivativeAt:cubicAt)(t.y1,t.cpy1,t.cpy2,t.y2,n)]:[(r?quadraticDerivativeAt:quadraticAt$1)(t.x1,t.cpx1,t.x2,n),(r?quadraticDerivativeAt:quadraticAt$1)(t.y1,t.cpy1,t.y2,n)]}var BezierCurve=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new BezierCurveShape},n.prototype.buildPath=function(r,g){var y=g.x1,$=g.y1,L=g.x2,V=g.y2,z=g.cpx1,j=g.cpy1,re=g.cpx2,ae=g.cpy2,oe=g.percent;oe!==0&&(r.moveTo(y,$),re==null||ae==null?(oe<1&&(quadraticSubdivide(y,z,L,oe,out),z=out[1],L=out[2],quadraticSubdivide($,j,V,oe,out),j=out[1],V=out[2]),r.quadraticCurveTo(z,j,L,V)):(oe<1&&(cubicSubdivide(y,z,re,L,oe,out),z=out[1],re=out[2],L=out[3],cubicSubdivide($,j,ae,V,oe,out),j=out[1],ae=out[2],V=out[3]),r.bezierCurveTo(z,j,re,ae,L,V)))},n.prototype.pointAt=function(r){return someVectorAt(this.shape,r,!1)},n.prototype.tangentAt=function(r){var g=someVectorAt(this.shape,r,!0);return normalize$3(g,g)},n}(Path);BezierCurve.prototype.type="bezier-curve";var ArcShape=function(){function t(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),Arc=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ArcShape},n.prototype.buildPath=function(r,g){var y=g.cx,$=g.cy,L=Math.max(g.r,0),V=g.startAngle,z=g.endAngle,j=g.clockwise,re=Math.cos(V),ae=Math.sin(V);r.moveTo(re*L+y,ae*L+$),r.arc(y,$,L,V,z,!j)},n}(Path);Arc.prototype.type="arc";var CompoundPath=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="compound",r}return n.prototype._updatePathDirty=function(){for(var r=this.shape.paths,g=this.shapeChanged(),y=0;y<r.length;y++)g=g||r[y].shapeChanged();g&&this.dirtyShape()},n.prototype.beforeBrush=function(){this._updatePathDirty();for(var r=this.shape.paths||[],g=this.getGlobalScale(),y=0;y<r.length;y++)r[y].path||r[y].createPathProxy(),r[y].path.setScale(g[0],g[1],r[y].segmentIgnoreThreshold)},n.prototype.buildPath=function(r,g){for(var y=g.paths||[],$=0;$<y.length;$++)y[$].buildPath(r,y[$].shape,!0)},n.prototype.afterBrush=function(){for(var r=this.shape.paths||[],g=0;g<r.length;g++)r[g].pathUpdated()},n.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path.prototype.getBoundingRect.call(this)},n}(Path),Gradient=function(){function t(n){this.colorStops=n||[]}return t.prototype.addColorStop=function(n,r){this.colorStops.push({offset:n,color:r})},t}(),LinearGradient=function(t){__extends(n,t);function n(r,g,y,$,L,V){var z=t.call(this,L)||this;return z.x=r??0,z.y=g??0,z.x2=y??1,z.y2=$??0,z.type="linear",z.global=V||!1,z}return n}(Gradient),RadialGradient=function(t){__extends(n,t);function n(r,g,y,$,L){var V=t.call(this,$)||this;return V.x=r??.5,V.y=g??.5,V.r=y??.5,V.type="radial",V.global=L||!1,V}return n}(Gradient),extent=[0,0],extent2=[0,0],minTv=new Point,maxTv=new Point,OrientedBoundingRect=function(){function t(n,r){this._corners=[],this._axes=[],this._origin=[0,0];for(var g=0;g<4;g++)this._corners[g]=new Point;for(var g=0;g<2;g++)this._axes[g]=new Point;n&&this.fromBoundingRect(n,r)}return t.prototype.fromBoundingRect=function(n,r){var g=this._corners,y=this._axes,$=n.x,L=n.y,V=$+n.width,z=L+n.height;if(g[0].set($,L),g[1].set(V,L),g[2].set(V,z),g[3].set($,z),r)for(var j=0;j<4;j++)g[j].transform(r);Point.sub(y[0],g[1],g[0]),Point.sub(y[1],g[3],g[0]),y[0].normalize(),y[1].normalize();for(var j=0;j<2;j++)this._origin[j]=y[j].dot(g[0])},t.prototype.intersect=function(n,r){var g=!0,y=!r;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,n,minTv,maxTv,y,1)&&(g=!1,y)||!this._intersectCheckOneSide(n,this,minTv,maxTv,y,-1)&&(g=!1,y)||y||Point.copy(r,g?minTv:maxTv),g},t.prototype._intersectCheckOneSide=function(n,r,g,y,$,L){for(var V=!0,z=0;z<2;z++){var j=this._axes[z];if(this._getProjMinMaxOnAxis(z,n._corners,extent),this._getProjMinMaxOnAxis(z,r._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(V=!1,$)return V;var re=Math.abs(extent2[0]-extent[1]),ae=Math.abs(extent[0]-extent2[1]);Math.min(re,ae)>y.len()&&(re<ae?Point.scale(y,j,-re*L):Point.scale(y,j,ae*L))}else if(g){var re=Math.abs(extent2[0]-extent[1]),ae=Math.abs(extent[0]-extent2[1]);Math.min(re,ae)<g.len()&&(re<ae?Point.scale(g,j,re*L):Point.scale(g,j,-ae*L))}}return V},t.prototype._getProjMinMaxOnAxis=function(n,r,g){for(var y=this._axes[n],$=this._origin,L=r[0].dot(y)+$[n],V=L,z=L,j=1;j<r.length;j++){var re=r[j].dot(y)+$[n];V=Math.min(re,V),z=Math.max(re,z)}g[0]=V,g[1]=z},t}(),m=[],IncrementalDisplayable=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.notClear=!0,r.incremental=!0,r._displayables=[],r._temporaryDisplayables=[],r._cursor=0,r}return n.prototype.traverse=function(r,g){r.call(g,this)},n.prototype.useStyle=function(){this.style={}},n.prototype.getCursor=function(){return this._cursor},n.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},n.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},n.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},n.prototype.addDisplayable=function(r,g){g?this._temporaryDisplayables.push(r):this._displayables.push(r),this.markRedraw()},n.prototype.addDisplayables=function(r,g){g=g||!1;for(var y=0;y<r.length;y++)this.addDisplayable(r[y],g)},n.prototype.getDisplayables=function(){return this._displayables},n.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},n.prototype.eachPendingDisplayable=function(r){for(var g=this._cursor;g<this._displayables.length;g++)r&&r(this._displayables[g]);for(var g=0;g<this._temporaryDisplayables.length;g++)r&&r(this._temporaryDisplayables[g])},n.prototype.update=function(){this.updateTransform();for(var r=this._cursor;r<this._displayables.length;r++){var g=this._displayables[r];g.parent=this,g.update(),g.parent=null}for(var r=0;r<this._temporaryDisplayables.length;r++){var g=this._temporaryDisplayables[r];g.parent=this,g.update(),g.parent=null}},n.prototype.getBoundingRect=function(){if(!this._rect){for(var r=new BoundingRect(1/0,1/0,-1/0,-1/0),g=0;g<this._displayables.length;g++){var y=this._displayables[g],$=y.getBoundingRect().clone();y.needLocalTransform()&&$.applyTransform(y.getLocalTransform(m)),r.union($)}this._rect=r}return this._rect},n.prototype.contain=function(r,g){var y=this.transformCoordToLocal(r,g),$=this.getBoundingRect();if($.contain(y[0],y[1]))for(var L=0;L<this._displayables.length;L++){var V=this._displayables[L];if(V.contain(r,g))return!0}return!1},n}(Displayable),transitionStore=makeInner();function getAnimationConfig(t,n,r,g,y){var $;if(n&&n.ecModel){var L=n.ecModel.getUpdatePayload();$=L&&L.animation}var V=n&&n.isAnimationEnabled(),z=t==="update";if(V){var j=void 0,re=void 0,ae=void 0;g?(j=retrieve2(g.duration,200),re=retrieve2(g.easing,"cubicOut"),ae=0):(j=n.getShallow(z?"animationDurationUpdate":"animationDuration"),re=n.getShallow(z?"animationEasingUpdate":"animationEasing"),ae=n.getShallow(z?"animationDelayUpdate":"animationDelay")),$&&($.duration!=null&&(j=$.duration),$.easing!=null&&(re=$.easing),$.delay!=null&&(ae=$.delay)),isFunction(ae)&&(ae=ae(r,y)),isFunction(j)&&(j=j(r));var oe={duration:j||0,delay:ae,easing:re};return oe}else return null}function animateOrSetProps(t,n,r,g,y,$,L){var V=!1,z;isFunction(y)?(L=$,$=y,y=null):isObject$3(y)&&($=y.cb,L=y.during,V=y.isFrom,z=y.removeOpt,y=y.dataIndex);var j=t==="leave";j||n.stopAnimation("leave");var re=getAnimationConfig(t,g,y,j?z||{}:null,g&&g.getAnimationDelayParams?g.getAnimationDelayParams(n,y):null);if(re&&re.duration>0){var ae=re.duration,oe=re.delay,ie=re.easing,le={duration:ae,delay:oe||0,easing:ie,done:$,force:!!$||!!L,setToFinal:!j,scope:t,during:L};V?n.animateFrom(r,le):n.animateTo(r,le)}else n.stopAnimation(),!V&&n.attr(r),L&&L(1),$&&$()}function updateProps$1(t,n,r,g,y,$){animateOrSetProps("update",t,n,r,g,y,$)}function initProps(t,n,r,g,y,$){animateOrSetProps("enter",t,n,r,g,y,$)}function isElementRemoved(t){if(!t.__zr)return!0;for(var n=0;n<t.animators.length;n++){var r=t.animators[n];if(r.scope==="leave")return!0}return!1}function removeElement(t,n,r,g,y,$){isElementRemoved(t)||animateOrSetProps("leave",t,n,r,g,y,$)}function fadeOutDisplayable(t,n,r,g){t.removeTextContent(),t.removeTextGuideLine(),removeElement(t,{style:{opacity:0}},n,r,g)}function removeElementWithFadeOut(t,n,r){function g(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse(function(y){y.isGroup||fadeOutDisplayable(y,n,r,g)}):fadeOutDisplayable(t,n,r,g)}function saveOldStyle(t){transitionStore(t).oldStyle=t.style}function getOldStyle(t){return transitionStore(t).oldStyle}var mathMax$6=Math.max,mathMin$6=Math.min,_customShapeMap={};function extendShape(t){return Path.extend(t)}var extendPathFromString=extendFromString;function extendPath(t,n){return extendPathFromString(t,n)}function registerShape(t,n){_customShapeMap[t]=n}function getShapeClass(t){if(_customShapeMap.hasOwnProperty(t))return _customShapeMap[t]}function makePath(t,n,r,g){var y=createFromString(t,n);return r&&(g==="center"&&(r=centerGraphic(r,y.getBoundingRect())),resizePath(y,r)),y}function makeImage(t,n,r){var g=new ZRImage({style:{image:t,x:n.x,y:n.y,width:n.width,height:n.height},onload:function(y){if(r==="center"){var $={width:y.width,height:y.height};g.setStyle(centerGraphic(n,$))}}});return g}function centerGraphic(t,n){var r=n.width/n.height,g=t.height*r,y;g<=t.width?y=t.height:(g=t.width,y=g/r);var $=t.x+t.width/2,L=t.y+t.height/2;return{x:$-g/2,y:L-y/2,width:g,height:y}}var mergePath=mergePath$1;function resizePath(t,n){if(t.applyTransform){var r=t.getBoundingRect(),g=r.calculateTransform(n);t.applyTransform(g)}}function subPixelOptimizeLine(t,n){return subPixelOptimizeLine$1(t,t,{lineWidth:n}),t}function subPixelOptimizeRect(t){return subPixelOptimizeRect$1(t.shape,t.shape,t.style),t}var subPixelOptimize=subPixelOptimize$1;function getTransform$1(t,n){for(var r=identity([]);t&&t!==n;)mul(r,t.getLocalTransform(),r),t=t.parent;return r}function applyTransform(t,n,r){return n&&!isArrayLike(n)&&(n=Transformable.getLocalTransform(n)),r&&(n=invert([],n)),applyTransform$1([],t,n)}function transformDirection(t,n,r){var g=n[4]===0||n[5]===0||n[0]===0?1:Math.abs(2*n[4]/n[0]),y=n[4]===0||n[5]===0||n[2]===0?1:Math.abs(2*n[4]/n[2]),$=[t==="left"?-g:t==="right"?g:0,t==="top"?-y:t==="bottom"?y:0];return $=applyTransform($,n,r),Math.abs($[0])>Math.abs($[1])?$[0]>0?"right":"left":$[1]>0?"bottom":"top"}function isNotGroup(t){return!t.isGroup}function isPath$1(t){return t.shape!=null}function groupTransition(t,n,r){if(!t||!n)return;function g(L){var V={};return L.traverse(function(z){isNotGroup(z)&&z.anid&&(V[z.anid]=z)}),V}function y(L){var V={x:L.x,y:L.y,rotation:L.rotation};return isPath$1(L)&&(V.shape=extend({},L.shape)),V}var $=g(t);n.traverse(function(L){if(isNotGroup(L)&&L.anid){var V=$[L.anid];if(V){var z=y(L);L.attr(y(V)),updateProps$1(L,z,r,getECData(L).dataIndex)}}})}function clipPointsByRect(t,n){return map$1(t,function(r){var g=r[0];g=mathMax$6(g,n.x),g=mathMin$6(g,n.x+n.width);var y=r[1];return y=mathMax$6(y,n.y),y=mathMin$6(y,n.y+n.height),[g,y]})}function clipRectByRect(t,n){var r=mathMax$6(t.x,n.x),g=mathMin$6(t.x+t.width,n.x+n.width),y=mathMax$6(t.y,n.y),$=mathMin$6(t.y+t.height,n.y+n.height);if(g>=r&&$>=y)return{x:r,y,width:g-r,height:$-y}}function createIcon(t,n,r){var g=extend({rectHover:!0},n),y=g.style={strokeNoScale:!0};if(r=r||{x:-1,y:-1,width:2,height:2},t)return t.indexOf("image://")===0?(y.image=t.slice(8),defaults(y,r),new ZRImage(g)):makePath(t.replace("path://",""),g,r,"center")}function linePolygonIntersect(t,n,r,g,y){for(var $=0,L=y[y.length-1];$<y.length;$++){var V=y[$];if(lineLineIntersect$1(t,n,r,g,V[0],V[1],L[0],L[1]))return!0;L=V}}function lineLineIntersect$1(t,n,r,g,y,$,L,V){var z=r-t,j=g-n,re=L-y,ae=V-$,oe=crossProduct2d$1(re,ae,z,j);if(nearZero(oe))return!1;var ie=t-y,le=n-$,ue=crossProduct2d$1(ie,le,z,j)/oe;if(ue<0||ue>1)return!1;var de=crossProduct2d$1(ie,le,re,ae)/oe;return!(de<0||de>1)}function crossProduct2d$1(t,n,r,g){return t*g-r*n}function nearZero(t){return t<=1e-6&&t>=-1e-6}function setTooltipConfig(t){var n=t.itemTooltipOption,r=t.componentModel,g=t.itemName,y=isString(n)?{formatter:n}:n,$=r.mainType,L=r.componentIndex,V={componentType:$,name:g,$vars:["name"]};V[$+"Index"]=L;var z=t.formatterParamsExtra;z&&each$f(keys(z),function(re){hasOwn(V,re)||(V[re]=z[re],V.$vars.push(re))});var j=getECData(t.el);j.componentMainType=$,j.componentIndex=L,j.tooltipConfig={name:g,option:defaults({content:g,encodeHTMLContent:!0,formatterParams:V},y)}}function traverseElement(t,n){var r;t.isGroup&&(r=n(t)),r||t.traverse(n)}function traverseElements(t,n){if(t)if(isArray$1(t))for(var r=0;r<t.length;r++)traverseElement(t[r],n);else traverseElement(t,n)}registerShape("circle",Circle);registerShape("ellipse",Ellipse);registerShape("sector",Sector);registerShape("ring",Ring);registerShape("polygon",Polygon);registerShape("polyline",Polyline$1);registerShape("rect",Rect$2);registerShape("line",Line$1);registerShape("bezierCurve",BezierCurve);registerShape("arc",Arc);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc,BezierCurve,BoundingRect,Circle,CompoundPath,Ellipse,Group:Group$3,Image:ZRImage,IncrementalDisplayable,Line:Line$1,LinearGradient,OrientedBoundingRect,Path,Point,Polygon,Polyline:Polyline$1,RadialGradient,Rect:Rect$2,Ring,Sector,Text:ZRText,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform:getTransform$1,groupTransition,initProps,isElementRemoved,lineLineIntersect:lineLineIntersect$1,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(t,n){for(var r=0;r<SPECIAL_STATES.length;r++){var g=SPECIAL_STATES[r],y=n[g],$=t.ensureState(g);$.style=$.style||{},$.style.text=y}var L=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:n.normal}),t.useStates(L,!0)}function getLabelText(t,n,r){var g=t.labelFetcher,y=t.labelDataIndex,$=t.labelDimIndex,L=n.normal,V;g&&(V=g.getFormattedLabel(y,"normal",null,$,L&&L.get("formatter"),r!=null?{interpolatedValue:r}:null)),V==null&&(V=isFunction(t.defaultText)?t.defaultText(y,t,r):t.defaultText);for(var z={normal:V},j=0;j<SPECIAL_STATES.length;j++){var re=SPECIAL_STATES[j],ae=n[re];z[re]=retrieve2(g?g.getFormattedLabel(y,re,null,$,ae&&ae.get("formatter")):null,V)}return z}function setLabelStyle(t,n,r,g){r=r||EMPTY_OBJ;for(var y=t instanceof ZRText,$=!1,L=0;L<DISPLAY_STATES.length;L++){var V=n[DISPLAY_STATES[L]];if(V&&V.getShallow("show")){$=!0;break}}var z=y?t:t.getTextContent();if($){y||(z||(z=new ZRText,t.setTextContent(z)),t.stateProxy&&(z.stateProxy=t.stateProxy));var j=getLabelText(r,n),re=n.normal,ae=!!re.getShallow("show"),oe=createTextStyle(re,g&&g.normal,r,!1,!y);oe.text=j.normal,y||t.setTextConfig(createTextConfig(re,r,!1));for(var L=0;L<SPECIAL_STATES.length;L++){var ie=SPECIAL_STATES[L],V=n[ie];if(V){var le=z.ensureState(ie),ue=!!retrieve2(V.getShallow("show"),ae);if(ue!==ae&&(le.ignore=!ue),le.style=createTextStyle(V,g&&g[ie],r,!0,!y),le.style.text=j[ie],!y){var de=t.ensureState(ie);de.textConfig=createTextConfig(V,r,!0)}}}z.silent=!!re.getShallow("silent"),z.style.x!=null&&(oe.x=z.style.x),z.style.y!=null&&(oe.y=z.style.y),z.ignore=!ae,z.useStyle(oe),z.dirty(),r.enableTextSetter&&(labelInner(z).setLabelText=function(he){var pe=getLabelText(r,n,he);setLabelText(z,pe)})}else z&&(z.ignore=!0);t.dirty()}function getLabelStatesModels(t,n){n=n||"label";for(var r={normal:t.getModel(n)},g=0;g<SPECIAL_STATES.length;g++){var y=SPECIAL_STATES[g];r[y]=t.getModel([y,n])}return r}function createTextStyle(t,n,r,g,y){var $={};return setTextStyleCommon($,t,r,g,y),n&&extend($,n),$}function createTextConfig(t,n,r){n=n||{};var g={},y,$=t.getShallow("rotate"),L=retrieve2(t.getShallow("distance"),r?null:5),V=t.getShallow("offset");return y=t.getShallow("position")||(r?null:"inside"),y==="outside"&&(y=n.defaultOutsidePosition||"top"),y!=null&&(g.position=y),V!=null&&(g.offset=V),$!=null&&($*=Math.PI/180,g.rotation=$),L!=null&&(g.distance=L),g.outsideFill=t.get("color")==="inherit"?n.inheritColor||null:"auto",g}function setTextStyleCommon(t,n,r,g,y){r=r||EMPTY_OBJ;var $=n.ecModel,L=$&&$.option.textStyle,V=getRichItemNames(n),z;if(V){z={};for(var j in V)if(V.hasOwnProperty(j)){var re=n.getModel(["rich",j]);setTokenTextStyle(z[j]={},re,L,r,g,y,!1,!0)}}z&&(t.rich=z);var ae=n.get("overflow");ae&&(t.overflow=ae);var oe=n.get("minMargin");oe!=null&&(t.margin=oe),setTokenTextStyle(t,n,L,r,g,y,!0,!1)}function getRichItemNames(t){for(var n;t&&t!==t.ecModel;){var r=(t.option||EMPTY_OBJ).rich;if(r){n=n||{};for(var g=keys(r),y=0;y<g.length;y++){var $=g[y];n[$]=1}}t=t.parentModel}return n}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(t,n,r,g,y,$,L,V){r=!y&&r||EMPTY_OBJ;var z=g&&g.inheritColor,j=n.getShallow("color"),re=n.getShallow("textBorderColor"),ae=retrieve2(n.getShallow("opacity"),r.opacity);(j==="inherit"||j==="auto")&&(z?j=z:j=null),(re==="inherit"||re==="auto")&&(z?re=z:re=null),$||(j=j||r.color,re=re||r.textBorderColor),j!=null&&(t.fill=j),re!=null&&(t.stroke=re);var oe=retrieve2(n.getShallow("textBorderWidth"),r.textBorderWidth);oe!=null&&(t.lineWidth=oe);var ie=retrieve2(n.getShallow("textBorderType"),r.textBorderType);ie!=null&&(t.lineDash=ie);var le=retrieve2(n.getShallow("textBorderDashOffset"),r.textBorderDashOffset);le!=null&&(t.lineDashOffset=le),!y&&ae==null&&!V&&(ae=g&&g.defaultOpacity),ae!=null&&(t.opacity=ae),!y&&!$&&t.fill==null&&g.inheritColor&&(t.fill=g.inheritColor);for(var ue=0;ue<TEXT_PROPS_WITH_GLOBAL.length;ue++){var de=TEXT_PROPS_WITH_GLOBAL[ue],he=retrieve2(n.getShallow(de),r[de]);he!=null&&(t[de]=he)}for(var ue=0;ue<TEXT_PROPS_SELF.length;ue++){var de=TEXT_PROPS_SELF[ue],he=n.getShallow(de);he!=null&&(t[de]=he)}if(t.verticalAlign==null){var pe=n.getShallow("baseline");pe!=null&&(t.verticalAlign=pe)}if(!L||!g.disableBox){for(var ue=0;ue<TEXT_PROPS_BOX.length;ue++){var de=TEXT_PROPS_BOX[ue],he=n.getShallow(de);he!=null&&(t[de]=he)}var _e=n.getShallow("borderType");_e!=null&&(t.borderDash=_e),(t.backgroundColor==="auto"||t.backgroundColor==="inherit")&&z&&(t.backgroundColor=z),(t.borderColor==="auto"||t.borderColor==="inherit")&&z&&(t.borderColor=z)}}function getFont(t,n){var r=n&&n.getModel("textStyle");return trim$1([t.fontStyle||r&&r.getShallow("fontStyle")||"",t.fontWeight||r&&r.getShallow("fontWeight")||"",(t.fontSize||r&&r.getShallow("fontSize")||12)+"px",t.fontFamily||r&&r.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner();function setLabelValueAnimation(t,n,r,g){if(t){var y=labelInner(t);y.prevValue=y.value,y.value=r;var $=n.normal;y.valueAnimation=$.get("valueAnimation"),y.valueAnimation&&(y.precision=$.get("precision"),y.defaultInterpolatedText=g,y.statesModels=n)}}function animateLabelValue(t,n,r,g,y){var $=labelInner(t);if(!$.valueAnimation||$.prevValue===$.value)return;var L=$.defaultInterpolatedText,V=retrieve2($.interpolatedValue,$.prevValue),z=$.value;function j(re){var ae=interpolateRawValues(r,$.precision,V,z,re);$.interpolatedValue=re===1?null:ae;var oe=getLabelText({labelDataIndex:n,labelFetcher:y,defaultText:L?L(ae):ae+""},$.statesModels,ae);setLabelText(t,oe)}t.percent=0,($.prevValue==null?initProps:updateProps$1)(t,{percent:1},g,n,null,j)}var PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText,TextStyleMixin=function(){function t(){}return t.prototype.getTextColor=function(n){var r=this.ecModel;return this.getShallow("color")||(!n&&r?r.get(PATH_COLOR):null)},t.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(n){for(var r={text:n,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},g=0;g<textStyleParams.length;g++)r[textStyleParams[g]]=this.getShallow(textStyleParams[g]);return tmpText.useStyle(r),tmpText.update(),tmpText.getBoundingRect()},t}(),LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function t(){}return t.prototype.getLineStyle=function(n){return getLineStyle(this,n)},t}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function t(){}return t.prototype.getItemStyle=function(n,r){return getItemStyle(this,n,r)},t}(),Model=function(){function t(n,r,g){this.parentModel=r,this.ecModel=g,this.option=n}return t.prototype.init=function(n,r,g){},t.prototype.mergeOption=function(n,r){merge(this.option,n,!0)},t.prototype.get=function(n,r){return n==null?this.option:this._doGet(this.parsePath(n),!r&&this.parentModel)},t.prototype.getShallow=function(n,r){var g=this.option,y=g==null?g:g[n];if(y==null&&!r){var $=this.parentModel;$&&(y=$.getShallow(n))}return y},t.prototype.getModel=function(n,r){var g=n!=null,y=g?this.parsePath(n):null,$=g?this._doGet(y):this.option;return r=r||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(y)),new t($,r,this.ecModel)},t.prototype.isEmpty=function(){return this.option==null},t.prototype.restoreData=function(){},t.prototype.clone=function(){var n=this.constructor;return new n(clone$4(this.option))},t.prototype.parsePath=function(n){return typeof n=="string"?n.split("."):n},t.prototype.resolveParentPath=function(n){return n},t.prototype.isAnimationEnabled=function(){if(!env.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(n,r){var g=this.option;if(!n)return g;for(var y=0;y<n.length&&!(n[y]&&(g=g&&typeof g=="object"?g[n[y]]:null,g==null));y++);return g==null&&r&&(g=r._doGet(this.resolveParentPath(n),r.parentModel)),g},t}();enableClassExtend(Model);enableClassCheck(Model);mixin(Model,LineStyleMixin);mixin(Model,ItemStyleMixin);mixin(Model,AreaStyleMixin);mixin(Model,TextStyleMixin);var base=Math.round(Math.random()*10);function getUID(t){return[t||"",base++].join("_")}function enableSubTypeDefaulter(t){var n={};t.registerSubTypeDefaulter=function(r,g){var y=parseClassType(r);n[y.main]=g},t.determineSubType=function(r,g){var y=g.type;if(!y){var $=parseClassType(r).main;t.hasSubTypes(r)&&n[$]&&(y=n[$](g))}return y}}function enableTopologicalTravel(t,n){t.topologicalTravel=function($,L,V,z){if(!$.length)return;var j=r(L),re=j.graph,ae=j.noEntryList,oe={};for(each$f($,function(pe){oe[pe]=!0});ae.length;){var ie=ae.pop(),le=re[ie],ue=!!oe[ie];ue&&(V.call(z,ie,le.originalDeps.slice()),delete oe[ie]),each$f(le.successor,ue?he:de)}each$f(oe,function(){var pe="";throw new Error(pe)});function de(pe){re[pe].entryCount--,re[pe].entryCount===0&&ae.push(pe)}function he(pe){oe[pe]=!0,de(pe)}};function r($){var L={},V=[];return each$f($,function(z){var j=g(L,z),re=j.originalDeps=n(z),ae=y(re,$);j.entryCount=ae.length,j.entryCount===0&&V.push(z),each$f(ae,function(oe){indexOf(j.predecessor,oe)<0&&j.predecessor.push(oe);var ie=g(L,oe);indexOf(ie.successor,oe)<0&&ie.successor.push(z)})}),{graph:L,noEntryList:V}}function g($,L){return $[L]||($[L]={predecessor:[],successor:[]}),$[L]}function y($,L){var V=[];return each$f($,function(z){indexOf(L,z)>=0&&V.push(z)}),V}}function inheritDefaultOption(t,n){return merge(merge({},t,!0),n,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:"",custom:"",chart:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env.domSupported?function(){var t=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return t.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(t,n){t=t.toUpperCase(),localeModels[t]=new Model(n),localeStorage[t]=n}function createLocaleObject(t){if(isString(t)){var n=localeStorage[t.toUpperCase()]||{};return t===LOCALE_ZH||t===LOCALE_EN?clone$4(n):merge(clone$4(n),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$4(t),clone$4(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(t){return localeModels[t]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN);registerLocale(LOCALE_ZH,langZH);var ONE_SECOND=1e3,ONE_MINUTE=ONE_SECOND*60,ONE_HOUR=ONE_MINUTE*60,ONE_DAY=ONE_HOUR*24,ONE_YEAR=ONE_DAY*365,defaultLeveledFormatter={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},fullDayFormatter="{yyyy}-{MM}-{dd}",fullLeveledFormatter={year:"{yyyy}",month:"{yyyy}-{MM}",day:fullDayFormatter,hour:fullDayFormatter+" "+defaultLeveledFormatter.hour,minute:fullDayFormatter+" "+defaultLeveledFormatter.minute,second:fullDayFormatter+" "+defaultLeveledFormatter.second,millisecond:defaultLeveledFormatter.none},primaryTimeUnits=["year","month","day","hour","minute","second","millisecond"],timeUnits=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function pad(t,n){return t+="","0000".substr(0,n-t.length)+t}function getPrimaryTimeUnit(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function isPrimaryTimeUnit(t){return t===getPrimaryTimeUnit(t)}function getDefaultFormatPrecisionOfInterval(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function format(t,n,r,g){var y=parseDate(t),$=y[fullYearGetterName(r)](),L=y[monthGetterName(r)]()+1,V=Math.floor((L-1)/3)+1,z=y[dateGetterName(r)](),j=y["get"+(r?"UTC":"")+"Day"](),re=y[hoursGetterName(r)](),ae=(re-1)%12+1,oe=y[minutesGetterName(r)](),ie=y[secondsGetterName(r)](),le=y[millisecondsGetterName(r)](),ue=re>=12?"pm":"am",de=ue.toUpperCase(),he=g instanceof Model?g:getLocaleModel(g||SYSTEM_LANG)||getDefaultLocaleModel(),pe=he.getModel("time"),_e=pe.get("month"),Ce=pe.get("monthAbbr"),xe=pe.get("dayOfWeek"),Ie=pe.get("dayOfWeekAbbr");return(n||"").replace(/{a}/g,ue+"").replace(/{A}/g,de+"").replace(/{yyyy}/g,$+"").replace(/{yy}/g,pad($%100+"",2)).replace(/{Q}/g,V+"").replace(/{MMMM}/g,_e[L-1]).replace(/{MMM}/g,Ce[L-1]).replace(/{MM}/g,pad(L,2)).replace(/{M}/g,L+"").replace(/{dd}/g,pad(z,2)).replace(/{d}/g,z+"").replace(/{eeee}/g,xe[j]).replace(/{ee}/g,Ie[j]).replace(/{e}/g,j+"").replace(/{HH}/g,pad(re,2)).replace(/{H}/g,re+"").replace(/{hh}/g,pad(ae+"",2)).replace(/{h}/g,ae+"").replace(/{mm}/g,pad(oe,2)).replace(/{m}/g,oe+"").replace(/{ss}/g,pad(ie,2)).replace(/{s}/g,ie+"").replace(/{SSS}/g,pad(le,3)).replace(/{S}/g,le+"")}function leveledFormat(t,n,r,g,y){var $=null;if(isString(r))$=r;else if(isFunction(r))$=r(t.value,n,{level:t.level});else{var L=extend({},defaultLeveledFormatter);if(t.level>0)for(var V=0;V<primaryTimeUnits.length;++V)L[primaryTimeUnits[V]]="{primary|"+L[primaryTimeUnits[V]]+"}";var z=r?r.inherit===!1?r:defaults(r,L):L,j=getUnitFromValue(t.value,y);if(z[j])$=z[j];else if(z.inherit){for(var re=timeUnits.indexOf(j),V=re-1;V>=0;--V)if(z[j]){$=z[j];break}$=$||L.none}if(isArray$1($)){var ae=t.level==null?0:t.level>=0?t.level:$.length+t.level;ae=Math.min(ae,$.length-1),$=$[ae]}}return format(new Date(t.value),$,y,g)}function getUnitFromValue(t,n){var r=parseDate(t),g=r[monthGetterName(n)]()+1,y=r[dateGetterName(n)](),$=r[hoursGetterName(n)](),L=r[minutesGetterName(n)](),V=r[secondsGetterName(n)](),z=r[millisecondsGetterName(n)](),j=z===0,re=j&&V===0,ae=re&&L===0,oe=ae&&$===0,ie=oe&&y===1,le=ie&&g===1;return le?"year":ie?"month":oe?"day":ae?"hour":re?"minute":j?"second":"millisecond"}function getUnitValue(t,n,r){var g=isNumber(t)?parseDate(t):t;switch(n=n||getUnitFromValue(t,r),n){case"year":return g[fullYearGetterName(r)]();case"half-year":return g[monthGetterName(r)]()>=6?1:0;case"quarter":return Math.floor((g[monthGetterName(r)]()+1)/4);case"month":return g[monthGetterName(r)]();case"day":return g[dateGetterName(r)]();case"half-day":return g[hoursGetterName(r)]()/24;case"hour":return g[hoursGetterName(r)]();case"minute":return g[minutesGetterName(r)]();case"second":return g[secondsGetterName(r)]();case"millisecond":return g[millisecondsGetterName(r)]()}}function fullYearGetterName(t){return t?"getUTCFullYear":"getFullYear"}function monthGetterName(t){return t?"getUTCMonth":"getMonth"}function dateGetterName(t){return t?"getUTCDate":"getDate"}function hoursGetterName(t){return t?"getUTCHours":"getHours"}function minutesGetterName(t){return t?"getUTCMinutes":"getMinutes"}function secondsGetterName(t){return t?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(t){return t?"getUTCMilliseconds":"getMilliseconds"}function fullYearSetterName(t){return t?"setUTCFullYear":"setFullYear"}function monthSetterName(t){return t?"setUTCMonth":"setMonth"}function dateSetterName(t){return t?"setUTCDate":"setDate"}function hoursSetterName(t){return t?"setUTCHours":"setHours"}function minutesSetterName(t){return t?"setUTCMinutes":"setMinutes"}function secondsSetterName(t){return t?"setUTCSeconds":"setSeconds"}function millisecondsSetterName(t){return t?"setUTCMilliseconds":"setMilliseconds"}function addCommas(t){if(!isNumeric(t))return isString(t)?t:"-";var n=(t+"").split(".");return n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:"")}function toCamelCase(t,n){return t=(t||"").toLowerCase().replace(/-(.)/g,function(r,g){return g.toUpperCase()}),n&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(t,n,r){var g="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function y(re){return re&&trim$1(re)?re:"-"}function $(re){return!!(re!=null&&!isNaN(re)&&isFinite(re))}var L=n==="time",V=t instanceof Date;if(L||V){var z=L?parseDate(t):t;if(isNaN(+z)){if(V)return"-"}else return format(z,g,r)}if(n==="ordinal")return isStringSafe(t)?y(t):isNumber(t)&&$(t)?t+"":"-";var j=numericToNumber(t);return $(j)?addCommas(j):isStringSafe(t)?y(t):typeof t=="boolean"?t+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(t,n){return"{"+t+(n??"")+"}"};function formatTpl(t,n,r){isArray$1(n)||(n=[n]);var g=n.length;if(!g)return"";for(var y=n[0].$vars||[],$=0;$<y.length;$++){var L=TPL_VAR_ALIAS[$];t=t.replace(wrapVar(L),wrapVar(L,0))}for(var V=0;V<g;V++)for(var z=0;z<y.length;z++){var j=n[V][y[z]];t=t.replace(wrapVar(TPL_VAR_ALIAS[z],V),r?encodeHTML(j):j)}return t}function formatTplSimple(t,n,r){return each$f(n,function(g,y){t=t.replace("{"+y+"}",g)}),t}function getTooltipMarker(t,n){var r=isString(t)?{color:t,extraCssText:n}:t||{},g=r.color,y=r.type;n=r.extraCssText;var $=r.renderMode||"html";if(!g)return"";if($==="html")return y==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(g)+";"+(n||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(g)+";"+(n||"")+'"></span>';var L=r.markerId||"markerX";return{renderMode:$,content:"{"+L+"|}  ",style:y==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:g}:{width:10,height:10,borderRadius:5,backgroundColor:g}}}function convertToColorString(t,n){return n=n||"transparent",isString(t)?t:isObject$3(t)&&t.colorStops&&(t.colorStops[0]||{}).color||n}function windowOpen(t,n){if(n==="_blank"||n==="blank"){var r=window.open();r.opener=null,r.location.href=t}else window.open(t,n)}var each$e=each$f,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(t,n,r,g,y){var $=0,L=0;g==null&&(g=1/0),y==null&&(y=1/0);var V=0;n.eachChild(function(z,j){var re=z.getBoundingRect(),ae=n.childAt(j+1),oe=ae&&ae.getBoundingRect(),ie,le;if(t==="horizontal"){var ue=re.width+(oe?-oe.x+re.x:0);ie=$+ue,ie>g||z.newline?($=0,ie=ue,L+=V+r,V=re.height):V=Math.max(V,re.height)}else{var de=re.height+(oe?-oe.y+re.y:0);le=L+de,le>y||z.newline?($+=V+r,L=0,le=de,V=re.width):V=Math.max(V,re.width)}z.newline||(z.x=$,z.y=L,z.markRedraw(),t==="horizontal"?$=ie+r:L=le+r)})}var box=boxLayout;curry$1(boxLayout,"vertical");curry$1(boxLayout,"horizontal");function getAvailableSize(t,n,r){var g=n.width,y=n.height,$=parsePercent(t.left,g),L=parsePercent(t.top,y),V=parsePercent(t.right,g),z=parsePercent(t.bottom,y);return(isNaN($)||isNaN(parseFloat(t.left)))&&($=0),(isNaN(V)||isNaN(parseFloat(t.right)))&&(V=g),(isNaN(L)||isNaN(parseFloat(t.top)))&&(L=0),(isNaN(z)||isNaN(parseFloat(t.bottom)))&&(z=y),r=normalizeCssArray(r||0),{width:Math.max(V-$-r[1]-r[3],0),height:Math.max(z-L-r[0]-r[2],0)}}function getLayoutRect(t,n,r){r=normalizeCssArray(r||0);var g=n.width,y=n.height,$=parsePercent(t.left,g),L=parsePercent(t.top,y),V=parsePercent(t.right,g),z=parsePercent(t.bottom,y),j=parsePercent(t.width,g),re=parsePercent(t.height,y),ae=r[2]+r[0],oe=r[1]+r[3],ie=t.aspect;switch(isNaN(j)&&(j=g-V-oe-$),isNaN(re)&&(re=y-z-ae-L),ie!=null&&(isNaN(j)&&isNaN(re)&&(ie>g/y?j=g*.8:re=y*.8),isNaN(j)&&(j=ie*re),isNaN(re)&&(re=j/ie)),isNaN($)&&($=g-V-j-oe),isNaN(L)&&(L=y-z-re-ae),t.left||t.right){case"center":$=g/2-j/2-r[3];break;case"right":$=g-j-oe;break}switch(t.top||t.bottom){case"middle":case"center":L=y/2-re/2-r[0];break;case"bottom":L=y-re-ae;break}$=$||0,L=L||0,isNaN(j)&&(j=g-oe-$-(V||0)),isNaN(re)&&(re=y-ae-L-(z||0));var le=new BoundingRect($+r[3],L+r[0],j,re);return le.margin=r,le}function positionElement(t,n,r,g,y,$){var L=!y||!y.hv||y.hv[0],V=!y||!y.hv||y.hv[1],z=y&&y.boundingMode||"all";if($=$||t,$.x=t.x,$.y=t.y,!L&&!V)return!1;var j;if(z==="raw")j=t.type==="group"?new BoundingRect(0,0,+n.width||0,+n.height||0):t.getBoundingRect();else if(j=t.getBoundingRect(),t.needLocalTransform()){var re=t.getLocalTransform();j=j.clone(),j.applyTransform(re)}var ae=getLayoutRect(defaults({width:j.width,height:j.height},n),r,g),oe=L?ae.x-j.x:0,ie=V?ae.y-j.y:0;return z==="raw"?($.x=oe,$.y=ie):($.x+=oe,$.y+=ie),$===t&&t.markRedraw(),!0}function sizeCalculable(t,n){return t[HV_NAMES[n][0]]!=null||t[HV_NAMES[n][1]]!=null&&t[HV_NAMES[n][2]]!=null}function fetchLayoutMode(t){var n=t.layoutMode||t.constructor.layoutMode;return isObject$3(n)?n:n?{type:n}:null}function mergeLayoutParam(t,n,r){var g=r&&r.ignoreSize;!isArray$1(g)&&(g=[g,g]);var y=L(HV_NAMES[0],0),$=L(HV_NAMES[1],1);j(HV_NAMES[0],t,y),j(HV_NAMES[1],t,$);function L(re,ae){var oe={},ie=0,le={},ue=0,de=2;if(each$e(re,function(_e){le[_e]=t[_e]}),each$e(re,function(_e){V(n,_e)&&(oe[_e]=le[_e]=n[_e]),z(oe,_e)&&ie++,z(le,_e)&&ue++}),g[ae])return z(n,re[1])?le[re[2]]=null:z(n,re[2])&&(le[re[1]]=null),le;if(ue===de||!ie)return le;if(ie>=de)return oe;for(var he=0;he<re.length;he++){var pe=re[he];if(!V(oe,pe)&&V(t,pe)){oe[pe]=t[pe];break}}return oe}function V(re,ae){return re.hasOwnProperty(ae)}function z(re,ae){return re[ae]!=null&&re[ae]!=="auto"}function j(re,ae,oe){each$e(re,function(ie){ae[ie]=oe[ie]})}}function getLayoutParams(t){return copyLayoutParams({},t)}function copyLayoutParams(t,n){return n&&t&&each$e(LOCATION_PARAMS,function(r){n.hasOwnProperty(r)&&(t[r]=n[r])}),t}var inner$l=makeInner(),ComponentModel=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this,r,g,y)||this;return $.uid=getUID("ec_cpt_model"),$}return n.prototype.init=function(r,g,y){this.mergeDefaultAndTheme(r,y)},n.prototype.mergeDefaultAndTheme=function(r,g){var y=fetchLayoutMode(this),$=y?getLayoutParams(r):{},L=g.getTheme();merge(r,L.get(this.mainType)),merge(r,this.getDefaultOption()),y&&mergeLayoutParam(r,$,y)},n.prototype.mergeOption=function(r,g){merge(this.option,r,!0);var y=fetchLayoutMode(this);y&&mergeLayoutParam(this.option,r,y)},n.prototype.optionUpdated=function(r,g){},n.prototype.getDefaultOption=function(){var r=this.constructor;if(!isExtendedClass(r))return r.defaultOption;var g=inner$l(this);if(!g.defaultOption){for(var y=[],$=r;$;){var L=$.prototype.defaultOption;L&&y.push(L),$=$.superClass}for(var V={},z=y.length-1;z>=0;z--)V=merge(V,y[z],!0);g.defaultOption=V}return g.defaultOption},n.prototype.getReferringComponents=function(r,g){var y=r+"Index",$=r+"Id";return queryReferringComponents(this.ecModel,r,{index:this.get(y,!0),id:this.get($,!0)},g)},n.prototype.getBoxLayoutParams=function(){var r=this;return{left:r.get("left"),top:r.get("top"),right:r.get("right"),bottom:r.get("bottom"),width:r.get("width"),height:r.get("height")}},n.prototype.getZLevelKey=function(){return""},n.prototype.setZLevel=function(r){this.option.zlevel=r},n.protoInitialize=function(){var r=n.prototype;r.type="component",r.id="",r.name="",r.mainType="",r.subType="",r.componentIndex=0}(),n}(Model);mountExtend(ComponentModel,Model);enableClassManagement(ComponentModel);enableSubTypeDefaulter(ComponentModel);enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(t){var n=[];return each$f(ComponentModel.getClassesByMainType(t),function(r){n=n.concat(r.dependencies||r.prototype.dependencies||[])}),n=map$1(n,function(r){return parseClassType(r).main}),t!=="dataset"&&indexOf(n,"dataset")<=0&&n.unshift("dataset"),n}var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(t){innerGlobalModel(t).datasetMap=createHashMap()}function makeSeriesEncodeForAxisCoordSys(t,n,r){var g={},y=querySeriesUpstreamDatasetModel(n);if(!y||!t)return g;var $=[],L=[],V=n.ecModel,z=innerGlobalModel(V).datasetMap,j=y.uid+"_"+r.seriesLayoutBy,re,ae;t=t.slice(),each$f(t,function(ue,de){var he=isObject$3(ue)?ue:t[de]={name:ue};he.type==="ordinal"&&re==null&&(re=de,ae=le(he)),g[he.name]=[]});var oe=z.get(j)||z.set(j,{categoryWayDim:ae,valueWayDim:0});each$f(t,function(ue,de){var he=ue.name,pe=le(ue);if(re==null){var _e=oe.valueWayDim;ie(g[he],_e,pe),ie(L,_e,pe),oe.valueWayDim+=pe}else if(re===de)ie(g[he],0,pe),ie($,0,pe);else{var _e=oe.categoryWayDim;ie(g[he],_e,pe),ie(L,_e,pe),oe.categoryWayDim+=pe}});function ie(ue,de,he){for(var pe=0;pe<he;pe++)ue.push(de+pe)}function le(ue){var de=ue.dimsDef;return de?de.length:1}return $.length&&(g.itemName=$),L.length&&(g.seriesName=L),g}function makeSeriesEncodeForNameBased(t,n,r){var g={},y=querySeriesUpstreamDatasetModel(t);if(!y)return g;var $=n.sourceFormat,L=n.dimensionsDefine,V;($===SOURCE_FORMAT_OBJECT_ROWS||$===SOURCE_FORMAT_KEYED_COLUMNS)&&each$f(L,function(re,ae){(isObject$3(re)?re.name:re)==="name"&&(V=ae)});var z=function(){for(var re={},ae={},oe=[],ie=0,le=Math.min(5,r);ie<le;ie++){var ue=doGuessOrdinal(n.data,$,n.seriesLayoutBy,L,n.startIndex,ie);oe.push(ue);var de=ue===BE_ORDINAL.Not;if(de&&re.v==null&&ie!==V&&(re.v=ie),(re.n==null||re.n===re.v||!de&&oe[re.n]===BE_ORDINAL.Not)&&(re.n=ie),he(re)&&oe[re.n]!==BE_ORDINAL.Not)return re;de||(ue===BE_ORDINAL.Might&&ae.v==null&&ie!==V&&(ae.v=ie),(ae.n==null||ae.n===ae.v)&&(ae.n=ie))}function he(pe){return pe.v!=null&&pe.n!=null}return he(re)?re:he(ae)?ae:null}();if(z){g.value=[z.v];var j=V??z.n;g.itemName=[j],g.seriesName=[j]}return g}function querySeriesUpstreamDatasetModel(t){var n=t.get("data",!0);if(!n)return queryReferringComponents(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(t){return!t.get("transform",!0)&&!t.get("fromTransformResult",!0)?[]:queryReferringComponents(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(t,n){return doGuessOrdinal(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,n)}function doGuessOrdinal(t,n,r,g,y,$){var L,V=5;if(isTypedArray(t))return BE_ORDINAL.Not;var z,j;if(g){var re=g[$];isObject$3(re)?(z=re.name,j=re.type):isString(re)&&(z=re)}if(j!=null)return j==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(n===SOURCE_FORMAT_ARRAY_ROWS){var ae=t;if(r===SERIES_LAYOUT_BY_ROW){for(var oe=ae[$],ie=0;ie<(oe||[]).length&&ie<V;ie++)if((L=Ce(oe[y+ie]))!=null)return L}else for(var ie=0;ie<ae.length&&ie<V;ie++){var le=ae[y+ie];if(le&&(L=Ce(le[$]))!=null)return L}}else if(n===SOURCE_FORMAT_OBJECT_ROWS){var ue=t;if(!z)return BE_ORDINAL.Not;for(var ie=0;ie<ue.length&&ie<V;ie++){var de=ue[ie];if(de&&(L=Ce(de[z]))!=null)return L}}else if(n===SOURCE_FORMAT_KEYED_COLUMNS){var he=t;if(!z)return BE_ORDINAL.Not;var oe=he[z];if(!oe||isTypedArray(oe))return BE_ORDINAL.Not;for(var ie=0;ie<oe.length&&ie<V;ie++)if((L=Ce(oe[ie]))!=null)return L}else if(n===SOURCE_FORMAT_ORIGINAL)for(var pe=t,ie=0;ie<pe.length&&ie<V;ie++){var de=pe[ie],_e=getDataItemValue(de);if(!isArray$1(_e))return BE_ORDINAL.Not;if((L=Ce(_e[$]))!=null)return L}function Ce(xe){var Ie=isString(xe);if(xe!=null&&Number.isFinite(Number(xe))&&xe!=="")return Ie?BE_ORDINAL.Might:BE_ORDINAL.Not;if(Ie&&xe!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function registerInternalOptionCreator(t,n){assert(internalOptionCreatorMap.get(t)==null&&n),internalOptionCreatorMap.set(t,n)}function concatInternalOptions(t,n,r){var g=internalOptionCreatorMap.get(n);if(!g)return r;var y=g(t);return y?r.concat(y):r}var innerColor=makeInner(),innerDecal=makeInner(),PaletteMixin=function(){function t(){}return t.prototype.getColorFromPalette=function(n,r,g){var y=normalizeToArray(this.get("color",!0)),$=this.get("colorLayer",!0);return getFromPalette(this,innerColor,y,$,n,r,g)},t.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},t}();function getDecalFromPalette(t,n,r,g){var y=normalizeToArray(t.get(["aria","decal","decals"]));return getFromPalette(t,innerDecal,y,null,n,r,g)}function getNearestPalette(t,n){for(var r=t.length,g=0;g<r;g++)if(t[g].length>n)return t[g];return t[r-1]}function getFromPalette(t,n,r,g,y,$,L){$=$||t;var V=n($),z=V.paletteIdx||0,j=V.paletteNameMap=V.paletteNameMap||{};if(j.hasOwnProperty(y))return j[y];var re=L==null||!g?r:getNearestPalette(g,L);if(re=re||r,!(!re||!re.length)){var ae=re[z];return y&&(j[y]=ae),V.paletteIdx=(z+1)%re.length,ae}}function clearPalette(t,n){n(t).paletteIdx=0,n(t).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,GlobalModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(r,g,y,$,L,V){$=$||{},this.option=null,this._theme=new Model($),this._locale=new Model(L),this._optionManager=V},n.prototype.setOption=function(r,g,y){var $=normalizeSetOptionInput(g);this._optionManager.setOption(r,y,$),this._resetOption(null,$)},n.prototype.resetOption=function(r,g){return this._resetOption(r,normalizeSetOptionInput(g))},n.prototype._resetOption=function(r,g){var y=!1,$=this._optionManager;if(!r||r==="recreate"){var L=$.mountOption(r==="recreate");!this.option||r==="recreate"?initBase(this,L):(this.restoreData(),this._mergeOption(L,g)),y=!0}if((r==="timeline"||r==="media")&&this.restoreData(),!r||r==="recreate"||r==="timeline"){var V=$.getTimelineOption(this);V&&(y=!0,this._mergeOption(V,g))}if(!r||r==="recreate"||r==="media"){var z=$.getMediaOption(this);z.length&&each$f(z,function(j){y=!0,this._mergeOption(j,g)},this)}return y},n.prototype.mergeOption=function(r){this._mergeOption(r,null)},n.prototype._mergeOption=function(r,g){var y=this.option,$=this._componentsMap,L=this._componentsCount,V=[],z=createHashMap(),j=g&&g.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$f(r,function(ae,oe){ae!=null&&(ComponentModel.hasClass(oe)?oe&&(V.push(oe),z.set(oe,!0)):y[oe]=y[oe]==null?clone$4(ae):merge(y[oe],ae,!0))}),j&&j.each(function(ae,oe){ComponentModel.hasClass(oe)&&!z.get(oe)&&(V.push(oe),z.set(oe,!0))}),ComponentModel.topologicalTravel(V,ComponentModel.getAllClassMainTypes(),re,this);function re(ae){var oe=concatInternalOptions(this,ae,normalizeToArray(r[ae])),ie=$.get(ae),le=ie?j&&j.get(ae)?"replaceMerge":"normalMerge":"replaceAll",ue=mappingToExists(ie,oe,le);setComponentTypeToKeyInfo(ue,ae,ComponentModel),y[ae]=null,$.set(ae,null),L.set(ae,0);var de=[],he=[],pe=0,_e;each$f(ue,function(Ce,xe){var Ie=Ce.existing,$e=Ce.newOption;if(!$e)Ie&&(Ie.mergeOption({},this),Ie.optionUpdated({},!1));else{var Oe=ae==="series",Ne=ComponentModel.getClass(ae,Ce.keyInfo.subType,!Oe);if(!Ne)return;if(ae==="tooltip"){if(_e)return;_e=!0}if(Ie&&Ie.constructor===Ne)Ie.name=Ce.keyInfo.name,Ie.mergeOption($e,this),Ie.optionUpdated($e,!1);else{var Fe=extend({componentIndex:xe},Ce.keyInfo);Ie=new Ne($e,this,this,Fe),extend(Ie,Fe),Ce.brandNew&&(Ie.__requireNewView=!0),Ie.init($e,this,this),Ie.optionUpdated(null,!0)}}Ie?(de.push(Ie.option),he.push(Ie),pe++):(de.push(void 0),he.push(void 0))},this),y[ae]=de,$.set(ae,he),L.set(ae,pe),ae==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},n.prototype.getOption=function(){var r=clone$4(this.option);return each$f(r,function(g,y){if(ComponentModel.hasClass(y)){for(var $=normalizeToArray(g),L=$.length,V=!1,z=L-1;z>=0;z--)$[z]&&!isComponentIdInternal($[z])?V=!0:($[z]=null,!V&&L--);$.length=L,r[y]=$}}),delete r[OPTION_INNER_KEY],r},n.prototype.getTheme=function(){return this._theme},n.prototype.getLocaleModel=function(){return this._locale},n.prototype.setUpdatePayload=function(r){this._payload=r},n.prototype.getUpdatePayload=function(){return this._payload},n.prototype.getComponent=function(r,g){var y=this._componentsMap.get(r);if(y){var $=y[g||0];if($)return $;if(g==null){for(var L=0;L<y.length;L++)if(y[L])return y[L]}}},n.prototype.queryComponents=function(r){var g=r.mainType;if(!g)return[];var y=r.index,$=r.id,L=r.name,V=this._componentsMap.get(g);if(!V||!V.length)return[];var z;return y!=null?(z=[],each$f(normalizeToArray(y),function(j){V[j]&&z.push(V[j])})):$!=null?z=queryByIdOrName("id",$,V):L!=null?z=queryByIdOrName("name",L,V):z=filter(V,function(j){return!!j}),filterBySubType(z,r)},n.prototype.findComponents=function(r){var g=r.query,y=r.mainType,$=V(g),L=$?this.queryComponents($):filter(this._componentsMap.get(y),function(j){return!!j});return z(filterBySubType(L,r));function V(j){var re=y+"Index",ae=y+"Id",oe=y+"Name";return j&&(j[re]!=null||j[ae]!=null||j[oe]!=null)?{mainType:y,index:j[re],id:j[ae],name:j[oe]}:null}function z(j){return r.filter?filter(j,r.filter):j}},n.prototype.eachComponent=function(r,g,y){var $=this._componentsMap;if(isFunction(r)){var L=g,V=r;$.each(function(ae,oe){for(var ie=0;ae&&ie<ae.length;ie++){var le=ae[ie];le&&V.call(L,oe,le,le.componentIndex)}})}else for(var z=isString(r)?$.get(r):isObject$3(r)?this.findComponents(r):null,j=0;z&&j<z.length;j++){var re=z[j];re&&g.call(y,re,re.componentIndex)}},n.prototype.getSeriesByName=function(r){var g=convertOptionIdName(r,null);return filter(this._componentsMap.get("series"),function(y){return!!y&&g!=null&&y.name===g})},n.prototype.getSeriesByIndex=function(r){return this._componentsMap.get("series")[r]},n.prototype.getSeriesByType=function(r){return filter(this._componentsMap.get("series"),function(g){return!!g&&g.subType===r})},n.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(r){return!!r})},n.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},n.prototype.eachSeries=function(r,g){assertSeriesInitialized(this),each$f(this._seriesIndices,function(y){var $=this._componentsMap.get("series")[y];r.call(g,$,y)},this)},n.prototype.eachRawSeries=function(r,g){each$f(this._componentsMap.get("series"),function(y){y&&r.call(g,y,y.componentIndex)})},n.prototype.eachSeriesByType=function(r,g,y){assertSeriesInitialized(this),each$f(this._seriesIndices,function($){var L=this._componentsMap.get("series")[$];L.subType===r&&g.call(y,L,$)},this)},n.prototype.eachRawSeriesByType=function(r,g,y){return each$f(this.getSeriesByType(r),g,y)},n.prototype.isSeriesFiltered=function(r){return assertSeriesInitialized(this),this._seriesIndicesMap.get(r.componentIndex)==null},n.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},n.prototype.filterSeries=function(r,g){assertSeriesInitialized(this);var y=[];each$f(this._seriesIndices,function($){var L=this._componentsMap.get("series")[$];r.call(g,L,$)&&y.push($)},this),this._seriesIndices=y,this._seriesIndicesMap=createHashMap(y)},n.prototype.restoreData=function(r){reCreateSeriesIndices(this);var g=this._componentsMap,y=[];g.each(function($,L){ComponentModel.hasClass(L)&&y.push(L)}),ComponentModel.topologicalTravel(y,ComponentModel.getAllClassMainTypes(),function($){each$f(g.get($),function(L){L&&($!=="series"||!isNotTargetSeries(L,r))&&L.restoreData()})})},n.internalField=function(){reCreateSeriesIndices=function(r){var g=r._seriesIndices=[];each$f(r._componentsMap.get("series"),function(y){y&&g.push(y.componentIndex)}),r._seriesIndicesMap=createHashMap(g)},assertSeriesInitialized=function(r){},initBase=function(r,g){r.option={},r.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,r._componentsMap=createHashMap({series:[]}),r._componentsCount=createHashMap();var y=g.aria;isObject$3(y)&&y.enabled==null&&(y.enabled=!0),mergeTheme(g,r._theme.option),merge(g,globalDefault,!1),r._mergeOption(g,null)}}(),n}(Model);function isNotTargetSeries(t,n){if(n){var r=n.seriesIndex,g=n.seriesId,y=n.seriesName;return r!=null&&t.componentIndex!==r||g!=null&&t.id!==g||y!=null&&t.name!==y}}function mergeTheme(t,n){var r=t.color&&!t.colorLayer;each$f(n,function(g,y){y==="colorLayer"&&r||ComponentModel.hasClass(y)||(typeof g=="object"?t[y]=t[y]?merge(t[y],g,!1):clone$4(g):t[y]==null&&(t[y]=g))})}function queryByIdOrName(t,n,r){if(isArray$1(n)){var g=createHashMap();return each$f(n,function($){if($!=null){var L=convertOptionIdName($,null);L!=null&&g.set($,!0)}}),filter(r,function($){return $&&g.get($[t])})}else{var y=convertOptionIdName(n,null);return filter(r,function($){return $&&y!=null&&$[t]===y})}}function filterBySubType(t,n){return n.hasOwnProperty("subType")?filter(t,function(r){return r&&r.subType===n.subType}):t}function normalizeSetOptionInput(t){var n=createHashMap();return t&&each$f(normalizeToArray(t.replaceMerge),function(r){n.set(r,!0)}),{replaceMergeMainTypeMap:n}}mixin(GlobalModel,PaletteMixin);var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function t(n){each$f(availableMethods,function(r){this[r]=bind$1(n[r],n)},this)}return t}(),coordinateSystemCreators={},CoordinateSystemManager=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(n,r){var g=[];each$f(coordinateSystemCreators,function(y,$){var L=y.create(n,r);g=g.concat(L||[])}),this._coordinateSystems=g},t.prototype.update=function(n,r){each$f(this._coordinateSystems,function(g){g.update&&g.update(n,r)})},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(n,r){coordinateSystemCreators[n]=r},t.get=function(n){return coordinateSystemCreators[n]},t}(),QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function t(n){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=n}return t.prototype.setOption=function(n,r,g){n&&(each$f(normalizeToArray(n.series),function(L){L&&L.data&&isTypedArray(L.data)&&setAsPrimitive(L.data)}),each$f(normalizeToArray(n.dataset),function(L){L&&L.source&&isTypedArray(L.source)&&setAsPrimitive(L.source)})),n=clone$4(n);var y=this._optionBackup,$=parseRawOption(n,r,!y);this._newBaseOption=$.baseOption,y?($.timelineOptions.length&&(y.timelineOptions=$.timelineOptions),$.mediaList.length&&(y.mediaList=$.mediaList),$.mediaDefault&&(y.mediaDefault=$.mediaDefault)):this._optionBackup=$},t.prototype.mountOption=function(n){var r=this._optionBackup;return this._timelineOptions=r.timelineOptions,this._mediaList=r.mediaList,this._mediaDefault=r.mediaDefault,this._currentMediaIndices=[],clone$4(n?r.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(n){var r,g=this._timelineOptions;if(g.length){var y=n.getComponent("timeline");y&&(r=clone$4(g[y.getCurrentIndex()]))}return r},t.prototype.getMediaOption=function(n){var r=this._api.getWidth(),g=this._api.getHeight(),y=this._mediaList,$=this._mediaDefault,L=[],V=[];if(!y.length&&!$)return V;for(var z=0,j=y.length;z<j;z++)applyMediaQuery(y[z].query,r,g)&&L.push(z);return!L.length&&$&&(L=[-1]),L.length&&!indicesEquals(L,this._currentMediaIndices)&&(V=map$1(L,function(re){return clone$4(re===-1?$.option:y[re].option)})),this._currentMediaIndices=L,V},t}();function parseRawOption(t,n,r){var g=[],y,$,L=t.baseOption,V=t.timeline,z=t.options,j=t.media,re=!!t.media,ae=!!(z||V||L&&L.timeline);L?($=L,$.timeline||($.timeline=V)):((ae||re)&&(t.options=t.media=null),$=t),re&&isArray$1(j)&&each$f(j,function(ie){ie&&ie.option&&(ie.query?g.push(ie):y||(y=ie))}),oe($),each$f(z,function(ie){return oe(ie)}),each$f(g,function(ie){return oe(ie.option)});function oe(ie){each$f(n,function(le){le(ie,r)})}return{baseOption:$,timelineOptions:z||[],mediaDefault:y,mediaList:g}}function applyMediaQuery(t,n,r){var g={width:n,height:r,aspectratio:n/r},y=!0;return each$f(t,function($,L){var V=L.match(QUERY_REG);if(!(!V||!V[1]||!V[2])){var z=V[1],j=V[2].toLowerCase();compare(g[j],$,z)||(y=!1)}}),y}function compare(t,n,r){return r==="min"?t>=n:r==="max"?t<=n:t===n}function indicesEquals(t,n){return t.join(",")===n.join(",")}var each$d=each$f,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(t){var n=t&&t.itemStyle;if(n)for(var r=0,g=POSSIBLE_STYLES.length;r<g;r++){var y=POSSIBLE_STYLES[r],$=n.normal,L=n.emphasis;$&&$[y]&&(t[y]=t[y]||{},t[y].normal?merge(t[y].normal,$[y]):t[y].normal=$[y],$[y]=null),L&&L[y]&&(t[y]=t[y]||{},t[y].emphasis?merge(t[y].emphasis,L[y]):t[y].emphasis=L[y],L[y]=null)}}function convertNormalEmphasis(t,n,r){if(t&&t[n]&&(t[n].normal||t[n].emphasis)){var g=t[n].normal,y=t[n].emphasis;g&&(r?(t[n].normal=t[n].emphasis=null,defaults(t[n],g)):t[n]=g),y&&(t.emphasis=t.emphasis||{},t.emphasis[n]=y,y.focus&&(t.emphasis.focus=y.focus),y.blurScope&&(t.emphasis.blurScope=y.blurScope))}}function removeEC3NormalStatus(t){convertNormalEmphasis(t,"itemStyle"),convertNormalEmphasis(t,"lineStyle"),convertNormalEmphasis(t,"areaStyle"),convertNormalEmphasis(t,"label"),convertNormalEmphasis(t,"labelLine"),convertNormalEmphasis(t,"upperLabel"),convertNormalEmphasis(t,"edgeLabel")}function compatTextStyle(t,n){var r=isObject$2(t)&&t[n],g=isObject$2(r)&&r.textStyle;if(g)for(var y=0,$=TEXT_STYLE_OPTIONS.length;y<$;y++){var L=TEXT_STYLE_OPTIONS[y];g.hasOwnProperty(L)&&(r[L]=g[L])}}function compatEC3CommonStyles(t){t&&(removeEC3NormalStatus(t),compatTextStyle(t,"label"),t.emphasis&&compatTextStyle(t.emphasis,"label"))}function processSeries(t){if(isObject$2(t)){compatEC2ItemStyle(t),removeEC3NormalStatus(t),compatTextStyle(t,"label"),compatTextStyle(t,"upperLabel"),compatTextStyle(t,"edgeLabel"),t.emphasis&&(compatTextStyle(t.emphasis,"label"),compatTextStyle(t.emphasis,"upperLabel"),compatTextStyle(t.emphasis,"edgeLabel"));var n=t.markPoint;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var r=t.markLine;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var g=t.markArea;g&&compatEC3CommonStyles(g);var y=t.data;if(t.type==="graph"){y=y||t.nodes;var $=t.links||t.edges;if($&&!isTypedArray($))for(var L=0;L<$.length;L++)compatEC3CommonStyles($[L]);each$f(t.categories,function(j){removeEC3NormalStatus(j)})}if(y&&!isTypedArray(y))for(var L=0;L<y.length;L++)compatEC3CommonStyles(y[L]);if(n=t.markPoint,n&&n.data)for(var V=n.data,L=0;L<V.length;L++)compatEC3CommonStyles(V[L]);if(r=t.markLine,r&&r.data)for(var z=r.data,L=0;L<z.length;L++)isArray$1(z[L])?(compatEC3CommonStyles(z[L][0]),compatEC3CommonStyles(z[L][1])):compatEC3CommonStyles(z[L]);t.type==="gauge"?(compatTextStyle(t,"axisLabel"),compatTextStyle(t,"title"),compatTextStyle(t,"detail")):t.type==="treemap"?(convertNormalEmphasis(t.breadcrumb,"itemStyle"),each$f(t.levels,function(j){removeEC3NormalStatus(j)})):t.type==="tree"&&removeEC3NormalStatus(t.leaves)}}function toArr(t){return isArray$1(t)?t:t?[t]:[]}function toObj(t){return(isArray$1(t)?t[0]:t)||{}}function globalCompatStyle(t,n){each$d(toArr(t.series),function(g){isObject$2(g)&&processSeries(g)});var r=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];n&&r.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$d(r,function(g){each$d(toArr(t[g]),function(y){y&&(compatTextStyle(y,"axisLabel"),compatTextStyle(y.axisPointer,"label"))})}),each$d(toArr(t.parallel),function(g){var y=g&&g.parallelAxisDefault;compatTextStyle(y,"axisLabel"),compatTextStyle(y&&y.axisPointer,"label")}),each$d(toArr(t.calendar),function(g){convertNormalEmphasis(g,"itemStyle"),compatTextStyle(g,"dayLabel"),compatTextStyle(g,"monthLabel"),compatTextStyle(g,"yearLabel")}),each$d(toArr(t.radar),function(g){compatTextStyle(g,"name"),g.name&&g.axisName==null&&(g.axisName=g.name,delete g.name),g.nameGap!=null&&g.axisNameGap==null&&(g.axisNameGap=g.nameGap,delete g.nameGap)}),each$d(toArr(t.geo),function(g){isObject$2(g)&&(compatEC3CommonStyles(g),each$d(toArr(g.regions),function(y){compatEC3CommonStyles(y)}))}),each$d(toArr(t.timeline),function(g){compatEC3CommonStyles(g),convertNormalEmphasis(g,"label"),convertNormalEmphasis(g,"itemStyle"),convertNormalEmphasis(g,"controlStyle",!0);var y=g.data;isArray$1(y)&&each$f(y,function($){isObject$3($)&&(convertNormalEmphasis($,"label"),convertNormalEmphasis($,"itemStyle"))})}),each$d(toArr(t.toolbox),function(g){convertNormalEmphasis(g,"iconStyle"),each$d(g.feature,function(y){convertNormalEmphasis(y,"iconStyle")})}),compatTextStyle(toObj(t.axisPointer),"label"),compatTextStyle(toObj(t.tooltip).axisPointer,"label")}function get(t,n){for(var r=n.split(","),g=t,y=0;y<r.length&&(g=g&&g[r[y]],g!=null);y++);return g}function set(t,n,r,g){for(var y=n.split(","),$=t,L,V=0;V<y.length-1;V++)L=y[V],$[L]==null&&($[L]={}),$=$[L];$[y[V]]==null&&($[y[V]]=r)}function compatLayoutProperties(t){t&&each$f(LAYOUT_PROPERTIES,function(n){n[0]in t&&!(n[1]in t)&&(t[n[1]]=t[n[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(t){var n=t&&t.itemStyle;if(n)for(var r=0;r<BAR_ITEM_STYLE_MAP.length;r++){var g=BAR_ITEM_STYLE_MAP[r][1],y=BAR_ITEM_STYLE_MAP[r][0];n[g]!=null&&(n[y]=n[g])}}function compatPieLabel(t){t&&t.alignTo==="edge"&&t.margin!=null&&t.edgeDistance==null&&(t.edgeDistance=t.margin)}function compatSunburstState(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function compatGraphFocus(t){t&&t.focusNodeAdjacency!=null&&(t.emphasis=t.emphasis||{},t.emphasis.focus==null&&(t.emphasis.focus="adjacency"))}function traverseTree(t,n){if(t)for(var r=0;r<t.length;r++)n(t[r]),t[r]&&traverseTree(t[r].children,n)}function globalBackwardCompat(t,n){globalCompatStyle(t,n),t.series=normalizeToArray(t.series),each$f(t.series,function(r){if(isObject$3(r)){var g=r.type;if(g==="line")r.clipOverflow!=null&&(r.clip=r.clipOverflow);else if(g==="pie"||g==="gauge"){r.clockWise!=null&&(r.clockwise=r.clockWise),compatPieLabel(r.label);var y=r.data;if(y&&!isTypedArray(y))for(var $=0;$<y.length;$++)compatPieLabel(y[$]);r.hoverOffset!=null&&(r.emphasis=r.emphasis||{},(r.emphasis.scaleSize=null)&&(r.emphasis.scaleSize=r.hoverOffset))}else if(g==="gauge"){var L=get(r,"pointer.color");L!=null&&set(r,"itemStyle.color",L)}else if(g==="bar"){compatBarItemStyle(r),compatBarItemStyle(r.backgroundStyle),compatBarItemStyle(r.emphasis);var y=r.data;if(y&&!isTypedArray(y))for(var $=0;$<y.length;$++)typeof y[$]=="object"&&(compatBarItemStyle(y[$]),compatBarItemStyle(y[$]&&y[$].emphasis))}else if(g==="sunburst"){var V=r.highlightPolicy;V&&(r.emphasis=r.emphasis||{},r.emphasis.focus||(r.emphasis.focus=V)),compatSunburstState(r),traverseTree(r.data,compatSunburstState)}else g==="graph"||g==="sankey"?compatGraphFocus(r):g==="map"&&(r.mapType&&!r.map&&(r.map=r.mapType),r.mapLocation&&defaults(r,r.mapLocation));r.hoverAnimation!=null&&(r.emphasis=r.emphasis||{},r.emphasis&&r.emphasis.scale==null&&(r.emphasis.scale=r.hoverAnimation)),compatLayoutProperties(r)}}),t.dataRange&&(t.visualMap=t.dataRange),each$f(COMPATITABLE_COMPONENTS,function(r){var g=t[r];g&&(isArray$1(g)||(g=[g]),each$f(g,function(y){compatLayoutProperties(y)}))})}function dataStack(t){var n=createHashMap();t.eachSeries(function(r){var g=r.get("stack");if(g){var y=n.get(g)||n.set(g,[]),$=r.getData(),L={stackResultDimension:$.getCalculationInfo("stackResultDimension"),stackedOverDimension:$.getCalculationInfo("stackedOverDimension"),stackedDimension:$.getCalculationInfo("stackedDimension"),stackedByDimension:$.getCalculationInfo("stackedByDimension"),isStackedByIndex:$.getCalculationInfo("isStackedByIndex"),data:$,seriesModel:r};if(!L.stackedDimension||!(L.isStackedByIndex||L.stackedByDimension))return;y.length&&$.setCalculationInfo("stackedOnSeries",y[y.length-1].seriesModel),y.push(L)}}),n.each(calculateStack)}function calculateStack(t){each$f(t,function(n,r){var g=[],y=[NaN,NaN],$=[n.stackResultDimension,n.stackedOverDimension],L=n.data,V=n.isStackedByIndex,z=n.seriesModel.get("stackStrategy")||"samesign";L.modify($,function(j,re,ae){var oe=L.get(n.stackedDimension,ae);if(isNaN(oe))return y;var ie,le;V?le=L.getRawIndex(ae):ie=L.get(n.stackedByDimension,ae);for(var ue=NaN,de=r-1;de>=0;de--){var he=t[de];if(V||(le=he.data.rawIndexOf(he.stackedByDimension,ie)),le>=0){var pe=he.data.getByRawIndex(he.stackResultDimension,le);if(z==="all"||z==="positive"&&pe>0||z==="negative"&&pe<0||z==="samesign"&&oe>=0&&pe>0||z==="samesign"&&oe<=0&&pe<0){oe=addSafe(oe,pe),ue=pe;break}}}return g[0]=oe,g[1]=ue,g})})}var SourceImpl=function(){function t(n){this.data=n.data||(n.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=n.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=n.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=n.startIndex||0,this.dimensionsDetectedCount=n.dimensionsDetectedCount,this.metaRawOption=n.metaRawOption;var r=this.dimensionsDefine=n.dimensionsDefine;if(r)for(var g=0;g<r.length;g++){var y=r[g];y.type==null&&guessOrdinal(this,g)===BE_ORDINAL.Must&&(y.type="ordinal")}}return t}();function isSourceInstance(t){return t instanceof SourceImpl}function createSource(t,n,r){r=r||detectSourceFormat(t);var g=n.seriesLayoutBy,y=determineSourceDimensions(t,r,g,n.sourceHeader,n.dimensions),$=new SourceImpl({data:t,sourceFormat:r,seriesLayoutBy:g,dimensionsDefine:y.dimensionsDefine,startIndex:y.startIndex,dimensionsDetectedCount:y.dimensionsDetectedCount,metaRawOption:clone$4(n)});return $}function createSourceFromSeriesDataOption(t){return new SourceImpl({data:t,sourceFormat:isTypedArray(t)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(t){return new SourceImpl({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:clone$4(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function detectSourceFormat(t){var n=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(t))n=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(t)){t.length===0&&(n=SOURCE_FORMAT_ARRAY_ROWS);for(var r=0,g=t.length;r<g;r++){var y=t[r];if(y!=null){if(isArray$1(y)||isTypedArray(y)){n=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(y)){n=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(t)){for(var $ in t)if(hasOwn(t,$)&&isArrayLike(t[$])){n=SOURCE_FORMAT_KEYED_COLUMNS;break}}return n}function determineSourceDimensions(t,n,r,g,y){var $,L;if(!t)return{dimensionsDefine:normalizeDimensionsOption(y),startIndex:L,dimensionsDetectedCount:$};if(n===SOURCE_FORMAT_ARRAY_ROWS){var V=t;g==="auto"||g==null?arrayRowsTravelFirst(function(j){j!=null&&j!=="-"&&(isString(j)?L==null&&(L=1):L=0)},r,V,10):L=isNumber(g)?g:g?1:0,!y&&L===1&&(y=[],arrayRowsTravelFirst(function(j,re){y[re]=j!=null?j+"":""},r,V,1/0)),$=y?y.length:r===SERIES_LAYOUT_BY_ROW?V.length:V[0]?V[0].length:null}else if(n===SOURCE_FORMAT_OBJECT_ROWS)y||(y=objectRowsCollectDimensions(t));else if(n===SOURCE_FORMAT_KEYED_COLUMNS)y||(y=[],each$f(t,function(j,re){y.push(re)}));else if(n===SOURCE_FORMAT_ORIGINAL){var z=getDataItemValue(t[0]);$=isArray$1(z)&&z.length||1}return{startIndex:L,dimensionsDefine:normalizeDimensionsOption(y),dimensionsDetectedCount:$}}function objectRowsCollectDimensions(t){for(var n=0,r;n<t.length&&!(r=t[n++]););if(r)return keys(r)}function normalizeDimensionsOption(t){if(t){var n=createHashMap();return map$1(t,function(r,g){r=isObject$3(r)?r:{name:r};var y={name:r.name,displayName:r.displayName,type:r.type};if(y.name==null)return y;y.name+="",y.displayName==null&&(y.displayName=y.name);var $=n.get(y.name);return $?y.name+="-"+$.count++:n.set(y.name,{count:1}),y})}}function arrayRowsTravelFirst(t,n,r,g){if(n===SERIES_LAYOUT_BY_ROW)for(var y=0;y<r.length&&y<g;y++)t(r[y]?r[y][0]:null,y);else for(var $=r[0]||[],y=0;y<$.length&&y<g;y++)t($[y],y)}function shouldRetrieveDataByName(t){var n=t.sourceFormat;return n===SOURCE_FORMAT_OBJECT_ROWS||n===SOURCE_FORMAT_KEYED_COLUMNS}var _a,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function t(n,r){var g=isSourceInstance(n)?n:createSourceFromSeriesDataOption(n);this._source=g;var y=this._data=g.data;g.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY&&(this._offset=0,this._dimSize=r,this._data=y),mountMethods(this,y,g)}return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(n,r){},t.prototype.appendData=function(n){},t.prototype.clean=function(){},t.protoInitialize=function(){var n=t.prototype;n.pure=!1,n.persistent=!0}(),t.internalField=function(){var n;mountMethods=function(L,V,z){var j=z.sourceFormat,re=z.seriesLayoutBy,ae=z.startIndex,oe=z.dimensionsDefine,ie=providerMethods[getMethodMapKey(j,re)];if(extend(L,ie),j===SOURCE_FORMAT_TYPED_ARRAY)L.getItem=r,L.count=y,L.fillStorage=g;else{var le=getRawSourceItemGetter(j,re);L.getItem=bind$1(le,null,V,ae,oe);var ue=getRawSourceDataCounter(j,re);L.count=bind$1(ue,null,V,ae,oe)}};var r=function(L,V){L=L-this._offset,V=V||[];for(var z=this._data,j=this._dimSize,re=j*L,ae=0;ae<j;ae++)V[ae]=z[re+ae];return V},g=function(L,V,z,j){for(var re=this._data,ae=this._dimSize,oe=0;oe<ae;oe++){for(var ie=j[oe],le=ie[0]==null?1/0:ie[0],ue=ie[1]==null?-1/0:ie[1],de=V-L,he=z[oe],pe=0;pe<de;pe++){var _e=re[pe*ae+oe];he[L+pe]=_e,_e<le&&(le=_e),_e>ue&&(ue=_e)}ie[0]=le,ie[1]=ue}},y=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(n={},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:$},n[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},n[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:$},n[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(L){var V=this._data;each$f(L,function(z,j){for(var re=V[j]||(V[j]=[]),ae=0;ae<(z||[]).length;ae++)re.push(z[ae])})}},n[SOURCE_FORMAT_ORIGINAL]={appendData:$},n[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(L){this._data=L},clean:function(){this._offset+=this.count(),this._data=null}},n);function $(L){for(var V=0;V<L.length;V++)this._data.push(L[V])}}(),t}(),getItemSimply=function(t,n,r,g){return t[g]},rawSourceItemGetterMap=(_a={},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(t,n,r,g){return t[g+n]},_a[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(t,n,r,g,y){g+=n;for(var $=y||[],L=t,V=0;V<L.length;V++){var z=L[V];$[V]=z?z[g]:null}return $},_a[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a[SOURCE_FORMAT_KEYED_COLUMNS]=function(t,n,r,g,y){for(var $=y||[],L=0;L<r.length;L++){var V=r[L].name,z=t[V];$[L]=z?z[g]:null}return $},_a[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a);function getRawSourceItemGetter(t,n){var r=rawSourceItemGetterMap[getMethodMapKey(t,n)];return r}var countSimply=function(t,n,r){return t.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(t,n,r){return Math.max(0,t.length-n)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(t,n,r){var g=t[0];return g?Math.max(0,g.length-n):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(t,n,r){var g=r[0].name,y=t[g];return y?y.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(t,n){var r=rawSourceDataCounterMap[getMethodMapKey(t,n)];return r}var getRawValueSimply=function(t,n,r){return t[n]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(t,n,r){return t[r]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(t,n,r){var g=getDataItemValue(t);return g instanceof Array?g[n]:g},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(t){var n=rawSourceValueGetterMap[t];return n}function getMethodMapKey(t,n){return t===SOURCE_FORMAT_ARRAY_ROWS?t+"_"+n:t}function retrieveRawValue(t,n,r){if(t){var g=t.getRawDataItem(n);if(g!=null){var y=t.getStore(),$=y.getSource().sourceFormat;if(r!=null){var L=t.getDimensionIndex(r),V=y.getDimensionProperty(L);return getRawSourceValueGetter($)(g,L,V)}else{var z=g;return $===SOURCE_FORMAT_ORIGINAL&&(z=getDataItemValue(g)),z}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function t(){}return t.prototype.getDataParams=function(n,r){var g=this.getData(r),y=this.getRawValue(n,r),$=g.getRawIndex(n),L=g.getName(n),V=g.getRawDataItem(n),z=g.getItemVisual(n,"style"),j=z&&z[g.getItemVisual(n,"drawType")||"fill"],re=z&&z.stroke,ae=this.mainType,oe=ae==="series",ie=g.userOutput&&g.userOutput.get();return{componentType:ae,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:oe?this.subType:null,seriesIndex:this.seriesIndex,seriesId:oe?this.id:null,seriesName:oe?this.name:null,name:L,dataIndex:$,data:V,dataType:r,value:y,color:j,borderColor:re,dimensionNames:ie?ie.fullDimensions:null,encode:ie?ie.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(n,r,g,y,$,L){r=r||"normal";var V=this.getData(g),z=this.getDataParams(n,g);if(L&&(z.value=L.interpolatedValue),y!=null&&isArray$1(z.value)&&(z.value=z.value[y]),!$){var j=V.getItemModel(n);$=j.get(r==="normal"?["label","formatter"]:[r,"label","formatter"])}if(isFunction($))return z.status=r,z.dimensionIndex=y,$(z);if(isString($)){var re=formatTpl($,z);return re.replace(DIMENSION_LABEL_REG,function(ae,oe){var ie=oe.length,le=oe;le.charAt(0)==="["&&le.charAt(ie-1)==="]"&&(le=+le.slice(1,ie-1));var ue=retrieveRawValue(V,n,le);if(L&&isArray$1(L.interpolatedValue)){var de=V.getDimensionIndex(le);de>=0&&(ue=L.interpolatedValue[de])}return ue!=null?ue+"":""})}},t.prototype.getRawValue=function(n,r){return retrieveRawValue(this.getData(r),n)},t.prototype.formatTooltip=function(n,r,g){},t}();function normalizeTooltipFormatResult(t){var n,r;return isObject$3(t)?t.type&&(r=t):n=t,{text:n,frag:r}}function createTask(t){return new Task(t)}var Task=function(){function t(n){n=n||{},this._reset=n.reset,this._plan=n.plan,this._count=n.count,this._onDirty=n.onDirty,this._dirty=!0}return t.prototype.perform=function(n){var r=this._upstream,g=n&&n.skip;if(this._dirty&&r){var y=this.context;y.data=y.outputData=r.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var $;this._plan&&!g&&($=this._plan(this.context));var L=re(this._modBy),V=this._modDataCount||0,z=re(n&&n.modBy),j=n&&n.modDataCount||0;(L!==z||V!==j)&&($="reset");function re(pe){return!(pe>=1)&&(pe=1),pe}var ae;(this._dirty||$==="reset")&&(this._dirty=!1,ae=this._doReset(g)),this._modBy=z,this._modDataCount=j;var oe=n&&n.step;if(r?this._dueEnd=r._outputDueEnd:this._dueEnd=this._count?this._count(this.context):1/0,this._progress){var ie=this._dueIndex,le=Math.min(oe!=null?this._dueIndex+oe:1/0,this._dueEnd);if(!g&&(ae||ie<le)){var ue=this._progress;if(isArray$1(ue))for(var de=0;de<ue.length;de++)this._doProgress(ue[de],ie,le,z,j);else this._doProgress(ue,ie,le,z,j)}this._dueIndex=le;var he=this._settedOutputEnd!=null?this._settedOutputEnd:le;this._outputDueEnd=he}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(n,r,g,y,$){iterator.reset(r,g,y,$),this._callingProgress=n,this._callingProgress({start:r,end:g,count:g-r,next:iterator.next},this.context)},t.prototype._doReset=function(n){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var r,g;!n&&this._reset&&(r=this._reset(this.context),r&&r.progress&&(g=r.forceFirstProgress,r=r.progress),isArray$1(r)&&!r.length&&(r=null)),this._progress=r,this._modBy=this._modDataCount=null;var y=this._downstream;return y&&y.dirty(),g},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(n){(this._downstream!==n||this._dirty)&&(this._downstream=n,n._upstream=this,n.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(n){this._outputDueEnd=this._settedOutputEnd=n},t}(),iterator=function(){var t,n,r,g,y,$={reset:function(z,j,re,ae){n=z,t=j,r=re,g=ae,y=Math.ceil(g/r),$.next=r>1&&g>0?V:L}};return $;function L(){return n<t?n++:null}function V(){var z=n%y*r+Math.ceil(n/y),j=n>=t?null:z<g?z:n;return n++,j}}();function parseDataValue(t,n){var r=n&&n.type;return r==="ordinal"?t:(r==="time"&&!isNumber(t)&&t!=null&&t!=="-"&&(t=+parseDate(t)),t==null||t===""?NaN:Number(t))}var valueParserMap=createHashMap({number:function(t){return parseFloat(t)},time:function(t){return+parseDate(t)},trim:function(t){return isString(t)?trim$1(t):t}});function getRawValueParser(t){return valueParserMap.get(t)}var ORDER_COMPARISON_OP_MAP={lt:function(t,n){return t<n},lte:function(t,n){return t<=n},gt:function(t,n){return t>n},gte:function(t,n){return t>=n}},FilterOrderComparator=function(){function t(n,r){if(!isNumber(r)){var g="";throwError(g)}this._opFn=ORDER_COMPARISON_OP_MAP[n],this._rvalFloat=numericToNumber(r)}return t.prototype.evaluate=function(n){return isNumber(n)?this._opFn(n,this._rvalFloat):this._opFn(numericToNumber(n),this._rvalFloat)},t}(),SortOrderComparator=function(){function t(n,r){var g=n==="desc";this._resultLT=g?1:-1,r==null&&(r=g?"min":"max"),this._incomparable=r==="min"?-1/0:1/0}return t.prototype.evaluate=function(n,r){var g=isNumber(n)?n:numericToNumber(n),y=isNumber(r)?r:numericToNumber(r),$=isNaN(g),L=isNaN(y);if($&&(g=this._incomparable),L&&(y=this._incomparable),$&&L){var V=isString(n),z=isString(r);V&&(g=z?n:0),z&&(y=V?r:0)}return g<y?this._resultLT:g>y?-this._resultLT:0},t}(),FilterEqualityComparator=function(){function t(n,r){this._rval=r,this._isEQ=n,this._rvalTypeof=typeof r,this._rvalFloat=numericToNumber(r)}return t.prototype.evaluate=function(n){var r=n===this._rval;if(!r){var g=typeof n;g!==this._rvalTypeof&&(g==="number"||this._rvalTypeof==="number")&&(r=numericToNumber(n)===this._rvalFloat)}return this._isEQ?r:!r},t}();function createFilterComparator(t,n){return t==="eq"||t==="ne"?new FilterEqualityComparator(t==="eq",n):hasOwn(ORDER_COMPARISON_OP_MAP,t)?new FilterOrderComparator(t,n):null}var ExternalSource=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(n){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(n){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(n,r){},t.prototype.retrieveValueFromItem=function(n,r){},t.prototype.convertValue=function(n,r){return parseDataValue(n,r)},t}();function createExternalSource(t,n){var r=new ExternalSource,g=t.data,y=r.sourceFormat=t.sourceFormat,$=t.startIndex,L="";t.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&throwError(L);var V=[],z={},j=t.dimensionsDefine;if(j)each$f(j,function(ue,de){var he=ue.name,pe={index:de,name:he,displayName:ue.displayName};if(V.push(pe),he!=null){var _e="";hasOwn(z,he)&&throwError(_e),z[he]=pe}});else for(var re=0;re<t.dimensionsDetectedCount;re++)V.push({index:re});var ae=getRawSourceItemGetter(y,SERIES_LAYOUT_BY_COLUMN);n.__isBuiltIn&&(r.getRawDataItem=function(ue){return ae(g,$,V,ue)},r.getRawData=bind$1(getRawData,null,t)),r.cloneRawData=bind$1(cloneRawData,null,t);var oe=getRawSourceDataCounter(y,SERIES_LAYOUT_BY_COLUMN);r.count=bind$1(oe,null,g,$,V);var ie=getRawSourceValueGetter(y);r.retrieveValue=function(ue,de){var he=ae(g,$,V,ue);return le(he,de)};var le=r.retrieveValueFromItem=function(ue,de){if(ue!=null){var he=V[de];if(he)return ie(ue,de,he.name)}};return r.getDimensionInfo=bind$1(getDimensionInfo,null,V,z),r.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,V),r}function getRawData(t){var n=t.sourceFormat;if(!isSupportedSourceFormat(n)){var r="";throwError(r)}return t.data}function cloneRawData(t){var n=t.sourceFormat,r=t.data;if(!isSupportedSourceFormat(n)){var g="";throwError(g)}if(n===SOURCE_FORMAT_ARRAY_ROWS){for(var y=[],$=0,L=r.length;$<L;$++)y.push(r[$].slice());return y}else if(n===SOURCE_FORMAT_OBJECT_ROWS){for(var y=[],$=0,L=r.length;$<L;$++)y.push(extend({},r[$]));return y}}function getDimensionInfo(t,n,r){if(r!=null){if(isNumber(r)||!isNaN(r)&&!hasOwn(n,r))return t[r];if(hasOwn(n,r))return n[r]}}function cloneAllDimensionInfo(t){return clone$4(t)}var externalTransformMap=createHashMap();function registerExternalTransform(t){t=clone$4(t);var n=t.type,r="";n||throwError(r);var g=n.split(":");g.length!==2&&throwError(r);var y=!1;g[0]==="echarts"&&(n=g[1],y=!0),t.__isBuiltIn=y,externalTransformMap.set(n,t)}function applyDataTransform(t,n,r){var g=normalizeToArray(t),y=g.length,$="";y||throwError($);for(var L=0,V=y;L<V;L++){var z=g[L];n=applySingleDataTransform(z,n),L!==V-1&&(n.length=Math.max(n.length,1))}return n}function applySingleDataTransform(t,n,r,g){var y="";n.length||throwError(y),isObject$3(t)||throwError(y);var $=t.type,L=externalTransformMap.get($);L||throwError(y);var V=map$1(n,function(j){return createExternalSource(j,L)}),z=normalizeToArray(L.transform({upstream:V[0],upstreamList:V,config:clone$4(t.config)}));return map$1(z,function(j,re){var ae="";isObject$3(j)||throwError(ae),j.data||throwError(ae);var oe=detectSourceFormat(j.data);isSupportedSourceFormat(oe)||throwError(ae);var ie,le=n[0];if(le&&re===0&&!j.dimensions){var ue=le.startIndex;ue&&(j.data=le.data.slice(0,ue).concat(j.data)),ie={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:ue,dimensions:le.metaRawOption.dimensions}}else ie={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:j.dimensions};return createSource(j.data,ie,null)})}function isSupportedSourceFormat(t){return t===SOURCE_FORMAT_ARRAY_ROWS||t===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(t){return t>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(t){var n=t.constructor;return n===Array?t.slice():new n(t)}function prepareStore(t,n,r,g,y){var $=dataCtors[r||"float"];if(y){var L=t[n],V=L&&L.length;if(V!==g){for(var z=new $(g),j=0;j<V;j++)z[j]=L[j];t[n]=z}}else t[n]=new $(g)}var DataStore=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return t.prototype.initData=function(n,r,g){this._provider=n,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var y=n.getSource(),$=this.defaultDimValueGetter=defaultDimValueGetters[y.sourceFormat];this._dimValueGetter=g||$,this._rawExtent=[],shouldRetrieveDataByName(y),this._dimensions=map$1(r,function(L){return{type:L.type,property:L.property}}),this._initDataFromProvider(0,n.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(n,r){var g=this._calcDimNameToIdx,y=this._dimensions,$=g.get(n);if($!=null){if(y[$].type===r)return $}else $=y.length;return y[$]={type:r},g.set(n,$),this._chunks[$]=new dataCtors[r||"float"](this._rawCount),this._rawExtent[$]=getInitialExtent(),$},t.prototype.collectOrdinalMeta=function(n,r){var g=this._chunks[n],y=this._dimensions[n],$=this._rawExtent,L=y.ordinalOffset||0,V=g.length;L===0&&($[n]=getInitialExtent());for(var z=$[n],j=L;j<V;j++){var re=g[j]=r.parseAndCollect(g[j]);isNaN(re)||(z[0]=Math.min(re,z[0]),z[1]=Math.max(re,z[1]))}y.ordinalMeta=r,y.ordinalOffset=V,y.type="ordinal"},t.prototype.getOrdinalMeta=function(n){var r=this._dimensions[n],g=r.ordinalMeta;return g},t.prototype.getDimensionProperty=function(n){var r=this._dimensions[n];return r&&r.property},t.prototype.appendData=function(n){var r=this._provider,g=this.count();r.appendData(n);var y=r.count();return r.persistent||(y+=g),g<y&&this._initDataFromProvider(g,y,!0),[g,y]},t.prototype.appendValues=function(n,r){for(var g=this._chunks,y=this._dimensions,$=y.length,L=this._rawExtent,V=this.count(),z=V+Math.max(n.length,r||0),j=0;j<$;j++){var re=y[j];prepareStore(g,j,re.type,z,!0)}for(var ae=[],oe=V;oe<z;oe++)for(var ie=oe-V,le=0;le<$;le++){var re=y[le],ue=defaultDimValueGetters.arrayRows.call(this,n[ie]||ae,re.property,ie,le);g[le][oe]=ue;var de=L[le];ue<de[0]&&(de[0]=ue),ue>de[1]&&(de[1]=ue)}return this._rawCount=this._count=z,{start:V,end:z}},t.prototype._initDataFromProvider=function(n,r,g){for(var y=this._provider,$=this._chunks,L=this._dimensions,V=L.length,z=this._rawExtent,j=map$1(L,function(pe){return pe.property}),re=0;re<V;re++){var ae=L[re];z[re]||(z[re]=getInitialExtent()),prepareStore($,re,ae.type,r,g)}if(y.fillStorage)y.fillStorage(n,r,$,z);else for(var oe=[],ie=n;ie<r;ie++){oe=y.getItem(ie,oe);for(var le=0;le<V;le++){var ue=$[le],de=this._dimValueGetter(oe,j[le],ie,le);ue[ie]=de;var he=z[le];de<he[0]&&(he[0]=de),de>he[1]&&(he[1]=de)}}!y.persistent&&y.clean&&y.clean(),this._rawCount=this._count=r,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(n,r){if(!(r>=0&&r<this._count))return NaN;var g=this._chunks[n];return g?g[this.getRawIndex(r)]:NaN},t.prototype.getValues=function(n,r){var g=[],y=[];if(r==null){r=n,n=[];for(var $=0;$<this._dimensions.length;$++)y.push($)}else y=n;for(var $=0,L=y.length;$<L;$++)g.push(this.get(y[$],r));return g},t.prototype.getByRawIndex=function(n,r){if(!(r>=0&&r<this._rawCount))return NaN;var g=this._chunks[n];return g?g[r]:NaN},t.prototype.getSum=function(n){var r=this._chunks[n],g=0;if(r)for(var y=0,$=this.count();y<$;y++){var L=this.get(n,y);isNaN(L)||(g+=L)}return g},t.prototype.getMedian=function(n){var r=[];this.each([n],function($){isNaN($)||r.push($)});var g=r.sort(function($,L){return $-L}),y=this.count();return y===0?0:y%2===1?g[(y-1)/2]:(g[y/2]+g[y/2-1])/2},t.prototype.indexOfRawIndex=function(n){if(n>=this._rawCount||n<0)return-1;if(!this._indices)return n;var r=this._indices,g=r[n];if(g!=null&&g<this._count&&g===n)return n;for(var y=0,$=this._count-1;y<=$;){var L=(y+$)/2|0;if(r[L]<n)y=L+1;else if(r[L]>n)$=L-1;else return L}return-1},t.prototype.indicesOfNearest=function(n,r,g){var y=this._chunks,$=y[n],L=[];if(!$)return L;g==null&&(g=1/0);for(var V=1/0,z=-1,j=0,re=0,ae=this.count();re<ae;re++){var oe=this.getRawIndex(re),ie=r-$[oe],le=Math.abs(ie);le<=g&&((le<V||le===V&&ie>=0&&z<0)&&(V=le,z=ie,j=0),ie===z&&(L[j++]=re))}return L.length=j,L},t.prototype.getIndices=function(){var n,r=this._indices;if(r){var g=r.constructor,y=this._count;if(g===Array){n=new g(y);for(var $=0;$<y;$++)n[$]=r[$]}else n=new g(r.buffer,0,y)}else{var g=getIndicesCtor(this._rawCount);n=new g(this.count());for(var $=0;$<n.length;$++)n[$]=$}return n},t.prototype.filter=function(n,r){if(!this._count)return this;for(var g=this.clone(),y=g.count(),$=getIndicesCtor(g._rawCount),L=new $(y),V=[],z=n.length,j=0,re=n[0],ae=g._chunks,oe=0;oe<y;oe++){var ie=void 0,le=g.getRawIndex(oe);if(z===0)ie=r(oe);else if(z===1){var ue=ae[re][le];ie=r(ue,oe)}else{for(var de=0;de<z;de++)V[de]=ae[n[de]][le];V[de]=oe,ie=r.apply(null,V)}ie&&(L[j++]=le)}return j<y&&(g._indices=L),g._count=j,g._extent=[],g._updateGetRawIdx(),g},t.prototype.selectRange=function(n){var r=this.clone(),g=r._count;if(!g)return this;var y=keys(n),$=y.length;if(!$)return this;var L=r.count(),V=getIndicesCtor(r._rawCount),z=new V(L),j=0,re=y[0],ae=n[re][0],oe=n[re][1],ie=r._chunks,le=!1;if(!r._indices){var ue=0;if($===1){for(var de=ie[y[0]],he=0;he<g;he++){var pe=de[he];(pe>=ae&&pe<=oe||isNaN(pe))&&(z[j++]=ue),ue++}le=!0}else if($===2){for(var de=ie[y[0]],_e=ie[y[1]],Ce=n[y[1]][0],xe=n[y[1]][1],he=0;he<g;he++){var pe=de[he],Ie=_e[he];(pe>=ae&&pe<=oe||isNaN(pe))&&(Ie>=Ce&&Ie<=xe||isNaN(Ie))&&(z[j++]=ue),ue++}le=!0}}if(!le)if($===1)for(var he=0;he<L;he++){var $e=r.getRawIndex(he),pe=ie[y[0]][$e];(pe>=ae&&pe<=oe||isNaN(pe))&&(z[j++]=$e)}else for(var he=0;he<L;he++){for(var Oe=!0,$e=r.getRawIndex(he),Ne=0;Ne<$;Ne++){var Fe=y[Ne],pe=ie[Fe][$e];(pe<n[Fe][0]||pe>n[Fe][1])&&(Oe=!1)}Oe&&(z[j++]=r.getRawIndex(he))}return j<L&&(r._indices=z),r._count=j,r._extent=[],r._updateGetRawIdx(),r},t.prototype.map=function(n,r){var g=this.clone(n);return this._updateDims(g,n,r),g},t.prototype.modify=function(n,r){this._updateDims(this,n,r)},t.prototype._updateDims=function(n,r,g){for(var y=n._chunks,$=[],L=r.length,V=n.count(),z=[],j=n._rawExtent,re=0;re<r.length;re++)j[r[re]]=getInitialExtent();for(var ae=0;ae<V;ae++){for(var oe=n.getRawIndex(ae),ie=0;ie<L;ie++)z[ie]=y[r[ie]][oe];z[L]=ae;var le=g&&g.apply(null,z);if(le!=null){typeof le!="object"&&($[0]=le,le=$);for(var re=0;re<le.length;re++){var ue=r[re],de=le[re],he=j[ue],pe=y[ue];pe&&(pe[oe]=de),de<he[0]&&(he[0]=de),de>he[1]&&(he[1]=de)}}}},t.prototype.lttbDownSample=function(n,r){var g=this.clone([n],!0),y=g._chunks,$=y[n],L=this.count(),V=0,z=Math.floor(1/r),j=this.getRawIndex(0),re,ae,oe,ie=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(L/z)+2)*2,L));ie[V++]=j;for(var le=1;le<L-1;le+=z){for(var ue=Math.min(le+z,L-1),de=Math.min(le+z*2,L),he=(de+ue)/2,pe=0,_e=ue;_e<de;_e++){var Ce=this.getRawIndex(_e),xe=$[Ce];isNaN(xe)||(pe+=xe)}pe/=de-ue;var Ie=le,$e=Math.min(le+z,L),Oe=le-1,Ne=$[j];re=-1,oe=Ie;for(var Fe=-1,Ve=0,_e=Ie;_e<$e;_e++){var Ce=this.getRawIndex(_e),xe=$[Ce];if(isNaN(xe)){Ve++,Fe<0&&(Fe=Ce);continue}ae=Math.abs((Oe-he)*(xe-Ne)-(Oe-_e)*(pe-Ne)),ae>re&&(re=ae,oe=Ce)}Ve>0&&Ve<$e-Ie&&(ie[V++]=Math.min(Fe,oe),oe=Math.max(Fe,oe)),ie[V++]=oe,j=oe}return ie[V++]=this.getRawIndex(L-1),g._count=V,g._indices=ie,g.getRawIndex=this._getRawIdx,g},t.prototype.minmaxDownSample=function(n,r){for(var g=this.clone([n],!0),y=g._chunks,$=Math.floor(1/r),L=y[n],V=this.count(),z=new(getIndicesCtor(this._rawCount))(Math.ceil(V/$)*2),j=0,re=0;re<V;re+=$){var ae=re,oe=L[this.getRawIndex(ae)],ie=re,le=L[this.getRawIndex(ie)],ue=$;re+$>V&&(ue=V-re);for(var de=0;de<ue;de++){var he=this.getRawIndex(re+de),pe=L[he];pe<oe&&(oe=pe,ae=re+de),pe>le&&(le=pe,ie=re+de)}var _e=this.getRawIndex(ae),Ce=this.getRawIndex(ie);ae<ie?(z[j++]=_e,z[j++]=Ce):(z[j++]=Ce,z[j++]=_e)}return g._count=j,g._indices=z,g._updateGetRawIdx(),g},t.prototype.downSample=function(n,r,g,y){for(var $=this.clone([n],!0),L=$._chunks,V=[],z=Math.floor(1/r),j=L[n],re=this.count(),ae=$._rawExtent[n]=getInitialExtent(),oe=new(getIndicesCtor(this._rawCount))(Math.ceil(re/z)),ie=0,le=0;le<re;le+=z){z>re-le&&(z=re-le,V.length=z);for(var ue=0;ue<z;ue++){var de=this.getRawIndex(le+ue);V[ue]=j[de]}var he=g(V),pe=this.getRawIndex(Math.min(le+y(V,he)||0,re-1));j[pe]=he,he<ae[0]&&(ae[0]=he),he>ae[1]&&(ae[1]=he),oe[ie++]=pe}return $._count=ie,$._indices=oe,$._updateGetRawIdx(),$},t.prototype.each=function(n,r){if(this._count)for(var g=n.length,y=this._chunks,$=0,L=this.count();$<L;$++){var V=this.getRawIndex($);switch(g){case 0:r($);break;case 1:r(y[n[0]][V],$);break;case 2:r(y[n[0]][V],y[n[1]][V],$);break;default:for(var z=0,j=[];z<g;z++)j[z]=y[n[z]][V];j[z]=$,r.apply(null,j)}}},t.prototype.getDataExtent=function(n){var r=this._chunks[n],g=getInitialExtent();if(!r)return g;var y=this.count(),$=!this._indices,L;if($)return this._rawExtent[n].slice();if(L=this._extent[n],L)return L.slice();L=g;for(var V=L[0],z=L[1],j=0;j<y;j++){var re=this.getRawIndex(j),ae=r[re];ae<V&&(V=ae),ae>z&&(z=ae)}return L=[V,z],this._extent[n]=L,L},t.prototype.getRawDataItem=function(n){var r=this.getRawIndex(n);if(this._provider.persistent)return this._provider.getItem(r);for(var g=[],y=this._chunks,$=0;$<y.length;$++)g.push(y[$][r]);return g},t.prototype.clone=function(n,r){var g=new t,y=this._chunks,$=n&&reduce(n,function(V,z){return V[z]=!0,V},{});if($)for(var L=0;L<y.length;L++)g._chunks[L]=$[L]?cloneChunk(y[L]):y[L];else g._chunks=y;return this._copyCommonProps(g),r||(g._indices=this._cloneIndices()),g._updateGetRawIdx(),g},t.prototype._copyCommonProps=function(n){n._count=this._count,n._rawCount=this._rawCount,n._provider=this._provider,n._dimensions=this._dimensions,n._extent=clone$4(this._extent),n._rawExtent=clone$4(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var n=this._indices.constructor,r=void 0;if(n===Array){var g=this._indices.length;r=new n(g);for(var y=0;y<g;y++)r[y]=this._indices[y]}else r=new n(this._indices);return r}return null},t.prototype._getRawIdxIdentity=function(n){return n},t.prototype._getRawIdx=function(n){return n<this._count&&n>=0?this._indices[n]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function n(r,g,y,$){return parseDataValue(r[$],this._dimensions[$])}defaultDimValueGetters={arrayRows:n,objectRows:function(r,g,y,$){return parseDataValue(r[g],this._dimensions[$])},keyedColumns:n,original:function(r,g,y,$){var L=r&&(r.value==null?r:r.value);return parseDataValue(L instanceof Array?L[$]:L,this._dimensions[$])},typedArray:function(r,g,y,$){return r[$]}}}(),t}(),SourceManager=function(){function t(n){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=n}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(n,r){this._sourceList=n,this._upstreamSignList=r,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var n=this._sourceHost,r=this._getUpstreamSourceManagers(),g=!!r.length,y,$;if(isSeries(n)){var L=n,V=void 0,z=void 0,j=void 0;if(g){var re=r[0];re.prepareSource(),j=re.getSource(),V=j.data,z=j.sourceFormat,$=[re._getVersionSign()]}else V=L.get("data",!0),z=isTypedArray(V)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,$=[];var ae=this._getSourceMetaRawOption()||{},oe=j&&j.metaRawOption||{},ie=retrieve2(ae.seriesLayoutBy,oe.seriesLayoutBy)||null,le=retrieve2(ae.sourceHeader,oe.sourceHeader),ue=retrieve2(ae.dimensions,oe.dimensions),de=ie!==oe.seriesLayoutBy||!!le!=!!oe.sourceHeader||ue;y=de?[createSource(V,{seriesLayoutBy:ie,sourceHeader:le,dimensions:ue},z)]:[]}else{var he=n;if(g){var pe=this._applyTransform(r);y=pe.sourceList,$=pe.upstreamSignList}else{var _e=he.get("source",!0);y=[createSource(_e,this._getSourceMetaRawOption(),null)],$=[]}}this._setLocalSource(y,$)},t.prototype._applyTransform=function(n){var r=this._sourceHost,g=r.get("transform",!0),y=r.get("fromTransformResult",!0);if(y!=null){var $="";n.length!==1&&doThrow($)}var L,V=[],z=[];return each$f(n,function(j){j.prepareSource();var re=j.getSource(y||0),ae="";y!=null&&!re&&doThrow(ae),V.push(re),z.push(j._getVersionSign())}),g?L=applyDataTransform(g,V,{datasetIndex:r.componentIndex}):y!=null&&(L=[cloneSourceShallow(V[0])]),{sourceList:L,upstreamSignList:z}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var n=this._getUpstreamSourceManagers(),r=0;r<n.length;r++){var g=n[r];if(g._isDirty()||this._upstreamSignList[r]!==g._getVersionSign())return!0}},t.prototype.getSource=function(n){n=n||0;var r=this._sourceList[n];if(!r){var g=this._getUpstreamSourceManagers();return g[0]&&g[0].getSource(n)}return r},t.prototype.getSharedDataStore=function(n){var r=n.makeStoreSchema();return this._innerGetDataStore(r.dimensions,n.source,r.hash)},t.prototype._innerGetDataStore=function(n,r,g){var y=0,$=this._storeList,L=$[y];L||(L=$[y]={});var V=L[g];if(!V){var z=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&z?V=z._innerGetDataStore(n,r,g):(V=new DataStore,V.initData(new DefaultDataProvider(r,n.length),n)),L[g]=V}return V},t.prototype._getUpstreamSourceManagers=function(){var n=this._sourceHost;if(isSeries(n)){var r=querySeriesUpstreamDatasetModel(n);return r?[r.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(n),function(g){return g.getSourceManager()})},t.prototype._getSourceMetaRawOption=function(){var n=this._sourceHost,r,g,y;if(isSeries(n))r=n.get("seriesLayoutBy",!0),g=n.get("sourceHeader",!0),y=n.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var $=n;r=$.get("seriesLayoutBy",!0),g=$.get("sourceHeader",!0),y=$.get("dimensions",!0)}return{seriesLayoutBy:r,sourceHeader:g,dimensions:y}},t}();function disableTransformOptionMerge(t){var n=t.option.transform;n&&setAsPrimitive(t.option.transform)}function isSeries(t){return t.mainType==="series"}function doThrow(t){throw new Error(t)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipLineHeight(t){var n=t.lineHeight;return n==null?TOOLTIP_LINE_HEIGHT_CSS:"line-height:"+encodeHTML(n+"")+"px"}function getTooltipTextStyle(t,n){var r=t.color||"#6e7079",g=t.fontSize||12,y=t.fontWeight||"400",$=t.color||"#464646",L=t.fontSize||14,V=t.fontWeight||"900";return n==="html"?{nameStyle:"font-size:"+encodeHTML(g+"")+"px;color:"+encodeHTML(r)+";font-weight:"+encodeHTML(y+""),valueStyle:"font-size:"+encodeHTML(L+"")+"px;color:"+encodeHTML($)+";font-weight:"+encodeHTML(V+"")}:{nameStyle:{fontSize:g,fill:r,fontWeight:y},valueStyle:{fontSize:L,fill:$,fontWeight:V}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(t,n){return n.type=t,n}function isSectionFragment(t){return t.type==="section"}function getBuilder(t){return isSectionFragment(t)?buildSection:buildNameValue}function getBlockGapLevel(t){if(isSectionFragment(t)){var n=0,r=t.blocks.length,g=r>1||r>0&&!t.noHeader;return each$f(t.blocks,function(y){var $=getBlockGapLevel(y);$>=n&&(n=$+ +(g&&(!$||isSectionFragment(y)&&!y.noHeader)))}),n}return 0}function buildSection(t,n,r,g){var y=n.noHeader,$=getGap(getBlockGapLevel(n)),L=[],V=n.blocks||[];assert(!V||isArray$1(V)),V=V||[];var z=t.orderMode;if(n.sortBlocks&&z){V=V.slice();var j={valueAsc:"asc",valueDesc:"desc"};if(hasOwn(j,z)){var re=new SortOrderComparator(j[z],null);V.sort(function(ue,de){return re.evaluate(ue.sortParam,de.sortParam)})}else z==="seriesDesc"&&V.reverse()}each$f(V,function(ue,de){var he=n.valueFormatter,pe=getBuilder(ue)(he?extend(extend({},t),{valueFormatter:he}):t,ue,de>0?$.html:0,g);pe!=null&&L.push(pe)});var ae=t.renderMode==="richText"?L.join($.richText):wrapBlockHTML(g,L.join(""),y?r:$.html);if(y)return ae;var oe=makeValueReadable(n.header,"ordinal",t.useUTC),ie=getTooltipTextStyle(g,t.renderMode).nameStyle,le=getTooltipLineHeight(g);return t.renderMode==="richText"?wrapInlineNameRichText(t,oe,ie)+$.richText+ae:wrapBlockHTML(g,'<div style="'+ie+";"+le+';">'+encodeHTML(oe)+"</div>"+ae,r)}function buildNameValue(t,n,r,g){var y=t.renderMode,$=n.noName,L=n.noValue,V=!n.markerType,z=n.name,j=t.useUTC,re=n.valueFormatter||t.valueFormatter||function(Ce){return Ce=isArray$1(Ce)?Ce:[Ce],map$1(Ce,function(xe,Ie){return makeValueReadable(xe,isArray$1(ie)?ie[Ie]:ie,j)})};if(!($&&L)){var ae=V?"":t.markupStyleCreator.makeTooltipMarker(n.markerType,n.markerColor||"#333",y),oe=$?"":makeValueReadable(z,"ordinal",j),ie=n.valueType,le=L?[]:re(n.value,n.dataIndex),ue=!V||!$,de=!V&&$,he=getTooltipTextStyle(g,y),pe=he.nameStyle,_e=he.valueStyle;return y==="richText"?(V?"":ae)+($?"":wrapInlineNameRichText(t,oe,pe))+(L?"":wrapInlineValueRichText(t,le,ue,de,_e)):wrapBlockHTML(g,(V?"":ae)+($?"":wrapInlineNameHTML(oe,!V,pe))+(L?"":wrapInlineValueHTML(le,ue,de,_e)),r)}}function buildTooltipMarkup(t,n,r,g,y,$){if(t){var L=getBuilder(t),V={useUTC:y,renderMode:r,orderMode:g,markupStyleCreator:n,valueFormatter:t.valueFormatter};return L(V,t,0,$)}}function getGap(t){return{html:HTML_GAPS[t],richText:RICH_TEXT_GAPS[t]}}function wrapBlockHTML(t,n,r){var g='<div style="clear:both"></div>',y="margin: "+r+"px 0 0",$=getTooltipLineHeight(t);return'<div style="'+y+";"+$+';">'+n+g+"</div>"}function wrapInlineNameHTML(t,n,r){var g=n?"margin-left:2px":"";return'<span style="'+r+";"+g+'">'+encodeHTML(t)+"</span>"}function wrapInlineValueHTML(t,n,r,g){var y=r?"10px":"20px",$=n?"float:right;margin-left:"+y:"";return t=isArray$1(t)?t:[t],'<span style="'+$+";"+g+'">'+map$1(t,function(L){return encodeHTML(L)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(t,n,r){return t.markupStyleCreator.wrapRichTextStyle(n,r)}function wrapInlineValueRichText(t,n,r,g,y){var $=[y],L=g?10:20;return r&&$.push({padding:[0,0,0,L],align:"right"}),t.markupStyleCreator.wrapRichTextStyle(isArray$1(n)?n.join("  "):n,$)}function retrieveVisualColorForTooltipMarker(t,n){var r=t.getData().getItemVisual(n,"style"),g=r[t.visualDrawType];return convertToColorString(g)}function getPaddingFromTooltipModel(t,n){var r=t.get("padding");return r??(n==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function t(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(n,r,g){var y=g==="richText"?this._generateStyleName():null,$=getTooltipMarker({color:r,type:n,renderMode:g,markerId:y});return isString($)?$:(this.richTextStyles[y]=$.style,$.content)},t.prototype.wrapRichTextStyle=function(n,r){var g={};isArray$1(r)?each$f(r,function($){return extend(g,$)}):extend(g,r);var y=this._generateStyleName();return this.richTextStyles[y]=g,"{"+y+"|"+n+"}"},t}();function defaultSeriesFormatTooltip(t){var n=t.series,r=t.dataIndex,g=t.multipleSeries,y=n.getData(),$=y.mapDimensionsAll("defaultedTooltip"),L=$.length,V=n.getRawValue(r),z=isArray$1(V),j=retrieveVisualColorForTooltipMarker(n,r),re,ae,oe,ie;if(L>1||z&&!L){var le=formatTooltipArrayValue(V,n,r,$,j);re=le.inlineValues,ae=le.inlineValueTypes,oe=le.blocks,ie=le.inlineValues[0]}else if(L){var ue=y.getDimensionInfo($[0]);ie=re=retrieveRawValue(y,r,$[0]),ae=ue.type}else ie=re=z?V[0]:V;var de=isNameSpecified(n),he=de&&n.name||"",pe=y.getName(r),_e=g?he:pe;return createTooltipMarkup("section",{header:he,noHeader:g||!de,sortParam:ie,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:j,name:_e,noName:!trim$1(_e),value:re,valueType:ae,dataIndex:r})].concat(oe||[])})}function formatTooltipArrayValue(t,n,r,g,y){var $=n.getData(),L=reduce(t,function(ae,oe,ie){var le=$.getDimensionInfo(ie);return ae=ae||le&&le.tooltip!==!1&&le.displayName!=null},!1),V=[],z=[],j=[];g.length?each$f(g,function(ae){re(retrieveRawValue($,r,ae),ae)}):each$f(t,re);function re(ae,oe){var ie=$.getDimensionInfo(oe);!ie||ie.otherDims.tooltip===!1||(L?j.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:y,name:ie.displayName,value:ae,valueType:ie.type})):(V.push(ae),z.push(ie.type)))}return{inlineValues:V,inlineValueTypes:z,blocks:j}}var inner$k=makeInner();function getSelectionKey(t,n){return t.getName(n)||t.getId(n)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r._selectedDataIndicesMap={},r}return n.prototype.init=function(r,g,y){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(r,y);var $=inner$k(this).sourceManager=new SourceManager(this);$.prepareSource();var L=this.getInitialData(r,y);wrapData(L,this),this.dataTask.context.data=L,inner$k(this).dataBeforeProcessed=L,autoSeriesName(this),this._initSelectedMapFromData(L)},n.prototype.mergeDefaultAndTheme=function(r,g){var y=fetchLayoutMode(this),$=y?getLayoutParams(r):{},L=this.subType;ComponentModel.hasClass(L)&&(L+="Series"),merge(r,g.getTheme().get(this.subType)),merge(r,this.getDefaultOption()),defaultEmphasis(r,"label",["show"]),this.fillDataTextStyle(r.data),y&&mergeLayoutParam(r,$,y)},n.prototype.mergeOption=function(r,g){r=merge(this.option,r,!0),this.fillDataTextStyle(r.data);var y=fetchLayoutMode(this);y&&mergeLayoutParam(this.option,r,y);var $=inner$k(this).sourceManager;$.dirty(),$.prepareSource();var L=this.getInitialData(r,g);wrapData(L,this),this.dataTask.dirty(),this.dataTask.context.data=L,inner$k(this).dataBeforeProcessed=L,autoSeriesName(this),this._initSelectedMapFromData(L)},n.prototype.fillDataTextStyle=function(r){if(r&&!isTypedArray(r))for(var g=["show"],y=0;y<r.length;y++)r[y]&&r[y].label&&defaultEmphasis(r[y],"label",g)},n.prototype.getInitialData=function(r,g){},n.prototype.appendData=function(r){var g=this.getRawData();g.appendData(r.data)},n.prototype.getData=function(r){var g=getCurrentTask(this);if(g){var y=g.context.data;return r==null||!y.getLinkedData?y:y.getLinkedData(r)}else return inner$k(this).data},n.prototype.getAllData=function(){var r=this.getData();return r&&r.getLinkedDataAll?r.getLinkedDataAll():[{data:r}]},n.prototype.setData=function(r){var g=getCurrentTask(this);if(g){var y=g.context;y.outputData=r,g!==this.dataTask&&(y.data=r)}inner$k(this).data=r},n.prototype.getEncode=function(){var r=this.get("encode",!0);if(r)return createHashMap(r)},n.prototype.getSourceManager=function(){return inner$k(this).sourceManager},n.prototype.getSource=function(){return this.getSourceManager().getSource()},n.prototype.getRawData=function(){return inner$k(this).dataBeforeProcessed},n.prototype.getColorBy=function(){var r=this.get("colorBy");return r||"series"},n.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},n.prototype.getBaseAxis=function(){var r=this.coordinateSystem;return r&&r.getBaseAxis&&r.getBaseAxis()},n.prototype.formatTooltip=function(r,g,y){return defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:g})},n.prototype.isAnimationEnabled=function(){var r=this.ecModel;if(env.node&&!(r&&r.ssr))return!1;var g=this.getShallow("animation");return g&&this.getData().count()>this.getShallow("animationThreshold")&&(g=!1),!!g},n.prototype.restoreData=function(){this.dataTask.dirty()},n.prototype.getColorFromPalette=function(r,g,y){var $=this.ecModel,L=PaletteMixin.prototype.getColorFromPalette.call(this,r,g,y);return L||(L=$.getColorFromPalette(r,g,y)),L},n.prototype.coordDimToDataDim=function(r){return this.getRawData().mapDimensionsAll(r)},n.prototype.getProgressive=function(){return this.get("progressive")},n.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},n.prototype.select=function(r,g){this._innerSelect(this.getData(g),r)},n.prototype.unselect=function(r,g){var y=this.option.selectedMap;if(y){var $=this.option.selectedMode,L=this.getData(g);if($==="series"||y==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var V=0;V<r.length;V++){var z=r[V],j=getSelectionKey(L,z);y[j]=!1,this._selectedDataIndicesMap[j]=-1}}},n.prototype.toggleSelect=function(r,g){for(var y=[],$=0;$<r.length;$++)y[0]=r[$],this.isSelected(r[$],g)?this.unselect(y,g):this.select(y,g)},n.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var r=this._selectedDataIndicesMap,g=keys(r),y=[],$=0;$<g.length;$++){var L=r[g[$]];L>=0&&y.push(L)}return y},n.prototype.isSelected=function(r,g){var y=this.option.selectedMap;if(!y)return!1;var $=this.getData(g);return(y==="all"||y[getSelectionKey($,r)])&&!$.getItemModel(r).get(["select","disabled"])},n.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var r=this.option.universalTransition;return r?r===!0?!0:r&&r.enabled:!1},n.prototype._innerSelect=function(r,g){var y,$,L=this.option,V=L.selectedMode,z=g.length;if(!(!V||!z)){if(V==="series")L.selectedMap="all";else if(V==="multiple"){isObject$3(L.selectedMap)||(L.selectedMap={});for(var j=L.selectedMap,re=0;re<z;re++){var ae=g[re],oe=getSelectionKey(r,ae);j[oe]=!0,this._selectedDataIndicesMap[oe]=r.getRawIndex(ae)}}else if(V==="single"||V===!0){var ie=g[z-1],oe=getSelectionKey(r,ie);L.selectedMap=(y={},y[oe]=!0,y),this._selectedDataIndicesMap=($={},$[oe]=r.getRawIndex(ie),$)}}},n.prototype._initSelectedMapFromData=function(r){if(!this.option.selectedMap){var g=[];r.hasItemOption&&r.each(function(y){var $=r.getRawDataItem(y);$&&$.selected&&g.push(y)}),g.length>0&&this._innerSelect(r,g)}},n.registerClass=function(r){return ComponentModel.registerClass(r)},n.protoInitialize=function(){var r=n.prototype;r.type="series.__base__",r.seriesIndex=0,r.ignoreStyleOnData=!1,r.hasSymbolVisual=!1,r.defaultSymbol="circle",r.visualStyleAccessPath="itemStyle",r.visualDrawType="fill"}(),n}(ComponentModel);mixin(SeriesModel,DataFormatMixin);mixin(SeriesModel,PaletteMixin);mountExtend(SeriesModel,ComponentModel);function autoSeriesName(t){var n=t.name;isNameSpecified(t)||(t.name=getSeriesAutoName(t)||n)}function getSeriesAutoName(t){var n=t.getRawData(),r=n.mapDimensionsAll("seriesName"),g=[];return each$f(r,function(y){var $=n.getDimensionInfo(y);$.displayName&&g.push($.displayName)}),g.join(" ")}function dataTaskCount(t){return t.model.getRawData().count()}function dataTaskReset(t){var n=t.model;return n.setData(n.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(t,n){n.outputData&&t.end>n.outputData.count()&&n.model.getRawData().cloneShallow(n.outputData)}function wrapData(t,n){each$f(concatArray(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),function(r){t.wrapMethod(r,curry$1(onDataChange,n))})}function onDataChange(t,n){var r=getCurrentTask(t);return r&&r.setOutputEnd((n||this).count()),n}function getCurrentTask(t){var n=(t.ecModel||{}).scheduler,r=n&&n.getPipeline(t.uid);if(r){var g=r.currentTask;if(g){var y=g.agentStubMap;y&&(g=y.get(t.uid))}return g}}var ComponentView=function(){function t(){this.group=new Group$3,this.uid=getUID("viewComponent")}return t.prototype.init=function(n,r){},t.prototype.render=function(n,r,g,y){},t.prototype.dispose=function(n,r){},t.prototype.updateView=function(n,r,g,y){},t.prototype.updateLayout=function(n,r,g,y){},t.prototype.updateVisual=function(n,r,g,y){},t.prototype.toggleBlurSeries=function(n,r,g){},t.prototype.eachRendered=function(n){var r=this.group;r&&r.traverse(n)},t}();enableClassExtend(ComponentView);enableClassManagement(ComponentView);function createRenderPlanner(){var t=makeInner();return function(n){var r=t(n),g=n.pipelineContext,y=!!r.large,$=!!r.progressiveRender,L=r.large=!!(g&&g.large),V=r.progressiveRender=!!(g&&g.progressiveRender);return(y!==L||$!==V)&&"reset"}}var inner$j=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function t(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return t.prototype.init=function(n,r){},t.prototype.render=function(n,r,g,y){},t.prototype.highlight=function(n,r,g,y){var $=n.getData(y&&y.dataType);$&&toggleHighlight($,y,"emphasis")},t.prototype.downplay=function(n,r,g,y){var $=n.getData(y&&y.dataType);$&&toggleHighlight($,y,"normal")},t.prototype.remove=function(n,r){this.group.removeAll()},t.prototype.dispose=function(n,r){},t.prototype.updateView=function(n,r,g,y){this.render(n,r,g,y)},t.prototype.updateLayout=function(n,r,g,y){this.render(n,r,g,y)},t.prototype.updateVisual=function(n,r,g,y){this.render(n,r,g,y)},t.prototype.eachRendered=function(n){traverseElements(this.group,n)},t.markUpdateMethod=function(n,r){inner$j(n).updateMethod=r},t.protoInitialize=function(){var n=t.prototype;n.type="chart"}(),t}();function elSetState(t,n,r){t&&isHighDownDispatcher(t)&&(n==="emphasis"?enterEmphasis:leaveEmphasis)(t,r)}function toggleHighlight(t,n,r){var g=queryDataIndex(t,n),y=n&&n.highlightKey!=null?getHighlightDigit(n.highlightKey):null;g!=null?each$f(normalizeToArray(g),function($){elSetState(t.getItemGraphicEl($),r,y)}):t.eachItemGraphicEl(function($){elSetState($,r,y)})}enableClassExtend(ChartView);enableClassManagement(ChartView);function renderTaskPlan(t){return renderPlanner(t.model)}function renderTaskReset(t){var n=t.model,r=t.ecModel,g=t.api,y=t.payload,$=n.pipelineContext.progressiveRender,L=t.view,V=y&&inner$j(y).updateMethod,z=$?"incrementalPrepareRender":V&&L[V]?V:"render";return z!=="render"&&L[z](n,r,g,y),progressMethodMap[z]}var progressMethodMap={incrementalPrepareRender:{progress:function(t,n){n.view.incrementalRender(t,n.model,n.ecModel,n.api,n.payload)}},render:{forceFirstProgress:!0,progress:function(t,n){n.view.render(n.model,n.ecModel,n.api,n.payload)}}},ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle(t,n,r){var g,y=0,$=0,L=null,V,z,j,re;n=n||0;function ae(){$=new Date().getTime(),L=null,t.apply(z,j||[])}var oe=function(){for(var ie=[],le=0;le<arguments.length;le++)ie[le]=arguments[le];g=new Date().getTime(),z=this,j=ie;var ue=re||n,de=re||r;re=null,V=g-(de?y:$)-ue,clearTimeout(L),de?L=setTimeout(ae,ue):V>=0?ae():L=setTimeout(ae,-V),y=g};return oe.clear=function(){L&&(clearTimeout(L),L=null)},oe.debounceNextCall=function(ie){re=ie},oe}function createOrUpdate(t,n,r,g){var y=t[n];if(y){var $=y[ORIGIN_METHOD]||y,L=y[THROTTLE_TYPE],V=y[RATE];if(V!==r||L!==g){if(r==null||!g)return t[n]=$;y=t[n]=throttle($,r,g==="debounce"),y[ORIGIN_METHOD]=$,y[THROTTLE_TYPE]=g,y[RATE]=r}return y}}function clear$1(t,n){var r=t[n];r&&r[ORIGIN_METHOD]&&(r.clear&&r.clear(),t[n]=r[ORIGIN_METHOD])}var inner$i=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(t,n){var r=t.visualStyleMapper||defaultStyleMappers[n];return r||(console.warn("Unknown style type '"+n+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(t,n){var r=t.visualDrawType||defaultColorKey[n];return r||(console.warn("Unknown style type '"+n+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var r=t.getData(),g=t.visualStyleAccessPath||"itemStyle",y=t.getModel(g),$=getStyleMapper(t,g),L=$(y),V=y.getShallow("decal");V&&(r.setVisual("decal",V),V.dirty=!0);var z=getDefaultColorKey(t,g),j=L[z],re=isFunction(j)?j:null,ae=L.fill==="auto"||L.stroke==="auto";if(!L[z]||re||ae){var oe=t.getColorFromPalette(t.name,null,n.getSeriesCount());L[z]||(L[z]=oe,r.setVisual("colorFromPalette",!0)),L.fill=L.fill==="auto"||isFunction(L.fill)?oe:L.fill,L.stroke=L.stroke==="auto"||isFunction(L.stroke)?oe:L.stroke}if(r.setVisual("style",L),r.setVisual("drawType",z),!n.isSeriesFiltered(t)&&re)return r.setVisual("colorFromPalette",!1),{dataEach:function(ie,le){var ue=t.getDataParams(le),de=extend({},L);de[z]=re(ue),ie.setItemVisual(le,"style",de)}}}},sharedModel=new Model,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(!(t.ignoreStyleOnData||n.isSeriesFiltered(t))){var r=t.getData(),g=t.visualStyleAccessPath||"itemStyle",y=getStyleMapper(t,g),$=r.getVisual("drawType");return{dataEach:r.hasItemOption?function(L,V){var z=L.getRawDataItem(V);if(z&&z[g]){sharedModel.option=z[g];var j=y(sharedModel),re=L.ensureUniqueItemVisual(V,"style");extend(re,j),sharedModel.option.decal&&(L.setItemVisual(V,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),$ in j&&L.setItemVisual(V,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(t){var n=createHashMap();t.eachSeries(function(r){var g=r.getColorBy();if(!r.isColorBySeries()){var y=r.type+"-"+g,$=n.get(y);$||($={},n.set(y,$)),inner$i(r).scope=$}}),t.eachSeries(function(r){if(!(r.isColorBySeries()||t.isSeriesFiltered(r))){var g=r.getRawData(),y={},$=r.getData(),L=inner$i(r).scope,V=r.visualStyleAccessPath||"itemStyle",z=getDefaultColorKey(r,V);$.each(function(j){var re=$.getRawIndex(j);y[re]=j}),g.each(function(j){var re=y[j],ae=$.getItemVisual(re,"colorFromPalette");if(ae){var oe=$.ensureUniqueItemVisual(re,"style"),ie=g.getName(j)||j+"",le=g.count();oe[z]=r.getColorFromPalette(ie,L,le)}})}})}},PI$5=Math.PI;function defaultLoading(t,n){n=n||{},defaults(n,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var r=new Group$3,g=new Rect$2({style:{fill:n.maskColor},zlevel:n.zlevel,z:1e4});r.add(g);var y=new ZRText({style:{text:n.text,fill:n.textColor,fontSize:n.fontSize,fontWeight:n.fontWeight,fontStyle:n.fontStyle,fontFamily:n.fontFamily},zlevel:n.zlevel,z:10001}),$=new Rect$2({style:{fill:"none"},textContent:y,textConfig:{position:"right",distance:10},zlevel:n.zlevel,z:10001});r.add($);var L;return n.showSpinner&&(L=new Arc({shape:{startAngle:-PI$5/2,endAngle:-PI$5/2+.1,r:n.spinnerRadius},style:{stroke:n.color,lineCap:"round",lineWidth:n.lineWidth},zlevel:n.zlevel,z:10001}),L.animateShape(!0).when(1e3,{endAngle:PI$5*3/2}).start("circularInOut"),L.animateShape(!0).when(1e3,{startAngle:PI$5*3/2}).delay(300).start("circularInOut"),r.add(L)),r.resize=function(){var V=y.getBoundingRect().width,z=n.showSpinner?n.spinnerRadius:0,j=(t.getWidth()-z*2-(n.showSpinner&&V?10:0)-V)/2-(n.showSpinner&&V?0:5+V/2)+(n.showSpinner?0:V/2)+(V?0:z),re=t.getHeight()/2;n.showSpinner&&L.setShape({cx:j,cy:re}),$.setShape({x:j-z,y:re-z,width:z*2,height:z*2}),g.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},r.resize(),r}var Scheduler=function(){function t(n,r,g,y){this._stageTaskMap=createHashMap(),this.ecInstance=n,this.api=r,g=this._dataProcessorHandlers=g.slice(),y=this._visualHandlers=y.slice(),this._allHandlers=g.concat(y)}return t.prototype.restoreData=function(n,r){n.restoreData(r),this._stageTaskMap.each(function(g){var y=g.overallTask;y&&y.dirty()})},t.prototype.getPerformArgs=function(n,r){if(n.__pipeline){var g=this._pipelineMap.get(n.__pipeline.id),y=g.context,$=!r&&g.progressiveEnabled&&(!y||y.progressiveRender)&&n.__idxInPipeline>g.blockIndex,L=$?g.step:null,V=y&&y.modDataCount,z=V!=null?Math.ceil(V/L):null;return{step:L,modBy:z,modDataCount:V}}},t.prototype.getPipeline=function(n){return this._pipelineMap.get(n)},t.prototype.updateStreamModes=function(n,r){var g=this._pipelineMap.get(n.uid),y=n.getData(),$=y.count(),L=g.progressiveEnabled&&r.incrementalPrepareRender&&$>=g.threshold,V=n.get("large")&&$>=n.get("largeThreshold"),z=n.get("progressiveChunkMode")==="mod"?$:null;n.pipelineContext=g.context={progressiveRender:L,modDataCount:z,large:V}},t.prototype.restorePipelines=function(n){var r=this,g=r._pipelineMap=createHashMap();n.eachSeries(function(y){var $=y.getProgressive(),L=y.uid;g.set(L,{id:L,head:null,tail:null,threshold:y.getProgressiveThreshold(),progressiveEnabled:$&&!(y.preventIncremental&&y.preventIncremental()),blockIndex:-1,step:Math.round($||700),count:0}),r._pipe(y,y.dataTask)})},t.prototype.prepareStageTasks=function(){var n=this._stageTaskMap,r=this.api.getModel(),g=this.api;each$f(this._allHandlers,function(y){var $=n.get(y.uid)||n.set(y.uid,{}),L="";assert(!(y.reset&&y.overallReset),L),y.reset&&this._createSeriesStageTask(y,$,r,g),y.overallReset&&this._createOverallStageTask(y,$,r,g)},this)},t.prototype.prepareView=function(n,r,g,y){var $=n.renderTask,L=$.context;L.model=r,L.ecModel=g,L.api=y,$.__block=!n.incrementalPrepareRender,this._pipe(r,$)},t.prototype.performDataProcessorTasks=function(n,r){this._performStageTasks(this._dataProcessorHandlers,n,r,{block:!0})},t.prototype.performVisualTasks=function(n,r,g){this._performStageTasks(this._visualHandlers,n,r,g)},t.prototype._performStageTasks=function(n,r,g,y){y=y||{};var $=!1,L=this;each$f(n,function(z,j){if(!(y.visualType&&y.visualType!==z.visualType)){var re=L._stageTaskMap.get(z.uid),ae=re.seriesTaskMap,oe=re.overallTask;if(oe){var ie,le=oe.agentStubMap;le.each(function(de){V(y,de)&&(de.dirty(),ie=!0)}),ie&&oe.dirty(),L.updatePayload(oe,g);var ue=L.getPerformArgs(oe,y.block);le.each(function(de){de.perform(ue)}),oe.perform(ue)&&($=!0)}else ae&&ae.each(function(de,he){V(y,de)&&de.dirty();var pe=L.getPerformArgs(de,y.block);pe.skip=!z.performRawSeries&&r.isSeriesFiltered(de.context.model),L.updatePayload(de,g),de.perform(pe)&&($=!0)})}});function V(z,j){return z.setDirty&&(!z.dirtyMap||z.dirtyMap.get(j.__pipeline.id))}this.unfinished=$||this.unfinished},t.prototype.performSeriesTasks=function(n){var r;n.eachSeries(function(g){r=g.dataTask.perform()||r}),this.unfinished=r||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each(function(n){var r=n.tail;do{if(r.__block){n.blockIndex=r.__idxInPipeline;break}r=r.getUpstream()}while(r)})},t.prototype.updatePayload=function(n,r){r!=="remain"&&(n.context.payload=r)},t.prototype._createSeriesStageTask=function(n,r,g,y){var $=this,L=r.seriesTaskMap,V=r.seriesTaskMap=createHashMap(),z=n.seriesType,j=n.getTargetSeries;n.createOnAllSeries?g.eachRawSeries(re):z?g.eachRawSeriesByType(z,re):j&&j(g,y).each(re);function re(ae){var oe=ae.uid,ie=V.set(oe,L&&L.get(oe)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));ie.context={model:ae,ecModel:g,api:y,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:$},$._pipe(ae,ie)}},t.prototype._createOverallStageTask=function(n,r,g,y){var $=this,L=r.overallTask=r.overallTask||createTask({reset:overallTaskReset});L.context={ecModel:g,api:y,overallReset:n.overallReset,scheduler:$};var V=L.agentStubMap,z=L.agentStubMap=createHashMap(),j=n.seriesType,re=n.getTargetSeries,ae=!0,oe=!1,ie="";assert(!n.createOnAllSeries,ie),j?g.eachRawSeriesByType(j,le):re?re(g,y).each(le):(ae=!1,each$f(g.getSeries(),le));function le(ue){var de=ue.uid,he=z.set(de,V&&V.get(de)||(oe=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));he.context={model:ue,overallProgress:ae},he.agent=L,he.__block=ae,$._pipe(ue,he)}oe&&L.dirty()},t.prototype._pipe=function(n,r){var g=n.uid,y=this._pipelineMap.get(g);!y.head&&(y.head=r),y.tail&&y.tail.pipe(r),y.tail=r,r.__idxInPipeline=y.count++,r.__pipeline=y},t.wrapStageHandler=function(n,r){return isFunction(n)&&(n={overallReset:n,seriesType:detectSeriseType(n)}),n.uid=getUID("stageHandler"),r&&(n.visualType=r),n},t}();function overallTaskReset(t){t.overallReset(t.ecModel,t.api,t.payload)}function stubReset(t){return t.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function seriesTaskReset(t){t.useClearVisual&&t.data.clearAllVisual();var n=t.resetDefines=normalizeToArray(t.reset(t.model,t.ecModel,t.api,t.payload));return n.length>1?map$1(n,function(r,g){return makeSeriesTaskProgress(g)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(t){return function(n,r){var g=r.data,y=r.resetDefines[t];if(y&&y.dataEach)for(var $=n.start;$<n.end;$++)y.dataEach(g,$);else y&&y.progress&&y.progress(n,g)}}function seriesTaskCount(t){return t.data.count()}function detectSeriseType(t){seriesType=null;try{t(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel);mockMethods(apiMock,ExtensionAPI);ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(t){seriesType=t};ecModelMock.eachComponent=function(t){t.mainType==="series"&&t.subType&&(seriesType=t.subType)};function mockMethods(t,n){for(var r in n.prototype)t[r]=noop}var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor},pageTextStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;var ECEventProcessor=function(){function t(){}return t.prototype.normalizeQuery=function(n){var r={},g={},y={};if(isString(n)){var $=parseClassType(n);r.mainType=$.main||null,r.subType=$.sub||null}else{var L=["Index","Name","Id"],V={name:1,dataIndex:1,dataType:1};each$f(n,function(z,j){for(var re=!1,ae=0;ae<L.length;ae++){var oe=L[ae],ie=j.lastIndexOf(oe);if(ie>0&&ie===j.length-oe.length){var le=j.slice(0,ie);le!=="data"&&(r.mainType=le,r[oe.toLowerCase()]=z,re=!0)}}V.hasOwnProperty(j)&&(g[j]=z,re=!0),re||(y[j]=z)})}return{cptQuery:r,dataQuery:g,otherQuery:y}},t.prototype.filter=function(n,r){var g=this.eventInfo;if(!g)return!0;var y=g.targetEl,$=g.packedEvent,L=g.model,V=g.view;if(!L||!V)return!0;var z=r.cptQuery,j=r.dataQuery;return re(z,L,"mainType")&&re(z,L,"subType")&&re(z,L,"index","componentIndex")&&re(z,L,"name")&&re(z,L,"id")&&re(j,$,"name")&&re(j,$,"dataIndex")&&re(j,$,"dataType")&&(!V.filterForExposedEvent||V.filterForExposedEvent(n,r.otherQuery,y,$));function re(ae,oe,ie,le){return ae[ie]==null||oe[le||ie]===ae[ie]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){var r=t.getData();if(t.legendIcon&&r.setVisual("legendIcon",t.legendIcon),!t.hasSymbolVisual)return;for(var g={},y={},$=!1,L=0;L<SYMBOL_PROPS_WITH_CB.length;L++){var V=SYMBOL_PROPS_WITH_CB[L],z=t.get(V);isFunction(z)?($=!0,y[V]=z):g[V]=z}if(g.symbol=g.symbol||t.defaultSymbol,r.setVisual(extend({legendIcon:t.legendIcon||g.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},g)),n.isSeriesFiltered(t))return;var j=keys(y);function re(ae,oe){for(var ie=t.getRawValue(oe),le=t.getDataParams(oe),ue=0;ue<j.length;ue++){var de=j[ue];ae.setItemVisual(oe,de,y[de](ie,le))}}return{dataEach:$?re:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,n){if(!t.hasSymbolVisual||n.isSeriesFiltered(t))return;var r=t.getData();function g(y,$){for(var L=y.getItemModel($),V=0;V<SYMBOL_PROPS.length;V++){var z=SYMBOL_PROPS[V],j=L.getShallow(z,!0);j!=null&&y.setItemVisual($,z,j)}}return{dataEach:r.hasItemOption?g:null}}};function getItemVisualFromData(t,n,r){switch(r){case"color":var g=t.getItemVisual(n,"style");return g[t.getVisual("drawType")];case"opacity":return t.getItemVisual(n,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(n,r)}}function getVisualFromData(t,n){switch(n){case"color":var r=t.getVisual("style");return r[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(n)}}function setItemVisualFromData(t,n,r,g){switch(r){case"color":var y=t.ensureUniqueItemVisual(n,"style");y[t.getVisual("drawType")]=g,t.setItemVisual(n,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(n,"style").opacity=g;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(n,r,g);break}}function createLegacyDataSelectAction(t,n){function r(g,y){var $=[];return g.eachComponent({mainType:"series",subType:t,query:y},function(L){$.push(L.seriesIndex)}),$}each$f([[t+"ToggleSelect","toggleSelect"],[t+"Select","select"],[t+"UnSelect","unselect"]],function(g){n(g[0],function(y,$,L){y=extend({},y),L.dispatchAction(extend(y,{type:g[1],seriesIndex:r($,y)}))})})}function handleSeriesLegacySelectEvents(t,n,r,g,y){var $=t+n;r.isSilent($)||g.eachComponent({mainType:"series",subType:"pie"},function(L){for(var V=L.seriesIndex,z=L.option.selectedMap,j=y.selected,re=0;re<j.length;re++)if(j[re].seriesIndex===V){var ae=L.getData(),oe=queryDataIndex(ae,y.fromActionPayload);r.trigger($,{type:$,seriesId:L.id,name:isArray$1(oe)?ae.getName(oe[0]):ae.getName(oe),selected:isString(z)?z:extend({},z)})}})}function handleLegacySelectEvents(t,n,r){t.on("selectchanged",function(g){var y=r.getModel();g.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",n,y,g),handleSeriesLegacySelectEvents("pie","selectchanged",n,y,g)):g.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",n,y,g),handleSeriesLegacySelectEvents("pie","selected",n,y,g)):g.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",n,y,g),handleSeriesLegacySelectEvents("pie","unselected",n,y,g))})}function findEventDispatcher(t,n,r){for(var g;t&&!(n(t)&&(g=t,r));)t=t.__hostTarget||t.parent;return g}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function t(){this._id="__ec_inner_"+wmUniqueIndex++}return t.prototype.get=function(n){return this._guard(n)[this._id]},t.prototype.set=function(n,r){var g=this._guard(n);return supportDefineProperty?Object.defineProperty(g,this._id,{value:r,enumerable:!1,configurable:!0}):g[this._id]=r,this},t.prototype.delete=function(n){return this.has(n)?(delete this._guard(n)[this._id],!0):!1},t.prototype.has=function(n){return!!this._guard(n)[this._id]},t.prototype._guard=function(n){if(n!==Object(n))throw TypeError("Value of WeakMap is not a non-null object.");return n},t}(),Triangle=Path.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var r=n.cx,g=n.cy,y=n.width/2,$=n.height/2;t.moveTo(r,g-$),t.lineTo(r+y,g+$),t.lineTo(r-y,g+$),t.closePath()}}),Diamond=Path.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,n){var r=n.cx,g=n.cy,y=n.width/2,$=n.height/2;t.moveTo(r,g-$),t.lineTo(r+y,g),t.lineTo(r,g+$),t.lineTo(r-y,g),t.closePath()}}),Pin=Path.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var r=n.x,g=n.y,y=n.width/5*3,$=Math.max(y,n.height),L=y/2,V=L*L/($-L),z=g-$+L+V,j=Math.asin(V/L),re=Math.cos(j)*L,ae=Math.sin(j),oe=Math.cos(j),ie=L*.6,le=L*.7;t.moveTo(r-re,z+V),t.arc(r,z,L,Math.PI-j,Math.PI*2+j),t.bezierCurveTo(r+re-ae*ie,z+V+oe*ie,r,g-le,r,g),t.bezierCurveTo(r,g-le,r-re+ae*ie,z+V+oe*ie,r-re,z+V),t.closePath()}}),Arrow=Path.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,n){var r=n.height,g=n.width,y=n.x,$=n.y,L=g/3*2;t.moveTo(y,$),t.lineTo(y+L,$+r),t.lineTo(y,$+r/4*3),t.lineTo(y-L,$+r),t.lineTo(y,$),t.closePath()}}),symbolCtors={line:Line$1,rect:Rect$2,roundRect:Rect$2,square:Rect$2,circle:Circle,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(t,n,r,g,y){y.x1=t,y.y1=n+g/2,y.x2=t+r,y.y2=n+g/2},rect:function(t,n,r,g,y){y.x=t,y.y=n,y.width=r,y.height=g},roundRect:function(t,n,r,g,y){y.x=t,y.y=n,y.width=r,y.height=g,y.r=Math.min(r,g)/4},square:function(t,n,r,g,y){var $=Math.min(r,g);y.x=t,y.y=n,y.width=$,y.height=$},circle:function(t,n,r,g,y){y.cx=t+r/2,y.cy=n+g/2,y.r=Math.min(r,g)/2},diamond:function(t,n,r,g,y){y.cx=t+r/2,y.cy=n+g/2,y.width=r,y.height=g},pin:function(t,n,r,g,y){y.x=t+r/2,y.y=n+g/2,y.width=r,y.height=g},arrow:function(t,n,r,g,y){y.x=t+r/2,y.y=n+g/2,y.width=r,y.height=g},triangle:function(t,n,r,g,y){y.cx=t+r/2,y.cy=n+g/2,y.width=r,y.height=g}},symbolBuildProxies={};each$f(symbolCtors,function(t,n){symbolBuildProxies[n]=new t});var SymbolClz=Path.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,n,r){var g=calculateTextPosition(t,n,r),y=this.shape;return y&&y.symbolType==="pin"&&n.position==="inside"&&(g.y=r.y+r.height*.4),g},buildPath:function(t,n,r){var g=n.symbolType;if(g!=="none"){var y=symbolBuildProxies[g];y||(g="rect",y=symbolBuildProxies[g]),symbolShapeMakers[g](n.x,n.y,n.width,n.height,y.shape),y.buildPath(t,y.shape,r)}}});function symbolPathSetColor(t,n){if(this.type!=="image"){var r=this.style;this.__isEmptyBrush?(r.stroke=t,r.fill=n||"#fff",r.lineWidth=2):this.shape.symbolType==="line"?r.stroke=t:r.fill=t,this.markRedraw()}}function createSymbol$1(t,n,r,g,y,$,L){var V=t.indexOf("empty")===0;V&&(t=t.substr(5,1).toLowerCase()+t.substr(6));var z;return t.indexOf("image://")===0?z=makeImage(t.slice(8),new BoundingRect(n,r,g,y),L?"center":"cover"):t.indexOf("path://")===0?z=makePath(t.slice(7),{},new BoundingRect(n,r,g,y),L?"center":"cover"):z=new SymbolClz({shape:{symbolType:t,x:n,y:r,width:g,height:y}}),z.__isEmptyBrush=V,z.setColor=symbolPathSetColor,$&&z.setColor($),z}function normalizeSymbolSize(t){return isArray$1(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function normalizeSymbolOffset(t,n){if(t!=null)return isArray$1(t)||(t=[t,t]),[parsePercent(t[0],n[0])||0,parsePercent(retrieve2(t[1],t[0]),n[1])||0]}function isSafeNum(t){return isFinite(t)}function createLinearGradient(t,n,r){var g=n.x==null?0:n.x,y=n.x2==null?1:n.x2,$=n.y==null?0:n.y,L=n.y2==null?0:n.y2;n.global||(g=g*r.width+r.x,y=y*r.width+r.x,$=$*r.height+r.y,L=L*r.height+r.y),g=isSafeNum(g)?g:0,y=isSafeNum(y)?y:1,$=isSafeNum($)?$:0,L=isSafeNum(L)?L:0;var V=t.createLinearGradient(g,$,y,L);return V}function createRadialGradient(t,n,r){var g=r.width,y=r.height,$=Math.min(g,y),L=n.x==null?.5:n.x,V=n.y==null?.5:n.y,z=n.r==null?.5:n.r;n.global||(L=L*g+r.x,V=V*y+r.y,z=z*$),L=isSafeNum(L)?L:.5,V=isSafeNum(V)?V:.5,z=z>=0&&isSafeNum(z)?z:.5;var j=t.createRadialGradient(L,V,0,L,V,z);return j}function getCanvasGradient(t,n,r){for(var g=n.type==="radial"?createRadialGradient(t,n,r):createLinearGradient(t,n,r),y=n.colorStops,$=0;$<y.length;$++)g.addColorStop(y[$].offset,y[$].color);return g}function isClipPathChanged(t,n){if(t===n||!t&&!n)return!1;if(!t||!n||t.length!==n.length)return!0;for(var r=0;r<t.length;r++)if(t[r]!==n[r])return!0;return!1}function parseInt10(t){return parseInt(t,10)}function getSize$1(t,n,r){var g=["width","height"][n],y=["clientWidth","clientHeight"][n],$=["paddingLeft","paddingTop"][n],L=["paddingRight","paddingBottom"][n];if(r[g]!=null&&r[g]!=="auto")return parseFloat(r[g]);var V=document.defaultView.getComputedStyle(t);return(t[y]||parseInt10(V[g])||parseInt10(t.style[g]))-(parseInt10(V[$])||0)-(parseInt10(V[L])||0)|0}function normalizeLineDash(t,n){return!t||t==="solid"||!(n>0)?null:t==="dashed"?[4*n,2*n]:t==="dotted"?[n]:isNumber(t)?[t]:isArray$1(t)?t:null}function getLineDash(t){var n=t.style,r=n.lineDash&&n.lineWidth>0&&normalizeLineDash(n.lineDash,n.lineWidth),g=n.lineDashOffset;if(r){var y=n.strokeNoScale&&t.getLineScale?t.getLineScale():1;y&&y!==1&&(r=map$1(r,function($){return $/y}),g/=y)}return[r,g]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(t){var n=t.stroke;return!(n==null||n==="none"||!(t.lineWidth>0))}function isValidStrokeFillStyle(t){return typeof t=="string"&&t!=="none"}function styleHasFill(t){var n=t.fill;return n!=null&&n!=="none"}function doFillPath(t,n){if(n.fillOpacity!=null&&n.fillOpacity!==1){var r=t.globalAlpha;t.globalAlpha=n.fillOpacity*n.opacity,t.fill(),t.globalAlpha=r}else t.fill()}function doStrokePath(t,n){if(n.strokeOpacity!=null&&n.strokeOpacity!==1){var r=t.globalAlpha;t.globalAlpha=n.strokeOpacity*n.opacity,t.stroke(),t.globalAlpha=r}else t.stroke()}function createCanvasPattern(t,n,r){var g=createOrUpdateImage(n.image,n.__image,r);if(isImageReady(g)){var y=t.createPattern(g,n.repeat||"repeat");if(typeof DOMMatrix=="function"&&y&&y.setTransform){var $=new DOMMatrix;$.translateSelf(n.x||0,n.y||0),$.rotateSelf(0,0,(n.rotation||0)*RADIAN_TO_DEGREE),$.scaleSelf(n.scaleX||1,n.scaleY||1),y.setTransform($)}return y}}function brushPath(t,n,r,g){var y,$=styleHasStroke(r),L=styleHasFill(r),V=r.strokePercent,z=V<1,j=!n.path;(!n.silent||z)&&j&&n.createPathProxy();var re=n.path||pathProxyForDraw,ae=n.__dirty;if(!g){var oe=r.fill,ie=r.stroke,le=L&&!!oe.colorStops,ue=$&&!!ie.colorStops,de=L&&!!oe.image,he=$&&!!ie.image,pe=void 0,_e=void 0,Ce=void 0,xe=void 0,Ie=void 0;(le||ue)&&(Ie=n.getBoundingRect()),le&&(pe=ae?getCanvasGradient(t,oe,Ie):n.__canvasFillGradient,n.__canvasFillGradient=pe),ue&&(_e=ae?getCanvasGradient(t,ie,Ie):n.__canvasStrokeGradient,n.__canvasStrokeGradient=_e),de&&(Ce=ae||!n.__canvasFillPattern?createCanvasPattern(t,oe,n):n.__canvasFillPattern,n.__canvasFillPattern=Ce),he&&(xe=ae||!n.__canvasStrokePattern?createCanvasPattern(t,ie,n):n.__canvasStrokePattern,n.__canvasStrokePattern=Ce),le?t.fillStyle=pe:de&&(Ce?t.fillStyle=Ce:L=!1),ue?t.strokeStyle=_e:he&&(xe?t.strokeStyle=xe:$=!1)}var $e=n.getGlobalScale();re.setScale($e[0],$e[1],n.segmentIgnoreThreshold);var Oe,Ne;t.setLineDash&&r.lineDash&&(y=getLineDash(n),Oe=y[0],Ne=y[1]);var Fe=!0;(j||ae&SHAPE_CHANGED_BIT)&&(re.setDPR(t.dpr),z?re.setContext(null):(re.setContext(t),Fe=!1),re.reset(),n.buildPath(re,n.shape,g),re.toStatic(),n.pathUpdated()),Fe&&re.rebuildPath(t,z?V:1),Oe&&(t.setLineDash(Oe),t.lineDashOffset=Ne),g||(r.strokeFirst?($&&doStrokePath(t,r),L&&doFillPath(t,r)):(L&&doFillPath(t,r),$&&doStrokePath(t,r))),Oe&&t.setLineDash([])}function brushImage(t,n,r){var g=n.__image=createOrUpdateImage(r.image,n.__image,n,n.onload);if(!(!g||!isImageReady(g))){var y=r.x||0,$=r.y||0,L=n.getWidth(),V=n.getHeight(),z=g.width/g.height;if(L==null&&V!=null?L=V*z:V==null&&L!=null?V=L/z:L==null&&V==null&&(L=g.width,V=g.height),r.sWidth&&r.sHeight){var j=r.sx||0,re=r.sy||0;t.drawImage(g,j,re,r.sWidth,r.sHeight,y,$,L,V)}else if(r.sx&&r.sy){var j=r.sx,re=r.sy,ae=L-j,oe=V-re;t.drawImage(g,j,re,ae,oe,y,$,L,V)}else t.drawImage(g,y,$,L,V)}}function brushText(t,n,r){var g,y=r.text;if(y!=null&&(y+=""),y){t.font=r.font||DEFAULT_FONT,t.textAlign=r.textAlign,t.textBaseline=r.textBaseline;var $=void 0,L=void 0;t.setLineDash&&r.lineDash&&(g=getLineDash(n),$=g[0],L=g[1]),$&&(t.setLineDash($),t.lineDashOffset=L),r.strokeFirst?(styleHasStroke(r)&&t.strokeText(y,r.x,r.y),styleHasFill(r)&&t.fillText(y,r.x,r.y)):(styleHasFill(r)&&t.fillText(y,r.x,r.y),styleHasStroke(r)&&t.strokeText(y,r.x,r.y)),$&&t.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(t,n,r,g,y){var $=!1;if(!g&&(r=r||{},n===r))return!1;if(g||n.opacity!==r.opacity){flushPathDrawn(t,y),$=!0;var L=Math.max(Math.min(n.opacity,1),0);t.globalAlpha=isNaN(L)?DEFAULT_COMMON_STYLE.opacity:L}(g||n.blend!==r.blend)&&($||(flushPathDrawn(t,y),$=!0),t.globalCompositeOperation=n.blend||DEFAULT_COMMON_STYLE.blend);for(var V=0;V<SHADOW_NUMBER_PROPS.length;V++){var z=SHADOW_NUMBER_PROPS[V];(g||n[z]!==r[z])&&($||(flushPathDrawn(t,y),$=!0),t[z]=t.dpr*(n[z]||0))}return(g||n.shadowColor!==r.shadowColor)&&($||(flushPathDrawn(t,y),$=!0),t.shadowColor=n.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),$}function bindPathAndTextCommonStyle(t,n,r,g,y){var $=getStyle(n,y.inHover),L=g?null:r&&getStyle(r,y.inHover)||{};if($===L)return!1;var V=bindCommonProps(t,$,L,g,y);if((g||$.fill!==L.fill)&&(V||(flushPathDrawn(t,y),V=!0),isValidStrokeFillStyle($.fill)&&(t.fillStyle=$.fill)),(g||$.stroke!==L.stroke)&&(V||(flushPathDrawn(t,y),V=!0),isValidStrokeFillStyle($.stroke)&&(t.strokeStyle=$.stroke)),(g||$.opacity!==L.opacity)&&(V||(flushPathDrawn(t,y),V=!0),t.globalAlpha=$.opacity==null?1:$.opacity),n.hasStroke()){var z=$.lineWidth,j=z/($.strokeNoScale&&n.getLineScale?n.getLineScale():1);t.lineWidth!==j&&(V||(flushPathDrawn(t,y),V=!0),t.lineWidth=j)}for(var re=0;re<STROKE_PROPS.length;re++){var ae=STROKE_PROPS[re],oe=ae[0];(g||$[oe]!==L[oe])&&(V||(flushPathDrawn(t,y),V=!0),t[oe]=$[oe]||ae[1])}return V}function bindImageStyle(t,n,r,g,y){return bindCommonProps(t,getStyle(n,y.inHover),r&&getStyle(r,y.inHover),g,y)}function setContextTransform(t,n){var r=n.transform,g=t.dpr||1;r?t.setTransform(g*r[0],g*r[1],g*r[2],g*r[3],g*r[4],g*r[5]):t.setTransform(g,0,0,g,0,0)}function updateClipStatus(t,n,r){for(var g=!1,y=0;y<t.length;y++){var $=t[y];g=g||$.isZeroArea(),setContextTransform(n,$),n.beginPath(),$.buildPath(n,$.shape),n.clip()}r.allClipped=g}function isTransformChanged(t,n){return t&&n?t[0]!==n[0]||t[1]!==n[1]||t[2]!==n[2]||t[3]!==n[3]||t[4]!==n[4]||t[5]!==n[5]:!(!t&&!n)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(t){var n=styleHasFill(t),r=styleHasStroke(t);return!(t.lineDash||!(+n^+r)||n&&typeof t.fill!="string"||r&&typeof t.stroke!="string"||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}function flushPathDrawn(t,n){n.batchFill&&t.fill(),n.batchStroke&&t.stroke(),n.batchFill="",n.batchStroke=""}function getStyle(t,n){return n&&t.__hoverStyle||t.style}function brushSingle(t,n){brush$1(t,n,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(t,n,r,g){var y=n.transform;if(!n.shouldBePainted(r.viewWidth,r.viewHeight,!1,!1)){n.__dirty&=~REDRAW_BIT,n.__isRendered=!1;return}var $=n.__clipPaths,L=r.prevElClipPaths,V=!1,z=!1;if((!L||isClipPathChanged($,L))&&(L&&L.length&&(flushPathDrawn(t,r),t.restore(),z=V=!0,r.prevElClipPaths=null,r.allClipped=!1,r.prevEl=null),$&&$.length&&(flushPathDrawn(t,r),t.save(),updateClipStatus($,t,r),V=!0),r.prevElClipPaths=$),r.allClipped){n.__isRendered=!1;return}n.beforeBrush&&n.beforeBrush(),n.innerBeforeBrush();var j=r.prevEl;j||(z=V=!0);var re=n instanceof Path&&n.autoBatch&&canPathBatch(n.style);V||isTransformChanged(y,j.transform)?(flushPathDrawn(t,r),setContextTransform(t,n)):re||flushPathDrawn(t,r);var ae=getStyle(n,r.inHover);n instanceof Path?(r.lastDrawType!==DRAW_TYPE_PATH&&(z=!0,r.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(t,n,j,z,r),(!re||!r.batchFill&&!r.batchStroke)&&t.beginPath(),brushPath(t,n,ae,re),re&&(r.batchFill=ae.fill||"",r.batchStroke=ae.stroke||"")):n instanceof TSpan?(r.lastDrawType!==DRAW_TYPE_TEXT&&(z=!0,r.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(t,n,j,z,r),brushText(t,n,ae)):n instanceof ZRImage?(r.lastDrawType!==DRAW_TYPE_IMAGE&&(z=!0,r.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(t,n,j,z,r),brushImage(t,n,ae)):n.getTemporalDisplayables&&(r.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(z=!0,r.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(t,n,r)),re&&g&&flushPathDrawn(t,r),n.innerAfterBrush(),n.afterBrush&&n.afterBrush(),r.prevEl=n,n.__dirty=0,n.__isRendered=!0}function brushIncremental(t,n,r){var g=n.getDisplayables(),y=n.getTemporalDisplayables();t.save();var $={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:r.viewWidth,viewHeight:r.viewHeight,inHover:r.inHover},L,V;for(L=n.getCursor(),V=g.length;L<V;L++){var z=g[L];z.beforeBrush&&z.beforeBrush(),z.innerBeforeBrush(),brush$1(t,z,$,L===V-1),z.innerAfterBrush(),z.afterBrush&&z.afterBrush(),$.prevEl=z}for(var j=0,re=y.length;j<re;j++){var z=y[j];z.beforeBrush&&z.beforeBrush(),z.innerBeforeBrush(),brush$1(t,z,$,j===re-1),z.innerAfterBrush(),z.afterBrush&&z.afterBrush(),$.prevEl=z}n.clearTemporalDisplayables(),n.notClear=!0,t.restore()}var decalMap=new WeakMap$1,decalCache=new LRU(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(t,n){if(t==="none")return null;var r=n.getDevicePixelRatio(),g=n.getZr(),y=g.painter.type==="svg";t.dirty&&decalMap.delete(t);var $=decalMap.get(t);if($)return $;var L=defaults(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});L.backgroundColor==="none"&&(L.backgroundColor=null);var V={repeat:"repeat"};return z(V),V.rotation=L.rotation,V.scaleX=V.scaleY=y?1:1/r,decalMap.set(t,V),t.dirty=!1,V;function z(j){for(var re=[r],ae=!0,oe=0;oe<decalKeys.length;++oe){var ie=L[decalKeys[oe]];if(ie!=null&&!isArray$1(ie)&&!isString(ie)&&!isNumber(ie)&&typeof ie!="boolean"){ae=!1;break}re.push(ie)}var le;if(ae){le=re.join(",")+(y?"-svg":"");var ue=decalCache.get(le);ue&&(y?j.svgElement=ue:j.image=ue)}var de=normalizeDashArrayX(L.dashArrayX),he=normalizeDashArrayY(L.dashArrayY),pe=normalizeSymbolArray(L.symbol),_e=getLineBlockLengthX(de),Ce=getLineBlockLengthY(he),xe=!y&&platformApi.createCanvas(),Ie=y&&{tag:"g",attrs:{},key:"dcl",children:[]},$e=Ne(),Oe;xe&&(xe.width=$e.width*r,xe.height=$e.height*r,Oe=xe.getContext("2d")),Fe(),ae&&decalCache.put(le,xe||Ie),j.image=xe,j.svgElement=Ie,j.svgWidth=$e.width,j.svgHeight=$e.height;function Ne(){for(var Ve=1,ze=0,Et=_e.length;ze<Et;++ze)Ve=getLeastCommonMultiple(Ve,_e[ze]);for(var Dt=1,ze=0,Et=pe.length;ze<Et;++ze)Dt=getLeastCommonMultiple(Dt,pe[ze].length);Ve*=Dt;var Ue=Ce*_e.length*pe.length;return{width:Math.max(1,Math.min(Ve,L.maxTileWidth)),height:Math.max(1,Math.min(Ue,L.maxTileHeight))}}function Fe(){Oe&&(Oe.clearRect(0,0,xe.width,xe.height),L.backgroundColor&&(Oe.fillStyle=L.backgroundColor,Oe.fillRect(0,0,xe.width,xe.height)));for(var Ve=0,ze=0;ze<he.length;++ze)Ve+=he[ze];if(Ve<=0)return;for(var Et=-Ce,Dt=0,Ue=0,qe=0;Et<$e.height;){if(Dt%2===0){for(var Lt=Ue/2%pe.length,Pt=0,At=0,vn=0;Pt<$e.width*2;){for(var En=0,ze=0;ze<de[qe].length;++ze)En+=de[qe][ze];if(En<=0)break;if(At%2===0){var Sn=(1-L.symbolSize)*.5,kt=Pt+de[qe][At]*Sn,jt=Et+he[Dt]*Sn,_n=de[qe][At]*L.symbolSize,wn=he[Dt]*L.symbolSize,hn=vn/2%pe[Lt].length;Cn(kt,jt,_n,wn,pe[Lt][hn])}Pt+=de[qe][At],++vn,++At,At===de[qe].length&&(At=0)}++qe,qe===de.length&&(qe=0)}Et+=he[Dt],++Ue,++Dt,Dt===he.length&&(Dt=0)}function Cn(Tn,xn,Mn,bn,Pn){var Rn=y?1:r,Fn=createSymbol$1(Pn,Tn*Rn,xn*Rn,Mn*Rn,bn*Rn,L.color,L.symbolKeepAspect);if(y){var Dn=g.painter.renderOneToVNode(Fn);Dn&&Ie.children.push(Dn)}else brushSingle(Oe,Fn)}}}}function normalizeSymbolArray(t){if(!t||t.length===0)return[["rect"]];if(isString(t))return[[t]];for(var n=!0,r=0;r<t.length;++r)if(!isString(t[r])){n=!1;break}if(n)return normalizeSymbolArray([t]);for(var g=[],r=0;r<t.length;++r)isString(t[r])?g.push([t[r]]):g.push(t[r]);return g}function normalizeDashArrayX(t){if(!t||t.length===0)return[[0,0]];if(isNumber(t)){var n=Math.ceil(t);return[[n,n]]}for(var r=!0,g=0;g<t.length;++g)if(!isNumber(t[g])){r=!1;break}if(r)return normalizeDashArrayX([t]);for(var y=[],g=0;g<t.length;++g)if(isNumber(t[g])){var n=Math.ceil(t[g]);y.push([n,n])}else{var n=map$1(t[g],function(V){return Math.ceil(V)});n.length%2===1?y.push(n.concat(n)):y.push(n)}return y}function normalizeDashArrayY(t){if(!t||typeof t=="object"&&t.length===0)return[0,0];if(isNumber(t)){var n=Math.ceil(t);return[n,n]}var r=map$1(t,function(g){return Math.ceil(g)});return t.length%2?r.concat(r):r}function getLineBlockLengthX(t){return map$1(t,function(n){return getLineBlockLengthY(n)})}function getLineBlockLengthY(t){for(var n=0,r=0;r<t.length;++r)n+=t[r];return t.length%2===1?n*2:n}function decalVisual(t,n){t.eachRawSeries(function(r){if(!t.isSeriesFiltered(r)){var g=r.getData();g.hasItemVisual()&&g.each(function(L){var V=g.getItemVisual(L,"decal");if(V){var z=g.ensureUniqueItemVisual(L,"style");z.decal=createOrUpdatePatternFromDecal(V,n)}});var y=g.getVisual("decal");if(y){var $=g.getVisual("style");$.decal=createOrUpdatePatternFromDecal(y,n)}}})}var lifecycle=new Eventful,implsStore={};function registerImpl(t,n){implsStore[t]=n}function getImpl(t){return implsStore[t]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/,CONNECT_STATUS_KEY="__connectUpdateStatus",CONNECT_STATUS_PENDING=0,CONNECT_STATUS_UPDATING=1,CONNECT_STATUS_UPDATED=2;function createRegisterEventWithLowercaseECharts(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(this.isDisposed()){this.id;return}return toLowercaseNameAndCallEventful(this,t,n)}}function createRegisterEventWithLowercaseMessageCenter(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return toLowercaseNameAndCallEventful(this,t,n)}}function toLowercaseNameAndCallEventful(t,n,r){return r[0]=r[0]&&r[0].toLowerCase(),Eventful.prototype[n].apply(t,r)}var MessageCenter=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n}(Eventful),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on");messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,enableConnect,markStatusToUpdate,applyChangedStates,ECharts=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this,new ECEventProcessor)||this;$._chartsViews=[],$._chartsMap={},$._componentsViews=[],$._componentsMap={},$._pendingActions=[],y=y||{},isString(g)&&(g=themeStorage[g]),$._dom=r;var L="canvas",V="auto",z=!1;y.ssr&&registerSSRDataGetter(function(oe){var ie=getECData(oe),le=ie.dataIndex;if(le!=null){var ue=createHashMap();return ue.set("series_index",ie.seriesIndex),ue.set("data_index",le),ie.ssrType&&ue.set("ssr_type",ie.ssrType),ue}});var j=$._zr=init$2(r,{renderer:y.renderer||L,devicePixelRatio:y.devicePixelRatio,width:y.width,height:y.height,ssr:y.ssr,useDirtyRect:retrieve2(y.useDirtyRect,z),useCoarsePointer:retrieve2(y.useCoarsePointer,V),pointerSize:y.pointerSize});$._ssr=y.ssr,$._throttledZrFlush=throttle(bind$1(j.flush,j),17),g=clone$4(g),g&&globalBackwardCompat(g,!0),$._theme=g,$._locale=createLocaleObject(y.locale||SYSTEM_LANG),$._coordSysMgr=new CoordinateSystemManager;var re=$._api=createExtensionAPI($);function ae(oe,ie){return oe.__prio-ie.__prio}return sort$2(visualFuncs,ae),sort$2(dataProcessorFuncs,ae),$._scheduler=new Scheduler($,re,dataProcessorFuncs,visualFuncs),$._messageCenter=new MessageCenter,$._initEvents(),$.resize=bind$1($.resize,$),j.animation.on("frame",$._onframe,$),bindRenderedEvent(j,$),bindMouseEvent(j,$),setAsPrimitive($),$}return n.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var r=this._scheduler;if(this[PENDING_UPDATE]){var g=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(z){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,z}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,g),triggerUpdatedEvent.call(this,g)}else if(r.unfinished){var y=TEST_FRAME_REMAIN_TIME,$=this._model,L=this._api;r.unfinished=!1;do{var V=+new Date;r.performSeriesTasks($),r.performDataProcessorTasks($),updateStreamModes(this,$),r.performVisualTasks($),renderSeries(this,this._model,L,"remain",{}),y-=+new Date-V}while(y>0&&r.unfinished);r.unfinished||this._zr.flush()}}},n.prototype.getDom=function(){return this._dom},n.prototype.getId=function(){return this.id},n.prototype.getZr=function(){return this._zr},n.prototype.isSSR=function(){return this._ssr},n.prototype.setOption=function(r,g,y){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}var $,L,V;if(isObject$3(g)&&(y=g.lazyUpdate,$=g.silent,L=g.replaceMerge,V=g.transition,g=g.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||g){var z=new OptionManager(this._api),j=this._theme,re=this._model=new GlobalModel;re.scheduler=this._scheduler,re.ssr=this._ssr,re.init(null,null,null,j,this._locale,z)}this._model.setOption(r,{replaceMerge:L},optionPreprocessorFuncs);var ae={seriesTransition:V,optionChanged:!0};if(y)this[PENDING_UPDATE]={silent:$,updateParams:ae},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,ae)}catch(oe){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,oe}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,$),triggerUpdatedEvent.call(this,$)}}},n.prototype.setTheme=function(){},n.prototype.getModel=function(){return this._model},n.prototype.getOption=function(){return this._model&&this._model.getOption()},n.prototype.getWidth=function(){return this._zr.getWidth()},n.prototype.getHeight=function(){return this._zr.getHeight()},n.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env.hasGlobalWindow&&window.devicePixelRatio||1},n.prototype.getRenderedCanvas=function(r){return this.renderToCanvas(r)},n.prototype.renderToCanvas=function(r){r=r||{};var g=this._zr.painter;return g.getRenderedCanvas({backgroundColor:r.backgroundColor||this._model.get("backgroundColor"),pixelRatio:r.pixelRatio||this.getDevicePixelRatio()})},n.prototype.renderToSVGString=function(r){r=r||{};var g=this._zr.painter;return g.renderToString({useViewBox:r.useViewBox})},n.prototype.getSvgDataURL=function(){if(env.svgSupported){var r=this._zr,g=r.storage.getDisplayList();return each$f(g,function(y){y.stopAnimation(null,!0)}),r.painter.toDataURL()}},n.prototype.getDataURL=function(r){if(this._disposed){this.id;return}r=r||{};var g=r.excludeComponents,y=this._model,$=[],L=this;each$f(g,function(z){y.eachComponent({mainType:z},function(j){var re=L._componentsMap[j.__viewId];re.group.ignore||($.push(re),re.group.ignore=!0)})});var V=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(r).toDataURL("image/"+(r&&r.type||"png"));return each$f($,function(z){z.group.ignore=!1}),V},n.prototype.getConnectedDataURL=function(r){if(this._disposed){this.id;return}var g=r.type==="svg",y=this.group,$=Math.min,L=Math.max,V=1/0;if(connectedGroups[y]){var z=V,j=V,re=-V,ae=-V,oe=[],ie=r&&r.pixelRatio||this.getDevicePixelRatio();each$f(instances,function(_e,Ce){if(_e.group===y){var xe=g?_e.getZr().painter.getSvgDom().innerHTML:_e.renderToCanvas(clone$4(r)),Ie=_e.getDom().getBoundingClientRect();z=$(Ie.left,z),j=$(Ie.top,j),re=L(Ie.right,re),ae=L(Ie.bottom,ae),oe.push({dom:xe,left:Ie.left,top:Ie.top})}}),z*=ie,j*=ie,re*=ie,ae*=ie;var le=re-z,ue=ae-j,de=platformApi.createCanvas(),he=init$2(de,{renderer:g?"svg":"canvas"});if(he.resize({width:le,height:ue}),g){var pe="";return each$f(oe,function(_e){var Ce=_e.left-z,xe=_e.top-j;pe+='<g transform="translate('+Ce+","+xe+')">'+_e.dom+"</g>"}),he.painter.getSvgRoot().innerHTML=pe,r.connectedBackgroundColor&&he.painter.setBackgroundColor(r.connectedBackgroundColor),he.refreshImmediately(),he.painter.toDataURL()}else return r.connectedBackgroundColor&&he.add(new Rect$2({shape:{x:0,y:0,width:le,height:ue},style:{fill:r.connectedBackgroundColor}})),each$f(oe,function(_e){var Ce=new ZRImage({style:{x:_e.left*ie-z,y:_e.top*ie-j,image:_e.dom}});he.add(Ce)}),he.refreshImmediately(),de.toDataURL("image/"+(r&&r.type||"png"))}else return this.getDataURL(r)},n.prototype.convertToPixel=function(r,g){return doConvertPixel(this,"convertToPixel",r,g)},n.prototype.convertFromPixel=function(r,g){return doConvertPixel(this,"convertFromPixel",r,g)},n.prototype.containPixel=function(r,g){if(this._disposed){this.id;return}var y=this._model,$,L=parseFinder$1(y,r);return each$f(L,function(V,z){z.indexOf("Models")>=0&&each$f(V,function(j){var re=j.coordinateSystem;if(re&&re.containPoint)$=$||!!re.containPoint(g);else if(z==="seriesModels"){var ae=this._chartsMap[j.__viewId];ae&&ae.containPoint&&($=$||ae.containPoint(g,j))}},this)},this),!!$},n.prototype.getVisual=function(r,g){var y=this._model,$=parseFinder$1(y,r,{defaultMainType:"series"}),L=$.seriesModel,V=L.getData(),z=$.hasOwnProperty("dataIndexInside")?$.dataIndexInside:$.hasOwnProperty("dataIndex")?V.indexOfRawIndex($.dataIndex):null;return z!=null?getItemVisualFromData(V,z,g):getVisualFromData(V,g)},n.prototype.getViewOfComponentModel=function(r){return this._componentsMap[r.__viewId]},n.prototype.getViewOfSeriesModel=function(r){return this._chartsMap[r.__viewId]},n.prototype._initEvents=function(){var r=this;each$f(MOUSE_EVENT_NAMES,function(g){var y=function($){var L=r.getModel(),V=$.target,z,j=g==="globalout";if(j?z={}:V&&findEventDispatcher(V,function(le){var ue=getECData(le);if(ue&&ue.dataIndex!=null){var de=ue.dataModel||L.getSeriesByIndex(ue.seriesIndex);return z=de&&de.getDataParams(ue.dataIndex,ue.dataType,V)||{},!0}else if(ue.eventData)return z=extend({},ue.eventData),!0},!0),z){var re=z.componentType,ae=z.componentIndex;(re==="markLine"||re==="markPoint"||re==="markArea")&&(re="series",ae=z.seriesIndex);var oe=re&&ae!=null&&L.getComponent(re,ae),ie=oe&&r[oe.mainType==="series"?"_chartsMap":"_componentsMap"][oe.__viewId];z.event=$,z.type=g,r._$eventProcessor.eventInfo={targetEl:V,packedEvent:z,model:oe,view:ie},r.trigger(g,z)}};y.zrEventfulCallAtLast=!0,r._zr.on(g,y,r)}),each$f(eventActionMap,function(g,y){r._messageCenter.on(y,function($){this.trigger(y,$)},r)}),each$f(["selectchanged"],function(g){r._messageCenter.on(g,function(y){this.trigger(g,y)},r)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},n.prototype.isDisposed=function(){return this._disposed},n.prototype.clear=function(){if(this._disposed){this.id;return}this.setOption({series:[]},!0)},n.prototype.dispose=function(){if(this._disposed){this.id;return}this._disposed=!0;var r=this.getDom();r&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var g=this,y=g._api,$=g._model;each$f(g._componentsViews,function(L){L.dispose($,y)}),each$f(g._chartsViews,function(L){L.dispose($,y)}),g._zr.dispose(),g._dom=g._model=g._chartsMap=g._componentsMap=g._chartsViews=g._componentsViews=g._scheduler=g._api=g._zr=g._throttledZrFlush=g._theme=g._coordSysMgr=g._messageCenter=null,delete instances[g.id]},n.prototype.resize=function(r){if(!this[IN_MAIN_PROCESS_KEY]){if(this._disposed){this.id;return}this._zr.resize(r);var g=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!g){var y=g.resetOption("media"),$=r&&r.silent;this[PENDING_UPDATE]&&($==null&&($=this[PENDING_UPDATE].silent),y=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{y&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},r&&r.animation)})}catch(L){throw this[IN_MAIN_PROCESS_KEY]=!1,L}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,$),triggerUpdatedEvent.call(this,$)}}},n.prototype.showLoading=function(r,g){if(this._disposed){this.id;return}if(isObject$3(r)&&(g=r,r=""),r=r||"default",this.hideLoading(),!!loadingEffects[r]){var y=loadingEffects[r](this._api,g),$=this._zr;this._loadingFX=y,$.add(y)}},n.prototype.hideLoading=function(){if(this._disposed){this.id;return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},n.prototype.makeActionFromEvent=function(r){var g=extend({},r);return g.type=eventActionMap[r.type],g},n.prototype.dispatchAction=function(r,g){if(this._disposed){this.id;return}if(isObject$3(g)||(g={silent:!!g}),!!actions[r.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(r);return}var y=g.silent;doDispatchAction.call(this,r,y);var $=g.flush;$?this._zr.flush():$!==!1&&env.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,y),triggerUpdatedEvent.call(this,y)}},n.prototype.updateLabelLayout=function(){lifecycle.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},n.prototype.appendData=function(r){if(this._disposed){this.id;return}var g=r.seriesIndex,y=this.getModel(),$=y.getSeriesByIndex(g);$.appendData(r),this._scheduler.unfinished=!0,this.getZr().wakeUp()},n.internalField=function(){prepare=function(ae){var oe=ae._scheduler;oe.restorePipelines(ae._model),oe.prepareStageTasks(),prepareView(ae,!0),prepareView(ae,!1),oe.plan()},prepareView=function(ae,oe){for(var ie=ae._model,le=ae._scheduler,ue=oe?ae._componentsViews:ae._chartsViews,de=oe?ae._componentsMap:ae._chartsMap,he=ae._zr,pe=ae._api,_e=0;_e<ue.length;_e++)ue[_e].__alive=!1;oe?ie.eachComponent(function(Ie,$e){Ie!=="series"&&Ce($e)}):ie.eachSeries(Ce);function Ce(Ie){var $e=Ie.__requireNewView;Ie.__requireNewView=!1;var Oe="_ec_"+Ie.id+"_"+Ie.type,Ne=!$e&&de[Oe];if(!Ne){var Fe=parseClassType(Ie.type),Ve=oe?ComponentView.getClass(Fe.main,Fe.sub):ChartView.getClass(Fe.sub);Ne=new Ve,Ne.init(ie,pe),de[Oe]=Ne,ue.push(Ne),he.add(Ne.group)}Ie.__viewId=Ne.__id=Oe,Ne.__alive=!0,Ne.__model=Ie,Ne.group.__ecComponentInfo={mainType:Ie.mainType,index:Ie.componentIndex},!oe&&le.prepareView(Ne,Ie,ie,pe)}for(var _e=0;_e<ue.length;){var xe=ue[_e];xe.__alive?_e++:(!oe&&xe.renderTask.dispose(),he.remove(xe.group),xe.dispose(ie,pe),ue.splice(_e,1),de[xe.__id]===xe&&delete de[xe.__id],xe.__id=xe.group.__ecComponentInfo=null)}},updateDirectly=function(ae,oe,ie,le,ue){var de=ae._model;if(de.setUpdatePayload(ie),!le){each$f([].concat(ae._componentsViews).concat(ae._chartsViews),xe);return}var he={};he[le+"Id"]=ie[le+"Id"],he[le+"Index"]=ie[le+"Index"],he[le+"Name"]=ie[le+"Name"];var pe={mainType:le,query:he};ue&&(pe.subType=ue);var _e=ie.excludeSeriesId,Ce;_e!=null&&(Ce=createHashMap(),each$f(normalizeToArray(_e),function(Ie){var $e=convertOptionIdName(Ie,null);$e!=null&&Ce.set($e,!0)})),de&&de.eachComponent(pe,function(Ie){var $e=Ce&&Ce.get(Ie.id)!=null;if(!$e)if(isHighDownPayload(ie))if(Ie instanceof SeriesModel)ie.type===HIGHLIGHT_ACTION_TYPE&&!ie.notBlur&&!Ie.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(Ie,ie,ae._api);else{var Oe=findComponentHighDownDispatchers(Ie.mainType,Ie.componentIndex,ie.name,ae._api),Ne=Oe.focusSelf,Fe=Oe.dispatchers;ie.type===HIGHLIGHT_ACTION_TYPE&&Ne&&!ie.notBlur&&blurComponent(Ie.mainType,Ie.componentIndex,ae._api),Fe&&each$f(Fe,function(Ve){ie.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(Ve):leaveEmphasis(Ve)})}else isSelectChangePayload(ie)&&Ie instanceof SeriesModel&&(toggleSelectionFromPayload(Ie,ie,ae._api),updateSeriesElementSelection(Ie),markStatusToUpdate(ae))},ae),de&&de.eachComponent(pe,function(Ie){var $e=Ce&&Ce.get(Ie.id)!=null;$e||xe(ae[le==="series"?"_chartsMap":"_componentsMap"][Ie.__viewId])},ae);function xe(Ie){Ie&&Ie.__alive&&Ie[oe]&&Ie[oe](Ie.__model,de,ae._api,ie)}},updateMethods={prepareAndUpdate:function(ae){prepare(this),updateMethods.update.call(this,ae,{optionChanged:ae.newOption!=null})},update:function(ae,oe){var ie=this._model,le=this._api,ue=this._zr,de=this._coordSysMgr,he=this._scheduler;if(ie){ie.setUpdatePayload(ae),he.restoreData(ie,ae),he.performSeriesTasks(ie),de.create(ie,le),he.performDataProcessorTasks(ie,ae),updateStreamModes(this,ie),de.update(ie,le),r(ie),he.performVisualTasks(ie,ae),render(this,ie,le,ae,oe);var pe=ie.get("backgroundColor")||"transparent",_e=ie.get("darkMode");ue.setBackgroundColor(pe),_e!=null&&_e!=="auto"&&ue.setDarkMode(_e),lifecycle.trigger("afterupdate",ie,le)}},updateTransform:function(ae){var oe=this,ie=this._model,le=this._api;if(ie){ie.setUpdatePayload(ae);var ue=[];ie.eachComponent(function(he,pe){if(he!=="series"){var _e=oe.getViewOfComponentModel(pe);if(_e&&_e.__alive)if(_e.updateTransform){var Ce=_e.updateTransform(pe,ie,le,ae);Ce&&Ce.update&&ue.push(_e)}else ue.push(_e)}});var de=createHashMap();ie.eachSeries(function(he){var pe=oe._chartsMap[he.__viewId];if(pe.updateTransform){var _e=pe.updateTransform(he,ie,le,ae);_e&&_e.update&&de.set(he.uid,1)}else de.set(he.uid,1)}),r(ie),this._scheduler.performVisualTasks(ie,ae,{setDirty:!0,dirtyMap:de}),renderSeries(this,ie,le,ae,{},de),lifecycle.trigger("afterupdate",ie,le)}},updateView:function(ae){var oe=this._model;oe&&(oe.setUpdatePayload(ae),ChartView.markUpdateMethod(ae,"updateView"),r(oe),this._scheduler.performVisualTasks(oe,ae,{setDirty:!0}),render(this,oe,this._api,ae,{}),lifecycle.trigger("afterupdate",oe,this._api))},updateVisual:function(ae){var oe=this,ie=this._model;ie&&(ie.setUpdatePayload(ae),ie.eachSeries(function(le){le.getData().clearAllVisual()}),ChartView.markUpdateMethod(ae,"updateVisual"),r(ie),this._scheduler.performVisualTasks(ie,ae,{visualType:"visual",setDirty:!0}),ie.eachComponent(function(le,ue){if(le!=="series"){var de=oe.getViewOfComponentModel(ue);de&&de.__alive&&de.updateVisual(ue,ie,oe._api,ae)}}),ie.eachSeries(function(le){var ue=oe._chartsMap[le.__viewId];ue.updateVisual(le,ie,oe._api,ae)}),lifecycle.trigger("afterupdate",ie,this._api))},updateLayout:function(ae){updateMethods.update.call(this,ae)}},doConvertPixel=function(ae,oe,ie,le){if(ae._disposed){ae.id;return}for(var ue=ae._model,de=ae._coordSysMgr.getCoordinateSystems(),he,pe=parseFinder$1(ue,ie),_e=0;_e<de.length;_e++){var Ce=de[_e];if(Ce[oe]&&(he=Ce[oe](ue,pe,le))!=null)return he}},updateStreamModes=function(ae,oe){var ie=ae._chartsMap,le=ae._scheduler;oe.eachSeries(function(ue){le.updateStreamModes(ue,ie[ue.__viewId])})},doDispatchAction=function(ae,oe){var ie=this,le=this.getModel(),ue=ae.type,de=ae.escapeConnect,he=actions[ue],pe=he.actionInfo,_e=(pe.update||"update").split(":"),Ce=_e.pop(),xe=_e[0]!=null&&parseClassType(_e[0]);this[IN_MAIN_PROCESS_KEY]=!0;var Ie=[ae],$e=!1;ae.batch&&($e=!0,Ie=map$1(ae.batch,function(Dt){return Dt=defaults(extend({},Dt),ae),Dt.batch=null,Dt}));var Oe=[],Ne,Fe=isSelectChangePayload(ae),Ve=isHighDownPayload(ae);if(Ve&&allLeaveBlur(this._api),each$f(Ie,function(Dt){if(Ne=he.action(Dt,ie._model,ie._api),Ne=Ne||extend({},Dt),Ne.type=pe.event||Ne.type,Oe.push(Ne),Ve){var Ue=preParseFinder(ae),qe=Ue.queryOptionMap,Lt=Ue.mainTypeSpecified,Pt=Lt?qe.keys()[0]:"series";updateDirectly(ie,Ce,Dt,Pt),markStatusToUpdate(ie)}else Fe?(updateDirectly(ie,Ce,Dt,"series"),markStatusToUpdate(ie)):xe&&updateDirectly(ie,Ce,Dt,xe.main,xe.sub)}),Ce!=="none"&&!Ve&&!Fe&&!xe)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,ae),this[PENDING_UPDATE]=null):updateMethods[Ce].call(this,ae)}catch(Dt){throw this[IN_MAIN_PROCESS_KEY]=!1,Dt}if($e?Ne={type:pe.event||ue,escapeConnect:de,batch:Oe}:Ne=Oe[0],this[IN_MAIN_PROCESS_KEY]=!1,!oe){var ze=this._messageCenter;if(ze.trigger(Ne.type,Ne),Fe){var Et={type:"selectchanged",escapeConnect:de,selected:getAllSelectedIndices(le),isFromClick:ae.isFromClick||!1,fromAction:ae.type,fromActionPayload:ae};ze.trigger(Et.type,Et)}}},flushPendingActions=function(ae){for(var oe=this._pendingActions;oe.length;){var ie=oe.shift();doDispatchAction.call(this,ie,ae)}},triggerUpdatedEvent=function(ae){!ae&&this.trigger("updated")},bindRenderedEvent=function(ae,oe){ae.on("rendered",function(ie){oe.trigger("rendered",ie),ae.animation.isFinished()&&!oe[PENDING_UPDATE]&&!oe._scheduler.unfinished&&!oe._pendingActions.length&&oe.trigger("finished")})},bindMouseEvent=function(ae,oe){ae.on("mouseover",function(ie){var le=ie.target,ue=findEventDispatcher(le,isHighDownDispatcher);ue&&(handleGlobalMouseOverForHighDown(ue,ie,oe._api),markStatusToUpdate(oe))}).on("mouseout",function(ie){var le=ie.target,ue=findEventDispatcher(le,isHighDownDispatcher);ue&&(handleGlobalMouseOutForHighDown(ue,ie,oe._api),markStatusToUpdate(oe))}).on("click",function(ie){var le=ie.target,ue=findEventDispatcher(le,function(pe){return getECData(pe).dataIndex!=null},!0);if(ue){var de=ue.selected?"unselect":"select",he=getECData(ue);oe._api.dispatchAction({type:de,dataType:he.dataType,dataIndexInside:he.dataIndex,seriesIndex:he.seriesIndex,isFromClick:!0})}})};function r(ae){ae.clearColorPalette(),ae.eachSeries(function(oe){oe.clearColorPalette()})}function g(ae){var oe=[],ie=[],le=!1;if(ae.eachComponent(function(pe,_e){var Ce=_e.get("zlevel")||0,xe=_e.get("z")||0,Ie=_e.getZLevelKey();le=le||!!Ie,(pe==="series"?ie:oe).push({zlevel:Ce,z:xe,idx:_e.componentIndex,type:pe,key:Ie})}),le){var ue=oe.concat(ie),de,he;sort$2(ue,function(pe,_e){return pe.zlevel===_e.zlevel?pe.z-_e.z:pe.zlevel-_e.zlevel}),each$f(ue,function(pe){var _e=ae.getComponent(pe.type,pe.idx),Ce=pe.zlevel,xe=pe.key;de!=null&&(Ce=Math.max(de,Ce)),xe?(Ce===de&&xe!==he&&Ce++,he=xe):he&&(Ce===de&&Ce++,he=""),de=Ce,_e.setZLevel(Ce)})}}render=function(ae,oe,ie,le,ue){g(oe),renderComponents(ae,oe,ie,le,ue),each$f(ae._chartsViews,function(de){de.__alive=!1}),renderSeries(ae,oe,ie,le,ue),each$f(ae._chartsViews,function(de){de.__alive||de.remove(oe,ie)})},renderComponents=function(ae,oe,ie,le,ue,de){each$f(de||ae._componentsViews,function(he){var pe=he.__model;j(pe,he),he.render(pe,oe,ie,le),V(pe,he),re(pe,he)})},renderSeries=function(ae,oe,ie,le,ue,de){var he=ae._scheduler;ue=extend(ue||{},{updatedSeries:oe.getSeries()}),lifecycle.trigger("series:beforeupdate",oe,ie,ue);var pe=!1;oe.eachSeries(function(_e){var Ce=ae._chartsMap[_e.__viewId];Ce.__alive=!0;var xe=Ce.renderTask;he.updatePayload(xe,le),j(_e,Ce),de&&de.get(_e.uid)&&xe.dirty(),xe.perform(he.getPerformArgs(xe))&&(pe=!0),Ce.group.silent=!!_e.get("silent"),L(_e,Ce),updateSeriesElementSelection(_e)}),he.unfinished=pe||he.unfinished,lifecycle.trigger("series:layoutlabels",oe,ie,ue),lifecycle.trigger("series:transition",oe,ie,ue),oe.eachSeries(function(_e){var Ce=ae._chartsMap[_e.__viewId];V(_e,Ce),re(_e,Ce)}),$(ae,oe),lifecycle.trigger("series:afterupdate",oe,ie,ue)},markStatusToUpdate=function(ae){ae[STATUS_NEEDS_UPDATE_KEY]=!0,ae.getZr().wakeUp()},applyChangedStates=function(ae){ae[STATUS_NEEDS_UPDATE_KEY]&&(ae.getZr().storage.traverse(function(oe){isElementRemoved(oe)||y(oe)}),ae[STATUS_NEEDS_UPDATE_KEY]=!1)};function y(ae){for(var oe=[],ie=ae.currentStates,le=0;le<ie.length;le++){var ue=ie[le];ue==="emphasis"||ue==="blur"||ue==="select"||oe.push(ue)}ae.selected&&ae.states.select&&oe.push("select"),ae.hoverState===HOVER_STATE_EMPHASIS&&ae.states.emphasis?oe.push("emphasis"):ae.hoverState===HOVER_STATE_BLUR&&ae.states.blur&&oe.push("blur"),ae.useStates(oe)}function $(ae,oe){var ie=ae._zr,le=ie.storage,ue=0;le.traverse(function(de){de.isGroup||ue++}),ue>oe.get("hoverLayerThreshold")&&!env.node&&!env.worker&&oe.eachSeries(function(de){if(!de.preventUsingHoverLayer){var he=ae._chartsMap[de.__viewId];he.__alive&&he.eachRendered(function(pe){pe.states.emphasis&&(pe.states.emphasis.hoverLayer=!0)})}})}function L(ae,oe){var ie=ae.get("blendMode")||null;oe.eachRendered(function(le){le.isGroup||(le.style.blend=ie)})}function V(ae,oe){if(!ae.preventAutoZ){var ie=ae.get("z")||0,le=ae.get("zlevel")||0;oe.eachRendered(function(ue){return z(ue,ie,le,-1/0),!0})}}function z(ae,oe,ie,le){var ue=ae.getTextContent(),de=ae.getTextGuideLine(),he=ae.isGroup;if(he)for(var pe=ae.childrenRef(),_e=0;_e<pe.length;_e++)le=Math.max(z(pe[_e],oe,ie,le),le);else ae.z=oe,ae.zlevel=ie,le=Math.max(ae.z2,le);if(ue&&(ue.z=oe,ue.zlevel=ie,isFinite(le)&&(ue.z2=le+2)),de){var Ce=ae.textGuideLineConfig;de.z=oe,de.zlevel=ie,isFinite(le)&&(de.z2=le+(Ce&&Ce.showAbove?1:-1))}return le}function j(ae,oe){oe.eachRendered(function(ie){if(!isElementRemoved(ie)){var le=ie.getTextContent(),ue=ie.getTextGuideLine();ie.stateTransition&&(ie.stateTransition=null),le&&le.stateTransition&&(le.stateTransition=null),ue&&ue.stateTransition&&(ue.stateTransition=null),ie.hasState()?(ie.prevStates=ie.currentStates,ie.clearStates()):ie.prevStates&&(ie.prevStates=null)}})}function re(ae,oe){var ie=ae.getModel("stateAnimation"),le=ae.isAnimationEnabled(),ue=ie.get("duration"),de=ue>0?{duration:ue,delay:ie.get("delay"),easing:ie.get("easing")}:null;oe.eachRendered(function(he){if(he.states&&he.states.emphasis){if(isElementRemoved(he))return;if(he instanceof Path&&savePathStates(he),he.__dirty){var pe=he.prevStates;pe&&he.useStates(pe)}if(le){he.stateTransition=de;var _e=he.getTextContent(),Ce=he.getTextGuideLine();_e&&(_e.stateTransition=de),Ce&&(Ce.stateTransition=de)}he.__dirty&&y(he)}})}createExtensionAPI=function(ae){return new(function(oe){__extends(ie,oe);function ie(){return oe!==null&&oe.apply(this,arguments)||this}return ie.prototype.getCoordinateSystems=function(){return ae._coordSysMgr.getCoordinateSystems()},ie.prototype.getComponentByElement=function(le){for(;le;){var ue=le.__ecComponentInfo;if(ue!=null)return ae._model.getComponent(ue.mainType,ue.index);le=le.parent}},ie.prototype.enterEmphasis=function(le,ue){enterEmphasis(le,ue),markStatusToUpdate(ae)},ie.prototype.leaveEmphasis=function(le,ue){leaveEmphasis(le,ue),markStatusToUpdate(ae)},ie.prototype.enterBlur=function(le){enterBlur(le),markStatusToUpdate(ae)},ie.prototype.leaveBlur=function(le){leaveBlur(le),markStatusToUpdate(ae)},ie.prototype.enterSelect=function(le){enterSelect(le),markStatusToUpdate(ae)},ie.prototype.leaveSelect=function(le){leaveSelect(le),markStatusToUpdate(ae)},ie.prototype.getModel=function(){return ae.getModel()},ie.prototype.getViewOfComponentModel=function(le){return ae.getViewOfComponentModel(le)},ie.prototype.getViewOfSeriesModel=function(le){return ae.getViewOfSeriesModel(le)},ie}(ExtensionAPI))(ae)},enableConnect=function(ae){function oe(ie,le){for(var ue=0;ue<ie.length;ue++){var de=ie[ue];de[CONNECT_STATUS_KEY]=le}}each$f(eventActionMap,function(ie,le){ae._messageCenter.on(le,function(ue){if(connectedGroups[ae.group]&&ae[CONNECT_STATUS_KEY]!==CONNECT_STATUS_PENDING){if(ue&&ue.escapeConnect)return;var de=ae.makeActionFromEvent(ue),he=[];each$f(instances,function(pe){pe!==ae&&pe.group===ae.group&&he.push(pe)}),oe(he,CONNECT_STATUS_PENDING),each$f(he,function(pe){pe[CONNECT_STATUS_KEY]!==CONNECT_STATUS_UPDATING&&pe.dispatchAction(de)}),oe(he,CONNECT_STATUS_UPDATED)}})})}}(),n}(Eventful),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on");echartsProto.off=createRegisterEventWithLowercaseECharts("off");echartsProto.one=function(t,n,r){var g=this;function y(){for(var $=[],L=0;L<arguments.length;L++)$[L]=arguments[L];n&&n.apply&&n.apply(this,$),g.off(t,y)}this.on.call(this,t,y,r)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(t){}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},idBase=+new Date-0,DOM_ATTRIBUTE_KEY="_echarts_instance_";function init$1(t,n,r){{var g=getInstanceByDom(t);if(g)return g}var y=new ECharts(t,n,r);return y.id="ec_"+idBase++,instances[y.id]=y,setAttribute(t,DOM_ATTRIBUTE_KEY,y.id),enableConnect(y),lifecycle.trigger("afterinit",y),y}function getInstanceByDom(t){return instances[getAttribute(t,DOM_ATTRIBUTE_KEY)]}function registerTheme(t,n){themeStorage[t]=n}function registerPreprocessor(t){indexOf(optionPreprocessorFuncs,t)<0&&optionPreprocessorFuncs.push(t)}function registerProcessor(t,n){normalizeRegister(dataProcessorFuncs,t,n,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(t){registerUpdateLifecycle("afterinit",t)}function registerPostUpdate(t){registerUpdateLifecycle("afterupdate",t)}function registerUpdateLifecycle(t,n){lifecycle.on(t,n)}function registerAction(t,n,r){isFunction(n)&&(r=n,n="");var g=isObject$3(t)?t.type:[t,t={event:n}][0];t.event=(t.event||g).toLowerCase(),n=t.event,!eventActionMap[n]&&(assert(ACTION_REG.test(g)&&ACTION_REG.test(n)),actions[g]||(actions[g]={action:r,actionInfo:t}),eventActionMap[n]=g)}function registerCoordinateSystem(t,n){CoordinateSystemManager.register(t,n)}function registerLayout(t,n){normalizeRegister(visualFuncs,t,n,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(t,n){normalizeRegister(visualFuncs,t,n,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(t,n,r,g,y){if((isFunction(n)||isObject$3(n))&&(r=n,n=g),!(indexOf(registeredTasks,r)>=0)){registeredTasks.push(r);var $=Scheduler.wrapStageHandler(r,y);$.__prio=n,$.__raw=r,t.push($)}}function registerLoading(t,n){loadingEffects[t]=n}function registerMap$1(t,n,r){var g=getImpl("registerMap");g&&g(t,n,r)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask);registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask);registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask);registerVisual(PRIORITY_VISUAL_DECAL,decalVisual);registerPreprocessor(globalBackwardCompat);registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack);registerLoading("default",defaultLoading);registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop);registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop);registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop);registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop);registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop);registerTheme("light",lightTheme);registerTheme("dark",theme);var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap:registerMap$1,registerImpl,PRIORITY,ComponentModel,ComponentView,SeriesModel,ChartView,registerComponentModel:function(t){ComponentModel.registerClass(t)},registerComponentView:function(t){ComponentView.registerClass(t)},registerSeriesModel:function(t){SeriesModel.registerClass(t)},registerChartView:function(t){ChartView.registerClass(t)},registerSubTypeDefaulter:function(t,n){ComponentModel.registerSubTypeDefaulter(t,n)},registerPainter:function(t,n){registerPainter(t,n)}};function use(t){if(isArray$1(t)){each$f(t,function(n){use(n)});return}indexOf(extensions,t)>=0||(extensions.push(t),isFunction(t)&&(t={install:t}),t.install(extensionRegisters))}function dataIndexMapValueLength(t){return t==null?0:t.length||1}function defaultKeyGetter(t){return t}var DataDiffer=function(){function t(n,r,g,y,$,L){this._old=n,this._new=r,this._oldKeyGetter=g||defaultKeyGetter,this._newKeyGetter=y||defaultKeyGetter,this.context=$,this._diffModeMultiple=L==="multiple"}return t.prototype.add=function(n){return this._add=n,this},t.prototype.update=function(n){return this._update=n,this},t.prototype.updateManyToOne=function(n){return this._updateManyToOne=n,this},t.prototype.updateOneToMany=function(n){return this._updateOneToMany=n,this},t.prototype.updateManyToMany=function(n){return this._updateManyToMany=n,this},t.prototype.remove=function(n){return this._remove=n,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var n=this._old,r=this._new,g={},y=new Array(n.length),$=new Array(r.length);this._initIndexMap(n,null,y,"_oldKeyGetter"),this._initIndexMap(r,g,$,"_newKeyGetter");for(var L=0;L<n.length;L++){var V=y[L],z=g[V],j=dataIndexMapValueLength(z);if(j>1){var re=z.shift();z.length===1&&(g[V]=z[0]),this._update&&this._update(re,L)}else j===1?(g[V]=null,this._update&&this._update(z,L)):this._remove&&this._remove(L)}this._performRestAdd($,g)},t.prototype._executeMultiple=function(){var n=this._old,r=this._new,g={},y={},$=[],L=[];this._initIndexMap(n,g,$,"_oldKeyGetter"),this._initIndexMap(r,y,L,"_newKeyGetter");for(var V=0;V<$.length;V++){var z=$[V],j=g[z],re=y[z],ae=dataIndexMapValueLength(j),oe=dataIndexMapValueLength(re);if(ae>1&&oe===1)this._updateManyToOne&&this._updateManyToOne(re,j),y[z]=null;else if(ae===1&&oe>1)this._updateOneToMany&&this._updateOneToMany(re,j),y[z]=null;else if(ae===1&&oe===1)this._update&&this._update(re,j),y[z]=null;else if(ae>1&&oe>1)this._updateManyToMany&&this._updateManyToMany(re,j),y[z]=null;else if(ae>1)for(var ie=0;ie<ae;ie++)this._remove&&this._remove(j[ie]);else this._remove&&this._remove(j)}this._performRestAdd(L,y)},t.prototype._performRestAdd=function(n,r){for(var g=0;g<n.length;g++){var y=n[g],$=r[y],L=dataIndexMapValueLength($);if(L>1)for(var V=0;V<L;V++)this._add&&this._add($[V]);else L===1&&this._add&&this._add($);r[y]=null}},t.prototype._initIndexMap=function(n,r,g,y){for(var $=this._diffModeMultiple,L=0;L<n.length;L++){var V="_ec_"+this[y](n[L],L);if($||(g[L]=V),!!r){var z=r[V],j=dataIndexMapValueLength(z);j===0?(r[V]=L,$&&g.push(V)):j===1?r[V]=[z,L]:z.push(L)}}},t}(),DimensionUserOuput=function(){function t(n,r){this._encode=n,this._schema=r}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function summarizeDimensions(t,n){var r={},g=r.encode={},y=createHashMap(),$=[],L=[],V={};each$f(t.dimensions,function(oe){var ie=t.getDimensionInfo(oe),le=ie.coordDim;if(le){var ue=ie.coordDimIndex;getOrCreateEncodeArr(g,le)[ue]=oe,ie.isExtraCoord||(y.set(le,1),mayLabelDimType(ie.type)&&($[0]=oe),getOrCreateEncodeArr(V,le)[ue]=t.getDimensionIndex(ie.name)),ie.defaultTooltip&&L.push(oe)}VISUAL_DIMENSIONS.each(function(de,he){var pe=getOrCreateEncodeArr(g,he),_e=ie.otherDims[he];_e!=null&&_e!==!1&&(pe[_e]=ie.name)})});var z=[],j={};y.each(function(oe,ie){var le=g[ie];j[ie]=le[0],z=z.concat(le)}),r.dataDimsOnCoord=z,r.dataDimIndicesOnCoord=map$1(z,function(oe){return t.getDimensionInfo(oe).storeDimIndex}),r.encodeFirstDimNotExtra=j;var re=g.label;re&&re.length&&($=re.slice());var ae=g.tooltip;return ae&&ae.length?L=ae.slice():L.length||(L=$.slice()),g.defaultedLabel=$,g.defaultedTooltip=L,r.userOutput=new DimensionUserOuput(V,n),r}function getOrCreateEncodeArr(t,n){return t.hasOwnProperty(n)||(t[n]=[]),t[n]}function getDimensionTypeByAxis(t){return t==="category"?"ordinal":t==="time"?"time":"float"}function mayLabelDimType(t){return!(t==="ordinal"||t==="time")}var SeriesDimensionDefine=function(){function t(n){this.otherDims={},n!=null&&extend(this,n)}return t}(),inner$h=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function t(n){this.dimensions=n.dimensions,this._dimOmitted=n.dimensionOmitted,this.source=n.source,this._fullDimCount=n.fullDimensionCount,this._updateDimOmitted(n.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(n){this._dimOmitted=n,n&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},t.prototype.getSourceDimensionIndex=function(n){return retrieve2(this._dimNameMap.get(n),-1)},t.prototype.getSourceDimension=function(n){var r=this.source.dimensionsDefine;if(r)return r[n]},t.prototype.makeStoreSchema=function(){for(var n=this._fullDimCount,r=shouldRetrieveDataByName(this.source),g=!shouldOmitUnusedDimensions(n),y="",$=[],L=0,V=0;L<n;L++){var z=void 0,j=void 0,re=void 0,ae=this.dimensions[V];if(ae&&ae.storeDimIndex===L)z=r?ae.name:null,j=ae.type,re=ae.ordinalMeta,V++;else{var oe=this.getSourceDimension(L);oe&&(z=r?oe.name:null,j=oe.type)}$.push({property:z,type:j,ordinalMeta:re}),r&&z!=null&&(!ae||!ae.isCalculationCoord)&&(y+=g?z.replace(/\`/g,"`1").replace(/\$/g,"`2"):z),y+="$",y+=dimTypeShort[j]||"f",re&&(y+=re.uid),y+="$"}var ie=this.source,le=[ie.seriesLayoutBy,ie.startIndex,y].join("$$");return{dimensions:$,hash:le}},t.prototype.makeOutputDimensionNames=function(){for(var n=[],r=0,g=0;r<this._fullDimCount;r++){var y=void 0,$=this.dimensions[g];if($&&$.storeDimIndex===r)$.isCalculationCoord||(y=$.name),g++;else{var L=this.getSourceDimension(r);L&&(y=L.name)}n.push(y)}return n},t.prototype.appendCalculationDimension=function(n){this.dimensions.push(n),n.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function isSeriesDataSchema(t){return t instanceof SeriesDataSchema}function createDimNameMap(t){for(var n=createHashMap(),r=0;r<(t||[]).length;r++){var g=t[r],y=isObject$3(g)?g.name:g;y!=null&&n.get(y)==null&&n.set(y,r)}return n}function ensureSourceDimNameMap(t){var n=inner$h(t);return n.dimNameMap||(n.dimNameMap=createDimNameMap(t.dimensionsDefine))}function shouldOmitUnusedDimensions(t){return t>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function t(n,r){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","minmaxDownSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","minmaxDownSample","lttbDownSample"];var g,y=!1;isSeriesDataSchema(n)?(g=n.dimensions,this._dimOmitted=n.isDimensionOmitted(),this._schema=n):(y=!0,g=n),g=g||["x","y"];for(var $={},L=[],V={},z=!1,j={},re=0;re<g.length;re++){var ae=g[re],oe=isString(ae)?new SeriesDimensionDefine({name:ae}):ae instanceof SeriesDimensionDefine?ae:new SeriesDimensionDefine(ae),ie=oe.name;oe.type=oe.type||"float",oe.coordDim||(oe.coordDim=ie,oe.coordDimIndex=0);var le=oe.otherDims=oe.otherDims||{};L.push(ie),$[ie]=oe,j[ie]!=null&&(z=!0),oe.createInvertedIndices&&(V[ie]=[]),le.itemName===0&&(this._nameDimIdx=re),le.itemId===0&&(this._idDimIdx=re),y&&(oe.storeDimIndex=re)}if(this.dimensions=L,this._dimInfos=$,this._initGetDimensionInfo(z),this.hostModel=r,this._invertedIndicesMap=V,this._dimOmitted){var ue=this._dimIdxToName=createHashMap();each$f(L,function(de){ue.set($[de].storeDimIndex,de)})}}return t.prototype.getDimension=function(n){var r=this._recognizeDimIndex(n);if(r==null)return n;if(r=n,!this._dimOmitted)return this.dimensions[r];var g=this._dimIdxToName.get(r);if(g!=null)return g;var y=this._schema.getSourceDimension(r);if(y)return y.name},t.prototype.getDimensionIndex=function(n){var r=this._recognizeDimIndex(n);if(r!=null)return r;if(n==null)return-1;var g=this._getDimInfo(n);return g?g.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(n):-1},t.prototype._recognizeDimIndex=function(n){if(isNumber(n)||n!=null&&!isNaN(n)&&!this._getDimInfo(n)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(n)<0))return+n},t.prototype._getStoreDimIndex=function(n){var r=this.getDimensionIndex(n);return r},t.prototype.getDimensionInfo=function(n){return this._getDimInfo(this.getDimension(n))},t.prototype._initGetDimensionInfo=function(n){var r=this._dimInfos;this._getDimInfo=n?function(g){return r.hasOwnProperty(g)?r[g]:void 0}:function(g){return r[g]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(n,r){var g=this._dimSummary;if(r==null)return g.encodeFirstDimNotExtra[n];var y=g.encode[n];return y?y[r]:null},t.prototype.mapDimensionsAll=function(n){var r=this._dimSummary,g=r.encode[n];return(g||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(n,r,g){var y=this,$;if(n instanceof DataStore&&($=n),!$){var L=this.dimensions,V=isSourceInstance(n)||isArrayLike(n)?new DefaultDataProvider(n,L.length):n;$=new DataStore;var z=map(L,function(j){return{type:y._dimInfos[j].type,property:j}});$.initData(V,z,g)}this._store=$,this._nameList=(r||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,$.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(n){var r=this._store.appendData(n);this._doInit(r[0],r[1])},t.prototype.appendValues=function(n,r){var g=this._store.appendValues(n,r&&r.length),y=g.start,$=g.end,L=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),r)for(var V=y;V<$;V++){var z=V-y;this._nameList[V]=r[z],L&&makeIdFromName(this,V)}},t.prototype._updateOrdinalMeta=function(){for(var n=this._store,r=this.dimensions,g=0;g<r.length;g++){var y=this._dimInfos[r[g]];y.ordinalMeta&&n.collectOrdinalMeta(y.storeDimIndex,y.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var n=this._store.getProvider();return this._idDimIdx==null&&n.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!n.fillStorage},t.prototype._doInit=function(n,r){if(!(n>=r)){var g=this._store,y=g.getProvider();this._updateOrdinalMeta();var $=this._nameList,L=this._idList,V=y.getSource().sourceFormat,z=V===SOURCE_FORMAT_ORIGINAL;if(z&&!y.pure)for(var j=[],re=n;re<r;re++){var ae=y.getItem(re,j);if(!this.hasItemOption&&isDataItemOption(ae)&&(this.hasItemOption=!0),ae){var oe=ae.name;$[re]==null&&oe!=null&&($[re]=convertOptionIdName(oe,null));var ie=ae.id;L[re]==null&&ie!=null&&(L[re]=convertOptionIdName(ie,null))}}if(this._shouldMakeIdFromName())for(var re=n;re<r;re++)makeIdFromName(this,re);prepareInvertedIndex(this)}},t.prototype.getApproximateExtent=function(n){return this._approximateExtent[n]||this._store.getDataExtent(this._getStoreDimIndex(n))},t.prototype.setApproximateExtent=function(n,r){r=this.getDimension(r),this._approximateExtent[r]=n.slice()},t.prototype.getCalculationInfo=function(n){return this._calculationInfo[n]},t.prototype.setCalculationInfo=function(n,r){isObject$1(n)?extend(this._calculationInfo,n):this._calculationInfo[n]=r},t.prototype.getName=function(n){var r=this.getRawIndex(n),g=this._nameList[r];return g==null&&this._nameDimIdx!=null&&(g=getIdNameFromStore(this,this._nameDimIdx,r)),g==null&&(g=""),g},t.prototype._getCategory=function(n,r){var g=this._store.get(n,r),y=this._store.getOrdinalMeta(n);return y?y.categories[g]:g},t.prototype.getId=function(n){return getId(this,this.getRawIndex(n))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(n,r){var g=this._store,y=this._dimInfos[n];if(y)return g.get(y.storeDimIndex,r)},t.prototype.getByRawIndex=function(n,r){var g=this._store,y=this._dimInfos[n];if(y)return g.getByRawIndex(y.storeDimIndex,r)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(n){return this._store.getDataExtent(this._getStoreDimIndex(n))},t.prototype.getSum=function(n){return this._store.getSum(this._getStoreDimIndex(n))},t.prototype.getMedian=function(n){return this._store.getMedian(this._getStoreDimIndex(n))},t.prototype.getValues=function(n,r){var g=this,y=this._store;return isArray$1(n)?y.getValues(map(n,function($){return g._getStoreDimIndex($)}),r):y.getValues(n)},t.prototype.hasValue=function(n){for(var r=this._dimSummary.dataDimIndicesOnCoord,g=0,y=r.length;g<y;g++)if(isNaN(this._store.get(r[g],n)))return!1;return!0},t.prototype.indexOfName=function(n){for(var r=0,g=this._store.count();r<g;r++)if(this.getName(r)===n)return r;return-1},t.prototype.getRawIndex=function(n){return this._store.getRawIndex(n)},t.prototype.indexOfRawIndex=function(n){return this._store.indexOfRawIndex(n)},t.prototype.rawIndexOf=function(n,r){var g=n&&this._invertedIndicesMap[n],y=g&&g[r];return y==null||isNaN(y)?INDEX_NOT_FOUND:y},t.prototype.indicesOfNearest=function(n,r,g){return this._store.indicesOfNearest(this._getStoreDimIndex(n),r,g)},t.prototype.each=function(n,r,g){isFunction(n)&&(g=r,r=n,n=[]);var y=g||this,$=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.each($,y?bind$1(r,y):r)},t.prototype.filterSelf=function(n,r,g){isFunction(n)&&(g=r,r=n,n=[]);var y=g||this,$=map(normalizeDimensions(n),this._getStoreDimIndex,this);return this._store=this._store.filter($,y?bind$1(r,y):r),this},t.prototype.selectRange=function(n){var r=this,g={},y=keys(n);return each$f(y,function($){var L=r._getStoreDimIndex($);g[L]=n[$]}),this._store=this._store.selectRange(g),this},t.prototype.mapArray=function(n,r,g){isFunction(n)&&(g=r,r=n,n=[]),g=g||this;var y=[];return this.each(n,function(){y.push(r&&r.apply(this,arguments))},g),y},t.prototype.map=function(n,r,g,y){var $=g||y||this,L=map(normalizeDimensions(n),this._getStoreDimIndex,this),V=cloneListForMapAndSample(this);return V._store=this._store.map(L,$?bind$1(r,$):r),V},t.prototype.modify=function(n,r,g,y){var $=g||y||this,L=map(normalizeDimensions(n),this._getStoreDimIndex,this);this._store.modify(L,$?bind$1(r,$):r)},t.prototype.downSample=function(n,r,g,y){var $=cloneListForMapAndSample(this);return $._store=this._store.downSample(this._getStoreDimIndex(n),r,g,y),$},t.prototype.minmaxDownSample=function(n,r){var g=cloneListForMapAndSample(this);return g._store=this._store.minmaxDownSample(this._getStoreDimIndex(n),r),g},t.prototype.lttbDownSample=function(n,r){var g=cloneListForMapAndSample(this);return g._store=this._store.lttbDownSample(this._getStoreDimIndex(n),r),g},t.prototype.getRawDataItem=function(n){return this._store.getRawDataItem(n)},t.prototype.getItemModel=function(n){var r=this.hostModel,g=this.getRawDataItem(n);return new Model(g,r,r&&r.ecModel)},t.prototype.diff=function(n){var r=this;return new DataDiffer(n?n.getStore().getIndices():[],this.getStore().getIndices(),function(g){return getId(n,g)},function(g){return getId(r,g)})},t.prototype.getVisual=function(n){var r=this._visual;return r&&r[n]},t.prototype.setVisual=function(n,r){this._visual=this._visual||{},isObject$1(n)?extend(this._visual,n):this._visual[n]=r},t.prototype.getItemVisual=function(n,r){var g=this._itemVisuals[n],y=g&&g[r];return y??this.getVisual(r)},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(n,r){var g=this._itemVisuals,y=g[n];y||(y=g[n]={});var $=y[r];return $==null&&($=this.getVisual(r),isArray$1($)?$=$.slice():isObject$1($)&&($=extend({},$)),y[r]=$),$},t.prototype.setItemVisual=function(n,r,g){var y=this._itemVisuals[n]||{};this._itemVisuals[n]=y,isObject$1(r)?extend(y,r):y[r]=g},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(n,r){isObject$1(n)?extend(this._layout,n):this._layout[n]=r},t.prototype.getLayout=function(n){return this._layout[n]},t.prototype.getItemLayout=function(n){return this._itemLayouts[n]},t.prototype.setItemLayout=function(n,r,g){this._itemLayouts[n]=g?extend(this._itemLayouts[n]||{},r):r},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(n,r){var g=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(g,this.dataType,n,r),this._graphicEls[n]=r},t.prototype.getItemGraphicEl=function(n){return this._graphicEls[n]},t.prototype.eachItemGraphicEl=function(n,r){each$f(this._graphicEls,function(g,y){g&&n&&n.call(r,g,y)})},t.prototype.cloneShallow=function(n){return n||(n=new t(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(n,this),n._store=this._store,n},t.prototype.wrapMethod=function(n,r){var g=this[n];isFunction(g)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(n),this[n]=function(){var y=g.apply(this,arguments);return r.apply(this,[y].concat(slice(arguments)))})},t.internalField=function(){prepareInvertedIndex=function(n){var r=n._invertedIndicesMap;each$f(r,function(g,y){var $=n._dimInfos[y],L=$.ordinalMeta,V=n._store;if(L){g=r[y]=new CtorInt32Array(L.categories.length);for(var z=0;z<g.length;z++)g[z]=INDEX_NOT_FOUND;for(var z=0;z<V.count();z++)g[V.get($.storeDimIndex,z)]=z}})},getIdNameFromStore=function(n,r,g){return convertOptionIdName(n._getCategory(r,g),null)},getId=function(n,r){var g=n._idList[r];return g==null&&n._idDimIdx!=null&&(g=getIdNameFromStore(n,n._idDimIdx,r)),g==null&&(g=ID_PREFIX+r),g},normalizeDimensions=function(n){return isArray$1(n)||(n=n!=null?[n]:[]),n},cloneListForMapAndSample=function(n){var r=new t(n._schema?n._schema:map(n.dimensions,n._getDimInfo,n),n.hostModel);return transferProperties(r,n),r},transferProperties=function(n,r){each$f(TRANSFERABLE_PROPERTIES.concat(r.__wrappedMethods||[]),function(g){r.hasOwnProperty(g)&&(n[g]=r[g])}),n.__wrappedMethods=r.__wrappedMethods,each$f(CLONE_PROPERTIES,function(g){n[g]=clone$4(r[g])}),n._calculationInfo=extend({},r._calculationInfo)},makeIdFromName=function(n,r){var g=n._nameList,y=n._idList,$=n._nameDimIdx,L=n._idDimIdx,V=g[r],z=y[r];if(V==null&&$!=null&&(g[r]=V=getIdNameFromStore(n,$,r)),z==null&&L!=null&&(y[r]=z=getIdNameFromStore(n,L,r)),z==null&&V!=null){var j=n._nameRepeatCount,re=j[V]=(j[V]||0)+1;z=V,re>1&&(z+="__ec__"+re),y[r]=z}}}(),t}();function prepareSeriesDataSchema(t,n){isSourceInstance(t)||(t=createSourceFromSeriesDataOption(t)),n=n||{};var r=n.coordDimensions||[],g=n.dimensionsDefine||t.dimensionsDefine||[],y=createHashMap(),$=[],L=getDimCount(t,r,g,n.dimensionsCount),V=n.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(L),z=g===t.dimensionsDefine,j=z?ensureSourceDimNameMap(t):createDimNameMap(g),re=n.encodeDefine;!re&&n.encodeDefaulter&&(re=n.encodeDefaulter(t,L));for(var ae=createHashMap(re),oe=new CtorInt32Array$1(L),ie=0;ie<oe.length;ie++)oe[ie]=-1;function le(Ne){var Fe=oe[Ne];if(Fe<0){var Ve=g[Ne],ze=isObject$3(Ve)?Ve:{name:Ve},Et=new SeriesDimensionDefine,Dt=ze.name;Dt!=null&&j.get(Dt)!=null&&(Et.name=Et.displayName=Dt),ze.type!=null&&(Et.type=ze.type),ze.displayName!=null&&(Et.displayName=ze.displayName);var Ue=$.length;return oe[Ne]=Ue,Et.storeDimIndex=Ne,$.push(Et),Et}return $[Fe]}if(!V)for(var ie=0;ie<L;ie++)le(ie);ae.each(function(Ne,Fe){var Ve=normalizeToArray(Ne).slice();if(Ve.length===1&&!isString(Ve[0])&&Ve[0]<0){ae.set(Fe,!1);return}var ze=ae.set(Fe,[]);each$f(Ve,function(Et,Dt){var Ue=isString(Et)?j.get(Et):Et;Ue!=null&&Ue<L&&(ze[Dt]=Ue,de(le(Ue),Fe,Dt))})});var ue=0;each$f(r,function(Ne){var Fe,Ve,ze,Et;if(isString(Ne))Fe=Ne,Et={};else{Et=Ne,Fe=Et.name;var Dt=Et.ordinalMeta;Et.ordinalMeta=null,Et=extend({},Et),Et.ordinalMeta=Dt,Ve=Et.dimsDef,ze=Et.otherDims,Et.name=Et.coordDim=Et.coordDimIndex=Et.dimsDef=Et.otherDims=null}var Ue=ae.get(Fe);if(Ue!==!1){if(Ue=normalizeToArray(Ue),!Ue.length)for(var qe=0;qe<(Ve&&Ve.length||1);qe++){for(;ue<L&&le(ue).coordDim!=null;)ue++;ue<L&&Ue.push(ue++)}each$f(Ue,function(Lt,Pt){var At=le(Lt);if(z&&Et.type!=null&&(At.type=Et.type),de(defaults(At,Et),Fe,Pt),At.name==null&&Ve){var vn=Ve[Pt];!isObject$3(vn)&&(vn={name:vn}),At.name=At.displayName=vn.name,At.defaultTooltip=vn.defaultTooltip}ze&&defaults(At.otherDims,ze)})}});function de(Ne,Fe,Ve){VISUAL_DIMENSIONS.get(Fe)!=null?Ne.otherDims[Fe]=Ve:(Ne.coordDim=Fe,Ne.coordDimIndex=Ve,y.set(Fe,!0))}var he=n.generateCoord,pe=n.generateCoordCount,_e=pe!=null;pe=he?pe||1:0;var Ce=he||"value";function xe(Ne){Ne.name==null&&(Ne.name=Ne.coordDim)}if(V)each$f($,function(Ne){xe(Ne)}),$.sort(function(Ne,Fe){return Ne.storeDimIndex-Fe.storeDimIndex});else for(var Ie=0;Ie<L;Ie++){var $e=le(Ie),Oe=$e.coordDim;Oe==null&&($e.coordDim=genCoordDimName(Ce,y,_e),$e.coordDimIndex=0,(!he||pe<=0)&&($e.isExtraCoord=!0),pe--),xe($e),$e.type==null&&(guessOrdinal(t,Ie)===BE_ORDINAL.Must||$e.isExtraCoord&&($e.otherDims.itemName!=null||$e.otherDims.seriesName!=null))&&($e.type="ordinal")}return removeDuplication($),new SeriesDataSchema({source:t,dimensions:$,fullDimensionCount:L,dimensionOmitted:V})}function removeDuplication(t){for(var n=createHashMap(),r=0;r<t.length;r++){var g=t[r],y=g.name,$=n.get(y)||0;$>0&&(g.name=y+($-1)),$++,n.set(y,$)}}function getDimCount(t,n,r,g){var y=Math.max(t.dimensionsDetectedCount||1,n.length,r.length,g||0);return each$f(n,function($){var L;isObject$3($)&&(L=$.dimsDef)&&(y=Math.max(y,L.length))}),y}function genCoordDimName(t,n,r){if(r||n.hasKey(t)){for(var g=0;n.hasKey(t+g);)g++;t+=g}return n.set(t,!0),t}var CoordSysInfo=function(){function t(n){this.coordSysDims=[],this.axisMap=createHashMap(),this.categoryAxisMap=createHashMap(),this.coordSysName=n}return t}();function getCoordSysInfoBySeries(t){var n=t.get("coordinateSystem"),r=new CoordSysInfo(n),g=fetchers[n];if(g)return g(t,r,r.axisMap,r.categoryAxisMap),r}var fetchers={cartesian2d:function(t,n,r,g){var y=t.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],$=t.getReferringComponents("yAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["x","y"],r.set("x",y),r.set("y",$),isCategory(y)&&(g.set("x",y),n.firstCategoryDimIndex=0),isCategory($)&&(g.set("y",$),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},singleAxis:function(t,n,r,g){var y=t.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];n.coordSysDims=["single"],r.set("single",y),isCategory(y)&&(g.set("single",y),n.firstCategoryDimIndex=0)},polar:function(t,n,r,g){var y=t.getReferringComponents("polar",SINGLE_REFERRING).models[0],$=y.findAxisModel("radiusAxis"),L=y.findAxisModel("angleAxis");n.coordSysDims=["radius","angle"],r.set("radius",$),r.set("angle",L),isCategory($)&&(g.set("radius",$),n.firstCategoryDimIndex=0),isCategory(L)&&(g.set("angle",L),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=1))},geo:function(t,n,r,g){n.coordSysDims=["lng","lat"]},parallel:function(t,n,r,g){var y=t.ecModel,$=y.getComponent("parallel",t.get("parallelIndex")),L=n.coordSysDims=$.dimensions.slice();each$f($.parallelAxisIndex,function(V,z){var j=y.getComponent("parallelAxis",V),re=L[z];r.set(re,j),isCategory(j)&&(g.set(re,j),n.firstCategoryDimIndex==null&&(n.firstCategoryDimIndex=z))})}};function isCategory(t){return t.get("type")==="category"}function enableDataStack(t,n,r){r=r||{};var g=r.byIndex,y=r.stackedCoordDimension,$,L,V;isLegacyDimensionsInput(n)?$=n:(L=n.schema,$=L.dimensions,V=n.store);var z=!!(t&&t.get("stack")),j,re,ae,oe;if(each$f($,function(pe,_e){isString(pe)&&($[_e]=pe={name:pe}),z&&!pe.isExtraCoord&&(!g&&!j&&pe.ordinalMeta&&(j=pe),!re&&pe.type!=="ordinal"&&pe.type!=="time"&&(!y||y===pe.coordDim)&&(re=pe))}),re&&!g&&!j&&(g=!0),re){ae="__\0ecstackresult_"+t.id,oe="__\0ecstackedover_"+t.id,j&&(j.createInvertedIndices=!0);var ie=re.coordDim,le=re.type,ue=0;each$f($,function(pe){pe.coordDim===ie&&ue++});var de={name:ae,coordDim:ie,coordDimIndex:ue,type:le,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:$.length},he={name:oe,coordDim:oe,coordDimIndex:ue+1,type:le,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:$.length+1};L?(V&&(de.storeDimIndex=V.ensureCalculationDimension(oe,le),he.storeDimIndex=V.ensureCalculationDimension(ae,le)),L.appendCalculationDimension(de),L.appendCalculationDimension(he)):($.push(de),$.push(he))}return{stackedDimension:re&&re.name,stackedByDimension:j&&j.name,isStackedByIndex:g,stackedOverDimension:oe,stackResultDimension:ae}}function isLegacyDimensionsInput(t){return!isSeriesDataSchema(t.schema)}function isDimensionStacked(t,n){return!!n&&n===t.getCalculationInfo("stackedDimension")}function getStackedDimension(t,n){return isDimensionStacked(t,n)?t.getCalculationInfo("stackResultDimension"):n}function getCoordSysDimDefs(t,n){var r=t.get("coordinateSystem"),g=CoordinateSystemManager.get(r),y;return n&&n.coordSysDims&&(y=map$1(n.coordSysDims,function($){var L={name:$},V=n.axisMap.get($);if(V){var z=V.get("type");L.type=getDimensionTypeByAxis(z)}return L})),y||(y=g&&(g.getDimensionsInfo?g.getDimensionsInfo():g.dimensions.slice())||["x","y"]),y}function injectOrdinalMeta(t,n,r){var g,y;return r&&each$f(t,function($,L){var V=$.coordDim,z=r.categoryAxisMap.get(V);z&&(g==null&&(g=L),$.ordinalMeta=z.getOrdinalMeta(),n&&($.createInvertedIndices=!0)),$.otherDims.itemName!=null&&(y=!0)}),!y&&g!=null&&(t[g].otherDims.itemName=0),g}function createSeriesData(t,n,r){r=r||{};var g=n.getSourceManager(),y,$=!1;t?($=!0,y=createSourceFromSeriesDataOption(t)):(y=g.getSource(),$=y.sourceFormat===SOURCE_FORMAT_ORIGINAL);var L=getCoordSysInfoBySeries(n),V=getCoordSysDimDefs(n,L),z=r.useEncodeDefaulter,j=isFunction(z)?z:z?curry$1(makeSeriesEncodeForAxisCoordSys,V,n):null,re={coordDimensions:V,generateCoord:r.generateCoord,encodeDefine:n.getEncode(),encodeDefaulter:j,canOmitUnusedDimensions:!$},ae=prepareSeriesDataSchema(y,re),oe=injectOrdinalMeta(ae.dimensions,r.createInvertedIndices,L),ie=$?null:g.getSharedDataStore(ae),le=enableDataStack(n,{schema:ae,store:ie}),ue=new SeriesData(ae,n);ue.setCalculationInfo(le);var de=oe!=null&&isNeedCompleteOrdinalData(y)?function(he,pe,_e,Ce){return Ce===oe?_e:this.defaultDimValueGetter(he,pe,_e,Ce)}:null;return ue.hasItemOption=!1,ue.initData($?y:ie,null,de),ue}function isNeedCompleteOrdinalData(t){if(t.sourceFormat===SOURCE_FORMAT_ORIGINAL){var n=firstDataNotNull(t.data||[]);return!isArray$1(getDataItemValue(n))}}function firstDataNotNull(t){for(var n=0;n<t.length&&t[n]==null;)n++;return t[n]}var Scale=function(){function t(n){this._setting=n||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(n){return this._setting[n]},t.prototype.unionExtent=function(n){var r=this._extent;n[0]<r[0]&&(r[0]=n[0]),n[1]>r[1]&&(r[1]=n[1])},t.prototype.unionExtentFromData=function(n,r){this.unionExtent(n.getApproximateExtent(r))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(n,r){var g=this._extent;isNaN(n)||(g[0]=n),isNaN(r)||(g[1]=r)},t.prototype.isInExtentRange=function(n){return this._extent[0]<=n&&this._extent[1]>=n},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(n){this._isBlank=n},t}();enableClassManagement(Scale);var uidBase=0,OrdinalMeta=function(){function t(n){this.categories=n.categories||[],this._needCollect=n.needCollect,this._deduplication=n.deduplication,this.uid=++uidBase}return t.createByAxisModel=function(n){var r=n.option,g=r.data,y=g&&map$1(g,getName);return new t({categories:y,needCollect:!y,deduplication:r.dedplication!==!1})},t.prototype.getOrdinal=function(n){return this._getOrCreateMap().get(n)},t.prototype.parseAndCollect=function(n){var r,g=this._needCollect;if(!isString(n)&&!g)return n;if(g&&!this._deduplication)return r=this.categories.length,this.categories[r]=n,r;var y=this._getOrCreateMap();return r=y.get(n),r==null&&(g?(r=this.categories.length,this.categories[r]=n,y.set(n,r)):r=NaN),r},t.prototype._getOrCreateMap=function(){return this._map||(this._map=createHashMap(this.categories))},t}();function getName(t){return isObject$3(t)&&t.value!=null?t.value:t+""}function isIntervalOrLogScale(t){return t.type==="interval"||t.type==="log"}function intervalScaleNiceTicks(t,n,r,g){var y={},$=t[1]-t[0],L=y.interval=nice($/n);r!=null&&L<r&&(L=y.interval=r),g!=null&&L>g&&(L=y.interval=g);var V=y.intervalPrecision=getIntervalPrecision(L),z=y.niceTickExtent=[round$3(Math.ceil(t[0]/L)*L,V),round$3(Math.floor(t[1]/L)*L,V)];return fixExtent(z,t),y}function increaseInterval(t){var n=Math.pow(10,quantityExponent(t)),r=t/n;return r?r===2?r=3:r===3?r=5:r*=2:r=1,round$3(r*n)}function getIntervalPrecision(t){return getPrecision(t)+2}function clamp(t,n,r){t[n]=Math.max(Math.min(t[n],r[1]),r[0])}function fixExtent(t,n){!isFinite(t[0])&&(t[0]=n[0]),!isFinite(t[1])&&(t[1]=n[1]),clamp(t,0,n),clamp(t,1,n),t[0]>t[1]&&(t[0]=t[1])}function contain$1(t,n){return t>=n[0]&&t<=n[1]}function normalize$2(t,n){return n[1]===n[0]?.5:(t-n[0])/(n[1]-n[0])}function scale(t,n){return t*(n[1]-n[0])+n[0]}var OrdinalScale=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;g.type="ordinal";var y=g.getSetting("ordinalMeta");return y||(y=new OrdinalMeta({})),isArray$1(y)&&(y=new OrdinalMeta({categories:map$1(y,function($){return isObject$3($)?$.value:$})})),g._ordinalMeta=y,g._extent=g.getSetting("extent")||[0,y.categories.length-1],g}return n.prototype.parse=function(r){return r==null?NaN:isString(r)?this._ordinalMeta.getOrdinal(r):Math.round(r)},n.prototype.contain=function(r){return r=this.parse(r),contain$1(r,this._extent)&&this._ordinalMeta.categories[r]!=null},n.prototype.normalize=function(r){return r=this._getTickNumber(this.parse(r)),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=Math.round(scale(r,this._extent)),this.getRawOrdinalNumber(r)},n.prototype.getTicks=function(){for(var r=[],g=this._extent,y=g[0];y<=g[1];)r.push({value:y}),y++;return r},n.prototype.getMinorTicks=function(r){},n.prototype.setSortInfo=function(r){if(r==null){this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null;return}for(var g=r.ordinalNumbers,y=this._ordinalNumbersByTick=[],$=this._ticksByOrdinalNumber=[],L=0,V=this._ordinalMeta.categories.length,z=Math.min(V,g.length);L<z;++L){var j=g[L];y[L]=j,$[j]=L}for(var re=0;L<V;++L){for(;$[re]!=null;)re++;y.push(re),$[re]=L}},n.prototype._getTickNumber=function(r){var g=this._ticksByOrdinalNumber;return g&&r>=0&&r<g.length?g[r]:r},n.prototype.getRawOrdinalNumber=function(r){var g=this._ordinalNumbersByTick;return g&&r>=0&&r<g.length?g[r]:r},n.prototype.getLabel=function(r){if(!this.isBlank()){var g=this.getRawOrdinalNumber(r.value),y=this._ordinalMeta.categories[g];return y==null?"":y+""}},n.prototype.count=function(){return this._extent[1]-this._extent[0]+1},n.prototype.unionExtentFromData=function(r,g){this.unionExtent(r.getApproximateExtent(g))},n.prototype.isInExtentRange=function(r){return r=this._getTickNumber(r),this._extent[0]<=r&&this._extent[1]>=r},n.prototype.getOrdinalMeta=function(){return this._ordinalMeta},n.prototype.calcNiceTicks=function(){},n.prototype.calcNiceExtent=function(){},n.type="ordinal",n}(Scale);Scale.registerClass(OrdinalScale);var roundNumber=round$3,IntervalScale=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="interval",r._interval=0,r._intervalPrecision=2,r}return n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return contain$1(r,this._extent)},n.prototype.normalize=function(r){return normalize$2(r,this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.prototype.setExtent=function(r,g){var y=this._extent;isNaN(r)||(y[0]=parseFloat(r)),isNaN(g)||(y[1]=parseFloat(g))},n.prototype.unionExtent=function(r){var g=this._extent;r[0]<g[0]&&(g[0]=r[0]),r[1]>g[1]&&(g[1]=r[1]),this.setExtent(g[0],g[1])},n.prototype.getInterval=function(){return this._interval},n.prototype.setInterval=function(r){this._interval=r,this._niceExtent=this._extent.slice(),this._intervalPrecision=getIntervalPrecision(r)},n.prototype.getTicks=function(r){var g=this._interval,y=this._extent,$=this._niceExtent,L=this._intervalPrecision,V=[];if(!g)return V;var z=1e4;y[0]<$[0]&&(r?V.push({value:roundNumber($[0]-g,L)}):V.push({value:y[0]}));for(var j=$[0];j<=$[1]&&(V.push({value:j}),j=roundNumber(j+g,L),j!==V[V.length-1].value);)if(V.length>z)return[];var re=V.length?V[V.length-1].value:$[1];return y[1]>re&&(r?V.push({value:roundNumber(re+g,L)}):V.push({value:y[1]})),V},n.prototype.getMinorTicks=function(r){for(var g=this.getTicks(!0),y=[],$=this.getExtent(),L=1;L<g.length;L++){for(var V=g[L],z=g[L-1],j=0,re=[],ae=V.value-z.value,oe=ae/r;j<r-1;){var ie=roundNumber(z.value+(j+1)*oe);ie>$[0]&&ie<$[1]&&re.push(ie),j++}y.push(re)}return y},n.prototype.getLabel=function(r,g){if(r==null)return"";var y=g&&g.precision;y==null?y=getPrecision(r.value)||0:y==="auto"&&(y=this._intervalPrecision);var $=roundNumber(r.value,y,!0);return addCommas($)},n.prototype.calcNiceTicks=function(r,g,y){r=r||5;var $=this._extent,L=$[1]-$[0];if(isFinite(L)){L<0&&(L=-L,$.reverse());var V=intervalScaleNiceTicks($,r,g,y);this._intervalPrecision=V.intervalPrecision,this._interval=V.interval,this._niceExtent=V.niceTickExtent}},n.prototype.calcNiceExtent=function(r){var g=this._extent;if(g[0]===g[1])if(g[0]!==0){var y=Math.abs(g[0]);r.fixMax||(g[1]+=y/2),g[0]-=y/2}else g[1]=1;var $=g[1]-g[0];isFinite($)||(g[0]=0,g[1]=1),this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval);var L=this._interval;r.fixMin||(g[0]=roundNumber(Math.floor(g[0]/L)*L)),r.fixMax||(g[1]=roundNumber(Math.ceil(g[1]/L)*L))},n.prototype.setNiceExtent=function(r,g){this._niceExtent=[r,g]},n.type="interval",n}(Scale);Scale.registerClass(IntervalScale);var supportFloat32Array=typeof Float32Array<"u",Float32ArrayCtor=supportFloat32Array?Float32Array:Array;function createFloat32Array(t){return isArray$1(t)?supportFloat32Array?new Float32Array(t):t:new Float32ArrayCtor(t)}var STACK_PREFIX="__ec_stack_";function getSeriesStackId$1(t){return t.get("stack")||STACK_PREFIX+t.seriesIndex}function getAxisKey$1(t){return t.dim+t.index}function getLayoutOnAxis(t){var n=[],r=t.axis,g="axis0";if(r.type==="category"){for(var y=r.getBandWidth(),$=0;$<t.count;$++)n.push(defaults({bandWidth:y,axisKey:g,stackId:STACK_PREFIX+$},t));for(var L=doCalBarWidthAndOffset(n),V=[],$=0;$<t.count;$++){var z=L[g][STACK_PREFIX+$];z.offsetCenter=z.offset+z.width/2,V.push(z)}return V}}function prepareLayoutBarSeries(t,n){var r=[];return n.eachSeriesByType(t,function(g){isOnCartesian(g)&&r.push(g)}),r}function getValueAxesMinGaps(t){var n={};each$f(t,function(z){var j=z.coordinateSystem,re=j.getBaseAxis();if(!(re.type!=="time"&&re.type!=="value"))for(var ae=z.getData(),oe=re.dim+"_"+re.index,ie=ae.getDimensionIndex(ae.mapDimension(re.dim)),le=ae.getStore(),ue=0,de=le.count();ue<de;++ue){var he=le.get(ie,ue);n[oe]?n[oe].push(he):n[oe]=[he]}});var r={};for(var g in n)if(n.hasOwnProperty(g)){var y=n[g];if(y){y.sort(function(z,j){return z-j});for(var $=null,L=1;L<y.length;++L){var V=y[L]-y[L-1];V>0&&($=$===null?V:Math.min($,V))}r[g]=$}}return r}function makeColumnLayout(t){var n=getValueAxesMinGaps(t),r=[];return each$f(t,function(g){var y=g.coordinateSystem,$=y.getBaseAxis(),L=$.getExtent(),V;if($.type==="category")V=$.getBandWidth();else if($.type==="value"||$.type==="time"){var z=$.dim+"_"+$.index,j=n[z],re=Math.abs(L[1]-L[0]),ae=$.scale.getExtent(),oe=Math.abs(ae[1]-ae[0]);V=j?re/oe*j:re}else{var ie=g.getData();V=Math.abs(L[1]-L[0])/ie.count()}var le=parsePercent(g.get("barWidth"),V),ue=parsePercent(g.get("barMaxWidth"),V),de=parsePercent(g.get("barMinWidth")||(isInLargeMode(g)?.5:1),V),he=g.get("barGap"),pe=g.get("barCategoryGap");r.push({bandWidth:V,barWidth:le,barMaxWidth:ue,barMinWidth:de,barGap:he,barCategoryGap:pe,axisKey:getAxisKey$1($),stackId:getSeriesStackId$1(g)})}),doCalBarWidthAndOffset(r)}function doCalBarWidthAndOffset(t){var n={};each$f(t,function(g,y){var $=g.axisKey,L=g.bandWidth,V=n[$]||{bandWidth:L,remainedWidth:L,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},z=V.stacks;n[$]=V;var j=g.stackId;z[j]||V.autoWidthCount++,z[j]=z[j]||{width:0,maxWidth:0};var re=g.barWidth;re&&!z[j].width&&(z[j].width=re,re=Math.min(V.remainedWidth,re),V.remainedWidth-=re);var ae=g.barMaxWidth;ae&&(z[j].maxWidth=ae);var oe=g.barMinWidth;oe&&(z[j].minWidth=oe);var ie=g.barGap;ie!=null&&(V.gap=ie);var le=g.barCategoryGap;le!=null&&(V.categoryGap=le)});var r={};return each$f(n,function(g,y){r[y]={};var $=g.stacks,L=g.bandWidth,V=g.categoryGap;if(V==null){var z=keys($).length;V=Math.max(35-z*4,15)+"%"}var j=parsePercent(V,L),re=parsePercent(g.gap,1),ae=g.remainedWidth,oe=g.autoWidthCount,ie=(ae-j)/(oe+(oe-1)*re);ie=Math.max(ie,0),each$f($,function(he){var pe=he.maxWidth,_e=he.minWidth;if(he.width){var Ce=he.width;pe&&(Ce=Math.min(Ce,pe)),_e&&(Ce=Math.max(Ce,_e)),he.width=Ce,ae-=Ce+re*Ce,oe--}else{var Ce=ie;pe&&pe<Ce&&(Ce=Math.min(pe,ae)),_e&&_e>Ce&&(Ce=_e),Ce!==ie&&(he.width=Ce,ae-=Ce+re*Ce,oe--)}}),ie=(ae-j)/(oe+(oe-1)*re),ie=Math.max(ie,0);var le=0,ue;each$f($,function(he,pe){he.width||(he.width=ie),ue=he,le+=he.width*(1+re)}),ue&&(le-=ue.width*re);var de=-le/2;each$f($,function(he,pe){r[y][pe]=r[y][pe]||{bandWidth:L,offset:de,width:he.width},de+=he.width*(1+re)})}),r}function retrieveColumnLayout(t,n,r){if(t&&n){var g=t[getAxisKey$1(n)];return g}}function layout$3(t,n){var r=prepareLayoutBarSeries(t,n),g=makeColumnLayout(r);each$f(r,function(y){var $=y.getData(),L=y.coordinateSystem,V=L.getBaseAxis(),z=getSeriesStackId$1(y),j=g[getAxisKey$1(V)][z],re=j.offset,ae=j.width;$.setLayout({bandWidth:j.bandWidth,offset:re,size:ae})})}function createProgressiveLayout(t){return{seriesType:t,plan:createRenderPlanner(),reset:function(n){if(isOnCartesian(n)){var r=n.getData(),g=n.coordinateSystem,y=g.getBaseAxis(),$=g.getOtherAxis(y),L=r.getDimensionIndex(r.mapDimension($.dim)),V=r.getDimensionIndex(r.mapDimension(y.dim)),z=n.get("showBackground",!0),j=r.mapDimension($.dim),re=r.getCalculationInfo("stackResultDimension"),ae=isDimensionStacked(r,j)&&!!r.getCalculationInfo("stackedOnSeries"),oe=$.isHorizontal(),ie=getValueAxisStart(y,$),le=isInLargeMode(n),ue=n.get("barMinHeight")||0,de=re&&r.getDimensionIndex(re),he=r.getLayout("size"),pe=r.getLayout("offset");return{progress:function(_e,Ce){for(var xe=_e.count,Ie=le&&createFloat32Array(xe*3),$e=le&&z&&createFloat32Array(xe*3),Oe=le&&createFloat32Array(xe),Ne=g.master.getRect(),Fe=oe?Ne.width:Ne.height,Ve,ze=Ce.getStore(),Et=0;(Ve=_e.next())!=null;){var Dt=ze.get(ae?de:L,Ve),Ue=ze.get(V,Ve),qe=ie,Lt=void 0;ae&&(Lt=+Dt-ze.get(L,Ve));var Pt=void 0,At=void 0,vn=void 0,En=void 0;if(oe){var Sn=g.dataToPoint([Dt,Ue]);if(ae){var kt=g.dataToPoint([Lt,Ue]);qe=kt[0]}Pt=qe,At=Sn[1]+pe,vn=Sn[0]-qe,En=he,Math.abs(vn)<ue&&(vn=(vn<0?-1:1)*ue)}else{var Sn=g.dataToPoint([Ue,Dt]);if(ae){var kt=g.dataToPoint([Ue,Lt]);qe=kt[1]}Pt=Sn[0]+pe,At=qe,vn=he,En=Sn[1]-qe,Math.abs(En)<ue&&(En=(En<=0?-1:1)*ue)}le?(Ie[Et]=Pt,Ie[Et+1]=At,Ie[Et+2]=oe?vn:En,$e&&($e[Et]=oe?Ne.x:Pt,$e[Et+1]=oe?At:Ne.y,$e[Et+2]=Fe),Oe[Ve]=Ve):Ce.setItemLayout(Ve,{x:Pt,y:At,width:vn,height:En}),Et+=3}le&&Ce.setLayout({largePoints:Ie,largeDataIndices:Oe,largeBackgroundPoints:$e,valueAxisHorizontal:oe})}}}}}}function isOnCartesian(t){return t.coordinateSystem&&t.coordinateSystem.type==="cartesian2d"}function isInLargeMode(t){return t.pipelineContext&&t.pipelineContext.large}function getValueAxisStart(t,n){var r=n.model.get("startValue");return r||(r=0),n.toGlobalCoord(n.dataToCoord(n.type==="log"?r>0?r:1:r))}var bisect=function(t,n,r,g){for(;r<g;){var y=r+g>>>1;t[y][1]<n?r=y+1:g=y}return r},TimeScale=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="time",g}return n.prototype.getLabel=function(r){var g=this.getSetting("useUTC");return format(r.value,fullLeveledFormatter[getDefaultFormatPrecisionOfInterval(getPrimaryTimeUnit(this._minLevelUnit))]||fullLeveledFormatter.second,g,this.getSetting("locale"))},n.prototype.getFormattedLabel=function(r,g,y){var $=this.getSetting("useUTC"),L=this.getSetting("locale");return leveledFormat(r,g,y,L,$)},n.prototype.getTicks=function(){var r=this._interval,g=this._extent,y=[];if(!r)return y;y.push({value:g[0],level:0});var $=this.getSetting("useUTC"),L=getIntervalTicks(this._minLevelUnit,this._approxInterval,$,g);return y=y.concat(L),y.push({value:g[1],level:0}),y},n.prototype.calcNiceExtent=function(r){var g=this._extent;if(g[0]===g[1]&&(g[0]-=ONE_DAY,g[1]+=ONE_DAY),g[1]===-1/0&&g[0]===1/0){var y=new Date;g[1]=+new Date(y.getFullYear(),y.getMonth(),y.getDate()),g[0]=g[1]-ONE_DAY}this.calcNiceTicks(r.splitNumber,r.minInterval,r.maxInterval)},n.prototype.calcNiceTicks=function(r,g,y){r=r||10;var $=this._extent,L=$[1]-$[0];this._approxInterval=L/r,g!=null&&this._approxInterval<g&&(this._approxInterval=g),y!=null&&this._approxInterval>y&&(this._approxInterval=y);var V=scaleIntervals.length,z=Math.min(bisect(scaleIntervals,this._approxInterval,0,V),V-1);this._interval=scaleIntervals[z][1],this._minLevelUnit=scaleIntervals[Math.max(z-1,0)][0]},n.prototype.parse=function(r){return isNumber(r)?r:+parseDate(r)},n.prototype.contain=function(r){return contain$1(this.parse(r),this._extent)},n.prototype.normalize=function(r){return normalize$2(this.parse(r),this._extent)},n.prototype.scale=function(r){return scale(r,this._extent)},n.type="time",n}(IntervalScale),scaleIntervals=[["second",ONE_SECOND],["minute",ONE_MINUTE],["hour",ONE_HOUR],["quarter-day",ONE_HOUR*6],["half-day",ONE_HOUR*12],["day",ONE_DAY*1.2],["half-week",ONE_DAY*3.5],["week",ONE_DAY*7],["month",ONE_DAY*31],["quarter",ONE_DAY*95],["half-year",ONE_YEAR/2],["year",ONE_YEAR]];function isUnitValueSame(t,n,r,g){var y=parseDate(n),$=parseDate(r),L=function(le){return getUnitValue(y,le,g)===getUnitValue($,le,g)},V=function(){return L("year")},z=function(){return V()&&L("month")},j=function(){return z()&&L("day")},re=function(){return j()&&L("hour")},ae=function(){return re()&&L("minute")},oe=function(){return ae()&&L("second")},ie=function(){return oe()&&L("millisecond")};switch(t){case"year":return V();case"month":return z();case"day":return j();case"hour":return re();case"minute":return ae();case"second":return oe();case"millisecond":return ie()}}function getDateInterval(t,n){return t/=ONE_DAY,t>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function getMonthInterval(t){var n=30*ONE_DAY;return t/=n,t>6?6:t>3?3:t>2?2:1}function getHourInterval(t){return t/=ONE_HOUR,t>12?12:t>6?6:t>3.5?4:t>2?2:1}function getMinutesAndSecondsInterval(t,n){return t/=n?ONE_MINUTE:ONE_SECOND,t>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function getMillisecondsInterval(t){return nice(t)}function getFirstTimestampOfUnit(t,n,r){var g=new Date(t);switch(getPrimaryTimeUnit(n)){case"year":case"month":g[monthSetterName(r)](0);case"day":g[dateSetterName(r)](1);case"hour":g[hoursSetterName(r)](0);case"minute":g[minutesSetterName(r)](0);case"second":g[secondsSetterName(r)](0),g[millisecondsSetterName(r)](0)}return g.getTime()}function getIntervalTicks(t,n,r,g){var y=1e4,$=timeUnits,L=0;function V(Fe,Ve,ze,Et,Dt,Ue,qe){for(var Lt=new Date(Ve),Pt=Ve,At=Lt[Et]();Pt<ze&&Pt<=g[1];)qe.push({value:Pt}),At+=Fe,Lt[Dt](At),Pt=Lt.getTime();qe.push({value:Pt,notAdd:!0})}function z(Fe,Ve,ze){var Et=[],Dt=!Ve.length;if(!isUnitValueSame(getPrimaryTimeUnit(Fe),g[0],g[1],r)){Dt&&(Ve=[{value:getFirstTimestampOfUnit(new Date(g[0]),Fe,r)},{value:g[1]}]);for(var Ue=0;Ue<Ve.length-1;Ue++){var qe=Ve[Ue].value,Lt=Ve[Ue+1].value;if(qe!==Lt){var Pt=void 0,At=void 0,vn=void 0,En=!1;switch(Fe){case"year":Pt=Math.max(1,Math.round(n/ONE_DAY/365)),At=fullYearGetterName(r),vn=fullYearSetterName(r);break;case"half-year":case"quarter":case"month":Pt=getMonthInterval(n),At=monthGetterName(r),vn=monthSetterName(r);break;case"week":case"half-week":case"day":Pt=getDateInterval(n),At=dateGetterName(r),vn=dateSetterName(r),En=!0;break;case"half-day":case"quarter-day":case"hour":Pt=getHourInterval(n),At=hoursGetterName(r),vn=hoursSetterName(r);break;case"minute":Pt=getMinutesAndSecondsInterval(n,!0),At=minutesGetterName(r),vn=minutesSetterName(r);break;case"second":Pt=getMinutesAndSecondsInterval(n,!1),At=secondsGetterName(r),vn=secondsSetterName(r);break;case"millisecond":Pt=getMillisecondsInterval(n),At=millisecondsGetterName(r),vn=millisecondsSetterName(r);break}V(Pt,qe,Lt,At,vn,En,Et),Fe==="year"&&ze.length>1&&Ue===0&&ze.unshift({value:ze[0].value-Pt})}}for(var Ue=0;Ue<Et.length;Ue++)ze.push(Et[Ue]);return Et}}for(var j=[],re=[],ae=0,oe=0,ie=0;ie<$.length&&L++<y;++ie){var le=getPrimaryTimeUnit($[ie]);if(isPrimaryTimeUnit($[ie])){z($[ie],j[j.length-1]||[],re);var ue=$[ie+1]?getPrimaryTimeUnit($[ie+1]):null;if(le!==ue){if(re.length){oe=ae,re.sort(function(Fe,Ve){return Fe.value-Ve.value});for(var de=[],he=0;he<re.length;++he){var pe=re[he].value;(he===0||re[he-1].value!==pe)&&(de.push(re[he]),pe>=g[0]&&pe<=g[1]&&ae++)}var _e=(g[1]-g[0])/n;if(ae>_e*1.5&&oe>_e/1.5||(j.push(de),ae>_e||t===$[ie]))break}re=[]}}}for(var Ce=filter(map$1(j,function(Fe){return filter(Fe,function(Ve){return Ve.value>=g[0]&&Ve.value<=g[1]&&!Ve.notAdd})}),function(Fe){return Fe.length>0}),xe=[],Ie=Ce.length-1,ie=0;ie<Ce.length;++ie)for(var $e=Ce[ie],Oe=0;Oe<$e.length;++Oe)xe.push({value:$e[Oe].value,level:Ie-ie});xe.sort(function(Fe,Ve){return Fe.value-Ve.value});for(var Ne=[],ie=0;ie<xe.length;++ie)(ie===0||xe[ie].value!==xe[ie-1].value)&&Ne.push(xe[ie]);return Ne}Scale.registerClass(TimeScale);var scaleProto=Scale.prototype,intervalScaleProto=IntervalScale.prototype,roundingErrorFix=round$3,mathFloor$1=Math.floor,mathCeil$1=Math.ceil,mathPow$1=Math.pow,mathLog$1=Math.log,LogScale=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="log",r.base=10,r._originalScale=new IntervalScale,r._interval=0,r}return n.prototype.getTicks=function(r){var g=this._originalScale,y=this._extent,$=g.getExtent(),L=intervalScaleProto.getTicks.call(this,r);return map$1(L,function(V){var z=V.value,j=round$3(mathPow$1(this.base,z));return j=z===y[0]&&this._fixMin?fixRoundingError(j,$[0]):j,j=z===y[1]&&this._fixMax?fixRoundingError(j,$[1]):j,{value:j}},this)},n.prototype.setExtent=function(r,g){var y=mathLog$1(this.base);r=mathLog$1(Math.max(0,r))/y,g=mathLog$1(Math.max(0,g))/y,intervalScaleProto.setExtent.call(this,r,g)},n.prototype.getExtent=function(){var r=this.base,g=scaleProto.getExtent.call(this);g[0]=mathPow$1(r,g[0]),g[1]=mathPow$1(r,g[1]);var y=this._originalScale,$=y.getExtent();return this._fixMin&&(g[0]=fixRoundingError(g[0],$[0])),this._fixMax&&(g[1]=fixRoundingError(g[1],$[1])),g},n.prototype.unionExtent=function(r){this._originalScale.unionExtent(r);var g=this.base;r[0]=mathLog$1(r[0])/mathLog$1(g),r[1]=mathLog$1(r[1])/mathLog$1(g),scaleProto.unionExtent.call(this,r)},n.prototype.unionExtentFromData=function(r,g){this.unionExtent(r.getApproximateExtent(g))},n.prototype.calcNiceTicks=function(r){r=r||10;var g=this._extent,y=g[1]-g[0];if(!(y===1/0||y<=0)){var $=quantity(y),L=r/y*$;for(L<=.5&&($*=10);!isNaN($)&&Math.abs($)<1&&Math.abs($)>0;)$*=10;var V=[round$3(mathCeil$1(g[0]/$)*$),round$3(mathFloor$1(g[1]/$)*$)];this._interval=$,this._niceExtent=V}},n.prototype.calcNiceExtent=function(r){intervalScaleProto.calcNiceExtent.call(this,r),this._fixMin=r.fixMin,this._fixMax=r.fixMax},n.prototype.parse=function(r){return r},n.prototype.contain=function(r){return r=mathLog$1(r)/mathLog$1(this.base),contain$1(r,this._extent)},n.prototype.normalize=function(r){return r=mathLog$1(r)/mathLog$1(this.base),normalize$2(r,this._extent)},n.prototype.scale=function(r){return r=scale(r,this._extent),mathPow$1(this.base,r)},n.type="log",n}(Scale),proto=LogScale.prototype;proto.getMinorTicks=intervalScaleProto.getMinorTicks;proto.getLabel=intervalScaleProto.getLabel;function fixRoundingError(t,n){return roundingErrorFix(t,getPrecision(n))}Scale.registerClass(LogScale);var ScaleRawExtentInfo=function(){function t(n,r,g){this._prepareParams(n,r,g)}return t.prototype._prepareParams=function(n,r,g){g[1]<g[0]&&(g=[NaN,NaN]),this._dataMin=g[0],this._dataMax=g[1];var y=this._isOrdinal=n.type==="ordinal";this._needCrossZero=n.type==="interval"&&r.getNeedCrossZero&&r.getNeedCrossZero();var $=r.get("min",!0);$==null&&($=r.get("startValue",!0));var L=this._modelMinRaw=$;isFunction(L)?this._modelMinNum=parseAxisModelMinMax(n,L({min:g[0],max:g[1]})):L!=="dataMin"&&(this._modelMinNum=parseAxisModelMinMax(n,L));var V=this._modelMaxRaw=r.get("max",!0);if(isFunction(V)?this._modelMaxNum=parseAxisModelMinMax(n,V({min:g[0],max:g[1]})):V!=="dataMax"&&(this._modelMaxNum=parseAxisModelMinMax(n,V)),y)this._axisDataLen=r.getCategories().length;else{var z=r.get("boundaryGap"),j=isArray$1(z)?z:[z||0,z||0];typeof j[0]=="boolean"||typeof j[1]=="boolean"?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[parsePercent$1(j[0],1),parsePercent$1(j[1],1)]}},t.prototype.calculate=function(){var n=this._isOrdinal,r=this._dataMin,g=this._dataMax,y=this._axisDataLen,$=this._boundaryGapInner,L=n?null:g-r||Math.abs(r),V=this._modelMinRaw==="dataMin"?r:this._modelMinNum,z=this._modelMaxRaw==="dataMax"?g:this._modelMaxNum,j=V!=null,re=z!=null;V==null&&(V=n?y?0:NaN:r-$[0]*L),z==null&&(z=n?y?y-1:NaN:g+$[1]*L),(V==null||!isFinite(V))&&(V=NaN),(z==null||!isFinite(z))&&(z=NaN);var ae=eqNaN(V)||eqNaN(z)||n&&!y;this._needCrossZero&&(V>0&&z>0&&!j&&(V=0),V<0&&z<0&&!re&&(z=0));var oe=this._determinedMin,ie=this._determinedMax;return oe!=null&&(V=oe,j=!0),ie!=null&&(z=ie,re=!0),{min:V,max:z,minFixed:j,maxFixed:re,isBlank:ae}},t.prototype.modifyDataMinMax=function(n,r){this[DATA_MIN_MAX_ATTR[n]]=r},t.prototype.setDeterminedMinMax=function(n,r){var g=DETERMINED_MIN_MAX_ATTR[n];this[g]=r},t.prototype.freeze=function(){this.frozen=!0},t}(),DETERMINED_MIN_MAX_ATTR={min:"_determinedMin",max:"_determinedMax"},DATA_MIN_MAX_ATTR={min:"_dataMin",max:"_dataMax"};function ensureScaleRawExtentInfo(t,n,r){var g=t.rawExtentInfo;return g||(g=new ScaleRawExtentInfo(t,n,r),t.rawExtentInfo=g,g)}function parseAxisModelMinMax(t,n){return n==null?null:eqNaN(n)?NaN:t.parse(n)}function getScaleExtent(t,n){var r=t.type,g=ensureScaleRawExtentInfo(t,n,t.getExtent()).calculate();t.setBlank(g.isBlank);var y=g.min,$=g.max,L=n.ecModel;if(L&&r==="time"){var V=prepareLayoutBarSeries("bar",L),z=!1;if(each$f(V,function(ae){z=z||ae.getBaseAxis()===n.axis}),z){var j=makeColumnLayout(V),re=adjustScaleForOverflow(y,$,n,j);y=re.min,$=re.max}}return{extent:[y,$],fixMin:g.minFixed,fixMax:g.maxFixed}}function adjustScaleForOverflow(t,n,r,g){var y=r.axis.getExtent(),$=Math.abs(y[1]-y[0]),L=retrieveColumnLayout(g,r.axis);if(L===void 0)return{min:t,max:n};var V=1/0;each$f(L,function(ie){V=Math.min(ie.offset,V)});var z=-1/0;each$f(L,function(ie){z=Math.max(ie.offset+ie.width,z)}),V=Math.abs(V),z=Math.abs(z);var j=V+z,re=n-t,ae=1-(V+z)/$,oe=re/ae-re;return n+=oe*(z/j),t-=oe*(V/j),{min:t,max:n}}function niceScaleExtent(t,n){var r=n,g=getScaleExtent(t,r),y=g.extent,$=r.get("splitNumber");t instanceof LogScale&&(t.base=r.get("logBase"));var L=t.type,V=r.get("interval"),z=L==="interval"||L==="time";t.setExtent(y[0],y[1]),t.calcNiceExtent({splitNumber:$,fixMin:g.fixMin,fixMax:g.fixMax,minInterval:z?r.get("minInterval"):null,maxInterval:z?r.get("maxInterval"):null}),V!=null&&t.setInterval&&t.setInterval(V)}function createScaleByModel$1(t,n){if(n=n||t.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(Scale.getClass(n)||IntervalScale)}}function ifAxisCrossZero(t){var n=t.scale.getExtent(),r=n[0],g=n[1];return!(r>0&&g>0||r<0&&g<0)}function makeLabelFormatter(t){var n=t.getLabelModel().get("formatter"),r=t.type==="category"?t.scale.getExtent()[0]:null;return t.scale.type==="time"?function(g){return function(y,$){return t.scale.getFormattedLabel(y,$,g)}}(n):isString(n)?function(g){return function(y){var $=t.scale.getLabel(y),L=g.replace("{value}",$??"");return L}}(n):isFunction(n)?function(g){return function(y,$){return r!=null&&($=y.value-r),g(getAxisRawValue(t,y),$,y.level!=null?{level:y.level}:null)}}(n):function(g){return t.scale.getLabel(g)}}function getAxisRawValue(t,n){return t.type==="category"?t.scale.getLabel(n):n.value}function estimateLabelUnionRect(t){var n=t.model,r=t.scale;if(!(!n.get(["axisLabel","show"])||r.isBlank())){var g,y,$=r.getExtent();r instanceof OrdinalScale?y=r.count():(g=r.getTicks(),y=g.length);var L=t.getLabelModel(),V=makeLabelFormatter(t),z,j=1;y>40&&(j=Math.ceil(y/40));for(var re=0;re<y;re+=j){var ae=g?g[re]:{value:$[0]+re},oe=V(ae,re),ie=L.getTextRect(oe),le=rotateTextRect(ie,L.get("rotate")||0);z?z.union(le):z=le}return z}}function rotateTextRect(t,n){var r=n*Math.PI/180,g=t.width,y=t.height,$=g*Math.abs(Math.cos(r))+Math.abs(y*Math.sin(r)),L=g*Math.abs(Math.sin(r))+Math.abs(y*Math.cos(r)),V=new BoundingRect(t.x,t.y,$,L);return V}function getOptionCategoryInterval(t){var n=t.get("interval");return n??"auto"}function shouldShowAllLabels(t){return t.type==="category"&&getOptionCategoryInterval(t.getLabelModel())===0}function getDataDimensionsOnAxis(t,n){var r={};return each$f(t.mapDimensionsAll(n),function(g){r[getStackedDimension(t,g)]=!0}),keys(r)}function unionAxisExtentFromData(t,n,r){n&&each$f(getDataDimensionsOnAxis(n,r),function(g){var y=n.getApproximateExtent(g);y[0]<t[0]&&(t[0]=y[0]),y[1]>t[1]&&(t[1]=y[1])})}var AxisModelCommonMixin=function(){function t(){}return t.prototype.getNeedCrossZero=function(){var n=this.option;return!n.scale},t.prototype.getCoordSysModel=function(){},t}(),EPSILON=1e-8;function isAroundEqual(t,n){return Math.abs(t-n)<EPSILON}function contain(t,n,r){var g=0,y=t[0];if(!y)return!1;for(var $=1;$<t.length;$++){var L=t[$];g+=windingLine(y[0],y[1],L[0],L[1],n,r),y=L}var V=t[0];return(!isAroundEqual(y[0],V[0])||!isAroundEqual(y[1],V[1]))&&(g+=windingLine(y[0],y[1],V[0],V[1],n,r)),g!==0}var TMP_TRANSFORM=[];function transformPoints(t,n){for(var r=0;r<t.length;r++)applyTransform$1(t[r],t[r],n)}function updateBBoxFromPoints(t,n,r,g){for(var y=0;y<t.length;y++){var $=t[y];g&&($=g.project($)),$&&isFinite($[0])&&isFinite($[1])&&(min$1(n,n,$),max$1(r,r,$))}}function centroid$1(t){for(var n=0,r=0,g=0,y=t.length,$=t[y-1][0],L=t[y-1][1],V=0;V<y;V++){var z=t[V][0],j=t[V][1],re=$*j-z*L;n+=re,r+=($+z)*re,g+=(L+j)*re,$=z,L=j}return n?[r/n/3,g/n/3,n]:[t[0][0]||0,t[0][1]||0]}var Region=function(){function t(n){this.name=n}return t.prototype.setCenter=function(n){this._center=n},t.prototype.getCenter=function(){var n=this._center;return n||(n=this._center=this.calcCenter()),n},t}(),GeoJSONPolygonGeometry=function(){function t(n,r){this.type="polygon",this.exterior=n,this.interiors=r}return t}(),GeoJSONLineStringGeometry=function(){function t(n){this.type="linestring",this.points=n}return t}(),GeoJSONRegion=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this,r)||this;return $.type="geoJSON",$.geometries=g,$._center=y&&[y[0],y[1]],$}return n.prototype.calcCenter=function(){for(var r=this.geometries,g,y=0,$=0;$<r.length;$++){var L=r[$],V=L.exterior,z=V&&V.length;z>y&&(g=L,y=z)}if(g)return centroid$1(g.exterior);var j=this.getBoundingRect();return[j.x+j.width/2,j.y+j.height/2]},n.prototype.getBoundingRect=function(r){var g=this._rect;if(g&&!r)return g;var y=[1/0,1/0],$=[-1/0,-1/0],L=this.geometries;return each$f(L,function(V){V.type==="polygon"?updateBBoxFromPoints(V.exterior,y,$,r):each$f(V.points,function(z){updateBBoxFromPoints(z,y,$,r)})}),isFinite(y[0])&&isFinite(y[1])&&isFinite($[0])&&isFinite($[1])||(y[0]=y[1]=$[0]=$[1]=0),g=new BoundingRect(y[0],y[1],$[0]-y[0],$[1]-y[1]),r||(this._rect=g),g},n.prototype.contain=function(r){var g=this.getBoundingRect(),y=this.geometries;if(!g.contain(r[0],r[1]))return!1;e:for(var $=0,L=y.length;$<L;$++){var V=y[$];if(V.type==="polygon"){var z=V.exterior,j=V.interiors;if(contain(z,r[0],r[1])){for(var re=0;re<(j?j.length:0);re++)if(contain(j[re],r[0],r[1]))continue e;return!0}}}return!1},n.prototype.transformTo=function(r,g,y,$){var L=this.getBoundingRect(),V=L.width/L.height;y?$||($=y/V):y=V*$;for(var z=new BoundingRect(r,g,y,$),j=L.calculateTransform(z),re=this.geometries,ae=0;ae<re.length;ae++){var oe=re[ae];oe.type==="polygon"?(transformPoints(oe.exterior,j),each$f(oe.interiors,function(ie){transformPoints(ie,j)})):each$f(oe.points,function(ie){transformPoints(ie,j)})}L=this._rect,L.copy(z),this._center=[L.x+L.width/2,L.y+L.height/2]},n.prototype.cloneShallow=function(r){r==null&&(r=this.name);var g=new n(r,this.geometries,this._center);return g._rect=this._rect,g.transformTo=null,g},n}(Region),GeoSVGRegion=function(t){__extends(n,t);function n(r,g){var y=t.call(this,r)||this;return y.type="geoSVG",y._elOnlyForCalculate=g,y}return n.prototype.calcCenter=function(){for(var r=this._elOnlyForCalculate,g=r.getBoundingRect(),y=[g.x+g.width/2,g.y+g.height/2],$=identity(TMP_TRANSFORM),L=r;L&&!L.isGeoSVGGraphicRoot;)mul($,L.getLocalTransform(),$),L=L.parent;return invert($,$),applyTransform$1(y,y,$),y},n}(Region);function decode(t){if(!t.UTF8Encoding)return t;var n=t,r=n.UTF8Scale;r==null&&(r=1024);var g=n.features;return each$f(g,function(y){var $=y.geometry,L=$.encodeOffsets,V=$.coordinates;if(L)switch($.type){case"LineString":$.coordinates=decodeRing(V,L,r);break;case"Polygon":decodeRings(V,L,r);break;case"MultiLineString":decodeRings(V,L,r);break;case"MultiPolygon":each$f(V,function(z,j){return decodeRings(z,L[j],r)})}}),n.UTF8Encoding=!1,n}function decodeRings(t,n,r){for(var g=0;g<t.length;g++)t[g]=decodeRing(t[g],n[g],r)}function decodeRing(t,n,r){for(var g=[],y=n[0],$=n[1],L=0;L<t.length;L+=2){var V=t.charCodeAt(L)-64,z=t.charCodeAt(L+1)-64;V=V>>1^-(V&1),z=z>>1^-(z&1),V+=y,z+=$,y=V,$=z,g.push([V/r,z/r])}return g}function parseGeoJSON(t,n){return t=decode(t),map$1(filter(t.features,function(r){return r.geometry&&r.properties&&r.geometry.coordinates.length>0}),function(r){var g=r.properties,y=r.geometry,$=[];switch(y.type){case"Polygon":var L=y.coordinates;$.push(new GeoJSONPolygonGeometry(L[0],L.slice(1)));break;case"MultiPolygon":each$f(y.coordinates,function(z){z[0]&&$.push(new GeoJSONPolygonGeometry(z[0],z.slice(1)))});break;case"LineString":$.push(new GeoJSONLineStringGeometry([y.coordinates]));break;case"MultiLineString":$.push(new GeoJSONLineStringGeometry(y.coordinates))}var V=new GeoJSONRegion(g[n||"name"],$,g.cp);return V.properties=g,V})}var inner$g=makeInner();function tickValuesToNumbers(t,n){var r=map$1(n,function(g){return t.scale.parse(g)});return t.type==="time"&&r.length>0&&(r.sort(),r.unshift(r[0]),r.push(r[r.length-1])),r}function createAxisLabels(t){var n=t.getLabelModel().get("customValues");if(n){var r=makeLabelFormatter(t),g=t.scale.getExtent(),y=tickValuesToNumbers(t,n),$=filter(y,function(L){return L>=g[0]&&L<=g[1]});return{labels:map$1($,function(L){var V={value:L};return{formattedLabel:r(V),rawLabel:t.scale.getLabel(V),tickValue:L}})}}return t.type==="category"?makeCategoryLabels(t):makeRealNumberLabels(t)}function createAxisTicks(t,n){var r=t.getTickModel().get("customValues");if(r){var g=t.scale.getExtent(),y=tickValuesToNumbers(t,r);return{ticks:filter(y,function($){return $>=g[0]&&$<=g[1]})}}return t.type==="category"?makeCategoryTicks(t,n):{ticks:map$1(t.scale.getTicks(),function($){return $.value})}}function makeCategoryLabels(t){var n=t.getLabelModel(),r=makeCategoryLabelsActually(t,n);return!n.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:r.labelCategoryInterval}:r}function makeCategoryLabelsActually(t,n){var r=getListCache(t,"labels"),g=getOptionCategoryInterval(n),y=listCacheGet(r,g);if(y)return y;var $,L;return isFunction(g)?$=makeLabelsByCustomizedCategoryInterval(t,g):(L=g==="auto"?makeAutoCategoryInterval(t):g,$=makeLabelsByNumericCategoryInterval(t,L)),listCacheSet(r,g,{labels:$,labelCategoryInterval:L})}function makeCategoryTicks(t,n){var r=getListCache(t,"ticks"),g=getOptionCategoryInterval(n),y=listCacheGet(r,g);if(y)return y;var $,L;if((!n.get("show")||t.scale.isBlank())&&($=[]),isFunction(g))$=makeLabelsByCustomizedCategoryInterval(t,g,!0);else if(g==="auto"){var V=makeCategoryLabelsActually(t,t.getLabelModel());L=V.labelCategoryInterval,$=map$1(V.labels,function(z){return z.tickValue})}else L=g,$=makeLabelsByNumericCategoryInterval(t,L,!0);return listCacheSet(r,g,{ticks:$,tickCategoryInterval:L})}function makeRealNumberLabels(t){var n=t.scale.getTicks(),r=makeLabelFormatter(t);return{labels:map$1(n,function(g,y){return{level:g.level,formattedLabel:r(g,y),rawLabel:t.scale.getLabel(g),tickValue:g.value}})}}function getListCache(t,n){return inner$g(t)[n]||(inner$g(t)[n]=[])}function listCacheGet(t,n){for(var r=0;r<t.length;r++)if(t[r].key===n)return t[r].value}function listCacheSet(t,n,r){return t.push({key:n,value:r}),r}function makeAutoCategoryInterval(t){var n=inner$g(t).autoInterval;return n??(inner$g(t).autoInterval=t.calculateCategoryInterval())}function calculateCategoryInterval(t){var n=fetchAutoCategoryIntervalCalculationParams(t),r=makeLabelFormatter(t),g=(n.axisRotate-n.labelRotate)/180*Math.PI,y=t.scale,$=y.getExtent(),L=y.count();if($[1]-$[0]<1)return 0;var V=1;L>40&&(V=Math.max(1,Math.floor(L/40)));for(var z=$[0],j=t.dataToCoord(z+1)-t.dataToCoord(z),re=Math.abs(j*Math.cos(g)),ae=Math.abs(j*Math.sin(g)),oe=0,ie=0;z<=$[1];z+=V){var le=0,ue=0,de=getBoundingRect(r({value:z}),n.font,"center","top");le=de.width*1.3,ue=de.height*1.3,oe=Math.max(oe,le,7),ie=Math.max(ie,ue,7)}var he=oe/re,pe=ie/ae;isNaN(he)&&(he=1/0),isNaN(pe)&&(pe=1/0);var _e=Math.max(0,Math.floor(Math.min(he,pe))),Ce=inner$g(t.model),xe=t.getExtent(),Ie=Ce.lastAutoInterval,$e=Ce.lastTickCount;return Ie!=null&&$e!=null&&Math.abs(Ie-_e)<=1&&Math.abs($e-L)<=1&&Ie>_e&&Ce.axisExtent0===xe[0]&&Ce.axisExtent1===xe[1]?_e=Ie:(Ce.lastTickCount=L,Ce.lastAutoInterval=_e,Ce.axisExtent0=xe[0],Ce.axisExtent1=xe[1]),_e}function fetchAutoCategoryIntervalCalculationParams(t){var n=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:n.get("rotate")||0,font:n.getFont()}}function makeLabelsByNumericCategoryInterval(t,n,r){var g=makeLabelFormatter(t),y=t.scale,$=y.getExtent(),L=t.getLabelModel(),V=[],z=Math.max((n||0)+1,1),j=$[0],re=y.count();j!==0&&z>1&&re/z>2&&(j=Math.round(Math.ceil(j/z)*z));var ae=shouldShowAllLabels(t),oe=L.get("showMinLabel")||ae,ie=L.get("showMaxLabel")||ae;oe&&j!==$[0]&&ue($[0]);for(var le=j;le<=$[1];le+=z)ue(le);ie&&le-z!==$[1]&&ue($[1]);function ue(de){var he={value:de};V.push(r?de:{formattedLabel:g(he),rawLabel:y.getLabel(he),tickValue:de})}return V}function makeLabelsByCustomizedCategoryInterval(t,n,r){var g=t.scale,y=makeLabelFormatter(t),$=[];return each$f(g.getTicks(),function(L){var V=g.getLabel(L),z=L.value;n(L.value,V)&&$.push(r?z:{formattedLabel:y(L),rawLabel:V,tickValue:z})}),$}var NORMALIZED_EXTENT=[0,1],Axis=function(){function t(n,r,g){this.onBand=!1,this.inverse=!1,this.dim=n,this.scale=r,this._extent=g||[0,0]}return t.prototype.contain=function(n){var r=this._extent,g=Math.min(r[0],r[1]),y=Math.max(r[0],r[1]);return n>=g&&n<=y},t.prototype.containData=function(n){return this.scale.contain(n)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(n){return getPixelPrecision(n||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(n,r){var g=this._extent;g[0]=n,g[1]=r},t.prototype.dataToCoord=function(n,r){var g=this._extent,y=this.scale;return n=y.normalize(n),this.onBand&&y.type==="ordinal"&&(g=g.slice(),fixExtentWithBands(g,y.count())),linearMap$2(n,NORMALIZED_EXTENT,g,r)},t.prototype.coordToData=function(n,r){var g=this._extent,y=this.scale;this.onBand&&y.type==="ordinal"&&(g=g.slice(),fixExtentWithBands(g,y.count()));var $=linearMap$2(n,g,NORMALIZED_EXTENT,r);return this.scale.scale($)},t.prototype.pointToData=function(n,r){},t.prototype.getTicksCoords=function(n){n=n||{};var r=n.tickModel||this.getTickModel(),g=createAxisTicks(this,r),y=g.ticks,$=map$1(y,function(V){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(V):V),tickValue:V}},this),L=r.get("alignWithLabel");return fixOnBandTicksCoords(this,$,L,n.clamp),$},t.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var n=this.model.getModel("minorTick"),r=n.get("splitNumber");r>0&&r<100||(r=5);var g=this.scale.getMinorTicks(r),y=map$1(g,function($){return map$1($,function(L){return{coord:this.dataToCoord(L),tickValue:L}},this)},this);return y},t.prototype.getViewLabels=function(){return createAxisLabels(this).labels},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var n=this._extent,r=this.scale.getExtent(),g=r[1]-r[0]+(this.onBand?1:0);g===0&&(g=1);var y=Math.abs(n[1]-n[0]);return Math.abs(y)/g},t.prototype.calculateCategoryInterval=function(){return calculateCategoryInterval(this)},t}();function fixExtentWithBands(t,n){var r=t[1]-t[0],g=n,y=r/g/2;t[0]+=y,t[1]-=y}function fixOnBandTicksCoords(t,n,r,g){var y=n.length;if(!t.onBand||r||!y)return;var $=t.getExtent(),L,V;if(y===1)n[0].coord=$[0],L=n[1]={coord:$[1],tickValue:n[0].tickValue};else{var z=n[y-1].tickValue-n[0].tickValue,j=(n[y-1].coord-n[0].coord)/z;each$f(n,function(ie){ie.coord-=j/2});var re=t.scale.getExtent();V=1+re[1]-n[y-1].tickValue,L={coord:n[y-1].coord+j*V,tickValue:re[1]+1},n.push(L)}var ae=$[0]>$[1];oe(n[0].coord,$[0])&&(g?n[0].coord=$[0]:n.shift()),g&&oe($[0],n[0].coord)&&n.unshift({coord:$[0]}),oe($[1],L.coord)&&(g?L.coord=$[1]:n.pop()),g&&oe(L.coord,$[1])&&n.push({coord:$[1]});function oe(ie,le){return ie=round$3(ie),le=round$3(le),ae?ie>le:ie<le}}var PI2$2=Math.PI*2,CMD$1=PathProxy.CMD,DEFAULT_SEARCH_SPACE=["top","right","bottom","left"];function getCandidateAnchor(t,n,r,g,y){var $=r.width,L=r.height;switch(t){case"top":g.set(r.x+$/2,r.y-n),y.set(0,-1);break;case"bottom":g.set(r.x+$/2,r.y+L+n),y.set(0,1);break;case"left":g.set(r.x-n,r.y+L/2),y.set(-1,0);break;case"right":g.set(r.x+$+n,r.y+L/2),y.set(1,0);break}}function projectPointToArc(t,n,r,g,y,$,L,V,z){L-=t,V-=n;var j=Math.sqrt(L*L+V*V);L/=j,V/=j;var re=L*r+t,ae=V*r+n;if(Math.abs(g-y)%PI2$2<1e-4)return z[0]=re,z[1]=ae,j-r;if($){var oe=g;g=normalizeRadian(y),y=normalizeRadian(oe)}else g=normalizeRadian(g),y=normalizeRadian(y);g>y&&(y+=PI2$2);var ie=Math.atan2(V,L);if(ie<0&&(ie+=PI2$2),ie>=g&&ie<=y||ie+PI2$2>=g&&ie+PI2$2<=y)return z[0]=re,z[1]=ae,j-r;var le=r*Math.cos(g)+t,ue=r*Math.sin(g)+n,de=r*Math.cos(y)+t,he=r*Math.sin(y)+n,pe=(le-L)*(le-L)+(ue-V)*(ue-V),_e=(de-L)*(de-L)+(he-V)*(he-V);return pe<_e?(z[0]=le,z[1]=ue,Math.sqrt(pe)):(z[0]=de,z[1]=he,Math.sqrt(_e))}function projectPointToLine(t,n,r,g,y,$,L,V){var z=y-t,j=$-n,re=r-t,ae=g-n,oe=Math.sqrt(re*re+ae*ae);re/=oe,ae/=oe;var ie=z*re+j*ae,le=ie/oe;V&&(le=Math.min(Math.max(le,0),1)),le*=oe;var ue=L[0]=t+le*re,de=L[1]=n+le*ae;return Math.sqrt((ue-y)*(ue-y)+(de-$)*(de-$))}function projectPointToRect(t,n,r,g,y,$,L){r<0&&(t=t+r,r=-r),g<0&&(n=n+g,g=-g);var V=t+r,z=n+g,j=L[0]=Math.min(Math.max(y,t),V),re=L[1]=Math.min(Math.max($,n),z);return Math.sqrt((j-y)*(j-y)+(re-$)*(re-$))}var tmpPt=[];function nearestPointOnRect(t,n,r){var g=projectPointToRect(n.x,n.y,n.width,n.height,t.x,t.y,tmpPt);return r.set(tmpPt[0],tmpPt[1]),g}function nearestPointOnPath(t,n,r){for(var g=0,y=0,$=0,L=0,V,z,j=1/0,re=n.data,ae=t.x,oe=t.y,ie=0;ie<re.length;){var le=re[ie++];ie===1&&(g=re[ie],y=re[ie+1],$=g,L=y);var ue=j;switch(le){case CMD$1.M:$=re[ie++],L=re[ie++],g=$,y=L;break;case CMD$1.L:ue=projectPointToLine(g,y,re[ie],re[ie+1],ae,oe,tmpPt,!0),g=re[ie++],y=re[ie++];break;case CMD$1.C:ue=cubicProjectPoint(g,y,re[ie++],re[ie++],re[ie++],re[ie++],re[ie],re[ie+1],ae,oe,tmpPt),g=re[ie++],y=re[ie++];break;case CMD$1.Q:ue=quadraticProjectPoint(g,y,re[ie++],re[ie++],re[ie],re[ie+1],ae,oe,tmpPt),g=re[ie++],y=re[ie++];break;case CMD$1.A:var de=re[ie++],he=re[ie++],pe=re[ie++],_e=re[ie++],Ce=re[ie++],xe=re[ie++];ie+=1;var Ie=!!(1-re[ie++]);V=Math.cos(Ce)*pe+de,z=Math.sin(Ce)*_e+he,ie<=1&&($=V,L=z);var $e=(ae-de)*_e/pe+de;ue=projectPointToArc(de,he,_e,Ce,Ce+xe,Ie,$e,oe,tmpPt),g=Math.cos(Ce+xe)*pe+de,y=Math.sin(Ce+xe)*_e+he;break;case CMD$1.R:$=g=re[ie++],L=y=re[ie++];var Oe=re[ie++],Ne=re[ie++];ue=projectPointToRect($,L,Oe,Ne,ae,oe,tmpPt);break;case CMD$1.Z:ue=projectPointToLine(g,y,$,L,ae,oe,tmpPt,!0),g=$,y=L;break}ue<j&&(j=ue,r.set(tmpPt[0],tmpPt[1]))}return j}var pt0=new Point,pt1=new Point,pt2=new Point,dir=new Point,dir2=new Point;function updateLabelLinePoints(t,n){if(t){var r=t.getTextGuideLine(),g=t.getTextContent();if(g&&r){var y=t.textGuideLineConfig||{},$=[[0,0],[0,0],[0,0]],L=y.candidates||DEFAULT_SEARCH_SPACE,V=g.getBoundingRect().clone();V.applyTransform(g.getComputedTransform());var z=1/0,j=y.anchor,re=t.getComputedTransform(),ae=re&&invert([],re),oe=n.get("length2")||0;j&&pt2.copy(j);for(var ie=0;ie<L.length;ie++){var le=L[ie];getCandidateAnchor(le,0,V,pt0,dir),Point.scaleAndAdd(pt1,pt0,dir,oe),pt1.transform(ae);var ue=t.getBoundingRect(),de=j?j.distance(pt1):t instanceof Path?nearestPointOnPath(pt1,t.path,pt2):nearestPointOnRect(pt1,ue,pt2);de<z&&(z=de,pt1.transform(re),pt2.transform(re),pt2.toArray($[0]),pt1.toArray($[1]),pt0.toArray($[2]))}limitTurnAngle($,n.get("minTurnAngle")),r.setShape({points:$})}}}var tmpArr=[],tmpProjPoint=new Point;function limitTurnAngle(t,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(t[0]),pt1.fromArray(t[1]),pt2.fromArray(t[2]),Point.sub(dir,pt0,pt1),Point.sub(dir2,pt2,pt1);var r=dir.len(),g=dir2.len();if(!(r<.001||g<.001)){dir.scale(1/r),dir2.scale(1/g);var y=dir.dot(dir2),$=Math.cos(n);if($<y){var L=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,L/Math.tan(Math.PI-n));var V=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(V))return;V<0?Point.copy(tmpProjPoint,pt1):V>1&&Point.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(t[1])}}}}function limitSurfaceAngle(t,n,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(t[0]),pt1.fromArray(t[1]),pt2.fromArray(t[2]),Point.sub(dir,pt1,pt0),Point.sub(dir2,pt2,pt1);var g=dir.len(),y=dir2.len();if(!(g<.001||y<.001)){dir.scale(1/g),dir2.scale(1/y);var $=dir.dot(n),L=Math.cos(r);if($<L){var V=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var z=Math.PI/2,j=Math.acos(dir2.dot(n)),re=z+j-r;if(re>=z)Point.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,V/Math.tan(Math.PI/2-re));var ae=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(ae))return;ae<0?Point.copy(tmpProjPoint,pt1):ae>1&&Point.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(t[1])}}}}function setLabelLineState(t,n,r,g){var y=r==="normal",$=y?t:t.ensureState(r);$.ignore=n;var L=g.get("smooth");L&&L===!0&&(L=.3),$.shape=$.shape||{},L>0&&($.shape.smooth=L);var V=g.getModel("lineStyle").getLineStyle();y?t.useStyle(V):$.style=V}function buildLabelLinePath(t,n){var r=n.smooth,g=n.points;if(g)if(t.moveTo(g[0][0],g[0][1]),r>0&&g.length>=3){var y=dist$1(g[0],g[1]),$=dist$1(g[1],g[2]);if(!y||!$){t.lineTo(g[1][0],g[1][1]),t.lineTo(g[2][0],g[2][1]);return}var L=Math.min(y,$)*r,V=lerp$1([],g[1],g[0],L/y),z=lerp$1([],g[1],g[2],L/$),j=lerp$1([],V,z,.5);t.bezierCurveTo(V[0],V[1],V[0],V[1],j[0],j[1]),t.bezierCurveTo(z[0],z[1],z[0],z[1],g[2][0],g[2][1])}else for(var re=1;re<g.length;re++)t.lineTo(g[re][0],g[re][1])}function setLabelLineStyle(t,n,r){var g=t.getTextGuideLine(),y=t.getTextContent();if(!y){g&&t.removeTextGuideLine();return}for(var $=n.normal,L=$.get("show"),V=y.ignore,z=0;z<DISPLAY_STATES.length;z++){var j=DISPLAY_STATES[z],re=n[j],ae=j==="normal";if(re){var oe=re.get("show"),ie=ae?V:retrieve2(y.states[j]&&y.states[j].ignore,V);if(ie||!retrieve2(oe,L)){var le=ae?g:g&&g.states[j];le&&(le.ignore=!0),g&&setLabelLineState(g,!0,j,re);continue}g||(g=new Polyline$1,t.setTextGuideLine(g),!ae&&(V||!L)&&setLabelLineState(g,!0,"normal",n.normal),t.stateProxy&&(g.stateProxy=t.stateProxy)),setLabelLineState(g,!1,j,re)}}if(g){defaults(g.style,r),g.style.fill=null;var ue=$.get("showAbove"),de=t.textGuideLineConfig=t.textGuideLineConfig||{};de.showAbove=ue||!1,g.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(t,n){n=n||"labelLine";for(var r={normal:t.getModel(n)},g=0;g<SPECIAL_STATES.length;g++){var y=SPECIAL_STATES[g];r[y]=t.getModel([y,n])}return r}function prepareLayoutList(t){for(var n=[],r=0;r<t.length;r++){var g=t[r];if(!g.defaultAttr.ignore){var y=g.label,$=y.getComputedTransform(),L=y.getBoundingRect(),V=!$||$[1]<1e-5&&$[2]<1e-5,z=y.style.margin||0,j=L.clone();j.applyTransform($),j.x-=z/2,j.y-=z/2,j.width+=z,j.height+=z;var re=V?new OrientedBoundingRect(L,$):null;n.push({label:y,labelLine:g.labelLine,rect:j,localRect:L,obb:re,priority:g.priority,defaultAttr:g.defaultAttr,layoutOption:g.computedLayoutOption,axisAligned:V,transform:$})}}return n}function shiftLayout(t,n,r,g,y,$){var L=t.length;if(L<2)return;t.sort(function(Ie,$e){return Ie.rect[n]-$e.rect[n]});for(var V=0,z,j=!1,re=0;re<L;re++){var ae=t[re],oe=ae.rect;z=oe[n]-V,z<0&&(oe[n]-=z,ae.label[n]-=z,j=!0),V=oe[n]+oe[r]}var ie=t[0],le=t[L-1],ue,de;he(),ue<0&&Ce(-ue,.8),de<0&&Ce(de,.8),he(),pe(ue,de,1),pe(de,ue,-1),he(),ue<0&&xe(-ue),de<0&&xe(de);function he(){ue=ie.rect[n]-g,de=y-le.rect[n]-le.rect[r]}function pe(Ie,$e,Oe){if(Ie<0){var Ne=Math.min($e,-Ie);if(Ne>0){_e(Ne*Oe,0,L);var Fe=Ne+Ie;Fe<0&&Ce(-Fe*Oe,1)}else Ce(-Ie*Oe,1)}}function _e(Ie,$e,Oe){Ie!==0&&(j=!0);for(var Ne=$e;Ne<Oe;Ne++){var Fe=t[Ne],Ve=Fe.rect;Ve[n]+=Ie,Fe.label[n]+=Ie}}function Ce(Ie,$e){for(var Oe=[],Ne=0,Fe=1;Fe<L;Fe++){var Ve=t[Fe-1].rect,ze=Math.max(t[Fe].rect[n]-Ve[n]-Ve[r],0);Oe.push(ze),Ne+=ze}if(Ne){var Et=Math.min(Math.abs(Ie)/Ne,$e);if(Ie>0)for(var Fe=0;Fe<L-1;Fe++){var Dt=Oe[Fe]*Et;_e(Dt,0,Fe+1)}else for(var Fe=L-1;Fe>0;Fe--){var Dt=Oe[Fe-1]*Et;_e(-Dt,Fe,L)}}}function xe(Ie){var $e=Ie<0?-1:1;Ie=Math.abs(Ie);for(var Oe=Math.ceil(Ie/(L-1)),Ne=0;Ne<L-1;Ne++)if($e>0?_e(Oe,0,Ne+1):_e(-Oe,L-Ne-1,L),Ie-=Oe,Ie<=0)return}return j}function shiftLayoutOnX(t,n,r,g){return shiftLayout(t,"x","width",n,r)}function shiftLayoutOnY(t,n,r,g){return shiftLayout(t,"y","height",n,r)}function hideOverlap(t){var n=[];t.sort(function(ue,de){return de.priority-ue.priority});var r=new BoundingRect(0,0,0,0);function g(ue){if(!ue.ignore){var de=ue.ensureState("emphasis");de.ignore==null&&(de.ignore=!1)}ue.ignore=!0}for(var y=0;y<t.length;y++){var $=t[y],L=$.axisAligned,V=$.localRect,z=$.transform,j=$.label,re=$.labelLine;r.copy($.rect),r.width-=.1,r.height-=.1,r.x+=.05,r.y+=.05;for(var ae=$.obb,oe=!1,ie=0;ie<n.length;ie++){var le=n[ie];if(r.intersect(le.rect)){if(L&&le.axisAligned){oe=!0;break}if(le.obb||(le.obb=new OrientedBoundingRect(le.localRect,le.transform)),ae||(ae=new OrientedBoundingRect(V,z)),ae.intersect(le.obb)){oe=!0;break}}}oe?(g(j),re&&g(re)):(j.attr("ignore",$.defaultAttr.ignore),re&&re.attr("ignore",$.defaultAttr.labelGuideIgnore),n.push($))}}function cloneArr(t){if(t){for(var n=[],r=0;r<t.length;r++)n.push(t[r].slice());return n}}function prepareLayoutCallbackParams(t,n){var r=t.label,g=n&&n.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:r.style.align,verticalAlign:r.style.verticalAlign,labelLinePoints:cloneArr(g&&g.shape.points)}}var LABEL_OPTION_TO_STYLE_KEYS=["align","verticalAlign","width","height","fontSize"],dummyTransformable=new Transformable,labelLayoutInnerStore=makeInner(),labelLineAnimationStore=makeInner();function extendWithKeys(t,n,r){for(var g=0;g<r.length;g++){var y=r[g];n[y]!=null&&(t[y]=n[y])}}var LABEL_LAYOUT_PROPS=["x","y","rotation"],LabelManager=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(n,r,g,y,$){var L=y.style,V=y.__hostTarget,z=V.textConfig||{},j=y.getComputedTransform(),re=y.getBoundingRect().plain();BoundingRect.applyTransform(re,re,j),j?dummyTransformable.setLocalTransform(j):(dummyTransformable.x=dummyTransformable.y=dummyTransformable.rotation=dummyTransformable.originX=dummyTransformable.originY=0,dummyTransformable.scaleX=dummyTransformable.scaleY=1),dummyTransformable.rotation=normalizeRadian(dummyTransformable.rotation);var ae=y.__hostTarget,oe;if(ae){oe=ae.getBoundingRect().plain();var ie=ae.getComputedTransform();BoundingRect.applyTransform(oe,oe,ie)}var le=oe&&ae.getTextGuideLine();this._labelList.push({label:y,labelLine:le,seriesModel:g,dataIndex:n,dataType:r,layoutOption:$,computedLayoutOption:null,rect:re,hostRect:oe,priority:oe?oe.width*oe.height:0,defaultAttr:{ignore:y.ignore,labelGuideIgnore:le&&le.ignore,x:dummyTransformable.x,y:dummyTransformable.y,scaleX:dummyTransformable.scaleX,scaleY:dummyTransformable.scaleY,rotation:dummyTransformable.rotation,style:{x:L.x,y:L.y,align:L.align,verticalAlign:L.verticalAlign,width:L.width,height:L.height,fontSize:L.fontSize},cursor:y.cursor,attachedPos:z.position,attachedRot:z.rotation}})},t.prototype.addLabelsOfSeries=function(n){var r=this;this._chartViewList.push(n);var g=n.__model,y=g.get("labelLayout");(isFunction(y)||keys(y).length)&&n.group.traverse(function($){if($.ignore)return!0;var L=$.getTextContent(),V=getECData($);L&&!L.disableLabelLayout&&r._addLabel(V.dataIndex,V.dataType,g,L,y)})},t.prototype.updateLayoutConfig=function(n){var r=n.getWidth(),g=n.getHeight();function y(_e,Ce){return function(){updateLabelLinePoints(_e,Ce)}}for(var $=0;$<this._labelList.length;$++){var L=this._labelList[$],V=L.label,z=V.__hostTarget,j=L.defaultAttr,re=void 0;isFunction(L.layoutOption)?re=L.layoutOption(prepareLayoutCallbackParams(L,z)):re=L.layoutOption,re=re||{},L.computedLayoutOption=re;var ae=Math.PI/180;z&&z.setTextConfig({local:!1,position:re.x!=null||re.y!=null?null:j.attachedPos,rotation:re.rotate!=null?re.rotate*ae:j.attachedRot,offset:[re.dx||0,re.dy||0]});var oe=!1;if(re.x!=null?(V.x=parsePercent(re.x,r),V.setStyle("x",0),oe=!0):(V.x=j.x,V.setStyle("x",j.style.x)),re.y!=null?(V.y=parsePercent(re.y,g),V.setStyle("y",0),oe=!0):(V.y=j.y,V.setStyle("y",j.style.y)),re.labelLinePoints){var ie=z.getTextGuideLine();ie&&(ie.setShape({points:re.labelLinePoints}),oe=!1)}var le=labelLayoutInnerStore(V);le.needsUpdateLabelLine=oe,V.rotation=re.rotate!=null?re.rotate*ae:j.rotation,V.scaleX=j.scaleX,V.scaleY=j.scaleY;for(var ue=0;ue<LABEL_OPTION_TO_STYLE_KEYS.length;ue++){var de=LABEL_OPTION_TO_STYLE_KEYS[ue];V.setStyle(de,re[de]!=null?re[de]:j.style[de])}if(re.draggable){if(V.draggable=!0,V.cursor="move",z){var he=L.seriesModel;if(L.dataIndex!=null){var pe=L.seriesModel.getData(L.dataType);he=pe.getItemModel(L.dataIndex)}V.on("drag",y(z,he.getModel("labelLine")))}}else V.off("drag"),V.cursor=j.cursor}},t.prototype.layout=function(n){var r=n.getWidth(),g=n.getHeight(),y=prepareLayoutList(this._labelList),$=filter(y,function(z){return z.layoutOption.moveOverlap==="shiftX"}),L=filter(y,function(z){return z.layoutOption.moveOverlap==="shiftY"});shiftLayoutOnX($,0,r),shiftLayoutOnY(L,0,g);var V=filter(y,function(z){return z.layoutOption.hideOverlap});hideOverlap(V)},t.prototype.processLabelsOverall=function(){var n=this;each$f(this._chartViewList,function(r){var g=r.__model,y=r.ignoreLabelLineUpdate,$=g.isAnimationEnabled();r.group.traverse(function(L){if(L.ignore&&!L.forceLabelAnimation)return!0;var V=!y,z=L.getTextContent();!V&&z&&(V=labelLayoutInnerStore(z).needsUpdateLabelLine),V&&n._updateLabelLine(L,g),$&&n._animateLabels(L,g)})})},t.prototype._updateLabelLine=function(n,r){var g=n.getTextContent(),y=getECData(n),$=y.dataIndex;if(g&&$!=null){var L=r.getData(y.dataType),V=L.getItemModel($),z={},j=L.getItemVisual($,"style");if(j){var re=L.getVisual("drawType");z.stroke=j[re]}var ae=V.getModel("labelLine");setLabelLineStyle(n,getLabelLineStatesModels(V),z),updateLabelLinePoints(n,ae)}},t.prototype._animateLabels=function(n,r){var g=n.getTextContent(),y=n.getTextGuideLine();if(g&&(n.forceLabelAnimation||!g.ignore&&!g.invisible&&!n.disableLabelAnimation&&!isElementRemoved(n))){var $=labelLayoutInnerStore(g),L=$.oldLayout,V=getECData(n),z=V.dataIndex,j={x:g.x,y:g.y,rotation:g.rotation},re=r.getData(V.dataType);if(L){g.attr(L);var oe=n.prevStates;oe&&(indexOf(oe,"select")>=0&&g.attr($.oldLayoutSelect),indexOf(oe,"emphasis")>=0&&g.attr($.oldLayoutEmphasis)),updateProps$1(g,j,r,z)}else if(g.attr(j),!labelInner(g).valueAnimation){var ae=retrieve2(g.style.opacity,1);g.style.opacity=0,initProps(g,{style:{opacity:ae}},r,z)}if($.oldLayout=j,g.states.select){var ie=$.oldLayoutSelect={};extendWithKeys(ie,j,LABEL_LAYOUT_PROPS),extendWithKeys(ie,g.states.select,LABEL_LAYOUT_PROPS)}if(g.states.emphasis){var le=$.oldLayoutEmphasis={};extendWithKeys(le,j,LABEL_LAYOUT_PROPS),extendWithKeys(le,g.states.emphasis,LABEL_LAYOUT_PROPS)}animateLabelValue(g,z,re,r,r)}if(y&&!y.ignore&&!y.invisible){var $=labelLineAnimationStore(y),L=$.oldLayout,ue={points:y.shape.points};L?(y.attr({shape:L}),updateProps$1(y,{shape:ue},r)):(y.setShape(ue),y.style.strokePercent=0,initProps(y,{style:{strokePercent:1}},r)),$.oldLayout=ue}},t}(),getLabelManager=makeInner();function installLabelLayout(t){t.registerUpdateLifecycle("series:beforeupdate",function(n,r,g){var y=getLabelManager(r).labelManager;y||(y=getLabelManager(r).labelManager=new LabelManager),y.clearLabels()}),t.registerUpdateLifecycle("series:layoutlabels",function(n,r,g){var y=getLabelManager(r).labelManager;g.updatedSeries.forEach(function($){y.addLabelsOfSeries(r.getViewOfSeriesModel($))}),y.updateLayoutConfig(r),y.layout(r),y.processLabelsOverall()})}var mathSin=Math.sin,mathCos=Math.cos,PI$4=Math.PI,PI2$1=Math.PI*2,degree=180/PI$4,SVGPathRebuilder=function(){function t(){}return t.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},t.prototype.moveTo=function(n,r){this._add("M",n,r)},t.prototype.lineTo=function(n,r){this._add("L",n,r)},t.prototype.bezierCurveTo=function(n,r,g,y,$,L){this._add("C",n,r,g,y,$,L)},t.prototype.quadraticCurveTo=function(n,r,g,y){this._add("Q",n,r,g,y)},t.prototype.arc=function(n,r,g,y,$,L){this.ellipse(n,r,g,g,0,y,$,L)},t.prototype.ellipse=function(n,r,g,y,$,L,V,z){var j=V-L,re=!z,ae=Math.abs(j),oe=isAroundZero(ae-PI2$1)||(re?j>=PI2$1:-j>=PI2$1),ie=j>0?j%PI2$1:j%PI2$1+PI2$1,le=!1;oe?le=!0:isAroundZero(ae)?le=!1:le=ie>=PI$4==!!re;var ue=n+g*mathCos(L),de=r+y*mathSin(L);this._start&&this._add("M",ue,de);var he=Math.round($*degree);if(oe){var pe=1/this._p,_e=(re?1:-1)*(PI2$1-pe);this._add("A",g,y,he,1,+re,n+g*mathCos(L+_e),r+y*mathSin(L+_e)),pe>.01&&this._add("A",g,y,he,0,+re,ue,de)}else{var Ce=n+g*mathCos(V),xe=r+y*mathSin(V);this._add("A",g,y,he,+le,+re,Ce,xe)}},t.prototype.rect=function(n,r,g,y){this._add("M",n,r),this._add("l",g,0),this._add("l",0,y),this._add("l",-g,0),this._add("Z")},t.prototype.closePath=function(){this._d.length>0&&this._add("Z")},t.prototype._add=function(n,r,g,y,$,L,V,z,j){for(var re=[],ae=this._p,oe=1;oe<arguments.length;oe++){var ie=arguments[oe];if(isNaN(ie)){this._invalid=!0;return}re.push(Math.round(ie*ae)/ae)}this._d.push(n+re.join(" ")),this._start=n==="Z"},t.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},t.prototype.getStr=function(){return this._str},t}(),NONE="none",mathRound=Math.round;function pathHasFill(t){var n=t.fill;return n!=null&&n!==NONE}function pathHasStroke(t){var n=t.stroke;return n!=null&&n!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(t){return"stroke-"+t.toLowerCase()});function mapStyleToAttrs(t,n,r,g){var y=n.opacity==null?1:n.opacity;if(r instanceof ZRImage){t("opacity",y);return}if(pathHasFill(n)){var $=normalizeColor(n.fill);t("fill",$.color);var L=n.fillOpacity!=null?n.fillOpacity*$.opacity*y:$.opacity*y;L<1&&t("fill-opacity",L)}else t("fill",NONE);if(pathHasStroke(n)){var V=normalizeColor(n.stroke);t("stroke",V.color);var z=n.strokeNoScale?r.getLineScale():1,j=z?(n.lineWidth||0)/z:0,re=n.strokeOpacity!=null?n.strokeOpacity*V.opacity*y:V.opacity*y,ae=n.strokeFirst;if(j!==1&&t("stroke-width",j),ae&&t("paint-order",ae?"stroke":"fill"),re<1&&t("stroke-opacity",re),n.lineDash){var oe=getLineDash(r),ie=oe[0],le=oe[1];ie&&(le=mathRound(le||0),t("stroke-dasharray",ie.join(",")),(le||g)&&t("stroke-dashoffset",le))}for(var ue=0;ue<strokeProps.length;ue++){var de=strokeProps[ue];if(n[de]!==DEFAULT_PATH_STYLE[de]){var he=n[de]||DEFAULT_PATH_STYLE[de];he&&t(svgStrokeProps[ue],he)}}}}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(t){return document.createElementNS(SVGNS,t)}function createVNode(t,n,r,g,y){return{tag:t,attrs:r||{},children:g,text:y,key:n}}function createElementOpen(t,n){var r=[];if(n)for(var g in n){var y=n[g],$=g;y!==!1&&(y!==!0&&y!=null&&($+='="'+y+'"'),r.push($))}return"<"+t+" "+r.join(" ")+">"}function createElementClose(t){return"</"+t+">"}function vNodeToString(t,n){n=n||{};var r=n.newline?`
`:"";function g(y){var $=y.children,L=y.tag,V=y.attrs,z=y.text;return createElementOpen(L,V)+(L!=="style"?encodeHTML(z):z||"")+($?""+r+map$1($,function(j){return g(j)}).join(r)+r:"")+createElementClose(L)}return g(t)}function getCssString(t,n,r){r=r||{};var g=r.newline?`
`:"",y=" {"+g,$=g+"}",L=map$1(keys(t),function(z){return z+y+map$1(keys(t[z]),function(j){return j+":"+t[z][j]+";"}).join(g)+$}).join(g),V=map$1(keys(n),function(z){return"@keyframes "+z+y+map$1(keys(n[z]),function(j){return j+y+map$1(keys(n[z][j]),function(re){var ae=n[z][j][re];return re==="d"&&(ae='path("'+ae+'")'),re+":"+ae+";"}).join(g)+$}).join(g)+$}).join(g);return!L&&!V?"":["<![CDATA[",L,V,"]]>"].join(g)}function createBrushScope(t){return{zrId:t,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(t,n,r,g){return createVNode("svg","root",{width:t,height:n,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:g?"0 0 "+t+" "+n:!1},r)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(t,n,r){var g=extend({},t.shape);extend(g,n),t.buildPath(r,g);var y=new SVGPathRebuilder;return y.reset(getPathPrecision(t)),r.rebuildPath(y,1),y.generateStr(),y.getStr()}function setTransformOrigin(t,n){var r=n.originX,g=n.originY;(r||g)&&(t[transformOriginKey]=r+"px "+g+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(t,n){var r=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[r]=t,r}function createCompoundPathCSSAnimation(t,n,r){var g=t.shape.paths,y={},$,L;if(each$f(g,function(z){var j=createBrushScope(r.zrId);j.animation=!0,createCSSAnimation(z,{},j,!0);var re=j.cssAnims,ae=j.cssNodes,oe=keys(re),ie=oe.length;if(ie){L=oe[ie-1];var le=re[L];for(var ue in le){var de=le[ue];y[ue]=y[ue]||{d:""},y[ue].d+=de.d||""}for(var he in ae){var pe=ae[he].animation;pe.indexOf(L)>=0&&($=pe)}}}),!!$){n.d=!1;var V=addAnimation(y,r);return $.replace(L,V)}}function getEasingFunc(t){return isString(t)?EASING_MAP[t]?"cubic-bezier("+EASING_MAP[t]+")":createCubicEasingFunc(t)?t:"":""}function createCSSAnimation(t,n,r,g){var y=t.animators,$=y.length,L=[];if(t instanceof CompoundPath){var V=createCompoundPathCSSAnimation(t,n,r);if(V)L.push(V);else if(!$)return}else if(!$)return;for(var z={},j=0;j<$;j++){var re=y[j],ae=[re.getMaxTime()/1e3+"s"],oe=getEasingFunc(re.getClip().easing),ie=re.getDelay();oe?ae.push(oe):ae.push("linear"),ie&&ae.push(ie/1e3+"s"),re.getLoop()&&ae.push("infinite");var le=ae.join(" ");z[le]=z[le]||[le,[]],z[le][1].push(re)}function ue(pe){var _e=pe[1],Ce=_e.length,xe={},Ie={},$e={},Oe="animation-timing-function";function Ne(Cn,Tn,xn){for(var Mn=Cn.getTracks(),bn=Cn.getMaxTime(),Pn=0;Pn<Mn.length;Pn++){var Rn=Mn[Pn];if(Rn.needsAnimate()){var Fn=Rn.keyframes,Dn=Rn.propName;if(xn&&(Dn=xn(Dn)),Dn)for(var Ln=0;Ln<Fn.length;Ln++){var kn=Fn[Ln],In=Math.round(kn.time/bn*100)+"%",Vn=getEasingFunc(kn.easing),zn=kn.rawValue;(isString(zn)||isNumber(zn))&&(Tn[In]=Tn[In]||{},Tn[In][Dn]=kn.rawValue,Vn&&(Tn[In][Oe]=Vn))}}}}for(var Fe=0;Fe<Ce;Fe++){var Ve=_e[Fe],ze=Ve.targetName;ze?ze==="shape"&&Ne(Ve,Ie):!g&&Ne(Ve,xe)}for(var Et in xe){var Dt={};copyTransform(Dt,t),extend(Dt,xe[Et]);var Ue=getSRTTransformString(Dt),qe=xe[Et][Oe];$e[Et]=Ue?{transform:Ue}:{},setTransformOrigin($e[Et],Dt),qe&&($e[Et][Oe]=qe)}var Lt,Pt=!0;for(var Et in Ie){$e[Et]=$e[Et]||{};var At=!Lt,qe=Ie[Et][Oe];At&&(Lt=new PathProxy);var vn=Lt.len();Lt.reset(),$e[Et].d=buildPathString(t,Ie[Et],Lt);var En=Lt.len();if(!At&&vn!==En){Pt=!1;break}qe&&($e[Et][Oe]=qe)}if(!Pt)for(var Et in $e)delete $e[Et].d;if(!g)for(var Fe=0;Fe<Ce;Fe++){var Ve=_e[Fe],ze=Ve.targetName;ze==="style"&&Ne(Ve,$e,function(Mn){return ANIMATE_STYLE_MAP[Mn]})}for(var Sn=keys($e),kt=!0,jt,Fe=1;Fe<Sn.length;Fe++){var _n=Sn[Fe-1],wn=Sn[Fe];if($e[_n][transformOriginKey]!==$e[wn][transformOriginKey]){kt=!1;break}jt=$e[_n][transformOriginKey]}if(kt&&jt){for(var Et in $e)$e[Et][transformOriginKey]&&delete $e[Et][transformOriginKey];n[transformOriginKey]=jt}if(filter(Sn,function(Cn){return keys($e[Cn]).length>0}).length){var hn=addAnimation($e,r);return hn+" "+pe[0]+" both"}}for(var de in z){var V=ue(z[de]);V&&L.push(V)}if(L.length){var he=r.zrId+"-cls-"+getClassId();r.cssNodes["."+he]={animation:L.join(",")},n.class=he}}function createCSSEmphasis(t,n,r){if(!t.ignore)if(t.isSilent()){var g={"pointer-events":"none"};setClassAttribute(g,n,r)}else{var y=t.states.emphasis&&t.states.emphasis.style?t.states.emphasis.style:{},$=y.fill;if(!$){var L=t.style&&t.style.fill,V=t.states.select&&t.states.select.style&&t.states.select.style.fill,z=t.currentStates.indexOf("select")>=0&&V||L;z&&($=liftColor(z))}var j=y.lineWidth;if(j){var re=!y.strokeNoScale&&t.transform?t.transform[0]:1;j=j/re}var g={cursor:"pointer"};$&&(g.fill=$),y.stroke&&(g.stroke=y.stroke),j&&(g["stroke-width"]=j),setClassAttribute(g,n,r)}}function setClassAttribute(t,n,r,g){var y=JSON.stringify(t),$=r.cssStyleCache[y];$||($=r.zrId+"-cls-"+getClassId(),r.cssStyleCache[y]=$,r.cssNodes["."+$+":hover"]=t),n.class=n.class?n.class+" "+$:$}var round$1=Math.round;function isImageLike(t){return t&&isString(t.src)}function isCanvasLike(t){return t&&isFunction(t.toDataURL)}function setStyleAttrs(t,n,r,g){mapStyleToAttrs(function(y,$){var L=y==="fill"||y==="stroke";L&&isGradient($)?setGradient(n,t,y,g):L&&isPattern($)?setPattern(r,t,y,g):t[y]=$,L&&g.ssr&&$==="none"&&(t["pointer-events"]="visible")},n,r,!1),setShadow(r,t,g)}function setMetaData(t,n){var r=getElementSSRData(n);r&&(r.each(function(g,y){g!=null&&(t[(META_DATA_PREFIX+y).toLowerCase()]=g+"")}),n.isSilent()&&(t[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(t){return isAroundZero(t[0]-1)&&isAroundZero(t[1])&&isAroundZero(t[2])&&isAroundZero(t[3]-1)}function noTranslate(t){return isAroundZero(t[4])&&isAroundZero(t[5])}function setTransform(t,n,r){if(n&&!(noTranslate(n)&&noRotateScale(n))){var g=1e4;t.transform=noRotateScale(n)?"translate("+round$1(n[4]*g)/g+" "+round$1(n[5]*g)/g+")":getMatrixStr(n)}}function convertPolyShape(t,n,r){for(var g=t.points,y=[],$=0;$<g.length;$++)y.push(round$1(g[$][0]*r)/r),y.push(round$1(g[$][1]*r)/r);n.points=y.join(" ")}function validatePolyShape(t){return!t.smooth}function createAttrsConvert(t){var n=map$1(t,function(r){return typeof r=="string"?[r,r]:r});return function(r,g,y){for(var $=0;$<n.length;$++){var L=n[$],V=r[L[0]];V!=null&&(g[L[1]]=round$1(V*y)/y)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(t){for(var n=t.animators,r=0;r<n.length;r++)if(n[r].targetName==="shape")return!0;return!1}function brushSVGPath(t,n){var r=t.style,g=t.shape,y=builtinShapesDef[t.type],$={},L=n.animation,V="path",z=t.style.strokePercent,j=n.compress&&getPathPrecision(t)||4;if(y&&!n.willUpdate&&!(y[1]&&!y[1](g))&&!(L&&hasShapeAnimation(t))&&!(z<1)){V=t.type;var re=Math.pow(10,j);y[0](g,$,re)}else{var ae=!t.path||t.shapeChanged();t.path||t.createPathProxy();var oe=t.path;ae&&(oe.beginPath(),t.buildPath(oe,t.shape),t.pathUpdated());var ie=oe.getVersion(),le=t,ue=le.__svgPathBuilder;(le.__svgPathVersion!==ie||!ue||z!==le.__svgPathStrokePercent)&&(ue||(ue=le.__svgPathBuilder=new SVGPathRebuilder),ue.reset(j),oe.rebuildPath(ue,z),ue.generateStr(),le.__svgPathVersion=ie,le.__svgPathStrokePercent=z),$.d=ue.getStr()}return setTransform($,t.transform),setStyleAttrs($,r,t,n),setMetaData($,t),n.animation&&createCSSAnimation(t,$,n),n.emphasis&&createCSSEmphasis(t,$,n),createVNode(V,t.id+"",$)}function brushSVGImage(t,n){var r=t.style,g=r.image;if(g&&!isString(g)&&(isImageLike(g)?g=g.src:isCanvasLike(g)&&(g=g.toDataURL())),!!g){var y=r.x||0,$=r.y||0,L=r.width,V=r.height,z={href:g,width:L,height:V};return y&&(z.x=y),$&&(z.y=$),setTransform(z,t.transform),setStyleAttrs(z,r,t,n),setMetaData(z,t),n.animation&&createCSSAnimation(t,z,n),createVNode("image",t.id+"",z)}}function brushSVGTSpan(t,n){var r=t.style,g=r.text;if(g!=null&&(g+=""),!(!g||isNaN(r.x)||isNaN(r.y))){var y=r.font||DEFAULT_FONT,$=r.x||0,L=adjustTextY$1(r.y||0,getLineHeight(y),r.textBaseline),V=TEXT_ALIGN_TO_ANCHOR[r.textAlign]||r.textAlign,z={"dominant-baseline":"central","text-anchor":V};if(hasSeparateFont(r)){var j="",re=r.fontStyle,ae=parseFontSize(r.fontSize);if(!parseFloat(ae))return;var oe=r.fontFamily||DEFAULT_FONT_FAMILY,ie=r.fontWeight;j+="font-size:"+ae+";font-family:"+oe+";",re&&re!=="normal"&&(j+="font-style:"+re+";"),ie&&ie!=="normal"&&(j+="font-weight:"+ie+";"),z.style=j}else z.style="font: "+y;return g.match(/\s/)&&(z["xml:space"]="preserve"),$&&(z.x=$),L&&(z.y=L),setTransform(z,t.transform),setStyleAttrs(z,r,t,n),setMetaData(z,t),n.animation&&createCSSAnimation(t,z,n),createVNode("text",t.id+"",z,void 0,g)}}function brush(t,n){if(t instanceof Path)return brushSVGPath(t,n);if(t instanceof ZRImage)return brushSVGImage(t,n);if(t instanceof TSpan)return brushSVGTSpan(t,n)}function setShadow(t,n,r){var g=t.style;if(hasShadow(g)){var y=getShadowKey(t),$=r.shadowCache,L=$[y];if(!L){var V=t.getGlobalScale(),z=V[0],j=V[1];if(!z||!j)return;var re=g.shadowOffsetX||0,ae=g.shadowOffsetY||0,oe=g.shadowBlur,ie=normalizeColor(g.shadowColor),le=ie.opacity,ue=ie.color,de=oe/2/z,he=oe/2/j,pe=de+" "+he;L=r.zrId+"-s"+r.shadowIdx++,r.defs[L]=createVNode("filter",L,{id:L,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:re/z,dy:ae/j,stdDeviation:pe,"flood-color":ue,"flood-opacity":le})]),$[y]=L}n.filter=getIdURL(L)}}function setGradient(t,n,r,g){var y=t[r],$,L={gradientUnits:y.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(y))$="linearGradient",L.x1=y.x,L.y1=y.y,L.x2=y.x2,L.y2=y.y2;else if(isRadialGradient(y))$="radialGradient",L.cx=retrieve2(y.x,.5),L.cy=retrieve2(y.y,.5),L.r=retrieve2(y.r,.5);else return;for(var V=y.colorStops,z=[],j=0,re=V.length;j<re;++j){var ae=round4(V[j].offset)*100+"%",oe=V[j].color,ie=normalizeColor(oe),le=ie.color,ue=ie.opacity,de={offset:ae};de["stop-color"]=le,ue<1&&(de["stop-opacity"]=ue),z.push(createVNode("stop",j+"",de))}var he=createVNode($,"",L,z),pe=vNodeToString(he),_e=g.gradientCache,Ce=_e[pe];Ce||(Ce=g.zrId+"-g"+g.gradientIdx++,_e[pe]=Ce,L.id=Ce,g.defs[Ce]=createVNode($,Ce,L,z)),n[r]=getIdURL(Ce)}function setPattern(t,n,r,g){var y=t.style[r],$=t.getBoundingRect(),L={},V=y.repeat,z=V==="no-repeat",j=V==="repeat-x",re=V==="repeat-y",ae;if(isImagePattern(y)){var oe=y.imageWidth,ie=y.imageHeight,le=void 0,ue=y.image;if(isString(ue)?le=ue:isImageLike(ue)?le=ue.src:isCanvasLike(ue)&&(le=ue.toDataURL()),typeof Image>"u"){var de="Image width/height must been given explictly in svg-ssr renderer.";assert(oe,de),assert(ie,de)}else if(oe==null||ie==null){var he=function(Fe,Ve){if(Fe){var ze=Fe.elm,Et=oe||Ve.width,Dt=ie||Ve.height;Fe.tag==="pattern"&&(j?(Dt=1,Et/=$.width):re&&(Et=1,Dt/=$.height)),Fe.attrs.width=Et,Fe.attrs.height=Dt,ze&&(ze.setAttribute("width",Et),ze.setAttribute("height",Dt))}},pe=createOrUpdateImage(le,null,t,function(Fe){z||he(Ie,Fe),he(ae,Fe)});pe&&pe.width&&pe.height&&(oe=oe||pe.width,ie=ie||pe.height)}ae=createVNode("image","img",{href:le,width:oe,height:ie}),L.width=oe,L.height=ie}else y.svgElement&&(ae=clone$4(y.svgElement),L.width=y.svgWidth,L.height=y.svgHeight);if(ae){var _e,Ce;z?_e=Ce=1:j?(Ce=1,_e=L.width/$.width):re?(_e=1,Ce=L.height/$.height):L.patternUnits="userSpaceOnUse",_e!=null&&!isNaN(_e)&&(L.width=_e),Ce!=null&&!isNaN(Ce)&&(L.height=Ce);var xe=getSRTTransformString(y);xe&&(L.patternTransform=xe);var Ie=createVNode("pattern","",L,[ae]),$e=vNodeToString(Ie),Oe=g.patternCache,Ne=Oe[$e];Ne||(Ne=g.zrId+"-p"+g.patternIdx++,Oe[$e]=Ne,L.id=Ne,Ie=g.defs[Ne]=createVNode("pattern",Ne,L,[ae])),n[r]=getIdURL(Ne)}}function setClipPath(t,n,r){var g=r.clipPathCache,y=r.defs,$=g[t.id];if(!$){$=r.zrId+"-c"+r.clipPathIdx++;var L={id:$};g[t.id]=$,y[$]=createVNode("clipPath",$,L,[brushSVGPath(t,r)])}n["clip-path"]=getIdURL($)}function createTextNode(t){return document.createTextNode(t)}function insertBefore(t,n,r){t.insertBefore(n,r)}function removeChild(t,n){t.removeChild(n)}function appendChild(t,n){t.appendChild(n)}function parentNode(t){return t.parentNode}function nextSibling(t){return t.nextSibling}function setTextContent(t,n){t.textContent=n}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(t){return t===void 0}function isDef(t){return t!==void 0}function createKeyToOldIdx(t,n,r){for(var g={},y=n;y<=r;++y){var $=t[y].key;$!==void 0&&(g[$]=y)}return g}function sameVnode(t,n){var r=t.key===n.key,g=t.tag===n.tag;return g&&r}function createElm(t){var n,r=t.children,g=t.tag;if(isDef(g)){var y=t.elm=createElement(g);if(updateAttrs(emptyNode,t),isArray$1(r))for(n=0;n<r.length;++n){var $=r[n];$!=null&&appendChild(y,createElm($))}else isDef(t.text)&&!isObject$3(t.text)&&appendChild(y,createTextNode(t.text))}else t.elm=createTextNode(t.text);return t.elm}function addVnodes(t,n,r,g,y){for(;g<=y;++g){var $=r[g];$!=null&&insertBefore(t,createElm($),n)}}function removeVnodes(t,n,r,g){for(;r<=g;++r){var y=n[r];if(y!=null)if(isDef(y.tag)){var $=parentNode(y.elm);removeChild($,y.elm)}else removeChild(t,y.elm)}}function updateAttrs(t,n){var r,g=n.elm,y=t&&t.attrs||{},$=n.attrs||{};if(y!==$){for(r in $){var L=$[r],V=y[r];V!==L&&(L===!0?g.setAttribute(r,""):L===!1?g.removeAttribute(r):r==="style"?g.style.cssText=L:r.charCodeAt(0)!==xChar?g.setAttribute(r,L):r==="xmlns:xlink"||r==="xmlns"?g.setAttributeNS(XMLNS,r,L):r.charCodeAt(3)===colonChar?g.setAttributeNS(XML_NAMESPACE,r,L):r.charCodeAt(5)===colonChar?g.setAttributeNS(XLINKNS,r,L):g.setAttribute(r,L))}for(r in y)r in $||g.removeAttribute(r)}}function updateChildren(t,n,r){for(var g=0,y=0,$=n.length-1,L=n[0],V=n[$],z=r.length-1,j=r[0],re=r[z],ae,oe,ie,le;g<=$&&y<=z;)L==null?L=n[++g]:V==null?V=n[--$]:j==null?j=r[++y]:re==null?re=r[--z]:sameVnode(L,j)?(patchVnode(L,j),L=n[++g],j=r[++y]):sameVnode(V,re)?(patchVnode(V,re),V=n[--$],re=r[--z]):sameVnode(L,re)?(patchVnode(L,re),insertBefore(t,L.elm,nextSibling(V.elm)),L=n[++g],re=r[--z]):sameVnode(V,j)?(patchVnode(V,j),insertBefore(t,V.elm,L.elm),V=n[--$],j=r[++y]):(isUndef(ae)&&(ae=createKeyToOldIdx(n,g,$)),oe=ae[j.key],isUndef(oe)?insertBefore(t,createElm(j),L.elm):(ie=n[oe],ie.tag!==j.tag?insertBefore(t,createElm(j),L.elm):(patchVnode(ie,j),n[oe]=void 0,insertBefore(t,ie.elm,L.elm))),j=r[++y]);(g<=$||y<=z)&&(g>$?(le=r[z+1]==null?null:r[z+1].elm,addVnodes(t,le,r,y,z)):removeVnodes(t,n,g,$))}function patchVnode(t,n){var r=n.elm=t.elm,g=t.children,y=n.children;t!==n&&(updateAttrs(t,n),isUndef(n.text)?isDef(g)&&isDef(y)?g!==y&&updateChildren(r,g,y):isDef(y)?(isDef(t.text)&&setTextContent(r,""),addVnodes(r,null,y,0,y.length-1)):isDef(g)?removeVnodes(r,g,0,g.length-1):isDef(t.text)&&setTextContent(r,""):t.text!==n.text&&(isDef(g)&&removeVnodes(r,g,0,g.length-1),setTextContent(r,n.text)))}function patch(t,n){if(sameVnode(t,n))patchVnode(t,n);else{var r=t.elm,g=parentNode(r);createElm(n),g!==null&&(insertBefore(g,n.elm,nextSibling(r)),removeVnodes(g,[t],0,0))}return n}var svgId=0,SVGPainter=function(){function t(n,r,g){if(this.type="svg",this.refreshHover=createMethodNotSupport(),this.configLayer=createMethodNotSupport(),this.storage=r,this._opts=g=extend({},g),this.root=n,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(g.width,g.height),n&&!g.ssr){var y=this._viewport=document.createElement("div");y.style.cssText="position:relative;overflow:hidden";var $=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),y.appendChild($),n.appendChild(y)}this.resize(g.width,g.height)}return t.prototype.getType=function(){return this.type},t.prototype.getViewportRoot=function(){return this._viewport},t.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},t.prototype.getSvgDom=function(){return this._svgDom},t.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,n),this._oldVNode=n}},t.prototype.renderOneToVNode=function(n){return brush(n,createBrushScope(this._id))},t.prototype.renderToVNode=function(n){n=n||{};var r=this.storage.getDisplayList(!0),g=this._width,y=this._height,$=createBrushScope(this._id);$.animation=n.animation,$.willUpdate=n.willUpdate,$.compress=n.compress,$.emphasis=n.emphasis,$.ssr=this._opts.ssr;var L=[],V=this._bgVNode=createBackgroundVNode(g,y,this._backgroundColor,$);V&&L.push(V);var z=n.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(r,$,z?z.children:L),z&&L.push(z);var j=map$1(keys($.defs),function(oe){return $.defs[oe]});if(j.length&&L.push(createVNode("defs","defs",{},j)),n.animation){var re=getCssString($.cssNodes,$.cssAnims,{newline:!0});if(re){var ae=createVNode("style","stl",{},[],re);L.push(ae)}}return createSVGVNode(g,y,L,n.useViewBox)},t.prototype.renderToString=function(n){return n=n||{},vNodeToString(this.renderToVNode({animation:retrieve2(n.cssAnimation,!0),emphasis:retrieve2(n.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(n.useViewBox,!0)}),{newline:!0})},t.prototype.setBackgroundColor=function(n){this._backgroundColor=n},t.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},t.prototype._paintList=function(n,r,g){for(var y=n.length,$=[],L=0,V,z,j=0,re=0;re<y;re++){var ae=n[re];if(!ae.invisible){var oe=ae.__clipPaths,ie=oe&&oe.length||0,le=z&&z.length||0,ue=void 0;for(ue=Math.max(ie-1,le-1);ue>=0&&!(oe&&z&&oe[ue]===z[ue]);ue--);for(var de=le-1;de>ue;de--)L--,V=$[L-1];for(var he=ue+1;he<ie;he++){var pe={};setClipPath(oe[he],pe,r);var _e=createVNode("g","clip-g-"+j++,pe,[]);(V?V.children:g).push(_e),$[L++]=_e,V=_e}z=oe;var Ce=brush(ae,r);Ce&&(V?V.children:g).push(Ce)}}},t.prototype.resize=function(n,r){var g=this._opts,y=this.root,$=this._viewport;if(n!=null&&(g.width=n),r!=null&&(g.height=r),y&&$&&($.style.display="none",n=getSize$1(y,0,g),r=getSize$1(y,1,g),$.style.display=""),this._width!==n||this._height!==r){if(this._width=n,this._height=r,$){var L=$.style;L.width=n+"px",L.height=r+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var V=this._svgDom;V&&(V.setAttribute("width",n),V.setAttribute("height",r));var z=this._bgVNode&&this._bgVNode.elm;z&&(z.setAttribute("width",n),z.setAttribute("height",r))}}},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},t.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},t.prototype.toDataURL=function(n){var r=this.renderToString(),g="data:image/svg+xml;";return n?(r=encodeBase64(r),r&&g+"base64,"+r):g+"charset=UTF-8,"+encodeURIComponent(r)},t}();function createMethodNotSupport(t){return function(){}}function createBackgroundVNode(t,n,r,g){var y;if(r&&r!=="none")if(y=createVNode("rect","bg",{width:t,height:n,x:"0",y:"0"}),isGradient(r))setGradient({fill:r},y.attrs,"fill",g);else if(isPattern(r))setPattern({style:{fill:r},dirty:noop,getBoundingRect:function(){return{width:t,height:n}}},y.attrs,"fill",g);else{var $=normalizeColor(r),L=$.color,V=$.opacity;y.attrs.fill=L,V<1&&(y.attrs["fill-opacity"]=V)}return y}function install$S(t){t.registerPainter("svg",SVGPainter)}function createDom(t,n,r){var g=platformApi.createCanvas(),y=n.getWidth(),$=n.getHeight(),L=g.style;return L&&(L.position="absolute",L.left="0",L.top="0",L.width=y+"px",L.height=$+"px",g.setAttribute("data-zr-dom-id",t)),g.width=y*r,g.height=$*r,g}var Layer=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this)||this;$.motionBlur=!1,$.lastFrameAlpha=.7,$.dpr=1,$.virtual=!1,$.config={},$.incremental=!1,$.zlevel=0,$.maxRepaintRectCount=5,$.__dirty=!0,$.__firstTimePaint=!0,$.__used=!1,$.__drawIndex=0,$.__startIndex=0,$.__endIndex=0,$.__prevStartIndex=null,$.__prevEndIndex=null;var L;y=y||devicePixelRatio,typeof r=="string"?L=createDom(r,g,y):isObject$3(r)&&(L=r,r=L.id),$.id=r,$.dom=L;var V=L.style;return V&&(disableUserSelect(L),L.onselectstart=function(){return!1},V.padding="0",V.margin="0",V.borderWidth="0"),$.painter=g,$.dpr=y,$}return n.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},n.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},n.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},n.prototype.setUnpainted=function(){this.__firstTimePaint=!0},n.prototype.createBackBuffer=function(){var r=this.dpr;this.domBack=createDom("back-"+this.id,this.painter,r),this.ctxBack=this.domBack.getContext("2d"),r!==1&&this.ctxBack.scale(r,r)},n.prototype.createRepaintRects=function(r,g,y,$){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var L=[],V=this.maxRepaintRectCount,z=!1,j=new BoundingRect(0,0,0,0);function re(pe){if(!(!pe.isFinite()||pe.isZero()))if(L.length===0){var _e=new BoundingRect(0,0,0,0);_e.copy(pe),L.push(_e)}else{for(var Ce=!1,xe=1/0,Ie=0,$e=0;$e<L.length;++$e){var Oe=L[$e];if(Oe.intersect(pe)){var Ne=new BoundingRect(0,0,0,0);Ne.copy(Oe),Ne.union(pe),L[$e]=Ne,Ce=!0;break}else if(z){j.copy(pe),j.union(Oe);var Fe=pe.width*pe.height,Ve=Oe.width*Oe.height,ze=j.width*j.height,Et=ze-Fe-Ve;Et<xe&&(xe=Et,Ie=$e)}}if(z&&(L[Ie].union(pe),Ce=!0),!Ce){var _e=new BoundingRect(0,0,0,0);_e.copy(pe),L.push(_e)}z||(z=L.length>=V)}}for(var ae=this.__startIndex;ae<this.__endIndex;++ae){var oe=r[ae];if(oe){var ie=oe.shouldBePainted(y,$,!0,!0),le=oe.__isRendered&&(oe.__dirty&REDRAW_BIT||!ie)?oe.getPrevPaintRect():null;le&&re(le);var ue=ie&&(oe.__dirty&REDRAW_BIT||!oe.__isRendered)?oe.getPaintRect():null;ue&&re(ue)}}for(var ae=this.__prevStartIndex;ae<this.__prevEndIndex;++ae){var oe=g[ae],ie=oe&&oe.shouldBePainted(y,$,!0,!0);if(oe&&(!ie||!oe.__zr)&&oe.__isRendered){var le=oe.getPrevPaintRect();le&&re(le)}}var de;do{de=!1;for(var ae=0;ae<L.length;){if(L[ae].isZero()){L.splice(ae,1);continue}for(var he=ae+1;he<L.length;)L[ae].intersect(L[he])?(de=!0,L[ae].union(L[he]),L.splice(he,1)):he++;ae++}}while(de);return this._paintRects=L,L},n.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},n.prototype.resize=function(r,g){var y=this.dpr,$=this.dom,L=$.style,V=this.domBack;L&&(L.width=r+"px",L.height=g+"px"),$.width=r*y,$.height=g*y,V&&(V.width=r*y,V.height=g*y,y!==1&&this.ctxBack.scale(y,y))},n.prototype.clear=function(r,g,y){var $=this.dom,L=this.ctx,V=$.width,z=$.height;g=g||this.clearColor;var j=this.motionBlur&&!r,re=this.lastFrameAlpha,ae=this.dpr,oe=this;j&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage($,0,0,V/ae,z/ae));var ie=this.domBack;function le(ue,de,he,pe){if(L.clearRect(ue,de,he,pe),g&&g!=="transparent"){var _e=void 0;if(isGradientObject(g)){var Ce=g.global||g.__width===he&&g.__height===pe;_e=Ce&&g.__canvasGradient||getCanvasGradient(L,g,{x:0,y:0,width:he,height:pe}),g.__canvasGradient=_e,g.__width=he,g.__height=pe}else isImagePatternObject(g)&&(g.scaleX=g.scaleX||ae,g.scaleY=g.scaleY||ae,_e=createCanvasPattern(L,g,{dirty:function(){oe.setUnpainted(),oe.painter.refresh()}}));L.save(),L.fillStyle=_e||g,L.fillRect(ue,de,he,pe),L.restore()}j&&(L.save(),L.globalAlpha=re,L.drawImage(ie,ue,de,he,pe),L.restore())}!y||j?le(0,0,V,z):y.length&&each$f(y,function(ue){le(ue.x*ae,ue.y*ae,ue.width*ae,ue.height*ae)})},n}(Eventful),HOVER_LAYER_ZLEVEL=1e5,CANVAS_ZLEVEL=314159,EL_AFTER_INCREMENTAL_INC=.01,INCREMENTAL_INC=.001;function isLayerValid(t){return t?t.__builtin__?!0:!(typeof t.resize!="function"||typeof t.refresh!="function"):!1}function createRoot(t,n){var r=document.createElement("div");return r.style.cssText=["position:relative","width:"+t+"px","height:"+n+"px","padding:0","margin:0","border-width:0"].join(";")+";",r}var CanvasPainter=function(){function t(n,r,g,y){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var $=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS";this._opts=g=extend({},g||{}),this.dpr=g.devicePixelRatio||devicePixelRatio,this._singleCanvas=$,this.root=n;var L=n.style;L&&(disableUserSelect(n),n.innerHTML=""),this.storage=r;var V=this._zlevelList;this._prevDisplayList=[];var z=this._layers;if($){var re=n,ae=re.width,oe=re.height;g.width!=null&&(ae=g.width),g.height!=null&&(oe=g.height),this.dpr=g.devicePixelRatio||1,re.width=ae*this.dpr,re.height=oe*this.dpr,this._width=ae,this._height=oe;var ie=new Layer(re,this,this.dpr);ie.__builtin__=!0,ie.initContext(),z[CANVAS_ZLEVEL]=ie,ie.zlevel=CANVAS_ZLEVEL,V.push(CANVAS_ZLEVEL),this._domRoot=n}else{this._width=getSize$1(n,0,g),this._height=getSize$1(n,1,g);var j=this._domRoot=createRoot(this._width,this._height);n.appendChild(j)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},t.prototype.refresh=function(n){var r=this.storage.getDisplayList(!0),g=this._prevDisplayList,y=this._zlevelList;this._redrawId=Math.random(),this._paintList(r,g,n,this._redrawId);for(var $=0;$<y.length;$++){var L=y[$],V=this._layers[L];if(!V.__builtin__&&V.refresh){var z=$===0?this._backgroundColor:null;V.refresh(z)}}return this._opts.useDirtyRect&&(this._prevDisplayList=r.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(n){var r=n.length,g=this._hoverlayer;if(g&&g.clear(),!!r){for(var y={inHover:!0,viewWidth:this._width,viewHeight:this._height},$,L=0;L<r;L++){var V=n[L];V.__inHover&&(g||(g=this._hoverlayer=this.getLayer(HOVER_LAYER_ZLEVEL)),$||($=g.ctx,$.save()),brush$1($,V,y,L===r-1))}$&&$.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(HOVER_LAYER_ZLEVEL)},t.prototype.paintOne=function(n,r){brushSingle(n,r)},t.prototype._paintList=function(n,r,g,y){if(this._redrawId===y){g=g||!1,this._updateLayerStatus(n);var $=this._doPaintList(n,r,g),L=$.finished,V=$.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),V&&this._paintHoverList(n),L)this.eachLayer(function(j){j.afterBrush&&j.afterBrush()});else{var z=this;requestAnimationFrame$1(function(){z._paintList(n,r,g,y)})}}},t.prototype._compositeManually=function(){var n=this.getLayer(CANVAS_ZLEVEL).ctx,r=this._domRoot.width,g=this._domRoot.height;n.clearRect(0,0,r,g),this.eachBuiltinLayer(function(y){y.virtual&&n.drawImage(y.dom,0,0,r,g)})},t.prototype._doPaintList=function(n,r,g){for(var y=this,$=[],L=this._opts.useDirtyRect,V=0;V<this._zlevelList.length;V++){var z=this._zlevelList[V],j=this._layers[z];j.__builtin__&&j!==this._hoverlayer&&(j.__dirty||g)&&$.push(j)}for(var re=!0,ae=!1,oe=function(ue){var de=$[ue],he=de.ctx,pe=L&&de.createRepaintRects(n,r,ie._width,ie._height),_e=g?de.__startIndex:de.__drawIndex,Ce=!g&&de.incremental&&Date.now,xe=Ce&&Date.now(),Ie=de.zlevel===ie._zlevelList[0]?ie._backgroundColor:null;if(de.__startIndex===de.__endIndex)de.clear(!1,Ie,pe);else if(_e===de.__startIndex){var $e=n[_e];(!$e.incremental||!$e.notClear||g)&&de.clear(!1,Ie,pe)}_e===-1&&(console.error("For some unknown reason. drawIndex is -1"),_e=de.__startIndex);var Oe,Ne=function(Et){var Dt={inHover:!1,allClipped:!1,prevEl:null,viewWidth:y._width,viewHeight:y._height};for(Oe=_e;Oe<de.__endIndex;Oe++){var Ue=n[Oe];if(Ue.__inHover&&(ae=!0),y._doPaintEl(Ue,de,L,Et,Dt,Oe===de.__endIndex-1),Ce){var qe=Date.now()-xe;if(qe>15)break}}Dt.prevElClipPaths&&he.restore()};if(pe)if(pe.length===0)Oe=de.__endIndex;else for(var Fe=ie.dpr,Ve=0;Ve<pe.length;++Ve){var ze=pe[Ve];he.save(),he.beginPath(),he.rect(ze.x*Fe,ze.y*Fe,ze.width*Fe,ze.height*Fe),he.clip(),Ne(ze),he.restore()}else he.save(),Ne(),he.restore();de.__drawIndex=Oe,de.__drawIndex<de.__endIndex&&(re=!1)},ie=this,le=0;le<$.length;le++)oe(le);return env.wxa&&each$f(this._layers,function(ue){ue&&ue.ctx&&ue.ctx.draw&&ue.ctx.draw()}),{finished:re,needsRefreshHover:ae}},t.prototype._doPaintEl=function(n,r,g,y,$,L){var V=r.ctx;if(g){var z=n.getPaintRect();(!y||z&&z.intersect(y))&&(brush$1(V,n,$,L),n.setPrevPaintRect(z))}else brush$1(V,n,$,L)},t.prototype.getLayer=function(n,r){this._singleCanvas&&!this._needsManuallyCompositing&&(n=CANVAS_ZLEVEL);var g=this._layers[n];return g||(g=new Layer("zr_"+n,this,this.dpr),g.zlevel=n,g.__builtin__=!0,this._layerConfig[n]?merge(g,this._layerConfig[n],!0):this._layerConfig[n-EL_AFTER_INCREMENTAL_INC]&&merge(g,this._layerConfig[n-EL_AFTER_INCREMENTAL_INC],!0),r&&(g.virtual=r),this.insertLayer(n,g),g.initContext()),g},t.prototype.insertLayer=function(n,r){var g=this._layers,y=this._zlevelList,$=y.length,L=this._domRoot,V=null,z=-1;if(!g[n]&&isLayerValid(r)){if($>0&&n>y[0]){for(z=0;z<$-1&&!(y[z]<n&&y[z+1]>n);z++);V=g[y[z]]}if(y.splice(z+1,0,n),g[n]=r,!r.virtual)if(V){var j=V.dom;j.nextSibling?L.insertBefore(r.dom,j.nextSibling):L.appendChild(r.dom)}else L.firstChild?L.insertBefore(r.dom,L.firstChild):L.appendChild(r.dom);r.painter||(r.painter=this)}},t.prototype.eachLayer=function(n,r){for(var g=this._zlevelList,y=0;y<g.length;y++){var $=g[y];n.call(r,this._layers[$],$)}},t.prototype.eachBuiltinLayer=function(n,r){for(var g=this._zlevelList,y=0;y<g.length;y++){var $=g[y],L=this._layers[$];L.__builtin__&&n.call(r,L,$)}},t.prototype.eachOtherLayer=function(n,r){for(var g=this._zlevelList,y=0;y<g.length;y++){var $=g[y],L=this._layers[$];L.__builtin__||n.call(r,L,$)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(n){this.eachBuiltinLayer(function(ae,oe){ae.__dirty=ae.__used=!1});function r(ae){$&&($.__endIndex!==ae&&($.__dirty=!0),$.__endIndex=ae)}if(this._singleCanvas)for(var g=1;g<n.length;g++){var y=n[g];if(y.zlevel!==n[g-1].zlevel||y.incremental){this._needsManuallyCompositing=!0;break}}var $=null,L=0,V,z;for(z=0;z<n.length;z++){var y=n[z],j=y.zlevel,re=void 0;V!==j&&(V=j,L=0),y.incremental?(re=this.getLayer(j+INCREMENTAL_INC,this._needsManuallyCompositing),re.incremental=!0,L=1):re=this.getLayer(j+(L>0?EL_AFTER_INCREMENTAL_INC:0),this._needsManuallyCompositing),re.__builtin__||logError("ZLevel "+j+" has been used by unkown layer "+re.id),re!==$&&(re.__used=!0,re.__startIndex!==z&&(re.__dirty=!0),re.__startIndex=z,re.incremental?re.__drawIndex=-1:re.__drawIndex=z,r(z),$=re),y.__dirty&REDRAW_BIT&&!y.__inHover&&(re.__dirty=!0,re.incremental&&re.__drawIndex<0&&(re.__drawIndex=z))}r(z),this.eachBuiltinLayer(function(ae,oe){!ae.__used&&ae.getElementCount()>0&&(ae.__dirty=!0,ae.__startIndex=ae.__endIndex=ae.__drawIndex=0),ae.__dirty&&ae.__drawIndex<0&&(ae.__drawIndex=ae.__startIndex)})},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(n){n.clear()},t.prototype.setBackgroundColor=function(n){this._backgroundColor=n,each$f(this._layers,function(r){r.setUnpainted()})},t.prototype.configLayer=function(n,r){if(r){var g=this._layerConfig;g[n]?merge(g[n],r,!0):g[n]=r;for(var y=0;y<this._zlevelList.length;y++){var $=this._zlevelList[y];if($===n||$===n+EL_AFTER_INCREMENTAL_INC){var L=this._layers[$];merge(L,g[n],!0)}}}},t.prototype.delLayer=function(n){var r=this._layers,g=this._zlevelList,y=r[n];y&&(y.dom.parentNode.removeChild(y.dom),delete r[n],g.splice(indexOf(g,n),1))},t.prototype.resize=function(n,r){if(this._domRoot.style){var g=this._domRoot;g.style.display="none";var y=this._opts,$=this.root;if(n!=null&&(y.width=n),r!=null&&(y.height=r),n=getSize$1($,0,y),r=getSize$1($,1,y),g.style.display="",this._width!==n||r!==this._height){g.style.width=n+"px",g.style.height=r+"px";for(var L in this._layers)this._layers.hasOwnProperty(L)&&this._layers[L].resize(n,r);this.refresh(!0)}this._width=n,this._height=r}else{if(n==null||r==null)return;this._width=n,this._height=r,this.getLayer(CANVAS_ZLEVEL).resize(n,r)}return this},t.prototype.clearLayer=function(n){var r=this._layers[n];r&&r.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(n){if(n=n||{},this._singleCanvas&&!this._compositeManually)return this._layers[CANVAS_ZLEVEL].dom;var r=new Layer("image",this,n.pixelRatio||this.dpr);r.initContext(),r.clear(!1,n.backgroundColor||this._backgroundColor);var g=r.ctx;if(n.pixelRatio<=this.dpr){this.refresh();var y=r.dom.width,$=r.dom.height;this.eachLayer(function(ae){ae.__builtin__?g.drawImage(ae.dom,0,0,y,$):ae.renderToCanvas&&(g.save(),ae.renderToCanvas(g),g.restore())})}else for(var L={inHover:!1,viewWidth:this._width,viewHeight:this._height},V=this.storage.getDisplayList(!0),z=0,j=V.length;z<j;z++){var re=V[z];brush$1(g,re,L,z===j-1)}return r.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();function install$R(t){t.registerPainter("canvas",CanvasPainter)}var LineSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getLegendIcon=function(r){var g=new Group$3,y=createSymbol$1("line",0,r.itemHeight/2,r.itemWidth,0,r.lineStyle.stroke,!1);g.add(y),y.setStyle(r.lineStyle);var $=this.getData().getVisual("symbol"),L=this.getData().getVisual("symbolRotate"),V=$==="none"?"circle":$,z=r.itemHeight*.8,j=createSymbol$1(V,(r.itemWidth-z)/2,(r.itemHeight-z)/2,z,z,r.itemStyle.fill);g.add(j),j.setStyle(r.itemStyle);var re=r.iconRotate==="inherit"?L:r.iconRotate||0;return j.rotation=re*Math.PI/180,j.setOrigin([r.itemWidth/2,r.itemHeight/2]),V.indexOf("empty")>-1&&(j.style.stroke=j.style.fill,j.style.fill="#fff",j.style.lineWidth=2),g},n.type="series.line",n.dependencies=["grid","polar"],n.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},n}(SeriesModel);function getDefaultLabel(t,n){var r=t.mapDimensionsAll("defaultedLabel"),g=r.length;if(g===1){var y=retrieveRawValue(t,n,r[0]);return y!=null?y+"":null}else if(g){for(var $=[],L=0;L<r.length;L++)$.push(retrieveRawValue(t,n,r[L]));return $.join(" ")}}function getDefaultInterpolatedLabel(t,n){var r=t.mapDimensionsAll("defaultedLabel");if(!isArray$1(n))return n+"";for(var g=[],y=0;y<r.length;y++){var $=t.getDimensionIndex(r[y]);$>=0&&g.push(n[$])}return g.join(" ")}var Symbol$1=function(t){__extends(n,t);function n(r,g,y,$){var L=t.call(this)||this;return L.updateData(r,g,y,$),L}return n.prototype._createSymbol=function(r,g,y,$,L){this.removeAll();var V=createSymbol$1(r,-1,-1,2,2,null,L);V.attr({z2:100,culling:!0,scaleX:$[0]/2,scaleY:$[1]/2}),V.drift=driftSymbol,this._symbolType=r,this.add(V)},n.prototype.stopSymbolAnimation=function(r){this.childAt(0).stopAnimation(null,r)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){enterEmphasis(this.childAt(0))},n.prototype.downplay=function(){leaveEmphasis(this.childAt(0))},n.prototype.setZ=function(r,g){var y=this.childAt(0);y.zlevel=r,y.z=g},n.prototype.setDraggable=function(r,g){var y=this.childAt(0);y.draggable=r,y.cursor=!g&&r?"move":y.cursor},n.prototype.updateData=function(r,g,y,$){this.silent=!1;var L=r.getItemVisual(g,"symbol")||"circle",V=r.hostModel,z=n.getSymbolSize(r,g),j=L!==this._symbolType,re=$&&$.disableAnimation;if(j){var ae=r.getItemVisual(g,"symbolKeepAspect");this._createSymbol(L,r,g,z,ae)}else{var oe=this.childAt(0);oe.silent=!1;var ie={scaleX:z[0]/2,scaleY:z[1]/2};re?oe.attr(ie):updateProps$1(oe,ie,V,g),saveOldStyle(oe)}if(this._updateCommon(r,g,z,y,$),j){var oe=this.childAt(0);if(!re){var ie={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:oe.style.opacity}};oe.scaleX=oe.scaleY=0,oe.style.opacity=0,initProps(oe,ie,V,g)}}re&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(r,g,y,$,L){var V=this.childAt(0),z=r.hostModel,j,re,ae,oe,ie,le,ue,de,he;if($&&(j=$.emphasisItemStyle,re=$.blurItemStyle,ae=$.selectItemStyle,oe=$.focus,ie=$.blurScope,ue=$.labelStatesModels,de=$.hoverScale,he=$.cursorStyle,le=$.emphasisDisabled),!$||r.hasItemOption){var pe=$&&$.itemModel?$.itemModel:r.getItemModel(g),_e=pe.getModel("emphasis");j=_e.getModel("itemStyle").getItemStyle(),ae=pe.getModel(["select","itemStyle"]).getItemStyle(),re=pe.getModel(["blur","itemStyle"]).getItemStyle(),oe=_e.get("focus"),ie=_e.get("blurScope"),le=_e.get("disabled"),ue=getLabelStatesModels(pe),de=_e.getShallow("scale"),he=pe.getShallow("cursor")}var Ce=r.getItemVisual(g,"symbolRotate");V.attr("rotation",(Ce||0)*Math.PI/180||0);var xe=normalizeSymbolOffset(r.getItemVisual(g,"symbolOffset"),y);xe&&(V.x=xe[0],V.y=xe[1]),he&&V.attr("cursor",he);var Ie=r.getItemVisual(g,"style"),$e=Ie.fill;if(V instanceof ZRImage){var Oe=V.style;V.useStyle(extend({image:Oe.image,x:Oe.x,y:Oe.y,width:Oe.width,height:Oe.height},Ie))}else V.__isEmptyBrush?V.useStyle(extend({},Ie)):V.useStyle(Ie),V.style.decal=null,V.setColor($e,L&&L.symbolInnerColor),V.style.strokeNoScale=!0;var Ne=r.getItemVisual(g,"liftZ"),Fe=this._z2;Ne!=null?Fe==null&&(this._z2=V.z2,V.z2+=Ne):Fe!=null&&(V.z2=Fe,this._z2=null);var Ve=L&&L.useNameLabel;setLabelStyle(V,ue,{labelFetcher:z,labelDataIndex:g,defaultText:ze,inheritColor:$e,defaultOpacity:Ie.opacity});function ze(Ue){return Ve?r.getName(Ue):getDefaultLabel(r,Ue)}this._sizeX=y[0]/2,this._sizeY=y[1]/2;var Et=V.ensureState("emphasis");Et.style=j,V.ensureState("select").style=ae,V.ensureState("blur").style=re;var Dt=de==null||de===!0?Math.max(1.1,3/this._sizeY):isFinite(de)&&de>0?+de:1;Et.scaleX=this._sizeX*Dt,Et.scaleY=this._sizeY*Dt,this.setSymbolScale(1),toggleHoverEmphasis(this,oe,ie,le)},n.prototype.setSymbolScale=function(r){this.scaleX=this.scaleY=r},n.prototype.fadeOut=function(r,g,y){var $=this.childAt(0),L=getECData(this).dataIndex,V=y&&y.animation;if(this.silent=$.silent=!0,y&&y.fadeLabel){var z=$.getTextContent();z&&removeElement(z,{style:{opacity:0}},g,{dataIndex:L,removeOpt:V,cb:function(){$.removeTextContent()}})}else $.removeTextContent();removeElement($,{style:{opacity:0},scaleX:0,scaleY:0},g,{dataIndex:L,cb:r,removeOpt:V})},n.getSymbolSize=function(r,g){return normalizeSymbolSize(r.getItemVisual(g,"symbolSize"))},n}(Group$3);function driftSymbol(t,n){this.parent.drift(t,n)}function symbolNeedsDraw$1(t,n,r,g){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(g.isIgnore&&g.isIgnore(r))&&!(g.clipShape&&!g.clipShape.contain(n[0],n[1]))&&t.getItemVisual(r,"symbol")!=="none"}function normalizeUpdateOpt(t){return t!=null&&!isObject$3(t)&&(t={isIgnore:t}),t||{}}function makeSeriesScope$2(t){var n=t.hostModel,r=n.getModel("emphasis");return{emphasisItemStyle:r.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:r.get("focus"),blurScope:r.get("blurScope"),emphasisDisabled:r.get("disabled"),hoverScale:r.get("scale"),labelStatesModels:getLabelStatesModels(n),cursorStyle:n.get("cursor")}}var SymbolDraw=function(){function t(n){this.group=new Group$3,this._SymbolCtor=n||Symbol$1}return t.prototype.updateData=function(n,r){this._progressiveEls=null,r=normalizeUpdateOpt(r);var g=this.group,y=n.hostModel,$=this._data,L=this._SymbolCtor,V=r.disableAnimation,z=makeSeriesScope$2(n),j={disableAnimation:V},re=r.getSymbolPoint||function(ae){return n.getItemLayout(ae)};$||g.removeAll(),n.diff($).add(function(ae){var oe=re(ae);if(symbolNeedsDraw$1(n,oe,ae,r)){var ie=new L(n,ae,z,j);ie.setPosition(oe),n.setItemGraphicEl(ae,ie),g.add(ie)}}).update(function(ae,oe){var ie=$.getItemGraphicEl(oe),le=re(ae);if(!symbolNeedsDraw$1(n,le,ae,r)){g.remove(ie);return}var ue=n.getItemVisual(ae,"symbol")||"circle",de=ie&&ie.getSymbolType&&ie.getSymbolType();if(!ie||de&&de!==ue)g.remove(ie),ie=new L(n,ae,z,j),ie.setPosition(le);else{ie.updateData(n,ae,z,j);var he={x:le[0],y:le[1]};V?ie.attr(he):updateProps$1(ie,he,y)}g.add(ie),n.setItemGraphicEl(ae,ie)}).remove(function(ae){var oe=$.getItemGraphicEl(ae);oe&&oe.fadeOut(function(){g.remove(oe)},y)}).execute(),this._getSymbolPoint=re,this._data=n},t.prototype.updateLayout=function(){var n=this,r=this._data;r&&r.eachItemGraphicEl(function(g,y){var $=n._getSymbolPoint(y);g.setPosition($),g.markRedraw()})},t.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$2(n),this._data=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(n,r,g){this._progressiveEls=[],g=normalizeUpdateOpt(g);function y(z){z.isGroup||(z.incremental=!0,z.ensureState("emphasis").hoverLayer=!0)}for(var $=n.start;$<n.end;$++){var L=r.getItemLayout($);if(symbolNeedsDraw$1(r,L,$,g)){var V=new this._SymbolCtor(r,$,this._seriesScope);V.traverse(y),V.setPosition(L),this.group.add(V),r.setItemGraphicEl($,V),this._progressiveEls.push(V)}}},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype.remove=function(n){var r=this.group,g=this._data;g&&n?g.eachItemGraphicEl(function(y){y.fadeOut(function(){r.remove(y)},g.hostModel)}):r.removeAll()},t}();function prepareDataCoordInfo(t,n,r){var g=t.getBaseAxis(),y=t.getOtherAxis(g),$=getValueStart(y,r),L=g.dim,V=y.dim,z=n.mapDimension(V),j=n.mapDimension(L),re=V==="x"||V==="radius"?1:0,ae=map$1(t.dimensions,function(le){return n.mapDimension(le)}),oe=!1,ie=n.getCalculationInfo("stackResultDimension");return isDimensionStacked(n,ae[0])&&(oe=!0,ae[0]=ie),isDimensionStacked(n,ae[1])&&(oe=!0,ae[1]=ie),{dataDimsForPoint:ae,valueStart:$,valueAxisDim:V,baseAxisDim:L,stacked:!!oe,valueDim:z,baseDim:j,baseDataOffset:re,stackedOverDimension:n.getCalculationInfo("stackedOverDimension")}}function getValueStart(t,n){var r=0,g=t.scale.getExtent();return n==="start"?r=g[0]:n==="end"?r=g[1]:isNumber(n)&&!isNaN(n)?r=n:g[0]>0?r=g[0]:g[1]<0&&(r=g[1]),r}function getStackedOnPoint(t,n,r,g){var y=NaN;t.stacked&&(y=r.get(r.getCalculationInfo("stackedOverDimension"),g)),isNaN(y)&&(y=t.valueStart);var $=t.baseDataOffset,L=[];return L[$]=r.get(t.baseDim,g),L[1-$]=y,n.dataToPoint(L)}function diffData(t,n){var r=[];return n.diff(t).add(function(g){r.push({cmd:"+",idx:g})}).update(function(g,y){r.push({cmd:"=",idx:y,idx1:g})}).remove(function(g){r.push({cmd:"-",idx:g})}).execute(),r}function lineAnimationDiff(t,n,r,g,y,$,L,V){for(var z=diffData(t,n),j=[],re=[],ae=[],oe=[],ie=[],le=[],ue=[],de=prepareDataCoordInfo(y,n,L),he=t.getLayout("points")||[],pe=n.getLayout("points")||[],_e=0;_e<z.length;_e++){var Ce=z[_e],xe=!0,Ie=void 0,$e=void 0;switch(Ce.cmd){case"=":Ie=Ce.idx*2,$e=Ce.idx1*2;var Oe=he[Ie],Ne=he[Ie+1],Fe=pe[$e],Ve=pe[$e+1];(isNaN(Oe)||isNaN(Ne))&&(Oe=Fe,Ne=Ve),j.push(Oe,Ne),re.push(Fe,Ve),ae.push(r[Ie],r[Ie+1]),oe.push(g[$e],g[$e+1]),ue.push(n.getRawIndex(Ce.idx1));break;case"+":var ze=Ce.idx,Et=de.dataDimsForPoint,Dt=y.dataToPoint([n.get(Et[0],ze),n.get(Et[1],ze)]);$e=ze*2,j.push(Dt[0],Dt[1]),re.push(pe[$e],pe[$e+1]);var Ue=getStackedOnPoint(de,y,n,ze);ae.push(Ue[0],Ue[1]),oe.push(g[$e],g[$e+1]),ue.push(n.getRawIndex(ze));break;case"-":xe=!1}xe&&(ie.push(Ce),le.push(le.length))}le.sort(function(_n,wn){return ue[_n]-ue[wn]});for(var qe=j.length,Lt=createFloat32Array(qe),Pt=createFloat32Array(qe),At=createFloat32Array(qe),vn=createFloat32Array(qe),En=[],_e=0;_e<le.length;_e++){var Sn=le[_e],kt=_e*2,jt=Sn*2;Lt[kt]=j[jt],Lt[kt+1]=j[jt+1],Pt[kt]=re[jt],Pt[kt+1]=re[jt+1],At[kt]=ae[jt],At[kt+1]=ae[jt+1],vn[kt]=oe[jt],vn[kt+1]=oe[jt+1],En[_e]=ie[Sn]}return{current:Lt,next:Pt,stackedOnCurrent:At,stackedOnNext:vn,status:En}}var mathMin$5=Math.min,mathMax$5=Math.max;function isPointNull$1(t,n){return isNaN(t)||isNaN(n)}function drawSegment(t,n,r,g,y,$,L,V,z){for(var j,re,ae,oe,ie,le,ue=r,de=0;de<g;de++){var he=n[ue*2],pe=n[ue*2+1];if(ue>=y||ue<0)break;if(isPointNull$1(he,pe)){if(z){ue+=$;continue}break}if(ue===r)t[$>0?"moveTo":"lineTo"](he,pe),ae=he,oe=pe;else{var _e=he-j,Ce=pe-re;if(_e*_e+Ce*Ce<.5){ue+=$;continue}if(L>0){for(var xe=ue+$,Ie=n[xe*2],$e=n[xe*2+1];Ie===he&&$e===pe&&de<g;)de++,xe+=$,ue+=$,Ie=n[xe*2],$e=n[xe*2+1],he=n[ue*2],pe=n[ue*2+1],_e=he-j,Ce=pe-re;var Oe=de+1;if(z)for(;isPointNull$1(Ie,$e)&&Oe<g;)Oe++,xe+=$,Ie=n[xe*2],$e=n[xe*2+1];var Ne=.5,Fe=0,Ve=0,ze=void 0,Et=void 0;if(Oe>=g||isPointNull$1(Ie,$e))ie=he,le=pe;else{Fe=Ie-j,Ve=$e-re;var Dt=he-j,Ue=Ie-he,qe=pe-re,Lt=$e-pe,Pt=void 0,At=void 0;if(V==="x"){Pt=Math.abs(Dt),At=Math.abs(Ue);var vn=Fe>0?1:-1;ie=he-vn*Pt*L,le=pe,ze=he+vn*At*L,Et=pe}else if(V==="y"){Pt=Math.abs(qe),At=Math.abs(Lt);var En=Ve>0?1:-1;ie=he,le=pe-En*Pt*L,ze=he,Et=pe+En*At*L}else Pt=Math.sqrt(Dt*Dt+qe*qe),At=Math.sqrt(Ue*Ue+Lt*Lt),Ne=At/(At+Pt),ie=he-Fe*L*(1-Ne),le=pe-Ve*L*(1-Ne),ze=he+Fe*L*Ne,Et=pe+Ve*L*Ne,ze=mathMin$5(ze,mathMax$5(Ie,he)),Et=mathMin$5(Et,mathMax$5($e,pe)),ze=mathMax$5(ze,mathMin$5(Ie,he)),Et=mathMax$5(Et,mathMin$5($e,pe)),Fe=ze-he,Ve=Et-pe,ie=he-Fe*Pt/At,le=pe-Ve*Pt/At,ie=mathMin$5(ie,mathMax$5(j,he)),le=mathMin$5(le,mathMax$5(re,pe)),ie=mathMax$5(ie,mathMin$5(j,he)),le=mathMax$5(le,mathMin$5(re,pe)),Fe=he-ie,Ve=pe-le,ze=he+Fe*At/Pt,Et=pe+Ve*At/Pt}t.bezierCurveTo(ae,oe,ie,le,he,pe),ae=ze,oe=Et}else t.lineTo(he,pe)}j=he,re=pe,ue+=$}return de}var ECPolylineShape=function(){function t(){this.smooth=0,this.smoothConstraint=!0}return t}(),ECPolyline=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="ec-polyline",g}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new ECPolylineShape},n.prototype.buildPath=function(r,g){var y=g.points,$=0,L=y.length/2;if(g.connectNulls){for(;L>0&&isPointNull$1(y[L*2-2],y[L*2-1]);L--);for(;$<L&&isPointNull$1(y[$*2],y[$*2+1]);$++);}for(;$<L;)$+=drawSegment(r,y,$,L,L,1,g.smooth,g.smoothMonotone,g.connectNulls)+1},n.prototype.getPointOn=function(r,g){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var y=this.path,$=y.data,L=PathProxy.CMD,V,z,j=g==="x",re=[],ae=0;ae<$.length;){var oe=$[ae++],ie=void 0,le=void 0,ue=void 0,de=void 0,he=void 0,pe=void 0,_e=void 0;switch(oe){case L.M:V=$[ae++],z=$[ae++];break;case L.L:if(ie=$[ae++],le=$[ae++],_e=j?(r-V)/(ie-V):(r-z)/(le-z),_e<=1&&_e>=0){var Ce=j?(le-z)*_e+z:(ie-V)*_e+V;return j?[r,Ce]:[Ce,r]}V=ie,z=le;break;case L.C:ie=$[ae++],le=$[ae++],ue=$[ae++],de=$[ae++],he=$[ae++],pe=$[ae++];var xe=j?cubicRootAt(V,ie,ue,he,r,re):cubicRootAt(z,le,de,pe,r,re);if(xe>0)for(var Ie=0;Ie<xe;Ie++){var $e=re[Ie];if($e<=1&&$e>=0){var Ce=j?cubicAt(z,le,de,pe,$e):cubicAt(V,ie,ue,he,$e);return j?[r,Ce]:[Ce,r]}}V=he,z=pe;break}}},n}(Path),ECPolygonShape=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n}(ECPolylineShape),ECPolygon=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="ec-polygon",g}return n.prototype.getDefaultShape=function(){return new ECPolygonShape},n.prototype.buildPath=function(r,g){var y=g.points,$=g.stackedOnPoints,L=0,V=y.length/2,z=g.smoothMonotone;if(g.connectNulls){for(;V>0&&isPointNull$1(y[V*2-2],y[V*2-1]);V--);for(;L<V&&isPointNull$1(y[L*2],y[L*2+1]);L++);}for(;L<V;){var j=drawSegment(r,y,L,V,V,1,g.smooth,z,g.connectNulls);drawSegment(r,$,L+j-1,j,V,-1,g.stackedOnSmooth,z,g.connectNulls),L+=j+1,r.closePath()}},n}(Path);function createGridClipPath(t,n,r,g,y){var $=t.getArea(),L=$.x,V=$.y,z=$.width,j=$.height,re=r.get(["lineStyle","width"])||0;L-=re/2,V-=re/2,z+=re,j+=re,z=Math.ceil(z),L!==Math.floor(L)&&(L=Math.floor(L),z++);var ae=new Rect$2({shape:{x:L,y:V,width:z,height:j}});if(n){var oe=t.getBaseAxis(),ie=oe.isHorizontal(),le=oe.inverse;ie?(le&&(ae.shape.x+=z),ae.shape.width=0):(le||(ae.shape.y+=j),ae.shape.height=0);var ue=isFunction(y)?function(de){y(de,ae)}:null;initProps(ae,{shape:{width:z,height:j,x:L,y:V}},r,null,g,ue)}return ae}function createPolarClipPath(t,n,r){var g=t.getArea(),y=round$3(g.r0,1),$=round$3(g.r,1),L=new Sector({shape:{cx:round$3(t.cx,1),cy:round$3(t.cy,1),r0:y,r:$,startAngle:g.startAngle,endAngle:g.endAngle,clockwise:g.clockwise}});if(n){var V=t.getBaseAxis().dim==="angle";V?L.shape.endAngle=g.startAngle:L.shape.r=y,initProps(L,{shape:{endAngle:g.endAngle,r:$}},r)}return L}function createClipPath(t,n,r,g,y){if(t){if(t.type==="polar")return createPolarClipPath(t,n,r);if(t.type==="cartesian2d")return createGridClipPath(t,n,r,g,y)}else return null;return null}function isCoordinateSystemType(t,n){return t.type===n}function isPointsSame(t,n){if(t.length===n.length){for(var r=0;r<t.length;r++)if(t[r]!==n[r])return;return!0}}function bboxFromPoints(t){for(var n=1/0,r=1/0,g=-1/0,y=-1/0,$=0;$<t.length;){var L=t[$++],V=t[$++];isNaN(L)||(n=Math.min(L,n),g=Math.max(L,g)),isNaN(V)||(r=Math.min(V,r),y=Math.max(V,y))}return[[n,r],[g,y]]}function getBoundingDiff(t,n){var r=bboxFromPoints(t),g=r[0],y=r[1],$=bboxFromPoints(n),L=$[0],V=$[1];return Math.max(Math.abs(g[0]-L[0]),Math.abs(g[1]-L[1]),Math.abs(y[0]-V[0]),Math.abs(y[1]-V[1]))}function getSmooth(t){return isNumber(t)?t:t?.5:0}function getStackedOnPoints(t,n,r){if(!r.valueDim)return[];for(var g=n.count(),y=createFloat32Array(g*2),$=0;$<g;$++){var L=getStackedOnPoint(r,t,n,$);y[$*2]=L[0],y[$*2+1]=L[1]}return y}function turnPointsIntoStep(t,n,r,g,y){var $=r.getBaseAxis(),L=$.dim==="x"||$.dim==="radius"?0:1,V=[],z=0,j=[],re=[],ae=[],oe=[];if(y){for(z=0;z<t.length;z+=2){var ie=n||t;!isNaN(ie[z])&&!isNaN(ie[z+1])&&oe.push(t[z],t[z+1])}t=oe}for(z=0;z<t.length-2;z+=2)switch(ae[0]=t[z+2],ae[1]=t[z+3],re[0]=t[z],re[1]=t[z+1],V.push(re[0],re[1]),g){case"end":j[L]=ae[L],j[1-L]=re[1-L],V.push(j[0],j[1]);break;case"middle":var le=(re[L]+ae[L])/2,ue=[];j[L]=ue[L]=le,j[1-L]=re[1-L],ue[1-L]=ae[1-L],V.push(j[0],j[1]),V.push(ue[0],ue[1]);break;default:j[L]=re[L],j[1-L]=ae[1-L],V.push(j[0],j[1])}return V.push(t[z++],t[z++]),V}function clipColorStops(t,n){var r=[],g=t.length,y,$;function L(re,ae,oe){var ie=re.coord,le=(oe-ie)/(ae.coord-ie),ue=lerp(le,[re.color,ae.color]);return{coord:oe,color:ue}}for(var V=0;V<g;V++){var z=t[V],j=z.coord;if(j<0)y=z;else if(j>n){$?r.push(L($,z,n)):y&&r.push(L(y,z,0),L(y,z,n));break}else y&&(r.push(L(y,z,0)),y=null),r.push(z),$=z}return r}function getVisualGradient(t,n,r){var g=t.getVisual("visualMeta");if(!(!g||!g.length||!t.count())&&n.type==="cartesian2d"){for(var y,$,L=g.length-1;L>=0;L--){var V=t.getDimensionInfo(g[L].dimension);if(y=V&&V.coordDim,y==="x"||y==="y"){$=g[L];break}}if($){var z=n.getAxis(y),j=map$1($.stops,function(_e){return{coord:z.toGlobalCoord(z.dataToCoord(_e.value)),color:_e.color}}),re=j.length,ae=$.outerColors.slice();re&&j[0].coord>j[re-1].coord&&(j.reverse(),ae.reverse());var oe=clipColorStops(j,y==="x"?r.getWidth():r.getHeight()),ie=oe.length;if(!ie&&re)return j[0].coord<0?ae[1]?ae[1]:j[re-1].color:ae[0]?ae[0]:j[0].color;var le=10,ue=oe[0].coord-le,de=oe[ie-1].coord+le,he=de-ue;if(he<.001)return"transparent";each$f(oe,function(_e){_e.offset=(_e.coord-ue)/he}),oe.push({offset:ie?oe[ie-1].offset:.5,color:ae[1]||"transparent"}),oe.unshift({offset:ie?oe[0].offset:.5,color:ae[0]||"transparent"});var pe=new LinearGradient(0,0,0,0,oe,!0);return pe[y]=ue,pe[y+"2"]=de,pe}}}function getIsIgnoreFunc(t,n,r){var g=t.get("showAllSymbol"),y=g==="auto";if(!(g&&!y)){var $=r.getAxesByScale("ordinal")[0];if($&&!(y&&canShowAllSymbolForCategory($,n))){var L=n.mapDimension($.dim),V={};return each$f($.getViewLabels(),function(z){var j=$.scale.getRawOrdinalNumber(z.tickValue);V[j]=1}),function(z){return!V.hasOwnProperty(n.get(L,z))}}}}function canShowAllSymbolForCategory(t,n){var r=t.getExtent(),g=Math.abs(r[1]-r[0])/t.scale.count();isNaN(g)&&(g=0);for(var y=n.count(),$=Math.max(1,Math.round(y/5)),L=0;L<y;L+=$)if(Symbol$1.getSymbolSize(n,L)[t.isHorizontal()?1:0]*1.5>g)return!1;return!0}function isPointNull(t,n){return isNaN(t)||isNaN(n)}function getLastIndexNotNull(t){for(var n=t.length/2;n>0&&isPointNull(t[n*2-2],t[n*2-1]);n--);return n-1}function getPointAtIndex(t,n){return[t[n*2],t[n*2+1]]}function getIndexRange(t,n,r){for(var g=t.length/2,y=r==="x"?0:1,$,L,V=0,z=-1,j=0;j<g;j++)if(L=t[j*2+y],!(isNaN(L)||isNaN(t[j*2+1-y]))){if(j===0){$=L;continue}if($<=n&&L>=n||$>=n&&L<=n){z=j;break}V=j,$=L}return{range:[V,z],t:(n-$)/(L-$)}}function anyStateShowEndLabel(t){if(t.get(["endLabel","show"]))return!0;for(var n=0;n<SPECIAL_STATES.length;n++)if(t.get([SPECIAL_STATES[n],"endLabel","show"]))return!0;return!1}function createLineClipPath(t,n,r,g){if(isCoordinateSystemType(n,"cartesian2d")){var y=g.getModel("endLabel"),$=y.get("valueAnimation"),L=g.getData(),V={lastFrameIndex:0},z=anyStateShowEndLabel(g)?function(ie,le){t._endLabelOnDuring(ie,le,L,V,$,y,n)}:null,j=n.getBaseAxis().isHorizontal(),re=createGridClipPath(n,r,g,function(){var ie=t._endLabel;ie&&r&&V.originalX!=null&&ie.attr({x:V.originalX,y:V.originalY})},z);if(!g.get("clip",!0)){var ae=re.shape,oe=Math.max(ae.width,ae.height);j?(ae.y-=oe,ae.height+=oe*2):(ae.x-=oe,ae.width+=oe*2)}return z&&z(1,re),re}else return createPolarClipPath(n,r,g)}function getEndLabelStateSpecified(t,n){var r=n.getBaseAxis(),g=r.isHorizontal(),y=r.inverse,$=g?y?"right":"left":"center",L=g?"middle":y?"top":"bottom";return{normal:{align:t.get("align")||$,verticalAlign:t.get("verticalAlign")||L}}}var LineView=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(){var r=new Group$3,g=new SymbolDraw;this.group.add(g.group),this._symbolDraw=g,this._lineGroup=r,this._changePolyState=bind$1(this._changePolyState,this)},n.prototype.render=function(r,g,y){var $=r.coordinateSystem,L=this.group,V=r.getData(),z=r.getModel("lineStyle"),j=r.getModel("areaStyle"),re=V.getLayout("points")||[],ae=$.type==="polar",oe=this._coordSys,ie=this._symbolDraw,le=this._polyline,ue=this._polygon,de=this._lineGroup,he=!g.ssr&&r.get("animation"),pe=!j.isEmpty(),_e=j.get("origin"),Ce=prepareDataCoordInfo($,V,_e),xe=pe&&getStackedOnPoints($,V,Ce),Ie=r.get("showSymbol"),$e=r.get("connectNulls"),Oe=Ie&&!ae&&getIsIgnoreFunc(r,V,$),Ne=this._data;Ne&&Ne.eachItemGraphicEl(function(_n,wn){_n.__temp&&(L.remove(_n),Ne.setItemGraphicEl(wn,null))}),Ie||ie.remove(),L.add(de);var Fe=ae?!1:r.get("step"),Ve;$&&$.getArea&&r.get("clip",!0)&&(Ve=$.getArea(),Ve.width!=null?(Ve.x-=.1,Ve.y-=.1,Ve.width+=.2,Ve.height+=.2):Ve.r0&&(Ve.r0-=.5,Ve.r+=.5)),this._clipShapeForSymbol=Ve;var ze=getVisualGradient(V,$,y)||V.getVisual("style")[V.getVisual("drawType")];if(!(le&&oe.type===$.type&&Fe===this._step))Ie&&ie.updateData(V,{isIgnore:Oe,clipShape:Ve,disableAnimation:!0,getSymbolPoint:function(_n){return[re[_n*2],re[_n*2+1]]}}),he&&this._initSymbolLabelAnimation(V,$,Ve),Fe&&(xe&&(xe=turnPointsIntoStep(xe,re,$,Fe,$e)),re=turnPointsIntoStep(re,null,$,Fe,$e)),le=this._newPolyline(re),pe?ue=this._newPolygon(re,xe):ue&&(de.remove(ue),ue=this._polygon=null),ae||this._initOrUpdateEndLabel(r,$,convertToColorString(ze)),de.setClipPath(createLineClipPath(this,$,!0,r));else{pe&&!ue?ue=this._newPolygon(re,xe):ue&&!pe&&(de.remove(ue),ue=this._polygon=null),ae||this._initOrUpdateEndLabel(r,$,convertToColorString(ze));var Et=de.getClipPath();if(Et){var Dt=createLineClipPath(this,$,!1,r);initProps(Et,{shape:Dt.shape},r)}else de.setClipPath(createLineClipPath(this,$,!0,r));Ie&&ie.updateData(V,{isIgnore:Oe,clipShape:Ve,disableAnimation:!0,getSymbolPoint:function(_n){return[re[_n*2],re[_n*2+1]]}}),(!isPointsSame(this._stackedOnPoints,xe)||!isPointsSame(this._points,re))&&(he?this._doUpdateAnimation(V,xe,$,y,Fe,_e,$e):(Fe&&(xe&&(xe=turnPointsIntoStep(xe,re,$,Fe,$e)),re=turnPointsIntoStep(re,null,$,Fe,$e)),le.setShape({points:re}),ue&&ue.setShape({points:re,stackedOnPoints:xe})))}var Ue=r.getModel("emphasis"),qe=Ue.get("focus"),Lt=Ue.get("blurScope"),Pt=Ue.get("disabled");if(le.useStyle(defaults(z.getLineStyle(),{fill:"none",stroke:ze,lineJoin:"bevel"})),setStatesStylesFromModel(le,r,"lineStyle"),le.style.lineWidth>0&&r.get(["emphasis","lineStyle","width"])==="bolder"){var At=le.getState("emphasis").style;At.lineWidth=+le.style.lineWidth+1}getECData(le).seriesIndex=r.seriesIndex,toggleHoverEmphasis(le,qe,Lt,Pt);var vn=getSmooth(r.get("smooth")),En=r.get("smoothMonotone");if(le.setShape({smooth:vn,smoothMonotone:En,connectNulls:$e}),ue){var Sn=V.getCalculationInfo("stackedOnSeries"),kt=0;ue.useStyle(defaults(j.getAreaStyle(),{fill:ze,opacity:.7,lineJoin:"bevel",decal:V.getVisual("style").decal})),Sn&&(kt=getSmooth(Sn.get("smooth"))),ue.setShape({smooth:vn,stackedOnSmooth:kt,smoothMonotone:En,connectNulls:$e}),setStatesStylesFromModel(ue,r,"areaStyle"),getECData(ue).seriesIndex=r.seriesIndex,toggleHoverEmphasis(ue,qe,Lt,Pt)}var jt=this._changePolyState;V.eachItemGraphicEl(function(_n){_n&&(_n.onHoverStateChange=jt)}),this._polyline.onHoverStateChange=jt,this._data=V,this._coordSys=$,this._stackedOnPoints=xe,this._points=re,this._step=Fe,this._valueOrigin=_e,r.get("triggerLineEvent")&&(this.packEventData(r,le),ue&&this.packEventData(r,ue))},n.prototype.packEventData=function(r,g){getECData(g).eventData={componentType:"series",componentSubType:"line",componentIndex:r.componentIndex,seriesIndex:r.seriesIndex,seriesName:r.name,seriesType:"line"}},n.prototype.highlight=function(r,g,y,$){var L=r.getData(),V=queryDataIndex(L,$);if(this._changePolyState("emphasis"),!(V instanceof Array)&&V!=null&&V>=0){var z=L.getLayout("points"),j=L.getItemGraphicEl(V);if(!j){var re=z[V*2],ae=z[V*2+1];if(isNaN(re)||isNaN(ae)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(re,ae))return;var oe=r.get("zlevel")||0,ie=r.get("z")||0;j=new Symbol$1(L,V),j.x=re,j.y=ae,j.setZ(oe,ie);var le=j.getSymbolPath().getTextContent();le&&(le.zlevel=oe,le.z=ie,le.z2=this._polyline.z2+1),j.__temp=!0,L.setItemGraphicEl(V,j),j.stopSymbolAnimation(!0),this.group.add(j)}j.highlight()}else ChartView.prototype.highlight.call(this,r,g,y,$)},n.prototype.downplay=function(r,g,y,$){var L=r.getData(),V=queryDataIndex(L,$);if(this._changePolyState("normal"),V!=null&&V>=0){var z=L.getItemGraphicEl(V);z&&(z.__temp?(L.setItemGraphicEl(V,null),this.group.remove(z)):z.downplay())}else ChartView.prototype.downplay.call(this,r,g,y,$)},n.prototype._changePolyState=function(r){var g=this._polygon;setStatesFlag(this._polyline,r),g&&setStatesFlag(g,r)},n.prototype._newPolyline=function(r){var g=this._polyline;return g&&this._lineGroup.remove(g),g=new ECPolyline({shape:{points:r},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(g),this._polyline=g,g},n.prototype._newPolygon=function(r,g){var y=this._polygon;return y&&this._lineGroup.remove(y),y=new ECPolygon({shape:{points:r,stackedOnPoints:g},segmentIgnoreThreshold:2}),this._lineGroup.add(y),this._polygon=y,y},n.prototype._initSymbolLabelAnimation=function(r,g,y){var $,L,V=g.getBaseAxis(),z=V.inverse;g.type==="cartesian2d"?($=V.isHorizontal(),L=!1):g.type==="polar"&&($=V.dim==="angle",L=!0);var j=r.hostModel,re=j.get("animationDuration");isFunction(re)&&(re=re(null));var ae=j.get("animationDelay")||0,oe=isFunction(ae)?ae(null):ae;r.eachItemGraphicEl(function(ie,le){var ue=ie;if(ue){var de=[ie.x,ie.y],he=void 0,pe=void 0,_e=void 0;if(y)if(L){var Ce=y,xe=g.pointToCoord(de);$?(he=Ce.startAngle,pe=Ce.endAngle,_e=-xe[1]/180*Math.PI):(he=Ce.r0,pe=Ce.r,_e=xe[0])}else{var Ie=y;$?(he=Ie.x,pe=Ie.x+Ie.width,_e=ie.x):(he=Ie.y+Ie.height,pe=Ie.y,_e=ie.y)}var $e=pe===he?0:(_e-he)/(pe-he);z&&($e=1-$e);var Oe=isFunction(ae)?ae(le):re*$e+oe,Ne=ue.getSymbolPath(),Fe=Ne.getTextContent();ue.attr({scaleX:0,scaleY:0}),ue.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:Oe}),Fe&&Fe.animateFrom({style:{opacity:0}},{duration:300,delay:Oe}),Ne.disableLabelAnimation=!0}})},n.prototype._initOrUpdateEndLabel=function(r,g,y){var $=r.getModel("endLabel");if(anyStateShowEndLabel(r)){var L=r.getData(),V=this._polyline,z=L.getLayout("points");if(!z){V.removeTextContent(),this._endLabel=null;return}var j=this._endLabel;j||(j=this._endLabel=new ZRText({z2:200}),j.ignoreClip=!0,V.setTextContent(this._endLabel),V.disableLabelAnimation=!0);var re=getLastIndexNotNull(z);re>=0&&(setLabelStyle(V,getLabelStatesModels(r,"endLabel"),{inheritColor:y,labelFetcher:r,labelDataIndex:re,defaultText:function(ae,oe,ie){return ie!=null?getDefaultInterpolatedLabel(L,ie):getDefaultLabel(L,ae)},enableTextSetter:!0},getEndLabelStateSpecified($,g)),V.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},n.prototype._endLabelOnDuring=function(r,g,y,$,L,V,z){var j=this._endLabel,re=this._polyline;if(j){r<1&&$.originalX==null&&($.originalX=j.x,$.originalY=j.y);var ae=y.getLayout("points"),oe=y.hostModel,ie=oe.get("connectNulls"),le=V.get("precision"),ue=V.get("distance")||0,de=z.getBaseAxis(),he=de.isHorizontal(),pe=de.inverse,_e=g.shape,Ce=pe?he?_e.x:_e.y+_e.height:he?_e.x+_e.width:_e.y,xe=(he?ue:0)*(pe?-1:1),Ie=(he?0:-ue)*(pe?-1:1),$e=he?"x":"y",Oe=getIndexRange(ae,Ce,$e),Ne=Oe.range,Fe=Ne[1]-Ne[0],Ve=void 0;if(Fe>=1){if(Fe>1&&!ie){var ze=getPointAtIndex(ae,Ne[0]);j.attr({x:ze[0]+xe,y:ze[1]+Ie}),L&&(Ve=oe.getRawValue(Ne[0]))}else{var ze=re.getPointOn(Ce,$e);ze&&j.attr({x:ze[0]+xe,y:ze[1]+Ie});var Et=oe.getRawValue(Ne[0]),Dt=oe.getRawValue(Ne[1]);L&&(Ve=interpolateRawValues(y,le,Et,Dt,Oe.t))}$.lastFrameIndex=Ne[0]}else{var Ue=r===1||$.lastFrameIndex>0?Ne[0]:0,ze=getPointAtIndex(ae,Ue);L&&(Ve=oe.getRawValue(Ue)),j.attr({x:ze[0]+xe,y:ze[1]+Ie})}if(L){var qe=labelInner(j);typeof qe.setLabelText=="function"&&qe.setLabelText(Ve)}}},n.prototype._doUpdateAnimation=function(r,g,y,$,L,V,z){var j=this._polyline,re=this._polygon,ae=r.hostModel,oe=lineAnimationDiff(this._data,r,this._stackedOnPoints,g,this._coordSys,y,this._valueOrigin),ie=oe.current,le=oe.stackedOnCurrent,ue=oe.next,de=oe.stackedOnNext;if(L&&(le=turnPointsIntoStep(oe.stackedOnCurrent,oe.current,y,L,z),ie=turnPointsIntoStep(oe.current,null,y,L,z),de=turnPointsIntoStep(oe.stackedOnNext,oe.next,y,L,z),ue=turnPointsIntoStep(oe.next,null,y,L,z)),getBoundingDiff(ie,ue)>3e3||re&&getBoundingDiff(le,de)>3e3){j.stopAnimation(),j.setShape({points:ue}),re&&(re.stopAnimation(),re.setShape({points:ue,stackedOnPoints:de}));return}j.shape.__points=oe.current,j.shape.points=ie;var he={shape:{points:ue}};oe.current!==ie&&(he.shape.__points=oe.next),j.stopAnimation(),updateProps$1(j,he,ae),re&&(re.setShape({points:ie,stackedOnPoints:le}),re.stopAnimation(),updateProps$1(re,{shape:{stackedOnPoints:de}},ae),j.shape.points!==re.shape.points&&(re.shape.points=j.shape.points));for(var pe=[],_e=oe.status,Ce=0;Ce<_e.length;Ce++){var xe=_e[Ce].cmd;if(xe==="="){var Ie=r.getItemGraphicEl(_e[Ce].idx1);Ie&&pe.push({el:Ie,ptIdx:Ce})}}j.animators&&j.animators.length&&j.animators[0].during(function(){re&&re.dirtyShape();for(var $e=j.shape.__points,Oe=0;Oe<pe.length;Oe++){var Ne=pe[Oe].el,Fe=pe[Oe].ptIdx*2;Ne.x=$e[Fe],Ne.y=$e[Fe+1],Ne.markRedraw()}})},n.prototype.remove=function(r){var g=this.group,y=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),y&&y.eachItemGraphicEl(function($,L){$.__temp&&(g.remove($),y.setItemGraphicEl(L,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},n.type="line",n}(ChartView);function pointsLayout(t,n){return{seriesType:t,plan:createRenderPlanner(),reset:function(r){var g=r.getData(),y=r.coordinateSystem,$=r.pipelineContext,L=n||$.large;if(y){var V=map$1(y.dimensions,function(ie){return g.mapDimension(ie)}).slice(0,2),z=V.length,j=g.getCalculationInfo("stackResultDimension");isDimensionStacked(g,V[0])&&(V[0]=j),isDimensionStacked(g,V[1])&&(V[1]=j);var re=g.getStore(),ae=g.getDimensionIndex(V[0]),oe=g.getDimensionIndex(V[1]);return z&&{progress:function(ie,le){for(var ue=ie.end-ie.start,de=L&&createFloat32Array(ue*z),he=[],pe=[],_e=ie.start,Ce=0;_e<ie.end;_e++){var xe=void 0;if(z===1){var Ie=re.get(ae,_e);xe=y.dataToPoint(Ie,null,pe)}else he[0]=re.get(ae,_e),he[1]=re.get(oe,_e),xe=y.dataToPoint(he,null,pe);L?(de[Ce++]=xe[0],de[Ce++]=xe[1]):le.setItemLayout(_e,xe.slice())}L&&le.setLayout("points",de)}}}}}}var samplers={average:function(t){for(var n=0,r=0,g=0;g<t.length;g++)isNaN(t[g])||(n+=t[g],r++);return r===0?NaN:n/r},sum:function(t){for(var n=0,r=0;r<t.length;r++)n+=t[r]||0;return n},max:function(t){for(var n=-1/0,r=0;r<t.length;r++)t[r]>n&&(n=t[r]);return isFinite(n)?n:NaN},min:function(t){for(var n=1/0,r=0;r<t.length;r++)t[r]<n&&(n=t[r]);return isFinite(n)?n:NaN},nearest:function(t){return t[0]}},indexSampler=function(t){return Math.round(t.length/2)};function dataSample(t){return{seriesType:t,reset:function(n,r,g){var y=n.getData(),$=n.get("sampling"),L=n.coordinateSystem,V=y.count();if(V>10&&L.type==="cartesian2d"&&$){var z=L.getBaseAxis(),j=L.getOtherAxis(z),re=z.getExtent(),ae=g.getDevicePixelRatio(),oe=Math.abs(re[1]-re[0])*(ae||1),ie=Math.round(V/oe);if(isFinite(ie)&&ie>1){$==="lttb"?n.setData(y.lttbDownSample(y.mapDimension(j.dim),1/ie)):$==="minmax"&&n.setData(y.minmaxDownSample(y.mapDimension(j.dim),1/ie));var le=void 0;isString($)?le=samplers[$]:isFunction($)&&(le=$),le&&n.setData(y.downSample(y.mapDimension(j.dim),1/ie,le,indexSampler))}}}}}function install$Q(t){t.registerChartView(LineView),t.registerSeriesModel(LineSeriesModel),t.registerLayout(pointsLayout("line",!0)),t.registerVisual({seriesType:"line",reset:function(n){var r=n.getData(),g=n.getModel("lineStyle").getLineStyle();g&&!g.stroke&&(g.stroke=r.getVisual("style").fill),r.setVisual("legendLineStyle",g)}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,dataSample("line"))}var BaseBarSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,g){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getMarkerPosition=function(r,g,y){var $=this.coordinateSystem;if($&&$.clampData){var L=$.clampData(r),V=$.dataToPoint(L);if(y)each$f($.getAxes(),function(oe,ie){if(oe.type==="category"&&g!=null){var le=oe.getTicksCoords(),ue=oe.getTickModel().get("alignWithLabel"),de=L[ie],he=g[ie]==="x1"||g[ie]==="y1";if(he&&!ue&&(de+=1),le.length<2)return;if(le.length===2){V[ie]=oe.toGlobalCoord(oe.getExtent()[he?1:0]);return}for(var pe=void 0,_e=void 0,Ce=1,xe=0;xe<le.length;xe++){var Ie=le[xe].coord,$e=xe===le.length-1?le[xe-1].tickValue+Ce:le[xe].tickValue;if($e===de){_e=Ie;break}else if($e<de)pe=Ie;else if(pe!=null&&$e>de){_e=(Ie+pe)/2;break}xe===1&&(Ce=$e-le[0].tickValue)}_e==null&&(pe?pe&&(_e=le[le.length-1].coord):_e=le[0].coord),V[ie]=oe.toGlobalCoord(_e)}});else{var z=this.getData(),j=z.getLayout("offset"),re=z.getLayout("size"),ae=$.getBaseAxis().isHorizontal()?0:1;V[ae]+=j+re/2}return V}return[NaN,NaN]},n.type="series.__base_bar__",n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},n}(SeriesModel);SeriesModel.registerClass(BaseBarSeriesModel);var BarSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(){return createSeriesData(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},n.prototype.getProgressive=function(){return this.get("large")?this.get("progressive"):!1},n.prototype.getProgressiveThreshold=function(){var r=this.get("progressiveThreshold"),g=this.get("largeThreshold");return g>r&&(r=g),r},n.prototype.brushSelector=function(r,g,y){return y.rect(g.getItemLayout(r))},n.type="series.bar",n.dependencies=["grid","polar"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),n}(BaseBarSeriesModel),SausageShape=function(){function t(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return t}(),SausagePath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="sausage",g}return n.prototype.getDefaultShape=function(){return new SausageShape},n.prototype.buildPath=function(r,g){var y=g.cx,$=g.cy,L=Math.max(g.r0||0,0),V=Math.max(g.r,0),z=(V-L)*.5,j=L+z,re=g.startAngle,ae=g.endAngle,oe=g.clockwise,ie=Math.PI*2,le=oe?ae-re<ie:re-ae<ie;le||(re=ae-(oe?ie:-ie));var ue=Math.cos(re),de=Math.sin(re),he=Math.cos(ae),pe=Math.sin(ae);le?(r.moveTo(ue*L+y,de*L+$),r.arc(ue*j+y,de*j+$,z,-Math.PI+re,re,!oe)):r.moveTo(ue*V+y,de*V+$),r.arc(y,$,V,re,ae,!oe),r.arc(he*j+y,pe*j+$,z,ae-Math.PI*2,ae-Math.PI,!oe),L!==0&&r.arc(y,$,L,ae,re,oe)},n}(Path);function createSectorCalculateTextPosition(t,n){n=n||{};var r=n.isRoundCap;return function(g,y,$){var L=y.position;if(!L||L instanceof Array)return calculateTextPosition(g,y,$);var V=t(L),z=y.distance!=null?y.distance:5,j=this.shape,re=j.cx,ae=j.cy,oe=j.r,ie=j.r0,le=(oe+ie)/2,ue=j.startAngle,de=j.endAngle,he=(ue+de)/2,pe=r?Math.abs(oe-ie)/2:0,_e=Math.cos,Ce=Math.sin,xe=re+oe*_e(ue),Ie=ae+oe*Ce(ue),$e="left",Oe="top";switch(V){case"startArc":xe=re+(ie-z)*_e(he),Ie=ae+(ie-z)*Ce(he),$e="center",Oe="top";break;case"insideStartArc":xe=re+(ie+z)*_e(he),Ie=ae+(ie+z)*Ce(he),$e="center",Oe="bottom";break;case"startAngle":xe=re+le*_e(ue)+adjustAngleDistanceX(ue,z+pe,!1),Ie=ae+le*Ce(ue)+adjustAngleDistanceY(ue,z+pe,!1),$e="right",Oe="middle";break;case"insideStartAngle":xe=re+le*_e(ue)+adjustAngleDistanceX(ue,-z+pe,!1),Ie=ae+le*Ce(ue)+adjustAngleDistanceY(ue,-z+pe,!1),$e="left",Oe="middle";break;case"middle":xe=re+le*_e(he),Ie=ae+le*Ce(he),$e="center",Oe="middle";break;case"endArc":xe=re+(oe+z)*_e(he),Ie=ae+(oe+z)*Ce(he),$e="center",Oe="bottom";break;case"insideEndArc":xe=re+(oe-z)*_e(he),Ie=ae+(oe-z)*Ce(he),$e="center",Oe="top";break;case"endAngle":xe=re+le*_e(de)+adjustAngleDistanceX(de,z+pe,!0),Ie=ae+le*Ce(de)+adjustAngleDistanceY(de,z+pe,!0),$e="left",Oe="middle";break;case"insideEndAngle":xe=re+le*_e(de)+adjustAngleDistanceX(de,-z+pe,!0),Ie=ae+le*Ce(de)+adjustAngleDistanceY(de,-z+pe,!0),$e="right",Oe="middle";break;default:return calculateTextPosition(g,y,$)}return g=g||{},g.x=xe,g.y=Ie,g.align=$e,g.verticalAlign=Oe,g}}function setSectorTextRotation(t,n,r,g){if(isNumber(g)){t.setTextConfig({rotation:g});return}else if(isArray$1(n)){t.setTextConfig({rotation:0});return}var y=t.shape,$=y.clockwise?y.startAngle:y.endAngle,L=y.clockwise?y.endAngle:y.startAngle,V=($+L)/2,z,j=r(n);switch(j){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":z=V;break;case"startAngle":case"insideStartAngle":z=$;break;case"endAngle":case"insideEndAngle":z=L;break;default:t.setTextConfig({rotation:0});return}var re=Math.PI*1.5-z;j==="middle"&&re>Math.PI/2&&re<Math.PI*1.5&&(re-=Math.PI),t.setTextConfig({rotation:re})}function adjustAngleDistanceX(t,n,r){return n*Math.sin(t)*(r?-1:1)}function adjustAngleDistanceY(t,n,r){return n*Math.cos(t)*(r?1:-1)}function getSectorCornerRadius(t,n,r){var g=t.get("borderRadius");if(g==null)return r?{cornerRadius:0}:null;isArray$1(g)||(g=[g,g,g,g]);var y=Math.abs(n.r||0-n.r0||0);return{cornerRadius:map$1(g,function($){return parsePercent$1($,y)})}}var mathMax$4=Math.max,mathMin$4=Math.min;function getClipArea(t,n){var r=t.getArea&&t.getArea();if(isCoordinateSystemType(t,"cartesian2d")){var g=t.getBaseAxis();if(g.type!=="category"||!g.onBand){var y=n.getLayout("bandWidth");g.isHorizontal()?(r.x-=y,r.width+=y*2):(r.y-=y,r.height+=y*2)}}return r}var BarView=function(t){__extends(n,t);function n(){var r=t.call(this)||this;return r.type=n.type,r._isFirstFrame=!0,r}return n.prototype.render=function(r,g,y,$){this._model=r,this._removeOnRenderedListener(y),this._updateDrawMode(r);var L=r.get("coordinateSystem");(L==="cartesian2d"||L==="polar")&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(r,g,y):this._renderNormal(r,g,y,$))},n.prototype.incrementalPrepareRender=function(r){this._clear(),this._updateDrawMode(r),this._updateLargeClip(r)},n.prototype.incrementalRender=function(r,g){this._progressiveEls=[],this._incrementalRenderLarge(r,g)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var g=r.pipelineContext.large;(this._isLargeDraw==null||g!==this._isLargeDraw)&&(this._isLargeDraw=g,this._clear())},n.prototype._renderNormal=function(r,g,y,$){var L=this.group,V=r.getData(),z=this._data,j=r.coordinateSystem,re=j.getBaseAxis(),ae;j.type==="cartesian2d"?ae=re.isHorizontal():j.type==="polar"&&(ae=re.dim==="angle");var oe=r.isAnimationEnabled()?r:null,ie=shouldRealtimeSort(r,j);ie&&this._enableRealtimeSort(ie,V,y);var le=r.get("clip",!0)||ie,ue=getClipArea(j,V);L.removeClipPath();var de=r.get("roundCap",!0),he=r.get("showBackground",!0),pe=r.getModel("backgroundStyle"),_e=pe.get("borderRadius")||0,Ce=[],xe=this._backgroundEls,Ie=$&&$.isInitSort,$e=$&&$.type==="changeAxisOrder";function Oe(Ve){var ze=getLayout[j.type](V,Ve),Et=createBackgroundEl(j,ae,ze);return Et.useStyle(pe.getItemStyle()),j.type==="cartesian2d"?Et.setShape("r",_e):Et.setShape("cornerRadius",_e),Ce[Ve]=Et,Et}V.diff(z).add(function(Ve){var ze=V.getItemModel(Ve),Et=getLayout[j.type](V,Ve,ze);if(he&&Oe(Ve),!(!V.hasValue(Ve)||!isValidLayout[j.type](Et))){var Dt=!1;le&&(Dt=clip[j.type](ue,Et));var Ue=elementCreator[j.type](r,V,Ve,Et,ae,oe,re.model,!1,de);ie&&(Ue.forceLabelAnimation=!0),updateStyle(Ue,V,Ve,ze,Et,r,ae,j.type==="polar"),Ie?Ue.attr({shape:Et}):ie?updateRealtimeAnimation(ie,oe,Ue,Et,Ve,ae,!1,!1):initProps(Ue,{shape:Et},r,Ve),V.setItemGraphicEl(Ve,Ue),L.add(Ue),Ue.ignore=Dt}}).update(function(Ve,ze){var Et=V.getItemModel(Ve),Dt=getLayout[j.type](V,Ve,Et);if(he){var Ue=void 0;xe.length===0?Ue=Oe(ze):(Ue=xe[ze],Ue.useStyle(pe.getItemStyle()),j.type==="cartesian2d"?Ue.setShape("r",_e):Ue.setShape("cornerRadius",_e),Ce[Ve]=Ue);var qe=getLayout[j.type](V,Ve),Lt=createBackgroundShape(ae,qe,j);updateProps$1(Ue,{shape:Lt},oe,Ve)}var Pt=z.getItemGraphicEl(ze);if(!V.hasValue(Ve)||!isValidLayout[j.type](Dt)){L.remove(Pt);return}var At=!1;if(le&&(At=clip[j.type](ue,Dt),At&&L.remove(Pt)),Pt?saveOldStyle(Pt):Pt=elementCreator[j.type](r,V,Ve,Dt,ae,oe,re.model,!!Pt,de),ie&&(Pt.forceLabelAnimation=!0),$e){var vn=Pt.getTextContent();if(vn){var En=labelInner(vn);En.prevValue!=null&&(En.prevValue=En.value)}}else updateStyle(Pt,V,Ve,Et,Dt,r,ae,j.type==="polar");Ie?Pt.attr({shape:Dt}):ie?updateRealtimeAnimation(ie,oe,Pt,Dt,Ve,ae,!0,$e):updateProps$1(Pt,{shape:Dt},r,Ve,null),V.setItemGraphicEl(Ve,Pt),Pt.ignore=At,L.add(Pt)}).remove(function(Ve){var ze=z.getItemGraphicEl(Ve);ze&&removeElementWithFadeOut(ze,r,Ve)}).execute();var Ne=this._backgroundGroup||(this._backgroundGroup=new Group$3);Ne.removeAll();for(var Fe=0;Fe<Ce.length;++Fe)Ne.add(Ce[Fe]);L.add(Ne),this._backgroundEls=Ce,this._data=V},n.prototype._renderLarge=function(r,g,y){this._clear(),createLarge$1(r,this.group),this._updateLargeClip(r)},n.prototype._incrementalRenderLarge=function(r,g){this._removeBackground(),createLarge$1(g,this.group,this._progressiveEls,!0)},n.prototype._updateLargeClip=function(r){var g=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r),y=this.group;g?y.setClipPath(g):y.removeClipPath()},n.prototype._enableRealtimeSort=function(r,g,y){var $=this;if(g.count()){var L=r.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(g,r,y),this._isFirstFrame=!1;else{var V=function(z){var j=g.getItemGraphicEl(z),re=j&&j.shape;return re&&Math.abs(L.isHorizontal()?re.height:re.width)||0};this._onRendered=function(){$._updateSortWithinSameData(g,V,L,y)},y.getZr().on("rendered",this._onRendered)}}},n.prototype._dataSort=function(r,g,y){var $=[];return r.each(r.mapDimension(g.dim),function(L,V){var z=y(V);z=z??NaN,$.push({dataIndex:V,mappedValue:z,ordinalNumber:L})}),$.sort(function(L,V){return V.mappedValue-L.mappedValue}),{ordinalNumbers:map$1($,function(L){return L.ordinalNumber})}},n.prototype._isOrderChangedWithinSameData=function(r,g,y){for(var $=y.scale,L=r.mapDimension(y.dim),V=Number.MAX_VALUE,z=0,j=$.getOrdinalMeta().categories.length;z<j;++z){var re=r.rawIndexOf(L,$.getRawOrdinalNumber(z)),ae=re<0?Number.MIN_VALUE:g(r.indexOfRawIndex(re));if(ae>V)return!0;V=ae}return!1},n.prototype._isOrderDifferentInView=function(r,g){for(var y=g.scale,$=y.getExtent(),L=Math.max(0,$[0]),V=Math.min($[1],y.getOrdinalMeta().categories.length-1);L<=V;++L)if(r.ordinalNumbers[L]!==y.getRawOrdinalNumber(L))return!0},n.prototype._updateSortWithinSameData=function(r,g,y,$){if(this._isOrderChangedWithinSameData(r,g,y)){var L=this._dataSort(r,y,g);this._isOrderDifferentInView(L,y)&&(this._removeOnRenderedListener($),$.dispatchAction({type:"changeAxisOrder",componentType:y.dim+"Axis",axisId:y.index,sortInfo:L}))}},n.prototype._dispatchInitSort=function(r,g,y){var $=g.baseAxis,L=this._dataSort(r,$,function(V){return r.get(r.mapDimension(g.otherAxis.dim),V)});y.dispatchAction({type:"changeAxisOrder",componentType:$.dim+"Axis",isInitSort:!0,axisId:$.index,sortInfo:L})},n.prototype.remove=function(r,g){this._clear(this._model),this._removeOnRenderedListener(g)},n.prototype.dispose=function(r,g){this._removeOnRenderedListener(g)},n.prototype._removeOnRenderedListener=function(r){this._onRendered&&(r.getZr().off("rendered",this._onRendered),this._onRendered=null)},n.prototype._clear=function(r){var g=this.group,y=this._data;r&&r.isAnimationEnabled()&&y&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],y.eachItemGraphicEl(function($){removeElementWithFadeOut($,r,getECData($).dataIndex)})):g.removeAll(),this._data=null,this._isFirstFrame=!0},n.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},n.type="bar",n}(ChartView),clip={cartesian2d:function(t,n){var r=n.width<0?-1:1,g=n.height<0?-1:1;r<0&&(n.x+=n.width,n.width=-n.width),g<0&&(n.y+=n.height,n.height=-n.height);var y=t.x+t.width,$=t.y+t.height,L=mathMax$4(n.x,t.x),V=mathMin$4(n.x+n.width,y),z=mathMax$4(n.y,t.y),j=mathMin$4(n.y+n.height,$),re=V<L,ae=j<z;return n.x=re&&L>y?V:L,n.y=ae&&z>$?j:z,n.width=re?0:V-L,n.height=ae?0:j-z,r<0&&(n.x+=n.width,n.width=-n.width),g<0&&(n.y+=n.height,n.height=-n.height),re||ae},polar:function(t,n){var r=n.r0<=n.r?1:-1;if(r<0){var g=n.r;n.r=n.r0,n.r0=g}var y=mathMin$4(n.r,t.r),$=mathMax$4(n.r0,t.r0);n.r=y,n.r0=$;var L=y-$<0;if(r<0){var g=n.r;n.r=n.r0,n.r0=g}return L}},elementCreator={cartesian2d:function(t,n,r,g,y,$,L,V,z){var j=new Rect$2({shape:extend({},g),z2:1});if(j.__dataIndex=r,j.name="item",$){var re=j.shape,ae=y?"height":"width";re[ae]=0}return j},polar:function(t,n,r,g,y,$,L,V,z){var j=!y&&z?SausagePath:Sector,re=new j({shape:g,z2:1});re.name="item";var ae=createPolarPositionMapping(y);if(re.calculateTextPosition=createSectorCalculateTextPosition(ae,{isRoundCap:j===SausagePath}),$){var oe=re.shape,ie=y?"r":"endAngle",le={};oe[ie]=y?g.r0:g.startAngle,le[ie]=g[ie],(V?updateProps$1:initProps)(re,{shape:le},$)}return re}};function shouldRealtimeSort(t,n){var r=t.get("realtimeSort",!0),g=n.getBaseAxis();if(r&&g.type==="category"&&n.type==="cartesian2d")return{baseAxis:g,otherAxis:n.getOtherAxis(g)}}function updateRealtimeAnimation(t,n,r,g,y,$,L,V){var z,j;$?(j={x:g.x,width:g.width},z={y:g.y,height:g.height}):(j={y:g.y,height:g.height},z={x:g.x,width:g.width}),V||(L?updateProps$1:initProps)(r,{shape:z},n,y,null);var re=n?t.baseAxis.model:null;(L?updateProps$1:initProps)(r,{shape:j},re,y)}function checkPropertiesNotValid(t,n){for(var r=0;r<n.length;r++)if(!isFinite(t[n[r]]))return!0;return!1}var rectPropties=["x","y","width","height"],polarPropties=["cx","cy","r","startAngle","endAngle"],isValidLayout={cartesian2d:function(t){return!checkPropertiesNotValid(t,rectPropties)},polar:function(t){return!checkPropertiesNotValid(t,polarPropties)}},getLayout={cartesian2d:function(t,n,r){var g=t.getItemLayout(n),y=r?getLineWidth(r,g):0,$=g.width>0?1:-1,L=g.height>0?1:-1;return{x:g.x+$*y/2,y:g.y+L*y/2,width:g.width-$*y,height:g.height-L*y}},polar:function(t,n,r){var g=t.getItemLayout(n);return{cx:g.cx,cy:g.cy,r0:g.r0,r:g.r,startAngle:g.startAngle,endAngle:g.endAngle,clockwise:g.clockwise}}};function isZeroOnPolar(t){return t.startAngle!=null&&t.endAngle!=null&&t.startAngle===t.endAngle}function createPolarPositionMapping(t){return function(n){var r=n?"Arc":"Angle";return function(g){switch(g){case"start":case"insideStart":case"end":case"insideEnd":return g+r;default:return g}}}(t)}function updateStyle(t,n,r,g,y,$,L,V){var z=n.getItemVisual(r,"style");if(V){if(!$.get("roundCap")){var re=t.shape,ae=getSectorCornerRadius(g.getModel("itemStyle"),re,!0);extend(re,ae),t.setShape(re)}}else{var j=g.get(["itemStyle","borderRadius"])||0;t.setShape("r",j)}t.useStyle(z);var oe=g.getShallow("cursor");oe&&t.attr("cursor",oe);var ie=V?L?y.r>=y.r0?"endArc":"startArc":y.endAngle>=y.startAngle?"endAngle":"startAngle":L?y.height>=0?"bottom":"top":y.width>=0?"right":"left",le=getLabelStatesModels(g);setLabelStyle(t,le,{labelFetcher:$,labelDataIndex:r,defaultText:getDefaultLabel($.getData(),r),inheritColor:z.fill,defaultOpacity:z.opacity,defaultOutsidePosition:ie});var ue=t.getTextContent();if(V&&ue){var de=g.get(["label","position"]);t.textConfig.inside=de==="middle"?!0:null,setSectorTextRotation(t,de==="outside"?ie:de,createPolarPositionMapping(L),g.get(["label","rotate"]))}setLabelValueAnimation(ue,le,$.getRawValue(r),function(pe){return getDefaultInterpolatedLabel(n,pe)});var he=g.getModel(["emphasis"]);toggleHoverEmphasis(t,he.get("focus"),he.get("blurScope"),he.get("disabled")),setStatesStylesFromModel(t,g),isZeroOnPolar(y)&&(t.style.fill="none",t.style.stroke="none",each$f(t.states,function(pe){pe.style&&(pe.style.fill=pe.style.stroke="none")}))}function getLineWidth(t,n){var r=t.get(["itemStyle","borderColor"]);if(!r||r==="none")return 0;var g=t.get(["itemStyle","borderWidth"])||0,y=isNaN(n.width)?Number.MAX_VALUE:Math.abs(n.width),$=isNaN(n.height)?Number.MAX_VALUE:Math.abs(n.height);return Math.min(g,y,$)}var LagePathShape=function(){function t(){}return t}(),LargePath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="largeBar",g}return n.prototype.getDefaultShape=function(){return new LagePathShape},n.prototype.buildPath=function(r,g){for(var y=g.points,$=this.baseDimIdx,L=1-this.baseDimIdx,V=[],z=[],j=this.barWidth,re=0;re<y.length;re+=3)z[$]=j,z[L]=y[re+2],V[$]=y[re+$],V[L]=y[re+L],r.rect(V[0],V[1],z[0],z[1])},n}(Path);function createLarge$1(t,n,r,g){var y=t.getData(),$=y.getLayout("valueAxisHorizontal")?1:0,L=y.getLayout("largeDataIndices"),V=y.getLayout("size"),z=t.getModel("backgroundStyle"),j=y.getLayout("largeBackgroundPoints");if(j){var re=new LargePath({shape:{points:j},incremental:!!g,silent:!0,z2:0});re.baseDimIdx=$,re.largeDataIndices=L,re.barWidth=V,re.useStyle(z.getItemStyle()),n.add(re),r&&r.push(re)}var ae=new LargePath({shape:{points:y.getLayout("largePoints")},incremental:!!g,ignoreCoarsePointer:!0,z2:1});ae.baseDimIdx=$,ae.largeDataIndices=L,ae.barWidth=V,n.add(ae),ae.useStyle(y.getVisual("style")),ae.style.stroke=null,getECData(ae).seriesIndex=t.seriesIndex,t.get("silent")||(ae.on("mousedown",largePathUpdateDataIndex),ae.on("mousemove",largePathUpdateDataIndex)),r&&r.push(ae)}var largePathUpdateDataIndex=throttle(function(t){var n=this,r=largePathFindDataIndex(n,t.offsetX,t.offsetY);getECData(n).dataIndex=r>=0?r:null},30,!1);function largePathFindDataIndex(t,n,r){for(var g=t.baseDimIdx,y=1-g,$=t.shape.points,L=t.largeDataIndices,V=[],z=[],j=t.barWidth,re=0,ae=$.length/3;re<ae;re++){var oe=re*3;if(z[g]=j,z[y]=$[oe+2],V[g]=$[oe+g],V[y]=$[oe+y],z[y]<0&&(V[y]+=z[y],z[y]=-z[y]),n>=V[0]&&n<=V[0]+z[0]&&r>=V[1]&&r<=V[1]+z[1])return L[re]}return-1}function createBackgroundShape(t,n,r){if(isCoordinateSystemType(r,"cartesian2d")){var g=n,y=r.getArea();return{x:t?g.x:y.x,y:t?y.y:g.y,width:t?g.width:y.width,height:t?y.height:g.height}}else{var y=r.getArea(),$=n;return{cx:y.cx,cy:y.cy,r0:t?y.r0:$.r0,r:t?y.r:$.r,startAngle:t?$.startAngle:0,endAngle:t?$.endAngle:Math.PI*2}}}function createBackgroundEl(t,n,r){var g=t.type==="polar"?Sector:Rect$2;return new g({shape:createBackgroundShape(n,r,t),silent:!0,z2:0})}function install$P(t){t.registerChartView(BarView),t.registerSeriesModel(BarSeriesModel),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,dataSample("bar")),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(n,r){var g=n.componentType||"series";r.eachComponent({mainType:g,query:n},function(y){n.sortInfo&&y.axis.setCategorySortInfo(n.sortInfo)})})}var PI2=Math.PI*2,RADIAN$2=Math.PI/180;function getViewRect$5(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getBasicPieLayout(t,n){var r=getViewRect$5(t,n),g=t.get("center"),y=t.get("radius");isArray$1(y)||(y=[0,y]);var $=parsePercent(r.width,n.getWidth()),L=parsePercent(r.height,n.getHeight()),V=Math.min($,L),z=parsePercent(y[0],V/2),j=parsePercent(y[1],V/2),re,ae,oe=t.coordinateSystem;if(oe){var ie=oe.dataToPoint(g);re=ie[0]||0,ae=ie[1]||0}else isArray$1(g)||(g=[g,g]),re=parsePercent(g[0],$)+r.x,ae=parsePercent(g[1],L)+r.y;return{cx:re,cy:ae,r0:z,r:j}}function pieLayout(t,n,r){n.eachSeriesByType(t,function(g){var y=g.getData(),$=y.mapDimension("value"),L=getViewRect$5(g,r),V=getBasicPieLayout(g,r),z=V.cx,j=V.cy,re=V.r,ae=V.r0,oe=-g.get("startAngle")*RADIAN$2,ie=g.get("endAngle"),le=g.get("padAngle")*RADIAN$2;ie=ie==="auto"?oe-PI2:-ie*RADIAN$2;var ue=g.get("minAngle")*RADIAN$2,de=ue+le,he=0;y.each($,function(Lt){!isNaN(Lt)&&he++});var pe=y.getSum($),_e=Math.PI/(pe||he)*2,Ce=g.get("clockwise"),xe=g.get("roseType"),Ie=g.get("stillShowZeroSum"),$e=y.getDataExtent($);$e[0]=0;var Oe=Ce?1:-1,Ne=[oe,ie],Fe=Oe*le/2;normalizeArcAngles(Ne,!Ce),oe=Ne[0],ie=Ne[1];var Ve=getSeriesLayoutData(g);Ve.startAngle=oe,Ve.endAngle=ie,Ve.clockwise=Ce;var ze=Math.abs(ie-oe),Et=ze,Dt=0,Ue=oe;if(y.setLayout({viewRect:L,r:re}),y.each($,function(Lt,Pt){var At;if(isNaN(Lt)){y.setItemLayout(Pt,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:Ce,cx:z,cy:j,r0:ae,r:xe?NaN:re});return}xe!=="area"?At=pe===0&&Ie?_e:Lt*_e:At=ze/he,At<de?(At=de,Et-=de):Dt+=Lt;var vn=Ue+Oe*At,En=0,Sn=0;le>At?(En=Ue+Oe*At/2,Sn=En):(En=Ue+Fe,Sn=vn-Fe),y.setItemLayout(Pt,{angle:At,startAngle:En,endAngle:Sn,clockwise:Ce,cx:z,cy:j,r0:ae,r:xe?linearMap$2(Lt,$e,[ae,re]):re}),Ue=vn}),Et<PI2&&he)if(Et<=.001){var qe=ze/he;y.each($,function(Lt,Pt){if(!isNaN(Lt)){var At=y.getItemLayout(Pt);At.angle=qe;var vn=0,En=0;qe<le?(vn=oe+Oe*(Pt+1/2)*qe,En=vn):(vn=oe+Oe*Pt*qe+Fe,En=oe+Oe*(Pt+1)*qe-Fe),At.startAngle=vn,At.endAngle=En}})}else _e=Et/Dt,Ue=oe,y.each($,function(Lt,Pt){if(!isNaN(Lt)){var At=y.getItemLayout(Pt),vn=At.angle===de?de:Lt*_e,En=0,Sn=0;vn<le?(En=Ue+Oe*vn/2,Sn=En):(En=Ue+Fe,Sn=Ue+Oe*vn-Fe),At.startAngle=En,At.endAngle=Sn,Ue+=Oe*vn}})})}var getSeriesLayoutData=makeInner();function dataFilter$1(t){return{seriesType:t,reset:function(n,r){var g=r.findComponents({mainType:"legend"});if(!(!g||!g.length)){var y=n.getData();y.filterSelf(function($){for(var L=y.getName($),V=0;V<g.length;V++)if(!g[V].isSelected(L))return!1;return!0})}}}}var RADIAN$1=Math.PI/180;function adjustSingleSide(t,n,r,g,y,$,L,V,z,j){if(t.length<2)return;function re(ue){for(var de=ue.rB,he=de*de,pe=0;pe<ue.list.length;pe++){var _e=ue.list[pe],Ce=Math.abs(_e.label.y-r),xe=g+_e.len,Ie=xe*xe,$e=Math.sqrt(Math.abs((1-Ce*Ce/he)*Ie)),Oe=n+($e+_e.len2)*y,Ne=Oe-_e.label.x,Fe=_e.targetTextWidth-Ne*y;constrainTextWidth(_e,Fe,!0),_e.label.x=Oe}}function ae(ue){for(var de={list:[],maxY:0},he={list:[],maxY:0},pe=0;pe<ue.length;pe++)if(ue[pe].labelAlignTo==="none"){var _e=ue[pe],Ce=_e.label.y>r?he:de,xe=Math.abs(_e.label.y-r);if(xe>=Ce.maxY){var Ie=_e.label.x-n-_e.len2*y,$e=g+_e.len,Oe=Math.abs(Ie)<$e?Math.sqrt(xe*xe/(1-Ie*Ie/$e/$e)):$e;Ce.rB=Oe,Ce.maxY=xe}Ce.list.push(_e)}re(de),re(he)}for(var oe=t.length,ie=0;ie<oe;ie++)if(t[ie].position==="outer"&&t[ie].labelAlignTo==="labelLine"){var le=t[ie].label.x-j;t[ie].linePoints[1][0]+=le,t[ie].label.x=j}shiftLayoutOnY(t,z,z+L)&&ae(t)}function avoidOverlap(t,n,r,g,y,$,L,V){for(var z=[],j=[],re=Number.MAX_VALUE,ae=-Number.MAX_VALUE,oe=0;oe<t.length;oe++){var ie=t[oe].label;isPositionCenter(t[oe])||(ie.x<n?(re=Math.min(re,ie.x),z.push(t[oe])):(ae=Math.max(ae,ie.x),j.push(t[oe])))}for(var oe=0;oe<t.length;oe++){var le=t[oe];if(!isPositionCenter(le)&&le.linePoints){if(le.labelStyleWidth!=null)continue;var ie=le.label,ue=le.linePoints,de=void 0;le.labelAlignTo==="edge"?ie.x<n?de=ue[2][0]-le.labelDistance-L-le.edgeDistance:de=L+y-le.edgeDistance-ue[2][0]-le.labelDistance:le.labelAlignTo==="labelLine"?ie.x<n?de=re-L-le.bleedMargin:de=L+y-ae-le.bleedMargin:ie.x<n?de=ie.x-L-le.bleedMargin:de=L+y-ie.x-le.bleedMargin,le.targetTextWidth=de,constrainTextWidth(le,de)}}adjustSingleSide(j,n,r,g,1,y,$,L,V,ae),adjustSingleSide(z,n,r,g,-1,y,$,L,V,re);for(var oe=0;oe<t.length;oe++){var le=t[oe];if(!isPositionCenter(le)&&le.linePoints){var ie=le.label,ue=le.linePoints,he=le.labelAlignTo==="edge",pe=ie.style.padding,_e=pe?pe[1]+pe[3]:0,Ce=ie.style.backgroundColor?0:_e,xe=le.rect.width+Ce,Ie=ue[1][0]-ue[2][0];he?ie.x<n?ue[2][0]=L+le.edgeDistance+xe+le.labelDistance:ue[2][0]=L+y-le.edgeDistance-xe-le.labelDistance:(ie.x<n?ue[2][0]=ie.x+le.labelDistance:ue[2][0]=ie.x-le.labelDistance,ue[1][0]=ue[2][0]+Ie),ue[1][1]=ue[2][1]=ie.y}}}function constrainTextWidth(t,n,r){if(r===void 0&&(r=!1),t.labelStyleWidth==null){var g=t.label,y=g.style,$=t.rect,L=y.backgroundColor,V=y.padding,z=V?V[1]+V[3]:0,j=y.overflow,re=$.width+(L?0:z);if(n<re||r){var ae=$.height;if(j&&j.match("break")){g.setStyle("backgroundColor",null),g.setStyle("width",n-z);var oe=g.getBoundingRect();g.setStyle("width",Math.ceil(oe.width)),g.setStyle("backgroundColor",L)}else{var ie=n-z,le=n<re?ie:r?ie>t.unconstrainedWidth?null:ie:null;g.setStyle("width",le)}var ue=g.getBoundingRect();$.width=ue.width;var de=(g.style.margin||0)+2.1;$.height=ue.height+de,$.y-=($.height-ae)/2}}}function isPositionCenter(t){return t.position==="center"}function pieLabelLayout(t){var n=t.getData(),r=[],g,y,$=!1,L=(t.get("minShowLabelAngle")||0)*RADIAN$1,V=n.getLayout("viewRect"),z=n.getLayout("r"),j=V.width,re=V.x,ae=V.y,oe=V.height;function ie(Ie){Ie.ignore=!0}function le(Ie){if(!Ie.ignore)return!0;for(var $e in Ie.states)if(Ie.states[$e].ignore===!1)return!0;return!1}n.each(function(Ie){var $e=n.getItemGraphicEl(Ie),Oe=$e.shape,Ne=$e.getTextContent(),Fe=$e.getTextGuideLine(),Ve=n.getItemModel(Ie),ze=Ve.getModel("label"),Et=ze.get("position")||Ve.get(["emphasis","label","position"]),Dt=ze.get("distanceToLabelLine"),Ue=ze.get("alignTo"),qe=parsePercent(ze.get("edgeDistance"),j),Lt=ze.get("bleedMargin"),Pt=Ve.getModel("labelLine"),At=Pt.get("length");At=parsePercent(At,j);var vn=Pt.get("length2");if(vn=parsePercent(vn,j),Math.abs(Oe.endAngle-Oe.startAngle)<L){each$f(Ne.states,ie),Ne.ignore=!0,Fe&&(each$f(Fe.states,ie),Fe.ignore=!0);return}if(le(Ne)){var En=(Oe.startAngle+Oe.endAngle)/2,Sn=Math.cos(En),kt=Math.sin(En),jt,_n,wn,hn;g=Oe.cx,y=Oe.cy;var Cn=Et==="inside"||Et==="inner";if(Et==="center")jt=Oe.cx,_n=Oe.cy,hn="center";else{var Tn=(Cn?(Oe.r+Oe.r0)/2*Sn:Oe.r*Sn)+g,xn=(Cn?(Oe.r+Oe.r0)/2*kt:Oe.r*kt)+y;if(jt=Tn+Sn*3,_n=xn+kt*3,!Cn){var Mn=Tn+Sn*(At+z-Oe.r),bn=xn+kt*(At+z-Oe.r),Pn=Mn+(Sn<0?-1:1)*vn,Rn=bn;Ue==="edge"?jt=Sn<0?re+qe:re+j-qe:jt=Pn+(Sn<0?-Dt:Dt),_n=Rn,wn=[[Tn,xn],[Mn,bn],[Pn,Rn]]}hn=Cn?"center":Ue==="edge"?Sn>0?"right":"left":Sn>0?"left":"right"}var Fn=Math.PI,Dn=0,Ln=ze.get("rotate");if(isNumber(Ln))Dn=Ln*(Fn/180);else if(Et==="center")Dn=0;else if(Ln==="radial"||Ln===!0){var kn=Sn<0?-En+Fn:-En;Dn=kn}else if(Ln==="tangential"&&Et!=="outside"&&Et!=="outer"){var In=Math.atan2(Sn,kt);In<0&&(In=Fn*2+In);var Vn=kt>0;Vn&&(In=Fn+In),Dn=In-Fn}if($=!!Dn,Ne.x=jt,Ne.y=_n,Ne.rotation=Dn,Ne.setStyle({verticalAlign:"middle"}),Cn){Ne.setStyle({align:hn});var jn=Ne.states.select;jn&&(jn.x+=Ne.x,jn.y+=Ne.y)}else{var zn=Ne.getBoundingRect().clone();zn.applyTransform(Ne.getComputedTransform());var Kn=(Ne.style.margin||0)+2.1;zn.y-=Kn/2,zn.height+=Kn,r.push({label:Ne,labelLine:Fe,position:Et,len:At,len2:vn,minTurnAngle:Pt.get("minTurnAngle"),maxSurfaceAngle:Pt.get("maxSurfaceAngle"),surfaceNormal:new Point(Sn,kt),linePoints:wn,textAlign:hn,labelDistance:Dt,labelAlignTo:Ue,edgeDistance:qe,bleedMargin:Lt,rect:zn,unconstrainedWidth:zn.width,labelStyleWidth:Ne.style.width})}$e.setTextConfig({inside:Cn})}}),!$&&t.get("avoidLabelOverlap")&&avoidOverlap(r,g,y,z,j,oe,re,ae);for(var ue=0;ue<r.length;ue++){var de=r[ue],he=de.label,pe=de.labelLine,_e=isNaN(he.x)||isNaN(he.y);if(he){he.setStyle({align:de.textAlign}),_e&&(each$f(he.states,ie),he.ignore=!0);var Ce=he.states.select;Ce&&(Ce.x+=he.x,Ce.y+=he.y)}if(pe){var xe=de.linePoints;_e||!xe?(each$f(pe.states,ie),pe.ignore=!0):(limitTurnAngle(xe,de.minTurnAngle),limitSurfaceAngle(xe,de.surfaceNormal,de.maxSurfaceAngle),pe.setShape({points:xe}),he.__hostTarget.textGuideLineConfig={anchor:new Point(xe[0][0],xe[0][1])})}}}var PiePiece=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this)||this;$.z2=2;var L=new ZRText;return $.setTextContent(L),$.updateData(r,g,y,!0),$}return n.prototype.updateData=function(r,g,y,$){var L=this,V=r.hostModel,z=r.getItemModel(g),j=z.getModel("emphasis"),re=r.getItemLayout(g),ae=extend(getSectorCornerRadius(z.getModel("itemStyle"),re,!0),re);if(isNaN(ae.startAngle)){L.setShape(ae);return}if($){L.setShape(ae);var oe=V.getShallow("animationType");V.ecModel.ssr?(initProps(L,{scaleX:0,scaleY:0},V,{dataIndex:g,isFrom:!0}),L.originX=ae.cx,L.originY=ae.cy):oe==="scale"?(L.shape.r=re.r0,initProps(L,{shape:{r:re.r}},V,g)):y!=null?(L.setShape({startAngle:y,endAngle:y}),initProps(L,{shape:{startAngle:re.startAngle,endAngle:re.endAngle}},V,g)):(L.shape.endAngle=re.startAngle,updateProps$1(L,{shape:{endAngle:re.endAngle}},V,g))}else saveOldStyle(L),updateProps$1(L,{shape:ae},V,g);L.useStyle(r.getItemVisual(g,"style")),setStatesStylesFromModel(L,z);var ie=(re.startAngle+re.endAngle)/2,le=V.get("selectedOffset"),ue=Math.cos(ie)*le,de=Math.sin(ie)*le,he=z.getShallow("cursor");he&&L.attr("cursor",he),this._updateLabel(V,r,g),L.ensureState("emphasis").shape=extend({r:re.r+(j.get("scale")&&j.get("scaleSize")||0)},getSectorCornerRadius(j.getModel("itemStyle"),re)),extend(L.ensureState("select"),{x:ue,y:de,shape:getSectorCornerRadius(z.getModel(["select","itemStyle"]),re)}),extend(L.ensureState("blur"),{shape:getSectorCornerRadius(z.getModel(["blur","itemStyle"]),re)});var pe=L.getTextGuideLine(),_e=L.getTextContent();pe&&extend(pe.ensureState("select"),{x:ue,y:de}),extend(_e.ensureState("select"),{x:ue,y:de}),toggleHoverEmphasis(this,j.get("focus"),j.get("blurScope"),j.get("disabled"))},n.prototype._updateLabel=function(r,g,y){var $=this,L=g.getItemModel(y),V=L.getModel("labelLine"),z=g.getItemVisual(y,"style"),j=z&&z.fill,re=z&&z.opacity;setLabelStyle($,getLabelStatesModels(L),{labelFetcher:g.hostModel,labelDataIndex:y,inheritColor:j,defaultOpacity:re,defaultText:r.getFormattedLabel(y,"normal")||g.getName(y)});var ae=$.getTextContent();$.setTextConfig({position:null,rotation:null}),ae.attr({z2:10});var oe=r.get(["label","position"]);if(oe!=="outside"&&oe!=="outer")$.removeTextGuideLine();else{var ie=this.getTextGuideLine();ie||(ie=new Polyline$1,this.setTextGuideLine(ie)),setLabelLineStyle(this,getLabelLineStatesModels(L),{stroke:j,opacity:retrieve3(V.get(["lineStyle","opacity"]),re,1)})}},n}(Sector),PieView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,g,y,$){var L=r.getData(),V=this._data,z=this.group,j;if(!V&&L.count()>0){for(var re=L.getItemLayout(0),ae=1;isNaN(re&&re.startAngle)&&ae<L.count();++ae)re=L.getItemLayout(ae);re&&(j=re.startAngle)}if(this._emptyCircleSector&&z.remove(this._emptyCircleSector),L.count()===0&&r.get("showEmptyCircle")){var oe=getSeriesLayoutData(r),ie=new Sector({shape:extend(getBasicPieLayout(r,y),oe)});ie.useStyle(r.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=ie,z.add(ie)}L.diff(V).add(function(le){var ue=new PiePiece(L,le,j);L.setItemGraphicEl(le,ue),z.add(ue)}).update(function(le,ue){var de=V.getItemGraphicEl(ue);de.updateData(L,le,j),de.off("click"),z.add(de),L.setItemGraphicEl(le,de)}).remove(function(le){var ue=V.getItemGraphicEl(le);removeElementWithFadeOut(ue,r,le)}).execute(),pieLabelLayout(r),r.get("animationTypeUpdate")!=="expansion"&&(this._data=L)},n.prototype.dispose=function(){},n.prototype.containPoint=function(r,g){var y=g.getData(),$=y.getItemLayout(0);if($){var L=r[0]-$.cx,V=r[1]-$.cy,z=Math.sqrt(L*L+V*V);return z<=$.r&&z>=$.r0}},n.type="pie",n}(ChartView);function createSeriesDataSimply(t,n,r){n=isArray$1(n)&&{coordDimensions:n}||extend({encodeDefine:t.getEncode()},n);var g=t.getSource(),y=prepareSeriesDataSchema(g,n).dimensions,$=new SeriesData(y,t);return $.initData(g,r),$}var LegendVisualProvider=function(){function t(n,r){this._getDataWithEncodedVisual=n,this._getRawData=r}return t.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},t.prototype.containName=function(n){var r=this._getRawData();return r.indexOfName(n)>=0},t.prototype.indexOfName=function(n){var r=this._getDataWithEncodedVisual();return r.indexOfName(n)},t.prototype.getItemVisual=function(n,r){var g=this._getDataWithEncodedVisual();return g.getItemVisual(n,r)},t}(),innerData=makeInner(),PieSeriesModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.mergeOption=function(){t.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype.getDataParams=function(r){var g=this.getData(),y=innerData(g),$=y.seats;if(!$){var L=[];g.each(g.mapDimension("value"),function(z){L.push(z)}),$=y.seats=getPercentSeats(L,g.hostModel.get("percentPrecision"))}var V=t.prototype.getDataParams.call(this,r);return V.percent=$[r]||0,V.$vars.push("percent"),V},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var g=r.labelLine,y=r.emphasis.labelLine;g.show=g.show&&r.label.show,y.show=y.show&&r.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(SeriesModel);function negativeDataFilter(t){return{seriesType:t,reset:function(n,r){var g=n.getData();g.filterSelf(function(y){var $=g.mapDimension("value"),L=g.get($,y);return!(isNumber(L)&&!isNaN(L)&&L<0)})}}}function install$O(t){t.registerChartView(PieView),t.registerSeriesModel(PieSeriesModel),createLegacyDataSelectAction("pie",t.registerAction),t.registerLayout(curry$1(pieLayout,"pie")),t.registerProcessor(dataFilter$1("pie")),t.registerProcessor(negativeDataFilter("pie"))}var ScatterSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,g){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?5e3:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?1e4:this.get("progressiveThreshold"))},n.prototype.brushSelector=function(r,g,y){return y.point(g.getItemLayout(r))},n.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},n.type="series.scatter",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},n}(SeriesModel),BOOST_SIZE_THRESHOLD=4,LargeSymbolPathShape=function(){function t(){}return t}(),LargeSymbolPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g._off=0,g.hoverDataIdx=-1,g}return n.prototype.getDefaultShape=function(){return new LargeSymbolPathShape},n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.buildPath=function(r,g){var y=g.points,$=g.size,L=this.symbolProxy,V=L.shape,z=r.getContext?r.getContext():r,j=z&&$[0]<BOOST_SIZE_THRESHOLD,re=this.softClipShape,ae;if(j){this._ctx=z;return}for(this._ctx=null,ae=this._off;ae<y.length;){var oe=y[ae++],ie=y[ae++];isNaN(oe)||isNaN(ie)||re&&!re.contain(oe,ie)||(V.x=oe-$[0]/2,V.y=ie-$[1]/2,V.width=$[0],V.height=$[1],L.buildPath(r,V,!0))}this.incremental&&(this._off=ae,this.notClear=!0)},n.prototype.afterBrush=function(){var r=this.shape,g=r.points,y=r.size,$=this._ctx,L=this.softClipShape,V;if($){for(V=this._off;V<g.length;){var z=g[V++],j=g[V++];isNaN(z)||isNaN(j)||L&&!L.contain(z,j)||$.fillRect(z-y[0]/2,j-y[1]/2,y[0],y[1])}this.incremental&&(this._off=V,this.notClear=!0)}},n.prototype.findDataIndex=function(r,g){for(var y=this.shape,$=y.points,L=y.size,V=Math.max(L[0],4),z=Math.max(L[1],4),j=$.length/2-1;j>=0;j--){var re=j*2,ae=$[re]-V/2,oe=$[re+1]-z/2;if(r>=ae&&g>=oe&&r<=ae+V&&g<=oe+z)return j}return-1},n.prototype.contain=function(r,g){var y=this.transformCoordToLocal(r,g),$=this.getBoundingRect();if(r=y[0],g=y[1],$.contain(r,g)){var L=this.hoverDataIdx=this.findDataIndex(r,g);return L>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var g=this.shape,y=g.points,$=g.size,L=$[0],V=$[1],z=1/0,j=1/0,re=-1/0,ae=-1/0,oe=0;oe<y.length;){var ie=y[oe++],le=y[oe++];z=Math.min(ie,z),re=Math.max(ie,re),j=Math.min(le,j),ae=Math.max(le,ae)}r=this._rect=new BoundingRect(z-L/2,j-V/2,re-z+L,ae-j+V)}return r},n}(Path),LargeSymbolDraw=function(){function t(){this.group=new Group$3}return t.prototype.updateData=function(n,r){this._clear();var g=this._create();g.setShape({points:n.getLayout("points")}),this._setCommon(g,n,r)},t.prototype.updateLayout=function(n){var r=n.getLayout("points");this.group.eachChild(function(g){if(g.startIndex!=null){var y=(g.endIndex-g.startIndex)*2,$=g.startIndex*4*2;r=new Float32Array(r.buffer,$,y)}g.setShape("points",r),g.reset()})},t.prototype.incrementalPrepareUpdate=function(n){this._clear()},t.prototype.incrementalUpdate=function(n,r,g){var y=this._newAdded[0],$=r.getLayout("points"),L=y&&y.shape.points;if(L&&L.length<2e4){var V=L.length,z=new Float32Array(V+$.length);z.set(L),z.set($,V),y.endIndex=n.end,y.setShape({points:z})}else{this._newAdded=[];var j=this._create();j.startIndex=n.start,j.endIndex=n.end,j.incremental=!0,j.setShape({points:$}),this._setCommon(j,r,g)}},t.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},t.prototype._create=function(){var n=new LargeSymbolPath({cursor:"default"});return n.ignoreCoarsePointer=!0,this.group.add(n),this._newAdded.push(n),n},t.prototype._setCommon=function(n,r,g){var y=r.hostModel;g=g||{};var $=r.getVisual("symbolSize");n.setShape("size",$ instanceof Array?$:[$,$]),n.softClipShape=g.clipShape||null,n.symbolProxy=createSymbol$1(r.getVisual("symbol"),0,0,0,0),n.setColor=n.symbolProxy.setColor;var L=n.shape.size[0]<BOOST_SIZE_THRESHOLD;n.useStyle(y.getModel("itemStyle").getItemStyle(L?["color","shadowBlur","shadowColor"]:["color"]));var V=r.getVisual("style"),z=V&&V.fill;z&&n.setColor(z);var j=getECData(n);j.seriesIndex=y.seriesIndex,n.on("mousemove",function(re){j.dataIndex=null;var ae=n.hoverDataIdx;ae>=0&&(j.dataIndex=ae+(n.startIndex||0))})},t.prototype.remove=function(){this._clear()},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),ScatterView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=r.getData(),L=this._updateSymbolDraw($,r);L.updateData($,{clipShape:this._getClipShape(r)}),this._finished=!0},n.prototype.incrementalPrepareRender=function(r,g,y){var $=r.getData(),L=this._updateSymbolDraw($,r);L.incrementalPrepareUpdate($),this._finished=!1},n.prototype.incrementalRender=function(r,g,y){this._symbolDraw.incrementalUpdate(r,g.getData(),{clipShape:this._getClipShape(g)}),this._finished=r.end===g.getData().count()},n.prototype.updateTransform=function(r,g,y){var $=r.getData();if(this.group.dirty(),!this._finished||$.count()>1e4)return{update:!0};var L=pointsLayout("").reset(r,g,y);L.progress&&L.progress({start:0,end:$.count(),count:$.count()},$),this._symbolDraw.updateLayout($)},n.prototype.eachRendered=function(r){this._symbolDraw&&this._symbolDraw.eachRendered(r)},n.prototype._getClipShape=function(r){if(r.get("clip",!0)){var g=r.coordinateSystem;return g&&g.getArea&&g.getArea(.1)}},n.prototype._updateSymbolDraw=function(r,g){var y=this._symbolDraw,$=g.pipelineContext,L=$.large;return(!y||L!==this._isLargeDraw)&&(y&&y.remove(),y=this._symbolDraw=L?new LargeSymbolDraw:new SymbolDraw,this._isLargeDraw=L,this.group.removeAll()),this.group.add(y.group),y},n.prototype.remove=function(r,g){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},n.prototype.dispose=function(){},n.type="scatter",n}(ChartView),GridModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.type="grid",n.dependencies=["xAxis","yAxis"],n.layoutMode="box",n.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},n}(ComponentModel),CartesianAxisModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",SINGLE_REFERRING).models[0]},n.type="cartesian2dAxis",n}(ComponentModel);mixin(CartesianAxisModel,AxisModelCommonMixin);var defaultOption$1={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},categoryAxis=merge({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},defaultOption$1),valueAxis=merge({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},defaultOption$1),timeAxis=merge({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},valueAxis),logAxis=defaults({logBase:10},valueAxis);const axisDefault={category:categoryAxis,value:valueAxis,time:timeAxis,log:logAxis};var AXIS_TYPES={value:1,category:1,time:1,log:1};function axisModelCreator(t,n,r,g){each$f(AXIS_TYPES,function(y,$){var L=merge(merge({},axisDefault[$],!0),g,!0),V=function(z){__extends(j,z);function j(){var re=z!==null&&z.apply(this,arguments)||this;return re.type=n+"Axis."+$,re}return j.prototype.mergeDefaultAndTheme=function(re,ae){var oe=fetchLayoutMode(this),ie=oe?getLayoutParams(re):{},le=ae.getTheme();merge(re,le.get($+"Axis")),merge(re,this.getDefaultOption()),re.type=getAxisType(re),oe&&mergeLayoutParam(re,ie,oe)},j.prototype.optionUpdated=function(){var re=this.option;re.type==="category"&&(this.__ordinalMeta=OrdinalMeta.createByAxisModel(this))},j.prototype.getCategories=function(re){var ae=this.option;if(ae.type==="category")return re?ae.data:this.__ordinalMeta.categories},j.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},j.type=n+"Axis."+$,j.defaultOption=L,j}(r);t.registerComponentModel(V)}),t.registerSubTypeDefaulter(n+"Axis",getAxisType)}function getAxisType(t){return t.type||(t.data?"category":"value")}var Cartesian=function(){function t(n){this.type="cartesian",this._dimList=[],this._axes={},this.name=n||""}return t.prototype.getAxis=function(n){return this._axes[n]},t.prototype.getAxes=function(){return map$1(this._dimList,function(n){return this._axes[n]},this)},t.prototype.getAxesByScale=function(n){return n=n.toLowerCase(),filter(this.getAxes(),function(r){return r.scale.type===n})},t.prototype.addAxis=function(n){var r=n.dim;this._axes[r]=n,this._dimList.push(r)},t}(),cartesian2DDimensions=["x","y"];function canCalculateAffineTransform(t){return t.type==="interval"||t.type==="time"}var Cartesian2D=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="cartesian2d",r.dimensions=cartesian2DDimensions,r}return n.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var r=this.getAxis("x").scale,g=this.getAxis("y").scale;if(!(!canCalculateAffineTransform(r)||!canCalculateAffineTransform(g))){var y=r.getExtent(),$=g.getExtent(),L=this.dataToPoint([y[0],$[0]]),V=this.dataToPoint([y[1],$[1]]),z=y[1]-y[0],j=$[1]-$[0];if(!(!z||!j)){var re=(V[0]-L[0])/z,ae=(V[1]-L[1])/j,oe=L[0]-y[0]*re,ie=L[1]-$[0]*ae,le=this._transform=[re,0,0,ae,oe,ie];this._invTransform=invert([],le)}}},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},n.prototype.containPoint=function(r){var g=this.getAxis("x"),y=this.getAxis("y");return g.contain(g.toLocalCoord(r[0]))&&y.contain(y.toLocalCoord(r[1]))},n.prototype.containData=function(r){return this.getAxis("x").containData(r[0])&&this.getAxis("y").containData(r[1])},n.prototype.containZone=function(r,g){var y=this.dataToPoint(r),$=this.dataToPoint(g),L=this.getArea(),V=new BoundingRect(y[0],y[1],$[0]-y[0],$[1]-y[1]);return L.intersect(V)},n.prototype.dataToPoint=function(r,g,y){y=y||[];var $=r[0],L=r[1];if(this._transform&&$!=null&&isFinite($)&&L!=null&&isFinite(L))return applyTransform$1(y,r,this._transform);var V=this.getAxis("x"),z=this.getAxis("y");return y[0]=V.toGlobalCoord(V.dataToCoord($,g)),y[1]=z.toGlobalCoord(z.dataToCoord(L,g)),y},n.prototype.clampData=function(r,g){var y=this.getAxis("x").scale,$=this.getAxis("y").scale,L=y.getExtent(),V=$.getExtent(),z=y.parse(r[0]),j=$.parse(r[1]);return g=g||[],g[0]=Math.min(Math.max(Math.min(L[0],L[1]),z),Math.max(L[0],L[1])),g[1]=Math.min(Math.max(Math.min(V[0],V[1]),j),Math.max(V[0],V[1])),g},n.prototype.pointToData=function(r,g){var y=[];if(this._invTransform)return applyTransform$1(y,r,this._invTransform);var $=this.getAxis("x"),L=this.getAxis("y");return y[0]=$.coordToData($.toLocalCoord(r[0]),g),y[1]=L.coordToData(L.toLocalCoord(r[1]),g),y},n.prototype.getOtherAxis=function(r){return this.getAxis(r.dim==="x"?"y":"x")},n.prototype.getArea=function(r){r=r||0;var g=this.getAxis("x").getGlobalExtent(),y=this.getAxis("y").getGlobalExtent(),$=Math.min(g[0],g[1])-r,L=Math.min(y[0],y[1])-r,V=Math.max(g[0],g[1])-$+r,z=Math.max(y[0],y[1])-L+r;return new BoundingRect($,L,V,z)},n}(Cartesian),Axis2D=function(t){__extends(n,t);function n(r,g,y,$,L){var V=t.call(this,r,g,y)||this;return V.index=0,V.type=$||"value",V.position=L||"bottom",V}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.getGlobalExtent=function(r){var g=this.getExtent();return g[0]=this.toGlobalCoord(g[0]),g[1]=this.toGlobalCoord(g[1]),r&&g[0]>g[1]&&g.reverse(),g},n.prototype.pointToData=function(r,g){return this.coordToData(this.toLocalCoord(r[this.dim==="x"?0:1]),g)},n.prototype.setCategorySortInfo=function(r){if(this.type!=="category")return!1;this.model.option.categorySortInfo=r,this.scale.setSortInfo(r)},n}(Axis);function layout$2(t,n,r){r=r||{};var g=t.coordinateSystem,y=n.axis,$={},L=y.getAxesOnZeroOf()[0],V=y.position,z=L?"onZero":V,j=y.dim,re=g.getRect(),ae=[re.x,re.x+re.width,re.y,re.y+re.height],oe={left:0,right:1,top:0,bottom:1,onZero:2},ie=n.get("offset")||0,le=j==="x"?[ae[2]-ie,ae[3]+ie]:[ae[0]-ie,ae[1]+ie];if(L){var ue=L.toGlobalCoord(L.dataToCoord(0));le[oe.onZero]=Math.max(Math.min(ue,le[1]),le[0])}$.position=[j==="y"?le[oe[z]]:ae[0],j==="x"?le[oe[z]]:ae[3]],$.rotation=Math.PI/2*(j==="x"?0:1);var de={top:-1,bottom:1,left:-1,right:1};$.labelDirection=$.tickDirection=$.nameDirection=de[V],$.labelOffset=L?le[oe[V]]-le[oe.onZero]:0,n.get(["axisTick","inside"])&&($.tickDirection=-$.tickDirection),retrieve(r.labelInside,n.get(["axisLabel","inside"]))&&($.labelDirection=-$.labelDirection);var he=n.get(["axisLabel","rotate"]);return $.labelRotate=z==="top"?-he:he,$.z2=1,$}function isCartesian2DSeries(t){return t.get("coordinateSystem")==="cartesian2d"}function findAxisModels(t){var n={xAxisModel:null,yAxisModel:null};return each$f(n,function(r,g){var y=g.replace(/Model$/,""),$=t.getReferringComponents(y,SINGLE_REFERRING).models[0];n[g]=$}),n}var mathLog=Math.log;function alignScaleTicks(t,n,r){var g=IntervalScale.prototype,y=g.getTicks.call(r),$=g.getTicks.call(r,!0),L=y.length-1,V=g.getInterval.call(r),z=getScaleExtent(t,n),j=z.extent,re=z.fixMin,ae=z.fixMax;if(t.type==="log"){var oe=mathLog(t.base);j=[mathLog(j[0])/oe,mathLog(j[1])/oe]}t.setExtent(j[0],j[1]),t.calcNiceExtent({splitNumber:L,fixMin:re,fixMax:ae});var ie=g.getExtent.call(t);re&&(j[0]=ie[0]),ae&&(j[1]=ie[1]);var le=g.getInterval.call(t),ue=j[0],de=j[1];if(re&&ae)le=(de-ue)/L;else if(re)for(de=j[0]+le*L;de<j[1]&&isFinite(de)&&isFinite(j[1]);)le=increaseInterval(le),de=j[0]+le*L;else if(ae)for(ue=j[1]-le*L;ue>j[0]&&isFinite(ue)&&isFinite(j[0]);)le=increaseInterval(le),ue=j[1]-le*L;else{var he=t.getTicks().length-1;he>L&&(le=increaseInterval(le));var pe=le*L;de=Math.ceil(j[1]/le)*le,ue=round$3(de-pe),ue<0&&j[0]>=0?(ue=0,de=round$3(pe)):de>0&&j[1]<=0&&(de=0,ue=-round$3(pe))}var _e=(y[0].value-$[0].value)/V,Ce=(y[L].value-$[L].value)/V;g.setExtent.call(t,ue+le*_e,de+le*Ce),g.setInterval.call(t,le),(_e||Ce)&&g.setNiceExtent.call(t,ue+le,de-le)}var Grid=function(){function t(n,r,g){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=cartesian2DDimensions,this._initCartesian(n,r,g),this.model=n}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(n,r){var g=this._axesMap;this._updateScale(n,this.model);function y(L){var V,z=keys(L),j=z.length;if(j){for(var re=[],ae=j-1;ae>=0;ae--){var oe=+z[ae],ie=L[oe],le=ie.model,ue=ie.scale;isIntervalOrLogScale(ue)&&le.get("alignTicks")&&le.get("interval")==null?re.push(ie):(niceScaleExtent(ue,le),isIntervalOrLogScale(ue)&&(V=ie))}re.length&&(V||(V=re.pop(),niceScaleExtent(V.scale,V.model)),each$f(re,function(de){alignScaleTicks(de.scale,de.model,V.scale)}))}}y(g.x),y(g.y);var $={};each$f(g.x,function(L){fixAxisOnZero(g,"y",L,$)}),each$f(g.y,function(L){fixAxisOnZero(g,"x",L,$)}),this.resize(this.model,r)},t.prototype.resize=function(n,r,g){var y=n.getBoxLayoutParams(),$=!g&&n.get("containLabel"),L=getLayoutRect(y,{width:r.getWidth(),height:r.getHeight()});this._rect=L;var V=this._axesList;z(),$&&(each$f(V,function(j){if(!j.model.get(["axisLabel","inside"])){var re=estimateLabelUnionRect(j);if(re){var ae=j.isHorizontal()?"height":"width",oe=j.model.get(["axisLabel","margin"]);L[ae]-=re[ae]+oe,j.position==="top"?L.y+=re.height+oe:j.position==="left"&&(L.x+=re.width+oe)}}}),z()),each$f(this._coordsList,function(j){j.calcAffineTransform()});function z(){each$f(V,function(j){var re=j.isHorizontal(),ae=re?[0,L.width]:[0,L.height],oe=j.inverse?1:0;j.setExtent(ae[oe],ae[1-oe]),updateAxisTransform(j,re?L.x:L.y)})}},t.prototype.getAxis=function(n,r){var g=this._axesMap[n];if(g!=null)return g[r||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(n,r){if(n!=null&&r!=null){var g="x"+n+"y"+r;return this._coordsMap[g]}isObject$3(n)&&(r=n.yAxisIndex,n=n.xAxisIndex);for(var y=0,$=this._coordsList;y<$.length;y++)if($[y].getAxis("x").index===n||$[y].getAxis("y").index===r)return $[y]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(n,r,g){var y=this._findConvertTarget(r);return y.cartesian?y.cartesian.dataToPoint(g):y.axis?y.axis.toGlobalCoord(y.axis.dataToCoord(g)):null},t.prototype.convertFromPixel=function(n,r,g){var y=this._findConvertTarget(r);return y.cartesian?y.cartesian.pointToData(g):y.axis?y.axis.coordToData(y.axis.toLocalCoord(g)):null},t.prototype._findConvertTarget=function(n){var r=n.seriesModel,g=n.xAxisModel||r&&r.getReferringComponents("xAxis",SINGLE_REFERRING).models[0],y=n.yAxisModel||r&&r.getReferringComponents("yAxis",SINGLE_REFERRING).models[0],$=n.gridModel,L=this._coordsList,V,z;if(r)V=r.coordinateSystem,indexOf(L,V)<0&&(V=null);else if(g&&y)V=this.getCartesian(g.componentIndex,y.componentIndex);else if(g)z=this.getAxis("x",g.componentIndex);else if(y)z=this.getAxis("y",y.componentIndex);else if($){var j=$.coordinateSystem;j===this&&(V=this._coordsList[0])}return{cartesian:V,axis:z}},t.prototype.containPoint=function(n){var r=this._coordsList[0];if(r)return r.containPoint(n)},t.prototype._initCartesian=function(n,r,g){var y=this,$=this,L={left:!1,right:!1,top:!1,bottom:!1},V={x:{},y:{}},z={x:0,y:0};if(r.eachComponent("xAxis",j("x"),this),r.eachComponent("yAxis",j("y"),this),!z.x||!z.y){this._axesMap={},this._axesList=[];return}this._axesMap=V,each$f(V.x,function(re,ae){each$f(V.y,function(oe,ie){var le="x"+ae+"y"+ie,ue=new Cartesian2D(le);ue.master=y,ue.model=n,y._coordsMap[le]=ue,y._coordsList.push(ue),ue.addAxis(re),ue.addAxis(oe)})});function j(re){return function(ae,oe){if(isAxisUsedInTheGrid(ae,n)){var ie=ae.get("position");re==="x"?ie!=="top"&&ie!=="bottom"&&(ie=L.bottom?"top":"bottom"):ie!=="left"&&ie!=="right"&&(ie=L.left?"right":"left"),L[ie]=!0;var le=new Axis2D(re,createScaleByModel$1(ae),[0,0],ae.get("type"),ie),ue=le.type==="category";le.onBand=ue&&ae.get("boundaryGap"),le.inverse=ae.get("inverse"),ae.axis=le,le.model=ae,le.grid=$,le.index=oe,$._axesList.push(le),V[re][oe]=le,z[re]++}}}},t.prototype._updateScale=function(n,r){each$f(this._axesList,function(y){if(y.scale.setExtent(1/0,-1/0),y.type==="category"){var $=y.model.get("categorySortInfo");y.scale.setSortInfo($)}}),n.eachSeries(function(y){if(isCartesian2DSeries(y)){var $=findAxisModels(y),L=$.xAxisModel,V=$.yAxisModel;if(!isAxisUsedInTheGrid(L,r)||!isAxisUsedInTheGrid(V,r))return;var z=this.getCartesian(L.componentIndex,V.componentIndex),j=y.getData(),re=z.getAxis("x"),ae=z.getAxis("y");g(j,re),g(j,ae)}},this);function g(y,$){each$f(getDataDimensionsOnAxis(y,$.dim),function(L){$.scale.unionExtentFromData(y,L)})}},t.prototype.getTooltipAxes=function(n){var r=[],g=[];return each$f(this.getCartesians(),function(y){var $=n!=null&&n!=="auto"?y.getAxis(n):y.getBaseAxis(),L=y.getOtherAxis($);indexOf(r,$)<0&&r.push($),indexOf(g,L)<0&&g.push(L)}),{baseAxes:r,otherAxes:g}},t.create=function(n,r){var g=[];return n.eachComponent("grid",function(y,$){var L=new t(y,n,r);L.name="grid_"+$,L.resize(y,r,!0),y.coordinateSystem=L,g.push(L)}),n.eachSeries(function(y){if(isCartesian2DSeries(y)){var $=findAxisModels(y),L=$.xAxisModel,V=$.yAxisModel,z=L.getCoordSysModel(),j=z.coordinateSystem;y.coordinateSystem=j.getCartesian(L.componentIndex,V.componentIndex)}}),g},t.dimensions=cartesian2DDimensions,t}();function isAxisUsedInTheGrid(t,n){return t.getCoordSysModel()===n}function fixAxisOnZero(t,n,r,g){r.getAxesOnZeroOf=function(){return $?[$]:[]};var y=t[n],$,L=r.model,V=L.get(["axisLine","onZero"]),z=L.get(["axisLine","onZeroAxisIndex"]);if(!V)return;if(z!=null)canOnZeroToAxis(y[z])&&($=y[z]);else for(var j in y)if(y.hasOwnProperty(j)&&canOnZeroToAxis(y[j])&&!g[re(y[j])]){$=y[j];break}$&&(g[re($)]=!0);function re(ae){return ae.dim+"_"+ae.index}}function canOnZeroToAxis(t){return t&&t.type!=="category"&&t.type!=="time"&&ifAxisCrossZero(t)}function updateAxisTransform(t,n){var r=t.getExtent(),g=r[0]+r[1];t.toGlobalCoord=t.dim==="x"?function(y){return y+n}:function(y){return g-y+n},t.toLocalCoord=t.dim==="x"?function(y){return y-n}:function(y){return g-y+n}}var PI$3=Math.PI,AxisBuilder=function(){function t(n,r){this.group=new Group$3,this.opt=r,this.axisModel=n,defaults(r,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var g=new Group$3({x:r.position[0],y:r.position[1],rotation:r.rotation});g.updateTransform(),this._transformGroup=g}return t.prototype.hasBuilder=function(n){return!!builders[n]},t.prototype.add=function(n){builders[n](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(n,r,g){var y=remRadian(r-n),$,L;return isRadianAroundZero(y)?(L=g>0?"top":"bottom",$="center"):isRadianAroundZero(y-PI$3)?(L=g>0?"bottom":"top",$="center"):(L="middle",y>0&&y<PI$3?$=g>0?"right":"left":$=g>0?"left":"right"),{rotation:y,textAlign:$,textVerticalAlign:L}},t.makeAxisEventDataBase=function(n){var r={componentType:n.mainType,componentIndex:n.componentIndex};return r[n.mainType+"Index"]=n.componentIndex,r},t.isLabelSilent=function(n){var r=n.get("tooltip");return n.get("silent")||!(n.get("triggerEvent")||r&&r.show)},t}(),builders={axisLine:function(t,n,r,g){var y=n.get(["axisLine","show"]);if(y==="auto"&&t.handleAutoShown&&(y=t.handleAutoShown("axisLine")),!!y){var $=n.axis.getExtent(),L=g.transform,V=[$[0],0],z=[$[1],0],j=V[0]>z[0];L&&(applyTransform$1(V,V,L),applyTransform$1(z,z,L));var re=extend({lineCap:"round"},n.getModel(["axisLine","lineStyle"]).getLineStyle()),ae=new Line$1({shape:{x1:V[0],y1:V[1],x2:z[0],y2:z[1]},style:re,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(ae.shape,ae.style.lineWidth),ae.anid="line",r.add(ae);var oe=n.get(["axisLine","symbol"]);if(oe!=null){var ie=n.get(["axisLine","symbolSize"]);isString(oe)&&(oe=[oe,oe]),(isString(ie)||isNumber(ie))&&(ie=[ie,ie]);var le=normalizeSymbolOffset(n.get(["axisLine","symbolOffset"])||0,ie),ue=ie[0],de=ie[1];each$f([{rotate:t.rotation+Math.PI/2,offset:le[0],r:0},{rotate:t.rotation-Math.PI/2,offset:le[1],r:Math.sqrt((V[0]-z[0])*(V[0]-z[0])+(V[1]-z[1])*(V[1]-z[1]))}],function(he,pe){if(oe[pe]!=="none"&&oe[pe]!=null){var _e=createSymbol$1(oe[pe],-ue/2,-de/2,ue,de,re.stroke,!0),Ce=he.r+he.offset,xe=j?z:V;_e.attr({rotation:he.rotate,x:xe[0]+Ce*Math.cos(t.rotation),y:xe[1]-Ce*Math.sin(t.rotation),silent:!0,z2:11}),r.add(_e)}})}}},axisTickLabel:function(t,n,r,g){var y=buildAxisMajorTicks(r,g,n,t),$=buildAxisLabel(r,g,n,t);if(fixMinMaxLabelShow(n,$,y),buildAxisMinorTicks(r,g,n,t.tickDirection),n.get(["axisLabel","hideOverlap"])){var L=prepareLayoutList(map$1($,function(V){return{label:V,priority:V.z2,defaultAttr:{ignore:V.ignore}}}));hideOverlap(L)}},axisName:function(t,n,r,g){var y=retrieve(t.axisName,n.get("name"));if(y){var $=n.get("nameLocation"),L=t.nameDirection,V=n.getModel("nameTextStyle"),z=n.get("nameGap")||0,j=n.axis.getExtent(),re=j[0]>j[1]?-1:1,ae=[$==="start"?j[0]-re*z:$==="end"?j[1]+re*z:(j[0]+j[1])/2,isNameLocationCenter($)?t.labelOffset+L*z:0],oe,ie=n.get("nameRotate");ie!=null&&(ie=ie*PI$3/180);var le;isNameLocationCenter($)?oe=AxisBuilder.innerTextLayout(t.rotation,ie??t.rotation,L):(oe=endTextLayout(t.rotation,$,ie||0,j),le=t.axisNameAvailableWidth,le!=null&&(le=Math.abs(le/Math.sin(oe.rotation)),!isFinite(le)&&(le=null)));var ue=V.getFont(),de=n.get("nameTruncate",!0)||{},he=de.ellipsis,pe=retrieve(t.nameTruncateMaxWidth,de.maxWidth,le),_e=new ZRText({x:ae[0],y:ae[1],rotation:oe.rotation,silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(V,{text:y,font:ue,overflow:"truncate",width:pe,ellipsis:he,fill:V.getTextColor()||n.get(["axisLine","lineStyle","color"]),align:V.get("align")||oe.textAlign,verticalAlign:V.get("verticalAlign")||oe.textVerticalAlign}),z2:1});if(setTooltipConfig({el:_e,componentModel:n,itemName:y}),_e.__fullText=y,_e.anid="name",n.get("triggerEvent")){var Ce=AxisBuilder.makeAxisEventDataBase(n);Ce.targetType="axisName",Ce.name=y,getECData(_e).eventData=Ce}g.add(_e),_e.updateTransform(),r.add(_e),_e.decomposeTransform()}}};function endTextLayout(t,n,r,g){var y=remRadian(r-t),$,L,V=g[0]>g[1],z=n==="start"&&!V||n!=="start"&&V;return isRadianAroundZero(y-PI$3/2)?(L=z?"bottom":"top",$="center"):isRadianAroundZero(y-PI$3*1.5)?(L=z?"top":"bottom",$="center"):(L="middle",y<PI$3*1.5&&y>PI$3/2?$=z?"left":"right":$=z?"right":"left"),{rotation:y,textAlign:$,textVerticalAlign:L}}function fixMinMaxLabelShow(t,n,r){if(!shouldShowAllLabels(t.axis)){var g=t.get(["axisLabel","showMinLabel"]),y=t.get(["axisLabel","showMaxLabel"]);n=n||[],r=r||[];var $=n[0],L=n[1],V=n[n.length-1],z=n[n.length-2],j=r[0],re=r[1],ae=r[r.length-1],oe=r[r.length-2];g===!1?(ignoreEl($),ignoreEl(j)):isTwoLabelOverlapped($,L)&&(g?(ignoreEl(L),ignoreEl(re)):(ignoreEl($),ignoreEl(j))),y===!1?(ignoreEl(V),ignoreEl(ae)):isTwoLabelOverlapped(z,V)&&(y?(ignoreEl(z),ignoreEl(oe)):(ignoreEl(V),ignoreEl(ae)))}}function ignoreEl(t){t&&(t.ignore=!0)}function isTwoLabelOverlapped(t,n){var r=t&&t.getBoundingRect().clone(),g=n&&n.getBoundingRect().clone();if(!(!r||!g)){var y=identity([]);return rotate(y,y,-t.rotation),r.applyTransform(mul([],y,t.getLocalTransform())),g.applyTransform(mul([],y,n.getLocalTransform())),r.intersect(g)}}function isNameLocationCenter(t){return t==="middle"||t==="center"}function createTicks(t,n,r,g,y){for(var $=[],L=[],V=[],z=0;z<t.length;z++){var j=t[z].coord;L[0]=j,L[1]=0,V[0]=j,V[1]=r,n&&(applyTransform$1(L,L,n),applyTransform$1(V,V,n));var re=new Line$1({shape:{x1:L[0],y1:L[1],x2:V[0],y2:V[1]},style:g,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(re.shape,re.style.lineWidth),re.anid=y+"_"+t[z].tickValue,$.push(re)}return $}function buildAxisMajorTicks(t,n,r,g){var y=r.axis,$=r.getModel("axisTick"),L=$.get("show");if(L==="auto"&&g.handleAutoShown&&(L=g.handleAutoShown("axisTick")),!(!L||y.scale.isBlank())){for(var V=$.getModel("lineStyle"),z=g.tickDirection*$.get("length"),j=y.getTicksCoords(),re=createTicks(j,n.transform,z,defaults(V.getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])}),"ticks"),ae=0;ae<re.length;ae++)t.add(re[ae]);return re}}function buildAxisMinorTicks(t,n,r,g){var y=r.axis,$=r.getModel("minorTick");if(!(!$.get("show")||y.scale.isBlank())){var L=y.getMinorTicksCoords();if(L.length)for(var V=$.getModel("lineStyle"),z=g*$.get("length"),j=defaults(V.getLineStyle(),defaults(r.getModel("axisTick").getLineStyle(),{stroke:r.get(["axisLine","lineStyle","color"])})),re=0;re<L.length;re++)for(var ae=createTicks(L[re],n.transform,z,j,"minorticks_"+re),oe=0;oe<ae.length;oe++)t.add(ae[oe])}}function buildAxisLabel(t,n,r,g){var y=r.axis,$=retrieve(g.axisLabelShow,r.get(["axisLabel","show"]));if(!(!$||y.scale.isBlank())){var L=r.getModel("axisLabel"),V=L.get("margin"),z=y.getViewLabels(),j=(retrieve(g.labelRotate,L.get("rotate"))||0)*PI$3/180,re=AxisBuilder.innerTextLayout(g.rotation,j,g.labelDirection),ae=r.getCategories&&r.getCategories(!0),oe=[],ie=AxisBuilder.isLabelSilent(r),le=r.get("triggerEvent");return each$f(z,function(ue,de){var he=y.scale.type==="ordinal"?y.scale.getRawOrdinalNumber(ue.tickValue):ue.tickValue,pe=ue.formattedLabel,_e=ue.rawLabel,Ce=L;if(ae&&ae[he]){var xe=ae[he];isObject$3(xe)&&xe.textStyle&&(Ce=new Model(xe.textStyle,L,r.ecModel))}var Ie=Ce.getTextColor()||r.get(["axisLine","lineStyle","color"]),$e=y.dataToCoord(he),Oe=Ce.getShallow("align",!0)||re.textAlign,Ne=retrieve2(Ce.getShallow("alignMinLabel",!0),Oe),Fe=retrieve2(Ce.getShallow("alignMaxLabel",!0),Oe),Ve=Ce.getShallow("verticalAlign",!0)||Ce.getShallow("baseline",!0)||re.textVerticalAlign,ze=retrieve2(Ce.getShallow("verticalAlignMinLabel",!0),Ve),Et=retrieve2(Ce.getShallow("verticalAlignMaxLabel",!0),Ve),Dt=new ZRText({x:$e,y:g.labelOffset+g.labelDirection*V,rotation:re.rotation,silent:ie,z2:10+(ue.level||0),style:createTextStyle(Ce,{text:pe,align:de===0?Ne:de===z.length-1?Fe:Oe,verticalAlign:de===0?ze:de===z.length-1?Et:Ve,fill:isFunction(Ie)?Ie(y.type==="category"?_e:y.type==="value"?he+"":he,de):Ie})});if(Dt.anid="label_"+he,setTooltipConfig({el:Dt,componentModel:r,itemName:pe,formatterParamsExtra:{isTruncated:function(){return Dt.isTruncated},value:_e,tickIndex:de}}),le){var Ue=AxisBuilder.makeAxisEventDataBase(r);Ue.targetType="axisLabel",Ue.value=_e,Ue.tickIndex=de,y.type==="category"&&(Ue.dataIndex=he),getECData(Dt).eventData=Ue}n.add(Dt),Dt.updateTransform(),oe.push(Dt),t.add(Dt),Dt.decomposeTransform()}),oe}}function collect(t,n){var r={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(r,t,n),r.seriesInvolved&&collectSeriesInfo(r,t),r}function collectAxesInfo(t,n,r){var g=n.getComponent("tooltip"),y=n.getComponent("axisPointer"),$=y.get("link",!0)||[],L=[];each$f(r.getCoordinateSystems(),function(V){if(!V.axisPointerEnabled)return;var z=makeKey(V.model),j=t.coordSysAxesInfo[z]={};t.coordSysMap[z]=V;var re=V.model,ae=re.getModel("tooltip",g);if(each$f(V.getAxes(),curry$1(ue,!1,null)),V.getTooltipAxes&&g&&ae.get("show")){var oe=ae.get("trigger")==="axis",ie=ae.get(["axisPointer","type"])==="cross",le=V.getTooltipAxes(ae.get(["axisPointer","axis"]));(oe||ie)&&each$f(le.baseAxes,curry$1(ue,ie?"cross":!0,oe)),ie&&each$f(le.otherAxes,curry$1(ue,"cross",!1))}function ue(de,he,pe){var _e=pe.model.getModel("axisPointer",y),Ce=_e.get("show");if(!(!Ce||Ce==="auto"&&!de&&!isHandleTrigger(_e))){he==null&&(he=_e.get("triggerTooltip")),_e=de?makeAxisPointerModel(pe,ae,y,n,de,he):_e;var xe=_e.get("snap"),Ie=_e.get("triggerEmphasis"),$e=makeKey(pe.model),Oe=he||xe||pe.type==="category",Ne=t.axesInfo[$e]={key:$e,axis:pe,coordSys:V,axisPointerModel:_e,triggerTooltip:he,triggerEmphasis:Ie,involveSeries:Oe,snap:xe,useHandle:isHandleTrigger(_e),seriesModels:[],linkGroup:null};j[$e]=Ne,t.seriesInvolved=t.seriesInvolved||Oe;var Fe=getLinkGroupIndex($,pe);if(Fe!=null){var Ve=L[Fe]||(L[Fe]={axesInfo:{}});Ve.axesInfo[$e]=Ne,Ve.mapper=$[Fe].mapper,Ne.linkGroup=Ve}}}})}function makeAxisPointerModel(t,n,r,g,y,$){var L=n.getModel("axisPointer"),V=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],z={};each$f(V,function(oe){z[oe]=clone$4(L.get(oe))}),z.snap=t.type!=="category"&&!!$,L.get("type")==="cross"&&(z.type="line");var j=z.label||(z.label={});if(j.show==null&&(j.show=!1),y==="cross"){var re=L.get(["label","show"]);if(j.show=re??!0,!$){var ae=z.lineStyle=L.get("crossStyle");ae&&defaults(j,ae.textStyle)}}return t.model.getModel("axisPointer",new Model(z,r,g))}function collectSeriesInfo(t,n){n.eachSeries(function(r){var g=r.coordinateSystem,y=r.get(["tooltip","trigger"],!0),$=r.get(["tooltip","show"],!0);!g||y==="none"||y===!1||y==="item"||$===!1||r.get(["axisPointer","show"],!0)===!1||each$f(t.coordSysAxesInfo[makeKey(g.model)],function(L){var V=L.axis;g.getAxis(V.dim)===V&&(L.seriesModels.push(r),L.seriesDataCount==null&&(L.seriesDataCount=0),L.seriesDataCount+=r.getData().count())})})}function getLinkGroupIndex(t,n){for(var r=n.model,g=n.dim,y=0;y<t.length;y++){var $=t[y]||{};if(checkPropInLink($[g+"AxisId"],r.id)||checkPropInLink($[g+"AxisIndex"],r.componentIndex)||checkPropInLink($[g+"AxisName"],r.name))return y}}function checkPropInLink(t,n){return t==="all"||isArray$1(t)&&indexOf(t,n)>=0||t===n}function fixValue(t){var n=getAxisInfo$1(t);if(n){var r=n.axisPointerModel,g=n.axis.scale,y=r.option,$=r.get("status"),L=r.get("value");L!=null&&(L=g.parse(L));var V=isHandleTrigger(r);$==null&&(y.status=V?"show":"hide");var z=g.getExtent().slice();z[0]>z[1]&&z.reverse(),(L==null||L>z[1])&&(L=z[1]),L<z[0]&&(L=z[0]),y.value=L,V&&(y.status=n.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo$1(t){var n=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return n&&n.axesInfo[makeKey(t)]}function getAxisPointerModel(t){var n=getAxisInfo$1(t);return n&&n.axisPointerModel}function isHandleTrigger(t){return!!t.get(["handle","show"])}function makeKey(t){return t.type+"||"+t.id}var axisPointerClazz={},AxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y,$){this.axisPointerClass&&fixValue(r),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(r,y,!0)},n.prototype.updateAxisPointer=function(r,g,y,$){this._doUpdateAxisPointerClass(r,y,!1)},n.prototype.remove=function(r,g){var y=this._axisPointer;y&&y.remove(g)},n.prototype.dispose=function(r,g){this._disposeAxisPointer(g),t.prototype.dispose.apply(this,arguments)},n.prototype._doUpdateAxisPointerClass=function(r,g,y){var $=n.getAxisPointerClass(this.axisPointerClass);if($){var L=getAxisPointerModel(r);L?(this._axisPointer||(this._axisPointer=new $)).render(r,L,g,y):this._disposeAxisPointer(g)}},n.prototype._disposeAxisPointer=function(r){this._axisPointer&&this._axisPointer.dispose(r),this._axisPointer=null},n.registerAxisPointerClass=function(r,g){axisPointerClazz[r]=g},n.getAxisPointerClass=function(r){return r&&axisPointerClazz[r]},n.type="axis",n}(ComponentView),inner$f=makeInner();function rectCoordAxisBuildSplitArea(t,n,r,g){var y=r.axis;if(!y.scale.isBlank()){var $=r.getModel("splitArea"),L=$.getModel("areaStyle"),V=L.get("color"),z=g.coordinateSystem.getRect(),j=y.getTicksCoords({tickModel:$,clamp:!0});if(j.length){var re=V.length,ae=inner$f(t).splitAreaColors,oe=createHashMap(),ie=0;if(ae)for(var le=0;le<j.length;le++){var ue=ae.get(j[le].tickValue);if(ue!=null){ie=(ue+(re-1)*le)%re;break}}var de=y.toGlobalCoord(j[0].coord),he=L.getAreaStyle();V=isArray$1(V)?V:[V];for(var le=1;le<j.length;le++){var pe=y.toGlobalCoord(j[le].coord),_e=void 0,Ce=void 0,xe=void 0,Ie=void 0;y.isHorizontal()?(_e=de,Ce=z.y,xe=pe-_e,Ie=z.height,de=_e+xe):(_e=z.x,Ce=de,xe=z.width,Ie=pe-Ce,de=Ce+Ie);var $e=j[le-1].tickValue;$e!=null&&oe.set($e,ie),n.add(new Rect$2({anid:$e!=null?"area_"+$e:null,shape:{x:_e,y:Ce,width:xe,height:Ie},style:defaults({fill:V[ie]},he),autoBatch:!0,silent:!0})),ie=(ie+1)%re}inner$f(t).splitAreaColors=oe}}}function rectCoordAxisHandleRemove(t){inner$f(t).splitAreaColors=null}var axisBuilderAttrs$3=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$2=["splitArea","splitLine","minorSplitLine"],CartesianAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="CartesianAxisPointer",r}return n.prototype.render=function(r,g,y,$){this.group.removeAll();var L=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!r.get("show")){var V=r.getCoordSysModel(),z=layout$2(V,r),j=new AxisBuilder(r,extend({handleAutoShown:function(ae){for(var oe=V.coordinateSystem.getCartesians(),ie=0;ie<oe.length;ie++)if(isIntervalOrLogScale(oe[ie].getOtherAxis(r.axis).scale))return!0;return!1}},z));each$f(axisBuilderAttrs$3,j.add,j),this._axisGroup.add(j.getGroup()),each$f(selfBuilderAttrs$2,function(ae){r.get([ae,"show"])&&axisElementBuilders$2[ae](this,this._axisGroup,r,V)},this);var re=$&&$.type==="changeAxisOrder"&&$.isInitSort;re||groupTransition(L,this._axisGroup,r),t.prototype.render.call(this,r,g,y,$)}},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="cartesianAxis",n}(AxisView),axisElementBuilders$2={splitLine:function(t,n,r,g){var y=r.axis;if(!y.scale.isBlank()){var $=r.getModel("splitLine"),L=$.getModel("lineStyle"),V=L.get("color"),z=$.get("showMinLine")!==!1,j=$.get("showMaxLine")!==!1;V=isArray$1(V)?V:[V];for(var re=g.coordinateSystem.getRect(),ae=y.isHorizontal(),oe=0,ie=y.getTicksCoords({tickModel:$}),le=[],ue=[],de=L.getLineStyle(),he=0;he<ie.length;he++){var pe=y.toGlobalCoord(ie[he].coord);if(!(he===0&&!z||he===ie.length-1&&!j)){var _e=ie[he].tickValue;ae?(le[0]=pe,le[1]=re.y,ue[0]=pe,ue[1]=re.y+re.height):(le[0]=re.x,le[1]=pe,ue[0]=re.x+re.width,ue[1]=pe);var Ce=oe++%V.length,xe=new Line$1({anid:_e!=null?"line_"+_e:null,autoBatch:!0,shape:{x1:le[0],y1:le[1],x2:ue[0],y2:ue[1]},style:defaults({stroke:V[Ce]},de),silent:!0});subPixelOptimizeLine(xe.shape,de.lineWidth),n.add(xe)}}}},minorSplitLine:function(t,n,r,g){var y=r.axis,$=r.getModel("minorSplitLine"),L=$.getModel("lineStyle"),V=g.coordinateSystem.getRect(),z=y.isHorizontal(),j=y.getMinorTicksCoords();if(j.length)for(var re=[],ae=[],oe=L.getLineStyle(),ie=0;ie<j.length;ie++)for(var le=0;le<j[ie].length;le++){var ue=y.toGlobalCoord(j[ie][le].coord);z?(re[0]=ue,re[1]=V.y,ae[0]=ue,ae[1]=V.y+V.height):(re[0]=V.x,re[1]=ue,ae[0]=V.x+V.width,ae[1]=ue);var de=new Line$1({anid:"minor_line_"+j[ie][le].tickValue,autoBatch:!0,shape:{x1:re[0],y1:re[1],x2:ae[0],y2:ae[1]},style:oe,silent:!0});subPixelOptimizeLine(de.shape,oe.lineWidth),n.add(de)}},splitArea:function(t,n,r,g){rectCoordAxisBuildSplitArea(t,n,r,g)}},CartesianXAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="xAxis",n}(CartesianAxisView),CartesianYAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=CartesianXAxisView.type,r}return n.type="yAxis",n}(CartesianAxisView),GridView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="grid",r}return n.prototype.render=function(r,g){this.group.removeAll(),r.get("show")&&this.group.add(new Rect$2({shape:r.coordinateSystem.getRect(),style:defaults({fill:r.get("backgroundColor")},r.getItemStyle()),silent:!0,z2:-1}))},n.type="grid",n}(ComponentView),extraOption={offset:0};function install$N(t){t.registerComponentView(GridView),t.registerComponentModel(GridModel),t.registerCoordinateSystem("cartesian2d",Grid),axisModelCreator(t,"x",CartesianAxisModel,extraOption),axisModelCreator(t,"y",CartesianAxisModel,extraOption),t.registerComponentView(CartesianXAxisView),t.registerComponentView(CartesianYAxisView),t.registerPreprocessor(function(n){n.xAxis&&n.yAxis&&!n.grid&&(n.grid={})})}function install$M(t){use(install$N),t.registerSeriesModel(ScatterSeriesModel),t.registerChartView(ScatterView),t.registerLayout(pointsLayout("scatter"))}function radarLayout(t){t.eachSeriesByType("radar",function(n){var r=n.getData(),g=[],y=n.coordinateSystem;if(y){var $=y.getIndicatorAxes();each$f($,function(L,V){r.each(r.mapDimension($[V].dim),function(z,j){g[j]=g[j]||[];var re=y.dataToPoint(z,V);g[j][V]=isValidPoint(re)?re:getValueMissingPoint(y)})}),r.each(function(L){var V=find(g[L],function(z){return isValidPoint(z)})||getValueMissingPoint(y);g[L].push(V.slice()),r.setItemLayout(L,g[L])})}})}function isValidPoint(t){return!isNaN(t[0])&&!isNaN(t[1])}function getValueMissingPoint(t){return[t.cx,t.cy]}function radarBackwardCompat(t){var n=t.polar;if(n){isArray$1(n)||(n=[n]);var r=[];each$f(n,function(g,y){g.indicator?(g.type&&!g.shape&&(g.shape=g.type),t.radar=t.radar||[],isArray$1(t.radar)||(t.radar=[t.radar]),t.radar.push(g)):r.push(g)}),t.polar=r}each$f(t.series,function(g){g&&g.type==="radar"&&g.polarIndex&&(g.radarIndex=g.polarIndex)})}var RadarView$1=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=r.coordinateSystem,L=this.group,V=r.getData(),z=this._data;function j(oe,ie){var le=oe.getItemVisual(ie,"symbol")||"circle";if(le!=="none"){var ue=normalizeSymbolSize(oe.getItemVisual(ie,"symbolSize")),de=createSymbol$1(le,-1,-1,2,2),he=oe.getItemVisual(ie,"symbolRotate")||0;return de.attr({style:{strokeNoScale:!0},z2:100,scaleX:ue[0]/2,scaleY:ue[1]/2,rotation:he*Math.PI/180||0}),de}}function re(oe,ie,le,ue,de,he){le.removeAll();for(var pe=0;pe<ie.length-1;pe++){var _e=j(ue,de);_e&&(_e.__dimIdx=pe,oe[pe]?(_e.setPosition(oe[pe]),graphic[he?"initProps":"updateProps"](_e,{x:ie[pe][0],y:ie[pe][1]},r,de)):_e.setPosition(ie[pe]),le.add(_e))}}function ae(oe){return map$1(oe,function(ie){return[$.cx,$.cy]})}V.diff(z).add(function(oe){var ie=V.getItemLayout(oe);if(ie){var le=new Polygon,ue=new Polyline$1,de={shape:{points:ie}};le.shape.points=ae(ie),ue.shape.points=ae(ie),initProps(le,de,r,oe),initProps(ue,de,r,oe);var he=new Group$3,pe=new Group$3;he.add(ue),he.add(le),he.add(pe),re(ue.shape.points,ie,pe,V,oe,!0),V.setItemGraphicEl(oe,he)}}).update(function(oe,ie){var le=z.getItemGraphicEl(ie),ue=le.childAt(0),de=le.childAt(1),he=le.childAt(2),pe={shape:{points:V.getItemLayout(oe)}};pe.shape.points&&(re(ue.shape.points,pe.shape.points,he,V,oe,!1),saveOldStyle(de),saveOldStyle(ue),updateProps$1(ue,pe,r),updateProps$1(de,pe,r),V.setItemGraphicEl(oe,le))}).remove(function(oe){L.remove(z.getItemGraphicEl(oe))}).execute(),V.eachItemGraphicEl(function(oe,ie){var le=V.getItemModel(ie),ue=oe.childAt(0),de=oe.childAt(1),he=oe.childAt(2),pe=V.getItemVisual(ie,"style"),_e=pe.fill;L.add(oe),ue.useStyle(defaults(le.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:_e})),setStatesStylesFromModel(ue,le,"lineStyle"),setStatesStylesFromModel(de,le,"areaStyle");var Ce=le.getModel("areaStyle"),xe=Ce.isEmpty()&&Ce.parentModel.isEmpty();de.ignore=xe,each$f(["emphasis","select","blur"],function(Oe){var Ne=le.getModel([Oe,"areaStyle"]),Fe=Ne.isEmpty()&&Ne.parentModel.isEmpty();de.ensureState(Oe).ignore=Fe&&xe}),de.useStyle(defaults(Ce.getAreaStyle(),{fill:_e,opacity:.7,decal:pe.decal}));var Ie=le.getModel("emphasis"),$e=Ie.getModel("itemStyle").getItemStyle();he.eachChild(function(Oe){if(Oe instanceof ZRImage){var Ne=Oe.style;Oe.useStyle(extend({image:Ne.image,x:Ne.x,y:Ne.y,width:Ne.width,height:Ne.height},pe))}else Oe.useStyle(pe),Oe.setColor(_e),Oe.style.strokeNoScale=!0;var Fe=Oe.ensureState("emphasis");Fe.style=clone$4($e);var Ve=V.getStore().get(V.getDimensionIndex(Oe.__dimIdx),ie);(Ve==null||isNaN(Ve))&&(Ve=""),setLabelStyle(Oe,getLabelStatesModels(le),{labelFetcher:V.hostModel,labelDataIndex:ie,labelDimIndex:Oe.__dimIdx,defaultText:Ve,inheritColor:_e,defaultOpacity:pe.opacity})}),toggleHoverEmphasis(oe,Ie.get("focus"),Ie.get("blurScope"),Ie.get("disabled"))}),this._data=V},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.type="radar",n}(ChartView),RadarSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.getInitialData=function(r,g){return createSeriesDataSimply(this,{generateCoord:"indicator_",generateCoordCount:1/0})},n.prototype.formatTooltip=function(r,g,y){var $=this.getData(),L=this.coordinateSystem,V=L.getIndicatorAxes(),z=this.getData().getName(r),j=z===""?this.name:z,re=retrieveVisualColorForTooltipMarker(this,r);return createTooltipMarkup("section",{header:j,sortBlocks:!0,blocks:map$1(V,function(ae){var oe=$.get($.mapDimension(ae.dim),r);return createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:re,name:ae.name,value:oe,sortParam:oe})})})},n.prototype.getTooltipPosition=function(r){if(r!=null){for(var g=this.getData(),y=this.coordinateSystem,$=g.getValues(map$1(y.dimensions,function(j){return g.mapDimension(j)}),r),L=0,V=$.length;L<V;L++)if(!isNaN($[L])){var z=y.getIndicatorAxes();return y.coordToPoint(z[L].dataToCoord($[L]),L)}}},n.type="series.radar",n.dependencies=["radar"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},n}(SeriesModel),valueAxisDefault=axisDefault.value;function defaultsShow(t,n){return defaults({show:n},t)}var RadarModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){var r=this.get("boundaryGap"),g=this.get("splitNumber"),y=this.get("scale"),$=this.get("axisLine"),L=this.get("axisTick"),V=this.get("axisLabel"),z=this.get("axisName"),j=this.get(["axisName","show"]),re=this.get(["axisName","formatter"]),ae=this.get("axisNameGap"),oe=this.get("triggerEvent"),ie=map$1(this.get("indicator")||[],function(le){le.max!=null&&le.max>0&&!le.min?le.min=0:le.min!=null&&le.min<0&&!le.max&&(le.max=0);var ue=z;le.color!=null&&(ue=defaults({color:le.color},z));var de=merge(clone$4(le),{boundaryGap:r,splitNumber:g,scale:y,axisLine:$,axisTick:L,axisLabel:V,name:le.text,showName:j,nameLocation:"end",nameGap:ae,nameTextStyle:ue,triggerEvent:oe},!1);if(isString(re)){var he=de.name;de.name=re.replace("{value}",he??"")}else isFunction(re)&&(de.name=re(de.name,de));var pe=new Model(de,null,this.ecModel);return mixin(pe,AxisModelCommonMixin.prototype),pe.mainType="radar",pe.componentIndex=this.componentIndex,pe},this);this._indicatorModels=ie},n.prototype.getIndicatorModels=function(){return this._indicatorModels},n.type="radar",n.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:merge({lineStyle:{color:"#bbb"}},valueAxisDefault.axisLine),axisLabel:defaultsShow(valueAxisDefault.axisLabel,!1),axisTick:defaultsShow(valueAxisDefault.axisTick,!1),splitLine:defaultsShow(valueAxisDefault.splitLine,!0),splitArea:defaultsShow(valueAxisDefault.splitArea,!0),indicator:[]},n}(ComponentModel),axisBuilderAttrs$2=["axisLine","axisTickLabel","axisName"],RadarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=this.group;$.removeAll(),this._buildAxes(r),this._buildSplitLineAndArea(r)},n.prototype._buildAxes=function(r){var g=r.coordinateSystem,y=g.getIndicatorAxes(),$=map$1(y,function(L){var V=L.model.get("showName")?L.name:"",z=new AxisBuilder(L.model,{axisName:V,position:[g.cx,g.cy],rotation:L.angle,labelDirection:-1,tickDirection:-1,nameDirection:1});return z});each$f($,function(L){each$f(axisBuilderAttrs$2,L.add,L),this.group.add(L.getGroup())},this)},n.prototype._buildSplitLineAndArea=function(r){var g=r.coordinateSystem,y=g.getIndicatorAxes();if(!y.length)return;var $=r.get("shape"),L=r.getModel("splitLine"),V=r.getModel("splitArea"),z=L.getModel("lineStyle"),j=V.getModel("areaStyle"),re=L.get("show"),ae=V.get("show"),oe=z.get("color"),ie=j.get("color"),le=isArray$1(oe)?oe:[oe],ue=isArray$1(ie)?ie:[ie],de=[],he=[];function pe(Ue,qe,Lt){var Pt=Lt%qe.length;return Ue[Pt]=Ue[Pt]||[],Pt}if($==="circle")for(var _e=y[0].getTicksCoords(),Ce=g.cx,xe=g.cy,Ie=0;Ie<_e.length;Ie++){if(re){var $e=pe(de,le,Ie);de[$e].push(new Circle({shape:{cx:Ce,cy:xe,r:_e[Ie].coord}}))}if(ae&&Ie<_e.length-1){var $e=pe(he,ue,Ie);he[$e].push(new Ring({shape:{cx:Ce,cy:xe,r0:_e[Ie].coord,r:_e[Ie+1].coord}}))}}else for(var Oe,Ne=map$1(y,function(Ue,qe){var Lt=Ue.getTicksCoords();return Oe=Oe==null?Lt.length-1:Math.min(Lt.length-1,Oe),map$1(Lt,function(Pt){return g.coordToPoint(Pt.coord,qe)})}),Fe=[],Ie=0;Ie<=Oe;Ie++){for(var Ve=[],ze=0;ze<y.length;ze++)Ve.push(Ne[ze][Ie]);if(Ve[0]&&Ve.push(Ve[0].slice()),re){var $e=pe(de,le,Ie);de[$e].push(new Polyline$1({shape:{points:Ve}}))}if(ae&&Fe){var $e=pe(he,ue,Ie-1);he[$e].push(new Polygon({shape:{points:Ve.concat(Fe)}}))}Fe=Ve.slice().reverse()}var Et=z.getLineStyle(),Dt=j.getAreaStyle();each$f(he,function(Ue,qe){this.group.add(mergePath(Ue,{style:defaults({stroke:"none",fill:ue[qe%ue.length]},Dt),silent:!0}))},this),each$f(de,function(Ue,qe){this.group.add(mergePath(Ue,{style:defaults({fill:"none",stroke:le[qe%le.length]},Et),silent:!0}))},this)},n.type="radar",n}(ComponentView),IndicatorAxis=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this,r,g,y)||this;return $.type="value",$.angle=0,$.name="",$}return n}(Axis),Radar=function(){function t(n,r,g){this.dimensions=[],this._model=n,this._indicatorAxes=map$1(n.getIndicatorModels(),function(y,$){var L="indicator_"+$,V=new IndicatorAxis(L,new IntervalScale);return V.name=y.get("name"),V.model=y,y.axis=V,this.dimensions.push(L),V},this),this.resize(n,g)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(n,r){var g=this._indicatorAxes[r];return this.coordToPoint(g.dataToCoord(n),r)},t.prototype.coordToPoint=function(n,r){var g=this._indicatorAxes[r],y=g.angle,$=this.cx+n*Math.cos(y),L=this.cy-n*Math.sin(y);return[$,L]},t.prototype.pointToData=function(n){var r=n[0]-this.cx,g=n[1]-this.cy,y=Math.sqrt(r*r+g*g);r/=y,g/=y;for(var $=Math.atan2(-g,r),L=1/0,V,z=-1,j=0;j<this._indicatorAxes.length;j++){var re=this._indicatorAxes[j],ae=Math.abs($-re.angle);ae<L&&(V=re,z=j,L=ae)}return[z,+(V&&V.coordToData(y))]},t.prototype.resize=function(n,r){var g=n.get("center"),y=r.getWidth(),$=r.getHeight(),L=Math.min(y,$)/2;this.cx=parsePercent(g[0],y),this.cy=parsePercent(g[1],$),this.startAngle=n.get("startAngle")*Math.PI/180;var V=n.get("radius");(isString(V)||isNumber(V))&&(V=[0,V]),this.r0=parsePercent(V[0],L),this.r=parsePercent(V[1],L),each$f(this._indicatorAxes,function(z,j){z.setExtent(this.r0,this.r);var re=this.startAngle+j*Math.PI*2/this._indicatorAxes.length;re=Math.atan2(Math.sin(re),Math.cos(re)),z.angle=re},this)},t.prototype.update=function(n,r){var g=this._indicatorAxes,y=this._model;each$f(g,function(V){V.scale.setExtent(1/0,-1/0)}),n.eachSeriesByType("radar",function(V,z){if(!(V.get("coordinateSystem")!=="radar"||n.getComponent("radar",V.get("radarIndex"))!==y)){var j=V.getData();each$f(g,function(re){re.scale.unionExtentFromData(j,j.mapDimension(re.dim))})}},this);var $=y.get("splitNumber"),L=new IntervalScale;L.setExtent(0,$),L.setInterval(1),each$f(g,function(V,z){alignScaleTicks(V.scale,V.model,L)})},t.prototype.convertToPixel=function(n,r,g){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(n,r,g){return console.warn("Not implemented."),null},t.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},t.create=function(n,r){var g=[];return n.eachComponent("radar",function(y){var $=new t(y,n,r);g.push($),y.coordinateSystem=$}),n.eachSeriesByType("radar",function(y){y.get("coordinateSystem")==="radar"&&(y.coordinateSystem=g[y.get("radarIndex")||0])}),g},t.dimensions=[],t}();function install$L(t){t.registerCoordinateSystem("radar",Radar),t.registerComponentModel(RadarModel),t.registerComponentView(RadarView),t.registerVisual({seriesType:"radar",reset:function(n){var r=n.getData();r.each(function(g){r.setItemVisual(g,"legendIcon","roundRect")}),r.setVisual("legendIcon","roundRect")}})}function install$K(t){use(install$L),t.registerChartView(RadarView$1),t.registerSeriesModel(RadarSeriesModel),t.registerLayout(radarLayout),t.registerProcessor(dataFilter$1("radar")),t.registerPreprocessor(radarBackwardCompat)}var ATTR="\0_ec_interaction_mutex";function take(t,n,r){var g=getStore(t);g[n]=r}function release(t,n,r){var g=getStore(t),y=g[n];y===r&&(g[n]=null)}function isTaken(t,n){return!!getStore(t)[n]}function getStore(t){return t[ATTR]||(t[ATTR]={})}registerAction({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},noop);var RoamController=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;g._zr=r;var y=bind$1(g._mousedownHandler,g),$=bind$1(g._mousemoveHandler,g),L=bind$1(g._mouseupHandler,g),V=bind$1(g._mousewheelHandler,g),z=bind$1(g._pinchHandler,g);return g.enable=function(j,re){this.disable(),this._opt=defaults(clone$4(re)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),j==null&&(j=!0),(j===!0||j==="move"||j==="pan")&&(r.on("mousedown",y),r.on("mousemove",$),r.on("mouseup",L)),(j===!0||j==="scale"||j==="zoom")&&(r.on("mousewheel",V),r.on("pinch",z))},g.disable=function(){r.off("mousedown",y),r.off("mousemove",$),r.off("mouseup",L),r.off("mousewheel",V),r.off("pinch",z)},g}return n.prototype.isDragging=function(){return this._dragging},n.prototype.isPinching=function(){return this._pinching},n.prototype.setPointerChecker=function(r){this.pointerChecker=r},n.prototype.dispose=function(){this.disable()},n.prototype._mousedownHandler=function(r){if(!isMiddleOrRightButtonOnMouseUpDown(r)){for(var g=r.target;g;){if(g.draggable)return;g=g.__hostTarget||g.parent}var y=r.offsetX,$=r.offsetY;this.pointerChecker&&this.pointerChecker(r,y,$)&&(this._x=y,this._y=$,this._dragging=!0)}},n.prototype._mousemoveHandler=function(r){if(!(!this._dragging||!isAvailableBehavior("moveOnMouseMove",r,this._opt)||r.gestureEvent==="pinch"||isTaken(this._zr,"globalPan"))){var g=r.offsetX,y=r.offsetY,$=this._x,L=this._y,V=g-$,z=y-L;this._x=g,this._y=y,this._opt.preventDefaultMouseMove&&stop(r.event),trigger$1(this,"pan","moveOnMouseMove",r,{dx:V,dy:z,oldX:$,oldY:L,newX:g,newY:y,isAvailableBehavior:null})}},n.prototype._mouseupHandler=function(r){isMiddleOrRightButtonOnMouseUpDown(r)||(this._dragging=!1)},n.prototype._mousewheelHandler=function(r){var g=isAvailableBehavior("zoomOnMouseWheel",r,this._opt),y=isAvailableBehavior("moveOnMouseWheel",r,this._opt),$=r.wheelDelta,L=Math.abs($),V=r.offsetX,z=r.offsetY;if(!($===0||!g&&!y)){if(g){var j=L>3?1.4:L>1?1.2:1.1,re=$>0?j:1/j;checkPointerAndTrigger(this,"zoom","zoomOnMouseWheel",r,{scale:re,originX:V,originY:z,isAvailableBehavior:null})}if(y){var ae=Math.abs($),oe=($>0?1:-1)*(ae>3?.4:ae>1?.15:.05);checkPointerAndTrigger(this,"scrollMove","moveOnMouseWheel",r,{scrollDelta:oe,originX:V,originY:z,isAvailableBehavior:null})}}},n.prototype._pinchHandler=function(r){if(!isTaken(this._zr,"globalPan")){var g=r.pinchScale>1?1.1:1/1.1;checkPointerAndTrigger(this,"zoom",null,r,{scale:g,originX:r.pinchX,originY:r.pinchY,isAvailableBehavior:null})}},n}(Eventful);function checkPointerAndTrigger(t,n,r,g,y){t.pointerChecker&&t.pointerChecker(g,y.originX,y.originY)&&(stop(g.event),trigger$1(t,n,r,g,y))}function trigger$1(t,n,r,g,y){y.isAvailableBehavior=bind$1(isAvailableBehavior,null,r,g),t.trigger(n,y)}function isAvailableBehavior(t,n,r){var g=r[t];return!t||g&&(!isString(g)||n.event[g+"Key"])}function updateViewOnPan(t,n,r){var g=t.target;g.x+=n,g.y+=r,g.dirty()}function updateViewOnZoom(t,n,r,g){var y=t.target,$=t.zoomLimit,L=t.zoom=t.zoom||1;if(L*=n,$){var V=$.min||0,z=$.max||1/0;L=Math.max(Math.min(z,L),V)}var j=L/t.zoom;t.zoom=L,y.x-=(r-y.x)*(j-1),y.y-=(g-y.y)*(j-1),y.scaleX*=j,y.scaleY*=j,y.dirty()}var IRRELEVANT_EXCLUDES={axisPointer:1,tooltip:1,brush:1};function onIrrelevantElement(t,n,r){var g=n.getComponentByElement(t.topTarget),y=g&&g.coordinateSystem;return g&&g!==r&&!IRRELEVANT_EXCLUDES.hasOwnProperty(g.mainType)&&y&&y.model!==r}function parseXML(t){if(isString(t)){var n=new DOMParser;t=n.parseFromString(t,"text/xml")}var r=t;for(r.nodeType===9&&(r=r.firstChild);r.nodeName.toLowerCase()!=="svg"||r.nodeType!==1;)r=r.nextSibling;return r}var nodeParsers,INHERITABLE_STYLE_ATTRIBUTES_MAP={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS=keys(INHERITABLE_STYLE_ATTRIBUTES_MAP),SELF_STYLE_ATTRIBUTES_MAP={"alignment-baseline":"textBaseline","stop-color":"stopColor"},SELF_STYLE_ATTRIBUTES_MAP_KEYS=keys(SELF_STYLE_ATTRIBUTES_MAP),SVGParser=function(){function t(){this._defs={},this._root=null}return t.prototype.parse=function(n,r){r=r||{};var g=parseXML(n);this._defsUsePending=[];var y=new Group$3;this._root=y;var $=[],L=g.getAttribute("viewBox")||"",V=parseFloat(g.getAttribute("width")||r.width),z=parseFloat(g.getAttribute("height")||r.height);isNaN(V)&&(V=null),isNaN(z)&&(z=null),parseAttributes(g,y,null,!0,!1);for(var j=g.firstChild;j;)this._parseNode(j,y,$,null,!1,!1),j=j.nextSibling;applyDefs(this._defs,this._defsUsePending),this._defsUsePending=[];var re,ae;if(L){var oe=splitNumberSequence(L);oe.length>=4&&(re={x:parseFloat(oe[0]||0),y:parseFloat(oe[1]||0),width:parseFloat(oe[2]),height:parseFloat(oe[3])})}if(re&&V!=null&&z!=null&&(ae=makeViewBoxTransform(re,{x:0,y:0,width:V,height:z}),!r.ignoreViewBox)){var ie=y;y=new Group$3,y.add(ie),ie.scaleX=ie.scaleY=ae.scale,ie.x=ae.x,ie.y=ae.y}return!r.ignoreRootClip&&V!=null&&z!=null&&y.setClipPath(new Rect$2({shape:{x:0,y:0,width:V,height:z}})),{root:y,width:V,height:z,viewBoxRect:re,viewBoxTransform:ae,named:$}},t.prototype._parseNode=function(n,r,g,y,$,L){var V=n.nodeName.toLowerCase(),z,j=y;if(V==="defs"&&($=!0),V==="text"&&(L=!0),V==="defs"||V==="switch")z=r;else{if(!$){var re=nodeParsers[V];if(re&&hasOwn(nodeParsers,V)){z=re.call(this,n,r);var ae=n.getAttribute("name");if(ae){var oe={name:ae,namedFrom:null,svgNodeTagLower:V,el:z};g.push(oe),V==="g"&&(j=oe)}else y&&g.push({name:y.name,namedFrom:y,svgNodeTagLower:V,el:z});r.add(z)}}var ie=paintServerParsers[V];if(ie&&hasOwn(paintServerParsers,V)){var le=ie.call(this,n),ue=n.getAttribute("id");ue&&(this._defs[ue]=le)}}if(z&&z.isGroup)for(var de=n.firstChild;de;)de.nodeType===1?this._parseNode(de,z,g,j,$,L):de.nodeType===3&&L&&this._parseText(de,z),de=de.nextSibling},t.prototype._parseText=function(n,r){var g=new TSpan({style:{text:n.textContent},silent:!0,x:this._textX||0,y:this._textY||0});inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),applyTextAlignment(g,r);var y=g.style,$=y.fontSize;$&&$<9&&(y.fontSize=9,g.scaleX*=$/9,g.scaleY*=$/9);var L=(y.fontSize||y.fontFamily)&&[y.fontStyle,y.fontWeight,(y.fontSize||12)+"px",y.fontFamily||"sans-serif"].join(" ");y.font=L;var V=g.getBoundingRect();return this._textX+=V.width,r.add(g),g},t.internalField=function(){nodeParsers={g:function(n,r){var g=new Group$3;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g},rect:function(n,r){var g=new Rect$2;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g.setShape({x:parseFloat(n.getAttribute("x")||"0"),y:parseFloat(n.getAttribute("y")||"0"),width:parseFloat(n.getAttribute("width")||"0"),height:parseFloat(n.getAttribute("height")||"0")}),g.silent=!0,g},circle:function(n,r){var g=new Circle;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),r:parseFloat(n.getAttribute("r")||"0")}),g.silent=!0,g},line:function(n,r){var g=new Line$1;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g.setShape({x1:parseFloat(n.getAttribute("x1")||"0"),y1:parseFloat(n.getAttribute("y1")||"0"),x2:parseFloat(n.getAttribute("x2")||"0"),y2:parseFloat(n.getAttribute("y2")||"0")}),g.silent=!0,g},ellipse:function(n,r){var g=new Ellipse;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g.setShape({cx:parseFloat(n.getAttribute("cx")||"0"),cy:parseFloat(n.getAttribute("cy")||"0"),rx:parseFloat(n.getAttribute("rx")||"0"),ry:parseFloat(n.getAttribute("ry")||"0")}),g.silent=!0,g},polygon:function(n,r){var g=n.getAttribute("points"),y;g&&(y=parsePoints(g));var $=new Polygon({shape:{points:y||[]},silent:!0});return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$},polyline:function(n,r){var g=n.getAttribute("points"),y;g&&(y=parsePoints(g));var $=new Polyline$1({shape:{points:y||[]},silent:!0});return inheritStyle(r,$),parseAttributes(n,$,this._defsUsePending,!1,!1),$},image:function(n,r){var g=new ZRImage;return inheritStyle(r,g),parseAttributes(n,g,this._defsUsePending,!1,!1),g.setStyle({image:n.getAttribute("xlink:href")||n.getAttribute("href"),x:+n.getAttribute("x"),y:+n.getAttribute("y"),width:+n.getAttribute("width"),height:+n.getAttribute("height")}),g.silent=!0,g},text:function(n,r){var g=n.getAttribute("x")||"0",y=n.getAttribute("y")||"0",$=n.getAttribute("dx")||"0",L=n.getAttribute("dy")||"0";this._textX=parseFloat(g)+parseFloat($),this._textY=parseFloat(y)+parseFloat(L);var V=new Group$3;return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!0),V},tspan:function(n,r){var g=n.getAttribute("x"),y=n.getAttribute("y");g!=null&&(this._textX=parseFloat(g)),y!=null&&(this._textY=parseFloat(y));var $=n.getAttribute("dx")||"0",L=n.getAttribute("dy")||"0",V=new Group$3;return inheritStyle(r,V),parseAttributes(n,V,this._defsUsePending,!1,!0),this._textX+=parseFloat($),this._textY+=parseFloat(L),V},path:function(n,r){var g=n.getAttribute("d")||"",y=createFromString(g);return inheritStyle(r,y),parseAttributes(n,y,this._defsUsePending,!1,!1),y.silent=!0,y}}}(),t}(),paintServerParsers={lineargradient:function(t){var n=parseInt(t.getAttribute("x1")||"0",10),r=parseInt(t.getAttribute("y1")||"0",10),g=parseInt(t.getAttribute("x2")||"10",10),y=parseInt(t.getAttribute("y2")||"0",10),$=new LinearGradient(n,r,g,y);return parsePaintServerUnit(t,$),parseGradientColorStops(t,$),$},radialgradient:function(t){var n=parseInt(t.getAttribute("cx")||"0",10),r=parseInt(t.getAttribute("cy")||"0",10),g=parseInt(t.getAttribute("r")||"0",10),y=new RadialGradient(n,r,g);return parsePaintServerUnit(t,y),parseGradientColorStops(t,y),y}};function parsePaintServerUnit(t,n){var r=t.getAttribute("gradientUnits");r==="userSpaceOnUse"&&(n.global=!0)}function parseGradientColorStops(t,n){for(var r=t.firstChild;r;){if(r.nodeType===1&&r.nodeName.toLocaleLowerCase()==="stop"){var g=r.getAttribute("offset"),y=void 0;g&&g.indexOf("%")>0?y=parseInt(g,10)/100:g?y=parseFloat(g):y=0;var $={};parseInlineStyle(r,$,$);var L=$.stopColor||r.getAttribute("stop-color")||"#000000";n.colorStops.push({offset:y,color:L})}r=r.nextSibling}}function inheritStyle(t,n){t&&t.__inheritedStyle&&(n.__inheritedStyle||(n.__inheritedStyle={}),defaults(n.__inheritedStyle,t.__inheritedStyle))}function parsePoints(t){for(var n=splitNumberSequence(t),r=[],g=0;g<n.length;g+=2){var y=parseFloat(n[g]),$=parseFloat(n[g+1]);r.push([y,$])}return r}function parseAttributes(t,n,r,g,y){var $=n,L=$.__inheritedStyle=$.__inheritedStyle||{},V={};t.nodeType===1&&(parseTransformAttribute(t,n),parseInlineStyle(t,L,V),g||parseAttributeStyle(t,L,V)),$.style=$.style||{},L.fill!=null&&($.style.fill=getFillStrokeStyle($,"fill",L.fill,r)),L.stroke!=null&&($.style.stroke=getFillStrokeStyle($,"stroke",L.stroke,r)),each$f(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(z){L[z]!=null&&($.style[z]=parseFloat(L[z]))}),each$f(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(z){L[z]!=null&&($.style[z]=L[z])}),y&&($.__selfStyle=V),L.lineDash&&($.style.lineDash=map$1(splitNumberSequence(L.lineDash),function(z){return parseFloat(z)})),(L.visibility==="hidden"||L.visibility==="collapse")&&($.invisible=!0),L.display==="none"&&($.ignore=!0)}function applyTextAlignment(t,n){var r=n.__selfStyle;if(r){var g=r.textBaseline,y=g;!g||g==="auto"||g==="baseline"?y="alphabetic":g==="before-edge"||g==="text-before-edge"?y="top":g==="after-edge"||g==="text-after-edge"?y="bottom":(g==="central"||g==="mathematical")&&(y="middle"),t.style.textBaseline=y}var $=n.__inheritedStyle;if($){var L=$.textAlign,V=L;L&&(L==="middle"&&(V="center"),t.style.textAlign=V)}}var urlRegex=/^url\(\s*#(.*?)\)/;function getFillStrokeStyle(t,n,r,g){var y=r&&r.match(urlRegex);if(y){var $=trim$1(y[1]);g.push([t,n,$]);return}return r==="none"&&(r=null),r}function applyDefs(t,n){for(var r=0;r<n.length;r++){var g=n[r];g[0].style[g[1]]=t[g[2]]}}var numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function splitNumberSequence(t){return t.match(numberReg)||[]}var transformRegex=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,DEGREE_TO_ANGLE=Math.PI/180;function parseTransformAttribute(t,n){var r=t.getAttribute("transform");if(r){r=r.replace(/,/g," ");var g=[],y=null;r.replace(transformRegex,function(ae,oe,ie){return g.push(oe,ie),""});for(var $=g.length-1;$>0;$-=2){var L=g[$],V=g[$-1],z=splitNumberSequence(L);switch(y=y||create$1(),V){case"translate":translate(y,y,[parseFloat(z[0]),parseFloat(z[1]||"0")]);break;case"scale":scale$1(y,y,[parseFloat(z[0]),parseFloat(z[1]||z[0])]);break;case"rotate":rotate(y,y,-parseFloat(z[0])*DEGREE_TO_ANGLE,[parseFloat(z[1]||"0"),parseFloat(z[2]||"0")]);break;case"skewX":var j=Math.tan(parseFloat(z[0])*DEGREE_TO_ANGLE);mul(y,[1,0,j,1,0,0],y);break;case"skewY":var re=Math.tan(parseFloat(z[0])*DEGREE_TO_ANGLE);mul(y,[1,re,0,1,0,0],y);break;case"matrix":y[0]=parseFloat(z[0]),y[1]=parseFloat(z[1]),y[2]=parseFloat(z[2]),y[3]=parseFloat(z[3]),y[4]=parseFloat(z[4]),y[5]=parseFloat(z[5]);break}}n.setLocalTransform(y)}}var styleRegex=/([^\s:;]+)\s*:\s*([^:;]+)/g;function parseInlineStyle(t,n,r){var g=t.getAttribute("style");if(g){styleRegex.lastIndex=0;for(var y;(y=styleRegex.exec(g))!=null;){var $=y[1],L=hasOwn(INHERITABLE_STYLE_ATTRIBUTES_MAP,$)?INHERITABLE_STYLE_ATTRIBUTES_MAP[$]:null;L&&(n[L]=y[2]);var V=hasOwn(SELF_STYLE_ATTRIBUTES_MAP,$)?SELF_STYLE_ATTRIBUTES_MAP[$]:null;V&&(r[V]=y[2])}}}function parseAttributeStyle(t,n,r){for(var g=0;g<INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS.length;g++){var y=INHERITABLE_STYLE_ATTRIBUTES_MAP_KEYS[g],$=t.getAttribute(y);$!=null&&(n[INHERITABLE_STYLE_ATTRIBUTES_MAP[y]]=$)}for(var g=0;g<SELF_STYLE_ATTRIBUTES_MAP_KEYS.length;g++){var y=SELF_STYLE_ATTRIBUTES_MAP_KEYS[g],$=t.getAttribute(y);$!=null&&(r[SELF_STYLE_ATTRIBUTES_MAP[y]]=$)}}function makeViewBoxTransform(t,n){var r=n.width/t.width,g=n.height/t.height,y=Math.min(r,g);return{scale:y,x:-(t.x+t.width/2)*y+(n.x+n.width/2),y:-(t.y+t.height/2)*y+(n.y+n.height/2)}}function parseSVG(t,n){var r=new SVGParser;return r.parse(t,n)}var REGION_AVAILABLE_SVG_TAG_MAP=createHashMap(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),GeoSVGResource=function(){function t(n,r){this.type="geoSVG",this._usedGraphicMap=createHashMap(),this._freedGraphics=[],this._mapName=n,this._parsedXML=parseXML(r)}return t.prototype.load=function(){var n=this._firstGraphic;if(!n){n=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(n),this._boundingRect=this._firstGraphic.boundingRect.clone();var r=createRegions(n.named),g=r.regions,y=r.regionsMap;this._regions=g,this._regionsMap=y}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},t.prototype._buildGraphic=function(n){var r,g;try{r=n&&parseSVG(n,{ignoreViewBox:!0,ignoreRootClip:!0})||{},g=r.root,assert(g!=null)}catch(de){throw new Error(`Invalid svg format
`+de.message)}var y=new Group$3;y.add(g),y.isGeoSVGGraphicRoot=!0;var $=r.width,L=r.height,V=r.viewBoxRect,z=this._boundingRect;if(!z){var j=void 0,re=void 0,ae=void 0,oe=void 0;if($!=null?(j=0,ae=$):V&&(j=V.x,ae=V.width),L!=null?(re=0,oe=L):V&&(re=V.y,oe=V.height),j==null||re==null){var ie=g.getBoundingRect();j==null&&(j=ie.x,ae=ie.width),re==null&&(re=ie.y,oe=ie.height)}z=this._boundingRect=new BoundingRect(j,re,ae,oe)}if(V){var le=makeViewBoxTransform(V,z);g.scaleX=g.scaleY=le.scale,g.x=le.x,g.y=le.y}y.setClipPath(new Rect$2({shape:z.plain()}));var ue=[];return each$f(r.named,function(de){REGION_AVAILABLE_SVG_TAG_MAP.get(de.svgNodeTagLower)!=null&&(ue.push(de),setSilent(de.el))}),{root:y,boundingRect:z,named:ue}},t.prototype.useGraphic=function(n){var r=this._usedGraphicMap,g=r.get(n);return g||(g=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),r.set(n,g),g)},t.prototype.freeGraphic=function(n){var r=this._usedGraphicMap,g=r.get(n);g&&(r.removeKey(n),this._freedGraphics.push(g))},t}();function setSilent(t){t.silent=!1,t.isGroup&&t.traverse(function(n){n.silent=!1})}function createRegions(t){var n=[],r=createHashMap();return each$f(t,function(g){if(g.namedFrom==null){var y=new GeoSVGRegion(g.name,g.el);n.push(y),r.set(g.name,y)}}),{regions:n,regionsMap:r}}var geoCoord=[126,25],nanhaiName="",points$1=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]];for(var i=0;i<points$1.length;i++)for(var k=0;k<points$1[i].length;k++)points$1[i][k][0]/=10.5,points$1[i][k][1]/=-10.5/.75,points$1[i][k][0]+=geoCoord[0],points$1[i][k][1]+=geoCoord[1];function fixNanhai(t,n){if(t==="china"){for(var r=0;r<n.length;r++)if(n[r].name===nanhaiName)return;n.push(new GeoJSONRegion(nanhaiName,map$1(points$1,function(g){return{type:"polygon",exterior:g}}),geoCoord))}}var coordsOffsetMap={:[32,80],:[0,-10],:[10,5],:[-10,10],:[5,5]};function fixTextCoords(t,n){if(t==="china"){var r=coordsOffsetMap[n.name];if(r){var g=n.getCenter();g[0]+=r[0]/10.5,g[1]+=-r[1]/(10.5/.75),n.setCenter(g)}}}var points=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]];function fixDiaoyuIsland(t,n){t==="china"&&n.name===""&&n.geometries.push({type:"polygon",exterior:points[0]})}var DEFAULT_NAME_PROPERTY="name",GeoJSONResource=function(){function t(n,r,g){this.type="geoJSON",this._parsedMap=createHashMap(),this._mapName=n,this._specialAreas=g,this._geoJSON=parseInput(r)}return t.prototype.load=function(n,r){r=r||DEFAULT_NAME_PROPERTY;var g=this._parsedMap.get(r);if(!g){var y=this._parseToRegions(r);g=this._parsedMap.set(r,{regions:y,boundingRect:calculateBoundingRect(y)})}var $=createHashMap(),L=[];return each$f(g.regions,function(V){var z=V.name;n&&hasOwn(n,z)&&(V=V.cloneShallow(z=n[z])),L.push(V),$.set(z,V)}),{regions:L,boundingRect:g.boundingRect||new BoundingRect(0,0,0,0),regionsMap:$}},t.prototype._parseToRegions=function(n){var r=this._mapName,g=this._geoJSON,y;try{y=g?parseGeoJSON(g,n):[]}catch($){throw new Error(`Invalid geoJson format
`+$.message)}return fixNanhai(r,y),each$f(y,function($){var L=$.name;fixTextCoords(r,$),fixDiaoyuIsland(r,$);var V=this._specialAreas&&this._specialAreas[L];V&&$.transformTo(V.left,V.top,V.width,V.height)},this),y},t.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},t}();function calculateBoundingRect(t){for(var n,r=0;r<t.length;r++){var g=t[r].getBoundingRect();n=n||g.clone(),n.union(g)}return n}function parseInput(t){return isString(t)?typeof JSON<"u"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")():t}var storage=createHashMap();const geoSourceManager={registerMap:function(t,n,r){if(n.svg){var g=new GeoSVGResource(t,n.svg);storage.set(t,g)}else{var y=n.geoJson||n.geoJSON;y&&!n.features?r=n.specialAreas:y=n;var g=new GeoJSONResource(t,y,r);storage.set(t,g)}},getGeoResource:function(t){return storage.get(t)},getMapForUser:function(t){var n=storage.get(t);return n&&n.type==="geoJSON"&&n.getMapForUser()},load:function(t,n,r){var g=storage.get(t);if(g)return g.load(n,r)}};var OPTION_STYLE_ENABLED_TAGS=["rect","circle","line","ellipse","polygon","polyline","path"],OPTION_STYLE_ENABLED_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS),STATE_TRIGGER_TAG_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),LABEL_HOST_MAP=createHashMap(OPTION_STYLE_ENABLED_TAGS.concat(["g"])),mapLabelRaw=makeInner();function getFixedItemStyle(t){var n=t.getItemStyle(),r=t.get("areaColor");return r!=null&&(n.fill=r),n}function fixLineStyle(t){var n=t.style;n&&(n.stroke=n.stroke||n.fill,n.fill=null)}var MapDraw=function(){function t(n){var r=new Group$3;this.uid=getUID("ec_map_draw"),this._controller=new RoamController(n.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new Group$3),r.add(this._svgGroup=new Group$3)}return t.prototype.draw=function(n,r,g,y,$){var L=n.mainType==="geo",V=n.getData&&n.getData();L&&r.eachComponent({mainType:"series",subType:"map"},function(he){!V&&he.getHostGeoModel()===n&&(V=he.getData())});var z=n.coordinateSystem,j=this._regionsGroup,re=this.group,ae=z.getTransformInfo(),oe=ae.raw,ie=ae.roam,le=!j.childAt(0)||$;le?(re.x=ie.x,re.y=ie.y,re.scaleX=ie.scaleX,re.scaleY=ie.scaleY,re.dirty()):updateProps$1(re,ie,n);var ue=V&&V.getVisual("visualMeta")&&V.getVisual("visualMeta").length>0,de={api:g,geo:z,mapOrGeoModel:n,data:V,isVisualEncodedByVisualMap:ue,isGeo:L,transformInfoRaw:oe};z.resourceType==="geoJSON"?this._buildGeoJSON(de):z.resourceType==="geoSVG"&&this._buildSVG(de),this._updateController(n,r,g),this._updateMapSelectHandler(n,j,g,y)},t.prototype._buildGeoJSON=function(n){var r=this._regionsGroupByName=createHashMap(),g=createHashMap(),y=this._regionsGroup,$=n.transformInfoRaw,L=n.mapOrGeoModel,V=n.data,z=n.geo.projection,j=z&&z.stream;function re(ie,le){return le&&(ie=le(ie)),ie&&[ie[0]*$.scaleX+$.x,ie[1]*$.scaleY+$.y]}function ae(ie){for(var le=[],ue=!j&&z&&z.project,de=0;de<ie.length;++de){var he=re(ie[de],ue);he&&le.push(he)}return le}function oe(ie){return{shape:{points:ae(ie)}}}y.removeAll(),each$f(n.geo.regions,function(ie){var le=ie.name,ue=r.get(le),de=g.get(le)||{},he=de.dataIdx,pe=de.regionModel;if(!ue){ue=r.set(le,new Group$3),y.add(ue),he=V?V.indexOfName(le):null,pe=n.isGeo?L.getRegionModel(le):V?V.getItemModel(he):null;var _e=pe.get("silent",!0);_e!=null&&(ue.silent=_e),g.set(le,{dataIdx:he,regionModel:pe})}var Ce=[],xe=[];each$f(ie.geometries,function(Oe){if(Oe.type==="polygon"){var Ne=[Oe.exterior].concat(Oe.interiors||[]);j&&(Ne=projectPolys(Ne,j)),each$f(Ne,function(Ve){Ce.push(new Polygon(oe(Ve)))})}else{var Fe=Oe.points;j&&(Fe=projectPolys(Fe,j,!0)),each$f(Fe,function(Ve){xe.push(new Polyline$1(oe(Ve)))})}});var Ie=re(ie.getCenter(),z&&z.project);function $e(Oe,Ne){if(Oe.length){var Fe=new CompoundPath({culling:!0,segmentIgnoreThreshold:1,shape:{paths:Oe}});ue.add(Fe),applyOptionStyleForRegion(n,Fe,he,pe),resetLabelForRegion(n,Fe,le,pe,L,he,Ie),Ne&&(fixLineStyle(Fe),each$f(Fe.states,fixLineStyle))}}$e(Ce),$e(xe,!0)}),r.each(function(ie,le){var ue=g.get(le),de=ue.dataIdx,he=ue.regionModel;resetEventTriggerForRegion(n,ie,le,he,L,de),resetTooltipForRegion(n,ie,le,he,L),resetStateTriggerForRegion(n,ie,le,he,L)},this)},t.prototype._buildSVG=function(n){var r=n.geo.map,g=n.transformInfoRaw;this._svgGroup.x=g.x,this._svgGroup.y=g.y,this._svgGroup.scaleX=g.scaleX,this._svgGroup.scaleY=g.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var y=this._svgDispatcherMap=createHashMap(),$=!1;each$f(this._svgGraphicRecord.named,function(L){var V=L.name,z=n.mapOrGeoModel,j=n.data,re=L.svgNodeTagLower,ae=L.el,oe=j?j.indexOfName(V):null,ie=z.getRegionModel(V);OPTION_STYLE_ENABLED_TAG_MAP.get(re)!=null&&ae instanceof Displayable&&applyOptionStyleForRegion(n,ae,oe,ie),ae instanceof Displayable&&(ae.culling=!0);var le=ie.get("silent",!0);if(le!=null&&(ae.silent=le),ae.z2EmphasisLift=0,!L.namedFrom&&(LABEL_HOST_MAP.get(re)!=null&&resetLabelForRegion(n,ae,V,ie,z,oe,null),resetEventTriggerForRegion(n,ae,V,ie,z,oe),resetTooltipForRegion(n,ae,V,ie,z),STATE_TRIGGER_TAG_MAP.get(re)!=null)){var ue=resetStateTriggerForRegion(n,ae,V,ie,z);ue==="self"&&($=!0);var de=y.get(V)||y.set(V,[]);de.push(ae)}},this),this._enableBlurEntireSVG($,n)},t.prototype._enableBlurEntireSVG=function(n,r){if(n&&r.isGeo){var g=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle(),y=g.opacity;this._svgGraphicRecord.root.traverse(function($){if(!$.isGroup){setDefaultStateProxy($);var L=$.ensureState("blur").style||{};L.opacity==null&&y!=null&&(L.opacity=y),$.ensureState("emphasis")}})}},t.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},t.prototype.findHighDownDispatchers=function(n,r){if(n==null)return[];var g=r.coordinateSystem;if(g.resourceType==="geoJSON"){var y=this._regionsGroupByName;if(y){var $=y.get(n);return $?[$]:[]}}else if(g.resourceType==="geoSVG")return this._svgDispatcherMap&&this._svgDispatcherMap.get(n)||[]},t.prototype._svgResourceChanged=function(n){return this._svgMapName!==n},t.prototype._useSVG=function(n){var r=geoSourceManager.getGeoResource(n);if(r&&r.type==="geoSVG"){var g=r.useGraphic(this.uid);this._svgGroup.add(g.root),this._svgGraphicRecord=g,this._svgMapName=n}},t.prototype._freeSVG=function(){var n=this._svgMapName;if(n!=null){var r=geoSourceManager.getGeoResource(n);r&&r.type==="geoSVG"&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},t.prototype._updateController=function(n,r,g){var y=n.coordinateSystem,$=this._controller,L=this._controllerHost;L.zoomLimit=n.get("scaleLimit"),L.zoom=y.getZoom(),$.enable(n.get("roam")||!1);var V=n.mainType;function z(){var j={type:"geoRoam",componentType:V};return j[V+"Id"]=n.id,j}$.off("pan").on("pan",function(j){this._mouseDownFlag=!1,updateViewOnPan(L,j.dx,j.dy),g.dispatchAction(extend(z(),{dx:j.dx,dy:j.dy,animation:{duration:0}}))},this),$.off("zoom").on("zoom",function(j){this._mouseDownFlag=!1,updateViewOnZoom(L,j.scale,j.originX,j.originY),g.dispatchAction(extend(z(),{totalZoom:L.zoom,zoom:j.scale,originX:j.originX,originY:j.originY,animation:{duration:0}}))},this),$.setPointerChecker(function(j,re,ae){return y.containPoint([re,ae])&&!onIrrelevantElement(j,g,n)})},t.prototype.resetForLabelLayout=function(){this.group.traverse(function(n){var r=n.getTextContent();r&&(r.ignore=mapLabelRaw(r).ignore)})},t.prototype._updateMapSelectHandler=function(n,r,g,y){var $=this;r.off("mousedown"),r.off("click"),n.get("selectedMode")&&(r.on("mousedown",function(){$._mouseDownFlag=!0}),r.on("click",function(L){$._mouseDownFlag&&($._mouseDownFlag=!1)}))},t}();function applyOptionStyleForRegion(t,n,r,g){var y=g.getModel("itemStyle"),$=g.getModel(["emphasis","itemStyle"]),L=g.getModel(["blur","itemStyle"]),V=g.getModel(["select","itemStyle"]),z=getFixedItemStyle(y),j=getFixedItemStyle($),re=getFixedItemStyle(V),ae=getFixedItemStyle(L),oe=t.data;if(oe){var ie=oe.getItemVisual(r,"style"),le=oe.getItemVisual(r,"decal");t.isVisualEncodedByVisualMap&&ie.fill&&(z.fill=ie.fill),le&&(z.decal=createOrUpdatePatternFromDecal(le,t.api))}n.setStyle(z),n.style.strokeNoScale=!0,n.ensureState("emphasis").style=j,n.ensureState("select").style=re,n.ensureState("blur").style=ae,setDefaultStateProxy(n)}function resetLabelForRegion(t,n,r,g,y,$,L){var V=t.data,z=t.isGeo,j=V&&isNaN(V.get(V.mapDimension("value"),$)),re=V&&V.getItemLayout($);if(z||j||re&&re.showLabel){var ae=z?r:$,oe=void 0;(!V||$>=0)&&(oe=y);var ie=L?{normal:{align:"center",verticalAlign:"middle"}}:null;setLabelStyle(n,getLabelStatesModels(g),{labelFetcher:oe,labelDataIndex:ae,defaultText:r},ie);var le=n.getTextContent();if(le&&(mapLabelRaw(le).ignore=le.ignore,n.textConfig&&L)){var ue=n.getBoundingRect().clone();n.textConfig.layoutRect=ue,n.textConfig.position=[(L[0]-ue.x)/ue.width*100+"%",(L[1]-ue.y)/ue.height*100+"%"]}n.disableLabelAnimation=!0}else n.removeTextContent(),n.removeTextConfig(),n.disableLabelAnimation=null}function resetEventTriggerForRegion(t,n,r,g,y,$){t.data?t.data.setItemGraphicEl($,n):getECData(n).eventData={componentType:"geo",componentIndex:y.componentIndex,geoIndex:y.componentIndex,name:r,region:g&&g.option||{}}}function resetTooltipForRegion(t,n,r,g,y){t.data||setTooltipConfig({el:n,componentModel:y,itemName:r,itemTooltipOption:g.get("tooltip")})}function resetStateTriggerForRegion(t,n,r,g,y){n.highDownSilentOnTouch=!!y.get("selectedMode");var $=g.getModel("emphasis"),L=$.get("focus");return toggleHoverEmphasis(n,L,$.get("blurScope"),$.get("disabled")),t.isGeo&&enableComponentHighDownFeatures(n,y,r),L}function projectPolys(t,n,r){var g=[],y;function $(){y=[]}function L(){y.length&&(g.push(y),y=[])}var V=n({polygonStart:$,polygonEnd:L,lineStart:$,lineEnd:L,point:function(z,j){isFinite(z)&&isFinite(j)&&y.push([z,j])},sphere:function(){}});return!r&&V.polygonStart(),each$f(t,function(z){V.lineStart();for(var j=0;j<z.length;j++)V.point(z[j][0],z[j][1]);V.lineEnd()}),!r&&V.polygonEnd(),g}var MapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y,$){if(!($&&$.type==="mapToggleSelect"&&$.from===this.uid)){var L=this.group;if(L.removeAll(),!r.getHostGeoModel()){if(this._mapDraw&&$&&$.type==="geoRoam"&&this._mapDraw.resetForLabelLayout(),$&&$.type==="geoRoam"&&$.componentType==="series"&&$.seriesId===r.id){var V=this._mapDraw;V&&L.add(V.group)}else if(r.needsDrawMap){var V=this._mapDraw||new MapDraw(y);L.add(V.group),V.draw(r,g,y,this,$),this._mapDraw=V}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;r.get("showLegendSymbol")&&g.getComponent("legend")&&this._renderSymbols(r,g,y)}}},n.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},n.prototype._renderSymbols=function(r,g,y){var $=r.originalData,L=this.group;$.each($.mapDimension("value"),function(V,z){if(!isNaN(V)){var j=$.getItemLayout(z);if(!(!j||!j.point)){var re=j.point,ae=j.offset,oe=new Circle({style:{fill:r.getData().getVisual("style").fill},shape:{cx:re[0]+ae*9,cy:re[1],r:3},silent:!0,z2:8+(ae?0:Z2_EMPHASIS_LIFT+1)});if(!ae){var ie=r.mainSeries.getData(),le=$.getName(z),ue=ie.indexOfName(le),de=$.getItemModel(z),he=de.getModel("label"),pe=ie.getItemGraphicEl(ue);setLabelStyle(oe,getLabelStatesModels(de),{labelFetcher:{getFormattedLabel:function(_e,Ce){return r.getFormattedLabel(ue,Ce)}},defaultText:le}),oe.disableLabelAnimation=!0,he.get("position")||oe.setTextConfig({position:"bottom"}),pe.onHoverStateChange=function(_e){setStatesFlag(oe,_e)}}L.add(oe)}}})},n.type="map",n}(ChartView),MapSeries=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.needsDrawMap=!1,r.seriesGroup=[],r.getTooltipPosition=function(g){if(g!=null){var y=this.getData().getName(g),$=this.coordinateSystem,L=$.getRegion(y);return L&&$.dataToPoint(L.getCenter())}},r}return n.prototype.getInitialData=function(r){for(var g=createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)}),y=createHashMap(),$=[],L=0,V=g.count();L<V;L++){var z=g.getName(L);y.set(z,L)}var j=geoSourceManager.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return each$f(j.regions,function(re){var ae=re.name,oe=y.get(ae),ie=re.properties&&re.properties.echartsStyle,le;oe==null?(le={name:ae},$.push(le)):le=g.getRawDataItem(oe),ie&&merge(le,ie)}),g.appendData($),g},n.prototype.getHostGeoModel=function(){var r=this.option.geoIndex;return r!=null?this.ecModel.getComponent("geo",r):null},n.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},n.prototype.getRawValue=function(r){var g=this.getData();return g.get(g.mapDimension("value"),r)},n.prototype.getRegionModel=function(r){var g=this.getData();return g.getItemModel(g.indexOfName(r))},n.prototype.formatTooltip=function(r,g,y){for(var $=this.getData(),L=this.getRawValue(r),V=$.getName(r),z=this.seriesGroup,j=[],re=0;re<z.length;re++){var ae=z[re].originalData.indexOfName(V),oe=$.mapDimension("value");isNaN(z[re].originalData.get(oe,ae))||j.push(z[re].name)}return createTooltipMarkup("section",{header:j.join(", "),noHeader:!j.length,blocks:[createTooltipMarkup("nameValue",{name:V,value:L})]})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.getLegendIcon=function(r){var g=r.icon||"roundRect",y=createSymbol$1(g,0,0,r.itemWidth,r.itemHeight,r.itemStyle.fill);return y.setStyle(r.itemStyle),y.style.stroke="none",g.indexOf("empty")>-1&&(y.style.stroke=y.style.fill,y.style.fill="#fff",y.style.lineWidth=2),y},n.type="series.map",n.dependencies=["geo"],n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},n}(SeriesModel);function dataStatistics(t,n){var r={};return each$f(t,function(g){g.each(g.mapDimension("value"),function(y,$){var L="ec-"+g.getName($);r[L]=r[L]||[],isNaN(y)||r[L].push(y)})}),t[0].map(t[0].mapDimension("value"),function(g,y){for(var $="ec-"+t[0].getName(y),L=0,V=1/0,z=-1/0,j=r[$].length,re=0;re<j;re++)V=Math.min(V,r[$][re]),z=Math.max(z,r[$][re]),L+=r[$][re];var ae;return n==="min"?ae=V:n==="max"?ae=z:n==="average"?ae=L/j:ae=L,j===0?NaN:ae})}function mapDataStatistic(t){var n={};t.eachSeriesByType("map",function(r){var g=r.getHostGeoModel(),y=g?"o"+g.id:"i"+r.getMapType();(n[y]=n[y]||[]).push(r)}),each$f(n,function(r,g){for(var y=dataStatistics(map$1(r,function(L){return L.getData()}),r[0].get("mapValueCalculation")),$=0;$<r.length;$++)r[$].originalData=r[$].getData();for(var $=0;$<r.length;$++)r[$].seriesGroup=r,r[$].needsDrawMap=$===0&&!r[$].getHostGeoModel(),r[$].setData(y.cloneShallow()),r[$].mainSeries=r[0]})}function mapSymbolLayout(t){var n={};t.eachSeriesByType("map",function(r){var g=r.getMapType();if(!(r.getHostGeoModel()||n[g])){var y={};each$f(r.seriesGroup,function(L){var V=L.coordinateSystem,z=L.originalData;L.get("showLegendSymbol")&&t.getComponent("legend")&&z.each(z.mapDimension("value"),function(j,re){var ae=z.getName(re),oe=V.getRegion(ae);if(!(!oe||isNaN(j))){var ie=y[ae]||0,le=V.dataToPoint(oe.getCenter());y[ae]=ie+1,z.setItemLayout(re,{point:le,offset:ie})}})});var $=r.getData();$.each(function(L){var V=$.getName(L),z=$.getItemLayout(L)||{};z.showLabel=!y[V],$.setItemLayout(L,z)}),n[g]=!0}})}var v2ApplyTransform=applyTransform$1,View=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;return g.type="view",g.dimensions=["x","y"],g._roamTransformable=new Transformable,g._rawTransformable=new Transformable,g.name=r,g}return n.prototype.setBoundingRect=function(r,g,y,$){return this._rect=new BoundingRect(r,g,y,$),this._rect},n.prototype.getBoundingRect=function(){return this._rect},n.prototype.setViewRect=function(r,g,y,$){this._transformTo(r,g,y,$),this._viewRect=new BoundingRect(r,g,y,$)},n.prototype._transformTo=function(r,g,y,$){var L=this.getBoundingRect(),V=this._rawTransformable;V.transform=L.calculateTransform(new BoundingRect(r,g,y,$));var z=V.parent;V.parent=null,V.decomposeTransform(),V.parent=z,this._updateTransform()},n.prototype.setCenter=function(r,g){r&&(this._center=[parsePercent(r[0],g.getWidth()),parsePercent(r[1],g.getHeight())],this._updateCenterAndZoom())},n.prototype.setZoom=function(r){r=r||1;var g=this.zoomLimit;g&&(g.max!=null&&(r=Math.min(g.max,r)),g.min!=null&&(r=Math.max(g.min,r))),this._zoom=r,this._updateCenterAndZoom()},n.prototype.getDefaultCenter=function(){var r=this.getBoundingRect(),g=r.x+r.width/2,y=r.y+r.height/2;return[g,y]},n.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},n.prototype.getZoom=function(){return this._zoom||1},n.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},n.prototype._updateCenterAndZoom=function(){var r=this._rawTransformable.getLocalTransform(),g=this._roamTransformable,y=this.getDefaultCenter(),$=this.getCenter(),L=this.getZoom();$=applyTransform$1([],$,r),y=applyTransform$1([],y,r),g.originX=$[0],g.originY=$[1],g.x=y[0]-$[0],g.y=y[1]-$[1],g.scaleX=g.scaleY=L,this._updateTransform()},n.prototype._updateTransform=function(){var r=this._roamTransformable,g=this._rawTransformable;g.parent=r,r.updateTransform(),g.updateTransform(),copy(this.transform||(this.transform=[]),g.transform||create$1()),this._rawTransform=g.getLocalTransform(),this.invTransform=this.invTransform||[],invert(this.invTransform,this.transform),this.decomposeTransform()},n.prototype.getTransformInfo=function(){var r=this._rawTransformable,g=this._roamTransformable,y=new Transformable;return y.transform=g.transform,y.decomposeTransform(),{roam:{x:y.x,y:y.y,scaleX:y.scaleX,scaleY:y.scaleY},raw:{x:r.x,y:r.y,scaleX:r.scaleX,scaleY:r.scaleY}}},n.prototype.getViewRect=function(){return this._viewRect},n.prototype.getViewRectAfterRoam=function(){var r=this.getBoundingRect().clone();return r.applyTransform(this.transform),r},n.prototype.dataToPoint=function(r,g,y){var $=g?this._rawTransform:this.transform;return y=y||[],$?v2ApplyTransform(y,r,$):copy$1(y,r)},n.prototype.pointToData=function(r){var g=this.invTransform;return g?v2ApplyTransform([],r,g):[r[0],r[1]]},n.prototype.convertToPixel=function(r,g,y){var $=getCoordSys$4(g);return $===this?$.dataToPoint(y):null},n.prototype.convertFromPixel=function(r,g,y){var $=getCoordSys$4(g);return $===this?$.pointToData(y):null},n.prototype.containPoint=function(r){return this.getViewRectAfterRoam().contain(r[0],r[1])},n.dimensions=["x","y"],n}(Transformable);function getCoordSys$4(t){var n=t.seriesModel;return n?n.coordinateSystem:null}var GEO_DEFAULT_PARAMS={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},geo2DDimensions=["lng","lat"],Geo=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this,r)||this;$.dimensions=geo2DDimensions,$.type="geo",$._nameCoordMap=createHashMap(),$.map=g;var L=y.projection,V=geoSourceManager.load(g,y.nameMap,y.nameProperty),z=geoSourceManager.getGeoResource(g);$.resourceType=z?z.type:null;var j=$.regions=V.regions,re=GEO_DEFAULT_PARAMS[z.type];$._regionsMap=V.regionsMap,$.regions=V.regions,$.projection=L;var ae;if(L)for(var oe=0;oe<j.length;oe++){var ie=j[oe].getBoundingRect(L);ae=ae||ie.clone(),ae.union(ie)}else ae=V.boundingRect;return $.setBoundingRect(ae.x,ae.y,ae.width,ae.height),$.aspectScale=L?1:retrieve2(y.aspectScale,re.aspectScale),$._invertLongitute=L?!1:re.invertLongitute,$}return n.prototype._transformTo=function(r,g,y,$){var L=this.getBoundingRect(),V=this._invertLongitute;L=L.clone(),V&&(L.y=-L.y-L.height);var z=this._rawTransformable;z.transform=L.calculateTransform(new BoundingRect(r,g,y,$));var j=z.parent;z.parent=null,z.decomposeTransform(),z.parent=j,V&&(z.scaleY=-z.scaleY),this._updateTransform()},n.prototype.getRegion=function(r){return this._regionsMap.get(r)},n.prototype.getRegionByCoord=function(r){for(var g=this.regions,y=0;y<g.length;y++){var $=g[y];if($.type==="geoJSON"&&$.contain(r))return g[y]}},n.prototype.addGeoCoord=function(r,g){this._nameCoordMap.set(r,g)},n.prototype.getGeoCoord=function(r){var g=this._regionsMap.get(r);return this._nameCoordMap.get(r)||g&&g.getCenter()},n.prototype.dataToPoint=function(r,g,y){if(isString(r)&&(r=this.getGeoCoord(r)),r){var $=this.projection;return $&&(r=$.project(r)),r&&this.projectedToPoint(r,g,y)}},n.prototype.pointToData=function(r){var g=this.projection;return g&&(r=g.unproject(r)),r&&this.pointToProjected(r)},n.prototype.pointToProjected=function(r){return t.prototype.pointToData.call(this,r)},n.prototype.projectedToPoint=function(r,g,y){return t.prototype.dataToPoint.call(this,r,g,y)},n.prototype.convertToPixel=function(r,g,y){var $=getCoordSys$3(g);return $===this?$.dataToPoint(y):null},n.prototype.convertFromPixel=function(r,g,y){var $=getCoordSys$3(g);return $===this?$.pointToData(y):null},n}(View);mixin(Geo,View);function getCoordSys$3(t){var n=t.geoModel,r=t.seriesModel;return n?n.coordinateSystem:r?r.coordinateSystem||(r.getReferringComponents("geo",SINGLE_REFERRING).models[0]||{}).coordinateSystem:null}function resizeGeo(t,n){var r=t.get("boundingCoords");if(r!=null){var g=r[0],y=r[1];if(isFinite(g[0])&&isFinite(g[1])&&isFinite(y[0])&&isFinite(y[1])){var $=this.projection;if($){var L=g[0],V=g[1],z=y[0],j=y[1];g=[1/0,1/0],y=[-1/0,-1/0];var re=function(Ie,$e,Oe,Ne){for(var Fe=Oe-Ie,Ve=Ne-$e,ze=0;ze<=100;ze++){var Et=ze/100,Dt=$.project([Ie+Fe*Et,$e+Ve*Et]);min$1(g,g,Dt),max$1(y,y,Dt)}};re(L,V,z,V),re(z,V,z,j),re(z,j,L,j),re(L,j,z,V)}this.setBoundingRect(g[0],g[1],y[0]-g[0],y[1]-g[1])}}var ae=this.getBoundingRect(),oe=t.get("layoutCenter"),ie=t.get("layoutSize"),le=n.getWidth(),ue=n.getHeight(),de=ae.width/ae.height*this.aspectScale,he=!1,pe,_e;oe&&ie&&(pe=[parsePercent(oe[0],le),parsePercent(oe[1],ue)],_e=parsePercent(ie,Math.min(le,ue)),!isNaN(pe[0])&&!isNaN(pe[1])&&!isNaN(_e)&&(he=!0));var Ce;if(he)Ce={},de>1?(Ce.width=_e,Ce.height=_e/de):(Ce.height=_e,Ce.width=_e*de),Ce.y=pe[1]-Ce.height/2,Ce.x=pe[0]-Ce.width/2;else{var xe=t.getBoxLayoutParams();xe.aspect=de,Ce=getLayoutRect(xe,{width:le,height:ue})}this.setViewRect(Ce.x,Ce.y,Ce.width,Ce.height),this.setCenter(t.get("center"),n),this.setZoom(t.get("zoom"))}function setGeoCoords(t,n){each$f(n.get("geoCoord"),function(r,g){t.addGeoCoord(g,r)})}var GeoCreator=function(){function t(){this.dimensions=geo2DDimensions}return t.prototype.create=function(n,r){var g=[];function y(L){return{nameProperty:L.get("nameProperty"),aspectScale:L.get("aspectScale"),projection:L.get("projection")}}n.eachComponent("geo",function(L,V){var z=L.get("map"),j=new Geo(z+V,z,extend({nameMap:L.get("nameMap")},y(L)));j.zoomLimit=L.get("scaleLimit"),g.push(j),L.coordinateSystem=j,j.model=L,j.resize=resizeGeo,j.resize(L,r)}),n.eachSeries(function(L){var V=L.get("coordinateSystem");if(V==="geo"){var z=L.get("geoIndex")||0;L.coordinateSystem=g[z]}});var $={};return n.eachSeriesByType("map",function(L){if(!L.getHostGeoModel()){var V=L.getMapType();$[V]=$[V]||[],$[V].push(L)}}),each$f($,function(L,V){var z=map$1(L,function(re){return re.get("nameMap")}),j=new Geo(V,V,extend({nameMap:mergeAll(z)},y(L[0])));j.zoomLimit=retrieve.apply(null,map$1(L,function(re){return re.get("scaleLimit")})),g.push(j),j.resize=resizeGeo,j.resize(L[0],r),each$f(L,function(re){re.coordinateSystem=j,setGeoCoords(j,re)})}),g},t.prototype.getFilledRegions=function(n,r,g,y){for(var $=(n||[]).slice(),L=createHashMap(),V=0;V<$.length;V++)L.set($[V].name,$[V]);var z=geoSourceManager.load(r,g,y);return each$f(z.regions,function(j){var re=j.name,ae=L.get(re),oe=j.properties&&j.properties.echartsStyle;ae||(ae={name:re},$.push(ae)),oe&&merge(ae,oe)}),$},t}(),geoCreator=new GeoCreator,GeoModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g,y){var $=geoSourceManager.getGeoResource(r.map);if($&&$.type==="geoJSON"){var L=r.itemStyle=r.itemStyle||{};"color"in L||(L.color="#eee")}this.mergeDefaultAndTheme(r,y),defaultEmphasis(r,"label",["show"])},n.prototype.optionUpdated=function(){var r=this,g=this.option;g.regions=geoCreator.getFilledRegions(g.regions,g.map,g.nameMap,g.nameProperty);var y={};this._optionModelMap=reduce(g.regions||[],function($,L){var V=L.name;return V&&($.set(V,new Model(L,r,r.ecModel)),L.selected&&(y[V]=!0)),$},createHashMap()),g.selectedMap||(g.selectedMap=y)},n.prototype.getRegionModel=function(r){return this._optionModelMap.get(r)||new Model(null,this,this.ecModel)},n.prototype.getFormattedLabel=function(r,g){var y=this.getRegionModel(r),$=g==="normal"?y.get(["label","formatter"]):y.get(["emphasis","label","formatter"]),L={name:r};if(isFunction($))return L.status=g,$(L);if(isString($))return $.replace("{a}",r??"")},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.select=function(r){var g=this.option,y=g.selectedMode;if(y){y!=="multiple"&&(g.selectedMap=null);var $=g.selectedMap||(g.selectedMap={});$[r]=!0}},n.prototype.unSelect=function(r){var g=this.option.selectedMap;g&&(g[r]=!1)},n.prototype.toggleSelected=function(r){this[this.isSelected(r)?"unSelect":"select"](r)},n.prototype.isSelected=function(r){var g=this.option.selectedMap;return!!(g&&g[r])},n.type="geo",n.layoutMode="box",n.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},n}(ComponentModel);function getCenterCoord(t,n){return t.pointToProjected?t.pointToProjected(n):t.pointToData(n)}function updateCenterAndZoom(t,n,r,g){var y=t.getZoom(),$=t.getCenter(),L=n.zoom,V=t.projectedToPoint?t.projectedToPoint($):t.dataToPoint($);if(n.dx!=null&&n.dy!=null&&(V[0]-=n.dx,V[1]-=n.dy,t.setCenter(getCenterCoord(t,V),g)),L!=null){if(r){var z=r.min||0,j=r.max||1/0;L=Math.max(Math.min(y*L,j),z)/y}t.scaleX*=L,t.scaleY*=L;var re=(n.originX-t.x)*(L-1),ae=(n.originY-t.y)*(L-1);t.x-=re,t.y-=ae,t.updateTransform(),t.setCenter(getCenterCoord(t,V),g),t.setZoom(L*y)}return{center:t.getCenter(),zoom:t.getZoom()}}var GeoView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.focusBlurEnabled=!0,r}return n.prototype.init=function(r,g){this._api=g},n.prototype.render=function(r,g,y,$){if(this._model=r,!r.get("show")){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;return}this._mapDraw||(this._mapDraw=new MapDraw(y));var L=this._mapDraw;L.draw(r,g,y,this,$),L.group.on("click",this._handleRegionClick,this),L.group.silent=r.get("silent"),this.group.add(L.group),this.updateSelectStatus(r,g,y)},n.prototype._handleRegionClick=function(r){var g;findEventDispatcher(r.target,function(y){return(g=getECData(y).eventData)!=null},!0),g&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:g.name})},n.prototype.updateSelectStatus=function(r,g,y){var $=this;this._mapDraw.group.traverse(function(L){var V=getECData(L).eventData;if(V)return $._model.isSelected(V.name)?y.enterSelect(L):y.leaveSelect(L),!0})},n.prototype.findHighDownDispatchers=function(r){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(r,this._model)},n.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},n.type="geo",n}(ComponentView);function registerMap(t,n,r){geoSourceManager.registerMap(t,n,r)}function install$J(t){t.registerCoordinateSystem("geo",geoCreator),t.registerComponentModel(GeoModel),t.registerComponentView(GeoView),t.registerImpl("registerMap",registerMap),t.registerImpl("getMap",function(r){return geoSourceManager.getMapForUser(r)});function n(r,g){g.update="geo:updateSelectStatus",t.registerAction(g,function(y,$){var L={},V=[];return $.eachComponent({mainType:"geo",query:y},function(z){z[r](y.name);var j=z.coordinateSystem;each$f(j.regions,function(ae){L[ae.name]=z.isSelected(ae.name)||!1});var re=[];each$f(L,function(ae,oe){L[oe]&&re.push(oe)}),V.push({geoIndex:z.componentIndex,name:re})}),{selected:L,allSelected:V,name:y.name}})}n("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),n("select",{type:"geoSelect",event:"geoselected"}),n("unSelect",{type:"geoUnSelect",event:"geounselected"}),t.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(r,g,y){var $=r.componentType||"series";g.eachComponent({mainType:$,query:r},function(L){var V=L.coordinateSystem;if(V.type==="geo"){var z=updateCenterAndZoom(V,r,L.get("scaleLimit"),y);L.setCenter&&L.setCenter(z.center),L.setZoom&&L.setZoom(z.zoom),$==="series"&&each$f(L.seriesGroup,function(j){j.setCenter(z.center),j.setZoom(z.zoom)})}})})}function install$I(t){use(install$J),t.registerChartView(MapView),t.registerSeriesModel(MapSeries),t.registerLayout(mapSymbolLayout),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,mapDataStatistic),createLegacyDataSelectAction("map",t.registerAction)}function init(t){var n=t;n.hierNode={defaultAncestor:null,ancestor:n,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r=[n],g,y;g=r.pop();)if(y=g.children,g.isExpand&&y.length)for(var $=y.length,L=$-1;L>=0;L--){var V=y[L];V.hierNode={defaultAncestor:null,ancestor:V,prelim:0,modifier:0,change:0,shift:0,i:L,thread:null},r.push(V)}}function firstWalk(t,n){var r=t.isExpand?t.children:[],g=t.parentNode.children,y=t.hierNode.i?g[t.hierNode.i-1]:null;if(r.length){executeShifts(t);var $=(r[0].hierNode.prelim+r[r.length-1].hierNode.prelim)/2;y?(t.hierNode.prelim=y.hierNode.prelim+n(t,y),t.hierNode.modifier=t.hierNode.prelim-$):t.hierNode.prelim=$}else y&&(t.hierNode.prelim=y.hierNode.prelim+n(t,y));t.parentNode.hierNode.defaultAncestor=apportion(t,y,t.parentNode.hierNode.defaultAncestor||g[0],n)}function secondWalk(t){var n=t.hierNode.prelim+t.parentNode.hierNode.modifier;t.setLayout({x:n},!0),t.hierNode.modifier+=t.parentNode.hierNode.modifier}function separation(t){return arguments.length?t:defaultSeparation}function radialCoordinate(t,n){return t-=Math.PI/2,{x:n*Math.cos(t),y:n*Math.sin(t)}}function getViewRect$4(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function executeShifts(t){for(var n=t.children,r=n.length,g=0,y=0;--r>=0;){var $=n[r];$.hierNode.prelim+=g,$.hierNode.modifier+=g,y+=$.hierNode.change,g+=$.hierNode.shift+y}}function apportion(t,n,r,g){if(n){for(var y=t,$=t,L=$.parentNode.children[0],V=n,z=y.hierNode.modifier,j=$.hierNode.modifier,re=L.hierNode.modifier,ae=V.hierNode.modifier;V=nextRight(V),$=nextLeft($),V&&$;){y=nextRight(y),L=nextLeft(L),y.hierNode.ancestor=t;var oe=V.hierNode.prelim+ae-$.hierNode.prelim-j+g(V,$);oe>0&&(moveSubtree(nextAncestor(V,t,r),t,oe),j+=oe,z+=oe),ae+=V.hierNode.modifier,j+=$.hierNode.modifier,z+=y.hierNode.modifier,re+=L.hierNode.modifier}V&&!nextRight(y)&&(y.hierNode.thread=V,y.hierNode.modifier+=ae-z),$&&!nextLeft(L)&&(L.hierNode.thread=$,L.hierNode.modifier+=j-re,r=t)}return r}function nextRight(t){var n=t.children;return n.length&&t.isExpand?n[n.length-1]:t.hierNode.thread}function nextLeft(t){var n=t.children;return n.length&&t.isExpand?n[0]:t.hierNode.thread}function nextAncestor(t,n,r){return t.hierNode.ancestor.parentNode===n.parentNode?t.hierNode.ancestor:r}function moveSubtree(t,n,r){var g=r/(n.hierNode.i-t.hierNode.i);n.hierNode.change-=g,n.hierNode.shift+=r,n.hierNode.modifier+=r,n.hierNode.prelim+=r,t.hierNode.change+=g}function defaultSeparation(t,n){return t.parentNode===n.parentNode?1:2}var TreeEdgeShape=function(){function t(){this.parentPoint=[],this.childPoints=[]}return t}(),TreePath=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new TreeEdgeShape},n.prototype.buildPath=function(r,g){var y=g.childPoints,$=y.length,L=g.parentPoint,V=y[0],z=y[$-1];if($===1){r.moveTo(L[0],L[1]),r.lineTo(V[0],V[1]);return}var j=g.orient,re=j==="TB"||j==="BT"?0:1,ae=1-re,oe=parsePercent(g.forkPosition,1),ie=[];ie[re]=L[re],ie[ae]=L[ae]+(z[ae]-L[ae])*oe,r.moveTo(L[0],L[1]),r.lineTo(ie[0],ie[1]),r.moveTo(V[0],V[1]),ie[re]=V[re],r.lineTo(ie[0],ie[1]),ie[re]=z[re],r.lineTo(ie[0],ie[1]),r.lineTo(z[0],z[1]);for(var le=1;le<$-1;le++){var ue=y[le];r.moveTo(ue[0],ue[1]),ie[re]=ue[re],r.lineTo(ie[0],ie[1])}},n}(Path),TreeView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._mainGroup=new Group$3,r}return n.prototype.init=function(r,g){this._controller=new RoamController(g.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},n.prototype.render=function(r,g,y){var $=r.getData(),L=r.layoutInfo,V=this._mainGroup,z=r.get("layout");z==="radial"?(V.x=L.x+L.width/2,V.y=L.y+L.height/2):(V.x=L.x,V.y=L.y),this._updateViewCoordSys(r,y),this._updateController(r,g,y);var j=this._data;$.diff(j).add(function(re){symbolNeedsDraw($,re)&&updateNode($,re,null,V,r)}).update(function(re,ae){var oe=j.getItemGraphicEl(ae);if(!symbolNeedsDraw($,re)){oe&&removeNode(j,ae,oe,V,r);return}updateNode($,re,oe,V,r)}).remove(function(re){var ae=j.getItemGraphicEl(re);ae&&removeNode(j,re,ae,V,r)}).execute(),this._nodeScaleRatio=r.get("nodeScaleRatio"),this._updateNodeAndLinkScale(r),r.get("expandAndCollapse")===!0&&$.eachItemGraphicEl(function(re,ae){re.off("click").on("click",function(){y.dispatchAction({type:"treeExpandAndCollapse",seriesId:r.id,dataIndex:ae})})}),this._data=$},n.prototype._updateViewCoordSys=function(r,g){var y=r.getData(),$=[];y.each(function(ae){var oe=y.getItemLayout(ae);oe&&!isNaN(oe.x)&&!isNaN(oe.y)&&$.push([+oe.x,+oe.y])});var L=[],V=[];fromPoints($,L,V);var z=this._min,j=this._max;V[0]-L[0]===0&&(L[0]=z?z[0]:L[0]-1,V[0]=j?j[0]:V[0]+1),V[1]-L[1]===0&&(L[1]=z?z[1]:L[1]-1,V[1]=j?j[1]:V[1]+1);var re=r.coordinateSystem=new View;re.zoomLimit=r.get("scaleLimit"),re.setBoundingRect(L[0],L[1],V[0]-L[0],V[1]-L[1]),re.setCenter(r.get("center"),g),re.setZoom(r.get("zoom")),this.group.attr({x:re.x,y:re.y,scaleX:re.scaleX,scaleY:re.scaleY}),this._min=L,this._max=V},n.prototype._updateController=function(r,g,y){var $=this,L=this._controller,V=this._controllerHost,z=this.group;L.setPointerChecker(function(j,re,ae){var oe=z.getBoundingRect();return oe.applyTransform(z.transform),oe.contain(re,ae)&&!onIrrelevantElement(j,y,r)}),L.enable(r.get("roam")),V.zoomLimit=r.get("scaleLimit"),V.zoom=r.coordinateSystem.getZoom(),L.off("pan").off("zoom").on("pan",function(j){updateViewOnPan(V,j.dx,j.dy),y.dispatchAction({seriesId:r.id,type:"treeRoam",dx:j.dx,dy:j.dy})}).on("zoom",function(j){updateViewOnZoom(V,j.scale,j.originX,j.originY),y.dispatchAction({seriesId:r.id,type:"treeRoam",zoom:j.scale,originX:j.originX,originY:j.originY}),$._updateNodeAndLinkScale(r),y.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(r){var g=r.getData(),y=this._getNodeGlobalScale(r);g.eachItemGraphicEl(function($,L){$.setSymbolScale(y)})},n.prototype._getNodeGlobalScale=function(r){var g=r.coordinateSystem;if(g.type!=="view")return 1;var y=this._nodeScaleRatio,$=g.scaleX||1,L=g.getZoom(),V=(L-1)*y+1;return V/$},n.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},n.type="tree",n}(ChartView);function symbolNeedsDraw(t,n){var r=t.getItemLayout(n);return r&&!isNaN(r.x)&&!isNaN(r.y)}function updateNode(t,n,r,g,y){var $=!r,L=t.tree.getNodeByDataIndex(n),V=L.getModel(),z=L.getVisual("style").fill,j=L.isExpand===!1&&L.children.length!==0?z:"#fff",re=t.tree.root,ae=L.parentNode===re?L:L.parentNode||L,oe=t.getItemGraphicEl(ae.dataIndex),ie=ae.getLayout(),le=oe?{x:oe.__oldX,y:oe.__oldY,rawX:oe.__radialOldRawX,rawY:oe.__radialOldRawY}:ie,ue=L.getLayout();$?(r=new Symbol$1(t,n,null,{symbolInnerColor:j,useNameLabel:!0}),r.x=le.x,r.y=le.y):r.updateData(t,n,null,{symbolInnerColor:j,useNameLabel:!0}),r.__radialOldRawX=r.__radialRawX,r.__radialOldRawY=r.__radialRawY,r.__radialRawX=ue.rawX,r.__radialRawY=ue.rawY,g.add(r),t.setItemGraphicEl(n,r),r.__oldX=r.x,r.__oldY=r.y,updateProps$1(r,{x:ue.x,y:ue.y},y);var de=r.getSymbolPath();if(y.get("layout")==="radial"){var he=re.children[0],pe=he.getLayout(),_e=he.children.length,Ce=void 0,xe=void 0;if(ue.x===pe.x&&L.isExpand===!0&&he.children.length){var Ie={x:(he.children[0].getLayout().x+he.children[_e-1].getLayout().x)/2,y:(he.children[0].getLayout().y+he.children[_e-1].getLayout().y)/2};Ce=Math.atan2(Ie.y-pe.y,Ie.x-pe.x),Ce<0&&(Ce=Math.PI*2+Ce),xe=Ie.x<pe.x,xe&&(Ce=Ce-Math.PI)}else Ce=Math.atan2(ue.y-pe.y,ue.x-pe.x),Ce<0&&(Ce=Math.PI*2+Ce),L.children.length===0||L.children.length!==0&&L.isExpand===!1?(xe=ue.x<pe.x,xe&&(Ce=Ce-Math.PI)):(xe=ue.x>pe.x,xe||(Ce=Ce-Math.PI));var $e=xe?"left":"right",Oe=V.getModel("label"),Ne=Oe.get("rotate"),Fe=Ne*(Math.PI/180),Ve=de.getTextContent();Ve&&(de.setTextConfig({position:Oe.get("position")||$e,rotation:Ne==null?-Ce:Fe,origin:"center"}),Ve.setStyle("verticalAlign","middle"))}var ze=V.get(["emphasis","focus"]),Et=ze==="relative"?concatArray(L.getAncestorsIndices(),L.getDescendantIndices()):ze==="ancestor"?L.getAncestorsIndices():ze==="descendant"?L.getDescendantIndices():null;Et&&(getECData(r).focus=Et),drawEdge(y,L,re,r,le,ie,ue,g),r.__edge&&(r.onHoverStateChange=function(Dt){if(Dt!=="blur"){var Ue=L.parentNode&&t.getItemGraphicEl(L.parentNode.dataIndex);Ue&&Ue.hoverState===HOVER_STATE_BLUR||setStatesFlag(r.__edge,Dt)}})}function drawEdge(t,n,r,g,y,$,L,V){var z=n.getModel(),j=t.get("edgeShape"),re=t.get("layout"),ae=t.getOrient(),oe=t.get(["lineStyle","curveness"]),ie=t.get("edgeForkPosition"),le=z.getModel("lineStyle").getLineStyle(),ue=g.__edge;if(j==="curve")n.parentNode&&n.parentNode!==r&&(ue||(ue=g.__edge=new BezierCurve({shape:getEdgeShape(re,ae,oe,y,y)})),updateProps$1(ue,{shape:getEdgeShape(re,ae,oe,$,L)},t));else if(j==="polyline"&&re==="orthogonal"&&n!==r&&n.children&&n.children.length!==0&&n.isExpand===!0){for(var de=n.children,he=[],pe=0;pe<de.length;pe++){var _e=de[pe].getLayout();he.push([_e.x,_e.y])}ue||(ue=g.__edge=new TreePath({shape:{parentPoint:[L.x,L.y],childPoints:[[L.x,L.y]],orient:ae,forkPosition:ie}})),updateProps$1(ue,{shape:{parentPoint:[L.x,L.y],childPoints:he}},t)}ue&&!(j==="polyline"&&!n.isExpand)&&(ue.useStyle(defaults({strokeNoScale:!0,fill:null},le)),setStatesStylesFromModel(ue,z,"lineStyle"),setDefaultStateProxy(ue),V.add(ue))}function removeNodeEdge(t,n,r,g,y){var $=n.tree.root,L=getSourceNode($,t),V=L.source,z=L.sourceLayout,j=n.getItemGraphicEl(t.dataIndex);if(j){var re=n.getItemGraphicEl(V.dataIndex),ae=re.__edge,oe=j.__edge||(V.isExpand===!1||V.children.length===1?ae:void 0),ie=g.get("edgeShape"),le=g.get("layout"),ue=g.get("orient"),de=g.get(["lineStyle","curveness"]);oe&&(ie==="curve"?removeElement(oe,{shape:getEdgeShape(le,ue,de,z,z),style:{opacity:0}},g,{cb:function(){r.remove(oe)},removeOpt:y}):ie==="polyline"&&g.get("layout")==="orthogonal"&&removeElement(oe,{shape:{parentPoint:[z.x,z.y],childPoints:[[z.x,z.y]]},style:{opacity:0}},g,{cb:function(){r.remove(oe)},removeOpt:y}))}}function getSourceNode(t,n){for(var r=n.parentNode===t?n:n.parentNode||n,g;g=r.getLayout(),g==null;)r=r.parentNode===t?r:r.parentNode||r;return{source:r,sourceLayout:g}}function removeNode(t,n,r,g,y){var $=t.tree.getNodeByDataIndex(n),L=t.tree.root,V=getSourceNode(L,$).sourceLayout,z={duration:y.get("animationDurationUpdate"),easing:y.get("animationEasingUpdate")};removeElement(r,{x:V.x+1,y:V.y+1},y,{cb:function(){g.remove(r),t.setItemGraphicEl(n,null)},removeOpt:z}),r.fadeOut(null,t.hostModel,{fadeLabel:!0,animation:z}),$.children.forEach(function(j){removeNodeEdge(j,t,g,y,z)}),removeNodeEdge($,t,g,y,z)}function getEdgeShape(t,n,r,g,y){var $,L,V,z,j,re,ae,oe;if(t==="radial"){j=g.rawX,ae=g.rawY,re=y.rawX,oe=y.rawY;var ie=radialCoordinate(j,ae),le=radialCoordinate(j,ae+(oe-ae)*r),ue=radialCoordinate(re,oe+(ae-oe)*r),de=radialCoordinate(re,oe);return{x1:ie.x||0,y1:ie.y||0,x2:de.x||0,y2:de.y||0,cpx1:le.x||0,cpy1:le.y||0,cpx2:ue.x||0,cpy2:ue.y||0}}else j=g.x,ae=g.y,re=y.x,oe=y.y,(n==="LR"||n==="RL")&&($=j+(re-j)*r,L=ae,V=re+(j-re)*r,z=oe),(n==="TB"||n==="BT")&&($=j,L=ae+(oe-ae)*r,V=re,z=oe+(ae-oe)*r);return{x1:j,y1:ae,x2:re,y2:oe,cpx1:$,cpy1:L,cpx2:V,cpy2:z}}var inner$e=makeInner();function linkSeriesData(t){var n=t.mainData,r=t.datas;r||(r={main:n},t.datasAttr={main:"data"}),t.datas=t.mainData=null,linkAll(n,r,t),each$f(r,function(g){each$f(n.TRANSFERABLE_METHODS,function(y){g.wrapMethod(y,curry$1(transferInjection,t))})}),n.wrapMethod("cloneShallow",curry$1(cloneShallowInjection,t)),each$f(n.CHANGABLE_METHODS,function(g){n.wrapMethod(g,curry$1(changeInjection,t))}),assert(r[n.dataType]===n)}function transferInjection(t,n){if(isMainData(this)){var r=extend({},inner$e(this).datas);r[this.dataType]=n,linkAll(n,r,t)}else linkSingle(n,this.dataType,inner$e(this).mainData,t);return n}function changeInjection(t,n){return t.struct&&t.struct.update(),n}function cloneShallowInjection(t,n){return each$f(inner$e(n).datas,function(r,g){r!==n&&linkSingle(r.cloneShallow(),g,n,t)}),n}function getLinkedData(t){var n=inner$e(this).mainData;return t==null||n==null?n:inner$e(n).datas[t]}function getLinkedDataAll(){var t=inner$e(this).mainData;return t==null?[{data:t}]:map$1(keys(inner$e(t).datas),function(n){return{type:n,data:inner$e(t).datas[n]}})}function isMainData(t){return inner$e(t).mainData===t}function linkAll(t,n,r){inner$e(t).datas={},each$f(n,function(g,y){linkSingle(g,y,t,r)})}function linkSingle(t,n,r,g){inner$e(r).datas[n]=t,inner$e(t).mainData=r,t.dataType=n,g.struct&&(t[g.structAttr]=g.struct,g.struct[g.datasAttr[n]]=t),t.getLinkedData=getLinkedData,t.getLinkedDataAll=getLinkedDataAll}var TreeNode=function(){function t(n,r){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=n||"",this.hostTree=r}return t.prototype.isRemoved=function(){return this.dataIndex<0},t.prototype.eachNode=function(n,r,g){isFunction(n)&&(g=r,r=n,n=null),n=n||{},isString(n)&&(n={order:n});var y=n.order||"preorder",$=this[n.attr||"children"],L;y==="preorder"&&(L=r.call(g,this));for(var V=0;!L&&V<$.length;V++)$[V].eachNode(n,r,g);y==="postorder"&&r.call(g,this)},t.prototype.updateDepthAndHeight=function(n){var r=0;this.depth=n;for(var g=0;g<this.children.length;g++){var y=this.children[g];y.updateDepthAndHeight(n+1),y.height>r&&(r=y.height)}this.height=r+1},t.prototype.getNodeById=function(n){if(this.getId()===n)return this;for(var r=0,g=this.children,y=g.length;r<y;r++){var $=g[r].getNodeById(n);if($)return $}},t.prototype.contains=function(n){if(n===this)return!0;for(var r=0,g=this.children,y=g.length;r<y;r++){var $=g[r].contains(n);if($)return $}},t.prototype.getAncestors=function(n){for(var r=[],g=n?this:this.parentNode;g;)r.push(g),g=g.parentNode;return r.reverse(),r},t.prototype.getAncestorsIndices=function(){for(var n=[],r=this;r;)n.push(r.dataIndex),r=r.parentNode;return n.reverse(),n},t.prototype.getDescendantIndices=function(){var n=[];return this.eachNode(function(r){n.push(r.dataIndex)}),n},t.prototype.getValue=function(n){var r=this.hostTree.data;return r.getStore().get(r.getDimensionIndex(n||"value"),this.dataIndex)},t.prototype.setLayout=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,r)},t.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},t.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostTree,g=r.data.getItemModel(this.dataIndex);return g.getModel(n)}},t.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},t.prototype.setVisual=function(n,r){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,r)},t.prototype.getVisual=function(n){return this.hostTree.data.getItemVisual(this.dataIndex,n)},t.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},t.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},t.prototype.getChildIndex=function(){if(this.parentNode){for(var n=this.parentNode.children,r=0;r<n.length;++r)if(n[r]===this)return r;return-1}return-1},t.prototype.isAncestorOf=function(n){for(var r=n.parentNode;r;){if(r===this)return!0;r=r.parentNode}return!1},t.prototype.isDescendantOf=function(n){return n!==this&&n.isAncestorOf(this)},t}(),Tree=function(){function t(n){this.type="tree",this._nodes=[],this.hostModel=n}return t.prototype.eachNode=function(n,r,g){this.root.eachNode(n,r,g)},t.prototype.getNodeByDataIndex=function(n){var r=this.data.getRawIndex(n);return this._nodes[r]},t.prototype.getNodeById=function(n){return this.root.getNodeById(n)},t.prototype.update=function(){for(var n=this.data,r=this._nodes,g=0,y=r.length;g<y;g++)r[g].dataIndex=-1;for(var g=0,y=n.count();g<y;g++)r[n.getRawIndex(g)].dataIndex=g},t.prototype.clearLayouts=function(){this.data.clearItemLayouts()},t.createTree=function(n,r,g){var y=new t(r),$=[],L=1;V(n);function V(re,ae){var oe=re.value;L=Math.max(L,isArray$1(oe)?oe.length:1),$.push(re);var ie=new TreeNode(convertOptionIdName(re.name,""),y);ae?addChild(ie,ae):y.root=ie,y._nodes.push(ie);var le=re.children;if(le)for(var ue=0;ue<le.length;ue++)V(le[ue],ie)}y.root.updateDepthAndHeight(0);var z=prepareSeriesDataSchema($,{coordDimensions:["value"],dimensionsCount:L}).dimensions,j=new SeriesData(z,r);return j.initData($),g&&g(j),linkSeriesData({mainData:j,struct:y,structAttr:"tree"}),y.update(),y},t}();function addChild(t,n){var r=n.children;t.parentNode!==n&&(r.push(t),t.parentNode=n)}function retrieveTargetInfo(t,n,r){if(t&&indexOf(n,t.type)>=0){var g=r.getData().tree.root,y=t.targetNode;if(isString(y)&&(y=g.getNodeById(y)),y&&g.contains(y))return{node:y};var $=t.targetNodeId;if($!=null&&(y=g.getNodeById($)))return{node:y}}}function getPathToRoot(t){for(var n=[];t;)t=t.parentNode,t&&n.push(t);return n.reverse()}function aboveViewRoot(t,n){var r=getPathToRoot(t);return indexOf(r,n)>=0}function wrapTreePathInfo(t,n){for(var r=[];t;){var g=t.dataIndex;r.push({name:t.name,dataIndex:g,value:n.getRawValue(g)}),t=t.parentNode}return r.reverse(),r}var TreeSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.hasSymbolVisual=!0,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r){var g={name:r.name,children:r.data},y=r.leaves||{},$=new Model(y,this,this.ecModel),L=Tree.createTree(g,this,V);function V(ae){ae.wrapMethod("getItemModel",function(oe,ie){var le=L.getNodeByDataIndex(ie);return le&&le.children.length&&le.isExpand||(oe.parentModel=$),oe})}var z=0;L.eachNode("preorder",function(ae){ae.depth>z&&(z=ae.depth)});var j=r.expandAndCollapse,re=j&&r.initialTreeDepth>=0?r.initialTreeDepth:z;return L.root.eachNode("preorder",function(ae){var oe=ae.hostTree.data.getRawDataItem(ae.dataIndex);ae.isExpand=oe&&oe.collapsed!=null?!oe.collapsed:ae.depth<=re}),L.data},n.prototype.getOrient=function(){var r=this.get("orient");return r==="horizontal"?r="LR":r==="vertical"&&(r="TB"),r},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.formatTooltip=function(r,g,y){for(var $=this.getData().tree,L=$.root.children[0],V=$.getNodeByDataIndex(r),z=V.getValue(),j=V.name;V&&V!==L;)j=V.parentNode.name+"."+j,V=V.parentNode;return createTooltipMarkup("nameValue",{name:j,value:z,noValue:isNaN(z)||z==null})},n.prototype.getDataParams=function(r){var g=t.prototype.getDataParams.apply(this,arguments),y=this.getData().tree.getNodeByDataIndex(r);return g.treeAncestors=wrapTreePathInfo(y,this),g.collapsed=!y.isExpand,g},n.type="series.tree",n.layoutMode="box",n.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},n}(SeriesModel);function eachAfter(t,n,r){for(var g=[t],y=[],$;$=g.pop();)if(y.push($),$.isExpand){var L=$.children;if(L.length)for(var V=0;V<L.length;V++)g.push(L[V])}for(;$=y.pop();)n($,r)}function eachBefore(t,n){for(var r=[t],g;g=r.pop();)if(n(g),g.isExpand){var y=g.children;if(y.length)for(var $=y.length-1;$>=0;$--)r.push(y[$])}}function treeLayout(t,n){t.eachSeriesByType("tree",function(r){commonLayout(r,n)})}function commonLayout(t,n){var r=getViewRect$4(t,n);t.layoutInfo=r;var g=t.get("layout"),y=0,$=0,L=null;g==="radial"?(y=2*Math.PI,$=Math.min(r.height,r.width)/2,L=separation(function(_e,Ce){return(_e.parentNode===Ce.parentNode?1:2)/_e.depth})):(y=r.width,$=r.height,L=separation());var V=t.getData().tree.root,z=V.children[0];if(z){init(V),eachAfter(z,firstWalk,L),V.hierNode.modifier=-z.hierNode.prelim,eachBefore(z,secondWalk);var j=z,re=z,ae=z;eachBefore(z,function(_e){var Ce=_e.getLayout().x;Ce<j.getLayout().x&&(j=_e),Ce>re.getLayout().x&&(re=_e),_e.depth>ae.depth&&(ae=_e)});var oe=j===re?1:L(j,re)/2,ie=oe-j.getLayout().x,le=0,ue=0,de=0,he=0;if(g==="radial")le=y/(re.getLayout().x+oe+ie),ue=$/(ae.depth-1||1),eachBefore(z,function(_e){de=(_e.getLayout().x+ie)*le,he=(_e.depth-1)*ue;var Ce=radialCoordinate(de,he);_e.setLayout({x:Ce.x,y:Ce.y,rawX:de,rawY:he},!0)});else{var pe=t.getOrient();pe==="RL"||pe==="LR"?(ue=$/(re.getLayout().x+oe+ie),le=y/(ae.depth-1||1),eachBefore(z,function(_e){he=(_e.getLayout().x+ie)*ue,de=pe==="LR"?(_e.depth-1)*le:y-(_e.depth-1)*le,_e.setLayout({x:de,y:he},!0)})):(pe==="TB"||pe==="BT")&&(le=y/(re.getLayout().x+oe+ie),ue=$/(ae.depth-1||1),eachBefore(z,function(_e){de=(_e.getLayout().x+ie)*le,he=pe==="TB"?(_e.depth-1)*ue:$-(_e.depth-1)*ue,_e.setLayout({x:de,y:he},!0)}))}}}function treeVisual(t){t.eachSeriesByType("tree",function(n){var r=n.getData(),g=r.tree;g.eachNode(function(y){var $=y.getModel(),L=$.getModel("itemStyle").getItemStyle(),V=r.ensureUniqueItemVisual(y.dataIndex,"style");extend(V,L)})})}function installTreeAction(t){t.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"tree",query:n},function(g){var y=n.dataIndex,$=g.getData().tree,L=$.getNodeByDataIndex(y);L.isExpand=!L.isExpand})}),t.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(n,r,g){r.eachComponent({mainType:"series",subType:"tree",query:n},function(y){var $=y.coordinateSystem,L=updateCenterAndZoom($,n,void 0,g);y.setCenter&&y.setCenter(L.center),y.setZoom&&y.setZoom(L.zoom)})})}function install$H(t){t.registerChartView(TreeView),t.registerSeriesModel(TreeSeriesModel),t.registerLayout(treeLayout),t.registerVisual(treeVisual),installTreeAction(t)}var actionTypes=["treemapZoomToNode","treemapRender","treemapMove"];function installTreemapAction(t){for(var n=0;n<actionTypes.length;n++)t.registerAction({type:actionTypes[n],update:"updateView"},noop);t.registerAction({type:"treemapRootToNode",update:"updateView"},function(r,g){g.eachComponent({mainType:"series",subType:"treemap",query:r},y);function y($,L){var V=["treemapZoomToNode","treemapRootToNode"],z=retrieveTargetInfo(r,V,$);if(z){var j=$.getViewRoot();j&&(r.direction=aboveViewRoot(j,z.node)?"rollUp":"drillDown"),$.resetViewRoot(z.node)}}})}function enableAriaDecalForTree(t){var n=t.getData(),r=n.tree,g={};r.eachNode(function(y){for(var $=y;$&&$.depth>1;)$=$.parentNode;var L=getDecalFromPalette(t.ecModel,$.name||$.dataIndex+"",g);y.setVisual("decal",L)})}var TreemapSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.preventUsingHoverLayer=!0,r}return n.prototype.getInitialData=function(r,g){var y={name:r.name,children:r.data};completeTreeValue$1(y);var $=r.levels||[],L=this.designatedVisualItemStyle={},V=new Model({itemStyle:L},this,g);$=r.levels=setDefault($,g);var z=map$1($||[],function(ae){return new Model(ae,V,g)},this),j=Tree.createTree(y,this,re);function re(ae){ae.wrapMethod("getItemModel",function(oe,ie){var le=j.getNodeByDataIndex(ie),ue=le?z[le.depth]:null;return oe.parentModel=ue||V,oe})}return j.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.formatTooltip=function(r,g,y){var $=this.getData(),L=this.getRawValue(r),V=$.getName(r);return createTooltipMarkup("nameValue",{name:V,value:L})},n.prototype.getDataParams=function(r){var g=t.prototype.getDataParams.apply(this,arguments),y=this.getData().tree.getNodeByDataIndex(r);return g.treeAncestors=wrapTreePathInfo(y,this),g.treePathInfo=g.treeAncestors,g},n.prototype.setLayoutInfo=function(r){this.layoutInfo=this.layoutInfo||{},extend(this.layoutInfo,r)},n.prototype.mapIdToIndex=function(r){var g=this._idIndexMap;g||(g=this._idIndexMap=createHashMap(),this._idIndexMapCount=0);var y=g.get(r);return y==null&&g.set(r,y=this._idIndexMapCount++),y},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var g=this.getRawData().tree.root;(!r||r!==g&&!g.contains(r))&&(this._viewRoot=g)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.treemap",n.layoutMode="box",n.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"",zoomToNodeRatio:.32*.32,scaleLimit:null,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},n}(SeriesModel);function completeTreeValue$1(t){var n=0;each$f(t.children,function(g){completeTreeValue$1(g);var y=g.value;isArray$1(y)&&(y=y[0]),n+=y});var r=t.value;isArray$1(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$1(t.value)?t.value[0]=r:t.value=r}function setDefault(t,n){var r=normalizeToArray(n.get("color")),g=normalizeToArray(n.get(["aria","decal","decals"]));if(r){t=t||[];var y,$;each$f(t,function(V){var z=new Model(V),j=z.get("color"),re=z.get("decal");(z.get(["itemStyle","color"])||j&&j!=="none")&&(y=!0),(z.get(["itemStyle","decal"])||re&&re!=="none")&&($=!0)});var L=t[0]||(t[0]={});return y||(L.color=r.slice()),!$&&g&&(L.decal=g.slice()),t}}var TEXT_PADDING=8,ITEM_GAP=8,ARRAY_LENGTH=5,Breadcrumb=function(){function t(n){this.group=new Group$3,n.add(this.group)}return t.prototype.render=function(n,r,g,y){var $=n.getModel("breadcrumb"),L=this.group;if(L.removeAll(),!(!$.get("show")||!g)){var V=$.getModel("itemStyle"),z=$.getModel("emphasis"),j=V.getModel("textStyle"),re=z.getModel(["itemStyle","textStyle"]),ae={pos:{left:$.get("left"),right:$.get("right"),top:$.get("top"),bottom:$.get("bottom")},box:{width:r.getWidth(),height:r.getHeight()},emptyItemWidth:$.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(g,ae,j),this._renderContent(n,ae,V,z,j,re,y),positionElement(L,ae.pos,ae.box)}},t.prototype._prepare=function(n,r,g){for(var y=n;y;y=y.parentNode){var $=convertOptionIdName(y.getModel().get("name"),""),L=g.getTextRect($),V=Math.max(L.width+TEXT_PADDING*2,r.emptyItemWidth);r.totalWidth+=V+ITEM_GAP,r.renderList.push({node:y,text:$,width:V})}},t.prototype._renderContent=function(n,r,g,y,$,L,V){for(var z=0,j=r.emptyItemWidth,re=n.get(["breadcrumb","height"]),ae=getAvailableSize(r.pos,r.box),oe=r.totalWidth,ie=r.renderList,le=y.getModel("itemStyle").getItemStyle(),ue=ie.length-1;ue>=0;ue--){var de=ie[ue],he=de.node,pe=de.width,_e=de.text;oe>ae.width&&(oe-=pe-j,pe=j,_e=null);var Ce=new Polygon({shape:{points:makeItemPoints(z,0,pe,re,ue===ie.length-1,ue===0)},style:defaults(g.getItemStyle(),{lineJoin:"bevel"}),textContent:new ZRText({style:createTextStyle($,{text:_e})}),textConfig:{position:"inside"},z2:Z2_EMPHASIS_LIFT*1e4,onclick:curry$1(V,he)});Ce.disableLabelAnimation=!0,Ce.getTextContent().ensureState("emphasis").style=createTextStyle(L,{text:_e}),Ce.ensureState("emphasis").style=le,toggleHoverEmphasis(Ce,y.get("focus"),y.get("blurScope"),y.get("disabled")),this.group.add(Ce),packEventData(Ce,n,he),z+=pe+ITEM_GAP}},t.prototype.remove=function(){this.group.removeAll()},t}();function makeItemPoints(t,n,r,g,y,$){var L=[[y?t:t-ARRAY_LENGTH,n],[t+r,n],[t+r,n+g],[y?t:t-ARRAY_LENGTH,n+g]];return!$&&L.splice(2,0,[t+r+ARRAY_LENGTH,n+g/2]),!y&&L.push([t,n+g/2]),L}function packEventData(t,n,r){getECData(t).eventData={componentType:"series",componentSubType:"treemap",componentIndex:n.componentIndex,seriesIndex:n.seriesIndex,seriesName:n.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:r&&r.dataIndex,name:r&&r.name},treePathInfo:r&&wrapTreePathInfo(r,n)}}var AnimationWrap=function(){function t(){this._storage=[],this._elExistsMap={}}return t.prototype.add=function(n,r,g,y,$){return this._elExistsMap[n.id]?!1:(this._elExistsMap[n.id]=!0,this._storage.push({el:n,target:r,duration:g,delay:y,easing:$}),!0)},t.prototype.finished=function(n){return this._finishedCallback=n,this},t.prototype.start=function(){for(var n=this,r=this._storage.length,g=function(){r--,r<=0&&(n._storage.length=0,n._elExistsMap={},n._finishedCallback&&n._finishedCallback())},y=0,$=this._storage.length;y<$;y++){var L=this._storage[y];L.el.animateTo(L.target,{duration:L.duration,delay:L.delay,easing:L.easing,setToFinal:!0,done:g,aborted:g})}return this},t}();function createWrap(){return new AnimationWrap}var Group$2=Group$3,Rect$1=Rect$2,DRAG_THRESHOLD=3,PATH_LABEL_NOAMAL="label",PATH_UPPERLABEL_NORMAL="upperLabel",Z2_BASE=Z2_EMPHASIS_LIFT*10,Z2_BG=Z2_EMPHASIS_LIFT*2,Z2_CONTENT=Z2_EMPHASIS_LIFT*3,getStateItemStyle=makeStyleMapper([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),getItemStyleNormal=function(t){var n=getStateItemStyle(t);return n.stroke=n.fill=n.lineWidth=null,n},inner$d=makeInner(),TreemapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._state="ready",r._storage=createStorage(),r}return n.prototype.render=function(r,g,y,$){var L=g.findComponents({mainType:"series",subType:"treemap",query:$});if(!(indexOf(L,r)<0)){this.seriesModel=r,this.api=y,this.ecModel=g;var V=["treemapZoomToNode","treemapRootToNode"],z=retrieveTargetInfo($,V,r),j=$&&$.type,re=r.layoutInfo,ae=!this._oldTree,oe=this._storage,ie=j==="treemapRootToNode"&&z&&oe?{rootNodeGroup:oe.nodeGroup[z.node.getRawIndex()],direction:$.direction}:null,le=this._giveContainerGroup(re),ue=r.get("animation"),de=this._doRender(le,r,ie);ue&&!ae&&(!j||j==="treemapZoomToNode"||j==="treemapRootToNode")?this._doAnimation(le,de,r,ie):de.renderFinally(),this._resetController(y),this._renderBreadcrumb(r,y,z)}},n.prototype._giveContainerGroup=function(r){var g=this._containerGroup;return g||(g=this._containerGroup=new Group$2,this._initEvents(g),this.group.add(g)),g.x=r.x,g.y=r.y,g},n.prototype._doRender=function(r,g,y){var $=g.getData().tree,L=this._oldTree,V=createStorage(),z=createStorage(),j=this._storage,re=[];function ae(pe,_e,Ce,xe){return renderNode(g,z,j,y,V,re,pe,_e,Ce,xe)}ue($.root?[$.root]:[],L&&L.root?[L.root]:[],r,$===L||!L,0);var oe=de(j);if(this._oldTree=$,this._storage=z,this._controllerHost){var ie=this.seriesModel.layoutInfo,le=$.root.getLayout();le.width===ie.width&&le.height===ie.height&&(this._controllerHost.zoom=1)}return{lastsForAnimation:V,willDeleteEls:oe,renderFinally:he};function ue(pe,_e,Ce,xe,Ie){xe?(_e=pe,each$f(pe,function(Ne,Fe){!Ne.isRemoved()&&Oe(Fe,Fe)})):new DataDiffer(_e,pe,$e,$e).add(Oe).update(Oe).remove(curry$1(Oe,null)).execute();function $e(Ne){return Ne.getId()}function Oe(Ne,Fe){var Ve=Ne!=null?pe[Ne]:null,ze=Fe!=null?_e[Fe]:null,Et=ae(Ve,ze,Ce,Ie);Et&&ue(Ve&&Ve.viewChildren||[],ze&&ze.viewChildren||[],Et,xe,Ie+1)}}function de(pe){var _e=createStorage();return pe&&each$f(pe,function(Ce,xe){var Ie=_e[xe];each$f(Ce,function($e){$e&&(Ie.push($e),inner$d($e).willDelete=!0)})}),_e}function he(){each$f(oe,function(pe){each$f(pe,function(_e){_e.parent&&_e.parent.remove(_e)})}),each$f(re,function(pe){pe.invisible=!0,pe.dirty()})}},n.prototype._doAnimation=function(r,g,y,$){var L=y.get("animationDurationUpdate"),V=y.get("animationEasing"),z=(isFunction(L)?0:L)||0,j=(isFunction(V)?null:V)||"cubicOut",re=createWrap();each$f(g.willDeleteEls,function(ae,oe){each$f(ae,function(ie,le){if(!ie.invisible){var ue=ie.parent,de,he=inner$d(ue);if($&&$.direction==="drillDown")de=ue===$.rootNodeGroup?{shape:{x:0,y:0,width:he.nodeWidth,height:he.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var pe=0,_e=0;he.willDelete||(pe=he.nodeWidth/2,_e=he.nodeHeight/2),de=oe==="nodeGroup"?{x:pe,y:_e,style:{opacity:0}}:{shape:{x:pe,y:_e,width:0,height:0},style:{opacity:0}}}de&&re.add(ie,de,z,0,j)}})}),each$f(this._storage,function(ae,oe){each$f(ae,function(ie,le){var ue=g.lastsForAnimation[oe][le],de={};ue&&(ie instanceof Group$3?ue.oldX!=null&&(de.x=ie.x,de.y=ie.y,ie.x=ue.oldX,ie.y=ue.oldY):(ue.oldShape&&(de.shape=extend({},ie.shape),ie.setShape(ue.oldShape)),ue.fadein?(ie.setStyle("opacity",0),de.style={opacity:1}):ie.style.opacity!==1&&(de.style={opacity:1})),re.add(ie,de,z,0,j))})},this),this._state="animating",re.finished(bind$1(function(){this._state="ready",g.renderFinally()},this)).start()},n.prototype._resetController=function(r){var g=this._controller,y=this._controllerHost;y||(this._controllerHost={target:this.group},y=this._controllerHost),g||(g=this._controller=new RoamController(r.getZr()),g.enable(this.seriesModel.get("roam")),y.zoomLimit=this.seriesModel.get("scaleLimit"),y.zoom=this.seriesModel.get("zoom"),g.on("pan",bind$1(this._onPan,this)),g.on("zoom",bind$1(this._onZoom,this)));var $=new BoundingRect(0,0,r.getWidth(),r.getHeight());g.setPointerChecker(function(L,V,z){return $.contain(V,z)})},n.prototype._clearController=function(){var r=this._controller;this._controllerHost=null,r&&(r.dispose(),r=null)},n.prototype._onPan=function(r){if(this._state!=="animating"&&(Math.abs(r.dx)>DRAG_THRESHOLD||Math.abs(r.dy)>DRAG_THRESHOLD)){var g=this.seriesModel.getData().tree.root;if(!g)return;var y=g.getLayout();if(!y)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:y.x+r.dx,y:y.y+r.dy,width:y.width,height:y.height}})}},n.prototype._onZoom=function(r){var g=r.originX,y=r.originY,$=r.scale;if(this._state!=="animating"){var L=this.seriesModel.getData().tree.root;if(!L)return;var V=L.getLayout();if(!V)return;var z=new BoundingRect(V.x,V.y,V.width,V.height),j=null,re=this._controllerHost;j=re.zoomLimit;var ae=re.zoom=re.zoom||1;if(ae*=$,j){var oe=j.min||0,ie=j.max||1/0;ae=Math.max(Math.min(ie,ae),oe)}var le=ae/re.zoom;re.zoom=ae;var ue=this.seriesModel.layoutInfo;g-=ue.x,y-=ue.y;var de=create$1();translate(de,de,[-g,-y]),scale$1(de,de,[le,le]),translate(de,de,[g,y]),z.applyTransform(de),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:z.x,y:z.y,width:z.width,height:z.height}})}},n.prototype._initEvents=function(r){var g=this;r.on("click",function(y){if(g._state==="ready"){var $=g.seriesModel.get("nodeClick",!0);if($){var L=g.findTarget(y.offsetX,y.offsetY);if(L){var V=L.node;if(V.getLayout().isLeafRoot)g._rootToNode(L);else if($==="zoomToNode")g._zoomToNode(L);else if($==="link"){var z=V.hostTree.data.getItemModel(V.dataIndex),j=z.get("link",!0),re=z.get("target",!0)||"blank";j&&windowOpen(j,re)}}}}},this)},n.prototype._renderBreadcrumb=function(r,g,y){var $=this;y||(y=r.get("leafDepth",!0)!=null?{node:r.getViewRoot()}:this.findTarget(g.getWidth()/2,g.getHeight()/2),y||(y={node:r.getData().tree.root})),(this._breadcrumb||(this._breadcrumb=new Breadcrumb(this.group))).render(r,g,y.node,function(L){$._state!=="animating"&&(aboveViewRoot(r.getViewRoot(),L)?$._rootToNode({node:L}):$._zoomToNode({node:L}))})},n.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage=createStorage(),this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},n.prototype.dispose=function(){this._clearController()},n.prototype._zoomToNode=function(r){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype._rootToNode=function(r){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:r.node})},n.prototype.findTarget=function(r,g){var y,$=this.seriesModel.getViewRoot();return $.eachNode({attr:"viewChildren",order:"preorder"},function(L){var V=this._storage.background[L.getRawIndex()];if(V){var z=V.transformCoordToLocal(r,g),j=V.shape;if(j.x<=z[0]&&z[0]<=j.x+j.width&&j.y<=z[1]&&z[1]<=j.y+j.height)y={node:L,offsetX:z[0],offsetY:z[1]};else return!1}},this),y},n.type="treemap",n}(ChartView);function createStorage(){return{nodeGroup:[],background:[],content:[]}}function renderNode(t,n,r,g,y,$,L,V,z,j){if(!L)return;var re=L.getLayout(),ae=t.getData(),oe=L.getModel();if(ae.setItemGraphicEl(L.dataIndex,null),!re||!re.isInView)return;var ie=re.width,le=re.height,ue=re.borderWidth,de=re.invisible,he=L.getRawIndex(),pe=V&&V.getRawIndex(),_e=L.viewChildren,Ce=re.upperHeight,xe=_e&&_e.length,Ie=oe.getModel("itemStyle"),$e=oe.getModel(["emphasis","itemStyle"]),Oe=oe.getModel(["blur","itemStyle"]),Ne=oe.getModel(["select","itemStyle"]),Fe=Ie.get("borderRadius")||0,Ve=_n("nodeGroup",Group$2);if(!Ve)return;if(z.add(Ve),Ve.x=re.x||0,Ve.y=re.y||0,Ve.markRedraw(),inner$d(Ve).nodeWidth=ie,inner$d(Ve).nodeHeight=le,re.isAboveViewRoot)return Ve;var ze=_n("background",Rect$1,j,Z2_BG);ze&&vn(Ve,ze,xe&&re.upperLabelHeight);var Et=oe.getModel("emphasis"),Dt=Et.get("focus"),Ue=Et.get("blurScope"),qe=Et.get("disabled"),Lt=Dt==="ancestor"?L.getAncestorsIndices():Dt==="descendant"?L.getDescendantIndices():Dt;if(xe)isHighDownDispatcher(Ve)&&setAsHighDownDispatcher(Ve,!1),ze&&(setAsHighDownDispatcher(ze,!qe),ae.setItemGraphicEl(L.dataIndex,ze),enableHoverFocus(ze,Lt,Ue));else{var Pt=_n("content",Rect$1,j,Z2_CONTENT);Pt&&En(Ve,Pt),ze.disableMorphing=!0,ze&&isHighDownDispatcher(ze)&&setAsHighDownDispatcher(ze,!1),setAsHighDownDispatcher(Ve,!qe),ae.setItemGraphicEl(L.dataIndex,Ve);var At=oe.getShallow("cursor");At&&Pt.attr("cursor",At),enableHoverFocus(Ve,Lt,Ue)}return Ve;function vn(Cn,Tn,xn){var Mn=getECData(Tn);if(Mn.dataIndex=L.dataIndex,Mn.seriesIndex=t.seriesIndex,Tn.setShape({x:0,y:0,width:ie,height:le,r:Fe}),de)Sn(Tn);else{Tn.invisible=!1;var bn=L.getVisual("style"),Pn=bn.stroke,Rn=getItemStyleNormal(Ie);Rn.fill=Pn;var Fn=getStateItemStyle($e);Fn.fill=$e.get("borderColor");var Dn=getStateItemStyle(Oe);Dn.fill=Oe.get("borderColor");var Ln=getStateItemStyle(Ne);if(Ln.fill=Ne.get("borderColor"),xn){var kn=ie-2*ue;kt(Tn,Pn,bn.opacity,{x:ue,y:0,width:kn,height:Ce})}else Tn.removeTextContent();Tn.setStyle(Rn),Tn.ensureState("emphasis").style=Fn,Tn.ensureState("blur").style=Dn,Tn.ensureState("select").style=Ln,setDefaultStateProxy(Tn)}Cn.add(Tn)}function En(Cn,Tn){var xn=getECData(Tn);xn.dataIndex=L.dataIndex,xn.seriesIndex=t.seriesIndex;var Mn=Math.max(ie-2*ue,0),bn=Math.max(le-2*ue,0);if(Tn.culling=!0,Tn.setShape({x:ue,y:ue,width:Mn,height:bn,r:Fe}),de)Sn(Tn);else{Tn.invisible=!1;var Pn=L.getVisual("style"),Rn=Pn.fill,Fn=getItemStyleNormal(Ie);Fn.fill=Rn,Fn.decal=Pn.decal;var Dn=getStateItemStyle($e),Ln=getStateItemStyle(Oe),kn=getStateItemStyle(Ne);kt(Tn,Rn,Pn.opacity,null),Tn.setStyle(Fn),Tn.ensureState("emphasis").style=Dn,Tn.ensureState("blur").style=Ln,Tn.ensureState("select").style=kn,setDefaultStateProxy(Tn)}Cn.add(Tn)}function Sn(Cn){!Cn.invisible&&$.push(Cn)}function kt(Cn,Tn,xn,Mn){var bn=oe.getModel(Mn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),Pn=convertOptionIdName(oe.get("name"),null),Rn=bn.getShallow("show");setLabelStyle(Cn,getLabelStatesModels(oe,Mn?PATH_UPPERLABEL_NORMAL:PATH_LABEL_NOAMAL),{defaultText:Rn?Pn:null,inheritColor:Tn,defaultOpacity:xn,labelFetcher:t,labelDataIndex:L.dataIndex});var Fn=Cn.getTextContent();if(Fn){var Dn=Fn.style,Ln=normalizeCssArray$1(Dn.padding||0);Mn&&(Cn.setTextConfig({layoutRect:Mn}),Fn.disableLabelLayout=!0),Fn.beforeUpdate=function(){var In=Math.max((Mn?Mn.width:Cn.shape.width)-Ln[1]-Ln[3],0),Vn=Math.max((Mn?Mn.height:Cn.shape.height)-Ln[0]-Ln[2],0);(Dn.width!==In||Dn.height!==Vn)&&Fn.setStyle({width:In,height:Vn})},Dn.truncateMinChar=2,Dn.lineOverflow="truncate",jt(Dn,Mn,re);var kn=Fn.getState("emphasis");jt(kn?kn.style:null,Mn,re)}}function jt(Cn,Tn,xn){var Mn=Cn?Cn.text:null;if(!Tn&&xn.isLeafRoot&&Mn!=null){var bn=t.get("drillDownIcon",!0);Cn.text=bn?bn+" "+Mn:Mn}}function _n(Cn,Tn,xn,Mn){var bn=pe!=null&&r[Cn][pe],Pn=y[Cn];return bn?(r[Cn][pe]=null,wn(Pn,bn)):de||(bn=new Tn,bn instanceof Displayable&&(bn.z2=calculateZ2(xn,Mn)),hn(Pn,bn)),n[Cn][he]=bn}function wn(Cn,Tn){var xn=Cn[he]={};Tn instanceof Group$2?(xn.oldX=Tn.x,xn.oldY=Tn.y):xn.oldShape=extend({},Tn.shape)}function hn(Cn,Tn){var xn=Cn[he]={},Mn=L.parentNode,bn=Tn instanceof Group$3;if(Mn&&(!g||g.direction==="drillDown")){var Pn=0,Rn=0,Fn=y.background[Mn.getRawIndex()];!g&&Fn&&Fn.oldShape&&(Pn=Fn.oldShape.width,Rn=Fn.oldShape.height),bn?(xn.oldX=0,xn.oldY=Rn):xn.oldShape={x:Pn,y:Rn,width:0,height:0}}xn.fadein=!bn}}function calculateZ2(t,n){return t*Z2_BASE+n}var each$c=each$f,isObject=isObject$3,CATEGORY_DEFAULT_VISUAL_INDEX=-1,VisualMapping=function(){function t(n){var r=n.mappingMethod,g=n.type,y=this.option=clone$4(n);this.type=g,this.mappingMethod=r,this._normalizeData=normalizers[r];var $=t.visualHandlers[g];this.applyVisual=$.applyVisual,this.getColorMapper=$.getColorMapper,this._normalizedToVisual=$._normalizedToVisual[r],r==="piecewise"?(normalizeVisualRange(y),preprocessForPiecewise(y)):r==="category"?y.categories?preprocessForSpecifiedCategory(y):normalizeVisualRange(y,!0):(assert(r!=="linear"||y.dataExtent),normalizeVisualRange(y))}return t.prototype.mapValueToVisual=function(n){var r=this._normalizeData(n);return this._normalizedToVisual(r,n)},t.prototype.getNormalizer=function(){return bind$1(this._normalizeData,this)},t.listVisualTypes=function(){return keys(t.visualHandlers)},t.isValidType=function(n){return t.visualHandlers.hasOwnProperty(n)},t.eachVisual=function(n,r,g){isObject$3(n)?each$f(n,r,g):r.call(g,n)},t.mapVisual=function(n,r,g){var y,$=isArray$1(n)?[]:isObject$3(n)?{}:(y=!0,null);return t.eachVisual(n,function(L,V){var z=r.call(g,L,V);y?$=z:$[V]=z}),$},t.retrieveVisuals=function(n){var r={},g;return n&&each$c(t.visualHandlers,function(y,$){n.hasOwnProperty($)&&(r[$]=n[$],g=!0)}),g?r:null},t.prepareVisualTypes=function(n){if(isArray$1(n))n=n.slice();else if(isObject(n)){var r=[];each$c(n,function(g,y){r.push(y)}),n=r}else return[];return n.sort(function(g,y){return y==="color"&&g!=="color"&&g.indexOf("color")===0?1:-1}),n},t.dependsOn=function(n,r){return r==="color"?!!(n&&n.indexOf(r)===0):n===r},t.findPieceIndex=function(n,r,g){for(var y,$=1/0,L=0,V=r.length;L<V;L++){var z=r[L].value;if(z!=null){if(z===n||isString(z)&&z===n+"")return L;g&&oe(z,L)}}for(var L=0,V=r.length;L<V;L++){var j=r[L],re=j.interval,ae=j.close;if(re){if(re[0]===-1/0){if(littleThan(ae[1],n,re[1]))return L}else if(re[1]===1/0){if(littleThan(ae[0],re[0],n))return L}else if(littleThan(ae[0],re[0],n)&&littleThan(ae[1],n,re[1]))return L;g&&oe(re[0],L),g&&oe(re[1],L)}}if(g)return n===1/0?r.length-1:n===-1/0?0:y;function oe(ie,le){var ue=Math.abs(ie-n);ue<$&&($=ue,y=le)}},t.visualHandlers={color:{applyVisual:makeApplyVisual("color"),getColorMapper:function(){var n=this.option;return bind$1(n.mappingMethod==="category"?function(r,g){return!g&&(r=this._normalizeData(r)),doMapCategory.call(this,r)}:function(r,g,y){var $=!!y;return!g&&(r=this._normalizeData(r)),y=fastLerp(r,n.parsedVisual,y),$?y:stringify(y,"rgba")},this)},_normalizedToVisual:{linear:function(n){return stringify(fastLerp(n,this.option.parsedVisual),"rgba")},category:doMapCategory,piecewise:function(n,r){var g=getSpecifiedVisual.call(this,r);return g==null&&(g=stringify(fastLerp(n,this.option.parsedVisual),"rgba")),g},fixed:doMapFixed}},colorHue:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,r)}),colorSaturation:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,r)}),colorLightness:makePartialColorVisualHandler(function(n,r){return modifyHSL(n,null,null,r)}),colorAlpha:makePartialColorVisualHandler(function(n,r){return modifyAlpha(n,r)}),decal:{applyVisual:makeApplyVisual("decal"),_normalizedToVisual:{linear:null,category:doMapCategory,piecewise:null,fixed:null}},opacity:{applyVisual:makeApplyVisual("opacity"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])},liftZ:{applyVisual:makeApplyVisual("liftZ"),_normalizedToVisual:{linear:doMapFixed,category:doMapFixed,piecewise:doMapFixed,fixed:doMapFixed}},symbol:{applyVisual:function(n,r,g){var y=this.mapValueToVisual(n);g("symbol",y)},_normalizedToVisual:{linear:doMapToArray,category:doMapCategory,piecewise:function(n,r){var g=getSpecifiedVisual.call(this,r);return g==null&&(g=doMapToArray.call(this,n)),g},fixed:doMapFixed}},symbolSize:{applyVisual:makeApplyVisual("symbolSize"),_normalizedToVisual:createNormalizedToNumericVisual([0,1])}},t}();function preprocessForPiecewise(t){var n=t.pieceList;t.hasSpecialVisual=!1,each$f(n,function(r,g){r.originIndex=g,r.visual!=null&&(t.hasSpecialVisual=!0)})}function preprocessForSpecifiedCategory(t){var n=t.categories,r=t.categoryMap={},g=t.visual;if(each$c(n,function(L,V){r[L]=V}),!isArray$1(g)){var y=[];isObject$3(g)?each$c(g,function(L,V){var z=r[V];y[z??CATEGORY_DEFAULT_VISUAL_INDEX]=L}):y[CATEGORY_DEFAULT_VISUAL_INDEX]=g,g=setVisualToOption(t,y)}for(var $=n.length-1;$>=0;$--)g[$]==null&&(delete r[n[$]],n.pop())}function normalizeVisualRange(t,n){var r=t.visual,g=[];isObject$3(r)?each$c(r,function($){g.push($)}):r!=null&&g.push(r);var y={color:1,symbol:1};!n&&g.length===1&&!y.hasOwnProperty(t.type)&&(g[1]=g[0]),setVisualToOption(t,g)}function makePartialColorVisualHandler(t){return{applyVisual:function(n,r,g){var y=this.mapValueToVisual(n);g("color",t(r("color"),y))},_normalizedToVisual:createNormalizedToNumericVisual([0,1])}}function doMapToArray(t){var n=this.option.visual;return n[Math.round(linearMap$2(t,[0,1],[0,n.length-1],!0))]||{}}function makeApplyVisual(t){return function(n,r,g){g(t,this.mapValueToVisual(n))}}function doMapCategory(t){var n=this.option.visual;return n[this.option.loop&&t!==CATEGORY_DEFAULT_VISUAL_INDEX?t%n.length:t]}function doMapFixed(){return this.option.visual[0]}function createNormalizedToNumericVisual(t){return{linear:function(n){return linearMap$2(n,t,this.option.visual,!0)},category:doMapCategory,piecewise:function(n,r){var g=getSpecifiedVisual.call(this,r);return g==null&&(g=linearMap$2(n,t,this.option.visual,!0)),g},fixed:doMapFixed}}function getSpecifiedVisual(t){var n=this.option,r=n.pieceList;if(n.hasSpecialVisual){var g=VisualMapping.findPieceIndex(t,r),y=r[g];if(y&&y.visual)return y.visual[this.type]}}function setVisualToOption(t,n){return t.visual=n,t.type==="color"&&(t.parsedVisual=map$1(n,function(r){var g=parse(r);return g||[0,0,0,1]})),n}var normalizers={linear:function(t){return linearMap$2(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var n=this.option.pieceList,r=VisualMapping.findPieceIndex(t,n,!0);if(r!=null)return linearMap$2(r,[0,n.length-1],[0,1],!0)},category:function(t){var n=this.option.categories?this.option.categoryMap[t]:t;return n??CATEGORY_DEFAULT_VISUAL_INDEX},fixed:noop};function littleThan(t,n,r){return t?n<=r:n<r}var ITEM_STYLE_NORMAL="itemStyle",inner$c=makeInner();const treemapVisual={seriesType:"treemap",reset:function(t){var n=t.getData().tree,r=n.root;r.isRemoved()||travelTree(r,{},t.getViewRoot().getAncestors(),t)}};function travelTree(t,n,r,g){var y=t.getModel(),$=t.getLayout(),L=t.hostTree.data;if(!(!$||$.invisible||!$.isInView)){var V=y.getModel(ITEM_STYLE_NORMAL),z=buildVisuals(V,n,g),j=L.ensureUniqueItemVisual(t.dataIndex,"style"),re=V.get("borderColor"),ae=V.get("borderColorSaturation"),oe;ae!=null&&(oe=calculateColor(z),re=calculateBorderColor(ae,oe)),j.stroke=re;var ie=t.viewChildren;if(!ie||!ie.length)oe=calculateColor(z),j.fill=oe;else{var le=buildVisualMapping(t,y,$,V,z,ie);each$f(ie,function(ue,de){if(ue.depth>=r.length||ue===r[ue.depth]){var he=mapVisual$1(y,z,ue,de,le,g);travelTree(ue,he,r,g)}})}}}function buildVisuals(t,n,r){var g=extend({},n),y=r.designatedVisualItemStyle;return each$f(["color","colorAlpha","colorSaturation"],function($){y[$]=n[$];var L=t.get($);y[$]=null,L!=null&&(g[$]=L)}),g}function calculateColor(t){var n=getValueVisualDefine(t,"color");if(n){var r=getValueVisualDefine(t,"colorAlpha"),g=getValueVisualDefine(t,"colorSaturation");return g&&(n=modifyHSL(n,null,null,g)),r&&(n=modifyAlpha(n,r)),n}}function calculateBorderColor(t,n){return n!=null?modifyHSL(n,null,null,t):null}function getValueVisualDefine(t,n){var r=t[n];if(r!=null&&r!=="none")return r}function buildVisualMapping(t,n,r,g,y,$){if(!(!$||!$.length)){var L=getRangeVisual(n,"color")||y.color!=null&&y.color!=="none"&&(getRangeVisual(n,"colorAlpha")||getRangeVisual(n,"colorSaturation"));if(L){var V=n.get("visualMin"),z=n.get("visualMax"),j=r.dataExtent.slice();V!=null&&V<j[0]&&(j[0]=V),z!=null&&z>j[1]&&(j[1]=z);var re=n.get("colorMappingBy"),ae={type:L.name,dataExtent:j,visual:L.range};ae.type==="color"&&(re==="index"||re==="id")?(ae.mappingMethod="category",ae.loop=!0):ae.mappingMethod="linear";var oe=new VisualMapping(ae);return inner$c(oe).drColorMappingBy=re,oe}}}function getRangeVisual(t,n){var r=t.get(n);return isArray$1(r)&&r.length?{name:n,range:r}:null}function mapVisual$1(t,n,r,g,y,$){var L=extend({},n);if(y){var V=y.type,z=V==="color"&&inner$c(y).drColorMappingBy,j=z==="index"?g:z==="id"?$.mapIdToIndex(r.getId()):r.getValue(t.get("visualDimension"));L[V]=y.mapValueToVisual(j)}return L}var mathMax$3=Math.max,mathMin$3=Math.min,retrieveValue=retrieve,each$b=each$f,PATH_BORDER_WIDTH=["itemStyle","borderWidth"],PATH_GAP_WIDTH=["itemStyle","gapWidth"],PATH_UPPER_LABEL_SHOW=["upperLabel","show"],PATH_UPPER_LABEL_HEIGHT=["upperLabel","height"];const treemapLayout={seriesType:"treemap",reset:function(t,n,r,g){var y=r.getWidth(),$=r.getHeight(),L=t.option,V=getLayoutRect(t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),z=L.size||[],j=parsePercent(retrieveValue(V.width,z[0]),y),re=parsePercent(retrieveValue(V.height,z[1]),$),ae=g&&g.type,oe=["treemapZoomToNode","treemapRootToNode"],ie=retrieveTargetInfo(g,oe,t),le=ae==="treemapRender"||ae==="treemapMove"?g.rootRect:null,ue=t.getViewRoot(),de=getPathToRoot(ue);if(ae!=="treemapMove"){var he=ae==="treemapZoomToNode"?estimateRootSize(t,ie,ue,j,re):le?[le.width,le.height]:[j,re],pe=L.sort;pe&&pe!=="asc"&&pe!=="desc"&&(pe="desc");var _e={squareRatio:L.squareRatio,sort:pe,leafDepth:L.leafDepth};ue.hostTree.clearLayouts();var Ce={x:0,y:0,width:he[0],height:he[1],area:he[0]*he[1]};ue.setLayout(Ce),squarify(ue,_e,!1,0),Ce=ue.getLayout(),each$b(de,function(Ie,$e){var Oe=(de[$e+1]||ue).getValue();Ie.setLayout(extend({dataExtent:[Oe,Oe],borderWidth:0,upperHeight:0},Ce))})}var xe=t.getData().tree.root;xe.setLayout(calculateRootPosition(V,le,ie),!0),t.setLayoutInfo(V),prunning(xe,new BoundingRect(-V.x,-V.y,y,$),de,ue,0)}};function squarify(t,n,r,g){var y,$;if(!t.isRemoved()){var L=t.getLayout();y=L.width,$=L.height;var V=t.getModel(),z=V.get(PATH_BORDER_WIDTH),j=V.get(PATH_GAP_WIDTH)/2,re=getUpperLabelHeight(V),ae=Math.max(z,re),oe=z-j,ie=ae-j;t.setLayout({borderWidth:z,upperHeight:ae,upperLabelHeight:re},!0),y=mathMax$3(y-2*oe,0),$=mathMax$3($-oe-ie,0);var le=y*$,ue=initChildren$1(t,V,le,n,r,g);if(ue.length){var de={x:oe,y:ie,width:y,height:$},he=mathMin$3(y,$),pe=1/0,_e=[];_e.area=0;for(var Ce=0,xe=ue.length;Ce<xe;){var Ie=ue[Ce];_e.push(Ie),_e.area+=Ie.getLayout().area;var $e=worst(_e,he,n.squareRatio);$e<=pe?(Ce++,pe=$e):(_e.area-=_e.pop().getLayout().area,position(_e,he,de,j,!1),he=mathMin$3(de.width,de.height),_e.length=_e.area=0,pe=1/0)}if(_e.length&&position(_e,he,de,j,!0),!r){var Oe=V.get("childrenVisibleMin");Oe!=null&&le<Oe&&(r=!0)}for(var Ce=0,xe=ue.length;Ce<xe;Ce++)squarify(ue[Ce],n,r,g+1)}}}function initChildren$1(t,n,r,g,y,$){var L=t.children||[],V=g.sort;V!=="asc"&&V!=="desc"&&(V=null);var z=g.leafDepth!=null&&g.leafDepth<=$;if(y&&!z)return t.viewChildren=[];L=filter(L,function(ie){return!ie.isRemoved()}),sort$1(L,V);var j=statistic(n,L,V);if(j.sum===0)return t.viewChildren=[];if(j.sum=filterByThreshold(n,r,j.sum,V,L),j.sum===0)return t.viewChildren=[];for(var re=0,ae=L.length;re<ae;re++){var oe=L[re].getValue()/j.sum*r;L[re].setLayout({area:oe})}return z&&(L.length&&t.setLayout({isLeafRoot:!0},!0),L.length=0),t.viewChildren=L,t.setLayout({dataExtent:j.dataExtent},!0),L}function filterByThreshold(t,n,r,g,y){if(!g)return r;for(var $=t.get("visibleMin"),L=y.length,V=L,z=L-1;z>=0;z--){var j=y[g==="asc"?L-z-1:z].getValue();j/r*n<$&&(V=z,r-=j)}return g==="asc"?y.splice(0,L-V):y.splice(V,L-V),r}function sort$1(t,n){return n&&t.sort(function(r,g){var y=n==="asc"?r.getValue()-g.getValue():g.getValue()-r.getValue();return y===0?n==="asc"?r.dataIndex-g.dataIndex:g.dataIndex-r.dataIndex:y}),t}function statistic(t,n,r){for(var g=0,y=0,$=n.length;y<$;y++)g+=n[y].getValue();var L=t.get("visualDimension"),V;return!n||!n.length?V=[NaN,NaN]:L==="value"&&r?(V=[n[n.length-1].getValue(),n[0].getValue()],r==="asc"&&V.reverse()):(V=[1/0,-1/0],each$b(n,function(z){var j=z.getValue(L);j<V[0]&&(V[0]=j),j>V[1]&&(V[1]=j)})),{sum:g,dataExtent:V}}function worst(t,n,r){for(var g=0,y=1/0,$=0,L=void 0,V=t.length;$<V;$++)L=t[$].getLayout().area,L&&(L<y&&(y=L),L>g&&(g=L));var z=t.area*t.area,j=n*n*r;return z?mathMax$3(j*g/z,z/(j*y)):1/0}function position(t,n,r,g,y){var $=n===r.width?0:1,L=1-$,V=["x","y"],z=["width","height"],j=r[V[$]],re=n?t.area/n:0;(y||re>r[z[L]])&&(re=r[z[L]]);for(var ae=0,oe=t.length;ae<oe;ae++){var ie=t[ae],le={},ue=re?ie.getLayout().area/re:0,de=le[z[L]]=mathMax$3(re-2*g,0),he=r[V[$]]+r[z[$]]-j,pe=ae===oe-1||he<ue?he:ue,_e=le[z[$]]=mathMax$3(pe-2*g,0);le[V[L]]=r[V[L]]+mathMin$3(g,de/2),le[V[$]]=j+mathMin$3(g,_e/2),j+=pe,ie.setLayout(le,!0)}r[V[L]]+=re,r[z[L]]-=re}function estimateRootSize(t,n,r,g,y){var $=(n||{}).node,L=[g,y];if(!$||$===r)return L;for(var V,z=g*y,j=z*t.option.zoomToNodeRatio;V=$.parentNode;){for(var re=0,ae=V.children,oe=0,ie=ae.length;oe<ie;oe++)re+=ae[oe].getValue();var le=$.getValue();if(le===0)return L;j*=re/le;var ue=V.getModel(),de=ue.get(PATH_BORDER_WIDTH),he=Math.max(de,getUpperLabelHeight(ue));j+=4*de*de+(3*de+he)*Math.pow(j,.5),j>MAX_SAFE_INTEGER&&(j=MAX_SAFE_INTEGER),$=V}j<z&&(j=z);var pe=Math.pow(j/z,.5);return[g*pe,y*pe]}function calculateRootPosition(t,n,r){if(n)return{x:n.x,y:n.y};var g={x:0,y:0};if(!r)return g;var y=r.node,$=y.getLayout();if(!$)return g;for(var L=[$.width/2,$.height/2],V=y;V;){var z=V.getLayout();L[0]+=z.x,L[1]+=z.y,V=V.parentNode}return{x:t.width/2-L[0],y:t.height/2-L[1]}}function prunning(t,n,r,g,y){var $=t.getLayout(),L=r[y],V=L&&L===t;if(!(L&&!V||y===r.length&&t!==g)){t.setLayout({isInView:!0,invisible:!V&&!n.intersect($),isAboveViewRoot:V},!0);var z=new BoundingRect(n.x-$.x,n.y-$.y,n.width,n.height);each$b(t.viewChildren||[],function(j){prunning(j,z,r,g,y+1)})}}function getUpperLabelHeight(t){return t.get(PATH_UPPER_LABEL_SHOW)?t.get(PATH_UPPER_LABEL_HEIGHT):0}function install$G(t){t.registerSeriesModel(TreemapSeriesModel),t.registerChartView(TreemapView),t.registerVisual(treemapVisual),t.registerLayout(treemapLayout),installTreemapAction(t)}function categoryFilter(t){var n=t.findComponents({mainType:"legend"});!n||!n.length||t.eachSeriesByType("graph",function(r){var g=r.getCategoriesData(),y=r.getGraph(),$=y.data,L=g.mapArray(g.getName);$.filterSelf(function(V){var z=$.getItemModel(V),j=z.getShallow("category");if(j!=null){isNumber(j)&&(j=L[j]);for(var re=0;re<n.length;re++)if(!n[re].isSelected(j))return!1}return!0})})}function categoryVisual(t){var n={};t.eachSeriesByType("graph",function(r){var g=r.getCategoriesData(),y=r.getData(),$={};g.each(function(L){var V=g.getName(L);$["ec-"+V]=L;var z=g.getItemModel(L),j=z.getModel("itemStyle").getItemStyle();j.fill||(j.fill=r.getColorFromPalette(V,n)),g.setItemVisual(L,"style",j);for(var re=["symbol","symbolSize","symbolKeepAspect"],ae=0;ae<re.length;ae++){var oe=z.getShallow(re[ae],!0);oe!=null&&g.setItemVisual(L,re[ae],oe)}}),g.count()&&y.each(function(L){var V=y.getItemModel(L),z=V.getShallow("category");if(z!=null){isString(z)&&(z=$["ec-"+z]);var j=g.getItemVisual(z,"style"),re=y.ensureUniqueItemVisual(L,"style");extend(re,j);for(var ae=["symbol","symbolSize","symbolKeepAspect"],oe=0;oe<ae.length;oe++)y.setItemVisual(L,ae[oe],g.getItemVisual(z,ae[oe]))}})})}function normalize$1(t){return t instanceof Array||(t=[t,t]),t}function graphEdgeVisual(t){t.eachSeriesByType("graph",function(n){var r=n.getGraph(),g=n.getEdgeData(),y=normalize$1(n.get("edgeSymbol")),$=normalize$1(n.get("edgeSymbolSize"));g.setVisual("fromSymbol",y&&y[0]),g.setVisual("toSymbol",y&&y[1]),g.setVisual("fromSymbolSize",$&&$[0]),g.setVisual("toSymbolSize",$&&$[1]),g.setVisual("style",n.getModel("lineStyle").getLineStyle()),g.each(function(L){var V=g.getItemModel(L),z=r.getEdgeByIndex(L),j=normalize$1(V.getShallow("symbol",!0)),re=normalize$1(V.getShallow("symbolSize",!0)),ae=V.getModel("lineStyle").getLineStyle(),oe=g.ensureUniqueItemVisual(L,"style");switch(extend(oe,ae),oe.stroke){case"source":{var ie=z.node1.getVisual("style");oe.stroke=ie&&ie.fill;break}case"target":{var ie=z.node2.getVisual("style");oe.stroke=ie&&ie.fill;break}}j[0]&&z.setVisual("fromSymbol",j[0]),j[1]&&z.setVisual("toSymbol",j[1]),re[0]&&z.setVisual("fromSymbolSize",re[0]),re[1]&&z.setVisual("toSymbolSize",re[1])})})}var KEY_DELIMITER="-->",getAutoCurvenessParams=function(t){return t.get("autoCurveness")||null},createCurveness=function(t,n){var r=getAutoCurvenessParams(t),g=20,y=[];if(isNumber(r))g=r;else if(isArray$1(r)){t.__curvenessList=r;return}n>g&&(g=n);var $=g%2?g+2:g+3;y=[];for(var L=0;L<$;L++)y.push((L%2?L+1:L)/10*(L%2?-1:1));t.__curvenessList=y},getKeyOfEdges=function(t,n,r){var g=[t.id,t.dataIndex].join("."),y=[n.id,n.dataIndex].join(".");return[r.uid,g,y].join(KEY_DELIMITER)},getOppositeKey=function(t){var n=t.split(KEY_DELIMITER);return[n[0],n[2],n[1]].join(KEY_DELIMITER)},getEdgeFromMap=function(t,n){var r=getKeyOfEdges(t.node1,t.node2,n);return n.__edgeMap[r]},getTotalLengthBetweenNodes=function(t,n){var r=getEdgeMapLengthWithKey(getKeyOfEdges(t.node1,t.node2,n),n),g=getEdgeMapLengthWithKey(getKeyOfEdges(t.node2,t.node1,n),n);return r+g},getEdgeMapLengthWithKey=function(t,n){var r=n.__edgeMap;return r[t]?r[t].length:0};function initCurvenessList(t){getAutoCurvenessParams(t)&&(t.__curvenessList=[],t.__edgeMap={},createCurveness(t))}function createEdgeMapForCurveness(t,n,r,g){if(getAutoCurvenessParams(r)){var y=getKeyOfEdges(t,n,r),$=r.__edgeMap,L=$[getOppositeKey(y)];$[y]&&!L?$[y].isForward=!0:L&&$[y]&&(L.isForward=!0,$[y].isForward=!1),$[y]=$[y]||[],$[y].push(g)}}function getCurvenessForEdge(t,n,r,g){var y=getAutoCurvenessParams(n),$=isArray$1(y);if(!y)return null;var L=getEdgeFromMap(t,n);if(!L)return null;for(var V=-1,z=0;z<L.length;z++)if(L[z]===r){V=z;break}var j=getTotalLengthBetweenNodes(t,n);createCurveness(n,j),t.lineStyle=t.lineStyle||{};var re=getKeyOfEdges(t.node1,t.node2,n),ae=n.__curvenessList,oe=$||j%2?0:1;if(L.isForward)return ae[oe+V];var ie=getOppositeKey(re),le=getEdgeMapLengthWithKey(ie,n),ue=ae[V+le+oe];return g?$?y&&y[0]===0?(le+oe)%2?ue:-ue:((le%2?0:1)+oe)%2?ue:-ue:(le+oe)%2?ue:-ue:ae[V+le+oe]}function simpleLayout(t){var n=t.coordinateSystem;if(!(n&&n.type!=="view")){var r=t.getGraph();r.eachNode(function(g){var y=g.getModel();g.setLayout([+y.get("x"),+y.get("y")])}),simpleLayoutEdge(r,t)}}function simpleLayoutEdge(t,n){t.eachEdge(function(r,g){var y=retrieve3(r.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(r,n,g,!0),0),$=clone$3(r.node1.getLayout()),L=clone$3(r.node2.getLayout()),V=[$,L];+y&&V.push([($[0]+L[0])/2-($[1]-L[1])*y,($[1]+L[1])/2-(L[0]-$[0])*y]),r.setLayout(V)})}function graphSimpleLayout(t,n){t.eachSeriesByType("graph",function(r){var g=r.get("layout"),y=r.coordinateSystem;if(y&&y.type!=="view"){var $=r.getData(),L=[];each$f(y.dimensions,function(oe){L=L.concat($.mapDimensionsAll(oe))});for(var V=0;V<$.count();V++){for(var z=[],j=!1,re=0;re<L.length;re++){var ae=$.get(L[re],V);isNaN(ae)||(j=!0),z.push(ae)}j?$.setItemLayout(V,y.dataToPoint(z)):$.setItemLayout(V,[NaN,NaN])}simpleLayoutEdge($.graph,r)}else(!g||g==="none")&&simpleLayout(r)})}function getNodeGlobalScale(t){var n=t.coordinateSystem;if(n.type!=="view")return 1;var r=t.option.nodeScaleRatio,g=n.scaleX,y=n.getZoom(),$=(y-1)*r+1;return $/g}function getSymbolSize(t){var n=t.getVisual("symbolSize");return n instanceof Array&&(n=(n[0]+n[1])/2),+n}var PI$2=Math.PI,_symbolRadiansHalf=[];function circularLayout(t,n,r,g){var y=t.coordinateSystem;if(!(y&&y.type!=="view")){var $=y.getBoundingRect(),L=t.getData(),V=L.graph,z=$.width/2+$.x,j=$.height/2+$.y,re=Math.min($.width,$.height)/2,ae=L.count();if(L.setLayout({cx:z,cy:j}),!!ae){if(r){var oe=y.pointToData(g),ie=oe[0],le=oe[1],ue=[ie-z,le-j];normalize$3(ue,ue),scale$2(ue,ue,re),r.setLayout([z+ue[0],j+ue[1]],!0);var de=t.get(["circular","rotateLabel"]);rotateNodeLabel(r,de,z,j)}_layoutNodesBasedOn[n](t,V,L,re,z,j,ae),V.eachEdge(function(he,pe){var _e=retrieve3(he.getModel().get(["lineStyle","curveness"]),getCurvenessForEdge(he,t,pe),0),Ce=clone$3(he.node1.getLayout()),xe=clone$3(he.node2.getLayout()),Ie,$e=(Ce[0]+xe[0])/2,Oe=(Ce[1]+xe[1])/2;+_e&&(_e*=3,Ie=[z*_e+$e*(1-_e),j*_e+Oe*(1-_e)]),he.setLayout([Ce,xe,Ie])})}}}var _layoutNodesBasedOn={value:function(t,n,r,g,y,$,L){var V=0,z=r.getSum("value"),j=Math.PI*2/(z||L);n.eachNode(function(re){var ae=re.getValue("value"),oe=j*(z?ae:1)/2;V+=oe,re.setLayout([g*Math.cos(V)+y,g*Math.sin(V)+$]),V+=oe})},symbolSize:function(t,n,r,g,y,$,L){var V=0;_symbolRadiansHalf.length=L;var z=getNodeGlobalScale(t);n.eachNode(function(ae){var oe=getSymbolSize(ae);isNaN(oe)&&(oe=2),oe<0&&(oe=0),oe*=z;var ie=Math.asin(oe/2/g);isNaN(ie)&&(ie=PI$2/2),_symbolRadiansHalf[ae.dataIndex]=ie,V+=ie*2});var j=(2*PI$2-V)/L/2,re=0;n.eachNode(function(ae){var oe=j+_symbolRadiansHalf[ae.dataIndex];re+=oe,(!ae.getLayout()||!ae.getLayout().fixed)&&ae.setLayout([g*Math.cos(re)+y,g*Math.sin(re)+$]),re+=oe})}};function rotateNodeLabel(t,n,r,g){var y=t.getGraphicEl();if(y){var $=t.getModel(),L=$.get(["label","rotate"])||0,V=y.getSymbolPath();if(n){var z=t.getLayout(),j=Math.atan2(z[1]-g,z[0]-r);j<0&&(j=Math.PI*2+j);var re=z[0]<r;re&&(j=j-Math.PI);var ae=re?"left":"right";V.setTextConfig({rotation:-j,position:ae,origin:"center"});var oe=V.ensureState("emphasis");extend(oe.textConfig||(oe.textConfig={}),{position:ae})}else V.setTextConfig({rotation:L*=Math.PI/180})}}function graphCircularLayout(t){t.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&circularLayout(n,"symbolSize")})}var scaleAndAdd=scaleAndAdd$1;function forceLayout(t,n,r){for(var g=t,y=n,$=r.rect,L=$.width,V=$.height,z=[$.x+L/2,$.y+V/2],j=r.gravity==null?.1:r.gravity,re=0;re<g.length;re++){var ae=g[re];ae.p||(ae.p=create$2(L*(Math.random()-.5)+z[0],V*(Math.random()-.5)+z[1])),ae.pp=clone$3(ae.p),ae.edges=null}var oe=r.friction==null?.6:r.friction,ie=oe,le,ue;return{warmUp:function(){ie=oe*.8},setFixed:function(de){g[de].fixed=!0},setUnfixed:function(de){g[de].fixed=!1},beforeStep:function(de){le=de},afterStep:function(de){ue=de},step:function(de){le&&le(g,y);for(var he=[],pe=g.length,_e=0;_e<y.length;_e++){var Ce=y[_e];if(!Ce.ignoreForceLayout){var xe=Ce.n1,Ie=Ce.n2;sub(he,Ie.p,xe.p);var $e=len(he)-Ce.d,Oe=Ie.w/(xe.w+Ie.w);isNaN(Oe)&&(Oe=0),normalize$3(he,he),!xe.fixed&&scaleAndAdd(xe.p,xe.p,he,Oe*$e*ie),!Ie.fixed&&scaleAndAdd(Ie.p,Ie.p,he,-(1-Oe)*$e*ie)}}for(var _e=0;_e<pe;_e++){var Ne=g[_e];Ne.fixed||(sub(he,z,Ne.p),scaleAndAdd(Ne.p,Ne.p,he,j*ie))}for(var _e=0;_e<pe;_e++)for(var xe=g[_e],Fe=_e+1;Fe<pe;Fe++){var Ie=g[Fe];sub(he,Ie.p,xe.p);var $e=len(he);$e===0&&(set$1(he,Math.random()-.5,Math.random()-.5),$e=1);var Ve=(xe.rep+Ie.rep)/$e/$e;!xe.fixed&&scaleAndAdd(xe.pp,xe.pp,he,Ve),!Ie.fixed&&scaleAndAdd(Ie.pp,Ie.pp,he,-Ve)}for(var ze=[],_e=0;_e<pe;_e++){var Ne=g[_e];Ne.fixed||(sub(ze,Ne.p,Ne.pp),scaleAndAdd(Ne.p,Ne.p,ze,ie),copy$1(Ne.pp,Ne.p))}ie=ie*.992;var Et=ie<.01;ue&&ue(g,y,Et),de&&de(Et)}}}function graphForceLayout(t){t.eachSeriesByType("graph",function(n){var r=n.coordinateSystem;if(!(r&&r.type!=="view"))if(n.get("layout")==="force"){var g=n.preservedPoints||{},y=n.getGraph(),$=y.data,L=y.edgeData,V=n.getModel("force"),z=V.get("initLayout");n.preservedPoints?$.each(function(_e){var Ce=$.getId(_e);$.setItemLayout(_e,g[Ce]||[NaN,NaN])}):!z||z==="none"?simpleLayout(n):z==="circular"&&circularLayout(n,"value");var j=$.getDataExtent("value"),re=L.getDataExtent("value"),ae=V.get("repulsion"),oe=V.get("edgeLength"),ie=isArray$1(ae)?ae:[ae,ae],le=isArray$1(oe)?oe:[oe,oe];le=[le[1],le[0]];var ue=$.mapArray("value",function(_e,Ce){var xe=$.getItemLayout(Ce),Ie=linearMap$2(_e,j,ie);return isNaN(Ie)&&(Ie=(ie[0]+ie[1])/2),{w:Ie,rep:Ie,fixed:$.getItemModel(Ce).get("fixed"),p:!xe||isNaN(xe[0])||isNaN(xe[1])?null:xe}}),de=L.mapArray("value",function(_e,Ce){var xe=y.getEdgeByIndex(Ce),Ie=linearMap$2(_e,re,le);isNaN(Ie)&&(Ie=(le[0]+le[1])/2);var $e=xe.getModel(),Oe=retrieve3(xe.getModel().get(["lineStyle","curveness"]),-getCurvenessForEdge(xe,n,Ce,!0),0);return{n1:ue[xe.node1.dataIndex],n2:ue[xe.node2.dataIndex],d:Ie,curveness:Oe,ignoreForceLayout:$e.get("ignoreForceLayout")}}),he=r.getBoundingRect(),pe=forceLayout(ue,de,{rect:he,gravity:V.get("gravity"),friction:V.get("friction")});pe.beforeStep(function(_e,Ce){for(var xe=0,Ie=_e.length;xe<Ie;xe++)_e[xe].fixed&&copy$1(_e[xe].p,y.getNodeByIndex(xe).getLayout())}),pe.afterStep(function(_e,Ce,xe){for(var Ie=0,$e=_e.length;Ie<$e;Ie++)_e[Ie].fixed||y.getNodeByIndex(Ie).setLayout(_e[Ie].p),g[$.getId(Ie)]=_e[Ie].p;for(var Ie=0,$e=Ce.length;Ie<$e;Ie++){var Oe=Ce[Ie],Ne=y.getEdgeByIndex(Ie),Fe=Oe.n1.p,Ve=Oe.n2.p,ze=Ne.getLayout();ze=ze?ze.slice():[],ze[0]=ze[0]||[],ze[1]=ze[1]||[],copy$1(ze[0],Fe),copy$1(ze[1],Ve),+Oe.curveness&&(ze[2]=[(Fe[0]+Ve[0])/2-(Fe[1]-Ve[1])*Oe.curveness,(Fe[1]+Ve[1])/2-(Ve[0]-Fe[0])*Oe.curveness]),Ne.setLayout(ze)}}),n.forceLayout=pe,n.preservedPoints=g,pe.step()}else n.forceLayout=null})}function getViewRect$3(t,n,r){var g=extend(t.getBoxLayoutParams(),{aspect:r});return getLayoutRect(g,{width:n.getWidth(),height:n.getHeight()})}function createViewCoordSys(t,n){var r=[];return t.eachSeriesByType("graph",function(g){var y=g.get("coordinateSystem");if(!y||y==="view"){var $=g.getData(),L=$.mapArray(function(de){var he=$.getItemModel(de);return[+he.get("x"),+he.get("y")]}),V=[],z=[];fromPoints(L,V,z),z[0]-V[0]===0&&(z[0]+=1,V[0]-=1),z[1]-V[1]===0&&(z[1]+=1,V[1]-=1);var j=(z[0]-V[0])/(z[1]-V[1]),re=getViewRect$3(g,n,j);isNaN(j)&&(V=[re.x,re.y],z=[re.x+re.width,re.y+re.height]);var ae=z[0]-V[0],oe=z[1]-V[1],ie=re.width,le=re.height,ue=g.coordinateSystem=new View;ue.zoomLimit=g.get("scaleLimit"),ue.setBoundingRect(V[0],V[1],ae,oe),ue.setViewRect(re.x,re.y,ie,le),ue.setCenter(g.get("center"),n),ue.setZoom(g.get("zoom")),r.push(ue)}}),r}var straightLineProto=Line$1.prototype,bezierCurveProto=BezierCurve.prototype,StraightLineShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return t}();(function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n})(StraightLineShape);function isStraightLine(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var ECLinePath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="ec-line",g}return n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new StraightLineShape},n.prototype.buildPath=function(r,g){isStraightLine(g)?straightLineProto.buildPath.call(this,r,g):bezierCurveProto.buildPath.call(this,r,g)},n.prototype.pointAt=function(r){return isStraightLine(this.shape)?straightLineProto.pointAt.call(this,r):bezierCurveProto.pointAt.call(this,r)},n.prototype.tangentAt=function(r){var g=this.shape,y=isStraightLine(g)?[g.x2-g.x1,g.y2-g.y1]:bezierCurveProto.tangentAt.call(this,r);return normalize$3(y,y)},n}(Path),SYMBOL_CATEGORIES=["fromSymbol","toSymbol"];function makeSymbolTypeKey(t){return"_"+t+"Type"}function makeSymbolTypeValue(t,n,r){var g=n.getItemVisual(r,t);if(!g||g==="none")return g;var y=n.getItemVisual(r,t+"Size"),$=n.getItemVisual(r,t+"Rotate"),L=n.getItemVisual(r,t+"Offset"),V=n.getItemVisual(r,t+"KeepAspect"),z=normalizeSymbolSize(y),j=normalizeSymbolOffset(L||0,z);return g+z+j+($||"")+(V||"")}function createSymbol(t,n,r){var g=n.getItemVisual(r,t);if(!(!g||g==="none")){var y=n.getItemVisual(r,t+"Size"),$=n.getItemVisual(r,t+"Rotate"),L=n.getItemVisual(r,t+"Offset"),V=n.getItemVisual(r,t+"KeepAspect"),z=normalizeSymbolSize(y),j=normalizeSymbolOffset(L||0,z),re=createSymbol$1(g,-z[0]/2+j[0],-z[1]/2+j[1],z[0],z[1],null,V);return re.__specifiedRotation=$==null||isNaN($)?void 0:+$*Math.PI/180||0,re.name=t,re}}function createLine(t){var n=new ECLinePath({name:"line",subPixelOptimize:!0});return setLinePoints(n.shape,t),n}function setLinePoints(t,n){t.x1=n[0][0],t.y1=n[0][1],t.x2=n[1][0],t.y2=n[1][1],t.percent=1;var r=n[2];r?(t.cpx1=r[0],t.cpy1=r[1]):(t.cpx1=NaN,t.cpy1=NaN)}var Line=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this)||this;return $._createLine(r,g,y),$}return n.prototype._createLine=function(r,g,y){var $=r.hostModel,L=r.getItemLayout(g),V=createLine(L);V.shape.percent=0,initProps(V,{shape:{percent:1}},$,g),this.add(V),each$f(SYMBOL_CATEGORIES,function(z){var j=createSymbol(z,r,g);this.add(j),this[makeSymbolTypeKey(z)]=makeSymbolTypeValue(z,r,g)},this),this._updateCommonStl(r,g,y)},n.prototype.updateData=function(r,g,y){var $=r.hostModel,L=this.childOfName("line"),V=r.getItemLayout(g),z={shape:{}};setLinePoints(z.shape,V),updateProps$1(L,z,$,g),each$f(SYMBOL_CATEGORIES,function(j){var re=makeSymbolTypeValue(j,r,g),ae=makeSymbolTypeKey(j);if(this[ae]!==re){this.remove(this.childOfName(j));var oe=createSymbol(j,r,g);this.add(oe)}this[ae]=re},this),this._updateCommonStl(r,g,y)},n.prototype.getLinePath=function(){return this.childAt(0)},n.prototype._updateCommonStl=function(r,g,y){var $=r.hostModel,L=this.childOfName("line"),V=y&&y.emphasisLineStyle,z=y&&y.blurLineStyle,j=y&&y.selectLineStyle,re=y&&y.labelStatesModels,ae=y&&y.emphasisDisabled,oe=y&&y.focus,ie=y&&y.blurScope;if(!y||r.hasItemOption){var le=r.getItemModel(g),ue=le.getModel("emphasis");V=ue.getModel("lineStyle").getLineStyle(),z=le.getModel(["blur","lineStyle"]).getLineStyle(),j=le.getModel(["select","lineStyle"]).getLineStyle(),ae=ue.get("disabled"),oe=ue.get("focus"),ie=ue.get("blurScope"),re=getLabelStatesModels(le)}var de=r.getItemVisual(g,"style"),he=de.stroke;L.useStyle(de),L.style.fill=null,L.style.strokeNoScale=!0,L.ensureState("emphasis").style=V,L.ensureState("blur").style=z,L.ensureState("select").style=j,each$f(SYMBOL_CATEGORIES,function(Ie){var $e=this.childOfName(Ie);if($e){$e.setColor(he),$e.style.opacity=de.opacity;for(var Oe=0;Oe<SPECIAL_STATES.length;Oe++){var Ne=SPECIAL_STATES[Oe],Fe=L.getState(Ne);if(Fe){var Ve=Fe.style||{},ze=$e.ensureState(Ne),Et=ze.style||(ze.style={});Ve.stroke!=null&&(Et[$e.__isEmptyBrush?"stroke":"fill"]=Ve.stroke),Ve.opacity!=null&&(Et.opacity=Ve.opacity)}}$e.markRedraw()}},this);var pe=$.getRawValue(g);setLabelStyle(this,re,{labelDataIndex:g,labelFetcher:{getFormattedLabel:function(Ie,$e){return $.getFormattedLabel(Ie,$e,r.dataType)}},inheritColor:he||"#000",defaultOpacity:de.opacity,defaultText:(pe==null?r.getName(g):isFinite(pe)?round$3(pe):pe)+""});var _e=this.getTextContent();if(_e){var Ce=re.normal;_e.__align=_e.style.align,_e.__verticalAlign=_e.style.verticalAlign,_e.__position=Ce.get("position")||"middle";var xe=Ce.get("distance");isArray$1(xe)||(xe=[xe,xe]),_e.__labelDistance=xe}this.setTextConfig({position:null,local:!0,inside:!1}),toggleHoverEmphasis(this,oe,ie,ae)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.updateLayout=function(r,g){this.setLinePoints(r.getItemLayout(g))},n.prototype.setLinePoints=function(r){var g=this.childOfName("line");setLinePoints(g.shape,r),g.dirty()},n.prototype.beforeUpdate=function(){var r=this,g=r.childOfName("fromSymbol"),y=r.childOfName("toSymbol"),$=r.getTextContent();if(!g&&!y&&(!$||$.ignore))return;for(var L=1,V=this.parent;V;)V.scaleX&&(L/=V.scaleX),V=V.parent;var z=r.childOfName("line");if(!this.__dirty&&!z.__dirty)return;var j=z.shape.percent,re=z.pointAt(0),ae=z.pointAt(j),oe=sub([],ae,re);normalize$3(oe,oe);function ie(Fe,Ve){var ze=Fe.__specifiedRotation;if(ze==null){var Et=z.tangentAt(Ve);Fe.attr("rotation",(Ve===1?-1:1)*Math.PI/2-Math.atan2(Et[1],Et[0]))}else Fe.attr("rotation",ze)}if(g&&(g.setPosition(re),ie(g,0),g.scaleX=g.scaleY=L*j,g.markRedraw()),y&&(y.setPosition(ae),ie(y,1),y.scaleX=y.scaleY=L*j,y.markRedraw()),$&&!$.ignore){$.x=$.y=0,$.originX=$.originY=0;var le=void 0,ue=void 0,de=$.__labelDistance,he=de[0]*L,pe=de[1]*L,_e=j/2,Ce=z.tangentAt(_e),xe=[Ce[1],-Ce[0]],Ie=z.pointAt(_e);xe[1]>0&&(xe[0]=-xe[0],xe[1]=-xe[1]);var $e=Ce[0]<0?-1:1;if($.__position!=="start"&&$.__position!=="end"){var Oe=-Math.atan2(Ce[1],Ce[0]);ae[0]<re[0]&&(Oe=Math.PI+Oe),$.rotation=Oe}var Ne=void 0;switch($.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":Ne=-pe,ue="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":Ne=pe,ue="top";break;default:Ne=0,ue="middle"}switch($.__position){case"end":$.x=oe[0]*he+ae[0],$.y=oe[1]*pe+ae[1],le=oe[0]>.8?"left":oe[0]<-.8?"right":"center",ue=oe[1]>.8?"top":oe[1]<-.8?"bottom":"middle";break;case"start":$.x=-oe[0]*he+re[0],$.y=-oe[1]*pe+re[1],le=oe[0]>.8?"right":oe[0]<-.8?"left":"center",ue=oe[1]>.8?"bottom":oe[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":$.x=he*$e+re[0],$.y=re[1]+Ne,le=Ce[0]<0?"right":"left",$.originX=-he*$e,$.originY=-Ne;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":$.x=Ie[0],$.y=Ie[1]+Ne,le="center",$.originY=-Ne;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":$.x=-he*$e+ae[0],$.y=ae[1]+Ne,le=Ce[0]>=0?"right":"left",$.originX=he*$e,$.originY=-Ne;break}$.scaleX=$.scaleY=L,$.setStyle({verticalAlign:$.__verticalAlign||ue,align:$.__align||le})}},n}(Group$3),LineDraw=function(){function t(n){this.group=new Group$3,this._LineCtor=n||Line}return t.prototype.updateData=function(n){var r=this;this._progressiveEls=null;var g=this,y=g.group,$=g._lineData;g._lineData=n,$||y.removeAll();var L=makeSeriesScope$1(n);n.diff($).add(function(V){r._doAdd(n,V,L)}).update(function(V,z){r._doUpdate($,n,z,V,L)}).remove(function(V){y.remove($.getItemGraphicEl(V))}).execute()},t.prototype.updateLayout=function(){var n=this._lineData;n&&n.eachItemGraphicEl(function(r,g){r.updateLayout(n,g)},this)},t.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=makeSeriesScope$1(n),this._lineData=null,this.group.removeAll()},t.prototype.incrementalUpdate=function(n,r){this._progressiveEls=[];function g(V){!V.isGroup&&!isEffectObject(V)&&(V.incremental=!0,V.ensureState("emphasis").hoverLayer=!0)}for(var y=n.start;y<n.end;y++){var $=r.getItemLayout(y);if(lineNeedsDraw($)){var L=new this._LineCtor(r,y,this._seriesScope);L.traverse(g),this.group.add(L),r.setItemGraphicEl(y,L),this._progressiveEls.push(L)}}},t.prototype.remove=function(){this.group.removeAll()},t.prototype.eachRendered=function(n){traverseElements(this._progressiveEls||this.group,n)},t.prototype._doAdd=function(n,r,g){var y=n.getItemLayout(r);if(lineNeedsDraw(y)){var $=new this._LineCtor(n,r,g);n.setItemGraphicEl(r,$),this.group.add($)}},t.prototype._doUpdate=function(n,r,g,y,$){var L=n.getItemGraphicEl(g);if(!lineNeedsDraw(r.getItemLayout(y))){this.group.remove(L);return}L?L.updateData(r,y,$):L=new this._LineCtor(r,y,$),r.setItemGraphicEl(y,L),this.group.add(L)},t}();function isEffectObject(t){return t.animators&&t.animators.length>0}function makeSeriesScope$1(t){var n=t.hostModel,r=n.getModel("emphasis");return{lineStyle:n.getModel("lineStyle").getLineStyle(),emphasisLineStyle:r.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:n.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:n.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:r.get("disabled"),blurScope:r.get("blurScope"),focus:r.get("focus"),labelStatesModels:getLabelStatesModels(n)}}function isPointNaN(t){return isNaN(t[0])||isNaN(t[1])}function lineNeedsDraw(t){return t&&!isPointNaN(t[0])&&!isPointNaN(t[1])}var v1=[],v2=[],v3=[],quadraticAt=quadraticAt$1,v2DistSquare=distSquare,mathAbs=Math.abs;function intersectCurveCircle(t,n,r){for(var g=t[0],y=t[1],$=t[2],L=1/0,V,z=r*r,j=.1,re=.1;re<=.9;re+=.1){v1[0]=quadraticAt(g[0],y[0],$[0],re),v1[1]=quadraticAt(g[1],y[1],$[1],re);var ae=mathAbs(v2DistSquare(v1,n)-z);ae<L&&(L=ae,V=re)}for(var oe=0;oe<32;oe++){var ie=V+j;v2[0]=quadraticAt(g[0],y[0],$[0],V),v2[1]=quadraticAt(g[1],y[1],$[1],V),v3[0]=quadraticAt(g[0],y[0],$[0],ie),v3[1]=quadraticAt(g[1],y[1],$[1],ie);var ae=v2DistSquare(v2,n)-z;if(mathAbs(ae)<.01)break;var le=v2DistSquare(v3,n)-z;j/=2,ae<0?le>=0?V=V+j:V=V-j:le>=0?V=V-j:V=V+j}return V}function adjustEdge(t,n){var r=[],g=quadraticSubdivide,y=[[],[],[]],$=[[],[]],L=[];n/=2,t.eachEdge(function(V,z){var j=V.getLayout(),re=V.getVisual("fromSymbol"),ae=V.getVisual("toSymbol");j.__original||(j.__original=[clone$3(j[0]),clone$3(j[1])],j[2]&&j.__original.push(clone$3(j[2])));var oe=j.__original;if(j[2]!=null){if(copy$1(y[0],oe[0]),copy$1(y[1],oe[2]),copy$1(y[2],oe[1]),re&&re!=="none"){var ie=getSymbolSize(V.node1),le=intersectCurveCircle(y,oe[0],ie*n);g(y[0][0],y[1][0],y[2][0],le,r),y[0][0]=r[3],y[1][0]=r[4],g(y[0][1],y[1][1],y[2][1],le,r),y[0][1]=r[3],y[1][1]=r[4]}if(ae&&ae!=="none"){var ie=getSymbolSize(V.node2),le=intersectCurveCircle(y,oe[1],ie*n);g(y[0][0],y[1][0],y[2][0],le,r),y[1][0]=r[1],y[2][0]=r[2],g(y[0][1],y[1][1],y[2][1],le,r),y[1][1]=r[1],y[2][1]=r[2]}copy$1(j[0],y[0]),copy$1(j[1],y[2]),copy$1(j[2],y[1])}else{if(copy$1($[0],oe[0]),copy$1($[1],oe[1]),sub(L,$[1],$[0]),normalize$3(L,L),re&&re!=="none"){var ie=getSymbolSize(V.node1);scaleAndAdd$1($[0],$[0],L,ie*n)}if(ae&&ae!=="none"){var ie=getSymbolSize(V.node2);scaleAndAdd$1($[1],$[1],L,-ie*n)}copy$1(j[0],$[0]),copy$1(j[1],$[1])}})}function isViewCoordSys(t){return t.type==="view"}var GraphView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g){var y=new SymbolDraw,$=new LineDraw,L=this.group;this._controller=new RoamController(g.getZr()),this._controllerHost={target:L},L.add(y.group),L.add($.group),this._symbolDraw=y,this._lineDraw=$,this._firstRender=!0},n.prototype.render=function(r,g,y){var $=this,L=r.coordinateSystem;this._model=r;var V=this._symbolDraw,z=this._lineDraw,j=this.group;if(isViewCoordSys(L)){var re={x:L.x,y:L.y,scaleX:L.scaleX,scaleY:L.scaleY};this._firstRender?j.attr(re):updateProps$1(j,re,r)}adjustEdge(r.getGraph(),getNodeGlobalScale(r));var ae=r.getData();V.updateData(ae);var oe=r.getEdgeData();z.updateData(oe),this._updateNodeAndLinkScale(),this._updateController(r,g,y),clearTimeout(this._layoutTimeout);var ie=r.forceLayout,le=r.get(["force","layoutAnimation"]);ie&&this._startForceLayoutIteration(ie,le);var ue=r.get("layout");ae.graph.eachNode(function(_e){var Ce=_e.dataIndex,xe=_e.getGraphicEl(),Ie=_e.getModel();if(xe){xe.off("drag").off("dragend");var $e=Ie.get("draggable");$e&&xe.on("drag",function(Ne){switch(ue){case"force":ie.warmUp(),!$._layouting&&$._startForceLayoutIteration(ie,le),ie.setFixed(Ce),ae.setItemLayout(Ce,[xe.x,xe.y]);break;case"circular":ae.setItemLayout(Ce,[xe.x,xe.y]),_e.setLayout({fixed:!0},!0),circularLayout(r,"symbolSize",_e,[Ne.offsetX,Ne.offsetY]),$.updateLayout(r);break;case"none":default:ae.setItemLayout(Ce,[xe.x,xe.y]),simpleLayoutEdge(r.getGraph(),r),$.updateLayout(r);break}}).on("dragend",function(){ie&&ie.setUnfixed(Ce)}),xe.setDraggable($e,!!Ie.get("cursor"));var Oe=Ie.get(["emphasis","focus"]);Oe==="adjacency"&&(getECData(xe).focus=_e.getAdjacentDataIndices())}}),ae.graph.eachEdge(function(_e){var Ce=_e.getGraphicEl(),xe=_e.getModel().get(["emphasis","focus"]);Ce&&xe==="adjacency"&&(getECData(Ce).focus={edge:[_e.dataIndex],node:[_e.node1.dataIndex,_e.node2.dataIndex]})});var de=r.get("layout")==="circular"&&r.get(["circular","rotateLabel"]),he=ae.getLayout("cx"),pe=ae.getLayout("cy");ae.graph.eachNode(function(_e){rotateNodeLabel(_e,de,he,pe)}),this._firstRender=!1},n.prototype.dispose=function(){this.remove(),this._controller&&this._controller.dispose(),this._controllerHost=null},n.prototype._startForceLayoutIteration=function(r,g){var y=this;(function $(){r.step(function(L){y.updateLayout(y._model),(y._layouting=!L)&&(g?y._layoutTimeout=setTimeout($,16):$())})})()},n.prototype._updateController=function(r,g,y){var $=this,L=this._controller,V=this._controllerHost,z=this.group;if(L.setPointerChecker(function(j,re,ae){var oe=z.getBoundingRect();return oe.applyTransform(z.transform),oe.contain(re,ae)&&!onIrrelevantElement(j,y,r)}),!isViewCoordSys(r.coordinateSystem)){L.disable();return}L.enable(r.get("roam")),V.zoomLimit=r.get("scaleLimit"),V.zoom=r.coordinateSystem.getZoom(),L.off("pan").off("zoom").on("pan",function(j){updateViewOnPan(V,j.dx,j.dy),y.dispatchAction({seriesId:r.id,type:"graphRoam",dx:j.dx,dy:j.dy})}).on("zoom",function(j){updateViewOnZoom(V,j.scale,j.originX,j.originY),y.dispatchAction({seriesId:r.id,type:"graphRoam",zoom:j.scale,originX:j.originX,originY:j.originY}),$._updateNodeAndLinkScale(),adjustEdge(r.getGraph(),getNodeGlobalScale(r)),$._lineDraw.updateLayout(),y.updateLabelLayout()})},n.prototype._updateNodeAndLinkScale=function(){var r=this._model,g=r.getData(),y=getNodeGlobalScale(r);g.eachItemGraphicEl(function($,L){$&&$.setSymbolScale(y)})},n.prototype.updateLayout=function(r){adjustEdge(r.getGraph(),getNodeGlobalScale(r)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},n.prototype.remove=function(){clearTimeout(this._layoutTimeout),this._layouting=!1,this._layoutTimeout=null,this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},n.type="graph",n}(ChartView);function generateNodeKey(t){return"_EC_"+t}var Graph=function(){function t(n){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=n||!1}return t.prototype.isDirected=function(){return this._directed},t.prototype.addNode=function(n,r){n=n==null?""+r:""+n;var g=this._nodesMap;if(!g[generateNodeKey(n)]){var y=new GraphNode(n,r);return y.hostGraph=this,this.nodes.push(y),g[generateNodeKey(n)]=y,y}},t.prototype.getNodeByIndex=function(n){var r=this.data.getRawIndex(n);return this.nodes[r]},t.prototype.getNodeById=function(n){return this._nodesMap[generateNodeKey(n)]},t.prototype.addEdge=function(n,r,g){var y=this._nodesMap,$=this._edgesMap;if(isNumber(n)&&(n=this.nodes[n]),isNumber(r)&&(r=this.nodes[r]),n instanceof GraphNode||(n=y[generateNodeKey(n)]),r instanceof GraphNode||(r=y[generateNodeKey(r)]),!(!n||!r)){var L=n.id+"-"+r.id,V=new GraphEdge(n,r,g);return V.hostGraph=this,this._directed&&(n.outEdges.push(V),r.inEdges.push(V)),n.edges.push(V),n!==r&&r.edges.push(V),this.edges.push(V),$[L]=V,V}},t.prototype.getEdgeByIndex=function(n){var r=this.edgeData.getRawIndex(n);return this.edges[r]},t.prototype.getEdge=function(n,r){n instanceof GraphNode&&(n=n.id),r instanceof GraphNode&&(r=r.id);var g=this._edgesMap;return this._directed?g[n+"-"+r]:g[n+"-"+r]||g[r+"-"+n]},t.prototype.eachNode=function(n,r){for(var g=this.nodes,y=g.length,$=0;$<y;$++)g[$].dataIndex>=0&&n.call(r,g[$],$)},t.prototype.eachEdge=function(n,r){for(var g=this.edges,y=g.length,$=0;$<y;$++)g[$].dataIndex>=0&&g[$].node1.dataIndex>=0&&g[$].node2.dataIndex>=0&&n.call(r,g[$],$)},t.prototype.breadthFirstTraverse=function(n,r,g,y){if(r instanceof GraphNode||(r=this._nodesMap[generateNodeKey(r)]),!!r){for(var $=g==="out"?"outEdges":g==="in"?"inEdges":"edges",L=0;L<this.nodes.length;L++)this.nodes[L].__visited=!1;if(!n.call(y,r,null))for(var V=[r];V.length;)for(var z=V.shift(),j=z[$],L=0;L<j.length;L++){var re=j[L],ae=re.node1===z?re.node2:re.node1;if(!ae.__visited){if(n.call(y,ae,z))return;V.push(ae),ae.__visited=!0}}}},t.prototype.update=function(){for(var n=this.data,r=this.edgeData,g=this.nodes,y=this.edges,$=0,L=g.length;$<L;$++)g[$].dataIndex=-1;for(var $=0,L=n.count();$<L;$++)g[n.getRawIndex($)].dataIndex=$;r.filterSelf(function(V){var z=y[r.getRawIndex(V)];return z.node1.dataIndex>=0&&z.node2.dataIndex>=0});for(var $=0,L=y.length;$<L;$++)y[$].dataIndex=-1;for(var $=0,L=r.count();$<L;$++)y[r.getRawIndex($)].dataIndex=$},t.prototype.clone=function(){for(var n=new t(this._directed),r=this.nodes,g=this.edges,y=0;y<r.length;y++)n.addNode(r[y].id,r[y].dataIndex);for(var y=0;y<g.length;y++){var $=g[y];n.addEdge($.node1.id,$.node2.id,$.dataIndex)}return n},t}(),GraphNode=function(){function t(n,r){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=n??"",this.dataIndex=r??-1}return t.prototype.degree=function(){return this.edges.length},t.prototype.inDegree=function(){return this.inEdges.length},t.prototype.outDegree=function(){return this.outEdges.length},t.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,g=r.data.getItemModel(this.dataIndex);return g.getModel(n)}},t.prototype.getAdjacentDataIndices=function(){for(var n={edge:[],node:[]},r=0;r<this.edges.length;r++){var g=this.edges[r];g.dataIndex<0||(n.edge.push(g.dataIndex),n.node.push(g.node1.dataIndex,g.node2.dataIndex))}return n},t.prototype.getTrajectoryDataIndices=function(){for(var n=createHashMap(),r=createHashMap(),g=0;g<this.edges.length;g++){var y=this.edges[g];if(!(y.dataIndex<0)){n.set(y.dataIndex,!0);for(var $=[y.node1],L=[y.node2],V=0;V<$.length;){var z=$[V];V++,r.set(z.dataIndex,!0);for(var j=0;j<z.inEdges.length;j++)n.set(z.inEdges[j].dataIndex,!0),$.push(z.inEdges[j].node1)}for(V=0;V<L.length;){var re=L[V];V++,r.set(re.dataIndex,!0);for(var j=0;j<re.outEdges.length;j++)n.set(re.outEdges[j].dataIndex,!0),L.push(re.outEdges[j].node2)}}}return{edge:n.keys(),node:r.keys()}},t}(),GraphEdge=function(){function t(n,r,g){this.dataIndex=-1,this.node1=n,this.node2=r,this.dataIndex=g??-1}return t.prototype.getModel=function(n){if(!(this.dataIndex<0)){var r=this.hostGraph,g=r.edgeData.getItemModel(this.dataIndex);return g.getModel(n)}},t.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},t.prototype.getTrajectoryDataIndices=function(){var n=createHashMap(),r=createHashMap();n.set(this.dataIndex,!0);for(var g=[this.node1],y=[this.node2],$=0;$<g.length;){var L=g[$];$++,r.set(L.dataIndex,!0);for(var V=0;V<L.inEdges.length;V++)n.set(L.inEdges[V].dataIndex,!0),g.push(L.inEdges[V].node1)}for($=0;$<y.length;){var z=y[$];$++,r.set(z.dataIndex,!0);for(var V=0;V<z.outEdges.length;V++)n.set(z.outEdges[V].dataIndex,!0),y.push(z.outEdges[V].node2)}return{edge:n.keys(),node:r.keys()}},t}();function createGraphDataProxyMixin(t,n){return{getValue:function(r){var g=this[t][n];return g.getStore().get(g.getDimensionIndex(r||"value"),this.dataIndex)},setVisual:function(r,g){this.dataIndex>=0&&this[t][n].setItemVisual(this.dataIndex,r,g)},getVisual:function(r){return this[t][n].getItemVisual(this.dataIndex,r)},setLayout:function(r,g){this.dataIndex>=0&&this[t][n].setItemLayout(this.dataIndex,r,g)},getLayout:function(){return this[t][n].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[t][n].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[t][n].getRawIndex(this.dataIndex)}}}mixin(GraphNode,createGraphDataProxyMixin("hostGraph","data"));mixin(GraphEdge,createGraphDataProxyMixin("hostGraph","edgeData"));function createGraphFromNodeEdge(t,n,r,g,y){for(var $=new Graph(g),L=0;L<t.length;L++)$.addNode(retrieve(t[L].id,t[L].name,L),L);for(var V=[],z=[],j=0,L=0;L<n.length;L++){var re=n[L],ae=re.source,oe=re.target;$.addEdge(ae,oe,j)&&(z.push(re),V.push(retrieve(convertOptionIdName(re.id,null),ae+" > "+oe)),j++)}var ie=r.get("coordinateSystem"),le;if(ie==="cartesian2d"||ie==="polar")le=createSeriesData(t,r);else{var ue=CoordinateSystemManager.get(ie),de=ue?ue.dimensions||[]:[];indexOf(de,"value")<0&&de.concat(["value"]);var he=prepareSeriesDataSchema(t,{coordDimensions:de,encodeDefine:r.getEncode()}).dimensions;le=new SeriesData(he,r),le.initData(t)}var pe=new SeriesData(["value"],r);return pe.initData(z,V),y&&y(le,pe),linkSeriesData({mainData:le,struct:$,structAttr:"graph",datas:{node:le,edge:pe},datasAttr:{node:"data",edge:"edgeData"}}),$.update(),$}var GraphSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.init=function(r){t.prototype.init.apply(this,arguments);var g=this;function y(){return g._categoriesData}this.legendVisualProvider=new LegendVisualProvider(y,y),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(r.edges||r.links),this._updateCategoriesData()},n.prototype.mergeDefaultAndTheme=function(r){t.prototype.mergeDefaultAndTheme.apply(this,arguments),defaultEmphasis(r,"edgeLabel",["show"])},n.prototype.getInitialData=function(r,g){var y=r.edges||r.links||[],$=r.data||r.nodes||[],L=this;if($&&y){initCurvenessList(this);var V=createGraphFromNodeEdge($,y,this,!0,z);return each$f(V.edges,function(j){createEdgeMapForCurveness(j.node1,j.node2,this,j.dataIndex)},this),V.data}function z(j,re){j.wrapMethod("getItemModel",function(le){var ue=L._categoriesModels,de=le.getShallow("category"),he=ue[de];return he&&(he.parentModel=le.parentModel,le.parentModel=he),le});var ae=Model.prototype.getModel;function oe(le,ue){var de=ae.call(this,le,ue);return de.resolveParentPath=ie,de}re.wrapMethod("getItemModel",function(le){return le.resolveParentPath=ie,le.getModel=oe,le});function ie(le){if(le&&(le[0]==="label"||le[1]==="label")){var ue=le.slice();return le[0]==="label"?ue[0]="edgeLabel":le[1]==="label"&&(ue[1]="edgeLabel"),ue}return le}}},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.getCategoriesData=function(){return this._categoriesData},n.prototype.formatTooltip=function(r,g,y){if(y==="edge"){var $=this.getData(),L=this.getDataParams(r,y),V=$.graph.getEdgeByIndex(r),z=$.getName(V.node1.dataIndex),j=$.getName(V.node2.dataIndex),re=[];return z!=null&&re.push(z),j!=null&&re.push(j),createTooltipMarkup("nameValue",{name:re.join(" > "),value:L.value,noValue:L.value==null})}var ae=defaultSeriesFormatTooltip({series:this,dataIndex:r,multipleSeries:g});return ae},n.prototype._updateCategoriesData=function(){var r=map$1(this.option.categories||[],function(y){return y.value!=null?y:extend({value:0},y)}),g=new SeriesData(["value"],this);g.initData(r),this._categoriesData=g,this._categoriesModels=g.mapArray(function(y){return g.getItemModel(y)})},n.prototype.setZoom=function(r){this.option.zoom=r},n.prototype.setCenter=function(r){this.option.center=r},n.prototype.isAnimationEnabled=function(){return t.prototype.isAnimationEnabled.call(this)&&!(this.get("layout")==="force"&&this.get(["force","layoutAnimation"]))},n.type="series.graph",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel),actionInfo$1={type:"graphRoam",event:"graphRoam",update:"none"};function install$F(t){t.registerChartView(GraphView),t.registerSeriesModel(GraphSeriesModel),t.registerProcessor(categoryFilter),t.registerVisual(categoryVisual),t.registerVisual(graphEdgeVisual),t.registerLayout(graphSimpleLayout),t.registerLayout(t.PRIORITY.VISUAL.POST_CHART_LAYOUT,graphCircularLayout),t.registerLayout(graphForceLayout),t.registerCoordinateSystem("graphView",{dimensions:View.dimensions,create:createViewCoordSys}),t.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},noop),t.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},noop),t.registerAction(actionInfo$1,function(n,r,g){r.eachComponent({mainType:"series",query:n},function(y){var $=y.coordinateSystem,L=updateCenterAndZoom($,n,void 0,g);y.setCenter&&y.setCenter(L.center),y.setZoom&&y.setZoom(L.zoom)})})}var PointerShape=function(){function t(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0}return t}(),PointerPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="pointer",g}return n.prototype.getDefaultShape=function(){return new PointerShape},n.prototype.buildPath=function(r,g){var y=Math.cos,$=Math.sin,L=g.r,V=g.width,z=g.angle,j=g.x-y(z)*V*(V>=L/3?1:2),re=g.y-$(z)*V*(V>=L/3?1:2);z=g.angle-Math.PI/2,r.moveTo(j,re),r.lineTo(g.x+y(z)*V,g.y+$(z)*V),r.lineTo(g.x+y(g.angle)*L,g.y+$(g.angle)*L),r.lineTo(g.x-y(z)*V,g.y-$(z)*V),r.lineTo(j,re)},n}(Path);function parsePosition(t,n){var r=t.get("center"),g=n.getWidth(),y=n.getHeight(),$=Math.min(g,y),L=parsePercent(r[0],n.getWidth()),V=parsePercent(r[1],n.getHeight()),z=parsePercent(t.get("radius"),$/2);return{cx:L,cy:V,r:z}}function formatLabel(t,n){var r=t==null?"":t+"";return n&&(isString(n)?r=n.replace("{value}",r):isFunction(n)&&(r=n(t))),r}var GaugeView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){this.group.removeAll();var $=r.get(["axisLine","lineStyle","color"]),L=parsePosition(r,y);this._renderMain(r,g,y,$,L),this._data=r.getData()},n.prototype.dispose=function(){},n.prototype._renderMain=function(r,g,y,$,L){var V=this.group,z=r.get("clockwise"),j=-r.get("startAngle")/180*Math.PI,re=-r.get("endAngle")/180*Math.PI,ae=r.getModel("axisLine"),oe=ae.get("roundCap"),ie=oe?SausagePath:Sector,le=ae.get("show"),ue=ae.getModel("lineStyle"),de=ue.get("width"),he=[j,re];normalizeArcAngles(he,!z),j=he[0],re=he[1];for(var pe=re-j,_e=j,Ce=[],xe=0;le&&xe<$.length;xe++){var Ie=Math.min(Math.max($[xe][0],0),1);re=j+pe*Ie;var $e=new ie({shape:{startAngle:_e,endAngle:re,cx:L.cx,cy:L.cy,clockwise:z,r0:L.r-de,r:L.r},silent:!0});$e.setStyle({fill:$[xe][1]}),$e.setStyle(ue.getLineStyle(["color","width"])),Ce.push($e),_e=re}Ce.reverse(),each$f(Ce,function(Ne){return V.add(Ne)});var Oe=function(Ne){if(Ne<=0)return $[0][1];var Fe;for(Fe=0;Fe<$.length;Fe++)if($[Fe][0]>=Ne&&(Fe===0?0:$[Fe-1][0])<Ne)return $[Fe][1];return $[Fe-1][1]};this._renderTicks(r,g,y,Oe,L,j,re,z,de),this._renderTitleAndDetail(r,g,y,Oe,L),this._renderAnchor(r,L),this._renderPointer(r,g,y,Oe,L,j,re,z,de)},n.prototype._renderTicks=function(r,g,y,$,L,V,z,j,re){for(var ae=this.group,oe=L.cx,ie=L.cy,le=L.r,ue=+r.get("min"),de=+r.get("max"),he=r.getModel("splitLine"),pe=r.getModel("axisTick"),_e=r.getModel("axisLabel"),Ce=r.get("splitNumber"),xe=pe.get("splitNumber"),Ie=parsePercent(he.get("length"),le),$e=parsePercent(pe.get("length"),le),Oe=V,Ne=(z-V)/Ce,Fe=Ne/xe,Ve=he.getModel("lineStyle").getLineStyle(),ze=pe.getModel("lineStyle").getLineStyle(),Et=he.get("distance"),Dt,Ue,qe=0;qe<=Ce;qe++){if(Dt=Math.cos(Oe),Ue=Math.sin(Oe),he.get("show")){var Lt=Et?Et+re:re,Pt=new Line$1({shape:{x1:Dt*(le-Lt)+oe,y1:Ue*(le-Lt)+ie,x2:Dt*(le-Ie-Lt)+oe,y2:Ue*(le-Ie-Lt)+ie},style:Ve,silent:!0});Ve.stroke==="auto"&&Pt.setStyle({stroke:$(qe/Ce)}),ae.add(Pt)}if(_e.get("show")){var Lt=_e.get("distance")+Et,At=formatLabel(round$3(qe/Ce*(de-ue)+ue),_e.get("formatter")),vn=$(qe/Ce),En=Dt*(le-Ie-Lt)+oe,Sn=Ue*(le-Ie-Lt)+ie,kt=_e.get("rotate"),jt=0;kt==="radial"?(jt=-Oe+2*Math.PI,jt>Math.PI/2&&(jt+=Math.PI)):kt==="tangential"?jt=-Oe-Math.PI/2:isNumber(kt)&&(jt=kt*Math.PI/180),jt===0?ae.add(new ZRText({style:createTextStyle(_e,{text:At,x:En,y:Sn,verticalAlign:Ue<-.8?"top":Ue>.8?"bottom":"middle",align:Dt<-.4?"left":Dt>.4?"right":"center"},{inheritColor:vn}),silent:!0})):ae.add(new ZRText({style:createTextStyle(_e,{text:At,x:En,y:Sn,verticalAlign:"middle",align:"center"},{inheritColor:vn}),silent:!0,originX:En,originY:Sn,rotation:jt}))}if(pe.get("show")&&qe!==Ce){var Lt=pe.get("distance");Lt=Lt?Lt+re:re;for(var _n=0;_n<=xe;_n++){Dt=Math.cos(Oe),Ue=Math.sin(Oe);var wn=new Line$1({shape:{x1:Dt*(le-Lt)+oe,y1:Ue*(le-Lt)+ie,x2:Dt*(le-$e-Lt)+oe,y2:Ue*(le-$e-Lt)+ie},silent:!0,style:ze});ze.stroke==="auto"&&wn.setStyle({stroke:$((qe+_n/xe)/Ce)}),ae.add(wn),Oe+=Fe}Oe-=Fe}else Oe+=Ne}},n.prototype._renderPointer=function(r,g,y,$,L,V,z,j,re){var ae=this.group,oe=this._data,ie=this._progressEls,le=[],ue=r.get(["pointer","show"]),de=r.getModel("progress"),he=de.get("show"),pe=r.getData(),_e=pe.mapDimension("value"),Ce=+r.get("min"),xe=+r.get("max"),Ie=[Ce,xe],$e=[V,z];function Oe(Fe,Ve){var ze=pe.getItemModel(Fe),Et=ze.getModel("pointer"),Dt=parsePercent(Et.get("width"),L.r),Ue=parsePercent(Et.get("length"),L.r),qe=r.get(["pointer","icon"]),Lt=Et.get("offsetCenter"),Pt=parsePercent(Lt[0],L.r),At=parsePercent(Lt[1],L.r),vn=Et.get("keepAspect"),En;return qe?En=createSymbol$1(qe,Pt-Dt/2,At-Ue,Dt,Ue,null,vn):En=new PointerPath({shape:{angle:-Math.PI/2,width:Dt,r:Ue,x:Pt,y:At}}),En.rotation=-(Ve+Math.PI/2),En.x=L.cx,En.y=L.cy,En}function Ne(Fe,Ve){var ze=de.get("roundCap"),Et=ze?SausagePath:Sector,Dt=de.get("overlap"),Ue=Dt?de.get("width"):re/pe.count(),qe=Dt?L.r-Ue:L.r-(Fe+1)*Ue,Lt=Dt?L.r:L.r-Fe*Ue,Pt=new Et({shape:{startAngle:V,endAngle:Ve,cx:L.cx,cy:L.cy,clockwise:j,r0:qe,r:Lt}});return Dt&&(Pt.z2=linearMap$2(pe.get(_e,Fe),[Ce,xe],[100,0],!0)),Pt}(he||ue)&&(pe.diff(oe).add(function(Fe){var Ve=pe.get(_e,Fe);if(ue){var ze=Oe(Fe,V);initProps(ze,{rotation:-((isNaN(+Ve)?$e[0]:linearMap$2(Ve,Ie,$e,!0))+Math.PI/2)},r),ae.add(ze),pe.setItemGraphicEl(Fe,ze)}if(he){var Et=Ne(Fe,V),Dt=de.get("clip");initProps(Et,{shape:{endAngle:linearMap$2(Ve,Ie,$e,Dt)}},r),ae.add(Et),setCommonECData(r.seriesIndex,pe.dataType,Fe,Et),le[Fe]=Et}}).update(function(Fe,Ve){var ze=pe.get(_e,Fe);if(ue){var Et=oe.getItemGraphicEl(Ve),Dt=Et?Et.rotation:V,Ue=Oe(Fe,Dt);Ue.rotation=Dt,updateProps$1(Ue,{rotation:-((isNaN(+ze)?$e[0]:linearMap$2(ze,Ie,$e,!0))+Math.PI/2)},r),ae.add(Ue),pe.setItemGraphicEl(Fe,Ue)}if(he){var qe=ie[Ve],Lt=qe?qe.shape.endAngle:V,Pt=Ne(Fe,Lt),At=de.get("clip");updateProps$1(Pt,{shape:{endAngle:linearMap$2(ze,Ie,$e,At)}},r),ae.add(Pt),setCommonECData(r.seriesIndex,pe.dataType,Fe,Pt),le[Fe]=Pt}}).execute(),pe.each(function(Fe){var Ve=pe.getItemModel(Fe),ze=Ve.getModel("emphasis"),Et=ze.get("focus"),Dt=ze.get("blurScope"),Ue=ze.get("disabled");if(ue){var qe=pe.getItemGraphicEl(Fe),Lt=pe.getItemVisual(Fe,"style"),Pt=Lt.fill;if(qe instanceof ZRImage){var At=qe.style;qe.useStyle(extend({image:At.image,x:At.x,y:At.y,width:At.width,height:At.height},Lt))}else qe.useStyle(Lt),qe.type!=="pointer"&&qe.setColor(Pt);qe.setStyle(Ve.getModel(["pointer","itemStyle"]).getItemStyle()),qe.style.fill==="auto"&&qe.setStyle("fill",$(linearMap$2(pe.get(_e,Fe),Ie,[0,1],!0))),qe.z2EmphasisLift=0,setStatesStylesFromModel(qe,Ve),toggleHoverEmphasis(qe,Et,Dt,Ue)}if(he){var vn=le[Fe];vn.useStyle(pe.getItemVisual(Fe,"style")),vn.setStyle(Ve.getModel(["progress","itemStyle"]).getItemStyle()),vn.z2EmphasisLift=0,setStatesStylesFromModel(vn,Ve),toggleHoverEmphasis(vn,Et,Dt,Ue)}}),this._progressEls=le)},n.prototype._renderAnchor=function(r,g){var y=r.getModel("anchor"),$=y.get("show");if($){var L=y.get("size"),V=y.get("icon"),z=y.get("offsetCenter"),j=y.get("keepAspect"),re=createSymbol$1(V,g.cx-L/2+parsePercent(z[0],g.r),g.cy-L/2+parsePercent(z[1],g.r),L,L,null,j);re.z2=y.get("showAbove")?1:0,re.setStyle(y.getModel("itemStyle").getItemStyle()),this.group.add(re)}},n.prototype._renderTitleAndDetail=function(r,g,y,$,L){var V=this,z=r.getData(),j=z.mapDimension("value"),re=+r.get("min"),ae=+r.get("max"),oe=new Group$3,ie=[],le=[],ue=r.isAnimationEnabled(),de=r.get(["pointer","showAbove"]);z.diff(this._data).add(function(he){ie[he]=new ZRText({silent:!0}),le[he]=new ZRText({silent:!0})}).update(function(he,pe){ie[he]=V._titleEls[pe],le[he]=V._detailEls[pe]}).execute(),z.each(function(he){var pe=z.getItemModel(he),_e=z.get(j,he),Ce=new Group$3,xe=$(linearMap$2(_e,[re,ae],[0,1],!0)),Ie=pe.getModel("title");if(Ie.get("show")){var $e=Ie.get("offsetCenter"),Oe=L.cx+parsePercent($e[0],L.r),Ne=L.cy+parsePercent($e[1],L.r),Fe=ie[he];Fe.attr({z2:de?0:2,style:createTextStyle(Ie,{x:Oe,y:Ne,text:z.getName(he),align:"center",verticalAlign:"middle"},{inheritColor:xe})}),Ce.add(Fe)}var Ve=pe.getModel("detail");if(Ve.get("show")){var ze=Ve.get("offsetCenter"),Et=L.cx+parsePercent(ze[0],L.r),Dt=L.cy+parsePercent(ze[1],L.r),Ue=parsePercent(Ve.get("width"),L.r),qe=parsePercent(Ve.get("height"),L.r),Lt=r.get(["progress","show"])?z.getItemVisual(he,"style").fill:xe,Fe=le[he],Pt=Ve.get("formatter");Fe.attr({z2:de?0:2,style:createTextStyle(Ve,{x:Et,y:Dt,text:formatLabel(_e,Pt),width:isNaN(Ue)?null:Ue,height:isNaN(qe)?null:qe,align:"center",verticalAlign:"middle"},{inheritColor:Lt})}),setLabelValueAnimation(Fe,{normal:Ve},_e,function(vn){return formatLabel(vn,Pt)}),ue&&animateLabelValue(Fe,he,z,r,{getFormattedLabel:function(vn,En,Sn,kt,jt,_n){return formatLabel(_n?_n.interpolatedValue:_e,Pt)}}),Ce.add(Fe)}oe.add(Ce)}),this.group.add(oe),this._titleEls=ie,this._detailEls=le},n.type="gauge",n}(ChartView),GaugeSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="itemStyle",r}return n.prototype.getInitialData=function(r,g){return createSeriesDataSimply(this,["value"])},n.type="series.gauge",n.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},n}(SeriesModel);function install$E(t){t.registerChartView(GaugeView),t.registerSeriesModel(GaugeSeriesModel)}var opacityAccessPath$1=["itemStyle","opacity"],FunnelPiece=function(t){__extends(n,t);function n(r,g){var y=t.call(this)||this,$=y,L=new Polyline$1,V=new ZRText;return $.setTextContent(V),y.setTextGuideLine(L),y.updateData(r,g,!0),y}return n.prototype.updateData=function(r,g,y){var $=this,L=r.hostModel,V=r.getItemModel(g),z=r.getItemLayout(g),j=V.getModel("emphasis"),re=V.get(opacityAccessPath$1);re=re??1,y||saveOldStyle($),$.useStyle(r.getItemVisual(g,"style")),$.style.lineJoin="round",y?($.setShape({points:z.points}),$.style.opacity=0,initProps($,{style:{opacity:re}},L,g)):updateProps$1($,{style:{opacity:re},shape:{points:z.points}},L,g),setStatesStylesFromModel($,V),this._updateLabel(r,g),toggleHoverEmphasis(this,j.get("focus"),j.get("blurScope"),j.get("disabled"))},n.prototype._updateLabel=function(r,g){var y=this,$=this.getTextGuideLine(),L=y.getTextContent(),V=r.hostModel,z=r.getItemModel(g),j=r.getItemLayout(g),re=j.label,ae=r.getItemVisual(g,"style"),oe=ae.fill;setLabelStyle(L,getLabelStatesModels(z),{labelFetcher:r.hostModel,labelDataIndex:g,defaultOpacity:ae.opacity,defaultText:r.getName(g)},{normal:{align:re.textAlign,verticalAlign:re.verticalAlign}}),y.setTextConfig({local:!0,inside:!!re.inside,insideStroke:oe,outsideFill:oe});var ie=re.linePoints;$.setShape({points:ie}),y.textGuideLineConfig={anchor:ie?new Point(ie[0][0],ie[0][1]):null},updateProps$1(L,{style:{x:re.x,y:re.y}},V,g),L.attr({rotation:re.rotation,originX:re.x,originY:re.y,z2:10}),setLabelLineStyle(y,getLabelLineStatesModels(z),{stroke:oe})},n}(Polygon),FunnelView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.ignoreLabelLineUpdate=!0,r}return n.prototype.render=function(r,g,y){var $=r.getData(),L=this._data,V=this.group;$.diff(L).add(function(z){var j=new FunnelPiece($,z);$.setItemGraphicEl(z,j),V.add(j)}).update(function(z,j){var re=L.getItemGraphicEl(j);re.updateData($,z),V.add(re),$.setItemGraphicEl(z,re)}).remove(function(z){var j=L.getItemGraphicEl(z);removeElementWithFadeOut(j,r,z)}).execute(),this._data=$},n.prototype.remove=function(){this.group.removeAll(),this._data=null},n.prototype.dispose=function(){},n.type="funnel",n}(ChartView),FunnelSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(r)},n.prototype.getInitialData=function(r,g){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},n.prototype._defaultLabelLine=function(r){defaultEmphasis(r,"labelLine",["show"]);var g=r.labelLine,y=r.emphasis.labelLine;g.show=g.show&&r.label.show,y.show=y.show&&r.emphasis.label.show},n.prototype.getDataParams=function(r){var g=this.getData(),y=t.prototype.getDataParams.call(this,r),$=g.mapDimension("value"),L=g.getSum($);return y.percent=L?+(g.get($,r)/L*100).toFixed(2):0,y.$vars.push("percent"),y},n.type="series.funnel",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function getViewRect$2(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function getSortedIndices(t,n){for(var r=t.mapDimension("value"),g=t.mapArray(r,function(z){return z}),y=[],$=n==="ascending",L=0,V=t.count();L<V;L++)y[L]=L;return isFunction(n)?y.sort(n):n!=="none"&&y.sort(function(z,j){return $?g[z]-g[j]:g[j]-g[z]}),y}function labelLayout(t){var n=t.hostModel,r=n.get("orient");t.each(function(g){var y=t.getItemModel(g),$=y.getModel("label"),L=$.get("position"),V=y.getModel("labelLine"),z=t.getItemLayout(g),j=z.points,re=L==="inner"||L==="inside"||L==="center"||L==="insideLeft"||L==="insideRight",ae,oe,ie,le;if(re)L==="insideLeft"?(oe=(j[0][0]+j[3][0])/2+5,ie=(j[0][1]+j[3][1])/2,ae="left"):L==="insideRight"?(oe=(j[1][0]+j[2][0])/2-5,ie=(j[1][1]+j[2][1])/2,ae="right"):(oe=(j[0][0]+j[1][0]+j[2][0]+j[3][0])/4,ie=(j[0][1]+j[1][1]+j[2][1]+j[3][1])/4,ae="center"),le=[[oe,ie],[oe,ie]];else{var ue=void 0,de=void 0,he=void 0,pe=void 0,_e=V.get("length");L==="left"?(ue=(j[3][0]+j[0][0])/2,de=(j[3][1]+j[0][1])/2,he=ue-_e,oe=he-5,ae="right"):L==="right"?(ue=(j[1][0]+j[2][0])/2,de=(j[1][1]+j[2][1])/2,he=ue+_e,oe=he+5,ae="left"):L==="top"?(ue=(j[3][0]+j[0][0])/2,de=(j[3][1]+j[0][1])/2,pe=de-_e,ie=pe-5,ae="center"):L==="bottom"?(ue=(j[1][0]+j[2][0])/2,de=(j[1][1]+j[2][1])/2,pe=de+_e,ie=pe+5,ae="center"):L==="rightTop"?(ue=r==="horizontal"?j[3][0]:j[1][0],de=r==="horizontal"?j[3][1]:j[1][1],r==="horizontal"?(pe=de-_e,ie=pe-5,ae="center"):(he=ue+_e,oe=he+5,ae="top")):L==="rightBottom"?(ue=j[2][0],de=j[2][1],r==="horizontal"?(pe=de+_e,ie=pe+5,ae="center"):(he=ue+_e,oe=he+5,ae="bottom")):L==="leftTop"?(ue=j[0][0],de=r==="horizontal"?j[0][1]:j[1][1],r==="horizontal"?(pe=de-_e,ie=pe-5,ae="center"):(he=ue-_e,oe=he-5,ae="right")):L==="leftBottom"?(ue=r==="horizontal"?j[1][0]:j[3][0],de=r==="horizontal"?j[1][1]:j[2][1],r==="horizontal"?(pe=de+_e,ie=pe+5,ae="center"):(he=ue-_e,oe=he-5,ae="right")):(ue=(j[1][0]+j[2][0])/2,de=(j[1][1]+j[2][1])/2,r==="horizontal"?(pe=de+_e,ie=pe+5,ae="center"):(he=ue+_e,oe=he+5,ae="left")),r==="horizontal"?(he=ue,oe=he):(pe=de,ie=pe),le=[[ue,de],[he,pe]]}z.label={linePoints:le,x:oe,y:ie,verticalAlign:"middle",textAlign:ae,inside:re}})}function funnelLayout(t,n){t.eachSeriesByType("funnel",function(r){var g=r.getData(),y=g.mapDimension("value"),$=r.get("sort"),L=getViewRect$2(r,n),V=r.get("orient"),z=L.width,j=L.height,re=getSortedIndices(g,$),ae=L.x,oe=L.y,ie=V==="horizontal"?[parsePercent(r.get("minSize"),j),parsePercent(r.get("maxSize"),j)]:[parsePercent(r.get("minSize"),z),parsePercent(r.get("maxSize"),z)],le=g.getDataExtent(y),ue=r.get("min"),de=r.get("max");ue==null&&(ue=Math.min(le[0],0)),de==null&&(de=le[1]);var he=r.get("funnelAlign"),pe=r.get("gap"),_e=V==="horizontal"?z:j,Ce=(_e-pe*(g.count()-1))/g.count(),xe=function(Dt,Ue){if(V==="horizontal"){var qe=g.get(y,Dt)||0,Lt=linearMap$2(qe,[ue,de],ie,!0),Pt=void 0;switch(he){case"top":Pt=oe;break;case"center":Pt=oe+(j-Lt)/2;break;case"bottom":Pt=oe+(j-Lt);break}return[[Ue,Pt],[Ue,Pt+Lt]]}var At=g.get(y,Dt)||0,vn=linearMap$2(At,[ue,de],ie,!0),En;switch(he){case"left":En=ae;break;case"center":En=ae+(z-vn)/2;break;case"right":En=ae+z-vn;break}return[[En,Ue],[En+vn,Ue]]};$==="ascending"&&(Ce=-Ce,pe=-pe,V==="horizontal"?ae+=z:oe+=j,re=re.reverse());for(var Ie=0;Ie<re.length;Ie++){var $e=re[Ie],Oe=re[Ie+1],Ne=g.getItemModel($e);if(V==="horizontal"){var Fe=Ne.get(["itemStyle","width"]);Fe==null?Fe=Ce:(Fe=parsePercent(Fe,z),$==="ascending"&&(Fe=-Fe));var Ve=xe($e,ae),ze=xe(Oe,ae+Fe);ae+=Fe+pe,g.setItemLayout($e,{points:Ve.concat(ze.slice().reverse())})}else{var Et=Ne.get(["itemStyle","height"]);Et==null?Et=Ce:(Et=parsePercent(Et,j),$==="ascending"&&(Et=-Et));var Ve=xe($e,oe),ze=xe(Oe,oe+Et);oe+=Et+pe,g.setItemLayout($e,{points:Ve.concat(ze.slice().reverse())})}}labelLayout(g)})}function install$D(t){t.registerChartView(FunnelView),t.registerSeriesModel(FunnelSeriesModel),t.registerLayout(funnelLayout),t.registerProcessor(dataFilter$1("funnel"))}var DEFAULT_SMOOTH=.3,ParallelView$1=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._dataGroup=new Group$3,r._initialized=!1,r}return n.prototype.init=function(){this.group.add(this._dataGroup)},n.prototype.render=function(r,g,y,$){this._progressiveEls=null;var L=this._dataGroup,V=r.getData(),z=this._data,j=r.coordinateSystem,re=j.dimensions,ae=makeSeriesScope(r);V.diff(z).add(oe).update(ie).remove(le).execute();function oe(de){var he=addEl(V,L,de,re,j);updateElCommon(he,V,de,ae)}function ie(de,he){var pe=z.getItemGraphicEl(he),_e=createLinePoints(V,de,re,j);V.setItemGraphicEl(de,pe),updateProps$1(pe,{shape:{points:_e}},r,de),saveOldStyle(pe),updateElCommon(pe,V,de,ae)}function le(de){var he=z.getItemGraphicEl(de);L.remove(he)}if(!this._initialized){this._initialized=!0;var ue=createGridClipShape$2(j,r,function(){setTimeout(function(){L.removeClipPath()})});L.setClipPath(ue)}this._data=V},n.prototype.incrementalPrepareRender=function(r,g,y){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},n.prototype.incrementalRender=function(r,g,y){for(var $=g.getData(),L=g.coordinateSystem,V=L.dimensions,z=makeSeriesScope(g),j=this._progressiveEls=[],re=r.start;re<r.end;re++){var ae=addEl($,this._dataGroup,re,V,L);ae.incremental=!0,updateElCommon(ae,$,re,z),j.push(ae)}},n.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},n.type="parallel",n}(ChartView);function createGridClipShape$2(t,n,r){var g=t.model,y=t.getRect(),$=new Rect$2({shape:{x:y.x,y:y.y,width:y.width,height:y.height}}),L=g.get("layout")==="horizontal"?"width":"height";return $.setShape(L,0),initProps($,{shape:{width:y.width,height:y.height}},n,r),$}function createLinePoints(t,n,r,g){for(var y=[],$=0;$<r.length;$++){var L=r[$],V=t.get(t.mapDimension(L),n);isEmptyValue(V,g.getAxis(L).type)||y.push(g.dataToPoint(V,L))}return y}function addEl(t,n,r,g,y){var $=createLinePoints(t,r,g,y),L=new Polyline$1({shape:{points:$},z2:10});return n.add(L),t.setItemGraphicEl(r,L),L}function makeSeriesScope(t){var n=t.get("smooth",!0);return n===!0&&(n=DEFAULT_SMOOTH),n=numericToNumber(n),eqNaN(n)&&(n=0),{smooth:n}}function updateElCommon(t,n,r,g){t.useStyle(n.getItemVisual(r,"style")),t.style.fill=null,t.setShape("smooth",g.smooth);var y=n.getItemModel(r),$=y.getModel("emphasis");setStatesStylesFromModel(t,y,"lineStyle"),toggleHoverEmphasis(t,$.get("focus"),$.get("blurScope"),$.get("disabled"))}function isEmptyValue(t,n){return n==="category"?t==null:t==null||isNaN(t)}var ParallelSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.getInitialData=function(r,g){return createSeriesData(null,this,{useEncodeDefaulter:bind$1(makeDefaultEncode,null,this)})},n.prototype.getRawIndicesByActiveState=function(r){var g=this.coordinateSystem,y=this.getData(),$=[];return g.eachActiveState(y,function(L,V){r===L&&$.push(y.getRawIndex(V))}),$},n.type="series.parallel",n.dependencies=["parallel"],n.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},n}(SeriesModel);function makeDefaultEncode(t){var n=t.ecModel.getComponent("parallel",t.get("parallelIndex"));if(n){var r={};return each$f(n.dimensions,function(g){var y=convertDimNameToNumber(g);r[g]=y}),r}}function convertDimNameToNumber(t){return+t.replace("dim","")}var opacityAccessPath=["lineStyle","opacity"],parallelVisual={seriesType:"parallel",reset:function(t,n){var r=t.coordinateSystem,g={normal:t.get(["lineStyle","opacity"]),active:t.get("activeOpacity"),inactive:t.get("inactiveOpacity")};return{progress:function(y,$){r.eachActiveState($,function(L,V){var z=g[L];if(L==="normal"&&$.hasItemOption){var j=$.getItemModel(V).get(opacityAccessPath,!0);j!=null&&(z=j)}var re=$.ensureUniqueItemVisual(V,"style");re.opacity=z},y.start,y.end)}}}};function parallelPreprocessor(t){createParallelIfNeeded(t),mergeAxisOptionFromParallel(t)}function createParallelIfNeeded(t){if(!t.parallel){var n=!1;each$f(t.series,function(r){r&&r.type==="parallel"&&(n=!0)}),n&&(t.parallel=[{}])}}function mergeAxisOptionFromParallel(t){var n=normalizeToArray(t.parallelAxis);each$f(n,function(r){if(isObject$3(r)){var g=r.parallelIndex||0,y=normalizeToArray(t.parallel)[g];y&&y.parallelAxisDefault&&merge(r,y.parallelAxisDefault,!1)}})}var CLICK_THRESHOLD=5,ParallelView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){this._model=r,this._api=y,this._handlers||(this._handlers={},each$f(handlers$1,function($,L){y.getZr().on(L,this._handlers[L]=bind$1($,this))},this)),createOrUpdate(this,"_throttledDispatchExpand",r.get("axisExpandRate"),"fixRate")},n.prototype.dispose=function(r,g){clear$1(this,"_throttledDispatchExpand"),each$f(this._handlers,function(y,$){g.getZr().off($,y)}),this._handlers=null},n.prototype._throttledDispatchExpand=function(r){this._dispatchExpand(r)},n.prototype._dispatchExpand=function(r){r&&this._api.dispatchAction(extend({type:"parallelAxisExpand"},r))},n.type="parallel",n}(ComponentView),handlers$1={mousedown:function(t){checkTrigger(this,"click")&&(this._mouseDownPoint=[t.offsetX,t.offsetY])},mouseup:function(t){var n=this._mouseDownPoint;if(checkTrigger(this,"click")&&n){var r=[t.offsetX,t.offsetY],g=Math.pow(n[0]-r[0],2)+Math.pow(n[1]-r[1],2);if(g>CLICK_THRESHOLD)return;var y=this._model.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]);y.behavior!=="none"&&this._dispatchExpand({axisExpandWindow:y.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(t){if(!(this._mouseDownPoint||!checkTrigger(this,"mousemove"))){var n=this._model,r=n.coordinateSystem.getSlidedAxisExpandWindow([t.offsetX,t.offsetY]),g=r.behavior;g==="jump"&&this._throttledDispatchExpand.debounceNextCall(n.get("axisExpandDebounce")),this._throttledDispatchExpand(g==="none"?null:{axisExpandWindow:r.axisExpandWindow,animation:g==="jump"?null:{duration:0}})}}};function checkTrigger(t,n){var r=t._model;return r.get("axisExpandable")&&r.get("axisExpandTriggerOn")===n}var ParallelModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){t.prototype.init.apply(this,arguments),this.mergeOption({})},n.prototype.mergeOption=function(r){var g=this.option;r&&merge(g,r,!0),this._initDimensions()},n.prototype.contains=function(r,g){var y=r.get("parallelIndex");return y!=null&&g.getComponent("parallel",y)===this},n.prototype.setAxisExpand=function(r){each$f(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(g){r.hasOwnProperty(g)&&(this.option[g]=r[g])},this)},n.prototype._initDimensions=function(){var r=this.dimensions=[],g=this.parallelAxisIndex=[],y=filter(this.ecModel.queryComponents({mainType:"parallelAxis"}),function($){return($.get("parallelIndex")||0)===this.componentIndex},this);each$f(y,function($){r.push("dim"+$.get("dim")),g.push($.componentIndex)})},n.type="parallel",n.dependencies=["parallelAxis"],n.layoutMode="box",n.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},n}(ComponentModel),ParallelAxis=function(t){__extends(n,t);function n(r,g,y,$,L){var V=t.call(this,r,g,y)||this;return V.type=$||"value",V.axisIndex=L,V}return n.prototype.isHorizontal=function(){return this.coordinateSystem.getModel().get("layout")!=="horizontal"},n}(Axis);function sliderMove(t,n,r,g,y,$){t=t||0;var L=r[1]-r[0];if(y!=null&&(y=restrict$1(y,[0,L])),$!=null&&($=Math.max($,y??0)),g==="all"){var V=Math.abs(n[1]-n[0]);V=restrict$1(V,[0,L]),y=$=restrict$1(V,[y,$]),g=0}n[0]=restrict$1(n[0],r),n[1]=restrict$1(n[1],r);var z=getSpanSign(n,g);n[g]+=t;var j=y||0,re=r.slice();z.sign<0?re[0]+=j:re[1]-=j,n[g]=restrict$1(n[g],re);var ae;return ae=getSpanSign(n,g),y!=null&&(ae.sign!==z.sign||ae.span<y)&&(n[1-g]=n[g]+z.sign*y),ae=getSpanSign(n,g),$!=null&&ae.span>$&&(n[1-g]=n[g]+ae.sign*$),n}function getSpanSign(t,n){var r=t[n]-t[1-n];return{span:Math.abs(r),sign:r>0?-1:r<0?1:n?-1:1}}function restrict$1(t,n){return Math.min(n[1]!=null?n[1]:1/0,Math.max(n[0]!=null?n[0]:-1/0,t))}var each$a=each$f,mathMin$2=Math.min,mathMax$2=Math.max,mathFloor=Math.floor,mathCeil=Math.ceil,round=round$3,PI$1=Math.PI,Parallel=function(){function t(n,r,g){this.type="parallel",this._axesMap=createHashMap(),this._axesLayout={},this.dimensions=n.dimensions,this._model=n,this._init(n,r,g)}return t.prototype._init=function(n,r,g){var y=n.dimensions,$=n.parallelAxisIndex;each$a(y,function(L,V){var z=$[V],j=r.getComponent("parallelAxis",z),re=this._axesMap.set(L,new ParallelAxis(L,createScaleByModel$1(j),[0,0],j.get("type"),z)),ae=re.type==="category";re.onBand=ae&&j.get("boundaryGap"),re.inverse=j.get("inverse"),j.axis=re,re.model=j,re.coordinateSystem=j.coordinateSystem=this},this)},t.prototype.update=function(n,r){this._updateAxesFromSeries(this._model,n)},t.prototype.containPoint=function(n){var r=this._makeLayoutInfo(),g=r.axisBase,y=r.layoutBase,$=r.pixelDimIndex,L=n[1-$],V=n[$];return L>=g&&L<=g+r.axisLength&&V>=y&&V<=y+r.layoutLength},t.prototype.getModel=function(){return this._model},t.prototype._updateAxesFromSeries=function(n,r){r.eachSeries(function(g){if(n.contains(g,r)){var y=g.getData();each$a(this.dimensions,function($){var L=this._axesMap.get($);L.scale.unionExtentFromData(y,y.mapDimension($)),niceScaleExtent(L.scale,L.model)},this)}},this)},t.prototype.resize=function(n,r){this._rect=getLayoutRect(n.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()}),this._layoutAxes()},t.prototype.getRect=function(){return this._rect},t.prototype._makeLayoutInfo=function(){var n=this._model,r=this._rect,g=["x","y"],y=["width","height"],$=n.get("layout"),L=$==="horizontal"?0:1,V=r[y[L]],z=[0,V],j=this.dimensions.length,re=restrict(n.get("axisExpandWidth"),z),ae=restrict(n.get("axisExpandCount")||0,[0,j]),oe=n.get("axisExpandable")&&j>3&&j>ae&&ae>1&&re>0&&V>0,ie=n.get("axisExpandWindow"),le;if(ie)le=restrict(ie[1]-ie[0],z),ie[1]=ie[0]+le;else{le=restrict(re*(ae-1),z);var ue=n.get("axisExpandCenter")||mathFloor(j/2);ie=[re*ue-le/2],ie[1]=ie[0]+le}var de=(V-le)/(j-ae);de<3&&(de=0);var he=[mathFloor(round(ie[0]/re,1))+1,mathCeil(round(ie[1]/re,1))-1],pe=de/re*ie[0];return{layout:$,pixelDimIndex:L,layoutBase:r[g[L]],layoutLength:V,axisBase:r[g[1-L]],axisLength:r[y[1-L]],axisExpandable:oe,axisExpandWidth:re,axisCollapseWidth:de,axisExpandWindow:ie,axisCount:j,winInnerIndices:he,axisExpandWindow0Pos:pe}},t.prototype._layoutAxes=function(){var n=this._rect,r=this._axesMap,g=this.dimensions,y=this._makeLayoutInfo(),$=y.layout;r.each(function(L){var V=[0,y.axisLength],z=L.inverse?1:0;L.setExtent(V[z],V[1-z])}),each$a(g,function(L,V){var z=(y.axisExpandable?layoutAxisWithExpand:layoutAxisWithoutExpand)(V,y),j={horizontal:{x:z.position,y:y.axisLength},vertical:{x:0,y:z.position}},re={horizontal:PI$1/2,vertical:0},ae=[j[$].x+n.x,j[$].y+n.y],oe=re[$],ie=create$1();rotate(ie,ie,oe),translate(ie,ie,ae),this._axesLayout[L]={position:ae,rotation:oe,transform:ie,axisNameAvailableWidth:z.axisNameAvailableWidth,axisLabelShow:z.axisLabelShow,nameTruncateMaxWidth:z.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},t.prototype.getAxis=function(n){return this._axesMap.get(n)},t.prototype.dataToPoint=function(n,r){return this.axisCoordToPoint(this._axesMap.get(r).dataToCoord(n),r)},t.prototype.eachActiveState=function(n,r,g,y){g==null&&(g=0),y==null&&(y=n.count());var $=this._axesMap,L=this.dimensions,V=[],z=[];each$f(L,function(de){V.push(n.mapDimension(de)),z.push($.get(de).model)});for(var j=this.hasAxisBrushed(),re=g;re<y;re++){var ae=void 0;if(!j)ae="normal";else{ae="active";for(var oe=n.getValues(V,re),ie=0,le=L.length;ie<le;ie++){var ue=z[ie].getActiveState(oe[ie]);if(ue==="inactive"){ae="inactive";break}}}r(ae,re)}},t.prototype.hasAxisBrushed=function(){for(var n=this.dimensions,r=this._axesMap,g=!1,y=0,$=n.length;y<$;y++)r.get(n[y]).model.getActiveState()!=="normal"&&(g=!0);return g},t.prototype.axisCoordToPoint=function(n,r){var g=this._axesLayout[r];return applyTransform([n,0],g.transform)},t.prototype.getAxisLayout=function(n){return clone$4(this._axesLayout[n])},t.prototype.getSlidedAxisExpandWindow=function(n){var r=this._makeLayoutInfo(),g=r.pixelDimIndex,y=r.axisExpandWindow.slice(),$=y[1]-y[0],L=[0,r.axisExpandWidth*(r.axisCount-1)];if(!this.containPoint(n))return{behavior:"none",axisExpandWindow:y};var V=n[g]-r.layoutBase-r.axisExpandWindow0Pos,z,j="slide",re=r.axisCollapseWidth,ae=this._model.get("axisExpandSlideTriggerArea"),oe=ae[0]!=null;if(re)oe&&re&&V<$*ae[0]?(j="jump",z=V-$*ae[2]):oe&&re&&V>$*(1-ae[0])?(j="jump",z=V-$*(1-ae[2])):(z=V-$*ae[1])>=0&&(z=V-$*(1-ae[1]))<=0&&(z=0),z*=r.axisExpandWidth/re,z?sliderMove(z,y,L,"all"):j="none";else{var ie=y[1]-y[0],le=L[1]*V/ie;y=[mathMax$2(0,le-ie/2)],y[1]=mathMin$2(L[1],y[0]+ie),y[0]=y[1]-ie}return{axisExpandWindow:y,behavior:j}},t}();function restrict(t,n){return mathMin$2(mathMax$2(t,n[0]),n[1])}function layoutAxisWithoutExpand(t,n){var r=n.layoutLength/(n.axisCount-1);return{position:r*t,axisNameAvailableWidth:r,axisLabelShow:!0}}function layoutAxisWithExpand(t,n){var r=n.layoutLength,g=n.axisExpandWidth,y=n.axisCount,$=n.axisCollapseWidth,L=n.winInnerIndices,V,z=$,j=!1,re;return t<L[0]?(V=t*$,re=$):t<=L[1]?(V=n.axisExpandWindow0Pos+t*g-n.axisExpandWindow[0],z=g,j=!0):(V=r-(y-1-t)*$,re=$),{position:V,axisNameAvailableWidth:z,axisLabelShow:j,nameTruncateMaxWidth:re}}function createParallelCoordSys(t,n){var r=[];return t.eachComponent("parallel",function(g,y){var $=new Parallel(g,t,n);$.name="parallel_"+y,$.resize(g,n),g.coordinateSystem=$,$.model=g,r.push($)}),t.eachSeries(function(g){if(g.get("coordinateSystem")==="parallel"){var y=g.getReferringComponents("parallel",SINGLE_REFERRING).models[0];g.coordinateSystem=y.coordinateSystem}}),r}var parallelCoordSysCreator={create:createParallelCoordSys},ParallelAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.activeIntervals=[],r}return n.prototype.getAreaSelectStyle=function(){return makeStyleMapper([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},n.prototype.setActiveIntervals=function(r){var g=this.activeIntervals=clone$4(r);if(g)for(var y=g.length-1;y>=0;y--)asc$2(g[y])},n.prototype.getActiveState=function(r){var g=this.activeIntervals;if(!g.length)return"normal";if(r==null||isNaN(+r))return"inactive";if(g.length===1){var y=g[0];if(y[0]<=r&&r<=y[1])return"active"}else for(var $=0,L=g.length;$<L;$++)if(g[$][0]<=r&&r<=g[$][1])return"active";return"inactive"},n}(ComponentModel);mixin(ParallelAxisModel,AxisModelCommonMixin);var BRUSH_PANEL_GLOBAL=!0,mathMin$1=Math.min,mathMax$1=Math.max,mathPow=Math.pow,COVER_Z=1e4,UNSELECT_THRESHOLD=6,MIN_RESIZE_LINE_WIDTH=6,MUTEX_RESOURCE_KEY="globalPan",DIRECTION_MAP={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},CURSOR_MAP={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},DEFAULT_BRUSH_OPT={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},baseUID=0,BrushController=function(t){__extends(n,t);function n(r){var g=t.call(this)||this;return g._track=[],g._covers=[],g._handlers={},g._zr=r,g.group=new Group$3,g._uid="brushController_"+baseUID++,each$f(pointerHandlers,function(y,$){this._handlers[$]=bind$1(y,this)},g),g}return n.prototype.enableBrush=function(r){return this._brushType&&this._doDisableBrush(),r.brushType&&this._doEnableBrush(r),this},n.prototype._doEnableBrush=function(r){var g=this._zr;this._enableGlobalPan||take(g,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(y,$){g.on($,y)}),this._brushType=r.brushType,this._brushOption=merge(clone$4(DEFAULT_BRUSH_OPT),r,!0)},n.prototype._doDisableBrush=function(){var r=this._zr;release(r,MUTEX_RESOURCE_KEY,this._uid),each$f(this._handlers,function(g,y){r.off(y,g)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(r){if(r&&r.length){var g=this._panels={};each$f(r,function(y){g[y.panelId]=clone$4(y)})}else this._panels=null;return this},n.prototype.mount=function(r){r=r||{},this._enableGlobalPan=r.enableGlobalPan;var g=this.group;return this._zr.add(g),g.attr({x:r.x||0,y:r.y||0,rotation:r.rotation||0,scaleX:r.scaleX||1,scaleY:r.scaleY||1}),this._transform=g.getLocalTransform(),this},n.prototype.updateCovers=function(r){r=map$1(r,function(oe){return merge(clone$4(DEFAULT_BRUSH_OPT),oe,!0)});var g="\0-brush-index-",y=this._covers,$=this._covers=[],L=this,V=this._creatingCover;return new DataDiffer(y,r,j,z).add(re).update(re).remove(ae).execute(),this;function z(oe,ie){return(oe.id!=null?oe.id:g+ie)+"-"+oe.brushType}function j(oe,ie){return z(oe.__brushOption,ie)}function re(oe,ie){var le=r[oe];if(ie!=null&&y[ie]===V)$[oe]=y[ie];else{var ue=$[oe]=ie!=null?(y[ie].__brushOption=le,y[ie]):endCreating(L,createCover(L,le));updateCoverAfterCreation(L,ue)}}function ae(oe){y[oe]!==V&&L.group.remove(y[oe])}},n.prototype.unmount=function(){return this.enableBrush(!1),clearCovers(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Eventful);function createCover(t,n){var r=coverRenderers[n.brushType].createCover(t,n);return r.__brushOption=n,updateZ$1(r,n),t.group.add(r),r}function endCreating(t,n){var r=getCoverRenderer(n);return r.endCreating&&(r.endCreating(t,n),updateZ$1(n,n.__brushOption)),n}function updateCoverShape(t,n){var r=n.__brushOption;getCoverRenderer(n).updateCoverShape(t,n,r.range,r)}function updateZ$1(t,n){var r=n.z;r==null&&(r=COVER_Z),t.traverse(function(g){g.z=r,g.z2=r})}function updateCoverAfterCreation(t,n){getCoverRenderer(n).updateCommon(t,n),updateCoverShape(t,n)}function getCoverRenderer(t){return coverRenderers[t.__brushOption.brushType]}function getPanelByPoint(t,n,r){var g=t._panels;if(!g)return BRUSH_PANEL_GLOBAL;var y,$=t._transform;return each$f(g,function(L){L.isTargetByCursor(n,r,$)&&(y=L)}),y}function getPanelByCover(t,n){var r=t._panels;if(!r)return BRUSH_PANEL_GLOBAL;var g=n.__brushOption.panelId;return g!=null?r[g]:BRUSH_PANEL_GLOBAL}function clearCovers(t){var n=t._covers,r=n.length;return each$f(n,function(g){t.group.remove(g)},t),n.length=0,!!r}function trigger(t,n){var r=map$1(t._covers,function(g){var y=g.__brushOption,$=clone$4(y.range);return{brushType:y.brushType,panelId:y.panelId,range:$}});t.trigger("brush",{areas:r,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function shouldShowCover(t){var n=t._track;if(!n.length)return!1;var r=n[n.length-1],g=n[0],y=r[0]-g[0],$=r[1]-g[1],L=mathPow(y*y+$*$,.5);return L>UNSELECT_THRESHOLD}function getTrackEnds(t){var n=t.length-1;return n<0&&(n=0),[t[0],t[n]]}function createBaseRectCover(t,n,r,g){var y=new Group$3;return y.add(new Rect$2({name:"main",style:makeStyle(r),silent:!0,draggable:!0,cursor:"move",drift:curry$1(driftRect,t,n,y,["n","s","w","e"]),ondragend:curry$1(trigger,n,{isEnd:!0})})),each$f(g,function($){y.add(new Rect$2({name:$.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:curry$1(driftRect,t,n,y,$),ondragend:curry$1(trigger,n,{isEnd:!0})}))}),y}function updateBaseRect(t,n,r,g){var y=g.brushStyle.lineWidth||0,$=mathMax$1(y,MIN_RESIZE_LINE_WIDTH),L=r[0][0],V=r[1][0],z=L-y/2,j=V-y/2,re=r[0][1],ae=r[1][1],oe=re-$+y/2,ie=ae-$+y/2,le=re-L,ue=ae-V,de=le+y,he=ue+y;updateRectShape(t,n,"main",L,V,le,ue),g.transformable&&(updateRectShape(t,n,"w",z,j,$,he),updateRectShape(t,n,"e",oe,j,$,he),updateRectShape(t,n,"n",z,j,de,$),updateRectShape(t,n,"s",z,ie,de,$),updateRectShape(t,n,"nw",z,j,$,$),updateRectShape(t,n,"ne",oe,j,$,$),updateRectShape(t,n,"sw",z,ie,$,$),updateRectShape(t,n,"se",oe,ie,$,$))}function updateCommon$1(t,n){var r=n.__brushOption,g=r.transformable,y=n.childAt(0);y.useStyle(makeStyle(r)),y.attr({silent:!g,cursor:g?"move":"default"}),each$f([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function($){var L=n.childOfName($.join("")),V=$.length===1?getGlobalDirection1(t,$[0]):getGlobalDirection2(t,$);L&&L.attr({silent:!g,invisible:!g,cursor:g?CURSOR_MAP[V]+"-resize":null})})}function updateRectShape(t,n,r,g,y,$,L){var V=n.childOfName(r);V&&V.setShape(pointsToRect(clipByPanel(t,n,[[g,y],[g+$,y+L]])))}function makeStyle(t){return defaults({strokeNoScale:!0},t.brushStyle)}function formatRectRange(t,n,r,g){var y=[mathMin$1(t,r),mathMin$1(n,g)],$=[mathMax$1(t,r),mathMax$1(n,g)];return[[y[0],$[0]],[y[1],$[1]]]}function getTransform(t){return getTransform$1(t.group)}function getGlobalDirection1(t,n){var r={w:"left",e:"right",n:"top",s:"bottom"},g={left:"w",right:"e",top:"n",bottom:"s"},y=transformDirection(r[n],getTransform(t));return g[y]}function getGlobalDirection2(t,n){var r=[getGlobalDirection1(t,n[0]),getGlobalDirection1(t,n[1])];return(r[0]==="e"||r[0]==="w")&&r.reverse(),r.join("")}function driftRect(t,n,r,g,y,$){var L=r.__brushOption,V=t.toRectRange(L.range),z=toLocalDelta(n,y,$);each$f(g,function(j){var re=DIRECTION_MAP[j];V[re[0]][re[1]]+=z[re[0]]}),L.range=t.fromRectRange(formatRectRange(V[0][0],V[1][0],V[0][1],V[1][1])),updateCoverAfterCreation(n,r),trigger(n,{isEnd:!1})}function driftPolygon(t,n,r,g){var y=n.__brushOption.range,$=toLocalDelta(t,r,g);each$f(y,function(L){L[0]+=$[0],L[1]+=$[1]}),updateCoverAfterCreation(t,n),trigger(t,{isEnd:!1})}function toLocalDelta(t,n,r){var g=t.group,y=g.transformCoordToLocal(n,r),$=g.transformCoordToLocal(0,0);return[y[0]-$[0],y[1]-$[1]]}function clipByPanel(t,n,r){var g=getPanelByCover(t,n);return g&&g!==BRUSH_PANEL_GLOBAL?g.clipPath(r,t._transform):clone$4(r)}function pointsToRect(t){var n=mathMin$1(t[0][0],t[1][0]),r=mathMin$1(t[0][1],t[1][1]),g=mathMax$1(t[0][0],t[1][0]),y=mathMax$1(t[0][1],t[1][1]);return{x:n,y:r,width:g-n,height:y-r}}function resetCursor(t,n,r){if(!(!t._brushType||isOutsideZrArea(t,n.offsetX,n.offsetY))){var g=t._zr,y=t._covers,$=getPanelByPoint(t,n,r);if(!t._dragging)for(var L=0;L<y.length;L++){var V=y[L].__brushOption;if($&&($===BRUSH_PANEL_GLOBAL||V.panelId===$.panelId)&&coverRenderers[V.brushType].contain(y[L],r[0],r[1]))return}$&&g.setCursorStyle("crosshair")}}function preventDefault(t){var n=t.event;n.preventDefault&&n.preventDefault()}function mainShapeContain(t,n,r){return t.childOfName("main").contain(n,r)}function updateCoverByMouse(t,n,r,g){var y=t._creatingCover,$=t._creatingPanel,L=t._brushOption,V;if(t._track.push(r.slice()),shouldShowCover(t)||y){if($&&!y){L.brushMode==="single"&&clearCovers(t);var z=clone$4(L);z.brushType=determineBrushType(z.brushType,$),z.panelId=$===BRUSH_PANEL_GLOBAL?null:$.panelId,y=t._creatingCover=createCover(t,z),t._covers.push(y)}if(y){var j=coverRenderers[determineBrushType(t._brushType,$)],re=y.__brushOption;re.range=j.getCreatingRange(clipByPanel(t,y,t._track)),g&&(endCreating(t,y),j.updateCommon(t,y)),updateCoverShape(t,y),V={isEnd:g}}}else g&&L.brushMode==="single"&&L.removeOnClick&&getPanelByPoint(t,n,r)&&clearCovers(t)&&(V={isEnd:g,removeOnClick:!0});return V}function determineBrushType(t,n){return t==="auto"?n.defaultBrushType:t}var pointerHandlers={mousedown:function(t){if(this._dragging)handleDragEnd(this,t);else if(!t.target||!t.target.draggable){preventDefault(t);var n=this.group.transformCoordToLocal(t.offsetX,t.offsetY);this._creatingCover=null;var r=this._creatingPanel=getPanelByPoint(this,t,n);r&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(t){var n=t.offsetX,r=t.offsetY,g=this.group.transformCoordToLocal(n,r);if(resetCursor(this,t,g),this._dragging){preventDefault(t);var y=updateCoverByMouse(this,t,g,!1);y&&trigger(this,y)}},mouseup:function(t){handleDragEnd(this,t)}};function handleDragEnd(t,n){if(t._dragging){preventDefault(n);var r=n.offsetX,g=n.offsetY,y=t.group.transformCoordToLocal(r,g),$=updateCoverByMouse(t,n,y,!0);t._dragging=!1,t._track=[],t._creatingCover=null,$&&trigger(t,$)}}function isOutsideZrArea(t,n,r){var g=t._zr;return n<0||n>g.getWidth()||r<0||r>g.getHeight()}var coverRenderers={lineX:getLineRenderer(0),lineY:getLineRenderer(1),rect:{createCover:function(t,n){function r(g){return g}return createBaseRectCover({toRectRange:r,fromRectRange:r},t,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(t){var n=getTrackEnds(t);return formatRectRange(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(t,n,r,g){updateBaseRect(t,n,r,g)},updateCommon:updateCommon$1,contain:mainShapeContain},polygon:{createCover:function(t,n){var r=new Group$3;return r.add(new Polyline$1({name:"main",style:makeStyle(n),silent:!0})),r},getCreatingRange:function(t){return t},endCreating:function(t,n){n.remove(n.childAt(0)),n.add(new Polygon({name:"main",draggable:!0,drift:curry$1(driftPolygon,t,n),ondragend:curry$1(trigger,t,{isEnd:!0})}))},updateCoverShape:function(t,n,r,g){n.childAt(0).setShape({points:clipByPanel(t,n,r)})},updateCommon:updateCommon$1,contain:mainShapeContain}};function getLineRenderer(t){return{createCover:function(n,r){return createBaseRectCover({toRectRange:function(g){var y=[g,[0,100]];return t&&y.reverse(),y},fromRectRange:function(g){return g[t]}},n,r,[[["w"],["e"]],[["n"],["s"]]][t])},getCreatingRange:function(n){var r=getTrackEnds(n),g=mathMin$1(r[0][t],r[1][t]),y=mathMax$1(r[0][t],r[1][t]);return[g,y]},updateCoverShape:function(n,r,g,y){var $,L=getPanelByCover(n,r);if(L!==BRUSH_PANEL_GLOBAL&&L.getLinearBrushOtherExtent)$=L.getLinearBrushOtherExtent(t);else{var V=n._zr;$=[0,[V.getWidth(),V.getHeight()][1-t]]}var z=[g,$];t&&z.reverse(),updateBaseRect(n,r,z,y)},updateCommon:updateCommon$1,contain:mainShapeContain}}function makeRectPanelClipPath(t){return t=normalizeRect(t),function(n){return clipPointsByRect(n,t)}}function makeLinearBrushOtherExtent(t,n){return t=normalizeRect(t),function(r){var g=n??r,y=g?t.width:t.height,$=g?t.x:t.y;return[$,$+(y||0)]}}function makeRectIsTargetByCursor(t,n,r){var g=normalizeRect(t);return function(y,$){return g.contain($[0],$[1])&&!onIrrelevantElement(y,n,r)}}function normalizeRect(t){return BoundingRect.create(t)}var elementList$1=["axisLine","axisTickLabel","axisName"],ParallelAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g){t.prototype.init.apply(this,arguments),(this._brushController=new BrushController(g.getZr())).on("brush",bind$1(this._onBrush,this))},n.prototype.render=function(r,g,y,$){if(!fromAxisAreaSelect(r,g,$)){this.axisModel=r,this.api=y,this.group.removeAll();var L=this._axisGroup;if(this._axisGroup=new Group$3,this.group.add(this._axisGroup),!!r.get("show")){var V=getCoordSysModel(r,g),z=V.coordinateSystem,j=r.getAreaSelectStyle(),re=j.width,ae=r.axis.dim,oe=z.getAxisLayout(ae),ie=extend({strokeContainThreshold:re},oe),le=new AxisBuilder(r,ie);each$f(elementList$1,le.add,le),this._axisGroup.add(le.getGroup()),this._refreshBrushController(ie,j,r,V,re,y),groupTransition(L,this._axisGroup,r)}}},n.prototype._refreshBrushController=function(r,g,y,$,L,V){var z=y.axis.getExtent(),j=z[1]-z[0],re=Math.min(30,Math.abs(j)*.1),ae=BoundingRect.create({x:z[0],y:-L/2,width:j,height:L});ae.x-=re,ae.width+=2*re,this._brushController.mount({enableGlobalPan:!0,rotation:r.rotation,x:r.position[0],y:r.position[1]}).setPanels([{panelId:"pl",clipPath:makeRectPanelClipPath(ae),isTargetByCursor:makeRectIsTargetByCursor(ae,V,$),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(ae,0)}]).enableBrush({brushType:"lineX",brushStyle:g,removeOnClick:!0}).updateCovers(getCoverInfoList(y))},n.prototype._onBrush=function(r){var g=r.areas,y=this.axisModel,$=y.axis,L=map$1(g,function(V){return[$.coordToData(V.range[0],!0),$.coordToData(V.range[1],!0)]});(!y.option.realtime===r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:y.id,intervals:L})},n.prototype.dispose=function(){this._brushController.dispose()},n.type="parallelAxis",n}(ComponentView);function fromAxisAreaSelect(t,n,r){return r&&r.type==="axisAreaSelect"&&n.findComponents({mainType:"parallelAxis",query:r})[0]===t}function getCoverInfoList(t){var n=t.axis;return map$1(t.activeIntervals,function(r){return{brushType:"lineX",panelId:"pl",range:[n.dataToCoord(r[0],!0),n.dataToCoord(r[1],!0)]}})}function getCoordSysModel(t,n){return n.getComponent("parallel",t.get("parallelIndex"))}var actionInfo={type:"axisAreaSelect",event:"axisAreaSelected"};function installParallelActions(t){t.registerAction(actionInfo,function(n,r){r.eachComponent({mainType:"parallelAxis",query:n},function(g){g.axis.model.setActiveIntervals(n.intervals)})}),t.registerAction("parallelAxisExpand",function(n,r){r.eachComponent({mainType:"parallel",query:n},function(g){g.setAxisExpand(n)})})}var defaultAxisOption={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function install$C(t){t.registerComponentView(ParallelView),t.registerComponentModel(ParallelModel),t.registerCoordinateSystem("parallel",parallelCoordSysCreator),t.registerPreprocessor(parallelPreprocessor),t.registerComponentModel(ParallelAxisModel),t.registerComponentView(ParallelAxisView),axisModelCreator(t,"parallel",ParallelAxisModel,defaultAxisOption),installParallelActions(t)}function install$B(t){use(install$C),t.registerChartView(ParallelView$1),t.registerSeriesModel(ParallelSeriesModel),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,parallelVisual)}var SankeyPathShape=function(){function t(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0}return t}(),SankeyPath=function(t){__extends(n,t);function n(r){return t.call(this,r)||this}return n.prototype.getDefaultShape=function(){return new SankeyPathShape},n.prototype.buildPath=function(r,g){var y=g.extent;r.moveTo(g.x1,g.y1),r.bezierCurveTo(g.cpx1,g.cpy1,g.cpx2,g.cpy2,g.x2,g.y2),g.orient==="vertical"?(r.lineTo(g.x2+y,g.y2),r.bezierCurveTo(g.cpx2+y,g.cpy2,g.cpx1+y,g.cpy1,g.x1+y,g.y1)):(r.lineTo(g.x2,g.y2+y),r.bezierCurveTo(g.cpx2,g.cpy2+y,g.cpx1,g.cpy1+y,g.x1,g.y1+y)),r.closePath()},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n}(Path),SankeyView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._focusAdjacencyDisabled=!1,r}return n.prototype.render=function(r,g,y){var $=this,L=r.getGraph(),V=this.group,z=r.layoutInfo,j=z.width,re=z.height,ae=r.getData(),oe=r.getData("edge"),ie=r.get("orient");this._model=r,V.removeAll(),V.x=z.x,V.y=z.y,L.eachEdge(function(le){var ue=new SankeyPath,de=getECData(ue);de.dataIndex=le.dataIndex,de.seriesIndex=r.seriesIndex,de.dataType="edge";var he=le.getModel(),pe=he.getModel("lineStyle"),_e=pe.get("curveness"),Ce=le.node1.getLayout(),xe=le.node1.getModel(),Ie=xe.get("localX"),$e=xe.get("localY"),Oe=le.node2.getLayout(),Ne=le.node2.getModel(),Fe=Ne.get("localX"),Ve=Ne.get("localY"),ze=le.getLayout(),Et,Dt,Ue,qe,Lt,Pt,At,vn;ue.shape.extent=Math.max(1,ze.dy),ue.shape.orient=ie,ie==="vertical"?(Et=(Ie!=null?Ie*j:Ce.x)+ze.sy,Dt=($e!=null?$e*re:Ce.y)+Ce.dy,Ue=(Fe!=null?Fe*j:Oe.x)+ze.ty,qe=Ve!=null?Ve*re:Oe.y,Lt=Et,Pt=Dt*(1-_e)+qe*_e,At=Ue,vn=Dt*_e+qe*(1-_e)):(Et=(Ie!=null?Ie*j:Ce.x)+Ce.dx,Dt=($e!=null?$e*re:Ce.y)+ze.sy,Ue=Fe!=null?Fe*j:Oe.x,qe=(Ve!=null?Ve*re:Oe.y)+ze.ty,Lt=Et*(1-_e)+Ue*_e,Pt=Dt,At=Et*_e+Ue*(1-_e),vn=qe),ue.setShape({x1:Et,y1:Dt,x2:Ue,y2:qe,cpx1:Lt,cpy1:Pt,cpx2:At,cpy2:vn}),ue.useStyle(pe.getItemStyle()),applyCurveStyle(ue.style,ie,le);var En=""+he.get("value"),Sn=getLabelStatesModels(he,"edgeLabel");setLabelStyle(ue,Sn,{labelFetcher:{getFormattedLabel:function(_n,wn,hn,Cn,Tn,xn){return r.getFormattedLabel(_n,wn,"edge",Cn,retrieve3(Tn,Sn.normal&&Sn.normal.get("formatter"),En),xn)}},labelDataIndex:le.dataIndex,defaultText:En}),ue.setTextConfig({position:"inside"});var kt=he.getModel("emphasis");setStatesStylesFromModel(ue,he,"lineStyle",function(_n){var wn=_n.getItemStyle();return applyCurveStyle(wn,ie,le),wn}),V.add(ue),oe.setItemGraphicEl(le.dataIndex,ue);var jt=kt.get("focus");toggleHoverEmphasis(ue,jt==="adjacency"?le.getAdjacentDataIndices():jt==="trajectory"?le.getTrajectoryDataIndices():jt,kt.get("blurScope"),kt.get("disabled"))}),L.eachNode(function(le){var ue=le.getLayout(),de=le.getModel(),he=de.get("localX"),pe=de.get("localY"),_e=de.getModel("emphasis"),Ce=de.get(["itemStyle","borderRadius"])||0,xe=new Rect$2({shape:{x:he!=null?he*j:ue.x,y:pe!=null?pe*re:ue.y,width:ue.dx,height:ue.dy,r:Ce},style:de.getModel("itemStyle").getItemStyle(),z2:10});setLabelStyle(xe,getLabelStatesModels(de),{labelFetcher:{getFormattedLabel:function($e,Oe){return r.getFormattedLabel($e,Oe,"node")}},labelDataIndex:le.dataIndex,defaultText:le.id}),xe.disableLabelAnimation=!0,xe.setStyle("fill",le.getVisual("color")),xe.setStyle("decal",le.getVisual("style").decal),setStatesStylesFromModel(xe,de),V.add(xe),ae.setItemGraphicEl(le.dataIndex,xe),getECData(xe).dataType="node";var Ie=_e.get("focus");toggleHoverEmphasis(xe,Ie==="adjacency"?le.getAdjacentDataIndices():Ie==="trajectory"?le.getTrajectoryDataIndices():Ie,_e.get("blurScope"),_e.get("disabled"))}),ae.eachItemGraphicEl(function(le,ue){var de=ae.getItemModel(ue);de.get("draggable")&&(le.drift=function(he,pe){$._focusAdjacencyDisabled=!0,this.shape.x+=he,this.shape.y+=pe,this.dirty(),y.dispatchAction({type:"dragNode",seriesId:r.id,dataIndex:ae.getRawIndex(ue),localX:this.shape.x/j,localY:this.shape.y/re})},le.ondragend=function(){$._focusAdjacencyDisabled=!1},le.draggable=!0,le.cursor="move")}),!this._data&&r.isAnimationEnabled()&&V.setClipPath(createGridClipShape$1(V.getBoundingRect(),r,function(){V.removeClipPath()})),this._data=r.getData()},n.prototype.dispose=function(){},n.type="sankey",n}(ChartView);function applyCurveStyle(t,n,r){switch(t.fill){case"source":t.fill=r.node1.getVisual("color"),t.decal=r.node1.getVisual("style").decal;break;case"target":t.fill=r.node2.getVisual("color"),t.decal=r.node2.getVisual("style").decal;break;case"gradient":var g=r.node1.getVisual("color"),y=r.node2.getVisual("color");isString(g)&&isString(y)&&(t.fill=new LinearGradient(0,0,+(n==="horizontal"),+(n==="vertical"),[{color:g,offset:0},{color:y,offset:1}]))}}function createGridClipShape$1(t,n,r){var g=new Rect$2({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return initProps(g,{shape:{width:t.width+20}},n,r),g}var SankeySeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,g){var y=r.edges||r.links||[],$=r.data||r.nodes||[],L=r.levels||[];this.levelModels=[];for(var V=this.levelModels,z=0;z<L.length;z++)L[z].depth!=null&&L[z].depth>=0&&(V[L[z].depth]=new Model(L[z],this,g));var j=createGraphFromNodeEdge($,y,this,!0,re);return j.data;function re(ae,oe){ae.wrapMethod("getItemModel",function(ie,le){var ue=ie.parentModel,de=ue.getData().getItemLayout(le);if(de){var he=de.depth,pe=ue.levelModels[he];pe&&(ie.parentModel=pe)}return ie}),oe.wrapMethod("getItemModel",function(ie,le){var ue=ie.parentModel,de=ue.getGraph().getEdgeByIndex(le),he=de.node1.getLayout();if(he){var pe=he.depth,_e=ue.levelModels[pe];_e&&(ie.parentModel=_e)}return ie})}},n.prototype.setNodePosition=function(r,g){var y=this.option.data||this.option.nodes,$=y[r];$.localX=g[0],$.localY=g[1]},n.prototype.getGraph=function(){return this.getData().graph},n.prototype.getEdgeData=function(){return this.getGraph().edgeData},n.prototype.formatTooltip=function(r,g,y){function $(ie){return isNaN(ie)||ie==null}if(y==="edge"){var L=this.getDataParams(r,y),V=L.data,z=L.value,j=V.source+" -- "+V.target;return createTooltipMarkup("nameValue",{name:j,value:z,noValue:$(z)})}else{var re=this.getGraph().getNodeByIndex(r),ae=re.getLayout().value,oe=this.getDataParams(r,y).data.name;return createTooltipMarkup("nameValue",{name:oe!=null?oe+"":null,value:ae,noValue:$(ae)})}},n.prototype.optionUpdated=function(){},n.prototype.getDataParams=function(r,g){var y=t.prototype.getDataParams.call(this,r,g);if(y.value==null&&g==="node"){var $=this.getGraph().getNodeByIndex(r),L=$.getLayout().value;y.value=L}return y},n.type="series.sankey",n.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},n}(SeriesModel);function sankeyLayout(t,n){t.eachSeriesByType("sankey",function(r){var g=r.get("nodeWidth"),y=r.get("nodeGap"),$=getViewRect$1(r,n);r.layoutInfo=$;var L=$.width,V=$.height,z=r.getGraph(),j=z.nodes,re=z.edges;computeNodeValues(j);var ae=filter(j,function(ue){return ue.getLayout().value===0}),oe=ae.length!==0?0:r.get("layoutIterations"),ie=r.get("orient"),le=r.get("nodeAlign");layoutSankey(j,re,g,y,L,V,oe,ie,le)})}function getViewRect$1(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function layoutSankey(t,n,r,g,y,$,L,V,z){computeNodeBreadths(t,n,r,y,$,V,z),computeNodeDepths(t,n,$,y,g,L,V),computeEdgeDepths(t,V)}function computeNodeValues(t){each$f(t,function(n){var r=sum(n.outEdges,getEdgeValue),g=sum(n.inEdges,getEdgeValue),y=n.getValue()||0,$=Math.max(r,g,y);n.setLayout({value:$},!0)})}function computeNodeBreadths(t,n,r,g,y,$,L){for(var V=[],z=[],j=[],re=[],ae=0,oe=0;oe<n.length;oe++)V[oe]=1;for(var oe=0;oe<t.length;oe++)z[oe]=t[oe].inEdges.length,z[oe]===0&&j.push(t[oe]);for(var ie=-1;j.length;){for(var le=0;le<j.length;le++){var ue=j[le],de=ue.hostGraph.data.getRawDataItem(ue.dataIndex),he=de.depth!=null&&de.depth>=0;he&&de.depth>ie&&(ie=de.depth),ue.setLayout({depth:he?de.depth:ae},!0),$==="vertical"?ue.setLayout({dy:r},!0):ue.setLayout({dx:r},!0);for(var pe=0;pe<ue.outEdges.length;pe++){var _e=ue.outEdges[pe],Ce=n.indexOf(_e);V[Ce]=0;var xe=_e.node2,Ie=t.indexOf(xe);--z[Ie]===0&&re.indexOf(xe)<0&&re.push(xe)}}++ae,j=re,re=[]}for(var oe=0;oe<V.length;oe++)if(V[oe]===1)throw new Error("Sankey is a DAG, the original data has cycle!");var $e=ie>ae-1?ie:ae-1;L&&L!=="left"&&adjustNodeWithNodeAlign(t,L,$,$e);var Oe=$==="vertical"?(y-r)/$e:(g-r)/$e;scaleNodeBreadths(t,Oe,$)}function isNodeDepth(t){var n=t.hostGraph.data.getRawDataItem(t.dataIndex);return n.depth!=null&&n.depth>=0}function adjustNodeWithNodeAlign(t,n,r,g){if(n==="right"){for(var y=[],$=t,L=0;$.length;){for(var V=0;V<$.length;V++){var z=$[V];z.setLayout({skNodeHeight:L},!0);for(var j=0;j<z.inEdges.length;j++){var re=z.inEdges[j];y.indexOf(re.node1)<0&&y.push(re.node1)}}$=y,y=[],++L}each$f(t,function(ae){isNodeDepth(ae)||ae.setLayout({depth:Math.max(0,g-ae.getLayout().skNodeHeight)},!0)})}else n==="justify"&&moveSinksRight(t,g)}function moveSinksRight(t,n){each$f(t,function(r){!isNodeDepth(r)&&!r.outEdges.length&&r.setLayout({depth:n},!0)})}function scaleNodeBreadths(t,n,r){each$f(t,function(g){var y=g.getLayout().depth*n;r==="vertical"?g.setLayout({y},!0):g.setLayout({x:y},!0)})}function computeNodeDepths(t,n,r,g,y,$,L){var V=prepareNodesByBreadth(t,L);initializeNodeDepth(V,n,r,g,y,L),resolveCollisions(V,y,r,g,L);for(var z=1;$>0;$--)z*=.99,relaxRightToLeft(V,z,L),resolveCollisions(V,y,r,g,L),relaxLeftToRight(V,z,L),resolveCollisions(V,y,r,g,L)}function prepareNodesByBreadth(t,n){var r=[],g=n==="vertical"?"y":"x",y=groupData(t,function($){return $.getLayout()[g]});return y.keys.sort(function($,L){return $-L}),each$f(y.keys,function($){r.push(y.buckets.get($))}),r}function initializeNodeDepth(t,n,r,g,y,$){var L=1/0;each$f(t,function(V){var z=V.length,j=0;each$f(V,function(ae){j+=ae.getLayout().value});var re=$==="vertical"?(g-(z-1)*y)/j:(r-(z-1)*y)/j;re<L&&(L=re)}),each$f(t,function(V){each$f(V,function(z,j){var re=z.getLayout().value*L;$==="vertical"?(z.setLayout({x:j},!0),z.setLayout({dx:re},!0)):(z.setLayout({y:j},!0),z.setLayout({dy:re},!0))})}),each$f(n,function(V){var z=+V.getValue()*L;V.setLayout({dy:z},!0)})}function resolveCollisions(t,n,r,g,y){var $=y==="vertical"?"x":"y";each$f(t,function(L){L.sort(function(ue,de){return ue.getLayout()[$]-de.getLayout()[$]});for(var V,z,j,re=0,ae=L.length,oe=y==="vertical"?"dx":"dy",ie=0;ie<ae;ie++)z=L[ie],j=re-z.getLayout()[$],j>0&&(V=z.getLayout()[$]+j,y==="vertical"?z.setLayout({x:V},!0):z.setLayout({y:V},!0)),re=z.getLayout()[$]+z.getLayout()[oe]+n;var le=y==="vertical"?g:r;if(j=re-n-le,j>0){V=z.getLayout()[$]-j,y==="vertical"?z.setLayout({x:V},!0):z.setLayout({y:V},!0),re=V;for(var ie=ae-2;ie>=0;--ie)z=L[ie],j=z.getLayout()[$]+z.getLayout()[oe]+n-re,j>0&&(V=z.getLayout()[$]-j,y==="vertical"?z.setLayout({x:V},!0):z.setLayout({y:V},!0)),re=z.getLayout()[$]}})}function relaxRightToLeft(t,n,r){each$f(t.slice().reverse(),function(g){each$f(g,function(y){if(y.outEdges.length){var $=sum(y.outEdges,weightedTarget,r)/sum(y.outEdges,getEdgeValue);if(isNaN($)){var L=y.outEdges.length;$=L?sum(y.outEdges,centerTarget,r)/L:0}if(r==="vertical"){var V=y.getLayout().x+($-center(y,r))*n;y.setLayout({x:V},!0)}else{var z=y.getLayout().y+($-center(y,r))*n;y.setLayout({y:z},!0)}}})})}function weightedTarget(t,n){return center(t.node2,n)*t.getValue()}function centerTarget(t,n){return center(t.node2,n)}function weightedSource(t,n){return center(t.node1,n)*t.getValue()}function centerSource(t,n){return center(t.node1,n)}function center(t,n){return n==="vertical"?t.getLayout().x+t.getLayout().dx/2:t.getLayout().y+t.getLayout().dy/2}function getEdgeValue(t){return t.getValue()}function sum(t,n,r){for(var g=0,y=t.length,$=-1;++$<y;){var L=+n(t[$],r);isNaN(L)||(g+=L)}return g}function relaxLeftToRight(t,n,r){each$f(t,function(g){each$f(g,function(y){if(y.inEdges.length){var $=sum(y.inEdges,weightedSource,r)/sum(y.inEdges,getEdgeValue);if(isNaN($)){var L=y.inEdges.length;$=L?sum(y.inEdges,centerSource,r)/L:0}if(r==="vertical"){var V=y.getLayout().x+($-center(y,r))*n;y.setLayout({x:V},!0)}else{var z=y.getLayout().y+($-center(y,r))*n;y.setLayout({y:z},!0)}}})})}function computeEdgeDepths(t,n){var r=n==="vertical"?"x":"y";each$f(t,function(g){g.outEdges.sort(function(y,$){return y.node2.getLayout()[r]-$.node2.getLayout()[r]}),g.inEdges.sort(function(y,$){return y.node1.getLayout()[r]-$.node1.getLayout()[r]})}),each$f(t,function(g){var y=0,$=0;each$f(g.outEdges,function(L){L.setLayout({sy:y},!0),y+=L.getLayout().dy}),each$f(g.inEdges,function(L){L.setLayout({ty:$},!0),$+=L.getLayout().dy})})}function sankeyVisual(t){t.eachSeriesByType("sankey",function(n){var r=n.getGraph(),g=r.nodes,y=r.edges;if(g.length){var $=1/0,L=-1/0;each$f(g,function(V){var z=V.getLayout().value;z<$&&($=z),z>L&&(L=z)}),each$f(g,function(V){var z=new VisualMapping({type:"color",mappingMethod:"linear",dataExtent:[$,L],visual:n.get("color")}),j=z.mapValueToVisual(V.getLayout().value),re=V.getModel().get(["itemStyle","color"]);re!=null?(V.setVisual("color",re),V.setVisual("style",{fill:re})):(V.setVisual("color",j),V.setVisual("style",{fill:j}))})}y.length&&each$f(y,function(V){var z=V.getModel().get("lineStyle");V.setVisual("style",z)})})}function install$A(t){t.registerChartView(SankeyView),t.registerSeriesModel(SankeySeriesModel),t.registerLayout(sankeyLayout),t.registerVisual(sankeyVisual),t.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(n,r){r.eachComponent({mainType:"series",subType:"sankey",query:n},function(g){g.setNodePosition(n.dataIndex,[n.localX,n.localY])})})}var WhiskerBoxCommonMixin=function(){function t(){}return t.prototype._hasEncodeRule=function(n){var r=this.getEncode();return r&&r.get(n)!=null},t.prototype.getInitialData=function(n,r){var g,y=r.getComponent("xAxis",this.get("xAxisIndex")),$=r.getComponent("yAxis",this.get("yAxisIndex")),L=y.get("type"),V=$.get("type"),z;L==="category"?(n.layout="horizontal",g=y.getOrdinalMeta(),z=!this._hasEncodeRule("x")):V==="category"?(n.layout="vertical",g=$.getOrdinalMeta(),z=!this._hasEncodeRule("y")):n.layout=n.layout||"horizontal";var j=["x","y"],re=n.layout==="horizontal"?0:1,ae=this._baseAxisDim=j[re],oe=j[1-re],ie=[y,$],le=ie[re].get("type"),ue=ie[1-re].get("type"),de=n.data;if(de&&z){var he=[];each$f(de,function(Ce,xe){var Ie;isArray$1(Ce)?(Ie=Ce.slice(),Ce.unshift(xe)):isArray$1(Ce.value)?(Ie=extend({},Ce),Ie.value=Ie.value.slice(),Ce.value.unshift(xe)):Ie=Ce,he.push(Ie)}),n.data=he}var pe=this.defaultValueDimensions,_e=[{name:ae,type:getDimensionTypeByAxis(le),ordinalMeta:g,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:oe,type:getDimensionTypeByAxis(ue),dimsDef:pe.slice()}];return createSeriesDataSimply(this,{coordDimensions:_e,dimensionsCount:pe.length+1,encodeDefaulter:curry$1(makeSeriesEncodeForAxisCoordSys,_e,this)})},t.prototype.getBaseAxis=function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis},t}(),BoxplotSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],r.visualDrawType="stroke",r}return n.type="series.boxplot",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},n}(SeriesModel);mixin(BoxplotSeriesModel,WhiskerBoxCommonMixin,!0);var BoxplotView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=r.getData(),L=this.group,V=this._data;this._data||L.removeAll();var z=r.get("layout")==="horizontal"?1:0;$.diff(V).add(function(j){if($.hasValue(j)){var re=$.getItemLayout(j),ae=createNormalBox$1(re,$,j,z,!0);$.setItemGraphicEl(j,ae),L.add(ae)}}).update(function(j,re){var ae=V.getItemGraphicEl(re);if(!$.hasValue(j)){L.remove(ae);return}var oe=$.getItemLayout(j);ae?(saveOldStyle(ae),updateNormalBoxData(oe,ae,$,j)):ae=createNormalBox$1(oe,$,j,z),L.add(ae),$.setItemGraphicEl(j,ae)}).remove(function(j){var re=V.getItemGraphicEl(j);re&&L.remove(re)}).execute(),this._data=$},n.prototype.remove=function(r){var g=this.group,y=this._data;this._data=null,y&&y.eachItemGraphicEl(function($){$&&g.remove($)})},n.type="boxplot",n}(ChartView),BoxPathShape=function(){function t(){}return t}(),BoxPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="boxplotBoxPath",g}return n.prototype.getDefaultShape=function(){return new BoxPathShape},n.prototype.buildPath=function(r,g){var y=g.points,$=0;for(r.moveTo(y[$][0],y[$][1]),$++;$<4;$++)r.lineTo(y[$][0],y[$][1]);for(r.closePath();$<y.length;$++)r.moveTo(y[$][0],y[$][1]),$++,r.lineTo(y[$][0],y[$][1])},n}(Path);function createNormalBox$1(t,n,r,g,y){var $=t.ends,L=new BoxPath({shape:{points:y?transInit$1($,g,t):$}});return updateNormalBoxData(t,L,n,r,y),L}function updateNormalBoxData(t,n,r,g,y){var $=r.hostModel,L=graphic[y?"initProps":"updateProps"];L(n,{shape:{points:t.ends}},$,g),n.useStyle(r.getItemVisual(g,"style")),n.style.strokeNoScale=!0,n.z2=100;var V=r.getItemModel(g),z=V.getModel("emphasis");setStatesStylesFromModel(n,V),toggleHoverEmphasis(n,z.get("focus"),z.get("blurScope"),z.get("disabled"))}function transInit$1(t,n,r){return map$1(t,function(g){return g=g.slice(),g[n]=r.initBaseline,g})}var each$9=each$f;function boxplotLayout(t){var n=groupSeriesByAxis(t);each$9(n,function(r){var g=r.seriesModels;g.length&&(calculateBase(r),each$9(g,function(y,$){layoutSingleSeries(y,r.boxOffsetList[$],r.boxWidthList[$])}))})}function groupSeriesByAxis(t){var n=[],r=[];return t.eachSeriesByType("boxplot",function(g){var y=g.getBaseAxis(),$=indexOf(r,y);$<0&&($=r.length,r[$]=y,n[$]={axis:y,seriesModels:[]}),n[$].seriesModels.push(g)}),n}function calculateBase(t){var n=t.axis,r=t.seriesModels,g=r.length,y=t.boxWidthList=[],$=t.boxOffsetList=[],L=[],V;if(n.type==="category")V=n.getBandWidth();else{var z=0;each$9(r,function(le){z=Math.max(z,le.getData().count())});var j=n.getExtent();V=Math.abs(j[1]-j[0])/z}each$9(r,function(le){var ue=le.get("boxWidth");isArray$1(ue)||(ue=[ue,ue]),L.push([parsePercent(ue[0],V)||0,parsePercent(ue[1],V)||0])});var re=V*.8-2,ae=re/g*.3,oe=(re-ae*(g-1))/g,ie=oe/2-re/2;each$9(r,function(le,ue){$.push(ie),ie+=ae+oe,y.push(Math.min(Math.max(oe,L[ue][0]),L[ue][1]))})}function layoutSingleSeries(t,n,r){var g=t.coordinateSystem,y=t.getData(),$=r/2,L=t.get("layout")==="horizontal"?0:1,V=1-L,z=["x","y"],j=y.mapDimension(z[L]),re=y.mapDimensionsAll(z[V]);if(j==null||re.length<5)return;for(var ae=0;ae<y.count();ae++){var oe=y.get(j,ae),ie=_e(oe,re[2],ae),le=_e(oe,re[0],ae),ue=_e(oe,re[1],ae),de=_e(oe,re[3],ae),he=_e(oe,re[4],ae),pe=[];Ce(pe,ue,!1),Ce(pe,de,!0),pe.push(le,ue,he,de),xe(pe,le),xe(pe,he),xe(pe,ie),y.setItemLayout(ae,{initBaseline:ie[V],ends:pe})}function _e(Ie,$e,Oe){var Ne=y.get($e,Oe),Fe=[];Fe[L]=Ie,Fe[V]=Ne;var Ve;return isNaN(Ie)||isNaN(Ne)?Ve=[NaN,NaN]:(Ve=g.dataToPoint(Fe),Ve[L]+=n),Ve}function Ce(Ie,$e,Oe){var Ne=$e.slice(),Fe=$e.slice();Ne[L]+=$,Fe[L]-=$,Oe?Ie.push(Ne,Fe):Ie.push(Fe,Ne)}function xe(Ie,$e){var Oe=$e.slice(),Ne=$e.slice();Oe[L]-=$,Ne[L]+=$,Ie.push(Oe,Ne)}}function prepareBoxplotData(t,n){n=n||{};for(var r=[],g=[],y=n.boundIQR,$=y==="none"||y===0,L=0;L<t.length;L++){var V=asc$2(t[L].slice()),z=quantile(V,.25),j=quantile(V,.5),re=quantile(V,.75),ae=V[0],oe=V[V.length-1],ie=(y??1.5)*(re-z),le=$?ae:Math.max(ae,z-ie),ue=$?oe:Math.min(oe,re+ie),de=n.itemNameFormatter,he=isFunction(de)?de({value:L}):isString(de)?de.replace("{value}",L+""):L+"";r.push([he,le,z,j,re,ue]);for(var pe=0;pe<V.length;pe++){var _e=V[pe];if(_e<le||_e>ue){var Ce=[he,_e];g.push(Ce)}}}return{boxData:r,outliers:g}}var boxplotTransform={type:"echarts:boxplot",transform:function(n){var r=n.upstream;if(r.sourceFormat!==SOURCE_FORMAT_ARRAY_ROWS){var g="";throwError(g)}var y=prepareBoxplotData(r.getRawData(),n.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:y.boxData},{data:y.outliers}]}};function install$z(t){t.registerSeriesModel(BoxplotSeriesModel),t.registerChartView(BoxplotView),t.registerLayout(boxplotLayout),t.registerTransform(boxplotTransform)}var positiveBorderColorQuery=["itemStyle","borderColor"],negativeBorderColorQuery=["itemStyle","borderColor0"],dojiBorderColorQuery=["itemStyle","borderColorDoji"],positiveColorQuery=["itemStyle","color"],negativeColorQuery=["itemStyle","color0"];function getColor(t,n){return n.get(t>0?positiveColorQuery:negativeColorQuery)}function getBorderColor(t,n){return n.get(t===0?dojiBorderColorQuery:t>0?positiveBorderColorQuery:negativeBorderColorQuery)}var candlestickVisual={seriesType:"candlestick",plan:createRenderPlanner(),performRawSeries:!0,reset:function(t,n){if(!n.isSeriesFiltered(t)){var r=t.pipelineContext.large;return!r&&{progress:function(g,y){for(var $;($=g.next())!=null;){var L=y.getItemModel($),V=y.getItemLayout($).sign,z=L.getItemStyle();z.fill=getColor(V,L),z.stroke=getBorderColor(V,L)||z.fill;var j=y.ensureUniqueItemVisual($,"style");extend(j,z)}}}}}},SKIP_PROPS=["color","borderColor"],CandlestickView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(r),this._isLargeDraw?this._renderLarge(r):this._renderNormal(r)},n.prototype.incrementalPrepareRender=function(r,g,y){this._clear(),this._updateDrawMode(r)},n.prototype.incrementalRender=function(r,g,y,$){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(r,g):this._incrementalRenderNormal(r,g)},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._updateDrawMode=function(r){var g=r.pipelineContext.large;(this._isLargeDraw==null||g!==this._isLargeDraw)&&(this._isLargeDraw=g,this._clear())},n.prototype._renderNormal=function(r){var g=r.getData(),y=this._data,$=this.group,L=g.getLayout("isSimpleBox"),V=r.get("clip",!0),z=r.coordinateSystem,j=z.getArea&&z.getArea();this._data||$.removeAll(),g.diff(y).add(function(re){if(g.hasValue(re)){var ae=g.getItemLayout(re);if(V&&isNormalBoxClipped(j,ae))return;var oe=createNormalBox(ae,re,!0);initProps(oe,{shape:{points:ae.ends}},r,re),setBoxCommon(oe,g,re,L),$.add(oe),g.setItemGraphicEl(re,oe)}}).update(function(re,ae){var oe=y.getItemGraphicEl(ae);if(!g.hasValue(re)){$.remove(oe);return}var ie=g.getItemLayout(re);if(V&&isNormalBoxClipped(j,ie)){$.remove(oe);return}oe?(updateProps$1(oe,{shape:{points:ie.ends}},r,re),saveOldStyle(oe)):oe=createNormalBox(ie),setBoxCommon(oe,g,re,L),$.add(oe),g.setItemGraphicEl(re,oe)}).remove(function(re){var ae=y.getItemGraphicEl(re);ae&&$.remove(ae)}).execute(),this._data=g},n.prototype._renderLarge=function(r){this._clear(),createLarge(r,this.group);var g=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;g?this.group.setClipPath(g):this.group.removeClipPath()},n.prototype._incrementalRenderNormal=function(r,g){for(var y=g.getData(),$=y.getLayout("isSimpleBox"),L;(L=r.next())!=null;){var V=y.getItemLayout(L),z=createNormalBox(V);setBoxCommon(z,y,L,$),z.incremental=!0,this.group.add(z),this._progressiveEls.push(z)}},n.prototype._incrementalRenderLarge=function(r,g){createLarge(g,this.group,this._progressiveEls,!0)},n.prototype.remove=function(r){this._clear()},n.prototype._clear=function(){this.group.removeAll(),this._data=null},n.type="candlestick",n}(ChartView),NormalBoxPathShape=function(){function t(){}return t}(),NormalBoxPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="normalCandlestickBox",g}return n.prototype.getDefaultShape=function(){return new NormalBoxPathShape},n.prototype.buildPath=function(r,g){var y=g.points;this.__simpleBox?(r.moveTo(y[4][0],y[4][1]),r.lineTo(y[6][0],y[6][1])):(r.moveTo(y[0][0],y[0][1]),r.lineTo(y[1][0],y[1][1]),r.lineTo(y[2][0],y[2][1]),r.lineTo(y[3][0],y[3][1]),r.closePath(),r.moveTo(y[4][0],y[4][1]),r.lineTo(y[5][0],y[5][1]),r.moveTo(y[6][0],y[6][1]),r.lineTo(y[7][0],y[7][1]))},n}(Path);function createNormalBox(t,n,r){var g=t.ends;return new NormalBoxPath({shape:{points:r?transInit(g,t):g},z2:100})}function isNormalBoxClipped(t,n){for(var r=!0,g=0;g<n.ends.length;g++)if(t.contain(n.ends[g][0],n.ends[g][1])){r=!1;break}return r}function setBoxCommon(t,n,r,g){var y=n.getItemModel(r);t.useStyle(n.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.__simpleBox=g,setStatesStylesFromModel(t,y);var $=n.getItemLayout(r).sign;each$f(t.states,function(V,z){var j=y.getModel(z),re=getColor($,j),ae=getBorderColor($,j)||re,oe=V.style||(V.style={});re&&(oe.fill=re),ae&&(oe.stroke=ae)});var L=y.getModel("emphasis");toggleHoverEmphasis(t,L.get("focus"),L.get("blurScope"),L.get("disabled"))}function transInit(t,n){return map$1(t,function(r){return r=r.slice(),r[1]=n.initBaseline,r})}var LargeBoxPathShape=function(){function t(){}return t}(),LargeBoxPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g.type="largeCandlestickBox",g}return n.prototype.getDefaultShape=function(){return new LargeBoxPathShape},n.prototype.buildPath=function(r,g){for(var y=g.points,$=0;$<y.length;)if(this.__sign===y[$++]){var L=y[$++];r.moveTo(L,y[$++]),r.lineTo(L,y[$++])}else $+=3},n}(Path);function createLarge(t,n,r,g){var y=t.getData(),$=y.getLayout("largePoints"),L=new LargeBoxPath({shape:{points:$},__sign:1,ignoreCoarsePointer:!0});n.add(L);var V=new LargeBoxPath({shape:{points:$},__sign:-1,ignoreCoarsePointer:!0});n.add(V);var z=new LargeBoxPath({shape:{points:$},__sign:0,ignoreCoarsePointer:!0});n.add(z),setLargeStyle(1,L,t),setLargeStyle(-1,V,t),setLargeStyle(0,z,t),g&&(L.incremental=!0,V.incremental=!0),r&&r.push(L,V)}function setLargeStyle(t,n,r,g){var y=getBorderColor(t,r)||getColor(t,r),$=r.getModel("itemStyle").getItemStyle(SKIP_PROPS);n.useStyle($),n.style.fill=null,n.style.stroke=y}var CandlestickSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],r}return n.prototype.getShadowDim=function(){return"open"},n.prototype.brushSelector=function(r,g,y){var $=g.getItemLayout(r);return $&&y.rect($.brushRect)},n.type="series.candlestick",n.dependencies=["xAxis","yAxis","grid"],n.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},n}(SeriesModel);mixin(CandlestickSeriesModel,WhiskerBoxCommonMixin,!0);function candlestickPreprocessor(t){!t||!isArray$1(t.series)||each$f(t.series,function(n){isObject$3(n)&&n.type==="k"&&(n.type="candlestick")})}var candlestickLayout={seriesType:"candlestick",plan:createRenderPlanner(),reset:function(t){var n=t.coordinateSystem,r=t.getData(),g=calculateCandleWidth(t,r),y=0,$=1,L=["x","y"],V=r.getDimensionIndex(r.mapDimension(L[y])),z=map$1(r.mapDimensionsAll(L[$]),r.getDimensionIndex,r),j=z[0],re=z[1],ae=z[2],oe=z[3];if(r.setLayout({candleWidth:g,isSimpleBox:g<=1.3}),V<0||z.length<4)return;return{progress:t.pipelineContext.large?le:ie};function ie(ue,de){for(var he,pe=de.getStore();(he=ue.next())!=null;){var _e=pe.get(V,he),Ce=pe.get(j,he),xe=pe.get(re,he),Ie=pe.get(ae,he),$e=pe.get(oe,he),Oe=Math.min(Ce,xe),Ne=Math.max(Ce,xe),Fe=Lt(Oe,_e),Ve=Lt(Ne,_e),ze=Lt(Ie,_e),Et=Lt($e,_e),Dt=[];Pt(Dt,Ve,0),Pt(Dt,Fe,1),Dt.push(vn(Et),vn(Ve),vn(ze),vn(Fe));var Ue=de.getItemModel(he),qe=!!Ue.get(["itemStyle","borderColorDoji"]);de.setItemLayout(he,{sign:getSign(pe,he,Ce,xe,re,qe),initBaseline:Ce>xe?Ve[$]:Fe[$],ends:Dt,brushRect:At(Ie,$e,_e)})}function Lt(En,Sn){var kt=[];return kt[y]=Sn,kt[$]=En,isNaN(Sn)||isNaN(En)?[NaN,NaN]:n.dataToPoint(kt)}function Pt(En,Sn,kt){var jt=Sn.slice(),_n=Sn.slice();jt[y]=subPixelOptimize(jt[y]+g/2,1,!1),_n[y]=subPixelOptimize(_n[y]-g/2,1,!0),kt?En.push(jt,_n):En.push(_n,jt)}function At(En,Sn,kt){var jt=Lt(En,kt),_n=Lt(Sn,kt);return jt[y]-=g/2,_n[y]-=g/2,{x:jt[0],y:jt[1],width:g,height:_n[1]-jt[1]}}function vn(En){return En[y]=subPixelOptimize(En[y],1),En}}function le(ue,de){for(var he=createFloat32Array(ue.count*4),pe=0,_e,Ce=[],xe=[],Ie,$e=de.getStore(),Oe=!!t.get(["itemStyle","borderColorDoji"]);(Ie=ue.next())!=null;){var Ne=$e.get(V,Ie),Fe=$e.get(j,Ie),Ve=$e.get(re,Ie),ze=$e.get(ae,Ie),Et=$e.get(oe,Ie);if(isNaN(Ne)||isNaN(ze)||isNaN(Et)){he[pe++]=NaN,pe+=3;continue}he[pe++]=getSign($e,Ie,Fe,Ve,re,Oe),Ce[y]=Ne,Ce[$]=ze,_e=n.dataToPoint(Ce,null,xe),he[pe++]=_e?_e[0]:NaN,he[pe++]=_e?_e[1]:NaN,Ce[$]=Et,_e=n.dataToPoint(Ce,null,xe),he[pe++]=_e?_e[1]:NaN}de.setLayout("largePoints",he)}}};function getSign(t,n,r,g,y,$){var L;return r>g?L=-1:r<g?L=1:L=$?0:n>0?t.get(y,n-1)<=g?1:-1:1,L}function calculateCandleWidth(t,n){var r=t.getBaseAxis(),g,y=r.type==="category"?r.getBandWidth():(g=r.getExtent(),Math.abs(g[1]-g[0])/n.count()),$=parsePercent(retrieve2(t.get("barMaxWidth"),y),y),L=parsePercent(retrieve2(t.get("barMinWidth"),1),y),V=t.get("barWidth");return V!=null?parsePercent(V,y):Math.max(Math.min(y/2,$),L)}function install$y(t){t.registerChartView(CandlestickView),t.registerSeriesModel(CandlestickSeriesModel),t.registerPreprocessor(candlestickPreprocessor),t.registerVisual(candlestickVisual),t.registerLayout(candlestickLayout)}function updateRipplePath(t,n){var r=n.rippleEffectColor||n.color;t.eachChild(function(g){g.attr({z:n.z,zlevel:n.zlevel,style:{stroke:n.brushType==="stroke"?r:null,fill:n.brushType==="fill"?r:null}})})}var EffectSymbol=function(t){__extends(n,t);function n(r,g){var y=t.call(this)||this,$=new Symbol$1(r,g),L=new Group$3;return y.add($),y.add(L),y.updateData(r,g),y}return n.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},n.prototype.startEffectAnimation=function(r){for(var g=r.symbolType,y=r.color,$=r.rippleNumber,L=this.childAt(1),V=0;V<$;V++){var z=createSymbol$1(g,-1,-1,2,2,y);z.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var j=-V/$*r.period+r.effectOffset;z.animate("",!0).when(r.period,{scaleX:r.rippleScale/2,scaleY:r.rippleScale/2}).delay(j).start(),z.animateStyle(!0).when(r.period,{opacity:0}).delay(j).start(),L.add(z)}updateRipplePath(L,r)},n.prototype.updateEffectAnimation=function(r){for(var g=this._effectCfg,y=this.childAt(1),$=["symbolType","period","rippleScale","rippleNumber"],L=0;L<$.length;L++){var V=$[L];if(g[V]!==r[V]){this.stopEffectAnimation(),this.startEffectAnimation(r);return}}updateRipplePath(y,r)},n.prototype.highlight=function(){enterEmphasis(this)},n.prototype.downplay=function(){leaveEmphasis(this)},n.prototype.getSymbolType=function(){var r=this.childAt(0);return r&&r.getSymbolType()},n.prototype.updateData=function(r,g){var y=this,$=r.hostModel;this.childAt(0).updateData(r,g);var L=this.childAt(1),V=r.getItemModel(g),z=r.getItemVisual(g,"symbol"),j=normalizeSymbolSize(r.getItemVisual(g,"symbolSize")),re=r.getItemVisual(g,"style"),ae=re&&re.fill,oe=V.getModel("emphasis");L.setScale(j),L.traverse(function(de){de.setStyle("fill",ae)});var ie=normalizeSymbolOffset(r.getItemVisual(g,"symbolOffset"),j);ie&&(L.x=ie[0],L.y=ie[1]);var le=r.getItemVisual(g,"symbolRotate");L.rotation=(le||0)*Math.PI/180||0;var ue={};ue.showEffectOn=$.get("showEffectOn"),ue.rippleScale=V.get(["rippleEffect","scale"]),ue.brushType=V.get(["rippleEffect","brushType"]),ue.period=V.get(["rippleEffect","period"])*1e3,ue.effectOffset=g/r.count(),ue.z=$.getShallow("z")||0,ue.zlevel=$.getShallow("zlevel")||0,ue.symbolType=z,ue.color=ae,ue.rippleEffectColor=V.get(["rippleEffect","color"]),ue.rippleNumber=V.get(["rippleEffect","number"]),ue.showEffectOn==="render"?(this._effectCfg?this.updateEffectAnimation(ue):this.startEffectAnimation(ue),this._effectCfg=ue):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(de){de==="emphasis"?ue.showEffectOn!=="render"&&y.startEffectAnimation(ue):de==="normal"&&ue.showEffectOn!=="render"&&y.stopEffectAnimation()}),this._effectCfg=ue,toggleHoverEmphasis(this,oe.get("focus"),oe.get("blurScope"),oe.get("disabled"))},n.prototype.fadeOut=function(r){r&&r()},n}(Group$3),EffectScatterView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._symbolDraw=new SymbolDraw(EffectSymbol)},n.prototype.render=function(r,g,y){var $=r.getData(),L=this._symbolDraw;L.updateData($,{clipShape:this._getClipShape(r)}),this.group.add(L.group)},n.prototype._getClipShape=function(r){var g=r.coordinateSystem,y=g&&g.getArea&&g.getArea();return r.get("clip",!0)?y:null},n.prototype.updateTransform=function(r,g,y){var $=r.getData();this.group.dirty();var L=pointsLayout("").reset(r,g,y);L.progress&&L.progress({start:0,end:$.count(),count:$.count()},$),this._symbolDraw.updateLayout()},n.prototype._updateGroupTransform=function(r){var g=r.coordinateSystem;g&&g.getRoamTransform&&(this.group.transform=clone$2(g.getRoamTransform()),this.group.decomposeTransform())},n.prototype.remove=function(r,g){this._symbolDraw&&this._symbolDraw.remove(!0)},n.type="effectScatter",n}(ChartView),EffectScatterSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r}return n.prototype.getInitialData=function(r,g){return createSeriesData(null,this,{useEncodeDefaulter:!0})},n.prototype.brushSelector=function(r,g,y){return y.point(g.getItemLayout(r))},n.type="series.effectScatter",n.dependencies=["grid","polar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},n}(SeriesModel);function install$x(t){t.registerChartView(EffectScatterView),t.registerSeriesModel(EffectScatterSeriesModel),t.registerLayout(pointsLayout("effectScatter"))}var EffectLine=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this)||this;return $.add($.createLine(r,g,y)),$._updateEffectSymbol(r,g),$}return n.prototype.createLine=function(r,g,y){return new Line(r,g,y)},n.prototype._updateEffectSymbol=function(r,g){var y=r.getItemModel(g),$=y.getModel("effect"),L=$.get("symbolSize"),V=$.get("symbol");isArray$1(L)||(L=[L,L]);var z=r.getItemVisual(g,"style"),j=$.get("color")||z&&z.stroke,re=this.childAt(1);this._symbolType!==V&&(this.remove(re),re=createSymbol$1(V,-.5,-.5,1,1,j),re.z2=100,re.culling=!0,this.add(re)),re&&(re.setStyle("shadowColor",j),re.setStyle($.getItemStyle(["color"])),re.scaleX=L[0],re.scaleY=L[1],re.setColor(j),this._symbolType=V,this._symbolScale=L,this._updateEffectAnimation(r,$,g))},n.prototype._updateEffectAnimation=function(r,g,y){var $=this.childAt(1);if($){var L=r.getItemLayout(y),V=g.get("period")*1e3,z=g.get("loop"),j=g.get("roundTrip"),re=g.get("constantSpeed"),ae=retrieve(g.get("delay"),function(ie){return ie/r.count()*V/3});if($.ignore=!0,this._updateAnimationPoints($,L),re>0&&(V=this._getLineLength($)/re*1e3),V!==this._period||z!==this._loop||j!==this._roundTrip){$.stopAnimation();var oe=void 0;isFunction(ae)?oe=ae(y):oe=ae,$.__t>0&&(oe=-V*$.__t),this._animateSymbol($,V,oe,z,j)}this._period=V,this._loop=z,this._roundTrip=j}},n.prototype._animateSymbol=function(r,g,y,$,L){if(g>0){r.__t=0;var V=this,z=r.animate("",$).when(L?g*2:g,{__t:L?2:1}).delay(y).during(function(){V._updateSymbolPosition(r)});$||z.done(function(){V.remove(r)}),z.start()}},n.prototype._getLineLength=function(r){return dist$1(r.__p1,r.__cp1)+dist$1(r.__cp1,r.__p2)},n.prototype._updateAnimationPoints=function(r,g){r.__p1=g[0],r.__p2=g[1],r.__cp1=g[2]||[(g[0][0]+g[1][0])/2,(g[0][1]+g[1][1])/2]},n.prototype.updateData=function(r,g,y){this.childAt(0).updateData(r,g,y),this._updateEffectSymbol(r,g)},n.prototype._updateSymbolPosition=function(r){var g=r.__p1,y=r.__p2,$=r.__cp1,L=r.__t<1?r.__t:2-r.__t,V=[r.x,r.y],z=V.slice(),j=quadraticAt$1,re=quadraticDerivativeAt;V[0]=j(g[0],$[0],y[0],L),V[1]=j(g[1],$[1],y[1],L);var ae=r.__t<1?re(g[0],$[0],y[0],L):re(y[0],$[0],g[0],1-L),oe=r.__t<1?re(g[1],$[1],y[1],L):re(y[1],$[1],g[1],1-L);r.rotation=-Math.atan2(oe,ae)-Math.PI/2,(this._symbolType==="line"||this._symbolType==="rect"||this._symbolType==="roundRect")&&(r.__lastT!==void 0&&r.__lastT<r.__t?(r.scaleY=dist$1(z,V)*1.05,L===1&&(V[0]=z[0]+(V[0]-z[0])/2,V[1]=z[1]+(V[1]-z[1])/2)):r.__lastT===1?r.scaleY=2*dist$1(g,V):r.scaleY=this._symbolScale[1]),r.__lastT=r.__t,r.ignore=!1,r.x=V[0],r.y=V[1]},n.prototype.updateLayout=function(r,g){this.childAt(0).updateLayout(r,g);var y=r.getItemModel(g).getModel("effect");this._updateEffectAnimation(r,y,g)},n}(Group$3),Polyline=function(t){__extends(n,t);function n(r,g,y){var $=t.call(this)||this;return $._createPolyline(r,g,y),$}return n.prototype._createPolyline=function(r,g,y){var $=r.getItemLayout(g),L=new Polyline$1({shape:{points:$}});this.add(L),this._updateCommonStl(r,g,y)},n.prototype.updateData=function(r,g,y){var $=r.hostModel,L=this.childAt(0),V={shape:{points:r.getItemLayout(g)}};updateProps$1(L,V,$,g),this._updateCommonStl(r,g,y)},n.prototype._updateCommonStl=function(r,g,y){var $=this.childAt(0),L=r.getItemModel(g),V=y&&y.emphasisLineStyle,z=y&&y.focus,j=y&&y.blurScope,re=y&&y.emphasisDisabled;if(!y||r.hasItemOption){var ae=L.getModel("emphasis");V=ae.getModel("lineStyle").getLineStyle(),re=ae.get("disabled"),z=ae.get("focus"),j=ae.get("blurScope")}$.useStyle(r.getItemVisual(g,"style")),$.style.fill=null,$.style.strokeNoScale=!0;var oe=$.ensureState("emphasis");oe.style=V,toggleHoverEmphasis(this,z,j,re)},n.prototype.updateLayout=function(r,g){var y=this.childAt(0);y.setShape("points",r.getItemLayout(g))},n}(Group$3),EffectPolyline=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r._lastFrame=0,r._lastFramePercent=0,r}return n.prototype.createLine=function(r,g,y){return new Polyline(r,g,y)},n.prototype._updateAnimationPoints=function(r,g){this._points=g;for(var y=[0],$=0,L=1;L<g.length;L++){var V=g[L-1],z=g[L];$+=dist$1(V,z),y.push($)}if($===0){this._length=0;return}for(var L=0;L<y.length;L++)y[L]/=$;this._offsets=y,this._length=$},n.prototype._getLineLength=function(){return this._length},n.prototype._updateSymbolPosition=function(r){var g=r.__t<1?r.__t:2-r.__t,y=this._points,$=this._offsets,L=y.length;if($){var V=this._lastFrame,z;if(g<this._lastFramePercent){var j=Math.min(V+1,L-1);for(z=j;z>=0&&!($[z]<=g);z--);z=Math.min(z,L-2)}else{for(z=V;z<L&&!($[z]>g);z++);z=Math.min(z-1,L-2)}var re=(g-$[z])/($[z+1]-$[z]),ae=y[z],oe=y[z+1];r.x=ae[0]*(1-re)+re*oe[0],r.y=ae[1]*(1-re)+re*oe[1];var ie=r.__t<1?oe[0]-ae[0]:ae[0]-oe[0],le=r.__t<1?oe[1]-ae[1]:ae[1]-oe[1];r.rotation=-Math.atan2(le,ie)-Math.PI/2,this._lastFrame=z,this._lastFramePercent=g,r.ignore=!1}},n}(EffectLine),LargeLinesPathShape=function(){function t(){this.polyline=!1,this.curveness=0,this.segs=[]}return t}(),LargeLinesPath=function(t){__extends(n,t);function n(r){var g=t.call(this,r)||this;return g._off=0,g.hoverDataIdx=-1,g}return n.prototype.reset=function(){this.notClear=!1,this._off=0},n.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},n.prototype.getDefaultShape=function(){return new LargeLinesPathShape},n.prototype.buildPath=function(r,g){var y=g.segs,$=g.curveness,L;if(g.polyline)for(L=this._off;L<y.length;){var V=y[L++];if(V>0){r.moveTo(y[L++],y[L++]);for(var z=1;z<V;z++)r.lineTo(y[L++],y[L++])}}else for(L=this._off;L<y.length;){var j=y[L++],re=y[L++],ae=y[L++],oe=y[L++];if(r.moveTo(j,re),$>0){var ie=(j+ae)/2-(re-oe)*$,le=(re+oe)/2-(ae-j)*$;r.quadraticCurveTo(ie,le,ae,oe)}else r.lineTo(ae,oe)}this.incremental&&(this._off=L,this.notClear=!0)},n.prototype.findDataIndex=function(r,g){var y=this.shape,$=y.segs,L=y.curveness,V=this.style.lineWidth;if(y.polyline)for(var z=0,j=0;j<$.length;){var re=$[j++];if(re>0)for(var ae=$[j++],oe=$[j++],ie=1;ie<re;ie++){var le=$[j++],ue=$[j++];if(containStroke$4(ae,oe,le,ue,V,r,g))return z}z++}else for(var z=0,j=0;j<$.length;){var ae=$[j++],oe=$[j++],le=$[j++],ue=$[j++];if(L>0){var de=(ae+le)/2-(oe-ue)*L,he=(oe+ue)/2-(le-ae)*L;if(containStroke$2(ae,oe,de,he,le,ue,V,r,g))return z}else if(containStroke$4(ae,oe,le,ue,V,r,g))return z;z++}return-1},n.prototype.contain=function(r,g){var y=this.transformCoordToLocal(r,g),$=this.getBoundingRect();if(r=y[0],g=y[1],$.contain(r,g)){var L=this.hoverDataIdx=this.findDataIndex(r,g);return L>=0}return this.hoverDataIdx=-1,!1},n.prototype.getBoundingRect=function(){var r=this._rect;if(!r){for(var g=this.shape,y=g.segs,$=1/0,L=1/0,V=-1/0,z=-1/0,j=0;j<y.length;){var re=y[j++],ae=y[j++];$=Math.min(re,$),V=Math.max(re,V),L=Math.min(ae,L),z=Math.max(ae,z)}r=this._rect=new BoundingRect($,L,V,z)}return r},n}(Path),LargeLineDraw=function(){function t(){this.group=new Group$3}return t.prototype.updateData=function(n){this._clear();var r=this._create();r.setShape({segs:n.getLayout("linesPoints")}),this._setCommon(r,n)},t.prototype.incrementalPrepareUpdate=function(n){this.group.removeAll(),this._clear()},t.prototype.incrementalUpdate=function(n,r){var g=this._newAdded[0],y=r.getLayout("linesPoints"),$=g&&g.shape.segs;if($&&$.length<2e4){var L=$.length,V=new Float32Array(L+y.length);V.set($),V.set(y,L),g.setShape({segs:V})}else{this._newAdded=[];var z=this._create();z.incremental=!0,z.setShape({segs:y}),this._setCommon(z,r),z.__startIndex=n.start}},t.prototype.remove=function(){this._clear()},t.prototype.eachRendered=function(n){this._newAdded[0]&&n(this._newAdded[0])},t.prototype._create=function(){var n=new LargeLinesPath({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(n),this.group.add(n),n},t.prototype._setCommon=function(n,r,g){var y=r.hostModel;n.setShape({polyline:y.get("polyline"),curveness:y.get(["lineStyle","curveness"])}),n.useStyle(y.getModel("lineStyle").getLineStyle()),n.style.strokeNoScale=!0;var $=r.getVisual("style");$&&$.stroke&&n.setStyle("stroke",$.stroke),n.setStyle("fill",null);var L=getECData(n);L.seriesIndex=y.seriesIndex,n.on("mousemove",function(V){L.dataIndex=null;var z=n.hoverDataIdx;z>0&&(L.dataIndex=z+n.__startIndex)})},t.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},t}(),linesLayout={seriesType:"lines",plan:createRenderPlanner(),reset:function(t){var n=t.coordinateSystem;if(n){var r=t.get("polyline"),g=t.pipelineContext.large;return{progress:function(y,$){var L=[];if(g){var V=void 0,z=y.end-y.start;if(r){for(var j=0,re=y.start;re<y.end;re++)j+=t.getLineCoordsCount(re);V=new Float32Array(z+j*2)}else V=new Float32Array(z*4);for(var ae=0,oe=[],re=y.start;re<y.end;re++){var ie=t.getLineCoords(re,L);r&&(V[ae++]=ie);for(var le=0;le<ie;le++)oe=n.dataToPoint(L[le],!1,oe),V[ae++]=oe[0],V[ae++]=oe[1]}$.setLayout("linesPoints",V)}else for(var re=y.start;re<y.end;re++){var ue=$.getItemModel(re),ie=t.getLineCoords(re,L),de=[];if(r)for(var he=0;he<ie;he++)de.push(n.dataToPoint(L[he]));else{de[0]=n.dataToPoint(L[0]),de[1]=n.dataToPoint(L[1]);var pe=ue.get(["lineStyle","curveness"]);+pe&&(de[2]=[(de[0][0]+de[1][0])/2-(de[0][1]-de[1][1])*pe,(de[0][1]+de[1][1])/2-(de[1][0]-de[0][0])*pe])}$.setItemLayout(re,de)}}}}}},LinesView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=r.getData(),L=this._updateLineDraw($,r),V=r.get("zlevel"),z=r.get(["effect","trailLength"]),j=y.getZr(),re=j.painter.getType()==="svg";re||j.painter.getLayer(V).clear(!0),this._lastZlevel!=null&&!re&&j.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(r)&&z>0&&(re||j.configLayer(V,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(z/10+.9,1),0)})),L.updateData($);var ae=r.get("clip",!0)&&createClipPath(r.coordinateSystem,!1,r);ae?this.group.setClipPath(ae):this.group.removeClipPath(),this._lastZlevel=V,this._finished=!0},n.prototype.incrementalPrepareRender=function(r,g,y){var $=r.getData(),L=this._updateLineDraw($,r);L.incrementalPrepareUpdate($),this._clearLayer(y),this._finished=!1},n.prototype.incrementalRender=function(r,g,y){this._lineDraw.incrementalUpdate(r,g.getData()),this._finished=r.end===g.getData().count()},n.prototype.eachRendered=function(r){this._lineDraw&&this._lineDraw.eachRendered(r)},n.prototype.updateTransform=function(r,g,y){var $=r.getData(),L=r.pipelineContext;if(!this._finished||L.large||L.progressiveRender)return{update:!0};var V=linesLayout.reset(r,g,y);V.progress&&V.progress({start:0,end:$.count(),count:$.count()},$),this._lineDraw.updateLayout(),this._clearLayer(y)},n.prototype._updateLineDraw=function(r,g){var y=this._lineDraw,$=this._showEffect(g),L=!!g.get("polyline"),V=g.pipelineContext,z=V.large;return(!y||$!==this._hasEffet||L!==this._isPolyline||z!==this._isLargeDraw)&&(y&&y.remove(),y=this._lineDraw=z?new LargeLineDraw:new LineDraw(L?$?EffectPolyline:Polyline:$?EffectLine:Line),this._hasEffet=$,this._isPolyline=L,this._isLargeDraw=z),this.group.add(y.group),y},n.prototype._showEffect=function(r){return!!r.get(["effect","show"])},n.prototype._clearLayer=function(r){var g=r.getZr(),y=g.painter.getType()==="svg";!y&&this._lastZlevel!=null&&g.painter.getLayer(this._lastZlevel).clear(!0)},n.prototype.remove=function(r,g){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(g)},n.prototype.dispose=function(r,g){this.remove(r,g)},n.type="lines",n}(ChartView),Uint32Arr=typeof Uint32Array>"u"?Array:Uint32Array,Float64Arr=typeof Float64Array>"u"?Array:Float64Array;function compatEc2(t){var n=t.data;n&&n[0]&&n[0][0]&&n[0][0].coord&&(t.data=map$1(n,function(r){var g=[r[0].coord,r[1].coord],y={coords:g};return r[0].name&&(y.fromName=r[0].name),r[1].name&&(y.toName=r[1].name),mergeAll([y,r[0],r[1]])}))}var LinesSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.visualStyleAccessPath="lineStyle",r.visualDrawType="stroke",r}return n.prototype.init=function(r){r.data=r.data||[],compatEc2(r);var g=this._processFlatCoordsArray(r.data);this._flatCoords=g.flatCoords,this._flatCoordsOffset=g.flatCoordsOffset,g.flatCoords&&(r.data=new Float32Array(g.count)),t.prototype.init.apply(this,arguments)},n.prototype.mergeOption=function(r){if(compatEc2(r),r.data){var g=this._processFlatCoordsArray(r.data);this._flatCoords=g.flatCoords,this._flatCoordsOffset=g.flatCoordsOffset,g.flatCoords&&(r.data=new Float32Array(g.count))}t.prototype.mergeOption.apply(this,arguments)},n.prototype.appendData=function(r){var g=this._processFlatCoordsArray(r.data);g.flatCoords&&(this._flatCoords?(this._flatCoords=concatArray(this._flatCoords,g.flatCoords),this._flatCoordsOffset=concatArray(this._flatCoordsOffset,g.flatCoordsOffset)):(this._flatCoords=g.flatCoords,this._flatCoordsOffset=g.flatCoordsOffset),r.data=new Float32Array(g.count)),this.getRawData().appendData(r.data)},n.prototype._getCoordsFromItemModel=function(r){var g=this.getData().getItemModel(r),y=g.option instanceof Array?g.option:g.getShallow("coords");return y},n.prototype.getLineCoordsCount=function(r){return this._flatCoordsOffset?this._flatCoordsOffset[r*2+1]:this._getCoordsFromItemModel(r).length},n.prototype.getLineCoords=function(r,g){if(this._flatCoordsOffset){for(var y=this._flatCoordsOffset[r*2],$=this._flatCoordsOffset[r*2+1],L=0;L<$;L++)g[L]=g[L]||[],g[L][0]=this._flatCoords[y+L*2],g[L][1]=this._flatCoords[y+L*2+1];return $}else{for(var V=this._getCoordsFromItemModel(r),L=0;L<V.length;L++)g[L]=g[L]||[],g[L][0]=V[L][0],g[L][1]=V[L][1];return V.length}},n.prototype._processFlatCoordsArray=function(r){var g=0;if(this._flatCoords&&(g=this._flatCoords.length),isNumber(r[0])){for(var y=r.length,$=new Uint32Arr(y),L=new Float64Arr(y),V=0,z=0,j=0,re=0;re<y;){j++;var ae=r[re++];$[z++]=V+g,$[z++]=ae;for(var oe=0;oe<ae;oe++){var ie=r[re++],le=r[re++];L[V++]=ie,L[V++]=le}}return{flatCoordsOffset:new Uint32Array($.buffer,0,z),flatCoords:L,count:j}}return{flatCoordsOffset:null,flatCoords:null,count:r.length}},n.prototype.getInitialData=function(r,g){var y=new SeriesData(["value"],this);return y.hasItemOption=!1,y.initData(r.data,[],function($,L,V,z){if($ instanceof Array)return NaN;y.hasItemOption=!0;var j=$.value;if(j!=null)return j instanceof Array?j[z]:j}),y},n.prototype.formatTooltip=function(r,g,y){var $=this.getData(),L=$.getItemModel(r),V=L.get("name");if(V)return V;var z=L.get("fromName"),j=L.get("toName"),re=[];return z!=null&&re.push(z),j!=null&&re.push(j),createTooltipMarkup("nameValue",{name:re.join(" > ")})},n.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},n.prototype.getProgressive=function(){var r=this.option.progressive;return r??(this.option.large?1e4:this.get("progressive"))},n.prototype.getProgressiveThreshold=function(){var r=this.option.progressiveThreshold;return r??(this.option.large?2e4:this.get("progressiveThreshold"))},n.prototype.getZLevelKey=function(){var r=this.getModel("effect"),g=r.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:r.get("show")&&g>0?g+"":""},n.type="series.lines",n.dependencies=["grid","polar","geo","calendar"],n.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},n}(SeriesModel);function normalize(t){return t instanceof Array||(t=[t,t]),t}var linesVisual={seriesType:"lines",reset:function(t){var n=normalize(t.get("symbol")),r=normalize(t.get("symbolSize")),g=t.getData();g.setVisual("fromSymbol",n&&n[0]),g.setVisual("toSymbol",n&&n[1]),g.setVisual("fromSymbolSize",r&&r[0]),g.setVisual("toSymbolSize",r&&r[1]);function y($,L){var V=$.getItemModel(L),z=normalize(V.getShallow("symbol",!0)),j=normalize(V.getShallow("symbolSize",!0));z[0]&&$.setItemVisual(L,"fromSymbol",z[0]),z[1]&&$.setItemVisual(L,"toSymbol",z[1]),j[0]&&$.setItemVisual(L,"fromSymbolSize",j[0]),j[1]&&$.setItemVisual(L,"toSymbolSize",j[1])}return{dataEach:g.hasItemOption?y:null}}};function install$w(t){t.registerChartView(LinesView),t.registerSeriesModel(LinesSeriesModel),t.registerLayout(linesLayout),t.registerVisual(linesVisual)}var GRADIENT_LEVELS=256,HeatmapLayer=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var n=platformApi.createCanvas();this.canvas=n}return t.prototype.update=function(n,r,g,y,$,L){var V=this._getBrush(),z=this._getGradient($,"inRange"),j=this._getGradient($,"outOfRange"),re=this.pointSize+this.blurSize,ae=this.canvas,oe=ae.getContext("2d"),ie=n.length;ae.width=r,ae.height=g;for(var le=0;le<ie;++le){var ue=n[le],de=ue[0],he=ue[1],pe=ue[2],_e=y(pe);oe.globalAlpha=_e,oe.drawImage(V,de-re,he-re)}if(!ae.width||!ae.height)return ae;for(var Ce=oe.getImageData(0,0,ae.width,ae.height),xe=Ce.data,Ie=0,$e=xe.length,Oe=this.minOpacity,Ne=this.maxOpacity,Fe=Ne-Oe;Ie<$e;){var _e=xe[Ie+3]/256,Ve=Math.floor(_e*(GRADIENT_LEVELS-1))*4;if(_e>0){var ze=L(_e)?z:j;_e>0&&(_e=_e*Fe+Oe),xe[Ie++]=ze[Ve],xe[Ie++]=ze[Ve+1],xe[Ie++]=ze[Ve+2],xe[Ie++]=ze[Ve+3]*_e*256}else Ie+=4}return oe.putImageData(Ce,0,0),ae},t.prototype._getBrush=function(){var n=this._brushCanvas||(this._brushCanvas=platformApi.createCanvas()),r=this.pointSize+this.blurSize,g=r*2;n.width=g,n.height=g;var y=n.getContext("2d");return y.clearRect(0,0,g,g),y.shadowOffsetX=g,y.shadowBlur=this.blurSize,y.shadowColor="#000",y.beginPath(),y.arc(-r,r,this.pointSize,0,Math.PI*2,!0),y.closePath(),y.fill(),n},t.prototype._getGradient=function(n,r){for(var g=this._gradientPixels,y=g[r]||(g[r]=new Uint8ClampedArray(256*4)),$=[0,0,0,0],L=0,V=0;V<256;V++)n[r](V/255,!0,$),y[L++]=$[0],y[L++]=$[1],y[L++]=$[2],y[L++]=$[3];return y},t}();function getIsInPiecewiseRange(t,n,r){var g=t[1]-t[0];n=map$1(n,function(L){return{interval:[(L.interval[0]-t[0])/g,(L.interval[1]-t[0])/g]}});var y=n.length,$=0;return function(L){var V;for(V=$;V<y;V++){var z=n[V].interval;if(z[0]<=L&&L<=z[1]){$=V;break}}if(V===y)for(V=$-1;V>=0;V--){var z=n[V].interval;if(z[0]<=L&&L<=z[1]){$=V;break}}return V>=0&&V<y&&r[V]}}function getIsInContinuousRange(t,n){var r=t[1]-t[0];return n=[(n[0]-t[0])/r,(n[1]-t[0])/r],function(g){return g>=n[0]&&g<=n[1]}}function isGeoCoordSys(t){var n=t.dimensions;return n[0]==="lng"&&n[1]==="lat"}var HeatmapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $;g.eachComponent("visualMap",function(V){V.eachTargetSeries(function(z){z===r&&($=V)})}),this._progressiveEls=null,this.group.removeAll();var L=r.coordinateSystem;L.type==="cartesian2d"||L.type==="calendar"?this._renderOnCartesianAndCalendar(r,y,0,r.getData().count()):isGeoCoordSys(L)&&this._renderOnGeo(L,r,$,y)},n.prototype.incrementalPrepareRender=function(r,g,y){this.group.removeAll()},n.prototype.incrementalRender=function(r,g,y,$){var L=g.coordinateSystem;L&&(isGeoCoordSys(L)?this.render(g,y,$):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(g,$,r.start,r.end,!0)))},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype._renderOnCartesianAndCalendar=function(r,g,y,$,L){var V=r.coordinateSystem,z=isCoordinateSystemType(V,"cartesian2d"),j,re,ae,oe;if(z){var ie=V.getAxis("x"),le=V.getAxis("y");j=ie.getBandWidth()+.5,re=le.getBandWidth()+.5,ae=ie.scale.getExtent(),oe=le.scale.getExtent()}for(var ue=this.group,de=r.getData(),he=r.getModel(["emphasis","itemStyle"]).getItemStyle(),pe=r.getModel(["blur","itemStyle"]).getItemStyle(),_e=r.getModel(["select","itemStyle"]).getItemStyle(),Ce=r.get(["itemStyle","borderRadius"]),xe=getLabelStatesModels(r),Ie=r.getModel("emphasis"),$e=Ie.get("focus"),Oe=Ie.get("blurScope"),Ne=Ie.get("disabled"),Fe=z?[de.mapDimension("x"),de.mapDimension("y"),de.mapDimension("value")]:[de.mapDimension("time"),de.mapDimension("value")],Ve=y;Ve<$;Ve++){var ze=void 0,Et=de.getItemVisual(Ve,"style");if(z){var Dt=de.get(Fe[0],Ve),Ue=de.get(Fe[1],Ve);if(isNaN(de.get(Fe[2],Ve))||isNaN(Dt)||isNaN(Ue)||Dt<ae[0]||Dt>ae[1]||Ue<oe[0]||Ue>oe[1])continue;var qe=V.dataToPoint([Dt,Ue]);ze=new Rect$2({shape:{x:qe[0]-j/2,y:qe[1]-re/2,width:j,height:re},style:Et})}else{if(isNaN(de.get(Fe[1],Ve)))continue;ze=new Rect$2({z2:1,shape:V.dataToRect([de.get(Fe[0],Ve)]).contentShape,style:Et})}if(de.hasItemOption){var Lt=de.getItemModel(Ve),Pt=Lt.getModel("emphasis");he=Pt.getModel("itemStyle").getItemStyle(),pe=Lt.getModel(["blur","itemStyle"]).getItemStyle(),_e=Lt.getModel(["select","itemStyle"]).getItemStyle(),Ce=Lt.get(["itemStyle","borderRadius"]),$e=Pt.get("focus"),Oe=Pt.get("blurScope"),Ne=Pt.get("disabled"),xe=getLabelStatesModels(Lt)}ze.shape.r=Ce;var At=r.getRawValue(Ve),vn="-";At&&At[2]!=null&&(vn=At[2]+""),setLabelStyle(ze,xe,{labelFetcher:r,labelDataIndex:Ve,defaultOpacity:Et.opacity,defaultText:vn}),ze.ensureState("emphasis").style=he,ze.ensureState("blur").style=pe,ze.ensureState("select").style=_e,toggleHoverEmphasis(ze,$e,Oe,Ne),ze.incremental=L,L&&(ze.states.emphasis.hoverLayer=!0),ue.add(ze),de.setItemGraphicEl(Ve,ze),this._progressiveEls&&this._progressiveEls.push(ze)}},n.prototype._renderOnGeo=function(r,g,y,$){var L=y.targetVisuals.inRange,V=y.targetVisuals.outOfRange,z=g.getData(),j=this._hmLayer||this._hmLayer||new HeatmapLayer;j.blurSize=g.get("blurSize"),j.pointSize=g.get("pointSize"),j.minOpacity=g.get("minOpacity"),j.maxOpacity=g.get("maxOpacity");var re=r.getViewRect().clone(),ae=r.getRoamTransform();re.applyTransform(ae);var oe=Math.max(re.x,0),ie=Math.max(re.y,0),le=Math.min(re.width+re.x,$.getWidth()),ue=Math.min(re.height+re.y,$.getHeight()),de=le-oe,he=ue-ie,pe=[z.mapDimension("lng"),z.mapDimension("lat"),z.mapDimension("value")],_e=z.mapArray(pe,function($e,Oe,Ne){var Fe=r.dataToPoint([$e,Oe]);return Fe[0]-=oe,Fe[1]-=ie,Fe.push(Ne),Fe}),Ce=y.getExtent(),xe=y.type==="visualMap.continuous"?getIsInContinuousRange(Ce,y.option.range):getIsInPiecewiseRange(Ce,y.getPieceList(),y.option.selected);j.update(_e,de,he,L.color.getNormalizer(),{inRange:L.color.getColorMapper(),outOfRange:V.color.getColorMapper()},xe);var Ie=new ZRImage({style:{width:de,height:he,x:oe,y:ie,image:j.canvas},silent:!0});this.group.add(Ie)},n.type="heatmap",n}(ChartView),HeatmapSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getInitialData=function(r,g){return createSeriesData(null,this,{generateCoord:"value"})},n.prototype.preventIncremental=function(){var r=CoordinateSystemManager.get(this.get("coordinateSystem"));if(r&&r.dimensions)return r.dimensions[0]==="lng"&&r.dimensions[1]==="lat"},n.type="series.heatmap",n.dependencies=["grid","geo","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},n}(SeriesModel);function install$v(t){t.registerChartView(HeatmapView),t.registerSeriesModel(HeatmapSeriesModel)}var BAR_BORDER_WIDTH_QUERY=["itemStyle","borderWidth"],LAYOUT_ATTRS=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],pathForLineWidth=new Circle,PictorialBarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=this.group,L=r.getData(),V=this._data,z=r.coordinateSystem,j=z.getBaseAxis(),re=j.isHorizontal(),ae=z.master.getRect(),oe={ecSize:{width:y.getWidth(),height:y.getHeight()},seriesModel:r,coordSys:z,coordSysExtent:[[ae.x,ae.x+ae.width],[ae.y,ae.y+ae.height]],isHorizontal:re,valueDim:LAYOUT_ATTRS[+re],categoryDim:LAYOUT_ATTRS[1-+re]};L.diff(V).add(function(le){if(L.hasValue(le)){var ue=getItemModel(L,le),de=getSymbolMeta(L,le,ue,oe),he=createBar(L,oe,de);L.setItemGraphicEl(le,he),$.add(he),updateCommon(he,oe,de)}}).update(function(le,ue){var de=V.getItemGraphicEl(ue);if(!L.hasValue(le)){$.remove(de);return}var he=getItemModel(L,le),pe=getSymbolMeta(L,le,he,oe),_e=getShapeStr(L,pe);de&&_e!==de.__pictorialShapeStr&&($.remove(de),L.setItemGraphicEl(le,null),de=null),de?updateBar(de,oe,pe):de=createBar(L,oe,pe,!0),L.setItemGraphicEl(le,de),de.__pictorialSymbolMeta=pe,$.add(de),updateCommon(de,oe,pe)}).remove(function(le){var ue=V.getItemGraphicEl(le);ue&&removeBar(V,le,ue.__pictorialSymbolMeta.animationModel,ue)}).execute();var ie=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;return ie?$.setClipPath(ie):$.removeClipPath(),this._data=L,this.group},n.prototype.remove=function(r,g){var y=this.group,$=this._data;r.get("animation")?$&&$.eachItemGraphicEl(function(L){removeBar($,getECData(L).dataIndex,r,L)}):y.removeAll()},n.type="pictorialBar",n}(ChartView);function getSymbolMeta(t,n,r,g){var y=t.getItemLayout(n),$=r.get("symbolRepeat"),L=r.get("symbolClip"),V=r.get("symbolPosition")||"start",z=r.get("symbolRotate"),j=(z||0)*Math.PI/180||0,re=r.get("symbolPatternSize")||2,ae=r.isAnimationEnabled(),oe={dataIndex:n,layout:y,itemModel:r,symbolType:t.getItemVisual(n,"symbol")||"circle",style:t.getItemVisual(n,"style"),symbolClip:L,symbolRepeat:$,symbolRepeatDirection:r.get("symbolRepeatDirection"),symbolPatternSize:re,rotation:j,animationModel:ae?r:null,hoverScale:ae&&r.get(["emphasis","scale"]),z2:r.getShallow("z",!0)||0};prepareBarLength(r,$,y,g,oe),prepareSymbolSize(t,n,y,$,L,oe.boundingLength,oe.pxSign,re,g,oe),prepareLineWidth(r,oe.symbolScale,j,g,oe);var ie=oe.symbolSize,le=normalizeSymbolOffset(r.get("symbolOffset"),ie);return prepareLayoutInfo(r,ie,y,$,L,le,V,oe.valueLineWidth,oe.boundingLength,oe.repeatCutLength,g,oe),oe}function prepareBarLength(t,n,r,g,y){var $=g.valueDim,L=t.get("symbolBoundingData"),V=g.coordSys.getOtherAxis(g.coordSys.getBaseAxis()),z=V.toGlobalCoord(V.dataToCoord(0)),j=1-+(r[$.wh]<=0),re;if(isArray$1(L)){var ae=[convertToCoordOnAxis(V,L[0])-z,convertToCoordOnAxis(V,L[1])-z];ae[1]<ae[0]&&ae.reverse(),re=ae[j]}else L!=null?re=convertToCoordOnAxis(V,L)-z:n?re=g.coordSysExtent[$.index][j]-z:re=r[$.wh];y.boundingLength=re,n&&(y.repeatCutLength=r[$.wh]);var oe=$.xy==="x",ie=V.inverse;y.pxSign=oe&&!ie||!oe&&ie?re>=0?1:-1:re>0?1:-1}function convertToCoordOnAxis(t,n){return t.toGlobalCoord(t.dataToCoord(t.scale.parse(n)))}function prepareSymbolSize(t,n,r,g,y,$,L,V,z,j){var re=z.valueDim,ae=z.categoryDim,oe=Math.abs(r[ae.wh]),ie=t.getItemVisual(n,"symbolSize"),le;isArray$1(ie)?le=ie.slice():ie==null?le=["100%","100%"]:le=[ie,ie],le[ae.index]=parsePercent(le[ae.index],oe),le[re.index]=parsePercent(le[re.index],g?oe:Math.abs($)),j.symbolSize=le;var ue=j.symbolScale=[le[0]/V,le[1]/V];ue[re.index]*=(z.isHorizontal?-1:1)*L}function prepareLineWidth(t,n,r,g,y){var $=t.get(BAR_BORDER_WIDTH_QUERY)||0;$&&(pathForLineWidth.attr({scaleX:n[0],scaleY:n[1],rotation:r}),pathForLineWidth.updateTransform(),$/=pathForLineWidth.getLineScale(),$*=n[g.valueDim.index]),y.valueLineWidth=$||0}function prepareLayoutInfo(t,n,r,g,y,$,L,V,z,j,re,ae){var oe=re.categoryDim,ie=re.valueDim,le=ae.pxSign,ue=Math.max(n[ie.index]+V,0),de=ue;if(g){var he=Math.abs(z),pe=retrieve(t.get("symbolMargin"),"15%")+"",_e=!1;pe.lastIndexOf("!")===pe.length-1&&(_e=!0,pe=pe.slice(0,pe.length-1));var Ce=parsePercent(pe,n[ie.index]),xe=Math.max(ue+Ce*2,0),Ie=_e?0:Ce*2,$e=isNumeric(g),Oe=$e?g:toIntTimes((he+Ie)/xe),Ne=he-Oe*ue;Ce=Ne/2/(_e?Oe:Math.max(Oe-1,1)),xe=ue+Ce*2,Ie=_e?0:Ce*2,!$e&&g!=="fixed"&&(Oe=j?toIntTimes((Math.abs(j)+Ie)/xe):0),de=Oe*xe-Ie,ae.repeatTimes=Oe,ae.symbolMargin=Ce}var Fe=le*(de/2),Ve=ae.pathPosition=[];Ve[oe.index]=r[oe.wh]/2,Ve[ie.index]=L==="start"?Fe:L==="end"?z-Fe:z/2,$&&(Ve[0]+=$[0],Ve[1]+=$[1]);var ze=ae.bundlePosition=[];ze[oe.index]=r[oe.xy],ze[ie.index]=r[ie.xy];var Et=ae.barRectShape=extend({},r);Et[ie.wh]=le*Math.max(Math.abs(r[ie.wh]),Math.abs(Ve[ie.index]+Fe)),Et[oe.wh]=r[oe.wh];var Dt=ae.clipShape={};Dt[oe.xy]=-r[oe.xy],Dt[oe.wh]=re.ecSize[oe.wh],Dt[ie.xy]=0,Dt[ie.wh]=r[ie.wh]}function createPath(t){var n=t.symbolPatternSize,r=createSymbol$1(t.symbolType,-n/2,-n/2,n,n);return r.attr({culling:!0}),r.type!=="image"&&r.setStyle({strokeNoScale:!0}),r}function createOrUpdateRepeatSymbols(t,n,r,g){var y=t.__pictorialBundle,$=r.symbolSize,L=r.valueLineWidth,V=r.pathPosition,z=n.valueDim,j=r.repeatTimes||0,re=0,ae=$[n.valueDim.index]+L+r.symbolMargin*2;for(eachPath(t,function(ue){ue.__pictorialAnimationIndex=re,ue.__pictorialRepeatTimes=j,re<j?updateAttr(ue,null,le(re),r,g):updateAttr(ue,null,{scaleX:0,scaleY:0},r,g,function(){y.remove(ue)}),re++});re<j;re++){var oe=createPath(r);oe.__pictorialAnimationIndex=re,oe.__pictorialRepeatTimes=j,y.add(oe);var ie=le(re);updateAttr(oe,{x:ie.x,y:ie.y,scaleX:0,scaleY:0},{scaleX:ie.scaleX,scaleY:ie.scaleY,rotation:ie.rotation},r,g)}function le(ue){var de=V.slice(),he=r.pxSign,pe=ue;return(r.symbolRepeatDirection==="start"?he>0:he<0)&&(pe=j-1-ue),de[z.index]=ae*(pe-j/2+.5)+V[z.index],{x:de[0],y:de[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation}}}function createOrUpdateSingleSymbol(t,n,r,g){var y=t.__pictorialBundle,$=t.__pictorialMainPath;$?updateAttr($,null,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:r.symbolScale[0],scaleY:r.symbolScale[1],rotation:r.rotation},r,g):($=t.__pictorialMainPath=createPath(r),y.add($),updateAttr($,{x:r.pathPosition[0],y:r.pathPosition[1],scaleX:0,scaleY:0,rotation:r.rotation},{scaleX:r.symbolScale[0],scaleY:r.symbolScale[1]},r,g))}function createOrUpdateBarRect(t,n,r){var g=extend({},n.barRectShape),y=t.__pictorialBarRect;y?updateAttr(y,null,{shape:g},n,r):(y=t.__pictorialBarRect=new Rect$2({z2:2,shape:g,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}}),y.disableMorphing=!0,t.add(y))}function createOrUpdateClip(t,n,r,g){if(r.symbolClip){var y=t.__pictorialClipPath,$=extend({},r.clipShape),L=n.valueDim,V=r.animationModel,z=r.dataIndex;if(y)updateProps$1(y,{shape:$},V,z);else{$[L.wh]=0,y=new Rect$2({shape:$}),t.__pictorialBundle.setClipPath(y),t.__pictorialClipPath=y;var j={};j[L.wh]=r.clipShape[L.wh],graphic[g?"updateProps":"initProps"](y,{shape:j},V,z)}}}function getItemModel(t,n){var r=t.getItemModel(n);return r.getAnimationDelayParams=getAnimationDelayParams,r.isAnimationEnabled=isAnimationEnabled,r}function getAnimationDelayParams(t){return{index:t.__pictorialAnimationIndex,count:t.__pictorialRepeatTimes}}function isAnimationEnabled(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function createBar(t,n,r,g){var y=new Group$3,$=new Group$3;return y.add($),y.__pictorialBundle=$,$.x=r.bundlePosition[0],$.y=r.bundlePosition[1],r.symbolRepeat?createOrUpdateRepeatSymbols(y,n,r):createOrUpdateSingleSymbol(y,n,r),createOrUpdateBarRect(y,r,g),createOrUpdateClip(y,n,r,g),y.__pictorialShapeStr=getShapeStr(t,r),y.__pictorialSymbolMeta=r,y}function updateBar(t,n,r){var g=r.animationModel,y=r.dataIndex,$=t.__pictorialBundle;updateProps$1($,{x:r.bundlePosition[0],y:r.bundlePosition[1]},g,y),r.symbolRepeat?createOrUpdateRepeatSymbols(t,n,r,!0):createOrUpdateSingleSymbol(t,n,r,!0),createOrUpdateBarRect(t,r,!0),createOrUpdateClip(t,n,r,!0)}function removeBar(t,n,r,g){var y=g.__pictorialBarRect;y&&y.removeTextContent();var $=[];eachPath(g,function(L){$.push(L)}),g.__pictorialMainPath&&$.push(g.__pictorialMainPath),g.__pictorialClipPath&&(r=null),each$f($,function(L){removeElement(L,{scaleX:0,scaleY:0},r,n,function(){g.parent&&g.parent.remove(g)})}),t.setItemGraphicEl(n,null)}function getShapeStr(t,n){return[t.getItemVisual(n.dataIndex,"symbol")||"none",!!n.symbolRepeat,!!n.symbolClip].join(":")}function eachPath(t,n,r){each$f(t.__pictorialBundle.children(),function(g){g!==t.__pictorialBarRect&&n.call(r,g)})}function updateAttr(t,n,r,g,y,$){n&&t.attr(n),g.symbolClip&&!y?r&&t.attr(r):r&&graphic[y?"updateProps":"initProps"](t,r,g.animationModel,g.dataIndex,$)}function updateCommon(t,n,r){var g=r.dataIndex,y=r.itemModel,$=y.getModel("emphasis"),L=$.getModel("itemStyle").getItemStyle(),V=y.getModel(["blur","itemStyle"]).getItemStyle(),z=y.getModel(["select","itemStyle"]).getItemStyle(),j=y.getShallow("cursor"),re=$.get("focus"),ae=$.get("blurScope"),oe=$.get("scale");eachPath(t,function(ue){if(ue instanceof ZRImage){var de=ue.style;ue.useStyle(extend({image:de.image,x:de.x,y:de.y,width:de.width,height:de.height},r.style))}else ue.useStyle(r.style);var he=ue.ensureState("emphasis");he.style=L,oe&&(he.scaleX=ue.scaleX*1.1,he.scaleY=ue.scaleY*1.1),ue.ensureState("blur").style=V,ue.ensureState("select").style=z,j&&(ue.cursor=j),ue.z2=r.z2});var ie=n.valueDim.posDesc[+(r.boundingLength>0)],le=t.__pictorialBarRect;le.ignoreClip=!0,setLabelStyle(le,getLabelStatesModels(y),{labelFetcher:n.seriesModel,labelDataIndex:g,defaultText:getDefaultLabel(n.seriesModel.getData(),g),inheritColor:r.style.fill,defaultOpacity:r.style.opacity,defaultOutsidePosition:ie}),toggleHoverEmphasis(t,re,ae,$.get("disabled"))}function toIntTimes(t){var n=Math.round(t);return Math.abs(t-n)<1e-4?n:Math.ceil(t)}var PictorialBarSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.hasSymbolVisual=!0,r.defaultSymbol="roundRect",r}return n.prototype.getInitialData=function(r){return r.stack=null,t.prototype.getInitialData.apply(this,arguments)},n.type="series.pictorialBar",n.dependencies=["grid"],n.defaultOption=inheritDefaultOption(BaseBarSeriesModel.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",clip:!1,progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),n}(BaseBarSeriesModel);function install$u(t){t.registerChartView(PictorialBarView),t.registerSeriesModel(PictorialBarSeriesModel),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,curry$1(layout$3,"pictorialBar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,createProgressiveLayout("pictorialBar"))}var ThemeRiverView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._layers=[],r}return n.prototype.render=function(r,g,y){var $=r.getData(),L=this,V=this.group,z=r.getLayerSeries(),j=$.getLayout("layoutInfo"),re=j.rect,ae=j.boundaryGap;V.x=0,V.y=re.y+ae[0];function oe(de){return de.name}var ie=new DataDiffer(this._layersSeries||[],z,oe,oe),le=[];ie.add(bind$1(ue,this,"add")).update(bind$1(ue,this,"update")).remove(bind$1(ue,this,"remove")).execute();function ue(de,he,pe){var _e=L._layers;if(de==="remove"){V.remove(_e[he]);return}for(var Ce=[],xe=[],Ie,$e=z[he].indices,Oe=0;Oe<$e.length;Oe++){var Ne=$.getItemLayout($e[Oe]),Fe=Ne.x,Ve=Ne.y0,ze=Ne.y;Ce.push(Fe,Ve),xe.push(Fe,Ve+ze),Ie=$.getItemVisual($e[Oe],"style")}var Et,Dt=$.getItemLayout($e[0]),Ue=r.getModel("label"),qe=Ue.get("margin"),Lt=r.getModel("emphasis");if(de==="add"){var Pt=le[he]=new Group$3;Et=new ECPolygon({shape:{points:Ce,stackedOnPoints:xe,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),Pt.add(Et),V.add(Pt),r.isAnimationEnabled()&&Et.setClipPath(createGridClipShape(Et.getBoundingRect(),r,function(){Et.removeClipPath()}))}else{var Pt=_e[pe];Et=Pt.childAt(0),V.add(Pt),le[he]=Pt,updateProps$1(Et,{shape:{points:Ce,stackedOnPoints:xe}},r),saveOldStyle(Et)}setLabelStyle(Et,getLabelStatesModels(r),{labelDataIndex:$e[Oe-1],defaultText:$.getName($e[Oe-1]),inheritColor:Ie.fill},{normal:{verticalAlign:"middle"}}),Et.setTextConfig({position:null,local:!0});var At=Et.getTextContent();At&&(At.x=Dt.x-qe,At.y=Dt.y0+Dt.y/2),Et.useStyle(Ie),$.setItemGraphicEl(he,Et),setStatesStylesFromModel(Et,r),toggleHoverEmphasis(Et,Lt.get("focus"),Lt.get("blurScope"),Lt.get("disabled"))}this._layersSeries=z,this._layers=le},n.type="themeRiver",n}(ChartView);function createGridClipShape(t,n,r){var g=new Rect$2({shape:{x:t.x-10,y:t.y-10,width:0,height:t.height+20}});return initProps(g,{shape:{x:t.x-50,width:t.width+100,height:t.height+20}},n,r),g}var DATA_NAME_INDEX=2,ThemeRiverSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider(bind$1(this.getData,this),bind$1(this.getRawData,this))},n.prototype.fixData=function(r){var g=r.length,y={},$=groupData(r,function(oe){return y.hasOwnProperty(oe[0]+"")||(y[oe[0]+""]=-1),oe[2]}),L=[];$.buckets.each(function(oe,ie){L.push({name:ie,dataList:oe})});for(var V=L.length,z=0;z<V;++z){for(var j=L[z].name,re=0;re<L[z].dataList.length;++re){var ae=L[z].dataList[re][0]+"";y[ae]=z}for(var ae in y)y.hasOwnProperty(ae)&&y[ae]!==z&&(y[ae]=z,r[g]=[ae,0,j],g++)}return r},n.prototype.getInitialData=function(r,g){for(var y=this.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0],$=y.get("type"),L=filter(r.data,function(le){return le[2]!==void 0}),V=this.fixData(L||[]),z=[],j=this.nameMap=createHashMap(),re=0,ae=0;ae<V.length;++ae)z.push(V[ae][DATA_NAME_INDEX]),j.get(V[ae][DATA_NAME_INDEX])||(j.set(V[ae][DATA_NAME_INDEX],re),re++);var oe=prepareSeriesDataSchema(V,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:getDimensionTypeByAxis($)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,ie=new SeriesData(oe,this);return ie.initData(V),ie},n.prototype.getLayerSeries=function(){for(var r=this.getData(),g=r.count(),y=[],$=0;$<g;++$)y[$]=$;var L=r.mapDimension("single"),V=groupData(y,function(j){return r.get("name",j)}),z=[];return V.buckets.each(function(j,re){j.sort(function(ae,oe){return r.get(L,ae)-r.get(L,oe)}),z.push({name:re,indices:j})}),z},n.prototype.getAxisTooltipData=function(r,g,y){isArray$1(r)||(r=r?[r]:[]);for(var $=this.getData(),L=this.getLayerSeries(),V=[],z=L.length,j,re=0;re<z;++re){for(var ae=Number.MAX_VALUE,oe=-1,ie=L[re].indices.length,le=0;le<ie;++le){var ue=$.get(r[0],L[re].indices[le]),de=Math.abs(ue-g);de<=ae&&(j=ue,ae=de,oe=L[re].indices[le])}V.push(oe)}return{dataIndices:V,nestestValue:j}},n.prototype.formatTooltip=function(r,g,y){var $=this.getData(),L=$.getName(r),V=$.get($.mapDimension("value"),r);return createTooltipMarkup("nameValue",{name:L,value:V})},n.type="series.themeRiver",n.dependencies=["singleAxis"],n.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},n}(SeriesModel);function themeRiverLayout(t,n){t.eachSeriesByType("themeRiver",function(r){var g=r.getData(),y=r.coordinateSystem,$={},L=y.getRect();$.rect=L;var V=r.get("boundaryGap"),z=y.getAxis();if($.boundaryGap=V,z.orient==="horizontal"){V[0]=parsePercent(V[0],L.height),V[1]=parsePercent(V[1],L.height);var j=L.height-V[0]-V[1];doThemeRiverLayout(g,r,j)}else{V[0]=parsePercent(V[0],L.width),V[1]=parsePercent(V[1],L.width);var re=L.width-V[0]-V[1];doThemeRiverLayout(g,r,re)}g.setLayout("layoutInfo",$)})}function doThemeRiverLayout(t,n,r){if(t.count())for(var g=n.coordinateSystem,y=n.getLayerSeries(),$=t.mapDimension("single"),L=t.mapDimension("value"),V=map$1(y,function(de){return map$1(de.indices,function(he){var pe=g.dataToPoint(t.get($,he));return pe[1]=t.get(L,he),pe})}),z=computeBaseline(V),j=z.y0,re=r/z.max,ae=y.length,oe=y[0].indices.length,ie,le=0;le<oe;++le){ie=j[le]*re,t.setItemLayout(y[0].indices[le],{layerIndex:0,x:V[0][le][0],y0:ie,y:V[0][le][1]*re});for(var ue=1;ue<ae;++ue)ie+=V[ue-1][le][1]*re,t.setItemLayout(y[ue].indices[le],{layerIndex:ue,x:V[ue][le][0],y0:ie,y:V[ue][le][1]*re})}}function computeBaseline(t){for(var n=t.length,r=t[0].length,g=[],y=[],$=0,L=0;L<r;++L){for(var V=0,z=0;z<n;++z)V+=t[z][L][1];V>$&&($=V),g.push(V)}for(var j=0;j<r;++j)y[j]=($-g[j])/2;$=0;for(var re=0;re<r;++re){var ae=g[re]+y[re];ae>$&&($=ae)}return{y0:y,max:$}}function install$t(t){t.registerChartView(ThemeRiverView),t.registerSeriesModel(ThemeRiverSeriesModel),t.registerLayout(themeRiverLayout),t.registerProcessor(dataFilter$1("themeRiver"))}var DEFAULT_SECTOR_Z=2,DEFAULT_TEXT_Z=4,SunburstPiece=function(t){__extends(n,t);function n(r,g,y,$){var L=t.call(this)||this;L.z2=DEFAULT_SECTOR_Z,L.textConfig={inside:!0},getECData(L).seriesIndex=g.seriesIndex;var V=new ZRText({z2:DEFAULT_TEXT_Z,silent:r.getModel().get(["label","silent"])});return L.setTextContent(V),L.updateData(!0,r,g,y,$),L}return n.prototype.updateData=function(r,g,y,$,L){this.node=g,g.piece=this,y=y||this._seriesModel,$=$||this._ecModel;var V=this;getECData(V).dataIndex=g.dataIndex;var z=g.getModel(),j=z.getModel("emphasis"),re=g.getLayout(),ae=extend({},re);ae.label=null;var oe=g.getVisual("style");oe.lineJoin="bevel";var ie=g.getVisual("decal");ie&&(oe.decal=createOrUpdatePatternFromDecal(ie,L));var le=getSectorCornerRadius(z.getModel("itemStyle"),ae,!0);extend(ae,le),each$f(SPECIAL_STATES,function(pe){var _e=V.ensureState(pe),Ce=z.getModel([pe,"itemStyle"]);_e.style=Ce.getItemStyle();var xe=getSectorCornerRadius(Ce,ae);xe&&(_e.shape=xe)}),r?(V.setShape(ae),V.shape.r=re.r0,initProps(V,{shape:{r:re.r}},y,g.dataIndex)):(updateProps$1(V,{shape:ae},y),saveOldStyle(V)),V.useStyle(oe),this._updateLabel(y);var ue=z.getShallow("cursor");ue&&V.attr("cursor",ue),this._seriesModel=y||this._seriesModel,this._ecModel=$||this._ecModel;var de=j.get("focus"),he=de==="relative"?concatArray(g.getAncestorsIndices(),g.getDescendantIndices()):de==="ancestor"?g.getAncestorsIndices():de==="descendant"?g.getDescendantIndices():de;toggleHoverEmphasis(this,he,j.get("blurScope"),j.get("disabled"))},n.prototype._updateLabel=function(r){var g=this,y=this.node.getModel(),$=y.getModel("label"),L=this.node.getLayout(),V=L.endAngle-L.startAngle,z=(L.startAngle+L.endAngle)/2,j=Math.cos(z),re=Math.sin(z),ae=this,oe=ae.getTextContent(),ie=this.node.dataIndex,le=$.get("minAngle")/180*Math.PI,ue=$.get("show")&&!(le!=null&&Math.abs(V)<le);oe.ignore=!ue,each$f(DISPLAY_STATES,function(he){var pe=he==="normal"?y.getModel("label"):y.getModel([he,"label"]),_e=he==="normal",Ce=_e?oe:oe.ensureState(he),xe=r.getFormattedLabel(ie,he);_e&&(xe=xe||g.node.name),Ce.style=createTextStyle(pe,{},null,he!=="normal",!0),xe&&(Ce.style.text=xe);var Ie=pe.get("show");Ie!=null&&!_e&&(Ce.ignore=!Ie);var $e=de(pe,"position"),Oe=_e?ae:ae.states[he],Ne=Oe.style.fill;Oe.textConfig={outsideFill:pe.get("color")==="inherit"?Ne:null,inside:$e!=="outside"};var Fe,Ve=de(pe,"distance")||0,ze=de(pe,"align"),Et=de(pe,"rotate"),Dt=Math.PI*.5,Ue=Math.PI*1.5,qe=normalizeRadian(Et==="tangential"?Math.PI/2-z:z),Lt=qe>Dt&&!isRadianAroundZero(qe-Dt)&&qe<Ue;$e==="outside"?(Fe=L.r+Ve,ze=Lt?"right":"left"):!ze||ze==="center"?(V===2*Math.PI&&L.r0===0?Fe=0:Fe=(L.r+L.r0)/2,ze="center"):ze==="left"?(Fe=L.r0+Ve,ze=Lt?"right":"left"):ze==="right"&&(Fe=L.r-Ve,ze=Lt?"left":"right"),Ce.style.align=ze,Ce.style.verticalAlign=de(pe,"verticalAlign")||"middle",Ce.x=Fe*j+L.cx,Ce.y=Fe*re+L.cy;var Pt=0;Et==="radial"?Pt=normalizeRadian(-z)+(Lt?Math.PI:0):Et==="tangential"?Pt=normalizeRadian(Math.PI/2-z)+(Lt?Math.PI:0):isNumber(Et)&&(Pt=Et*Math.PI/180),Ce.rotation=normalizeRadian(Pt)});function de(he,pe){var _e=he.get(pe);return _e??$.get(pe)}oe.dirtyStyle()},n}(Sector),ROOT_TO_NODE_ACTION="sunburstRootToNode",HIGHLIGHT_ACTION="sunburstHighlight",UNHIGHLIGHT_ACTION="sunburstUnhighlight";function installSunburstAction(t){t.registerAction({type:ROOT_TO_NODE_ACTION,update:"updateView"},function(n,r){r.eachComponent({mainType:"series",subType:"sunburst",query:n},g);function g(y,$){var L=retrieveTargetInfo(n,[ROOT_TO_NODE_ACTION],y);if(L){var V=y.getViewRoot();V&&(n.direction=aboveViewRoot(V,L.node)?"rollUp":"drillDown"),y.resetViewRoot(L.node)}}}),t.registerAction({type:HIGHLIGHT_ACTION,update:"none"},function(n,r,g){n=extend({},n),r.eachComponent({mainType:"series",subType:"sunburst",query:n},y);function y($){var L=retrieveTargetInfo(n,[HIGHLIGHT_ACTION],$);L&&(n.dataIndex=L.node.dataIndex)}g.dispatchAction(extend(n,{type:"highlight"}))}),t.registerAction({type:UNHIGHLIGHT_ACTION,update:"updateView"},function(n,r,g){n=extend({},n),g.dispatchAction(extend(n,{type:"downplay"}))})}var SunburstView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y,$){var L=this;this.seriesModel=r,this.api=y,this.ecModel=g;var V=r.getData(),z=V.tree.root,j=r.getViewRoot(),re=this.group,ae=r.get("renderLabelForZeroData"),oe=[];j.eachNode(function(pe){oe.push(pe)});var ie=this._oldChildren||[];le(oe,ie),he(z,j),this._initEvents(),this._oldChildren=oe;function le(pe,_e){if(pe.length===0&&_e.length===0)return;new DataDiffer(_e,pe,Ce,Ce).add(xe).update(xe).remove(curry$1(xe,null)).execute();function Ce(Ie){return Ie.getId()}function xe(Ie,$e){var Oe=Ie==null?null:pe[Ie],Ne=$e==null?null:_e[$e];ue(Oe,Ne)}}function ue(pe,_e){if(!ae&&pe&&!pe.getValue()&&(pe=null),pe!==z&&_e!==z){if(_e&&_e.piece)pe?(_e.piece.updateData(!1,pe,r,g,y),V.setItemGraphicEl(pe.dataIndex,_e.piece)):de(_e);else if(pe){var Ce=new SunburstPiece(pe,r,g,y);re.add(Ce),V.setItemGraphicEl(pe.dataIndex,Ce)}}}function de(pe){pe&&pe.piece&&(re.remove(pe.piece),pe.piece=null)}function he(pe,_e){_e.depth>0?(L.virtualPiece?L.virtualPiece.updateData(!1,pe,r,g,y):(L.virtualPiece=new SunburstPiece(pe,r,g,y),re.add(L.virtualPiece)),_e.piece.off("click"),L.virtualPiece.on("click",function(Ce){L._rootToNode(_e.parentNode)})):L.virtualPiece&&(re.remove(L.virtualPiece),L.virtualPiece=null)}},n.prototype._initEvents=function(){var r=this;this.group.off("click"),this.group.on("click",function(g){var y=!1,$=r.seriesModel.getViewRoot();$.eachNode(function(L){if(!y&&L.piece&&L.piece===g.target){var V=L.getModel().get("nodeClick");if(V==="rootToNode")r._rootToNode(L);else if(V==="link"){var z=L.getModel(),j=z.get("link");if(j){var re=z.get("target",!0)||"_blank";windowOpen(j,re)}}y=!0}})})},n.prototype._rootToNode=function(r){r!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:ROOT_TO_NODE_ACTION,from:this.uid,seriesId:this.seriesModel.id,targetNode:r})},n.prototype.containPoint=function(r,g){var y=g.getData(),$=y.getItemLayout(0);if($){var L=r[0]-$.cx,V=r[1]-$.cy,z=Math.sqrt(L*L+V*V);return z<=$.r&&z>=$.r0}},n.type="sunburst",n}(ChartView),SunburstSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.ignoreStyleOnData=!0,r}return n.prototype.getInitialData=function(r,g){var y={name:r.name,children:r.data};completeTreeValue(y);var $=this._levelModels=map$1(r.levels||[],function(z){return new Model(z,this,g)},this),L=Tree.createTree(y,this,V);function V(z){z.wrapMethod("getItemModel",function(j,re){var ae=L.getNodeByDataIndex(re),oe=$[ae.depth];return oe&&(j.parentModel=oe),j})}return L.data},n.prototype.optionUpdated=function(){this.resetViewRoot()},n.prototype.getDataParams=function(r){var g=t.prototype.getDataParams.apply(this,arguments),y=this.getData().tree.getNodeByDataIndex(r);return g.treePathInfo=wrapTreePathInfo(y,this),g},n.prototype.getLevelModel=function(r){return this._levelModels&&this._levelModels[r.depth]},n.prototype.getViewRoot=function(){return this._viewRoot},n.prototype.resetViewRoot=function(r){r?this._viewRoot=r:r=this._viewRoot;var g=this.getRawData().tree.root;(!r||r!==g&&!g.contains(r))&&(this._viewRoot=g)},n.prototype.enableAriaDecal=function(){enableAriaDecalForTree(this)},n.type="series.sunburst",n.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},n}(SeriesModel);function completeTreeValue(t){var n=0;each$f(t.children,function(g){completeTreeValue(g);var y=g.value;isArray$1(y)&&(y=y[0]),n+=y});var r=t.value;isArray$1(r)&&(r=r[0]),(r==null||isNaN(r))&&(r=n),r<0&&(r=0),isArray$1(t.value)?t.value[0]=r:t.value=r}var RADIAN=Math.PI/180;function sunburstLayout(t,n,r){n.eachSeriesByType(t,function(g){var y=g.get("center"),$=g.get("radius");isArray$1($)||($=[0,$]),isArray$1(y)||(y=[y,y]);var L=r.getWidth(),V=r.getHeight(),z=Math.min(L,V),j=parsePercent(y[0],L),re=parsePercent(y[1],V),ae=parsePercent($[0],z/2),oe=parsePercent($[1],z/2),ie=-g.get("startAngle")*RADIAN,le=g.get("minAngle")*RADIAN,ue=g.getData().tree.root,de=g.getViewRoot(),he=de.depth,pe=g.get("sort");pe!=null&&initChildren(de,pe);var _e=0;each$f(de.children,function(qe){!isNaN(qe.getValue())&&_e++});var Ce=de.getValue(),xe=Math.PI/(Ce||_e)*2,Ie=de.depth>0,$e=de.height-(Ie?-1:1),Oe=(oe-ae)/($e||1),Ne=g.get("clockwise"),Fe=g.get("stillShowZeroSum"),Ve=Ne?1:-1,ze=function(qe,Lt){if(qe){var Pt=Lt;if(qe!==ue){var At=qe.getValue(),vn=Ce===0&&Fe?xe:At*xe;vn<le&&(vn=le),Pt=Lt+Ve*vn;var En=qe.depth-he-(Ie?-1:1),Sn=ae+Oe*En,kt=ae+Oe*(En+1),jt=g.getLevelModel(qe);if(jt){var _n=jt.get("r0",!0),wn=jt.get("r",!0),hn=jt.get("radius",!0);hn!=null&&(_n=hn[0],wn=hn[1]),_n!=null&&(Sn=parsePercent(_n,z/2)),wn!=null&&(kt=parsePercent(wn,z/2))}qe.setLayout({angle:vn,startAngle:Lt,endAngle:Pt,clockwise:Ne,cx:j,cy:re,r0:Sn,r:kt})}if(qe.children&&qe.children.length){var Cn=0;each$f(qe.children,function(Tn){Cn+=ze(Tn,Lt+Cn)})}return Pt-Lt}};if(Ie){var Et=ae,Dt=ae+Oe,Ue=Math.PI*2;ue.setLayout({angle:Ue,startAngle:ie,endAngle:ie+Ue,clockwise:Ne,cx:j,cy:re,r0:Et,r:Dt})}ze(de,ie)})}function initChildren(t,n){var r=t.children||[];t.children=sort(r,n),r.length&&each$f(t.children,function(g){initChildren(g,n)})}function sort(t,n){if(isFunction(n)){var r=map$1(t,function(y,$){var L=y.getValue();return{params:{depth:y.depth,height:y.height,dataIndex:y.dataIndex,getValue:function(){return L}},index:$}});return r.sort(function(y,$){return n(y.params,$.params)}),map$1(r,function(y){return t[y.index]})}else{var g=n==="asc";return t.sort(function(y,$){var L=(y.getValue()-$.getValue())*(g?1:-1);return L===0?(y.dataIndex-$.dataIndex)*(g?-1:1):L})}}function sunburstVisual(t){var n={};function r(g,y,$){for(var L=g;L&&L.depth>1;)L=L.parentNode;var V=y.getColorFromPalette(L.name||L.dataIndex+"",n);return g.depth>1&&isString(V)&&(V=lift(V,(g.depth-1)/($-1)*.5)),V}t.eachSeriesByType("sunburst",function(g){var y=g.getData(),$=y.tree;$.eachNode(function(L){var V=L.getModel(),z=V.getModel("itemStyle").getItemStyle();z.fill||(z.fill=r(L,g,$.root.height));var j=y.ensureUniqueItemVisual(L.dataIndex,"style");extend(j,z)})})}function install$s(t){t.registerChartView(SunburstView),t.registerSeriesModel(SunburstSeriesModel),t.registerLayout(curry$1(sunburstLayout,"sunburst")),t.registerProcessor(curry$1(dataFilter$1,"sunburst")),t.registerVisual(sunburstVisual),installSunburstAction(t)}var STYLE_VISUAL_TYPE={color:"fill",borderColor:"stroke"},NON_STYLE_VISUAL_PROPS={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},customInnerStore=makeInner(),CustomSeriesModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},n.prototype.getInitialData=function(r,g){return createSeriesData(null,this)},n.prototype.getDataParams=function(r,g,y){var $=t.prototype.getDataParams.call(this,r,g);return y&&($.info=customInnerStore(y).info),$},n.type="series.custom",n.dependencies=["grid","polar","geo","singleAxis","calendar"],n.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},n}(SeriesModel);function dataToCoordSize$3(t,n){return n=n||[0,0],map$1(["x","y"],function(r,g){var y=this.getAxis(r),$=n[g],L=t[g]/2;return y.type==="category"?y.getBandWidth():Math.abs(y.dataToCoord($-L)-y.dataToCoord($+L))},this)}function cartesianPrepareCustom(t){var n=t.master.getRect();return{coordSys:{type:"cartesian2d",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return t.dataToPoint(r)},size:bind$1(dataToCoordSize$3,t)}}}function dataToCoordSize$2(t,n){return n=n||[0,0],map$1([0,1],function(r){var g=n[r],y=t[r]/2,$=[],L=[];return $[r]=g-y,L[r]=g+y,$[1-r]=L[1-r]=n[1-r],Math.abs(this.dataToPoint($)[r]-this.dataToPoint(L)[r])},this)}function geoPrepareCustom(t){var n=t.getBoundingRect();return{coordSys:{type:"geo",x:n.x,y:n.y,width:n.width,height:n.height,zoom:t.getZoom()},api:{coord:function(r){return t.dataToPoint(r)},size:bind$1(dataToCoordSize$2,t)}}}function dataToCoordSize$1(t,n){var r=this.getAxis(),g=n instanceof Array?n[0]:n,y=(t instanceof Array?t[0]:t)/2;return r.type==="category"?r.getBandWidth():Math.abs(r.dataToCoord(g-y)-r.dataToCoord(g+y))}function singlePrepareCustom(t){var n=t.getRect();return{coordSys:{type:"singleAxis",x:n.x,y:n.y,width:n.width,height:n.height},api:{coord:function(r){return t.dataToPoint(r)},size:bind$1(dataToCoordSize$1,t)}}}function dataToCoordSize(t,n){return n=n||[0,0],map$1(["Radius","Angle"],function(r,g){var y="get"+r+"Axis",$=this[y](),L=n[g],V=t[g]/2,z=$.type==="category"?$.getBandWidth():Math.abs($.dataToCoord(L-V)-$.dataToCoord(L+V));return r==="Angle"&&(z=z*Math.PI/180),z},this)}function polarPrepareCustom(t){var n=t.getRadiusAxis(),r=t.getAngleAxis(),g=n.getExtent();return g[0]>g[1]&&g.reverse(),{coordSys:{type:"polar",cx:t.cx,cy:t.cy,r:g[1],r0:g[0]},api:{coord:function(y){var $=n.dataToRadius(y[0]),L=r.dataToAngle(y[1]),V=t.coordToPoint([$,L]);return V.push($,L*Math.PI/180),V},size:bind$1(dataToCoordSize,t)}}}function calendarPrepareCustom(t){var n=t.getRect(),r=t.getRangeInfo();return{coordSys:{type:"calendar",x:n.x,y:n.y,width:n.width,height:n.height,cellWidth:t.getCellWidth(),cellHeight:t.getCellHeight(),rangeInfo:{start:r.start,end:r.end,weeks:r.weeks,dayCount:r.allDay}},api:{coord:function(g,y){return t.dataToPoint(g,y)}}}}function isEC4CompatibleStyle(t,n,r,g){return t&&(t.legacy||t.legacy!==!1&&!r&&!g&&n!=="tspan"&&(n==="text"||hasOwn(t,"text")))}function convertFromEC4CompatibleStyle(t,n,r){var g=t,y,$,L;if(n==="text")L=g;else{L={},hasOwn(g,"text")&&(L.text=g.text),hasOwn(g,"rich")&&(L.rich=g.rich),hasOwn(g,"textFill")&&(L.fill=g.textFill),hasOwn(g,"textStroke")&&(L.stroke=g.textStroke),hasOwn(g,"fontFamily")&&(L.fontFamily=g.fontFamily),hasOwn(g,"fontSize")&&(L.fontSize=g.fontSize),hasOwn(g,"fontStyle")&&(L.fontStyle=g.fontStyle),hasOwn(g,"fontWeight")&&(L.fontWeight=g.fontWeight),$={type:"text",style:L,silent:!0},y={};var V=hasOwn(g,"textPosition");r?y.position=V?g.textPosition:"inside":V&&(y.position=g.textPosition),hasOwn(g,"textPosition")&&(y.position=g.textPosition),hasOwn(g,"textOffset")&&(y.offset=g.textOffset),hasOwn(g,"textRotation")&&(y.rotation=g.textRotation),hasOwn(g,"textDistance")&&(y.distance=g.textDistance)}return convertEC4CompatibleRichItem(L,t),each$f(L.rich,function(z){convertEC4CompatibleRichItem(z,z)}),{textConfig:y,textContent:$}}function convertEC4CompatibleRichItem(t,n){n&&(n.font=n.textFont||n.font,hasOwn(n,"textStrokeWidth")&&(t.lineWidth=n.textStrokeWidth),hasOwn(n,"textAlign")&&(t.align=n.textAlign),hasOwn(n,"textVerticalAlign")&&(t.verticalAlign=n.textVerticalAlign),hasOwn(n,"textLineHeight")&&(t.lineHeight=n.textLineHeight),hasOwn(n,"textWidth")&&(t.width=n.textWidth),hasOwn(n,"textHeight")&&(t.height=n.textHeight),hasOwn(n,"textBackgroundColor")&&(t.backgroundColor=n.textBackgroundColor),hasOwn(n,"textPadding")&&(t.padding=n.textPadding),hasOwn(n,"textBorderColor")&&(t.borderColor=n.textBorderColor),hasOwn(n,"textBorderWidth")&&(t.borderWidth=n.textBorderWidth),hasOwn(n,"textBorderRadius")&&(t.borderRadius=n.textBorderRadius),hasOwn(n,"textBoxShadowColor")&&(t.shadowColor=n.textBoxShadowColor),hasOwn(n,"textBoxShadowBlur")&&(t.shadowBlur=n.textBoxShadowBlur),hasOwn(n,"textBoxShadowOffsetX")&&(t.shadowOffsetX=n.textBoxShadowOffsetX),hasOwn(n,"textBoxShadowOffsetY")&&(t.shadowOffsetY=n.textBoxShadowOffsetY))}function convertToEC4StyleForCustomSerise(t,n,r){var g=t;g.textPosition=g.textPosition||r.position||"inside",r.offset!=null&&(g.textOffset=r.offset),r.rotation!=null&&(g.textRotation=r.rotation),r.distance!=null&&(g.textDistance=r.distance);var y=g.textPosition.indexOf("inside")>=0,$=t.fill||"#000";convertToEC4RichItem(g,n);var L=g.textFill==null;return y?L&&(g.textFill=r.insideFill||"#fff",!g.textStroke&&r.insideStroke&&(g.textStroke=r.insideStroke),!g.textStroke&&(g.textStroke=$),g.textStrokeWidth==null&&(g.textStrokeWidth=2)):(L&&(g.textFill=t.fill||r.outsideFill||"#000"),!g.textStroke&&r.outsideStroke&&(g.textStroke=r.outsideStroke)),g.text=n.text,g.rich=n.rich,each$f(n.rich,function(V){convertToEC4RichItem(V,V)}),g}function convertToEC4RichItem(t,n){n&&(hasOwn(n,"fill")&&(t.textFill=n.fill),hasOwn(n,"stroke")&&(t.textStroke=n.fill),hasOwn(n,"lineWidth")&&(t.textStrokeWidth=n.lineWidth),hasOwn(n,"font")&&(t.font=n.font),hasOwn(n,"fontStyle")&&(t.fontStyle=n.fontStyle),hasOwn(n,"fontWeight")&&(t.fontWeight=n.fontWeight),hasOwn(n,"fontSize")&&(t.fontSize=n.fontSize),hasOwn(n,"fontFamily")&&(t.fontFamily=n.fontFamily),hasOwn(n,"align")&&(t.textAlign=n.align),hasOwn(n,"verticalAlign")&&(t.textVerticalAlign=n.verticalAlign),hasOwn(n,"lineHeight")&&(t.textLineHeight=n.lineHeight),hasOwn(n,"width")&&(t.textWidth=n.width),hasOwn(n,"height")&&(t.textHeight=n.height),hasOwn(n,"backgroundColor")&&(t.textBackgroundColor=n.backgroundColor),hasOwn(n,"padding")&&(t.textPadding=n.padding),hasOwn(n,"borderColor")&&(t.textBorderColor=n.borderColor),hasOwn(n,"borderWidth")&&(t.textBorderWidth=n.borderWidth),hasOwn(n,"borderRadius")&&(t.textBorderRadius=n.borderRadius),hasOwn(n,"shadowColor")&&(t.textBoxShadowColor=n.shadowColor),hasOwn(n,"shadowBlur")&&(t.textBoxShadowBlur=n.shadowBlur),hasOwn(n,"shadowOffsetX")&&(t.textBoxShadowOffsetX=n.shadowOffsetX),hasOwn(n,"shadowOffsetY")&&(t.textBoxShadowOffsetY=n.shadowOffsetY),hasOwn(n,"textShadowColor")&&(t.textShadowColor=n.textShadowColor),hasOwn(n,"textShadowBlur")&&(t.textShadowBlur=n.textShadowBlur),hasOwn(n,"textShadowOffsetX")&&(t.textShadowOffsetX=n.textShadowOffsetX),hasOwn(n,"textShadowOffsetY")&&(t.textShadowOffsetY=n.textShadowOffsetY))}var LEGACY_TRANSFORM_PROPS_MAP={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},LEGACY_TRANSFORM_PROPS=keys(LEGACY_TRANSFORM_PROPS_MAP);reduce(TRANSFORMABLE_PROPS,function(t,n){return t[n]=1,t},{});TRANSFORMABLE_PROPS.join(", ");var ELEMENT_ANIMATABLE_PROPS=["","style","shape","extra"],transitionInnerStore=makeInner();function getElementAnimationConfig(t,n,r,g,y){var $=t+"Animation",L=getAnimationConfig(t,g,y)||{},V=transitionInnerStore(n).userDuring;return L.duration>0&&(L.during=V?bind$1(duringCall,{el:n,userDuring:V}):null,L.setToFinal=!0,L.scope=t),extend(L,r[$]),L}function applyUpdateTransition(t,n,r,g){g=g||{};var y=g.dataIndex,$=g.isInit,L=g.clearStyle,V=r.isAnimationEnabled(),z=transitionInnerStore(t),j=n.style;z.userDuring=n.during;var re={},ae={};if(prepareTransformAllPropsFinal(t,n,ae),prepareShapeOrExtraAllPropsFinal("shape",n,ae),prepareShapeOrExtraAllPropsFinal("extra",n,ae),!$&&V&&(prepareTransformTransitionFrom(t,n,re),prepareShapeOrExtraTransitionFrom("shape",t,n,re),prepareShapeOrExtraTransitionFrom("extra",t,n,re),prepareStyleTransitionFrom(t,n,j,re)),ae.style=j,applyPropsDirectly(t,ae,L),applyMiscProps(t,n),V)if($){var oe={};each$f(ELEMENT_ANIMATABLE_PROPS,function(le){var ue=le?n[le]:n;ue&&ue.enterFrom&&(le&&(oe[le]=oe[le]||{}),extend(le?oe[le]:oe,ue.enterFrom))});var ie=getElementAnimationConfig("enter",t,n,r,y);ie.duration>0&&t.animateFrom(oe,ie)}else applyPropsTransition(t,n,y||0,r,re);updateLeaveTo(t,n),j?t.dirty():t.markRedraw()}function updateLeaveTo(t,n){for(var r=transitionInnerStore(t).leaveToProps,g=0;g<ELEMENT_ANIMATABLE_PROPS.length;g++){var y=ELEMENT_ANIMATABLE_PROPS[g],$=y?n[y]:n;$&&$.leaveTo&&(r||(r=transitionInnerStore(t).leaveToProps={}),y&&(r[y]=r[y]||{}),extend(y?r[y]:r,$.leaveTo))}}function applyLeaveTransition(t,n,r,g){if(t){var y=t.parent,$=transitionInnerStore(t).leaveToProps;if($){var L=getElementAnimationConfig("update",t,n,r,0);L.done=function(){y.remove(t)},t.animateTo($,L)}else y.remove(t)}}function isTransitionAll(t){return t==="all"}function applyPropsDirectly(t,n,r){var g=n.style;if(!t.isGroup&&g){if(r){t.useStyle({});for(var y=t.animators,$=0;$<y.length;$++){var L=y[$];L.targetName==="style"&&L.changeTarget(t.style)}}t.setStyle(g)}n&&(n.style=null,n&&t.attr(n),n.style=g)}function applyPropsTransition(t,n,r,g,y){if(y){var $=getElementAnimationConfig("update",t,n,g,r);$.duration>0&&t.animateFrom(y,$)}}function applyMiscProps(t,n){hasOwn(n,"silent")&&(t.silent=n.silent),hasOwn(n,"ignore")&&(t.ignore=n.ignore),t instanceof Displayable&&hasOwn(n,"invisible")&&(t.invisible=n.invisible),t instanceof Path&&hasOwn(n,"autoBatch")&&(t.autoBatch=n.autoBatch)}var tmpDuringScope={},transitionDuringAPI={setTransform:function(t,n){return tmpDuringScope.el[t]=n,this},getTransform:function(t){return tmpDuringScope.el[t]},setShape:function(t,n){var r=tmpDuringScope.el,g=r.shape||(r.shape={});return g[t]=n,r.dirtyShape&&r.dirtyShape(),this},getShape:function(t){var n=tmpDuringScope.el.shape;if(n)return n[t]},setStyle:function(t,n){var r=tmpDuringScope.el,g=r.style;return g&&(g[t]=n,r.dirtyStyle&&r.dirtyStyle()),this},getStyle:function(t){var n=tmpDuringScope.el.style;if(n)return n[t]},setExtra:function(t,n){var r=tmpDuringScope.el.extra||(tmpDuringScope.el.extra={});return r[t]=n,this},getExtra:function(t){var n=tmpDuringScope.el.extra;if(n)return n[t]}};function duringCall(){var t=this,n=t.el;if(n){var r=transitionInnerStore(n).userDuring,g=t.userDuring;if(r!==g){t.el=t.userDuring=null;return}tmpDuringScope.el=n,g(transitionDuringAPI)}}function prepareShapeOrExtraTransitionFrom(t,n,r,g){var y=r[t];if(y){var $=n[t],L;if($){var V=r.transition,z=y.transition;if(z)if(!L&&(L=g[t]={}),isTransitionAll(z))extend(L,$);else for(var j=normalizeToArray(z),re=0;re<j.length;re++){var ae=j[re],oe=$[ae];L[ae]=oe}else if(isTransitionAll(V)||indexOf(V,t)>=0){!L&&(L=g[t]={});for(var ie=keys($),re=0;re<ie.length;re++){var ae=ie[re],oe=$[ae];isNonStyleTransitionEnabled(y[ae],oe)&&(L[ae]=oe)}}}}}function prepareShapeOrExtraAllPropsFinal(t,n,r){var g=n[t];if(g)for(var y=r[t]={},$=keys(g),L=0;L<$.length;L++){var V=$[L];y[V]=cloneValue(g[V])}}function prepareTransformTransitionFrom(t,n,r){for(var g=n.transition,y=isTransitionAll(g)?TRANSFORMABLE_PROPS:normalizeToArray(g||[]),$=0;$<y.length;$++){var L=y[$];if(!(L==="style"||L==="shape"||L==="extra")){var V=t[L];r[L]=V}}}function prepareTransformAllPropsFinal(t,n,r){for(var g=0;g<LEGACY_TRANSFORM_PROPS.length;g++){var y=LEGACY_TRANSFORM_PROPS[g],$=LEGACY_TRANSFORM_PROPS_MAP[y],L=n[y];L&&(r[$[0]]=L[0],r[$[1]]=L[1])}for(var g=0;g<TRANSFORMABLE_PROPS.length;g++){var V=TRANSFORMABLE_PROPS[g];n[V]!=null&&(r[V]=n[V])}}function prepareStyleTransitionFrom(t,n,r,g){if(r){var y=t.style,$;if(y){var L=r.transition,V=n.transition;if(L&&!isTransitionAll(L)){var z=normalizeToArray(L);!$&&($=g.style={});for(var j=0;j<z.length;j++){var re=z[j],ae=y[re];$[re]=ae}}else if(t.getAnimationStyleProps&&(isTransitionAll(V)||isTransitionAll(L)||indexOf(V,"style")>=0)){var oe=t.getAnimationStyleProps(),ie=oe?oe.style:null;if(ie){!$&&($=g.style={});for(var le=keys(r),j=0;j<le.length;j++){var re=le[j];if(ie[re]){var ae=y[re];$[re]=ae}}}}}}}function isNonStyleTransitionEnabled(t,n){return isArrayLike(t)?t!==n:t!=null&&isFinite(t)}var getStateToRestore=makeInner(),KEYFRAME_EXCLUDE_KEYS=["percent","easing","shape","style","extra"];function stopPreviousKeyframeAnimationAndRestore(t){t.stopAnimation("keyframe"),t.attr(getStateToRestore(t))}function applyKeyframeAnimation(t,n,r){if(!(!r.isAnimationEnabled()||!n)){if(isArray$1(n)){each$f(n,function(V){applyKeyframeAnimation(t,V,r)});return}var g=n.keyframes,y=n.duration;if(r&&y==null){var $=getAnimationConfig("enter",r,0);y=$&&$.duration}if(!(!g||!y)){var L=getStateToRestore(t);each$f(ELEMENT_ANIMATABLE_PROPS,function(V){if(!(V&&!t[V])){var z;g.sort(function(j,re){return j.percent-re.percent}),each$f(g,function(j){var re=t.animators,ae=V?j[V]:j;if(ae){var oe=keys(ae);if(V||(oe=filter(oe,function(ue){return indexOf(KEYFRAME_EXCLUDE_KEYS,ue)<0})),!!oe.length){z||(z=t.animate(V,n.loop,!0),z.scope="keyframe");for(var ie=0;ie<re.length;ie++)re[ie]!==z&&re[ie].targetName===z.targetName&&re[ie].stopTracks(oe);V&&(L[V]=L[V]||{});var le=V?L[V]:L;each$f(oe,function(ue){le[ue]=((V?t[V]:t)||{})[ue]}),z.whenWithKeys(y*j.percent,ae,oe,j.easing)}}}),z&&z.delay(n.delay||0).duration(y).start(n.easing)}})}}}var EMPHASIS="emphasis",NORMAL="normal",BLUR="blur",SELECT="select",STATES=[NORMAL,EMPHASIS,BLUR,SELECT],PATH_ITEM_STYLE={normal:["itemStyle"],emphasis:[EMPHASIS,"itemStyle"],blur:[BLUR,"itemStyle"],select:[SELECT,"itemStyle"]},PATH_LABEL={normal:["label"],emphasis:[EMPHASIS,"label"],blur:[BLUR,"label"],select:[SELECT,"label"]},DEFAULT_TRANSITION=["x","y"],GROUP_DIFF_PREFIX="e\0\0",attachedTxInfoTmp={normal:{},emphasis:{},blur:{},select:{}},prepareCustoms={cartesian2d:cartesianPrepareCustom,geo:geoPrepareCustom,single:singlePrepareCustom,polar:polarPrepareCustom,calendar:calendarPrepareCustom};function isPath(t){return t instanceof Path}function isDisplayable(t){return t instanceof Displayable}function copyElement(t,n){n.copyTransform(t),isDisplayable(n)&&isDisplayable(t)&&(n.setStyle(t.style),n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n.invisible=t.invisible,n.ignore=t.ignore,isPath(n)&&isPath(t)&&n.setShape(t.shape))}var CustomChartView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y,$){this._progressiveEls=null;var L=this._data,V=r.getData(),z=this.group,j=makeRenderItem(r,V,g,y);L||z.removeAll(),V.diff(L).add(function(ae){createOrUpdateItem(y,null,ae,j(ae,$),r,z,V)}).remove(function(ae){var oe=L.getItemGraphicEl(ae);oe&&applyLeaveTransition(oe,customInnerStore(oe).option,r)}).update(function(ae,oe){var ie=L.getItemGraphicEl(oe);createOrUpdateItem(y,ie,ae,j(ae,$),r,z,V)}).execute();var re=r.get("clip",!0)?createClipPath(r.coordinateSystem,!1,r):null;re?z.setClipPath(re):z.removeClipPath(),this._data=V},n.prototype.incrementalPrepareRender=function(r,g,y){this.group.removeAll(),this._data=null},n.prototype.incrementalRender=function(r,g,y,$,L){var V=g.getData(),z=makeRenderItem(g,V,y,$),j=this._progressiveEls=[];function re(ie){ie.isGroup||(ie.incremental=!0,ie.ensureState("emphasis").hoverLayer=!0)}for(var ae=r.start;ae<r.end;ae++){var oe=createOrUpdateItem(null,null,ae,z(ae,L),g,this.group,V);oe&&(oe.traverse(re),j.push(oe))}},n.prototype.eachRendered=function(r){traverseElements(this._progressiveEls||this.group,r)},n.prototype.filterForExposedEvent=function(r,g,y,$){var L=g.element;if(L==null||y.name===L)return!0;for(;(y=y.__hostTarget||y.parent)&&y!==this.group;)if(y.name===L)return!0;return!1},n.type="custom",n}(ChartView);function createEl$1(t){var n=t.type,r;if(n==="path"){var g=t.shape,y=g.width!=null&&g.height!=null?{x:g.x||0,y:g.y||0,width:g.width,height:g.height}:null,$=getPathData(g);r=makePath($,null,y,g.layout||"center"),customInnerStore(r).customPathData=$}else if(n==="image")r=new ZRImage({}),customInnerStore(r).customImagePath=t.style.image;else if(n==="text")r=new ZRText({});else if(n==="group")r=new Group$3;else{if(n==="compoundPath")throw new Error('"compoundPath" is not supported yet.');var L=getShapeClass(n);if(!L){var V="";throwError(V)}r=new L}return customInnerStore(r).customGraphicType=n,r.name=t.name,r.z2EmphasisLift=1,r.z2SelectLift=1,r}function updateElNormal(t,n,r,g,y,$,L){stopPreviousKeyframeAnimationAndRestore(n);var V=y&&y.normal.cfg;V&&n.setTextConfig(V),g&&g.transition==null&&(g.transition=DEFAULT_TRANSITION);var z=g&&g.style;if(z){if(n.type==="text"){var j=z;hasOwn(j,"textFill")&&(j.fill=j.textFill),hasOwn(j,"textStroke")&&(j.stroke=j.textStroke)}var re=void 0,ae=isPath(n)?z.decal:null;t&&ae&&(ae.dirty=!0,re=createOrUpdatePatternFromDecal(ae,t)),z.__decalPattern=re}if(isDisplayable(n)&&z){var re=z.__decalPattern;re&&(z.decal=re)}applyUpdateTransition(n,g,$,{dataIndex:r,isInit:L,clearStyle:!0}),applyKeyframeAnimation(n,g.keyframeAnimation,$)}function updateElOnState(t,n,r,g,y){var $=n.isGroup?null:n,L=y&&y[t].cfg;if($){var V=$.ensureState(t);if(g===!1){var z=$.getState(t);z&&(z.style=null)}else V.style=g||null;L&&(V.textConfig=L),setDefaultStateProxy($)}}function updateZ(t,n,r){if(!t.isGroup){var g=t,y=r.currentZ,$=r.currentZLevel;g.z=y,g.zlevel=$;var L=n.z2;L!=null&&(g.z2=L||0);for(var V=0;V<STATES.length;V++)updateZForEachState(g,n,STATES[V])}}function updateZForEachState(t,n,r){var g=r===NORMAL,y=g?n:retrieveStateOption(n,r),$=y?y.z2:null,L;$!=null&&(L=g?t:t.ensureState(r),L.z2=$||0)}function makeRenderItem(t,n,r,g){var y=t.get("renderItem"),$=t.coordinateSystem,L={};$&&(L=$.prepareCustoms?$.prepareCustoms($):prepareCustoms[$.type]($));for(var V=defaults({getWidth:g.getWidth,getHeight:g.getHeight,getZr:g.getZr,getDevicePixelRatio:g.getDevicePixelRatio,value:Ce,style:Ie,ordinalRawValue:xe,styleEmphasis:$e,visual:Fe,barLayout:Ve,currentSeriesIndices:ze,font:Et},L.api||{}),z={context:{},seriesId:t.id,seriesName:t.name,seriesIndex:t.seriesIndex,coordSys:L.coordSys,dataInsideLength:n.count(),encode:wrapEncodeDef(t.getData())},j,re,ae={},oe={},ie={},le={},ue=0;ue<STATES.length;ue++){var de=STATES[ue];ie[de]=t.getModel(PATH_ITEM_STYLE[de]),le[de]=t.getModel(PATH_LABEL[de])}function he(Dt){return Dt===j?re||(re=n.getItemModel(Dt)):n.getItemModel(Dt)}function pe(Dt,Ue){return n.hasItemOption?Dt===j?ae[Ue]||(ae[Ue]=he(Dt).getModel(PATH_ITEM_STYLE[Ue])):he(Dt).getModel(PATH_ITEM_STYLE[Ue]):ie[Ue]}function _e(Dt,Ue){return n.hasItemOption?Dt===j?oe[Ue]||(oe[Ue]=he(Dt).getModel(PATH_LABEL[Ue])):he(Dt).getModel(PATH_LABEL[Ue]):le[Ue]}return function(Dt,Ue){return j=Dt,re=null,ae={},oe={},y&&y(defaults({dataIndexInside:Dt,dataIndex:n.getRawIndex(Dt),actionType:Ue?Ue.type:null},z),V)};function Ce(Dt,Ue){return Ue==null&&(Ue=j),n.getStore().get(n.getDimensionIndex(Dt||0),Ue)}function xe(Dt,Ue){Ue==null&&(Ue=j),Dt=Dt||0;var qe=n.getDimensionInfo(Dt);if(!qe){var Lt=n.getDimensionIndex(Dt);return Lt>=0?n.getStore().get(Lt,Ue):void 0}var Pt=n.get(qe.name,Ue),At=qe&&qe.ordinalMeta;return At?At.categories[Pt]:Pt}function Ie(Dt,Ue){Ue==null&&(Ue=j);var qe=n.getItemVisual(Ue,"style"),Lt=qe&&qe.fill,Pt=qe&&qe.opacity,At=pe(Ue,NORMAL).getItemStyle();Lt!=null&&(At.fill=Lt),Pt!=null&&(At.opacity=Pt);var vn={inheritColor:isString(Lt)?Lt:"#000"},En=_e(Ue,NORMAL),Sn=createTextStyle(En,null,vn,!1,!0);Sn.text=En.getShallow("show")?retrieve2(t.getFormattedLabel(Ue,NORMAL),getDefaultLabel(n,Ue)):null;var kt=createTextConfig(En,vn,!1);return Ne(Dt,At),At=convertToEC4StyleForCustomSerise(At,Sn,kt),Dt&&Oe(At,Dt),At.legacy=!0,At}function $e(Dt,Ue){Ue==null&&(Ue=j);var qe=pe(Ue,EMPHASIS).getItemStyle(),Lt=_e(Ue,EMPHASIS),Pt=createTextStyle(Lt,null,null,!0,!0);Pt.text=Lt.getShallow("show")?retrieve3(t.getFormattedLabel(Ue,EMPHASIS),t.getFormattedLabel(Ue,NORMAL),getDefaultLabel(n,Ue)):null;var At=createTextConfig(Lt,null,!0);return Ne(Dt,qe),qe=convertToEC4StyleForCustomSerise(qe,Pt,At),Dt&&Oe(qe,Dt),qe.legacy=!0,qe}function Oe(Dt,Ue){for(var qe in Ue)hasOwn(Ue,qe)&&(Dt[qe]=Ue[qe])}function Ne(Dt,Ue){Dt&&(Dt.textFill&&(Ue.textFill=Dt.textFill),Dt.textPosition&&(Ue.textPosition=Dt.textPosition))}function Fe(Dt,Ue){if(Ue==null&&(Ue=j),hasOwn(STYLE_VISUAL_TYPE,Dt)){var qe=n.getItemVisual(Ue,"style");return qe?qe[STYLE_VISUAL_TYPE[Dt]]:null}if(hasOwn(NON_STYLE_VISUAL_PROPS,Dt))return n.getItemVisual(Ue,Dt)}function Ve(Dt){if($.type==="cartesian2d"){var Ue=$.getBaseAxis();return getLayoutOnAxis(defaults({axis:Ue},Dt))}}function ze(){return r.getCurrentSeriesIndices()}function Et(Dt){return getFont(Dt,r)}}function wrapEncodeDef(t){var n={};return each$f(t.dimensions,function(r){var g=t.getDimensionInfo(r);if(!g.isExtraCoord){var y=g.coordDim,$=n[y]=n[y]||[];$[g.coordDimIndex]=t.getDimensionIndex(r)}}),n}function createOrUpdateItem(t,n,r,g,y,$,L){if(!g){$.remove(n);return}var V=doCreateOrUpdateEl(t,n,r,g,y,$);return V&&L.setItemGraphicEl(r,V),V&&toggleHoverEmphasis(V,g.focus,g.blurScope,g.emphasisDisabled),V}function doCreateOrUpdateEl(t,n,r,g,y,$){var L=-1,V=n;n&&doesElNeedRecreate(n,g,y)&&(L=indexOf($.childrenRef(),n),n=null);var z=!n,j=n;j?j.clearStates():(j=createEl$1(g),V&&copyElement(V,j)),g.morph===!1?j.disableMorphing=!0:j.disableMorphing&&(j.disableMorphing=!1),attachedTxInfoTmp.normal.cfg=attachedTxInfoTmp.normal.conOpt=attachedTxInfoTmp.emphasis.cfg=attachedTxInfoTmp.emphasis.conOpt=attachedTxInfoTmp.blur.cfg=attachedTxInfoTmp.blur.conOpt=attachedTxInfoTmp.select.cfg=attachedTxInfoTmp.select.conOpt=null,attachedTxInfoTmp.isLegacy=!1,doCreateOrUpdateAttachedTx(j,r,g,y,z,attachedTxInfoTmp),doCreateOrUpdateClipPath(j,r,g,y,z),updateElNormal(t,j,r,g,attachedTxInfoTmp,y,z),hasOwn(g,"info")&&(customInnerStore(j).info=g.info);for(var re=0;re<STATES.length;re++){var ae=STATES[re];if(ae!==NORMAL){var oe=retrieveStateOption(g,ae),ie=retrieveStyleOptionOnState(g,oe,ae);updateElOnState(ae,j,oe,ie,attachedTxInfoTmp)}}return updateZ(j,g,y),g.type==="group"&&mergeChildren(t,j,r,g,y),L>=0?$.replaceAt(j,L):$.add(j),j}function doesElNeedRecreate(t,n,r){var g=customInnerStore(t),y=n.type,$=n.shape,L=n.style;return r.isUniversalTransitionEnabled()||y!=null&&y!==g.customGraphicType||y==="path"&&hasOwnPathData($)&&getPathData($)!==g.customPathData||y==="image"&&hasOwn(L,"image")&&L.image!==g.customImagePath}function doCreateOrUpdateClipPath(t,n,r,g,y){var $=r.clipPath;if($===!1)t&&t.getClipPath()&&t.removeClipPath();else if($){var L=t.getClipPath();L&&doesElNeedRecreate(L,$,g)&&(L=null),L||(L=createEl$1($),t.setClipPath(L)),updateElNormal(null,L,n,$,null,g,y)}}function doCreateOrUpdateAttachedTx(t,n,r,g,y,$){if(!t.isGroup){processTxInfo(r,null,$),processTxInfo(r,EMPHASIS,$);var L=$.normal.conOpt,V=$.emphasis.conOpt,z=$.blur.conOpt,j=$.select.conOpt;if(L!=null||V!=null||j!=null||z!=null){var re=t.getTextContent();if(L===!1)re&&t.removeTextContent();else{L=$.normal.conOpt=L||{type:"text"},re?re.clearStates():(re=createEl$1(L),t.setTextContent(re)),updateElNormal(null,re,n,L,null,g,y);for(var ae=L&&L.style,oe=0;oe<STATES.length;oe++){var ie=STATES[oe];if(ie!==NORMAL){var le=$[ie].conOpt;updateElOnState(ie,re,le,retrieveStyleOptionOnState(L,le,ie),null)}}ae?re.dirty():re.markRedraw()}}}}function processTxInfo(t,n,r){var g=n?retrieveStateOption(t,n):t,y=n?retrieveStyleOptionOnState(t,g,EMPHASIS):t.style,$=t.type,L=g?g.textConfig:null,V=t.textContent,z=V?n?retrieveStateOption(V,n):V:null;if(y&&(r.isLegacy||isEC4CompatibleStyle(y,$,!!L,!!z))){r.isLegacy=!0;var j=convertFromEC4CompatibleStyle(y,$,!n);!L&&j.textConfig&&(L=j.textConfig),!z&&j.textContent&&(z=j.textContent)}if(!n&&z){var re=z;!re.type&&(re.type="text")}var ae=n?r[n]:r.normal;ae.cfg=L,ae.conOpt=z}function retrieveStateOption(t,n){return n?t?t[n]:null:t}function retrieveStyleOptionOnState(t,n,r){var g=n&&n.style;return g==null&&r===EMPHASIS&&t&&(g=t.styleEmphasis),g}function mergeChildren(t,n,r,g,y){var $=g.children,L=$?$.length:0,V=g.$mergeChildren,z=V==="byName"||g.diffChildrenByName,j=V===!1;if(!(!L&&!z&&!j)){if(z){diffGroupChildren({api:t,oldChildren:n.children()||[],newChildren:$||[],dataIndex:r,seriesModel:y,group:n});return}j&&n.removeAll();for(var re=0;re<L;re++){var ae=$[re],oe=n.childAt(re);ae?(ae.ignore==null&&(ae.ignore=!1),doCreateOrUpdateEl(t,oe,r,ae,y,n)):oe.ignore=!0}for(var ie=n.childCount()-1;ie>=re;ie--){var le=n.childAt(ie);removeChildFromGroup(n,le,y)}}}function removeChildFromGroup(t,n,r){n&&applyLeaveTransition(n,customInnerStore(t).option,r)}function diffGroupChildren(t){new DataDiffer(t.oldChildren,t.newChildren,getKey,getKey,t).add(processAddUpdate).update(processAddUpdate).remove(processRemove).execute()}function getKey(t,n){var r=t&&t.name;return r??GROUP_DIFF_PREFIX+n}function processAddUpdate(t,n){var r=this.context,g=t!=null?r.newChildren[t]:null,y=n!=null?r.oldChildren[n]:null;doCreateOrUpdateEl(r.api,y,r.dataIndex,g,r.seriesModel,r.group)}function processRemove(t){var n=this.context,r=n.oldChildren[t];r&&applyLeaveTransition(r,customInnerStore(r).option,n.seriesModel)}function getPathData(t){return t&&(t.pathData||t.d)}function hasOwnPathData(t){return t&&(hasOwn(t,"pathData")||hasOwn(t,"d"))}function install$r(t){t.registerChartView(CustomChartView),t.registerSeriesModel(CustomSeriesModel)}var inner$b=makeInner(),clone$1=clone$4,bind=bind$1,BaseAxisPointer=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(n,r,g,y){var $=r.get("value"),L=r.get("status");if(this._axisModel=n,this._axisPointerModel=r,this._api=g,!(!y&&this._lastValue===$&&this._lastStatus===L)){this._lastValue=$,this._lastStatus=L;var V=this._group,z=this._handle;if(!L||L==="hide"){V&&V.hide(),z&&z.hide();return}V&&V.show(),z&&z.show();var j={};this.makeElOption(j,$,n,r,g);var re=j.graphicKey;re!==this._lastGraphicKey&&this.clear(g),this._lastGraphicKey=re;var ae=this._moveAnimation=this.determineAnimation(n,r);if(!V)V=this._group=new Group$3,this.createPointerEl(V,j,n,r),this.createLabelEl(V,j,n,r),g.getZr().add(V);else{var oe=curry$1(updateProps,r,ae);this.updatePointerEl(V,j,oe),this.updateLabelEl(V,j,oe,r)}updateMandatoryProps(V,r,!0),this._renderHandle($)}},t.prototype.remove=function(n){this.clear(n)},t.prototype.dispose=function(n){this.clear(n)},t.prototype.determineAnimation=function(n,r){var g=r.get("animation"),y=n.axis,$=y.type==="category",L=r.get("snap");if(!L&&!$)return!1;if(g==="auto"||g==null){var V=this.animationThreshold;if($&&y.getBandWidth()>V)return!0;if(L){var z=getAxisInfo$1(n).seriesDataCount,j=y.getExtent();return Math.abs(j[0]-j[1])/z>V}return!1}return g===!0},t.prototype.makeElOption=function(n,r,g,y,$){},t.prototype.createPointerEl=function(n,r,g,y){var $=r.pointer;if($){var L=inner$b(n).pointerEl=new graphic[$.type](clone$1(r.pointer));n.add(L)}},t.prototype.createLabelEl=function(n,r,g,y){if(r.label){var $=inner$b(n).labelEl=new ZRText(clone$1(r.label));n.add($),updateLabelShowHide($,y)}},t.prototype.updatePointerEl=function(n,r,g){var y=inner$b(n).pointerEl;y&&r.pointer&&(y.setStyle(r.pointer.style),g(y,{shape:r.pointer.shape}))},t.prototype.updateLabelEl=function(n,r,g,y){var $=inner$b(n).labelEl;$&&($.setStyle(r.label.style),g($,{x:r.label.x,y:r.label.y}),updateLabelShowHide($,y))},t.prototype._renderHandle=function(n){if(!(this._dragging||!this.updateHandleTransform)){var r=this._axisPointerModel,g=this._api.getZr(),y=this._handle,$=r.getModel("handle"),L=r.get("status");if(!$.get("show")||!L||L==="hide"){y&&g.remove(y),this._handle=null;return}var V;this._handle||(V=!0,y=this._handle=createIcon($.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(j){stop(j.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),g.add(y)),updateMandatoryProps(y,r,!1),y.setStyle($.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var z=$.get("size");isArray$1(z)||(z=[z,z]),y.scaleX=z[0]/2,y.scaleY=z[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",$.get("throttle")||0,"fixRate"),this._moveHandleToValue(n,V)}},t.prototype._moveHandleToValue=function(n,r){updateProps(this._axisPointerModel,!r&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(n,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(n,r){var g=this._handle;if(g){this._dragging=!0;var y=this.updateHandleTransform(getHandleTransProps(g),[n,r],this._axisModel,this._axisPointerModel);this._payloadInfo=y,g.stopAnimation(),g.attr(getHandleTransProps(y)),inner$b(g).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){var n=this._handle;if(n){var r=this._payloadInfo,g=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:r.cursorPoint[0],y:r.cursorPoint[1],tooltipOption:r.tooltipOption,axesInfo:[{axisDim:g.axis.dim,axisIndex:g.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){this._dragging=!1;var n=this._handle;if(n){var r=this._axisPointerModel.get("value");this._moveHandleToValue(r),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(n){this._lastValue=null,this._lastStatus=null;var r=n.getZr(),g=this._group,y=this._handle;r&&g&&(this._lastGraphicKey=null,g&&r.remove(g),y&&r.remove(y),this._group=null,this._handle=null,this._payloadInfo=null),clear$1(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(n,r,g){return g=g||0,{x:n[g],y:n[1-g],width:r[g],height:r[1-g]}},t}();function updateProps(t,n,r,g){propsEqual(inner$b(r).lastProp,g)||(inner$b(r).lastProp=g,n?updateProps$1(r,g,t):(r.stopAnimation(),r.attr(g)))}function propsEqual(t,n){if(isObject$3(t)&&isObject$3(n)){var r=!0;return each$f(n,function(g,y){r=r&&propsEqual(t[y],g)}),!!r}else return t===n}function updateLabelShowHide(t,n){t[n.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function updateMandatoryProps(t,n,r){var g=n.get("z"),y=n.get("zlevel");t&&t.traverse(function($){$.type!=="group"&&(g!=null&&($.z=g),y!=null&&($.zlevel=y),$.silent=r)})}function buildElStyle(t){var n=t.get("type"),r=t.getModel(n+"Style"),g;return n==="line"?(g=r.getLineStyle(),g.fill=null):n==="shadow"&&(g=r.getAreaStyle(),g.stroke=null),g}function buildLabelElOption(t,n,r,g,y){var $=r.get("value"),L=getValueLabel($,n.axis,n.ecModel,r.get("seriesDataIndices"),{precision:r.get(["label","precision"]),formatter:r.get(["label","formatter"])}),V=r.getModel("label"),z=normalizeCssArray(V.get("padding")||0),j=V.getFont(),re=getBoundingRect(L,j),ae=y.position,oe=re.width+z[1]+z[3],ie=re.height+z[0]+z[2],le=y.align;le==="right"&&(ae[0]-=oe),le==="center"&&(ae[0]-=oe/2);var ue=y.verticalAlign;ue==="bottom"&&(ae[1]-=ie),ue==="middle"&&(ae[1]-=ie/2),confineInContainer(ae,oe,ie,g);var de=V.get("backgroundColor");(!de||de==="auto")&&(de=n.get(["axisLine","lineStyle","color"])),t.label={x:ae[0],y:ae[1],style:createTextStyle(V,{text:L,font:j,fill:V.getTextColor(),padding:z,backgroundColor:de}),z2:10}}function confineInContainer(t,n,r,g){var y=g.getWidth(),$=g.getHeight();t[0]=Math.min(t[0]+n,y)-n,t[1]=Math.min(t[1]+r,$)-r,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}function getValueLabel(t,n,r,g,y){t=n.scale.parse(t);var $=n.scale.getLabel({value:t},{precision:y.precision}),L=y.formatter;if(L){var V={value:getAxisRawValue(n,{value:t}),axisDimension:n.dim,axisIndex:n.index,seriesData:[]};each$f(g,function(z){var j=r.getSeriesByIndex(z.seriesIndex),re=z.dataIndexInside,ae=j&&j.getDataParams(re);ae&&V.seriesData.push(ae)}),isString(L)?$=L.replace("{value}",$):isFunction(L)&&($=L(V))}return $}function getTransformedPosition(t,n,r){var g=create$1();return rotate(g,g,r.rotation),translate(g,g,r.position),applyTransform([t.dataToCoord(n),(r.labelOffset||0)+(r.labelDirection||1)*(r.labelMargin||0)],g)}function buildCartesianSingleLabelElOption(t,n,r,g,y,$){var L=AxisBuilder.innerTextLayout(r.rotation,0,r.labelDirection);r.labelMargin=y.get(["label","margin"]),buildLabelElOption(n,g,y,$,{position:getTransformedPosition(g.axis,t,r),align:L.textAlign,verticalAlign:L.textVerticalAlign})}function makeLineShape(t,n,r){return r=r||0,{x1:t[r],y1:t[1-r],x2:n[r],y2:n[1-r]}}function makeRectShape(t,n,r){return r=r||0,{x:t[r],y:t[1-r],width:n[r],height:n[1-r]}}function makeSectorShape(t,n,r,g,y,$){return{cx:t,cy:n,r0:r,r:g,startAngle:y,endAngle:$,clockwise:!0}}var CartesianAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,g,y,$,L){var V=y.axis,z=V.grid,j=$.get("type"),re=getCartesian(z,V).getOtherAxis(V).getGlobalExtent(),ae=V.toGlobalCoord(V.dataToCoord(g,!0));if(j&&j!=="none"){var oe=buildElStyle($),ie=pointerShapeBuilder$2[j](V,ae,re);ie.style=oe,r.graphicKey=ie.type,r.pointer=ie}var le=layout$2(z.model,y);buildCartesianSingleLabelElOption(g,r,le,y,$,L)},n.prototype.getHandleTransform=function(r,g,y){var $=layout$2(g.axis.grid.model,g,{labelInside:!1});$.labelMargin=y.get(["handle","margin"]);var L=getTransformedPosition(g.axis,r,$);return{x:L[0],y:L[1],rotation:$.rotation+($.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,g,y,$){var L=y.axis,V=L.grid,z=L.getGlobalExtent(!0),j=getCartesian(V,L).getOtherAxis(L).getGlobalExtent(),re=L.dim==="x"?0:1,ae=[r.x,r.y];ae[re]+=g[re],ae[re]=Math.min(z[1],ae[re]),ae[re]=Math.max(z[0],ae[re]);var oe=(j[1]+j[0])/2,ie=[oe,oe];ie[re]=ae[re];var le=[{verticalAlign:"middle"},{align:"center"}];return{x:ae[0],y:ae[1],rotation:r.rotation,cursorPoint:ie,tooltipOption:le[re]}},n}(BaseAxisPointer);function getCartesian(t,n){var r={};return r[n.dim+"AxisIndex"]=n.index,t.getCartesian(r)}var pointerShapeBuilder$2={line:function(t,n,r){var g=makeLineShape([n,r[0]],[n,r[1]],getAxisDimIndex(t));return{type:"Line",subPixelOptimize:!0,shape:g}},shadow:function(t,n,r){var g=Math.max(1,t.getBandWidth()),y=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-g/2,r[0]],[g,y],getAxisDimIndex(t))}}};function getAxisDimIndex(t){return t.dim==="x"?0:1}var AxisPointerModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="axisPointer",n.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},n}(ComponentModel),inner$a=makeInner(),each$8=each$f;function register(t,n,r){if(!env.node){var g=n.getZr();inner$a(g).records||(inner$a(g).records={}),initGlobalListeners(g,n);var y=inner$a(g).records[t]||(inner$a(g).records[t]={});y.handler=r}}function initGlobalListeners(t,n){if(inner$a(t).initialized)return;inner$a(t).initialized=!0,r("click",curry$1(doEnter,"click")),r("mousemove",curry$1(doEnter,"mousemove")),r("globalout",onLeave);function r(g,y){t.on(g,function($){var L=makeDispatchAction$1(n);each$8(inner$a(t).records,function(V){V&&y(V,$,L.dispatchAction)}),dispatchTooltipFinally(L.pendings,n)})}}function dispatchTooltipFinally(t,n){var r=t.showTip.length,g=t.hideTip.length,y;r?y=t.showTip[r-1]:g&&(y=t.hideTip[g-1]),y&&(y.dispatchAction=null,n.dispatchAction(y))}function onLeave(t,n,r){t.handler("leave",null,r)}function doEnter(t,n,r,g){n.handler(t,r,g)}function makeDispatchAction$1(t){var n={showTip:[],hideTip:[]},r=function(g){var y=n[g.type];y?y.push(g):(g.dispatchAction=r,t.dispatchAction(g))};return{dispatchAction:r,pendings:n}}function unregister(t,n){if(!env.node){var r=n.getZr(),g=(inner$a(r).records||{})[t];g&&(inner$a(r).records[t]=null)}}var AxisPointerView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=g.getComponent("tooltip"),L=r.get("triggerOn")||$&&$.get("triggerOn")||"mousemove|click";register("axisPointer",y,function(V,z,j){L!=="none"&&(V==="leave"||L.indexOf(V)>=0)&&j({type:"updateAxisPointer",currTrigger:V,x:z&&z.offsetX,y:z&&z.offsetY})})},n.prototype.remove=function(r,g){unregister("axisPointer",g)},n.prototype.dispose=function(r,g){unregister("axisPointer",g)},n.type="axisPointer",n}(ComponentView);function findPointFromSeries(t,n){var r=[],g=t.seriesIndex,y;if(g==null||!(y=n.getSeriesByIndex(g)))return{point:[]};var $=y.getData(),L=queryDataIndex($,t);if(L==null||L<0||isArray$1(L))return{point:[]};var V=$.getItemGraphicEl(L),z=y.coordinateSystem;if(y.getTooltipPosition)r=y.getTooltipPosition(L)||[];else if(z&&z.dataToPoint)if(t.isStacked){var j=z.getBaseAxis(),re=z.getOtherAxis(j),ae=re.dim,oe=j.dim,ie=ae==="x"||ae==="radius"?1:0,le=$.mapDimension(oe),ue=[];ue[ie]=$.get(le,L),ue[1-ie]=$.get($.getCalculationInfo("stackResultDimension"),L),r=z.dataToPoint(ue)||[]}else r=z.dataToPoint($.getValues(map$1(z.dimensions,function(he){return $.mapDimension(he)}),L))||[];else if(V){var de=V.getBoundingRect().clone();de.applyTransform(V.transform),r=[de.x+de.width/2,de.y+de.height/2]}return{point:r,el:V}}var inner$9=makeInner();function axisTrigger(t,n,r){var g=t.currTrigger,y=[t.x,t.y],$=t,L=t.dispatchAction||bind$1(r.dispatchAction,r),V=n.getComponent("axisPointer").coordSysAxesInfo;if(V){illegalPoint(y)&&(y=findPointFromSeries({seriesIndex:$.seriesIndex,dataIndex:$.dataIndex},n).point);var z=illegalPoint(y),j=$.axesInfo,re=V.axesInfo,ae=g==="leave"||illegalPoint(y),oe={},ie={},le={list:[],map:{}},ue={showPointer:curry$1(showPointer,ie),showTooltip:curry$1(showTooltip,le)};each$f(V.coordSysMap,function(he,pe){var _e=z||he.containPoint(y);each$f(V.coordSysAxesInfo[pe],function(Ce,xe){var Ie=Ce.axis,$e=findInputAxisInfo(j,Ce);if(!ae&&_e&&(!j||$e)){var Oe=$e&&$e.value;Oe==null&&!z&&(Oe=Ie.pointToData(y)),Oe!=null&&processOnAxis(Ce,Oe,ue,!1,oe)}})});var de={};return each$f(re,function(he,pe){var _e=he.linkGroup;_e&&!ie[pe]&&each$f(_e.axesInfo,function(Ce,xe){var Ie=ie[xe];if(Ce!==he&&Ie){var $e=Ie.value;_e.mapper&&($e=he.axis.scale.parse(_e.mapper($e,makeMapperParam(Ce),makeMapperParam(he)))),de[he.key]=$e}})}),each$f(de,function(he,pe){processOnAxis(re[pe],he,ue,!0,oe)}),updateModelActually(ie,re,oe),dispatchTooltipActually(le,y,t,L),dispatchHighDownActually(re,L,r),oe}}function processOnAxis(t,n,r,g,y){var $=t.axis;if(!($.scale.isBlank()||!$.containData(n))){if(!t.involveSeries){r.showPointer(t,n);return}var L=buildPayloadsBySeries(n,t),V=L.payloadBatch,z=L.snapToValue;V[0]&&y.seriesIndex==null&&extend(y,V[0]),!g&&t.snap&&$.containData(z)&&z!=null&&(n=z),r.showPointer(t,n,V),r.showTooltip(t,L,z)}}function buildPayloadsBySeries(t,n){var r=n.axis,g=r.dim,y=t,$=[],L=Number.MAX_VALUE,V=-1;return each$f(n.seriesModels,function(z,j){var re=z.getData().mapDimensionsAll(g),ae,oe;if(z.getAxisTooltipData){var ie=z.getAxisTooltipData(re,t,r);oe=ie.dataIndices,ae=ie.nestestValue}else{if(oe=z.getData().indicesOfNearest(re[0],t,r.type==="category"?.5:null),!oe.length)return;ae=z.getData().get(re[0],oe[0])}if(!(ae==null||!isFinite(ae))){var le=t-ae,ue=Math.abs(le);ue<=L&&((ue<L||le>=0&&V<0)&&(L=ue,V=le,y=ae,$.length=0),each$f(oe,function(de){$.push({seriesIndex:z.seriesIndex,dataIndexInside:de,dataIndex:z.getData().getRawIndex(de)})}))}}),{payloadBatch:$,snapToValue:y}}function showPointer(t,n,r,g){t[n.key]={value:r,payloadBatch:g}}function showTooltip(t,n,r,g){var y=r.payloadBatch,$=n.axis,L=$.model,V=n.axisPointerModel;if(!(!n.triggerTooltip||!y.length)){var z=n.coordSys.model,j=makeKey(z),re=t.map[j];re||(re=t.map[j]={coordSysId:z.id,coordSysIndex:z.componentIndex,coordSysType:z.type,coordSysMainType:z.mainType,dataByAxis:[]},t.list.push(re)),re.dataByAxis.push({axisDim:$.dim,axisIndex:L.componentIndex,axisType:L.type,axisId:L.id,value:g,valueLabelOpt:{precision:V.get(["label","precision"]),formatter:V.get(["label","formatter"])},seriesDataIndices:y.slice()})}}function updateModelActually(t,n,r){var g=r.axesInfo=[];each$f(n,function(y,$){var L=y.axisPointerModel.option,V=t[$];V?(!y.useHandle&&(L.status="show"),L.value=V.value,L.seriesDataIndices=(V.payloadBatch||[]).slice()):!y.useHandle&&(L.status="hide"),L.status==="show"&&g.push({axisDim:y.axis.dim,axisIndex:y.axis.model.componentIndex,value:L.value})})}function dispatchTooltipActually(t,n,r,g){if(illegalPoint(n)||!t.list.length){g({type:"hideTip"});return}var y=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};g({type:"showTip",escapeConnect:!0,x:n[0],y:n[1],tooltipOption:r.tooltipOption,position:r.position,dataIndexInside:y.dataIndexInside,dataIndex:y.dataIndex,seriesIndex:y.seriesIndex,dataByCoordSys:t.list})}function dispatchHighDownActually(t,n,r){var g=r.getZr(),y="axisPointerLastHighlights",$=inner$9(g)[y]||{},L=inner$9(g)[y]={};each$f(t,function(j,re){var ae=j.axisPointerModel.option;ae.status==="show"&&j.triggerEmphasis&&each$f(ae.seriesDataIndices,function(oe){var ie=oe.seriesIndex+" | "+oe.dataIndex;L[ie]=oe})});var V=[],z=[];each$f($,function(j,re){!L[re]&&z.push(j)}),each$f(L,function(j,re){!$[re]&&V.push(j)}),z.length&&r.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:z}),V.length&&r.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:V})}function findInputAxisInfo(t,n){for(var r=0;r<(t||[]).length;r++){var g=t[r];if(n.axis.dim===g.axisDim&&n.axis.model.componentIndex===g.axisIndex)return g}}function makeMapperParam(t){var n=t.axis.model,r={},g=r.axisDim=t.axis.dim;return r.axisIndex=r[g+"AxisIndex"]=n.componentIndex,r.axisName=r[g+"AxisName"]=n.name,r.axisId=r[g+"AxisId"]=n.id,r}function illegalPoint(t){return!t||t[0]==null||isNaN(t[0])||t[1]==null||isNaN(t[1])}function install$q(t){AxisView.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer),t.registerComponentModel(AxisPointerModel),t.registerComponentView(AxisPointerView),t.registerPreprocessor(function(n){if(n){(!n.axisPointer||n.axisPointer.length===0)&&(n.axisPointer={});var r=n.axisPointer.link;r&&!isArray$1(r)&&(n.axisPointer.link=[r])}}),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,function(n,r){n.getComponent("axisPointer").coordSysAxesInfo=collect(n,r)}),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function install$p(t){use(install$N),use(install$q)}var PolarAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,g,y,$,L){var V=y.axis;V.dim==="angle"&&(this.animationThreshold=Math.PI/18);var z=V.polar,j=z.getOtherAxis(V),re=j.getExtent(),ae=V.dataToCoord(g),oe=$.get("type");if(oe&&oe!=="none"){var ie=buildElStyle($),le=pointerShapeBuilder$1[oe](V,z,ae,re);le.style=ie,r.graphicKey=le.type,r.pointer=le}var ue=$.get(["label","margin"]),de=getLabelPosition(g,y,$,z,ue);buildLabelElOption(r,y,$,L,de)},n}(BaseAxisPointer);function getLabelPosition(t,n,r,g,y){var $=n.axis,L=$.dataToCoord(t),V=g.getAngleAxis().getExtent()[0];V=V/180*Math.PI;var z=g.getRadiusAxis().getExtent(),j,re,ae;if($.dim==="radius"){var oe=create$1();rotate(oe,oe,V),translate(oe,oe,[g.cx,g.cy]),j=applyTransform([L,-y],oe);var ie=n.getModel("axisLabel").get("rotate")||0,le=AxisBuilder.innerTextLayout(V,ie*Math.PI/180,-1);re=le.textAlign,ae=le.textVerticalAlign}else{var ue=z[1];j=g.coordToPoint([ue+y,L]);var de=g.cx,he=g.cy;re=Math.abs(j[0]-de)/ue<.3?"center":j[0]>de?"left":"right",ae=Math.abs(j[1]-he)/ue<.3?"middle":j[1]>he?"top":"bottom"}return{position:j,align:re,verticalAlign:ae}}var pointerShapeBuilder$1={line:function(t,n,r,g){return t.dim==="angle"?{type:"Line",shape:makeLineShape(n.coordToPoint([g[0],r]),n.coordToPoint([g[1],r]))}:{type:"Circle",shape:{cx:n.cx,cy:n.cy,r}}},shadow:function(t,n,r,g){var y=Math.max(1,t.getBandWidth()),$=Math.PI/180;return t.dim==="angle"?{type:"Sector",shape:makeSectorShape(n.cx,n.cy,g[0],g[1],(-r-y/2)*$,(-r+y/2)*$)}:{type:"Sector",shape:makeSectorShape(n.cx,n.cy,r-y/2,r+y/2,0,Math.PI*2)}}},PolarModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.findAxisModel=function(r){var g,y=this.ecModel;return y.eachComponent(r,function($){$.getCoordSysModel()===this&&(g=$)},this),g},n.type="polar",n.dependencies=["radiusAxis","angleAxis"],n.defaultOption={z:0,center:["50%","50%"],radius:"80%"},n}(ComponentModel),PolarAxisModel=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",SINGLE_REFERRING).models[0]},n.type="polarAxis",n}(ComponentModel);mixin(PolarAxisModel,AxisModelCommonMixin);var AngleAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="angleAxis",n}(PolarAxisModel),RadiusAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="radiusAxis",n}(PolarAxisModel),RadiusAxis=function(t){__extends(n,t);function n(r,g){return t.call(this,"radius",r,g)||this}return n.prototype.pointToData=function(r,g){return this.polar.pointToData(r,g)[this.dim==="radius"?0:1]},n}(Axis);RadiusAxis.prototype.dataToRadius=Axis.prototype.dataToCoord;RadiusAxis.prototype.radiusToData=Axis.prototype.coordToData;var inner$8=makeInner(),AngleAxis=function(t){__extends(n,t);function n(r,g){return t.call(this,"angle",r,g||[0,360])||this}return n.prototype.pointToData=function(r,g){return this.polar.pointToData(r,g)[this.dim==="radius"?0:1]},n.prototype.calculateCategoryInterval=function(){var r=this,g=r.getLabelModel(),y=r.scale,$=y.getExtent(),L=y.count();if($[1]-$[0]<1)return 0;var V=$[0],z=r.dataToCoord(V+1)-r.dataToCoord(V),j=Math.abs(z),re=getBoundingRect(V==null?"":V+"",g.getFont(),"center","top"),ae=Math.max(re.height,7),oe=ae/j;isNaN(oe)&&(oe=1/0);var ie=Math.max(0,Math.floor(oe)),le=inner$8(r.model),ue=le.lastAutoInterval,de=le.lastTickCount;return ue!=null&&de!=null&&Math.abs(ue-ie)<=1&&Math.abs(de-L)<=1&&ue>ie?ie=ue:(le.lastTickCount=L,le.lastAutoInterval=ie),ie},n}(Axis);AngleAxis.prototype.dataToAngle=Axis.prototype.dataToCoord;AngleAxis.prototype.angleToData=Axis.prototype.coordToData;var polarDimensions=["radius","angle"],Polar=function(){function t(n){this.dimensions=polarDimensions,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new RadiusAxis,this._angleAxis=new AngleAxis,this.axisPointerEnabled=!0,this.name=n||"",this._radiusAxis.polar=this._angleAxis.polar=this}return t.prototype.containPoint=function(n){var r=this.pointToCoord(n);return this._radiusAxis.contain(r[0])&&this._angleAxis.contain(r[1])},t.prototype.containData=function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},t.prototype.getAxis=function(n){var r="_"+n+"Axis";return this[r]},t.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},t.prototype.getAxesByScale=function(n){var r=[],g=this._angleAxis,y=this._radiusAxis;return g.scale.type===n&&r.push(g),y.scale.type===n&&r.push(y),r},t.prototype.getAngleAxis=function(){return this._angleAxis},t.prototype.getRadiusAxis=function(){return this._radiusAxis},t.prototype.getOtherAxis=function(n){var r=this._angleAxis;return n===r?this._radiusAxis:r},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},t.prototype.getTooltipAxes=function(n){var r=n!=null&&n!=="auto"?this.getAxis(n):this.getBaseAxis();return{baseAxes:[r],otherAxes:[this.getOtherAxis(r)]}},t.prototype.dataToPoint=function(n,r){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],r),this._angleAxis.dataToAngle(n[1],r)])},t.prototype.pointToData=function(n,r){var g=this.pointToCoord(n);return[this._radiusAxis.radiusToData(g[0],r),this._angleAxis.angleToData(g[1],r)]},t.prototype.pointToCoord=function(n){var r=n[0]-this.cx,g=n[1]-this.cy,y=this.getAngleAxis(),$=y.getExtent(),L=Math.min($[0],$[1]),V=Math.max($[0],$[1]);y.inverse?L=V-360:V=L+360;var z=Math.sqrt(r*r+g*g);r/=z,g/=z;for(var j=Math.atan2(-g,r)/Math.PI*180,re=j<L?1:-1;j<L||j>V;)j+=re*360;return[z,j]},t.prototype.coordToPoint=function(n){var r=n[0],g=n[1]/180*Math.PI,y=Math.cos(g)*r+this.cx,$=-Math.sin(g)*r+this.cy;return[y,$]},t.prototype.getArea=function(){var n=this.getAngleAxis(),r=this.getRadiusAxis(),g=r.getExtent().slice();g[0]>g[1]&&g.reverse();var y=n.getExtent(),$=Math.PI/180,L=1e-4;return{cx:this.cx,cy:this.cy,r0:g[0],r:g[1],startAngle:-y[0]*$,endAngle:-y[1]*$,clockwise:n.inverse,contain:function(V,z){var j=V-this.cx,re=z-this.cy,ae=j*j+re*re,oe=this.r,ie=this.r0;return oe!==ie&&ae-L<=oe*oe&&ae+L>=ie*ie}}},t.prototype.convertToPixel=function(n,r,g){var y=getCoordSys$2(r);return y===this?this.dataToPoint(g):null},t.prototype.convertFromPixel=function(n,r,g){var y=getCoordSys$2(r);return y===this?this.pointToData(g):null},t}();function getCoordSys$2(t){var n=t.seriesModel,r=t.polarModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function resizePolar(t,n,r){var g=n.get("center"),y=r.getWidth(),$=r.getHeight();t.cx=parsePercent(g[0],y),t.cy=parsePercent(g[1],$);var L=t.getRadiusAxis(),V=Math.min(y,$)/2,z=n.get("radius");z==null?z=[0,"100%"]:isArray$1(z)||(z=[0,z]);var j=[parsePercent(z[0],V),parsePercent(z[1],V)];L.inverse?L.setExtent(j[1],j[0]):L.setExtent(j[0],j[1])}function updatePolarScale(t,n){var r=this,g=r.getAngleAxis(),y=r.getRadiusAxis();if(g.scale.setExtent(1/0,-1/0),y.scale.setExtent(1/0,-1/0),t.eachSeries(function(V){if(V.coordinateSystem===r){var z=V.getData();each$f(getDataDimensionsOnAxis(z,"radius"),function(j){y.scale.unionExtentFromData(z,j)}),each$f(getDataDimensionsOnAxis(z,"angle"),function(j){g.scale.unionExtentFromData(z,j)})}}),niceScaleExtent(g.scale,g.model),niceScaleExtent(y.scale,y.model),g.type==="category"&&!g.onBand){var $=g.getExtent(),L=360/g.scale.count();g.inverse?$[1]+=L:$[1]-=L,g.setExtent($[0],$[1])}}function isAngleAxisModel(t){return t.mainType==="angleAxis"}function setAxis(t,n){var r;if(t.type=n.get("type"),t.scale=createScaleByModel$1(n),t.onBand=n.get("boundaryGap")&&t.type==="category",t.inverse=n.get("inverse"),isAngleAxisModel(n)){t.inverse=t.inverse!==n.get("clockwise");var g=n.get("startAngle"),y=(r=n.get("endAngle"))!==null&&r!==void 0?r:g+(t.inverse?-360:360);t.setExtent(g,y)}n.axis=t,t.model=n}var polarCreator={dimensions:polarDimensions,create:function(t,n){var r=[];return t.eachComponent("polar",function(g,y){var $=new Polar(y+"");$.update=updatePolarScale;var L=$.getRadiusAxis(),V=$.getAngleAxis(),z=g.findAxisModel("radiusAxis"),j=g.findAxisModel("angleAxis");setAxis(L,z),setAxis(V,j),resizePolar($,g,n),r.push($),g.coordinateSystem=$,$.model=g}),t.eachSeries(function(g){if(g.get("coordinateSystem")==="polar"){var y=g.getReferringComponents("polar",SINGLE_REFERRING).models[0];g.coordinateSystem=y.coordinateSystem}}),r}},elementList=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function getAxisLineShape(t,n,r){n[1]>n[0]&&(n=n.slice().reverse());var g=t.coordToPoint([n[0],r]),y=t.coordToPoint([n[1],r]);return{x1:g[0],y1:g[1],x2:y[0],y2:y[1]}}function getRadiusIdx(t){var n=t.getRadiusAxis();return n.inverse?0:1}function fixAngleOverlap(t){var n=t[0],r=t[t.length-1];n&&r&&Math.abs(Math.abs(n.coord-r.coord)-360)<1e-4&&t.pop()}var AngleAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,g){if(this.group.removeAll(),!!r.get("show")){var y=r.axis,$=y.polar,L=$.getRadiusAxis().getExtent(),V=y.getTicksCoords(),z=y.getMinorTicksCoords(),j=map$1(y.getViewLabels(),function(re){re=clone$4(re);var ae=y.scale,oe=ae.type==="ordinal"?ae.getRawOrdinalNumber(re.tickValue):re.tickValue;return re.coord=y.dataToCoord(oe),re});fixAngleOverlap(j),fixAngleOverlap(V),each$f(elementList,function(re){r.get([re,"show"])&&(!y.scale.isBlank()||re==="axisLine")&&angelAxisElementsBuilders[re](this.group,r,$,V,z,L,j)},this)}},n.type="angleAxis",n}(AxisView),angelAxisElementsBuilders={axisLine:function(t,n,r,g,y,$){var L=n.getModel(["axisLine","lineStyle"]),V=r.getAngleAxis(),z=Math.PI/180,j=V.getExtent(),re=getRadiusIdx(r),ae=re?0:1,oe,ie=Math.abs(j[1]-j[0])===360?"Circle":"Arc";$[ae]===0?oe=new graphic[ie]({shape:{cx:r.cx,cy:r.cy,r:$[re],startAngle:-j[0]*z,endAngle:-j[1]*z,clockwise:V.inverse},style:L.getLineStyle(),z2:1,silent:!0}):oe=new Ring({shape:{cx:r.cx,cy:r.cy,r:$[re],r0:$[ae]},style:L.getLineStyle(),z2:1,silent:!0}),oe.style.fill=null,t.add(oe)},axisTick:function(t,n,r,g,y,$){var L=n.getModel("axisTick"),V=(L.get("inside")?-1:1)*L.get("length"),z=$[getRadiusIdx(r)],j=map$1(g,function(re){return new Line$1({shape:getAxisLineShape(r,[z,z+V],re.coord)})});t.add(mergePath(j,{style:defaults(L.getModel("lineStyle").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})}))},minorTick:function(t,n,r,g,y,$){if(y.length){for(var L=n.getModel("axisTick"),V=n.getModel("minorTick"),z=(L.get("inside")?-1:1)*V.get("length"),j=$[getRadiusIdx(r)],re=[],ae=0;ae<y.length;ae++)for(var oe=0;oe<y[ae].length;oe++)re.push(new Line$1({shape:getAxisLineShape(r,[j,j+z],y[ae][oe].coord)}));t.add(mergePath(re,{style:defaults(V.getModel("lineStyle").getLineStyle(),defaults(L.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(t,n,r,g,y,$,L){var V=n.getCategories(!0),z=n.getModel("axisLabel"),j=z.get("margin"),re=n.get("triggerEvent");each$f(L,function(ae,oe){var ie=z,le=ae.tickValue,ue=$[getRadiusIdx(r)],de=r.coordToPoint([ue+j,ae.coord]),he=r.cx,pe=r.cy,_e=Math.abs(de[0]-he)/ue<.3?"center":de[0]>he?"left":"right",Ce=Math.abs(de[1]-pe)/ue<.3?"middle":de[1]>pe?"top":"bottom";if(V&&V[le]){var xe=V[le];isObject$3(xe)&&xe.textStyle&&(ie=new Model(xe.textStyle,z,z.ecModel))}var Ie=new ZRText({silent:AxisBuilder.isLabelSilent(n),style:createTextStyle(ie,{x:de[0],y:de[1],fill:ie.getTextColor()||n.get(["axisLine","lineStyle","color"]),text:ae.formattedLabel,align:_e,verticalAlign:Ce})});if(t.add(Ie),re){var $e=AxisBuilder.makeAxisEventDataBase(n);$e.targetType="axisLabel",$e.value=ae.rawLabel,getECData(Ie).eventData=$e}},this)},splitLine:function(t,n,r,g,y,$){var L=n.getModel("splitLine"),V=L.getModel("lineStyle"),z=V.get("color"),j=0;z=z instanceof Array?z:[z];for(var re=[],ae=0;ae<g.length;ae++){var oe=j++%z.length;re[oe]=re[oe]||[],re[oe].push(new Line$1({shape:getAxisLineShape(r,$,g[ae].coord)}))}for(var ae=0;ae<re.length;ae++)t.add(mergePath(re[ae],{style:defaults({stroke:z[ae%z.length]},V.getLineStyle()),silent:!0,z:n.get("z")}))},minorSplitLine:function(t,n,r,g,y,$){if(y.length){for(var L=n.getModel("minorSplitLine"),V=L.getModel("lineStyle"),z=[],j=0;j<y.length;j++)for(var re=0;re<y[j].length;re++)z.push(new Line$1({shape:getAxisLineShape(r,$,y[j][re].coord)}));t.add(mergePath(z,{style:V.getLineStyle(),silent:!0,z:n.get("z")}))}},splitArea:function(t,n,r,g,y,$){if(g.length){var L=n.getModel("splitArea"),V=L.getModel("areaStyle"),z=V.get("color"),j=0;z=z instanceof Array?z:[z];for(var re=[],ae=Math.PI/180,oe=-g[0].coord*ae,ie=Math.min($[0],$[1]),le=Math.max($[0],$[1]),ue=n.get("clockwise"),de=1,he=g.length;de<=he;de++){var pe=de===he?g[0].coord:g[de].coord,_e=j++%z.length;re[_e]=re[_e]||[],re[_e].push(new Sector({shape:{cx:r.cx,cy:r.cy,r0:ie,r:le,startAngle:oe,endAngle:-pe*ae,clockwise:ue},silent:!0})),oe=-pe*ae}for(var de=0;de<re.length;de++)t.add(mergePath(re[de],{style:defaults({fill:z[de%z.length]},V.getAreaStyle()),silent:!0}))}}},axisBuilderAttrs$1=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs$1=["splitLine","splitArea","minorSplitLine"],RadiusAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="PolarAxisPointer",r}return n.prototype.render=function(r,g){if(this.group.removeAll(),!!r.get("show")){var y=this._axisGroup,$=this._axisGroup=new Group$3;this.group.add($);var L=r.axis,V=L.polar,z=V.getAngleAxis(),j=L.getTicksCoords(),re=L.getMinorTicksCoords(),ae=z.getExtent()[0],oe=L.getExtent(),ie=layoutAxis(V,r,ae),le=new AxisBuilder(r,ie);each$f(axisBuilderAttrs$1,le.add,le),$.add(le.getGroup()),groupTransition(y,$,r),each$f(selfBuilderAttrs$1,function(ue){r.get([ue,"show"])&&!L.scale.isBlank()&&axisElementBuilders$1[ue](this.group,r,V,ae,oe,j,re)},this)}},n.type="radiusAxis",n}(AxisView),axisElementBuilders$1={splitLine:function(t,n,r,g,y,$){var L=n.getModel("splitLine"),V=L.getModel("lineStyle"),z=V.get("color"),j=0,re=r.getAngleAxis(),ae=Math.PI/180,oe=re.getExtent(),ie=Math.abs(oe[1]-oe[0])===360?"Circle":"Arc";z=z instanceof Array?z:[z];for(var le=[],ue=0;ue<$.length;ue++){var de=j++%z.length;le[de]=le[de]||[],le[de].push(new graphic[ie]({shape:{cx:r.cx,cy:r.cy,r:Math.max($[ue].coord,0),startAngle:-oe[0]*ae,endAngle:-oe[1]*ae,clockwise:re.inverse}}))}for(var ue=0;ue<le.length;ue++)t.add(mergePath(le[ue],{style:defaults({stroke:z[ue%z.length],fill:null},V.getLineStyle()),silent:!0}))},minorSplitLine:function(t,n,r,g,y,$,L){if(L.length){for(var V=n.getModel("minorSplitLine"),z=V.getModel("lineStyle"),j=[],re=0;re<L.length;re++)for(var ae=0;ae<L[re].length;ae++)j.push(new Circle({shape:{cx:r.cx,cy:r.cy,r:L[re][ae].coord}}));t.add(mergePath(j,{style:defaults({fill:null},z.getLineStyle()),silent:!0}))}},splitArea:function(t,n,r,g,y,$){if($.length){var L=n.getModel("splitArea"),V=L.getModel("areaStyle"),z=V.get("color"),j=0;z=z instanceof Array?z:[z];for(var re=[],ae=$[0].coord,oe=1;oe<$.length;oe++){var ie=j++%z.length;re[ie]=re[ie]||[],re[ie].push(new Sector({shape:{cx:r.cx,cy:r.cy,r0:ae,r:$[oe].coord,startAngle:0,endAngle:Math.PI*2},silent:!0})),ae=$[oe].coord}for(var oe=0;oe<re.length;oe++)t.add(mergePath(re[oe],{style:defaults({fill:z[oe%z.length]},V.getAreaStyle()),silent:!0}))}}};function layoutAxis(t,n,r){return{position:[t.cx,t.cy],rotation:r/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:n.getModel("axisLabel").get("rotate"),z2:1}}function getSeriesStackId(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function getAxisKey(t,n){return n.dim+t.model.componentIndex}function barLayoutPolar(t,n,r){var g={},y=calRadialBar(filter(n.getSeriesByType(t),function($){return!n.isSeriesFiltered($)&&$.coordinateSystem&&$.coordinateSystem.type==="polar"}));n.eachSeriesByType(t,function($){if($.coordinateSystem.type==="polar"){var L=$.getData(),V=$.coordinateSystem,z=V.getBaseAxis(),j=getAxisKey(V,z),re=getSeriesStackId($),ae=y[j][re],oe=ae.offset,ie=ae.width,le=V.getOtherAxis(z),ue=$.coordinateSystem.cx,de=$.coordinateSystem.cy,he=$.get("barMinHeight")||0,pe=$.get("barMinAngle")||0;g[re]=g[re]||[];for(var _e=L.mapDimension(le.dim),Ce=L.mapDimension(z.dim),xe=isDimensionStacked(L,_e),Ie=z.dim!=="radius"||!$.get("roundCap",!0),$e=le.model,Oe=$e.get("startValue"),Ne=le.dataToCoord(Oe||0),Fe=0,Ve=L.count();Fe<Ve;Fe++){var ze=L.get(_e,Fe),Et=L.get(Ce,Fe),Dt=ze>=0?"p":"n",Ue=Ne;xe&&(g[re][Et]||(g[re][Et]={p:Ne,n:Ne}),Ue=g[re][Et][Dt]);var qe=void 0,Lt=void 0,Pt=void 0,At=void 0;if(le.dim==="radius"){var vn=le.dataToCoord(ze)-Ne,En=z.dataToCoord(Et);Math.abs(vn)<he&&(vn=(vn<0?-1:1)*he),qe=Ue,Lt=Ue+vn,Pt=En-oe,At=Pt-ie,xe&&(g[re][Et][Dt]=Lt)}else{var Sn=le.dataToCoord(ze,Ie)-Ne,kt=z.dataToCoord(Et);Math.abs(Sn)<pe&&(Sn=(Sn<0?-1:1)*pe),qe=kt+oe,Lt=qe+ie,Pt=Ue,At=Ue+Sn,xe&&(g[re][Et][Dt]=At)}L.setItemLayout(Fe,{cx:ue,cy:de,r0:qe,r:Lt,startAngle:-Pt*Math.PI/180,endAngle:-At*Math.PI/180,clockwise:Pt>=At})}}})}function calRadialBar(t){var n={};each$f(t,function(g,y){var $=g.getData(),L=g.coordinateSystem,V=L.getBaseAxis(),z=getAxisKey(L,V),j=V.getExtent(),re=V.type==="category"?V.getBandWidth():Math.abs(j[1]-j[0])/$.count(),ae=n[z]||{bandWidth:re,remainedWidth:re,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},oe=ae.stacks;n[z]=ae;var ie=getSeriesStackId(g);oe[ie]||ae.autoWidthCount++,oe[ie]=oe[ie]||{width:0,maxWidth:0};var le=parsePercent(g.get("barWidth"),re),ue=parsePercent(g.get("barMaxWidth"),re),de=g.get("barGap"),he=g.get("barCategoryGap");le&&!oe[ie].width&&(le=Math.min(ae.remainedWidth,le),oe[ie].width=le,ae.remainedWidth-=le),ue&&(oe[ie].maxWidth=ue),de!=null&&(ae.gap=de),he!=null&&(ae.categoryGap=he)});var r={};return each$f(n,function(g,y){r[y]={};var $=g.stacks,L=g.bandWidth,V=parsePercent(g.categoryGap,L),z=parsePercent(g.gap,1),j=g.remainedWidth,re=g.autoWidthCount,ae=(j-V)/(re+(re-1)*z);ae=Math.max(ae,0),each$f($,function(ue,de){var he=ue.maxWidth;he&&he<ae&&(he=Math.min(he,j),ue.width&&(he=Math.min(he,ue.width)),j-=he,ue.width=he,re--)}),ae=(j-V)/(re+(re-1)*z),ae=Math.max(ae,0);var oe=0,ie;each$f($,function(ue,de){ue.width||(ue.width=ae),ie=ue,oe+=ue.width*(1+z)}),ie&&(oe-=ie.width*z);var le=-oe/2;each$f($,function(ue,de){r[y][de]=r[y][de]||{offset:le,width:ue.width},le+=ue.width*(1+z)})}),r}var angleAxisExtraOption={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},radiusAxisExtraOption={splitNumber:5},PolarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="polar",n}(ComponentView);function install$o(t){use(install$q),AxisView.registerAxisPointerClass("PolarAxisPointer",PolarAxisPointer),t.registerCoordinateSystem("polar",polarCreator),t.registerComponentModel(PolarModel),t.registerComponentView(PolarView),axisModelCreator(t,"angle",AngleAxisModel,angleAxisExtraOption),axisModelCreator(t,"radius",RadiusAxisModel,radiusAxisExtraOption),t.registerComponentView(AngleAxisView),t.registerComponentView(RadiusAxisView),t.registerLayout(curry$1(barLayoutPolar,"bar"))}function layout$1(t,n){n=n||{};var r=t.coordinateSystem,g=t.axis,y={},$=g.position,L=g.orient,V=r.getRect(),z=[V.x,V.x+V.width,V.y,V.y+V.height],j={horizontal:{top:z[2],bottom:z[3]},vertical:{left:z[0],right:z[1]}};y.position=[L==="vertical"?j.vertical[$]:z[0],L==="horizontal"?j.horizontal[$]:z[3]];var re={horizontal:0,vertical:1};y.rotation=Math.PI/2*re[L];var ae={top:-1,bottom:1,right:1,left:-1};y.labelDirection=y.tickDirection=y.nameDirection=ae[$],t.get(["axisTick","inside"])&&(y.tickDirection=-y.tickDirection),retrieve(n.labelInside,t.get(["axisLabel","inside"]))&&(y.labelDirection=-y.labelDirection);var oe=n.rotate;return oe==null&&(oe=t.get(["axisLabel","rotate"])),y.labelRotation=$==="top"?-oe:oe,y.z2=1,y}var axisBuilderAttrs=["axisLine","axisTickLabel","axisName"],selfBuilderAttrs=["splitArea","splitLine"],SingleAxisView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.axisPointerClass="SingleAxisPointer",r}return n.prototype.render=function(r,g,y,$){var L=this.group;L.removeAll();var V=this._axisGroup;this._axisGroup=new Group$3;var z=layout$1(r),j=new AxisBuilder(r,z);each$f(axisBuilderAttrs,j.add,j),L.add(this._axisGroup),L.add(j.getGroup()),each$f(selfBuilderAttrs,function(re){r.get([re,"show"])&&axisElementBuilders[re](this,this.group,this._axisGroup,r)},this),groupTransition(V,this._axisGroup,r),t.prototype.render.call(this,r,g,y,$)},n.prototype.remove=function(){rectCoordAxisHandleRemove(this)},n.type="singleAxis",n}(AxisView),axisElementBuilders={splitLine:function(t,n,r,g){var y=g.axis;if(!y.scale.isBlank()){var $=g.getModel("splitLine"),L=$.getModel("lineStyle"),V=L.get("color");V=V instanceof Array?V:[V];for(var z=L.get("width"),j=g.coordinateSystem.getRect(),re=y.isHorizontal(),ae=[],oe=0,ie=y.getTicksCoords({tickModel:$}),le=[],ue=[],de=0;de<ie.length;++de){var he=y.toGlobalCoord(ie[de].coord);re?(le[0]=he,le[1]=j.y,ue[0]=he,ue[1]=j.y+j.height):(le[0]=j.x,le[1]=he,ue[0]=j.x+j.width,ue[1]=he);var pe=new Line$1({shape:{x1:le[0],y1:le[1],x2:ue[0],y2:ue[1]},silent:!0});subPixelOptimizeLine(pe.shape,z);var _e=oe++%V.length;ae[_e]=ae[_e]||[],ae[_e].push(pe)}for(var Ce=L.getLineStyle(["color"]),de=0;de<ae.length;++de)n.add(mergePath(ae[de],{style:defaults({stroke:V[de%V.length]},Ce),silent:!0}))}},splitArea:function(t,n,r,g){rectCoordAxisBuildSplitArea(t,r,g,g)}},SingleAxisModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.getCoordSysModel=function(){return this},n.type="singleAxis",n.layoutMode="box",n.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},n}(ComponentModel);mixin(SingleAxisModel,AxisModelCommonMixin.prototype);var SingleAxis=function(t){__extends(n,t);function n(r,g,y,$,L){var V=t.call(this,r,g,y)||this;return V.type=$||"value",V.position=L||"bottom",V}return n.prototype.isHorizontal=function(){var r=this.position;return r==="top"||r==="bottom"},n.prototype.pointToData=function(r,g){return this.coordinateSystem.pointToData(r)[0]},n}(Axis),singleDimensions=["single"],Single=function(){function t(n,r,g){this.type="single",this.dimension="single",this.dimensions=singleDimensions,this.axisPointerEnabled=!0,this.model=n,this._init(n,r,g)}return t.prototype._init=function(n,r,g){var y=this.dimension,$=new SingleAxis(y,createScaleByModel$1(n),[0,0],n.get("type"),n.get("position")),L=$.type==="category";$.onBand=L&&n.get("boundaryGap"),$.inverse=n.get("inverse"),$.orient=n.get("orient"),n.axis=$,$.model=n,$.coordinateSystem=this,this._axis=$},t.prototype.update=function(n,r){n.eachSeries(function(g){if(g.coordinateSystem===this){var y=g.getData();each$f(y.mapDimensionsAll(this.dimension),function($){this._axis.scale.unionExtentFromData(y,$)},this),niceScaleExtent(this._axis.scale,this._axis.model)}},this)},t.prototype.resize=function(n,r){this._rect=getLayoutRect({left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")},{width:r.getWidth(),height:r.getHeight()}),this._adjustAxis()},t.prototype.getRect=function(){return this._rect},t.prototype._adjustAxis=function(){var n=this._rect,r=this._axis,g=r.isHorizontal(),y=g?[0,n.width]:[0,n.height],$=r.inverse?1:0;r.setExtent(y[$],y[1-$]),this._updateAxisTransform(r,g?n.x:n.y)},t.prototype._updateAxisTransform=function(n,r){var g=n.getExtent(),y=g[0]+g[1],$=n.isHorizontal();n.toGlobalCoord=$?function(L){return L+r}:function(L){return y-L+r},n.toLocalCoord=$?function(L){return L-r}:function(L){return y-L+r}},t.prototype.getAxis=function(){return this._axis},t.prototype.getBaseAxis=function(){return this._axis},t.prototype.getAxes=function(){return[this._axis]},t.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},t.prototype.containPoint=function(n){var r=this.getRect(),g=this.getAxis(),y=g.orient;return y==="horizontal"?g.contain(g.toLocalCoord(n[0]))&&n[1]>=r.y&&n[1]<=r.y+r.height:g.contain(g.toLocalCoord(n[1]))&&n[0]>=r.y&&n[0]<=r.y+r.height},t.prototype.pointToData=function(n){var r=this.getAxis();return[r.coordToData(r.toLocalCoord(n[r.orient==="horizontal"?0:1]))]},t.prototype.dataToPoint=function(n){var r=this.getAxis(),g=this.getRect(),y=[],$=r.orient==="horizontal"?0:1;return n instanceof Array&&(n=n[0]),y[$]=r.toGlobalCoord(r.dataToCoord(+n)),y[1-$]=$===0?g.y+g.height/2:g.x+g.width/2,y},t.prototype.convertToPixel=function(n,r,g){var y=getCoordSys$1(r);return y===this?this.dataToPoint(g):null},t.prototype.convertFromPixel=function(n,r,g){var y=getCoordSys$1(r);return y===this?this.pointToData(g):null},t}();function getCoordSys$1(t){var n=t.seriesModel,r=t.singleAxisModel;return r&&r.coordinateSystem||n&&n.coordinateSystem}function create(t,n){var r=[];return t.eachComponent("singleAxis",function(g,y){var $=new Single(g,t,n);$.name="single_"+y,$.resize(g,n),g.coordinateSystem=$,r.push($)}),t.eachSeries(function(g){if(g.get("coordinateSystem")==="singleAxis"){var y=g.getReferringComponents("singleAxis",SINGLE_REFERRING).models[0];g.coordinateSystem=y&&y.coordinateSystem}}),r}var singleCreator={create,dimensions:singleDimensions},XY$1=["x","y"],WH$1=["width","height"],SingleAxisPointer=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.makeElOption=function(r,g,y,$,L){var V=y.axis,z=V.coordinateSystem,j=getGlobalExtent(z,1-getPointDimIndex(V)),re=z.dataToPoint(g)[0],ae=$.get("type");if(ae&&ae!=="none"){var oe=buildElStyle($),ie=pointerShapeBuilder[ae](V,re,j);ie.style=oe,r.graphicKey=ie.type,r.pointer=ie}var le=layout$1(y);buildCartesianSingleLabelElOption(g,r,le,y,$,L)},n.prototype.getHandleTransform=function(r,g,y){var $=layout$1(g,{labelInside:!1});$.labelMargin=y.get(["handle","margin"]);var L=getTransformedPosition(g.axis,r,$);return{x:L[0],y:L[1],rotation:$.rotation+($.labelDirection<0?Math.PI:0)}},n.prototype.updateHandleTransform=function(r,g,y,$){var L=y.axis,V=L.coordinateSystem,z=getPointDimIndex(L),j=getGlobalExtent(V,z),re=[r.x,r.y];re[z]+=g[z],re[z]=Math.min(j[1],re[z]),re[z]=Math.max(j[0],re[z]);var ae=getGlobalExtent(V,1-z),oe=(ae[1]+ae[0])/2,ie=[oe,oe];return ie[z]=re[z],{x:re[0],y:re[1],rotation:r.rotation,cursorPoint:ie,tooltipOption:{verticalAlign:"middle"}}},n}(BaseAxisPointer),pointerShapeBuilder={line:function(t,n,r){var g=makeLineShape([n,r[0]],[n,r[1]],getPointDimIndex(t));return{type:"Line",subPixelOptimize:!0,shape:g}},shadow:function(t,n,r){var g=t.getBandWidth(),y=r[1]-r[0];return{type:"Rect",shape:makeRectShape([n-g/2,r[0]],[g,y],getPointDimIndex(t))}}};function getPointDimIndex(t){return t.isHorizontal()?0:1}function getGlobalExtent(t,n){var r=t.getRect();return[r[XY$1[n]],r[XY$1[n]]+r[WH$1[n]]]}var SingleView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="single",n}(ComponentView);function install$n(t){use(install$q),AxisView.registerAxisPointerClass("SingleAxisPointer",SingleAxisPointer),t.registerComponentView(SingleView),t.registerComponentView(SingleAxisView),t.registerComponentModel(SingleAxisModel),axisModelCreator(t,"single",SingleAxisModel,SingleAxisModel.defaultOption),t.registerCoordinateSystem("single",singleCreator)}var CalendarModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g,y){var $=getLayoutParams(r);t.prototype.init.apply(this,arguments),mergeAndNormalizeLayoutParams$1(r,$)},n.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),mergeAndNormalizeLayoutParams$1(this.option,r)},n.prototype.getCellSize=function(){return this.option.cellSize},n.type="calendar",n.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},n}(ComponentModel);function mergeAndNormalizeLayoutParams$1(t,n){var r=t.cellSize,g;isArray$1(r)?g=r:g=t.cellSize=[r,r],g.length===1&&(g[1]=g[0]);var y=map$1([0,1],function($){return sizeCalculable(n,$)&&(g[$]="auto"),g[$]!=null&&g[$]!=="auto"});mergeLayoutParam(t,n,{type:"box",ignoreSize:y})}var CalendarView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){var $=this.group;$.removeAll();var L=r.coordinateSystem,V=L.getRangeInfo(),z=L.getOrient(),j=g.getLocaleModel();this._renderDayRect(r,V,$),this._renderLines(r,V,z,$),this._renderYearText(r,V,z,$),this._renderMonthText(r,j,z,$),this._renderWeekText(r,j,V,z,$)},n.prototype._renderDayRect=function(r,g,y){for(var $=r.coordinateSystem,L=r.getModel("itemStyle").getItemStyle(),V=$.getCellWidth(),z=$.getCellHeight(),j=g.start.time;j<=g.end.time;j=$.getNextNDay(j,1).time){var re=$.dataToRect([j],!1).tl,ae=new Rect$2({shape:{x:re[0],y:re[1],width:V,height:z},cursor:"default",style:L});y.add(ae)}},n.prototype._renderLines=function(r,g,y,$){var L=this,V=r.coordinateSystem,z=r.getModel(["splitLine","lineStyle"]).getLineStyle(),j=r.get(["splitLine","show"]),re=z.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var ae=g.start,oe=0;ae.time<=g.end.time;oe++){le(ae.formatedDate),oe===0&&(ae=V.getDateInfo(g.start.y+"-"+g.start.m));var ie=ae.date;ie.setMonth(ie.getMonth()+1),ae=V.getDateInfo(ie)}le(V.getNextNDay(g.end.time,1).formatedDate);function le(ue){L._firstDayOfMonth.push(V.getDateInfo(ue)),L._firstDayPoints.push(V.dataToRect([ue],!1).tl);var de=L._getLinePointsOfOneWeek(r,ue,y);L._tlpoints.push(de[0]),L._blpoints.push(de[de.length-1]),j&&L._drawSplitline(de,z,$)}j&&this._drawSplitline(L._getEdgesPoints(L._tlpoints,re,y),z,$),j&&this._drawSplitline(L._getEdgesPoints(L._blpoints,re,y),z,$)},n.prototype._getEdgesPoints=function(r,g,y){var $=[r[0].slice(),r[r.length-1].slice()],L=y==="horizontal"?0:1;return $[0][L]=$[0][L]-g/2,$[1][L]=$[1][L]+g/2,$},n.prototype._drawSplitline=function(r,g,y){var $=new Polyline$1({z2:20,shape:{points:r},style:g});y.add($)},n.prototype._getLinePointsOfOneWeek=function(r,g,y){for(var $=r.coordinateSystem,L=$.getDateInfo(g),V=[],z=0;z<7;z++){var j=$.getNextNDay(L.time,z),re=$.dataToRect([j.time],!1);V[2*j.day]=re.tl,V[2*j.day+1]=re[y==="horizontal"?"bl":"tr"]}return V},n.prototype._formatterLabel=function(r,g){return isString(r)&&r?formatTplSimple(r,g):isFunction(r)?r(g):g.nameMap},n.prototype._yearTextPositionControl=function(r,g,y,$,L){var V=g[0],z=g[1],j=["center","bottom"];$==="bottom"?(z+=L,j=["center","top"]):$==="left"?V-=L:$==="right"?(V+=L,j=["center","top"]):z-=L;var re=0;return($==="left"||$==="right")&&(re=Math.PI/2),{rotation:re,x:V,y:z,style:{align:j[0],verticalAlign:j[1]}}},n.prototype._renderYearText=function(r,g,y,$){var L=r.getModel("yearLabel");if(L.get("show")){var V=L.get("margin"),z=L.get("position");z||(z=y!=="horizontal"?"top":"left");var j=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],re=(j[0][0]+j[1][0])/2,ae=(j[0][1]+j[1][1])/2,oe=y==="horizontal"?0:1,ie={top:[re,j[oe][1]],bottom:[re,j[1-oe][1]],left:[j[1-oe][0],ae],right:[j[oe][0],ae]},le=g.start.y;+g.end.y>+g.start.y&&(le=le+"-"+g.end.y);var ue=L.get("formatter"),de={start:g.start.y,end:g.end.y,nameMap:le},he=this._formatterLabel(ue,de),pe=new ZRText({z2:30,style:createTextStyle(L,{text:he}),silent:L.get("silent")});pe.attr(this._yearTextPositionControl(pe,ie[z],y,z,V)),$.add(pe)}},n.prototype._monthTextPositionControl=function(r,g,y,$,L){var V="left",z="top",j=r[0],re=r[1];return y==="horizontal"?(re=re+L,g&&(V="center"),$==="start"&&(z="bottom")):(j=j+L,g&&(z="middle"),$==="start"&&(V="right")),{x:j,y:re,align:V,verticalAlign:z}},n.prototype._renderMonthText=function(r,g,y,$){var L=r.getModel("monthLabel");if(L.get("show")){var V=L.get("nameMap"),z=L.get("margin"),j=L.get("position"),re=L.get("align"),ae=[this._tlpoints,this._blpoints];(!V||isString(V))&&(V&&(g=getLocaleModel(V)||g),V=g.get(["time","monthAbbr"])||[]);var oe=j==="start"?0:1,ie=y==="horizontal"?0:1;z=j==="start"?-z:z;for(var le=re==="center",ue=L.get("silent"),de=0;de<ae[oe].length-1;de++){var he=ae[oe][de].slice(),pe=this._firstDayOfMonth[de];if(le){var _e=this._firstDayPoints[de];he[ie]=(_e[ie]+ae[0][de+1][ie])/2}var Ce=L.get("formatter"),xe=V[+pe.m-1],Ie={yyyy:pe.y,yy:(pe.y+"").slice(2),MM:pe.m,M:+pe.m,nameMap:xe},$e=this._formatterLabel(Ce,Ie),Oe=new ZRText({z2:30,style:extend(createTextStyle(L,{text:$e}),this._monthTextPositionControl(he,le,y,j,z)),silent:ue});$.add(Oe)}}},n.prototype._weekTextPositionControl=function(r,g,y,$,L){var V="center",z="middle",j=r[0],re=r[1],ae=y==="start";return g==="horizontal"?(j=j+$+(ae?1:-1)*L[0]/2,V=ae?"right":"left"):(re=re+$+(ae?1:-1)*L[1]/2,z=ae?"bottom":"top"),{x:j,y:re,align:V,verticalAlign:z}},n.prototype._renderWeekText=function(r,g,y,$,L){var V=r.getModel("dayLabel");if(V.get("show")){var z=r.coordinateSystem,j=V.get("position"),re=V.get("nameMap"),ae=V.get("margin"),oe=z.getFirstDayOfWeek();if(!re||isString(re)){re&&(g=getLocaleModel(re)||g);var ie=g.get(["time","dayOfWeekShort"]);re=ie||map$1(g.get(["time","dayOfWeekAbbr"]),function(Ie){return Ie[0]})}var le=z.getNextNDay(y.end.time,7-y.lweek).time,ue=[z.getCellWidth(),z.getCellHeight()];ae=parsePercent(ae,Math.min(ue[1],ue[0])),j==="start"&&(le=z.getNextNDay(y.start.time,-(7+y.fweek)).time,ae=-ae);for(var de=V.get("silent"),he=0;he<7;he++){var pe=z.getNextNDay(le,he),_e=z.dataToRect([pe.time],!1).center,Ce=he;Ce=Math.abs((he+oe)%7);var xe=new ZRText({z2:30,style:extend(createTextStyle(V,{text:re[Ce]}),this._weekTextPositionControl(_e,$,j,ae,ue)),silent:de});L.add(xe)}}},n.type="calendar",n}(ComponentView),PROXIMATE_ONE_DAY=864e5,Calendar=function(){function t(n,r,g){this.type="calendar",this.dimensions=t.dimensions,this.getDimensionsInfo=t.getDimensionsInfo,this._model=n}return t.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},t.prototype.getRangeInfo=function(){return this._rangeInfo},t.prototype.getModel=function(){return this._model},t.prototype.getRect=function(){return this._rect},t.prototype.getCellWidth=function(){return this._sw},t.prototype.getCellHeight=function(){return this._sh},t.prototype.getOrient=function(){return this._orient},t.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},t.prototype.getDateInfo=function(n){n=parseDate(n);var r=n.getFullYear(),g=n.getMonth()+1,y=g<10?"0"+g:""+g,$=n.getDate(),L=$<10?"0"+$:""+$,V=n.getDay();return V=Math.abs((V+7-this.getFirstDayOfWeek())%7),{y:r+"",m:y,d:L,day:V,time:n.getTime(),formatedDate:r+"-"+y+"-"+L,date:n}},t.prototype.getNextNDay=function(n,r){return r=r||0,r===0?this.getDateInfo(n):(n=new Date(this.getDateInfo(n).time),n.setDate(n.getDate()+r),this.getDateInfo(n))},t.prototype.update=function(n,r){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var g=this._rangeInfo.weeks||1,y=["width","height"],$=this._model.getCellSize().slice(),L=this._model.getBoxLayoutParams(),V=this._orient==="horizontal"?[g,7]:[7,g];each$f([0,1],function(ae){re($,ae)&&(L[y[ae]]=$[ae]*V[ae])});var z={width:r.getWidth(),height:r.getHeight()},j=this._rect=getLayoutRect(L,z);each$f([0,1],function(ae){re($,ae)||($[ae]=j[y[ae]]/V[ae])});function re(ae,oe){return ae[oe]!=null&&ae[oe]!=="auto"}this._sw=$[0],this._sh=$[1]},t.prototype.dataToPoint=function(n,r){isArray$1(n)&&(n=n[0]),r==null&&(r=!0);var g=this.getDateInfo(n),y=this._rangeInfo,$=g.formatedDate;if(r&&!(g.time>=y.start.time&&g.time<y.end.time+PROXIMATE_ONE_DAY))return[NaN,NaN];var L=g.day,V=this._getRangeInfo([y.start.time,$]).nthWeek;return this._orient==="vertical"?[this._rect.x+L*this._sw+this._sw/2,this._rect.y+V*this._sh+this._sh/2]:[this._rect.x+V*this._sw+this._sw/2,this._rect.y+L*this._sh+this._sh/2]},t.prototype.pointToData=function(n){var r=this.pointToDate(n);return r&&r.time},t.prototype.dataToRect=function(n,r){var g=this.dataToPoint(n,r);return{contentShape:{x:g[0]-(this._sw-this._lineWidth)/2,y:g[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:g,tl:[g[0]-this._sw/2,g[1]-this._sh/2],tr:[g[0]+this._sw/2,g[1]-this._sh/2],br:[g[0]+this._sw/2,g[1]+this._sh/2],bl:[g[0]-this._sw/2,g[1]+this._sh/2]}},t.prototype.pointToDate=function(n){var r=Math.floor((n[0]-this._rect.x)/this._sw)+1,g=Math.floor((n[1]-this._rect.y)/this._sh)+1,y=this._rangeInfo.range;return this._orient==="vertical"?this._getDateByWeeksAndDay(g,r-1,y):this._getDateByWeeksAndDay(r,g-1,y)},t.prototype.convertToPixel=function(n,r,g){var y=getCoordSys(r);return y===this?y.dataToPoint(g):null},t.prototype.convertFromPixel=function(n,r,g){var y=getCoordSys(r);return y===this?y.pointToData(g):null},t.prototype.containPoint=function(n){return console.warn("Not implemented."),!1},t.prototype._initRangeOption=function(){var n=this._model.get("range"),r;if(isArray$1(n)&&n.length===1&&(n=n[0]),isArray$1(n))r=n;else{var g=n.toString();if(/^\d{4}$/.test(g)&&(r=[g+"-01-01",g+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(g)){var y=this.getDateInfo(g),$=y.date;$.setMonth($.getMonth()+1);var L=this.getNextNDay($,-1);r=[y.formatedDate,L.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(g)&&(r=[g,g])}if(!r)return n;var V=this._getRangeInfo(r);return V.start.time>V.end.time&&r.reverse(),r},t.prototype._getRangeInfo=function(n){var r=[this.getDateInfo(n[0]),this.getDateInfo(n[1])],g;r[0].time>r[1].time&&(g=!0,r.reverse());var y=Math.floor(r[1].time/PROXIMATE_ONE_DAY)-Math.floor(r[0].time/PROXIMATE_ONE_DAY)+1,$=new Date(r[0].time),L=$.getDate(),V=r[1].date.getDate();$.setDate(L+y-1);var z=$.getDate();if(z!==V)for(var j=$.getTime()-r[1].time>0?1:-1;(z=$.getDate())!==V&&($.getTime()-r[1].time)*j>0;)y-=j,$.setDate(z-j);var re=Math.floor((y+r[0].day+6)/7),ae=g?-re+1:re-1;return g&&r.reverse(),{range:[r[0].formatedDate,r[1].formatedDate],start:r[0],end:r[1],allDay:y,weeks:re,nthWeek:ae,fweek:r[0].day,lweek:r[1].day}},t.prototype._getDateByWeeksAndDay=function(n,r,g){var y=this._getRangeInfo(g);if(n>y.weeks||n===0&&r<y.fweek||n===y.weeks&&r>y.lweek)return null;var $=(n-1)*7-y.fweek+r,L=new Date(y.start.time);return L.setDate(+y.start.d+$),this.getDateInfo(L)},t.create=function(n,r){var g=[];return n.eachComponent("calendar",function(y){var $=new t(y);g.push($),y.coordinateSystem=$}),n.eachSeries(function(y){y.get("coordinateSystem")==="calendar"&&(y.coordinateSystem=g[y.get("calendarIndex")||0])}),g},t.dimensions=["time","value"],t}();function getCoordSys(t){var n=t.calendarModel,r=t.seriesModel,g=n?n.coordinateSystem:r?r.coordinateSystem:null;return g}function install$m(t){t.registerComponentModel(CalendarModel),t.registerComponentView(CalendarView),t.registerCoordinateSystem("calendar",Calendar)}function setKeyInfoToNewElOption(t,n){var r=t.existing;if(n.id=t.keyInfo.id,!n.type&&r&&(n.type=r.type),n.parentId==null){var g=n.parentOption;g?n.parentId=g.id:r&&(n.parentId=r.parentId)}n.parentOption=null}function isSetLoc(t,n){var r;return each$f(n,function(g){t[g]!=null&&t[g]!=="auto"&&(r=!0)}),r}function mergeNewElOptionToExist(t,n,r){var g=extend({},r),y=t[n],$=r.$action||"merge";$==="merge"?y?(merge(y,g,!0),mergeLayoutParam(y,g,{ignoreSize:!0}),copyLayoutParams(r,y),copyTransitionInfo(r,y),copyTransitionInfo(r,y,"shape"),copyTransitionInfo(r,y,"style"),copyTransitionInfo(r,y,"extra"),r.clipPath=y.clipPath):t[n]=g:$==="replace"?t[n]=g:$==="remove"&&y&&(t[n]=null)}var TRANSITION_PROPS_TO_COPY=["transition","enterFrom","leaveTo"],ROOT_TRANSITION_PROPS_TO_COPY=TRANSITION_PROPS_TO_COPY.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function copyTransitionInfo(t,n,r){if(r&&(!t[r]&&n[r]&&(t[r]={}),t=t[r],n=n[r]),!(!t||!n))for(var g=r?TRANSITION_PROPS_TO_COPY:ROOT_TRANSITION_PROPS_TO_COPY,y=0;y<g.length;y++){var $=g[y];t[$]==null&&n[$]!=null&&(t[$]=n[$])}}function setLayoutInfoToExist(t,n){if(t&&(t.hv=n.hv=[isSetLoc(n,["left","right"]),isSetLoc(n,["top","bottom"])],t.type==="group")){var r=t,g=n;r.width==null&&(r.width=g.width=0),r.height==null&&(r.height=g.height=0)}}var GraphicComponentModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.preventAutoZ=!0,r}return n.prototype.mergeOption=function(r,g){var y=this.option.elements;this.option.elements=null,t.prototype.mergeOption.call(this,r,g),this.option.elements=y},n.prototype.optionUpdated=function(r,g){var y=this.option,$=(g?y:r).elements,L=y.elements=g?[]:y.elements,V=[];this._flatten($,V,null);var z=mappingToExists(L,V,"normalMerge"),j=this._elOptionsToUpdate=[];each$f(z,function(re,ae){var oe=re.newOption;oe&&(j.push(oe),setKeyInfoToNewElOption(re,oe),mergeNewElOptionToExist(L,ae,oe),setLayoutInfoToExist(L[ae],oe))},this),y.elements=filter(L,function(re){return re&&delete re.$action,re!=null})},n.prototype._flatten=function(r,g,y){each$f(r,function($){if($){y&&($.parentOption=y),g.push($);var L=$.children;L&&L.length&&this._flatten(L,g,$),delete $.children}},this)},n.prototype.useElOptionsToUpdate=function(){var r=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,r},n.type="graphic",n.defaultOption={elements:[]},n}(ComponentModel),nonShapeGraphicElements={path:null,compoundPath:null,group:Group$3,image:ZRImage,text:ZRText},inner$7=makeInner(),GraphicComponentView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this._elMap=createHashMap()},n.prototype.render=function(r,g,y){r!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=r,this._updateElements(r),this._relocate(r,y)},n.prototype._updateElements=function(r){var g=r.useElOptionsToUpdate();if(g){var y=this._elMap,$=this.group,L=r.get("z"),V=r.get("zlevel");each$f(g,function(z){var j=convertOptionIdName(z.id,null),re=j!=null?y.get(j):null,ae=convertOptionIdName(z.parentId,null),oe=ae!=null?y.get(ae):$,ie=z.type,le=z.style;ie==="text"&&le&&z.hv&&z.hv[1]&&(le.textVerticalAlign=le.textBaseline=le.verticalAlign=le.align=null);var ue=z.textContent,de=z.textConfig;if(le&&isEC4CompatibleStyle(le,ie,!!de,!!ue)){var he=convertFromEC4CompatibleStyle(le,ie,!0);!de&&he.textConfig&&(de=z.textConfig=he.textConfig),!ue&&he.textContent&&(ue=he.textContent)}var pe=getCleanedElOption(z),_e=z.$action||"merge",Ce=_e==="merge",xe=_e==="replace";if(Ce){var Ie=!re,$e=re;Ie?$e=createEl(j,oe,z.type,y):($e&&(inner$7($e).isNew=!1),stopPreviousKeyframeAnimationAndRestore($e)),$e&&(applyUpdateTransition($e,pe,r,{isInit:Ie}),updateCommonAttrs($e,z,L,V))}else if(xe){removeEl$1(re,z,y,r);var Oe=createEl(j,oe,z.type,y);Oe&&(applyUpdateTransition(Oe,pe,r,{isInit:!0}),updateCommonAttrs(Oe,z,L,V))}else _e==="remove"&&(updateLeaveTo(re,z),removeEl$1(re,z,y,r));var Ne=y.get(j);if(Ne&&ue)if(Ce){var Fe=Ne.getTextContent();Fe?Fe.attr(ue):Ne.setTextContent(new ZRText(ue))}else xe&&Ne.setTextContent(new ZRText(ue));if(Ne){var Ve=z.clipPath;if(Ve){var ze=Ve.type,Et=void 0,Ie=!1;if(Ce){var Dt=Ne.getClipPath();Ie=!Dt||inner$7(Dt).type!==ze,Et=Ie?newEl(ze):Dt}else xe&&(Ie=!0,Et=newEl(ze));Ne.setClipPath(Et),applyUpdateTransition(Et,Ve,r,{isInit:Ie}),applyKeyframeAnimation(Et,Ve.keyframeAnimation,r)}var Ue=inner$7(Ne);Ne.setTextConfig(de),Ue.option=z,setEventData(Ne,r,z),setTooltipConfig({el:Ne,componentModel:r,itemName:Ne.name,itemTooltipOption:z.tooltip}),applyKeyframeAnimation(Ne,z.keyframeAnimation,r)}})}},n.prototype._relocate=function(r,g){for(var y=r.option.elements,$=this.group,L=this._elMap,V=g.getWidth(),z=g.getHeight(),j=["x","y"],re=0;re<y.length;re++){var ae=y[re],oe=convertOptionIdName(ae.id,null),ie=oe!=null?L.get(oe):null;if(!(!ie||!ie.isGroup)){var le=ie.parent,ue=le===$,de=inner$7(ie),he=inner$7(le);de.width=parsePercent(de.option.width,ue?V:he.width)||0,de.height=parsePercent(de.option.height,ue?z:he.height)||0}}for(var re=y.length-1;re>=0;re--){var ae=y[re],oe=convertOptionIdName(ae.id,null),ie=oe!=null?L.get(oe):null;if(ie){var le=ie.parent,he=inner$7(le),pe=le===$?{width:V,height:z}:{width:he.width,height:he.height},_e={},Ce=positionElement(ie,ae,pe,null,{hv:ae.hv,boundingMode:ae.bounding},_e);if(!inner$7(ie).isNew&&Ce){for(var xe=ae.transition,Ie={},$e=0;$e<j.length;$e++){var Oe=j[$e],Ne=_e[Oe];xe&&(isTransitionAll(xe)||indexOf(xe,Oe)>=0)?Ie[Oe]=Ne:ie[Oe]=Ne}updateProps$1(ie,Ie,r,0)}else ie.attr(_e)}}},n.prototype._clear=function(){var r=this,g=this._elMap;g.each(function(y){removeEl$1(y,inner$7(y).option,g,r._lastGraphicModel)}),this._elMap=createHashMap()},n.prototype.dispose=function(){this._clear()},n.type="graphic",n}(ComponentView);function newEl(t){var n=hasOwn(nonShapeGraphicElements,t)?nonShapeGraphicElements[t]:getShapeClass(t),r=new n({});return inner$7(r).type=t,r}function createEl(t,n,r,g){var y=newEl(r);return n.add(y),g.set(t,y),inner$7(y).id=t,inner$7(y).isNew=!0,y}function removeEl$1(t,n,r,g){var y=t&&t.parent;y&&(t.type==="group"&&t.traverse(function($){removeEl$1($,n,r,g)}),applyLeaveTransition(t,n,g),r.removeKey(inner$7(t).id))}function updateCommonAttrs(t,n,r,g){t.isGroup||each$f([["cursor",Displayable.prototype.cursor],["zlevel",g||0],["z",r||0],["z2",0]],function(y){var $=y[0];hasOwn(n,$)?t[$]=retrieve2(n[$],y[1]):t[$]==null&&(t[$]=y[1])}),each$f(keys(n),function(y){if(y.indexOf("on")===0){var $=n[y];t[y]=isFunction($)?$:null}}),hasOwn(n,"draggable")&&(t.draggable=n.draggable),n.name!=null&&(t.name=n.name),n.id!=null&&(t.id=n.id)}function getCleanedElOption(t){return t=extend({},t),each$f(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(LOCATION_PARAMS),function(n){delete t[n]}),t}function setEventData(t,n,r){var g=getECData(t).eventData;!t.silent&&!t.ignore&&!g&&(g=getECData(t).eventData={componentType:"graphic",componentIndex:n.componentIndex,name:t.name}),g&&(g.info=r.info)}function install$l(t){t.registerComponentModel(GraphicComponentModel),t.registerComponentView(GraphicComponentView),t.registerPreprocessor(function(n){var r=n.graphic;isArray$1(r)?!r[0]||!r[0].elements?n.graphic=[{elements:r}]:n.graphic=[n.graphic[0]]:r&&!r.elements&&(n.graphic=[{elements:[r]}])})}var DATA_ZOOM_AXIS_DIMENSIONS=["x","y","radius","angle","single"],SERIES_COORDS=["cartesian2d","polar","singleAxis"];function isCoordSupported(t){var n=t.get("coordinateSystem");return indexOf(SERIES_COORDS,n)>=0}function getAxisMainType(t){return t+"Axis"}function findEffectedDataZooms(t,n){var r=createHashMap(),g=[],y=createHashMap();t.eachComponent({mainType:"dataZoom",query:n},function(re){y.get(re.uid)||V(re)});var $;do $=!1,t.eachComponent("dataZoom",L);while($);function L(re){!y.get(re.uid)&&z(re)&&(V(re),$=!0)}function V(re){y.set(re.uid,!0),g.push(re),j(re)}function z(re){var ae=!1;return re.eachTargetAxis(function(oe,ie){var le=r.get(oe);le&&le[ie]&&(ae=!0)}),ae}function j(re){re.eachTargetAxis(function(ae,oe){(r.get(ae)||r.set(ae,[]))[oe]=!0})}return g}function collectReferCoordSysModelInfo(t){var n=t.ecModel,r={infoList:[],infoMap:createHashMap()};return t.eachTargetAxis(function(g,y){var $=n.getComponent(getAxisMainType(g),y);if($){var L=$.getCoordSysModel();if(L){var V=L.uid,z=r.infoMap.get(V);z||(z={model:L,axisModels:[]},r.infoList.push(z),r.infoMap.set(V,z)),z.axisModels.push($)}}}),r}var DataZoomAxisInfo=function(){function t(){this.indexList=[],this.indexMap=[]}return t.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},t}(),DataZoomModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._autoThrottle=!0,r._noTarget=!0,r._rangePropMode=["percent","percent"],r}return n.prototype.init=function(r,g,y){var $=retrieveRawOption(r);this.settledOption=$,this.mergeDefaultAndTheme(r,y),this._doInit($)},n.prototype.mergeOption=function(r){var g=retrieveRawOption(r);merge(this.option,r,!0),merge(this.settledOption,g,!0),this._doInit(g)},n.prototype._doInit=function(r){var g=this.option;this._setDefaultThrottle(r),this._updateRangeUse(r);var y=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function($,L){this._rangePropMode[L]==="value"&&(g[$[0]]=y[$[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var r=this.get("orient",!0),g=this._targetAxisInfoMap=createHashMap(),y=this._fillSpecifiedTargetAxis(g);y?this._orient=r||this._makeAutoOrientByTargetAxis():(this._orient=r||"horizontal",this._fillAutoTargetAxisByOrient(g,this._orient)),this._noTarget=!0,g.each(function($){$.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(r){var g=!1;return each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(y){var $=this.getReferringComponents(getAxisMainType(y),MULTIPLE_REFERRING);if($.specified){g=!0;var L=new DataZoomAxisInfo;each$f($.models,function(V){L.add(V.componentIndex)}),r.set(y,L)}},this),g},n.prototype._fillAutoTargetAxisByOrient=function(r,g){var y=this.ecModel,$=!0;if($){var L=g==="vertical"?"y":"x",V=y.findComponents({mainType:L+"Axis"});z(V,L)}if($){var V=y.findComponents({mainType:"singleAxis",filter:function(re){return re.get("orient",!0)===g}});z(V,"single")}function z(j,re){var ae=j[0];if(ae){var oe=new DataZoomAxisInfo;if(oe.add(ae.componentIndex),r.set(re,oe),$=!1,re==="x"||re==="y"){var ie=ae.getReferringComponents("grid",SINGLE_REFERRING).models[0];ie&&each$f(j,function(le){ae.componentIndex!==le.componentIndex&&ie===le.getReferringComponents("grid",SINGLE_REFERRING).models[0]&&oe.add(le.componentIndex)})}}}$&&each$f(DATA_ZOOM_AXIS_DIMENSIONS,function(j){if($){var re=y.findComponents({mainType:getAxisMainType(j),filter:function(oe){return oe.get("type",!0)==="category"}});if(re[0]){var ae=new DataZoomAxisInfo;ae.add(re[0].componentIndex),r.set(j,ae),$=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var r;return this.eachTargetAxis(function(g){!r&&(r=g)},this),r==="y"?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(r){if(r.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var g=this.ecModel.option;this.option.throttle=g.animation&&g.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(r){var g=this._rangePropMode,y=this.get("rangeMode");each$f([["start","startValue"],["end","endValue"]],function($,L){var V=r[$[0]]!=null,z=r[$[1]]!=null;V&&!z?g[L]="percent":!V&&z?g[L]="value":y?g[L]=y[L]:V&&(g[L]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var r;return this.eachTargetAxis(function(g,y){r==null&&(r=this.ecModel.getComponent(getAxisMainType(g),y))},this),r},n.prototype.eachTargetAxis=function(r,g){this._targetAxisInfoMap.each(function(y,$){each$f(y.indexList,function(L){r.call(g,$,L)})})},n.prototype.getAxisProxy=function(r,g){var y=this.getAxisModel(r,g);if(y)return y.__dzAxisProxy},n.prototype.getAxisModel=function(r,g){var y=this._targetAxisInfoMap.get(r);if(y&&y.indexMap[g])return this.ecModel.getComponent(getAxisMainType(r),g)},n.prototype.setRawRange=function(r){var g=this.option,y=this.settledOption;each$f([["start","startValue"],["end","endValue"]],function($){(r[$[0]]!=null||r[$[1]]!=null)&&(g[$[0]]=y[$[0]]=r[$[0]],g[$[1]]=y[$[1]]=r[$[1]])},this),this._updateRangeUse(r)},n.prototype.setCalculatedRange=function(r){var g=this.option;each$f(["start","startValue","end","endValue"],function(y){g[y]=r[y]})},n.prototype.getPercentRange=function(){var r=this.findRepresentativeAxisProxy();if(r)return r.getDataPercentWindow()},n.prototype.getValueRange=function(r,g){if(r==null&&g==null){var y=this.findRepresentativeAxisProxy();if(y)return y.getDataValueWindow()}else return this.getAxisProxy(r,g).getDataValueWindow()},n.prototype.findRepresentativeAxisProxy=function(r){if(r)return r.__dzAxisProxy;for(var g,y=this._targetAxisInfoMap.keys(),$=0;$<y.length;$++)for(var L=y[$],V=this._targetAxisInfoMap.get(L),z=0;z<V.indexList.length;z++){var j=this.getAxisProxy(L,V.indexList[z]);if(j.hostedBy(this))return j;g||(g=j)}return g},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(ComponentModel);function retrieveRawOption(t){var n={};return each$f(["start","end","startValue","endValue","throttle"],function(r){t.hasOwnProperty(r)&&(n[r]=t[r])}),n}var SelectDataZoomModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomModel),DataZoomView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y,$){this.dataZoomModel=r,this.ecModel=g,this.api=y},n.type="dataZoom",n}(ComponentView),SelectDataZoomView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.select",n}(DataZoomView),each$7=each$f,asc$1=asc$2,AxisProxy=function(){function t(n,r,g,y){this._dimName=n,this._axisIndex=r,this.ecModel=y,this._dataZoomModel=g}return t.prototype.hostedBy=function(n){return this._dataZoomModel===n},t.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},t.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},t.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(r){if(isCoordSupported(r)){var g=getAxisMainType(this._dimName),y=r.getReferringComponents(g,SINGLE_REFERRING).models[0];y&&this._axisIndex===y.componentIndex&&n.push(r)}},this),n},t.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},t.prototype.getMinMaxSpan=function(){return clone$4(this._minMaxSpan)},t.prototype.calculateDataWindow=function(n){var r=this._dataExtent,g=this.getAxisModel(),y=g.axis.scale,$=this._dataZoomModel.getRangePropMode(),L=[0,100],V=[],z=[],j;each$7(["start","end"],function(oe,ie){var le=n[oe],ue=n[oe+"Value"];$[ie]==="percent"?(le==null&&(le=L[ie]),ue=y.parse(linearMap$2(le,L,r))):(j=!0,ue=ue==null?r[ie]:y.parse(ue),le=linearMap$2(ue,r,L)),z[ie]=ue==null||isNaN(ue)?r[ie]:ue,V[ie]=le==null||isNaN(le)?L[ie]:le}),asc$1(z),asc$1(V);var re=this._minMaxSpan;j?ae(z,V,r,L,!1):ae(V,z,L,r,!0);function ae(oe,ie,le,ue,de){var he=de?"Span":"ValueSpan";sliderMove(0,oe,le,"all",re["min"+he],re["max"+he]);for(var pe=0;pe<2;pe++)ie[pe]=linearMap$2(oe[pe],le,ue,!0),de&&(ie[pe]=y.parse(ie[pe]))}return{valueWindow:z,percentWindow:V}},t.prototype.reset=function(n){if(n===this._dataZoomModel){var r=this.getTargetSeriesModels();this._dataExtent=calculateDataExtent(this,this._dimName,r),this._updateMinMaxSpan();var g=this.calculateDataWindow(n.settledOption);this._valueWindow=g.valueWindow,this._percentWindow=g.percentWindow,this._setAxisModel()}},t.prototype.filterData=function(n,r){if(n!==this._dataZoomModel)return;var g=this._dimName,y=this.getTargetSeriesModels(),$=n.get("filterMode"),L=this._valueWindow;if($==="none")return;each$7(y,function(z){var j=z.getData(),re=j.mapDimensionsAll(g);if(re.length){if($==="weakFilter"){var ae=j.getStore(),oe=map$1(re,function(ie){return j.getDimensionIndex(ie)},j);j.filterSelf(function(ie){for(var le,ue,de,he=0;he<re.length;he++){var pe=ae.get(oe[he],ie),_e=!isNaN(pe),Ce=pe<L[0],xe=pe>L[1];if(_e&&!Ce&&!xe)return!0;_e&&(de=!0),Ce&&(le=!0),xe&&(ue=!0)}return de&&le&&ue})}else each$7(re,function(ie){if($==="empty")z.setData(j=j.map(ie,function(ue){return V(ue)?ue:NaN}));else{var le={};le[ie]=L,j.selectRange(le)}});each$7(re,function(ie){j.setApproximateExtent(L,ie)})}});function V(z){return z>=L[0]&&z<=L[1]}},t.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},r=this._dataZoomModel,g=this._dataExtent;each$7(["min","max"],function(y){var $=r.get(y+"Span"),L=r.get(y+"ValueSpan");L!=null&&(L=this.getAxisModel().axis.scale.parse(L)),L!=null?$=linearMap$2(g[0]+L,g,[0,100],!0):$!=null&&(L=linearMap$2($,[0,100],g,!0)-g[0]),n[y+"Span"]=$,n[y+"ValueSpan"]=L},this)},t.prototype._setAxisModel=function(){var n=this.getAxisModel(),r=this._percentWindow,g=this._valueWindow;if(r){var y=getPixelPrecision(g,[0,500]);y=Math.min(y,20);var $=n.axis.scale.rawExtentInfo;r[0]!==0&&$.setDeterminedMinMax("min",+g[0].toFixed(y)),r[1]!==100&&$.setDeterminedMinMax("max",+g[1].toFixed(y)),$.freeze()}},t}();function calculateDataExtent(t,n,r){var g=[1/0,-1/0];each$7(r,function(L){unionAxisExtentFromData(g,L.getData(),n)});var y=t.getAxisModel(),$=ensureScaleRawExtentInfo(y.axis.scale,y,g).calculate();return[$.min,$.max]}var dataZoomProcessor={getTargetSeries:function(t){function n(y){t.eachComponent("dataZoom",function($){$.eachTargetAxis(function(L,V){var z=t.getComponent(getAxisMainType(L),V);y(L,V,z,$)})})}n(function(y,$,L,V){L.__dzAxisProxy=null});var r=[];n(function(y,$,L,V){L.__dzAxisProxy||(L.__dzAxisProxy=new AxisProxy(y,$,V,t),r.push(L.__dzAxisProxy))});var g=createHashMap();return each$f(r,function(y){each$f(y.getTargetSeriesModels(),function($){g.set($.uid,$)})}),g},overallReset:function(t,n){t.eachComponent("dataZoom",function(r){r.eachTargetAxis(function(g,y){r.getAxisProxy(g,y).reset(r)}),r.eachTargetAxis(function(g,y){r.getAxisProxy(g,y).filterData(r,n)})}),t.eachComponent("dataZoom",function(r){var g=r.findRepresentativeAxisProxy();if(g){var y=g.getDataPercentWindow(),$=g.getDataValueWindow();r.setCalculatedRange({start:y[0],end:y[1],startValue:$[0],endValue:$[1]})}})}};function installDataZoomAction(t){t.registerAction("dataZoom",function(n,r){var g=findEffectedDataZooms(r,n);each$f(g,function(y){y.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}var installed$1=!1;function installCommon$1(t){installed$1||(installed$1=!0,t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,dataZoomProcessor),installDataZoomAction(t),t.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function install$k(t){t.registerComponentModel(SelectDataZoomModel),t.registerComponentView(SelectDataZoomView),installCommon$1(t)}var ToolboxFeature=function(){function t(){}return t}(),features={};function registerFeature(t,n){features[t]=n}function getFeature(t){return features[t]}var ToolboxModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(){t.prototype.optionUpdated.apply(this,arguments);var r=this.ecModel;each$f(this.option.feature,function(g,y){var $=getFeature(y);$&&($.getDefaultOption&&($.defaultOption=$.getDefaultOption(r)),merge(g,$.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(ComponentModel);function layout(t,n,r){var g=n.getBoxLayoutParams(),y=n.get("padding"),$={width:r.getWidth(),height:r.getHeight()},L=getLayoutRect(g,$,y);box(n.get("orient"),t,n.get("itemGap"),L.width,L.height),positionElement(t,g,$,y)}function makeBackground(t,n){var r=normalizeCssArray(n.get("padding")),g=n.getItemStyle(["color","opacity"]);return g.fill=n.get("backgroundColor"),t=new Rect$2({shape:{x:t.x-r[3],y:t.y-r[0],width:t.width+r[1]+r[3],height:t.height+r[0]+r[2],r:n.get("borderRadius")},style:g,silent:!0,z2:-1}),t}var ToolboxView=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(r,g,y,$){var L=this.group;if(L.removeAll(),!r.get("show"))return;var V=+r.get("itemSize"),z=r.get("orient")==="vertical",j=r.get("feature")||{},re=this._features||(this._features={}),ae=[];each$f(j,function(le,ue){ae.push(ue)}),new DataDiffer(this._featureNames||[],ae).add(oe).update(oe).remove(curry$1(oe,null)).execute(),this._featureNames=ae;function oe(le,ue){var de=ae[le],he=ae[ue],pe=j[de],_e=new Model(pe,r,r.ecModel),Ce;if($&&$.newTitle!=null&&$.featureName===de&&(pe.title=$.newTitle),de&&!he){if(isUserFeatureName(de))Ce={onclick:_e.option.onclick,featureName:de};else{var xe=getFeature(de);if(!xe)return;Ce=new xe}re[de]=Ce}else if(Ce=re[he],!Ce)return;Ce.uid=getUID("toolbox-feature"),Ce.model=_e,Ce.ecModel=g,Ce.api=y;var Ie=Ce instanceof ToolboxFeature;if(!de&&he){Ie&&Ce.dispose&&Ce.dispose(g,y);return}if(!_e.get("show")||Ie&&Ce.unusable){Ie&&Ce.remove&&Ce.remove(g,y);return}ie(_e,Ce,de),_e.setIconStatus=function($e,Oe){var Ne=this.option,Fe=this.iconPaths;Ne.iconStatus=Ne.iconStatus||{},Ne.iconStatus[$e]=Oe,Fe[$e]&&(Oe==="emphasis"?enterEmphasis:leaveEmphasis)(Fe[$e])},Ce instanceof ToolboxFeature&&Ce.render&&Ce.render(_e,g,y,$)}function ie(le,ue,de){var he=le.getModel("iconStyle"),pe=le.getModel(["emphasis","iconStyle"]),_e=ue instanceof ToolboxFeature&&ue.getIcons?ue.getIcons():le.get("icon"),Ce=le.get("title")||{},xe,Ie;isString(_e)?(xe={},xe[de]=_e):xe=_e,isString(Ce)?(Ie={},Ie[de]=Ce):Ie=Ce;var $e=le.iconPaths={};each$f(xe,function(Oe,Ne){var Fe=createIcon(Oe,{},{x:-V/2,y:-V/2,width:V,height:V});Fe.setStyle(he.getItemStyle());var Ve=Fe.ensureState("emphasis");Ve.style=pe.getItemStyle();var ze=new ZRText({style:{text:Ie[Ne],align:pe.get("textAlign"),borderRadius:pe.get("textBorderRadius"),padding:pe.get("textPadding"),fill:null,font:getFont({fontStyle:pe.get("textFontStyle"),fontFamily:pe.get("textFontFamily"),fontSize:pe.get("textFontSize"),fontWeight:pe.get("textFontWeight")},g)},ignore:!0});Fe.setTextContent(ze),setTooltipConfig({el:Fe,componentModel:r,itemName:Ne,formatterParamsExtra:{title:Ie[Ne]}}),Fe.__title=Ie[Ne],Fe.on("mouseover",function(){var Et=pe.getItemStyle(),Dt=z?r.get("right")==null&&r.get("left")!=="right"?"right":"left":r.get("bottom")==null&&r.get("top")!=="bottom"?"bottom":"top";ze.setStyle({fill:pe.get("textFill")||Et.fill||Et.stroke||"#000",backgroundColor:pe.get("textBackgroundColor")}),Fe.setTextConfig({position:pe.get("textPosition")||Dt}),ze.ignore=!r.get("showTitle"),y.enterEmphasis(this)}).on("mouseout",function(){le.get(["iconStatus",Ne])!=="emphasis"&&y.leaveEmphasis(this),ze.hide()}),(le.get(["iconStatus",Ne])==="emphasis"?enterEmphasis:leaveEmphasis)(Fe),L.add(Fe),Fe.on("click",bind$1(ue.onclick,ue,g,y,Ne)),$e[Ne]=Fe})}layout(L,r,y),L.add(makeBackground(L.getBoundingRect(),r)),z||L.eachChild(function(le){var ue=le.__title,de=le.ensureState("emphasis"),he=de.textConfig||(de.textConfig={}),pe=le.getTextContent(),_e=pe&&pe.ensureState("emphasis");if(_e&&!isFunction(_e)&&ue){var Ce=_e.style||(_e.style={}),xe=getBoundingRect(ue,ZRText.makeFont(Ce)),Ie=le.x+L.x,$e=le.y+L.y+V,Oe=!1;$e+xe.height>y.getHeight()&&(he.position="top",Oe=!0);var Ne=Oe?-5-xe.height:V+10;Ie+xe.width/2>y.getWidth()?(he.position=["100%",Ne],Ce.align="right"):Ie-xe.width/2<0&&(he.position=[0,Ne],Ce.align="left")}})},n.prototype.updateView=function(r,g,y,$){each$f(this._features,function(L){L instanceof ToolboxFeature&&L.updateView&&L.updateView(L.model,g,y,$)})},n.prototype.remove=function(r,g){each$f(this._features,function(y){y instanceof ToolboxFeature&&y.remove&&y.remove(r,g)}),this.group.removeAll()},n.prototype.dispose=function(r,g){each$f(this._features,function(y){y instanceof ToolboxFeature&&y.dispose&&y.dispose(r,g)})},n.type="toolbox",n}(ComponentView);function isUserFeatureName(t){return t.indexOf("my")===0}var SaveAsImage=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(r,g){var y=this.model,$=y.get("name")||r.get("title.0.text")||"echarts",L=g.getZr().painter.getType()==="svg",V=L?"svg":y.get("type",!0)||"png",z=g.getConnectedDataURL({type:V,backgroundColor:y.get("backgroundColor",!0)||r.get("backgroundColor")||"#fff",connectedBackgroundColor:y.get("connectedBackgroundColor"),excludeComponents:y.get("excludeComponents"),pixelRatio:y.get("pixelRatio")}),j=env.browser;if(typeof MouseEvent=="function"&&(j.newEdge||!j.ie&&!j.edge)){var re=document.createElement("a");re.download=$+"."+V,re.target="_blank",re.href=z;var ae=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});re.dispatchEvent(ae)}else if(window.navigator.msSaveOrOpenBlob||L){var oe=z.split(","),ie=oe[0].indexOf("base64")>-1,le=L?decodeURIComponent(oe[1]):oe[1];ie&&(le=window.atob(le));var ue=$+"."+V;if(window.navigator.msSaveOrOpenBlob){for(var de=le.length,he=new Uint8Array(de);de--;)he[de]=le.charCodeAt(de);var pe=new Blob([he]);window.navigator.msSaveOrOpenBlob(pe,ue)}else{var _e=document.createElement("iframe");document.body.appendChild(_e);var Ce=_e.contentWindow,xe=Ce.document;xe.open("image/svg+xml","replace"),xe.write(le),xe.close(),Ce.focus(),xe.execCommand("SaveAs",!0,ue),document.body.removeChild(_e)}}else{var Ie=y.get("lang"),$e='<body style="margin:0;"><img src="'+z+'" style="max-width:100%;" title="'+(Ie&&Ie[0]||"")+'" /></body>',Oe=window.open();Oe.document.write($e),Oe.document.title=$}},n.getDefaultOption=function(r){var g={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:r.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:r.getLocaleModel().get(["toolbox","saveAsImage","lang"])};return g},n}(ToolboxFeature),INNER_STACK_KEYWORD="__ec_magicType_stack__",radioTypes=[["line","bar"],["stack"]],MagicType=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.getIcons=function(){var r=this.model,g=r.get("icon"),y={};return each$f(r.get("type"),function($){g[$]&&(y[$]=g[$])}),y},n.getDefaultOption=function(r){var g={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:r.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}};return g},n.prototype.onclick=function(r,g,y){var $=this.model,L=$.get(["seriesIndex",y]);if(seriesOptGenreator[y]){var V={series:[]},z=function(ae){var oe=ae.subType,ie=ae.id,le=seriesOptGenreator[y](oe,ie,ae,$);le&&(defaults(le,ae.option),V.series.push(le));var ue=ae.coordinateSystem;if(ue&&ue.type==="cartesian2d"&&(y==="line"||y==="bar")){var de=ue.getAxesByScale("ordinal")[0];if(de){var he=de.dim,pe=he+"Axis",_e=ae.getReferringComponents(pe,SINGLE_REFERRING).models[0],Ce=_e.componentIndex;V[pe]=V[pe]||[];for(var xe=0;xe<=Ce;xe++)V[pe][Ce]=V[pe][Ce]||{};V[pe][Ce].boundaryGap=y==="bar"}}};each$f(radioTypes,function(ae){indexOf(ae,y)>=0&&each$f(ae,function(oe){$.setIconStatus(oe,"normal")})}),$.setIconStatus(y,"emphasis"),r.eachComponent({mainType:"series",query:L==null?null:{seriesIndex:L}},z);var j,re=y;y==="stack"&&(j=merge({stack:$.option.title.tiled,tiled:$.option.title.stack},$.option.title),$.get(["iconStatus",y])!=="emphasis"&&(re="tiled")),g.dispatchAction({type:"changeMagicType",currentType:re,newOption:V,newTitle:j,featureName:"magicType"})}},n}(ToolboxFeature),seriesOptGenreator={line:function(t,n,r,g){if(t==="bar")return merge({id:n,type:"line",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},g.get(["option","line"])||{},!0)},bar:function(t,n,r,g){if(t==="line")return merge({id:n,type:"bar",data:r.get("data"),stack:r.get("stack"),markPoint:r.get("markPoint"),markLine:r.get("markLine")},g.get(["option","bar"])||{},!0)},stack:function(t,n,r,g){var y=r.get("stack")===INNER_STACK_KEYWORD;if(t==="line"||t==="bar")return g.setIconStatus("stack",y?"normal":"emphasis"),merge({id:n,stack:y?"":INNER_STACK_KEYWORD},g.get(["option","stack"])||{},!0)}};registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(t,n){n.mergeOption(t.newOption)});var BLOCK_SPLITER=new Array(60).join("-"),ITEM_SPLITER="	";function groupSeries(t){var n={},r=[],g=[];return t.eachRawSeries(function(y){var $=y.coordinateSystem;if($&&($.type==="cartesian2d"||$.type==="polar")){var L=$.getBaseAxis();if(L.type==="category"){var V=L.dim+"_"+L.index;n[V]||(n[V]={categoryAxis:L,valueAxis:$.getOtherAxis(L),series:[]},g.push({axisDim:L.dim,axisIndex:L.index})),n[V].series.push(y)}else r.push(y)}else r.push(y)}),{seriesGroupByCategoryAxis:n,other:r,meta:g}}function assembleSeriesWithCategoryAxis(t){var n=[];return each$f(t,function(r,g){var y=r.categoryAxis,$=r.valueAxis,L=$.dim,V=[" "].concat(map$1(r.series,function(ie){return ie.name})),z=[y.model.getCategories()];each$f(r.series,function(ie){var le=ie.getRawData();z.push(ie.getRawData().mapArray(le.mapDimension(L),function(ue){return ue}))});for(var j=[V.join(ITEM_SPLITER)],re=0;re<z[0].length;re++){for(var ae=[],oe=0;oe<z.length;oe++)ae.push(z[oe][re]);j.push(ae.join(ITEM_SPLITER))}n.push(j.join(`
`))}),n.join(`

`+BLOCK_SPLITER+`

`)}function assembleOtherSeries(t){return map$1(t,function(n){var r=n.getRawData(),g=[n.name],y=[];return r.each(r.dimensions,function(){for(var $=arguments.length,L=arguments[$-1],V=r.getName(L),z=0;z<$-1;z++)y[z]=arguments[z];g.push((V?V+ITEM_SPLITER:"")+y.join(ITEM_SPLITER))}),g.join(`
`)}).join(`

`+BLOCK_SPLITER+`

`)}function getContentFromModel(t){var n=groupSeries(t);return{value:filter([assembleSeriesWithCategoryAxis(n.seriesGroupByCategoryAxis),assembleOtherSeries(n.other)],function(r){return!!r.replace(/[\n\t\s]/g,"")}).join(`

`+BLOCK_SPLITER+`

`),meta:n.meta}}function trim(t){return t.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function isTSVFormat(t){var n=t.slice(0,t.indexOf(`
`));if(n.indexOf(ITEM_SPLITER)>=0)return!0}var itemSplitRegex=new RegExp("["+ITEM_SPLITER+"]+","g");function parseTSVContents(t){for(var n=t.split(/\n+/g),r=trim(n.shift()).split(itemSplitRegex),g=[],y=map$1(r,function(z){return{name:z,data:[]}}),$=0;$<n.length;$++){var L=trim(n[$]).split(itemSplitRegex);g.push(L.shift());for(var V=0;V<L.length;V++)y[V]&&(y[V].data[$]=L[V])}return{series:y,categories:g}}function parseListContents(t){for(var n=t.split(/\n+/g),r=trim(n.shift()),g=[],y=0;y<n.length;y++){var $=trim(n[y]);if($){var L=$.split(itemSplitRegex),V="",z=void 0,j=!1;isNaN(L[0])?(j=!0,V=L[0],L=L.slice(1),g[y]={name:V,value:[]},z=g[y].value):z=g[y]=[];for(var re=0;re<L.length;re++)z.push(+L[re]);z.length===1&&(j?g[y].value=z[0]:g[y]=z[0])}}return{name:r,data:g}}function parseContents(t,n){var r=t.split(new RegExp(`
*`+BLOCK_SPLITER+`
*`,"g")),g={series:[]};return each$f(r,function(y,$){if(isTSVFormat(y)){var L=parseTSVContents(y),V=n[$],z=V.axisDim+"Axis";V&&(g[z]=g[z]||[],g[z][V.axisIndex]={data:L.categories},g.series=g.series.concat(L.series))}else{var L=parseListContents(y);g.series.push(L)}}),g}var DataView$1=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(r,g){setTimeout(function(){g.dispatchAction({type:"hideTip"})});var y=g.getDom(),$=this.model;this._dom&&y.removeChild(this._dom);var L=document.createElement("div");L.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",L.style.backgroundColor=$.get("backgroundColor")||"#fff";var V=document.createElement("h4"),z=$.get("lang")||[];V.innerHTML=z[0]||$.get("title"),V.style.cssText="margin:10px 20px",V.style.color=$.get("textColor");var j=document.createElement("div"),re=document.createElement("textarea");j.style.cssText="overflow:auto";var ae=$.get("optionToContent"),oe=$.get("contentToOption"),ie=getContentFromModel(r);if(isFunction(ae)){var le=ae(g.getOption());isString(le)?j.innerHTML=le:isDom(le)&&j.appendChild(le)}else{re.readOnly=$.get("readOnly");var ue=re.style;ue.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",ue.color=$.get("textColor"),ue.borderColor=$.get("textareaBorderColor"),ue.backgroundColor=$.get("textareaColor"),re.value=ie.value,j.appendChild(re)}var de=ie.meta,he=document.createElement("div");he.style.cssText="position:absolute;bottom:5px;left:0;right:0";var pe="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",_e=document.createElement("div"),Ce=document.createElement("div");pe+=";background-color:"+$.get("buttonColor"),pe+=";color:"+$.get("buttonTextColor");var xe=this;function Ie(){y.removeChild(L),xe._dom=null}addEventListener(_e,"click",Ie),addEventListener(Ce,"click",function(){if(oe==null&&ae!=null||oe!=null&&ae==null){Ie();return}var $e;try{isFunction(oe)?$e=oe(j,g.getOption()):$e=parseContents(re.value,de)}catch(Oe){throw Ie(),new Error("Data view format error "+Oe)}$e&&g.dispatchAction({type:"changeDataView",newOption:$e}),Ie()}),_e.innerHTML=z[1],Ce.innerHTML=z[2],Ce.style.cssText=_e.style.cssText=pe,!$.get("readOnly")&&he.appendChild(Ce),he.appendChild(_e),L.appendChild(V),L.appendChild(j),L.appendChild(he),j.style.height=y.clientHeight-80+"px",y.appendChild(L),this._dom=L},n.prototype.remove=function(r,g){this._dom&&g.getDom().removeChild(this._dom)},n.prototype.dispose=function(r,g){this.remove(r,g)},n.getDefaultOption=function(r){var g={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:r.getLocaleModel().get(["toolbox","dataView","title"]),lang:r.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};return g},n}(ToolboxFeature);function tryMergeDataOption(t,n){return map$1(t,function(r,g){var y=n&&n[g];if(isObject$3(y)&&!isArray$1(y)){var $=isObject$3(r)&&!isArray$1(r);$||(r={value:r});var L=y.name!=null&&r.name==null;return r=defaults(r,y),L&&delete r.name,r}else return r})}registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(t,n){var r=[];each$f(t.newOption.series,function(g){var y=n.getSeriesByName(g.name)[0];if(!y)r.push(extend({type:"scatter"},g));else{var $=y.get("data");r.push({name:g.name,data:tryMergeDataOption(g.data,$)})}}),n.mergeOption(defaults({series:r},t.newOption))});var each$6=each$f,inner$6=makeInner();function push(t,n){var r=getStoreSnapshots(t);each$6(n,function(g,y){for(var $=r.length-1;$>=0;$--){var L=r[$];if(L[y])break}if($<0){var V=t.queryComponents({mainType:"dataZoom",subType:"select",id:y})[0];if(V){var z=V.getPercentRange();r[0][y]={dataZoomId:y,start:z[0],end:z[1]}}}}),r.push(n)}function pop(t){var n=getStoreSnapshots(t),r=n[n.length-1];n.length>1&&n.pop();var g={};return each$6(r,function(y,$){for(var L=n.length-1;L>=0;L--)if(y=n[L][$],y){g[$]=y;break}}),g}function clear(t){inner$6(t).snapshots=null}function count(t){return getStoreSnapshots(t).length}function getStoreSnapshots(t){var n=inner$6(t);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var RestoreOption=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.onclick=function(r,g){clear(r),g.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(r){var g={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:r.getLocaleModel().get(["toolbox","restore","title"])};return g},n}(ToolboxFeature);registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(t,n){n.resetOption("recreate")});var INCLUDE_FINDER_MAIN_TYPES=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],BrushTargetManager=function(){function t(n,r,g){var y=this;this._targetInfoList=[];var $=parseFinder(r,n);each$f(targetInfoBuilders,function(L,V){(!g||!g.include||indexOf(g.include,V)>=0)&&L($,y._targetInfoList)})}return t.prototype.setOutputRanges=function(n,r){return this.matchOutputRanges(n,r,function(g,y,$){if((g.coordRanges||(g.coordRanges=[])).push(y),!g.coordRange){g.coordRange=y;var L=coordConvert[g.brushType](0,$,y);g.__rangeOffset={offset:diffProcessor[g.brushType](L.values,g.range,[1,1]),xyMinMax:L.xyMinMax}}}),n},t.prototype.matchOutputRanges=function(n,r,g){each$f(n,function(y){var $=this.findTargetInfo(y,r);$&&$!==!0&&each$f($.coordSyses,function(L){var V=coordConvert[y.brushType](1,L,y.range,!0);g(y,V.values,L,r)})},this)},t.prototype.setInputRanges=function(n,r){each$f(n,function(g){var y=this.findTargetInfo(g,r);if(g.range=g.range||[],y&&y!==!0){g.panelId=y.panelId;var $=coordConvert[g.brushType](0,y.coordSys,g.coordRange),L=g.__rangeOffset;g.range=L?diffProcessor[g.brushType]($.values,L.offset,getScales($.xyMinMax,L.xyMinMax)):$.values}},this)},t.prototype.makePanelOpts=function(n,r){return map$1(this._targetInfoList,function(g){var y=g.getPanelRect();return{panelId:g.panelId,defaultBrushType:r?r(g):null,clipPath:makeRectPanelClipPath(y),isTargetByCursor:makeRectIsTargetByCursor(y,n,g.coordSysModel),getLinearBrushOtherExtent:makeLinearBrushOtherExtent(y)}})},t.prototype.controlSeries=function(n,r,g){var y=this.findTargetInfo(n,g);return y===!0||y&&indexOf(y.coordSyses,r.coordinateSystem)>=0},t.prototype.findTargetInfo=function(n,r){for(var g=this._targetInfoList,y=parseFinder(r,n),$=0;$<g.length;$++){var L=g[$],V=n.panelId;if(V){if(L.panelId===V)return L}else for(var z=0;z<targetInfoMatchers.length;z++)if(targetInfoMatchers[z](y,L))return L}return!0},t}();function formatMinMax(t){return t[0]>t[1]&&t.reverse(),t}function parseFinder(t,n){return parseFinder$1(t,n,{includeMainTypes:INCLUDE_FINDER_MAIN_TYPES})}var targetInfoBuilders={grid:function(t,n){var r=t.xAxisModels,g=t.yAxisModels,y=t.gridModels,$=createHashMap(),L={},V={};!r&&!g&&!y||(each$f(r,function(z){var j=z.axis.grid.model;$.set(j.id,j),L[j.id]=!0}),each$f(g,function(z){var j=z.axis.grid.model;$.set(j.id,j),V[j.id]=!0}),each$f(y,function(z){$.set(z.id,z),L[z.id]=!0,V[z.id]=!0}),$.each(function(z){var j=z.coordinateSystem,re=[];each$f(j.getCartesians(),function(ae,oe){(indexOf(r,ae.getAxis("x").model)>=0||indexOf(g,ae.getAxis("y").model)>=0)&&re.push(ae)}),n.push({panelId:"grid--"+z.id,gridModel:z,coordSysModel:z,coordSys:re[0],coordSyses:re,getPanelRect:panelRectBuilders.grid,xAxisDeclared:L[z.id],yAxisDeclared:V[z.id]})}))},geo:function(t,n){each$f(t.geoModels,function(r){var g=r.coordinateSystem;n.push({panelId:"geo--"+r.id,geoModel:r,coordSysModel:r,coordSys:g,coordSyses:[g],getPanelRect:panelRectBuilders.geo})})}},targetInfoMatchers=[function(t,n){var r=t.xAxisModel,g=t.yAxisModel,y=t.gridModel;return!y&&r&&(y=r.axis.grid.model),!y&&g&&(y=g.axis.grid.model),y&&y===n.gridModel},function(t,n){var r=t.geoModel;return r&&r===n.geoModel}],panelRectBuilders={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var t=this.coordSys,n=t.getBoundingRect().clone();return n.applyTransform(getTransform$1(t)),n}},coordConvert={lineX:curry$1(axisConvert,0),lineY:curry$1(axisConvert,1),rect:function(t,n,r,g){var y=t?n.pointToData([r[0][0],r[1][0]],g):n.dataToPoint([r[0][0],r[1][0]],g),$=t?n.pointToData([r[0][1],r[1][1]],g):n.dataToPoint([r[0][1],r[1][1]],g),L=[formatMinMax([y[0],$[0]]),formatMinMax([y[1],$[1]])];return{values:L,xyMinMax:L}},polygon:function(t,n,r,g){var y=[[1/0,-1/0],[1/0,-1/0]],$=map$1(r,function(L){var V=t?n.pointToData(L,g):n.dataToPoint(L,g);return y[0][0]=Math.min(y[0][0],V[0]),y[1][0]=Math.min(y[1][0],V[1]),y[0][1]=Math.max(y[0][1],V[0]),y[1][1]=Math.max(y[1][1],V[1]),V});return{values:$,xyMinMax:y}}};function axisConvert(t,n,r,g){var y=r.getAxis(["x","y"][t]),$=formatMinMax(map$1([0,1],function(V){return n?y.coordToData(y.toLocalCoord(g[V]),!0):y.toGlobalCoord(y.dataToCoord(g[V]))})),L=[];return L[t]=$,L[1-t]=[NaN,NaN],{values:$,xyMinMax:L}}var diffProcessor={lineX:curry$1(axisDiffProcessor,0),lineY:curry$1(axisDiffProcessor,1),rect:function(t,n,r){return[[t[0][0]-r[0]*n[0][0],t[0][1]-r[0]*n[0][1]],[t[1][0]-r[1]*n[1][0],t[1][1]-r[1]*n[1][1]]]},polygon:function(t,n,r){return map$1(t,function(g,y){return[g[0]-r[0]*n[y][0],g[1]-r[1]*n[y][1]]})}};function axisDiffProcessor(t,n,r,g){return[n[0]-g[t]*r[0],n[1]-g[t]*r[1]]}function getScales(t,n){var r=getSize(t),g=getSize(n),y=[r[0]/g[0],r[1]/g[1]];return isNaN(y[0])&&(y[0]=1),isNaN(y[1])&&(y[1]=1),y}function getSize(t){return t?[t[0][1]-t[0][0],t[1][1]-t[1][0]]:[NaN,NaN]}var each$5=each$f,DATA_ZOOM_ID_BASE=makeInternalComponentId("toolbox-dataZoom_"),DataZoomFeature=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(r,g,y,$){this._brushController||(this._brushController=new BrushController(y.getZr()),this._brushController.on("brush",bind$1(this._onBrush,this)).mount()),updateZoomBtnStatus(r,g,this,$,y),updateBackBtnStatus(r,g)},n.prototype.onclick=function(r,g,y){handlers[y].call(this)},n.prototype.remove=function(r,g){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(r,g){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(r){var g=r.areas;if(!r.isEnd||!g.length)return;var y={},$=this.ecModel;this._brushController.updateCovers([]);var L=new BrushTargetManager(makeAxisFinder(this.model),$,{include:["grid"]});L.matchOutputRanges(g,$,function(j,re,ae){if(ae.type==="cartesian2d"){var oe=j.brushType;oe==="rect"?(V("x",ae,re[0]),V("y",ae,re[1])):V({lineX:"x",lineY:"y"}[oe],ae,re)}}),push($,y),this._dispatchZoomAction(y);function V(j,re,ae){var oe=re.getAxis(j),ie=oe.model,le=z(j,ie,$),ue=le.findRepresentativeAxisProxy(ie).getMinMaxSpan();(ue.minValueSpan!=null||ue.maxValueSpan!=null)&&(ae=sliderMove(0,ae.slice(),oe.scale.getExtent(),0,ue.minValueSpan,ue.maxValueSpan)),le&&(y[le.id]={dataZoomId:le.id,startValue:ae[0],endValue:ae[1]})}function z(j,re,ae){var oe;return ae.eachComponent({mainType:"dataZoom",subType:"select"},function(ie){var le=ie.getAxisModel(j,re.componentIndex);le&&(oe=ie)}),oe}},n.prototype._dispatchZoomAction=function(r){var g=[];each$5(r,function(y,$){g.push(clone$4(y))}),g.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:g})},n.getDefaultOption=function(r){var g={show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:r.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}};return g},n}(ToolboxFeature),handlers={zoom:function(){var t=!this._isZoomActive;this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:t})},back:function(){this._dispatchZoomAction(pop(this.ecModel))}};function makeAxisFinder(t){var n={xAxisIndex:t.get("xAxisIndex",!0),yAxisIndex:t.get("yAxisIndex",!0),xAxisId:t.get("xAxisId",!0),yAxisId:t.get("yAxisId",!0)};return n.xAxisIndex==null&&n.xAxisId==null&&(n.xAxisIndex="all"),n.yAxisIndex==null&&n.yAxisId==null&&(n.yAxisIndex="all"),n}function updateBackBtnStatus(t,n){t.setIconStatus("back",count(n)>1?"emphasis":"normal")}function updateZoomBtnStatus(t,n,r,g,y){var $=r._isZoomActive;g&&g.type==="takeGlobalCursor"&&($=g.key==="dataZoomSelect"?g.dataZoomSelectActive:!1),r._isZoomActive=$,t.setIconStatus("zoom",$?"emphasis":"normal");var L=new BrushTargetManager(makeAxisFinder(t),n,{include:["grid"]}),V=L.makePanelOpts(y,function(z){return z.xAxisDeclared&&!z.yAxisDeclared?"lineX":!z.xAxisDeclared&&z.yAxisDeclared?"lineY":"rect"});r._brushController.setPanels(V).enableBrush($&&V.length?{brushType:"auto",brushStyle:t.getModel("brushStyle").getItemStyle()}:!1)}registerInternalOptionCreator("dataZoom",function(t){var n=t.getComponent("toolbox",0),r=["feature","dataZoom"];if(!n||n.get(r)==null)return;var g=n.getModel(r),y=[],$=makeAxisFinder(g),L=parseFinder$1(t,$);each$5(L.xAxisModels,function(z){return V(z,"xAxis","xAxisIndex")}),each$5(L.yAxisModels,function(z){return V(z,"yAxis","yAxisIndex")});function V(z,j,re){var ae=z.componentIndex,oe={type:"select",$fromToolbox:!0,filterMode:g.get("filterMode",!0)||"filter",id:DATA_ZOOM_ID_BASE+j+ae};oe[re]=ae,y.push(oe)}return y});function install$j(t){t.registerComponentModel(ToolboxModel),t.registerComponentView(ToolboxView),registerFeature("saveAsImage",SaveAsImage),registerFeature("magicType",MagicType),registerFeature("dataView",DataView$1),registerFeature("dataZoom",DataZoomFeature),registerFeature("restore",RestoreOption),use(install$k)}var TooltipModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="tooltip",n.dependencies=["axisPointer"],n.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},n}(ComponentModel);function shouldTooltipConfine(t){var n=t.get("confine");return n!=null?!!n:t.get("renderMode")==="richText"}function testStyle(t){if(env.domSupported){for(var n=document.documentElement.style,r=0,g=t.length;r<g;r++)if(t[r]in n)return t[r]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(t,n){if(!t)return n;n=toCamelCase(n,!0);var r=t.indexOf(n);return t=r===-1?n:"-"+t.slice(0,r)+"-"+n,t.toLowerCase()}function getComputedStyle$1(t,n){var r=t.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(t);return r?r[n]:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env.transform3dSupported?"will-change:transform;":"");function mirrorPos(t){return t=t==="left"?"right":t==="right"?"left":t==="top"?"bottom":"top",t}function assembleArrow(t,n,r){if(!isString(r)||r==="inside")return"";var g=t.get("backgroundColor"),y=t.get("borderWidth");n=convertToColorString(n);var $=mirrorPos(r),L=Math.max(Math.round(y)*1.5,6),V="",z=CSS_TRANSFORM_VENDOR+":",j;indexOf(["left","right"],$)>-1?(V+="top:50%",z+="translateY(-50%) rotate("+(j=$==="left"?-225:-45)+"deg)"):(V+="left:50%",z+="translateX(-50%) rotate("+(j=$==="top"?225:45)+"deg)");var re=j*Math.PI/180,ae=L+y,oe=ae*Math.abs(Math.cos(re))+ae*Math.abs(Math.sin(re)),ie=Math.round(((oe-Math.SQRT2*y)/2+Math.SQRT2*y-(oe-ae)/2)*100)/100;V+=";"+$+":-"+ie+"px";var le=n+" solid "+y+"px;",ue=["position:absolute;width:"+L+"px;height:"+L+"px;z-index:-1;",V+";"+z+";","border-bottom:"+le,"border-right:"+le,"background-color:"+g+";"];return'<div style="'+ue.join("")+'"></div>'}function assembleTransition(t,n){var r="cubic-bezier(0.23,1,0.32,1)",g=" "+t/2+"s "+r,y="opacity"+g+",visibility"+g;return n||(g=" "+t+"s "+r,y+=env.transformSupported?","+CSS_TRANSFORM_VENDOR+g:",left"+g+",top"+g),CSS_TRANSITION_VENDOR+":"+y}function assembleTransform(t,n,r){var g=t.toFixed(0)+"px",y=n.toFixed(0)+"px";if(!env.transformSupported)return r?"top:"+y+";left:"+g+";":[["top",y],["left",g]];var $=env.transform3dSupported,L="translate"+($?"3d":"")+"("+g+","+y+($?",0":"")+")";return r?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+L+";":[["top",0],["left",0],[TRANSFORM_VENDOR,L]]}function assembleFont(t){var n=[],r=t.get("fontSize"),g=t.getTextColor();g&&n.push("color:"+g),n.push("font:"+t.getFont());var y=retrieve2(t.get("lineHeight"),Math.round(r*3/2));r&&n.push("line-height:"+y+"px");var $=t.get("textShadowColor"),L=t.get("textShadowBlur")||0,V=t.get("textShadowOffsetX")||0,z=t.get("textShadowOffsetY")||0;return $&&L&&n.push("text-shadow:"+V+"px "+z+"px "+L+"px "+$),each$f(["decoration","align"],function(j){var re=t.get(j);re&&n.push("text-"+j+":"+re)}),n.join(";")}function assembleCssText(t,n,r){var g=[],y=t.get("transitionDuration"),$=t.get("backgroundColor"),L=t.get("shadowBlur"),V=t.get("shadowColor"),z=t.get("shadowOffsetX"),j=t.get("shadowOffsetY"),re=t.getModel("textStyle"),ae=getPaddingFromTooltipModel(t,"html"),oe=z+"px "+j+"px "+L+"px "+V;return g.push("box-shadow:"+oe),n&&y&&g.push(assembleTransition(y,r)),$&&g.push("background-color:"+$),each$f(["width","color","radius"],function(ie){var le="border-"+ie,ue=toCamelCase(le),de=t.get(ue);de!=null&&g.push(le+":"+de+(ie==="color"?"":"px"))}),g.push(assembleFont(re)),ae!=null&&g.push("padding:"+normalizeCssArray(ae).join("px ")+"px"),g.join(";")+";"}function makeStyleCoord$1(t,n,r,g,y){var $=n&&n.painter;if(r){var L=$&&$.getViewportRoot();L&&transformLocalCoord(t,L,r,g,y)}else{t[0]=g,t[1]=y;var V=$&&$.getViewportRootOffset();V&&(t[0]+=V.offsetLeft,t[1]+=V.offsetTop)}t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var TooltipHTMLContent=function(){function t(n,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env.wxa)return null;var g=document.createElement("div");g.domBelongToZr=!0,this.el=g;var y=this._zr=n.getZr(),$=r.appendTo,L=$&&(isString($)?document.querySelector($):isDom($)?$:isFunction($)&&$(n.getDom()));makeStyleCoord$1(this._styleCoord,y,L,n.getWidth()/2,n.getHeight()/2),(L||n.getDom()).appendChild(g),this._api=n,this._container=L;var V=this;g.onmouseenter=function(){V._enterable&&(clearTimeout(V._hideTimeout),V._show=!0),V._inContent=!0},g.onmousemove=function(z){if(z=z||window.event,!V._enterable){var j=y.handler,re=y.painter.getViewportRoot();normalizeEvent(re,z,!0),j.dispatch("mousemove",z)}},g.onmouseleave=function(){V._inContent=!1,V._enterable&&V._show&&V.hideLater(V._hideDelay)}}return t.prototype.update=function(n){if(!this._container){var r=this._api.getDom(),g=getComputedStyle$1(r,"position"),y=r.style;y.position!=="absolute"&&g!=="absolute"&&(y.position="relative")}var $=n.get("alwaysShowContent");$&&this._moveIfResized(),this._alwaysShowContent=$,this.el.className=n.get("className")||""},t.prototype.show=function(n,r){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var g=this.el,y=g.style,$=this._styleCoord;g.innerHTML?y.cssText=gCssText+assembleCssText(n,!this._firstShow,this._longHide)+assembleTransform($[0],$[1],!0)+("border-color:"+convertToColorString(r)+";")+(n.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):y.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(n,r,g,y,$){var L=this.el;if(n==null){L.innerHTML="";return}var V="";if(isString($)&&g.get("trigger")==="item"&&!shouldTooltipConfine(g)&&(V=assembleArrow(g,y,$)),isString(n))L.innerHTML=n+V;else if(n){L.innerHTML="",isArray$1(n)||(n=[n]);for(var z=0;z<n.length;z++)isDom(n[z])&&n[z].parentNode!==L&&L.appendChild(n[z]);if(V&&L.childNodes.length){var j=document.createElement("div");j.innerHTML=V,L.appendChild(j)}}},t.prototype.setEnterable=function(n){this._enterable=n},t.prototype.getSize=function(){var n=this.el;return n?[n.offsetWidth,n.offsetHeight]:[0,0]},t.prototype.moveTo=function(n,r){if(this.el){var g=this._styleCoord;if(makeStyleCoord$1(g,this._zr,this._container,n,r),g[0]!=null&&g[1]!=null){var y=this.el.style,$=assembleTransform(g[0],g[1]);each$f($,function(L){y[L[0]]=L[1]})}}},t.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){var n=this,r=this.el.style;r.visibility="hidden",r.opacity="0",env.transform3dSupported&&(r.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return n._longHide=!0},500)},t.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el.parentNode;n&&n.removeChild(this.el),this.el=this._container=null},t}(),TooltipRichContent=function(){function t(n){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=n.getZr(),makeStyleCoord(this._styleCoord,this._zr,n.getWidth()/2,n.getHeight()/2)}return t.prototype.update=function(n){var r=n.get("alwaysShowContent");r&&this._moveIfResized(),this._alwaysShowContent=r},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(n,r,g,y,$){var L=this;isObject$3(n)&&throwError(""),this.el&&this._zr.remove(this.el);var V=g.getModel("textStyle");this.el=new ZRText({style:{rich:r.richTextStyles,text:n,lineHeight:22,borderWidth:1,borderColor:y,textShadowColor:V.get("textShadowColor"),fill:g.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(g,"richText"),verticalAlign:"top",align:"left"},z:g.get("z")}),each$f(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(j){L.el.style[j]=g.get(j)}),each$f(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(j){L.el.style[j]=V.get(j)||0}),this._zr.add(this.el);var z=this;this.el.on("mouseover",function(){z._enterable&&(clearTimeout(z._hideTimeout),z._show=!0),z._inContent=!0}),this.el.on("mouseout",function(){z._enterable&&z._show&&z.hideLater(z._hideDelay),z._inContent=!1})},t.prototype.setEnterable=function(n){this._enterable=n},t.prototype.getSize=function(){var n=this.el,r=this.el.getBoundingRect(),g=calcShadowOuterSize(n.style);return[r.width+g.left+g.right,r.height+g.top+g.bottom]},t.prototype.moveTo=function(n,r){var g=this.el;if(g){var y=this._styleCoord;makeStyleCoord(y,this._zr,n,r),n=y[0],r=y[1];var $=g.style,L=mathMaxWith0($.borderWidth||0),V=calcShadowOuterSize($);g.x=n+L+V.left,g.y=r+L+V.top,g.markRedraw()}},t.prototype._moveIfResized=function(){var n=this._styleCoord[2],r=this._styleCoord[3];this.moveTo(n*this._zr.getWidth(),r*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(n){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),n)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function mathMaxWith0(t){return Math.max(0,t)}function calcShadowOuterSize(t){var n=mathMaxWith0(t.shadowBlur||0),r=mathMaxWith0(t.shadowOffsetX||0),g=mathMaxWith0(t.shadowOffsetY||0);return{left:mathMaxWith0(n-r),right:mathMaxWith0(n+r),top:mathMaxWith0(n-g),bottom:mathMaxWith0(n+g)}}function makeStyleCoord(t,n,r,g){t[0]=r,t[1]=g,t[2]=t[0]/n.getWidth(),t[3]=t[1]/n.getHeight()}var proxyRect=new Rect$2({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g){if(!(env.node||!g.getDom())){var y=r.getComponent("tooltip"),$=this._renderMode=getTooltipRenderMode(y.get("renderMode"));this._tooltipContent=$==="richText"?new TooltipRichContent(g):new TooltipHTMLContent(g,{appendTo:y.get("appendToBody",!0)?"body":y.get("appendTo",!0)})}},n.prototype.render=function(r,g,y){if(!(env.node||!y.getDom())){this.group.removeAll(),this._tooltipModel=r,this._ecModel=g,this._api=y;var $=this._tooltipContent;$.update(r),$.setEnterable(r.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&r.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear$1(this,"_updatePosition")}},n.prototype._initGlobalListener=function(){var r=this._tooltipModel,g=r.get("triggerOn");register("itemTooltip",this._api,bind$1(function(y,$,L){g!=="none"&&(g.indexOf(y)>=0?this._tryShow($,L):y==="leave"&&this._hide(L))},this))},n.prototype._keepShow=function(){var r=this._tooltipModel,g=this._ecModel,y=this._api,$=r.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&$!=="none"&&$!=="click"){var L=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!y.isDisposed()&&L.manuallyShowTip(r,g,y,{x:L._lastX,y:L._lastY,dataByCoordSys:L._lastDataByCoordSys})})}},n.prototype.manuallyShowTip=function(r,g,y,$){if(!($.from===this.uid||env.node||!y.getDom())){var L=makeDispatchAction($,y);this._ticket="";var V=$.dataByCoordSys,z=findComponentReference($,g,y);if(z){var j=z.el.getBoundingRect().clone();j.applyTransform(z.el.transform),this._tryShow({offsetX:j.x+j.width/2,offsetY:j.y+j.height/2,target:z.el,position:$.position,positionDefault:"bottom"},L)}else if($.tooltip&&$.x!=null&&$.y!=null){var re=proxyRect;re.x=$.x,re.y=$.y,re.update(),getECData(re).tooltipConfig={name:null,option:$.tooltip},this._tryShow({offsetX:$.x,offsetY:$.y,target:re},L)}else if(V)this._tryShow({offsetX:$.x,offsetY:$.y,position:$.position,dataByCoordSys:V,tooltipOption:$.tooltipOption},L);else if($.seriesIndex!=null){if(this._manuallyAxisShowTip(r,g,y,$))return;var ae=findPointFromSeries($,g),oe=ae.point[0],ie=ae.point[1];oe!=null&&ie!=null&&this._tryShow({offsetX:oe,offsetY:ie,target:ae.el,position:$.position,positionDefault:"bottom"},L)}else $.x!=null&&$.y!=null&&(y.dispatchAction({type:"updateAxisPointer",x:$.x,y:$.y}),this._tryShow({offsetX:$.x,offsetY:$.y,position:$.position,target:y.getZr().findHover($.x,$.y).target},L))}},n.prototype.manuallyHideTip=function(r,g,y,$){var L=this._tooltipContent;this._tooltipModel&&L.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,$.from!==this.uid&&this._hide(makeDispatchAction($,y))},n.prototype._manuallyAxisShowTip=function(r,g,y,$){var L=$.seriesIndex,V=$.dataIndex,z=g.getComponent("axisPointer").coordSysAxesInfo;if(!(L==null||V==null||z==null)){var j=g.getSeriesByIndex(L);if(j){var re=j.getData(),ae=buildTooltipModel([re.getItemModel(V),j,(j.coordinateSystem||{}).model],this._tooltipModel);if(ae.get("trigger")==="axis")return y.dispatchAction({type:"updateAxisPointer",seriesIndex:L,dataIndex:V,position:$.position}),!0}}},n.prototype._tryShow=function(r,g){var y=r.target,$=this._tooltipModel;if($){this._lastX=r.offsetX,this._lastY=r.offsetY;var L=r.dataByCoordSys;if(L&&L.length)this._showAxisTooltip(L,r);else if(y){var V=getECData(y);if(V.ssrType==="legend")return;this._lastDataByCoordSys=null;var z,j;findEventDispatcher(y,function(re){if(getECData(re).dataIndex!=null)return z=re,!0;if(getECData(re).tooltipConfig!=null)return j=re,!0},!0),z?this._showSeriesItemTooltip(r,z,g):j?this._showComponentItemTooltip(r,j,g):this._hide(g)}else this._lastDataByCoordSys=null,this._hide(g)}},n.prototype._showOrMove=function(r,g){var y=r.get("showDelay");g=bind$1(g,this),clearTimeout(this._showTimout),y>0?this._showTimout=setTimeout(g,y):g()},n.prototype._showAxisTooltip=function(r,g){var y=this._ecModel,$=this._tooltipModel,L=[g.offsetX,g.offsetY],V=buildTooltipModel([g.tooltipOption],$),z=this._renderMode,j=[],re=createTooltipMarkup("section",{blocks:[],noHeader:!0}),ae=[],oe=new TooltipMarkupStyleCreator;each$f(r,function(pe){each$f(pe.dataByAxis,function(_e){var Ce=y.getComponent(_e.axisDim+"Axis",_e.axisIndex),xe=_e.value;if(!(!Ce||xe==null)){var Ie=getValueLabel(xe,Ce.axis,y,_e.seriesDataIndices,_e.valueLabelOpt),$e=createTooltipMarkup("section",{header:Ie,noHeader:!trim$1(Ie),sortBlocks:!0,blocks:[]});re.blocks.push($e),each$f(_e.seriesDataIndices,function(Oe){var Ne=y.getSeriesByIndex(Oe.seriesIndex),Fe=Oe.dataIndexInside,Ve=Ne.getDataParams(Fe);if(!(Ve.dataIndex<0)){Ve.axisDim=_e.axisDim,Ve.axisIndex=_e.axisIndex,Ve.axisType=_e.axisType,Ve.axisId=_e.axisId,Ve.axisValue=getAxisRawValue(Ce.axis,{value:xe}),Ve.axisValueLabel=Ie,Ve.marker=oe.makeTooltipMarker("item",convertToColorString(Ve.color),z);var ze=normalizeTooltipFormatResult(Ne.formatTooltip(Fe,!0,null)),Et=ze.frag;if(Et){var Dt=buildTooltipModel([Ne],$).get("valueFormatter");$e.blocks.push(Dt?extend({valueFormatter:Dt},Et):Et)}ze.text&&ae.push(ze.text),j.push(Ve)}})}})}),re.blocks.reverse(),ae.reverse();var ie=g.position,le=V.get("order"),ue=buildTooltipMarkup(re,oe,z,le,y.get("useUTC"),V.get("textStyle"));ue&&ae.unshift(ue);var de=z==="richText"?`

`:"<br/>",he=ae.join(de);this._showOrMove(V,function(){this._updateContentNotChangedOnAxis(r,j)?this._updatePosition(V,ie,L[0],L[1],this._tooltipContent,j):this._showTooltipContent(V,he,j,Math.random()+"",L[0],L[1],ie,null,oe)})},n.prototype._showSeriesItemTooltip=function(r,g,y){var $=this._ecModel,L=getECData(g),V=L.seriesIndex,z=$.getSeriesByIndex(V),j=L.dataModel||z,re=L.dataIndex,ae=L.dataType,oe=j.getData(ae),ie=this._renderMode,le=r.positionDefault,ue=buildTooltipModel([oe.getItemModel(re),j,z&&(z.coordinateSystem||{}).model],this._tooltipModel,le?{position:le}:null),de=ue.get("trigger");if(!(de!=null&&de!=="item")){var he=j.getDataParams(re,ae),pe=new TooltipMarkupStyleCreator;he.marker=pe.makeTooltipMarker("item",convertToColorString(he.color),ie);var _e=normalizeTooltipFormatResult(j.formatTooltip(re,!1,ae)),Ce=ue.get("order"),xe=ue.get("valueFormatter"),Ie=_e.frag,$e=Ie?buildTooltipMarkup(xe?extend({valueFormatter:xe},Ie):Ie,pe,ie,Ce,$.get("useUTC"),ue.get("textStyle")):_e.text,Oe="item_"+j.name+"_"+re;this._showOrMove(ue,function(){this._showTooltipContent(ue,$e,he,Oe,r.offsetX,r.offsetY,r.position,r.target,pe)}),y({type:"showTip",dataIndexInside:re,dataIndex:oe.getRawIndex(re),seriesIndex:V,from:this.uid})}},n.prototype._showComponentItemTooltip=function(r,g,y){var $=this._renderMode==="html",L=getECData(g),V=L.tooltipConfig,z=V.option||{},j=z.encodeHTMLContent;if(isString(z)){var re=z;z={content:re,formatter:re},j=!0}j&&$&&z.content&&(z=clone$4(z),z.content=encodeHTML(z.content));var ae=[z],oe=this._ecModel.getComponent(L.componentMainType,L.componentIndex);oe&&ae.push(oe),ae.push({formatter:z.content});var ie=r.positionDefault,le=buildTooltipModel(ae,this._tooltipModel,ie?{position:ie}:null),ue=le.get("content"),de=Math.random()+"",he=new TooltipMarkupStyleCreator;this._showOrMove(le,function(){var pe=clone$4(le.get("formatterParams")||{});this._showTooltipContent(le,ue,pe,de,r.offsetX,r.offsetY,r.position,g,he)}),y({type:"showTip",from:this.uid})},n.prototype._showTooltipContent=function(r,g,y,$,L,V,z,j,re){if(this._ticket="",!(!r.get("showContent")||!r.get("show"))){var ae=this._tooltipContent;ae.setEnterable(r.get("enterable"));var oe=r.get("formatter");z=z||r.get("position");var ie=g,le=this._getNearestPoint([L,V],y,r.get("trigger"),r.get("borderColor")),ue=le.color;if(oe)if(isString(oe)){var de=r.ecModel.get("useUTC"),he=isArray$1(y)?y[0]:y,pe=he&&he.axisType&&he.axisType.indexOf("time")>=0;ie=oe,pe&&(ie=format(he.axisValue,ie,de)),ie=formatTpl(ie,y,!0)}else if(isFunction(oe)){var _e=bind$1(function(Ce,xe){Ce===this._ticket&&(ae.setContent(xe,re,r,ue,z),this._updatePosition(r,z,L,V,ae,y,j))},this);this._ticket=$,ie=oe(y,$,_e)}else ie=oe;ae.setContent(ie,re,r,ue,z),ae.show(r,ue),this._updatePosition(r,z,L,V,ae,y,j)}},n.prototype._getNearestPoint=function(r,g,y,$){if(y==="axis"||isArray$1(g))return{color:$||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(g))return{color:$||g.color||g.borderColor}},n.prototype._updatePosition=function(r,g,y,$,L,V,z){var j=this._api.getWidth(),re=this._api.getHeight();g=g||r.get("position");var ae=L.getSize(),oe=r.get("align"),ie=r.get("verticalAlign"),le=z&&z.getBoundingRect().clone();if(z&&le.applyTransform(z.transform),isFunction(g)&&(g=g([y,$],V,L.el,le,{viewSize:[j,re],contentSize:ae.slice()})),isArray$1(g))y=parsePercent(g[0],j),$=parsePercent(g[1],re);else if(isObject$3(g)){var ue=g;ue.width=ae[0],ue.height=ae[1];var de=getLayoutRect(ue,{width:j,height:re});y=de.x,$=de.y,oe=null,ie=null}else if(isString(g)&&z){var he=calcTooltipPosition(g,le,ae,r.get("borderWidth"));y=he[0],$=he[1]}else{var he=refixTooltipPosition(y,$,L,j,re,oe?null:20,ie?null:20);y=he[0],$=he[1]}if(oe&&(y-=isCenterAlign(oe)?ae[0]/2:oe==="right"?ae[0]:0),ie&&($-=isCenterAlign(ie)?ae[1]/2:ie==="bottom"?ae[1]:0),shouldTooltipConfine(r)){var he=confineTooltipPosition(y,$,L,j,re);y=he[0],$=he[1]}L.moveTo(y,$)},n.prototype._updateContentNotChangedOnAxis=function(r,g){var y=this._lastDataByCoordSys,$=this._cbParamsList,L=!!y&&y.length===r.length;return L&&each$f(y,function(V,z){var j=V.dataByAxis||[],re=r[z]||{},ae=re.dataByAxis||[];L=L&&j.length===ae.length,L&&each$f(j,function(oe,ie){var le=ae[ie]||{},ue=oe.seriesDataIndices||[],de=le.seriesDataIndices||[];L=L&&oe.value===le.value&&oe.axisType===le.axisType&&oe.axisId===le.axisId&&ue.length===de.length,L&&each$f(ue,function(he,pe){var _e=de[pe];L=L&&he.seriesIndex===_e.seriesIndex&&he.dataIndex===_e.dataIndex}),$&&each$f(oe.seriesDataIndices,function(he){var pe=he.seriesIndex,_e=g[pe],Ce=$[pe];_e&&Ce&&Ce.data!==_e.data&&(L=!1)})})}),this._lastDataByCoordSys=r,this._cbParamsList=g,!!L},n.prototype._hide=function(r){this._lastDataByCoordSys=null,r({type:"hideTip",from:this.uid})},n.prototype.dispose=function(r,g){env.node||!g.getDom()||(clear$1(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",g))},n.type="tooltip",n}(ComponentView);function buildTooltipModel(t,n,r){var g=n.ecModel,y;r?(y=new Model(r,g,g),y=new Model(n.option,y,g)):y=n;for(var $=t.length-1;$>=0;$--){var L=t[$];L&&(L instanceof Model&&(L=L.get("tooltip",!0)),isString(L)&&(L={formatter:L}),L&&(y=new Model(L,y,g)))}return y}function makeDispatchAction(t,n){return t.dispatchAction||bind$1(n.dispatchAction,n)}function refixTooltipPosition(t,n,r,g,y,$,L){var V=r.getSize(),z=V[0],j=V[1];return $!=null&&(t+z+$+2>g?t-=z+$:t+=$),L!=null&&(n+j+L>y?n-=j+L:n+=L),[t,n]}function confineTooltipPosition(t,n,r,g,y){var $=r.getSize(),L=$[0],V=$[1];return t=Math.min(t+L,g)-L,n=Math.min(n+V,y)-V,t=Math.max(t,0),n=Math.max(n,0),[t,n]}function calcTooltipPosition(t,n,r,g){var y=r[0],$=r[1],L=Math.ceil(Math.SQRT2*g)+8,V=0,z=0,j=n.width,re=n.height;switch(t){case"inside":V=n.x+j/2-y/2,z=n.y+re/2-$/2;break;case"top":V=n.x+j/2-y/2,z=n.y-$-L;break;case"bottom":V=n.x+j/2-y/2,z=n.y+re+L;break;case"left":V=n.x-y-L,z=n.y+re/2-$/2;break;case"right":V=n.x+j+L,z=n.y+re/2-$/2}return[V,z]}function isCenterAlign(t){return t==="center"||t==="middle"}function findComponentReference(t,n,r){var g=preParseFinder(t).queryOptionMap,y=g.keys()[0];if(!(!y||y==="series")){var $=queryReferringComponents(n,y,g.get(y),{useDefault:!1,enableAll:!1,enableNone:!1}),L=$.models[0];if(L){var V=r.getViewOfComponentModel(L),z;if(V.group.traverse(function(j){var re=getECData(j).tooltipConfig;if(re&&re.name===t.name)return z=j,!0}),z)return{componentMainType:y,componentIndex:L.componentIndex,el:z}}}}function install$i(t){use(install$q),t.registerComponentModel(TooltipModel),t.registerComponentView(TooltipView),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop)}var DEFAULT_TOOLBOX_BTNS=["rect","polygon","keep","clear"];function brushPreprocessor(t,n){var r=normalizeToArray(t?t.brush:[]);if(r.length){var g=[];each$f(r,function(z){var j=z.hasOwnProperty("toolbox")?z.toolbox:[];j instanceof Array&&(g=g.concat(j))});var y=t&&t.toolbox;isArray$1(y)&&(y=y[0]),y||(y={feature:{}},t.toolbox=[y]);var $=y.feature||(y.feature={}),L=$.brush||($.brush={}),V=L.type||(L.type=[]);V.push.apply(V,g),removeDuplicate(V),n&&!V.length&&V.push.apply(V,DEFAULT_TOOLBOX_BTNS)}}function removeDuplicate(t){var n={};each$f(t,function(r){n[r]=1}),t.length=0,each$f(n,function(r,g){t.push(g)})}var each$4=each$f;function hasKeys(t){if(t){for(var n in t)if(t.hasOwnProperty(n))return!0}}function createVisualMappings(t,n,r){var g={};return each$4(n,function($){var L=g[$]=y();each$4(t[$],function(V,z){if(VisualMapping.isValidType(z)){var j={type:z,visual:V};r&&r(j,$),L[z]=new VisualMapping(j),z==="opacity"&&(j=clone$4(j),j.type="colorAlpha",L.__hidden.__alphaForOpacity=new VisualMapping(j))}})}),g;function y(){var $=function(){};$.prototype.__hidden=$.prototype;var L=new $;return L}}function replaceVisualOption(t,n,r){var g;each$f(r,function(y){n.hasOwnProperty(y)&&hasKeys(n[y])&&(g=!0)}),g&&each$f(r,function(y){n.hasOwnProperty(y)&&hasKeys(n[y])?t[y]=clone$4(n[y]):delete t[y]})}function applyVisual(t,n,r,g,y,$){var L={};each$f(t,function(ae){var oe=VisualMapping.prepareVisualTypes(n[ae]);L[ae]=oe});var V;function z(ae){return getItemVisualFromData(r,V,ae)}function j(ae,oe){setItemVisualFromData(r,V,ae,oe)}r.each(re);function re(ae,oe){V=ae;var ie=r.getRawDataItem(V);if(!(ie&&ie.visualMap===!1))for(var le=g.call(y,ae),ue=n[le],de=L[le],he=0,pe=de.length;he<pe;he++){var _e=de[he];ue[_e]&&ue[_e].applyVisual(ae,z,j)}}}function incrementalApplyVisual(t,n,r,g){var y={};return each$f(t,function($){var L=VisualMapping.prepareVisualTypes(n[$]);y[$]=L}),{progress:function(L,V){var z;g!=null&&(z=V.getDimensionIndex(g));function j(xe){return getItemVisualFromData(V,ae,xe)}function re(xe,Ie){setItemVisualFromData(V,ae,xe,Ie)}for(var ae,oe=V.getStore();(ae=L.next())!=null;){var ie=V.getRawDataItem(ae);if(!(ie&&ie.visualMap===!1))for(var le=g!=null?oe.get(z,ae):ae,ue=r(le),de=n[ue],he=y[ue],pe=0,_e=he.length;pe<_e;pe++){var Ce=he[pe];de[Ce]&&de[Ce].applyVisual(le,j,re)}}}}}function makeBrushCommonSelectorForSeries(t){var n=t.brushType,r={point:function(g){return selector[n].point(g,r,t)},rect:function(g){return selector[n].rect(g,r,t)}};return r}var selector={lineX:getLineSelectors(0),lineY:getLineSelectors(1),rect:{point:function(t,n,r){return t&&r.boundingRect.contain(t[0],t[1])},rect:function(t,n,r){return t&&r.boundingRect.intersect(t)}},polygon:{point:function(t,n,r){return t&&r.boundingRect.contain(t[0],t[1])&&contain(r.range,t[0],t[1])},rect:function(t,n,r){var g=r.range;if(!t||g.length<=1)return!1;var y=t.x,$=t.y,L=t.width,V=t.height,z=g[0];if(contain(g,y,$)||contain(g,y+L,$)||contain(g,y,$+V)||contain(g,y+L,$+V)||BoundingRect.create(t).contain(z[0],z[1])||linePolygonIntersect(y,$,y+L,$,g)||linePolygonIntersect(y,$,y,$+V,g)||linePolygonIntersect(y+L,$,y+L,$+V,g)||linePolygonIntersect(y,$+V,y+L,$+V,g))return!0}}};function getLineSelectors(t){var n=["x","y"],r=["width","height"];return{point:function(g,y,$){if(g){var L=$.range,V=g[t];return inLineRange(V,L)}},rect:function(g,y,$){if(g){var L=$.range,V=[g[n[t]],g[n[t]]+g[r[t]]];return V[1]<V[0]&&V.reverse(),inLineRange(V[0],L)||inLineRange(V[1],L)||inLineRange(L[0],V)||inLineRange(L[1],V)}}}}function inLineRange(t,n){return n[0]<=t&&t<=n[1]}var STATE_LIST=["inBrush","outOfBrush"],DISPATCH_METHOD="__ecBrushSelect",DISPATCH_FLAG="__ecInBrushSelectEvent";function layoutCovers(t){t.eachComponent({mainType:"brush"},function(n){var r=n.brushTargetManager=new BrushTargetManager(n.option,t);r.setInputRanges(n.areas,t)})}function brushVisual(t,n,r){var g=[],y,$;t.eachComponent({mainType:"brush"},function(L){r&&r.type==="takeGlobalCursor"&&L.setBrushOption(r.key==="brush"?r.brushOption:{brushType:!1})}),layoutCovers(t),t.eachComponent({mainType:"brush"},function(L,V){var z={brushId:L.id,brushIndex:V,brushName:L.name,areas:clone$4(L.areas),selected:[]};g.push(z);var j=L.option,re=j.brushLink,ae=[],oe=[],ie=[],le=!1;V||(y=j.throttleType,$=j.throttleDelay);var ue=map$1(L.areas,function(xe){var Ie=boundingRectBuilders[xe.brushType],$e=defaults({boundingRect:Ie?Ie(xe):void 0},xe);return $e.selectors=makeBrushCommonSelectorForSeries($e),$e}),de=createVisualMappings(L.option,STATE_LIST,function(xe){xe.mappingMethod="fixed"});isArray$1(re)&&each$f(re,function(xe){ae[xe]=1});function he(xe){return re==="all"||!!ae[xe]}function pe(xe){return!!xe.length}t.eachSeries(function(xe,Ie){var $e=ie[Ie]=[];xe.subType==="parallel"?_e(xe,Ie):Ce(xe,Ie,$e)});function _e(xe,Ie){var $e=xe.coordinateSystem;le=le||$e.hasAxisBrushed(),he(Ie)&&$e.eachActiveState(xe.getData(),function(Oe,Ne){Oe==="active"&&(oe[Ne]=1)})}function Ce(xe,Ie,$e){if(!(!xe.brushSelector||brushModelNotControll(L,Ie))&&(each$f(ue,function(Ne){L.brushTargetManager.controlSeries(Ne,xe,t)&&$e.push(Ne),le=le||pe($e)}),he(Ie)&&pe($e))){var Oe=xe.getData();Oe.each(function(Ne){checkInRange(xe,$e,Oe,Ne)&&(oe[Ne]=1)})}}t.eachSeries(function(xe,Ie){var $e={seriesId:xe.id,seriesIndex:Ie,seriesName:xe.name,dataIndex:[]};z.selected.push($e);var Oe=ie[Ie],Ne=xe.getData(),Fe=he(Ie)?function(Ve){return oe[Ve]?($e.dataIndex.push(Ne.getRawIndex(Ve)),"inBrush"):"outOfBrush"}:function(Ve){return checkInRange(xe,Oe,Ne,Ve)?($e.dataIndex.push(Ne.getRawIndex(Ve)),"inBrush"):"outOfBrush"};(he(Ie)?le:pe(Oe))&&applyVisual(STATE_LIST,de,Ne,Fe)})}),dispatchAction$1(n,y,$,g,r)}function dispatchAction$1(t,n,r,g,y){if(y){var $=t.getZr();if(!$[DISPATCH_FLAG]){$[DISPATCH_METHOD]||($[DISPATCH_METHOD]=doDispatch);var L=createOrUpdate($,DISPATCH_METHOD,r,n);L(t,g)}}}function doDispatch(t,n){if(!t.isDisposed()){var r=t.getZr();r[DISPATCH_FLAG]=!0,t.dispatchAction({type:"brushSelect",batch:n}),r[DISPATCH_FLAG]=!1}}function checkInRange(t,n,r,g){for(var y=0,$=n.length;y<$;y++){var L=n[y];if(t.brushSelector(g,r,L.selectors,L))return!0}}function brushModelNotControll(t,n){var r=t.option.seriesIndex;return r!=null&&r!=="all"&&(isArray$1(r)?indexOf(r,n)<0:n!==r)}var boundingRectBuilders={rect:function(t){return getBoundingRectFromMinMax(t.range)},polygon:function(t){for(var n,r=t.range,g=0,y=r.length;g<y;g++){n=n||[[1/0,-1/0],[1/0,-1/0]];var $=r[g];$[0]<n[0][0]&&(n[0][0]=$[0]),$[0]>n[0][1]&&(n[0][1]=$[0]),$[1]<n[1][0]&&(n[1][0]=$[1]),$[1]>n[1][1]&&(n[1][1]=$[1])}return n&&getBoundingRectFromMinMax(n)}};function getBoundingRectFromMinMax(t){return new BoundingRect(t[0][0],t[1][0],t[0][1]-t[0][0],t[1][1]-t[1][0])}var BrushView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g){this.ecModel=r,this.api=g,this.model,(this._brushController=new BrushController(g.getZr())).on("brush",bind$1(this._onBrush,this)).mount()},n.prototype.render=function(r,g,y,$){this.model=r,this._updateController(r,g,y,$)},n.prototype.updateTransform=function(r,g,y,$){layoutCovers(g),this._updateController(r,g,y,$)},n.prototype.updateVisual=function(r,g,y,$){this.updateTransform(r,g,y,$)},n.prototype.updateView=function(r,g,y,$){this._updateController(r,g,y,$)},n.prototype._updateController=function(r,g,y,$){(!$||$.$from!==r.id)&&this._brushController.setPanels(r.brushTargetManager.makePanelOpts(y)).enableBrush(r.brushOption).updateCovers(r.areas.slice())},n.prototype.dispose=function(){this._brushController.dispose()},n.prototype._onBrush=function(r){var g=this.model.id,y=this.model.brushTargetManager.setOutputRanges(r.areas,this.ecModel);(!r.isEnd||r.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:g,areas:clone$4(y),$from:g}),r.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:g,areas:clone$4(y),$from:g})},n.type="brush",n}(ComponentView),DEFAULT_OUT_OF_BRUSH_COLOR="#ddd",BrushModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.areas=[],r.brushOption={},r}return n.prototype.optionUpdated=function(r,g){var y=this.option;!g&&replaceVisualOption(y,r,["inBrush","outOfBrush"]);var $=y.inBrush=y.inBrush||{};y.outOfBrush=y.outOfBrush||{color:DEFAULT_OUT_OF_BRUSH_COLOR},$.hasOwnProperty("liftZ")||($.liftZ=5)},n.prototype.setAreas=function(r){r&&(this.areas=map$1(r,function(g){return generateBrushOption(this.option,g)},this))},n.prototype.setBrushOption=function(r){this.brushOption=generateBrushOption(this.option,r),this.brushType=this.brushOption.brushType},n.type="brush",n.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],n.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},n}(ComponentModel);function generateBrushOption(t,n){return merge({brushType:t.brushType,brushMode:t.brushMode,transformable:t.transformable,brushStyle:new Model(t.brushStyle).getItemStyle(),removeOnClick:t.removeOnClick,z:t.z},n,!0)}var ICON_TYPES=["rect","polygon","lineX","lineY","keep","clear"],BrushFeature=function(t){__extends(n,t);function n(){return t!==null&&t.apply(this,arguments)||this}return n.prototype.render=function(r,g,y){var $,L,V;g.eachComponent({mainType:"brush"},function(z){$=z.brushType,L=z.brushOption.brushMode||"single",V=V||!!z.areas.length}),this._brushType=$,this._brushMode=L,each$f(r.get("type",!0),function(z){r.setIconStatus(z,(z==="keep"?L==="multiple":z==="clear"?V:z===$)?"emphasis":"normal")})},n.prototype.updateView=function(r,g,y){this.render(r,g,y)},n.prototype.getIcons=function(){var r=this.model,g=r.get("icon",!0),y={};return each$f(r.get("type",!0),function($){g[$]&&(y[$]=g[$])}),y},n.prototype.onclick=function(r,g,y){var $=this._brushType,L=this._brushMode;y==="clear"?(g.dispatchAction({type:"axisAreaSelect",intervals:[]}),g.dispatchAction({type:"brush",command:"clear",areas:[]})):g.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:y==="keep"?$:$===y?!1:y,brushMode:y==="keep"?L==="multiple"?"single":"multiple":L}})},n.getDefaultOption=function(r){var g={show:!0,type:ICON_TYPES.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:r.getLocaleModel().get(["toolbox","brush","title"])};return g},n}(ToolboxFeature);function install$h(t){t.registerComponentView(BrushView),t.registerComponentModel(BrushModel),t.registerPreprocessor(brushPreprocessor),t.registerVisual(t.PRIORITY.VISUAL.BRUSH,brushVisual),t.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(n,r){r.eachComponent({mainType:"brush",query:n},function(g){g.setAreas(n.areas)})}),t.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},noop),t.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},noop),registerFeature("brush",BrushFeature)}var TitleModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.type="title",n.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},n}(ComponentModel),TitleView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.render=function(r,g,y){if(this.group.removeAll(),!!r.get("show")){var $=this.group,L=r.getModel("textStyle"),V=r.getModel("subtextStyle"),z=r.get("textAlign"),j=retrieve2(r.get("textBaseline"),r.get("textVerticalAlign")),re=new ZRText({style:createTextStyle(L,{text:r.get("text"),fill:L.getTextColor()},{disableBox:!0}),z2:10}),ae=re.getBoundingRect(),oe=r.get("subtext"),ie=new ZRText({style:createTextStyle(V,{text:oe,fill:V.getTextColor(),y:ae.height+r.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),le=r.get("link"),ue=r.get("sublink"),de=r.get("triggerEvent",!0);re.silent=!le&&!de,ie.silent=!ue&&!de,le&&re.on("click",function(){windowOpen(le,"_"+r.get("target"))}),ue&&ie.on("click",function(){windowOpen(ue,"_"+r.get("subtarget"))}),getECData(re).eventData=getECData(ie).eventData=de?{componentType:"title",componentIndex:r.componentIndex}:null,$.add(re),oe&&$.add(ie);var he=$.getBoundingRect(),pe=r.getBoxLayoutParams();pe.width=he.width,pe.height=he.height;var _e=getLayoutRect(pe,{width:y.getWidth(),height:y.getHeight()},r.get("padding"));z||(z=r.get("left")||r.get("right"),z==="middle"&&(z="center"),z==="right"?_e.x+=_e.width:z==="center"&&(_e.x+=_e.width/2)),j||(j=r.get("top")||r.get("bottom"),j==="center"&&(j="middle"),j==="bottom"?_e.y+=_e.height:j==="middle"&&(_e.y+=_e.height/2),j=j||"top"),$.x=_e.x,$.y=_e.y,$.markRedraw();var Ce={align:z,verticalAlign:j};re.setStyle(Ce),ie.setStyle(Ce),he=$.getBoundingRect();var xe=_e.margin,Ie=r.getItemStyle(["color","opacity"]);Ie.fill=r.get("backgroundColor");var $e=new Rect$2({shape:{x:he.x-xe[3],y:he.y-xe[0],width:he.width+xe[1]+xe[3],height:he.height+xe[0]+xe[2],r:r.get("borderRadius")},style:Ie,subPixelOptimize:!0,silent:!0});$.add($e)}},n.type="title",n}(ComponentView);function install$g(t){t.registerComponentModel(TitleModel),t.registerComponentView(TitleView)}var TimelineModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode="box",r}return n.prototype.init=function(r,g,y){this.mergeDefaultAndTheme(r,y),this._initData()},n.prototype.mergeOption=function(r){t.prototype.mergeOption.apply(this,arguments),this._initData()},n.prototype.setCurrentIndex=function(r){r==null&&(r=this.option.currentIndex);var g=this._data.count();this.option.loop?r=(r%g+g)%g:(r>=g&&(r=g-1),r<0&&(r=0)),this.option.currentIndex=r},n.prototype.getCurrentIndex=function(){return this.option.currentIndex},n.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},n.prototype.setPlayState=function(r){this.option.autoPlay=!!r},n.prototype.getPlayState=function(){return!!this.option.autoPlay},n.prototype._initData=function(){var r=this.option,g=r.data||[],y=r.axisType,$=this._names=[],L;y==="category"?(L=[],each$f(g,function(j,re){var ae=convertOptionIdName(getDataItemValue(j),""),oe;isObject$3(j)?(oe=clone$4(j),oe.value=re):oe=re,L.push(oe),$.push(ae)})):L=g;var V={category:"ordinal",time:"time",value:"number"}[y]||"number",z=this._data=new SeriesData([{name:"value",type:V}],this);z.initData(L,$)},n.prototype.getData=function(){return this._data},n.prototype.getCategories=function(){if(this.get("axisType")==="category")return this._names.slice()},n.type="timeline",n.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},n}(ComponentModel),SliderTimelineModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline.slider",n.defaultOption=inheritDefaultOption(TimelineModel.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),n}(TimelineModel);mixin(SliderTimelineModel,DataFormatMixin.prototype);var TimelineView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="timeline",n}(ComponentView),TimelineAxis=function(t){__extends(n,t);function n(r,g,y,$){var L=t.call(this,r,g,y)||this;return L.type=$||"value",L}return n.prototype.getLabelModel=function(){return this.model.getModel("label")},n.prototype.isHorizontal=function(){return this.model.get("orient")==="horizontal"},n}(Axis),PI=Math.PI,labelDataIndexStore=makeInner(),SliderTimelineView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(r,g){this.api=g},n.prototype.render=function(r,g,y){if(this.model=r,this.api=y,this.ecModel=g,this.group.removeAll(),r.get("show",!0)){var $=this._layout(r,y),L=this._createGroup("_mainGroup"),V=this._createGroup("_labelGroup"),z=this._axis=this._createAxis($,r);r.formatTooltip=function(j){var re=z.scale.getLabel({value:j});return createTooltipMarkup("nameValue",{noName:!0,value:re})},each$f(["AxisLine","AxisTick","Control","CurrentPointer"],function(j){this["_render"+j]($,L,z,r)},this),this._renderAxisLabel($,V,z,r),this._position($,r)}this._doPlayStop(),this._updateTicksStatus()},n.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},n.prototype.dispose=function(){this._clearTimer()},n.prototype._layout=function(r,g){var y=r.get(["label","position"]),$=r.get("orient"),L=getViewRect(r,g),V;y==null||y==="auto"?V=$==="horizontal"?L.y+L.height/2<g.getHeight()/2?"-":"+":L.x+L.width/2<g.getWidth()/2?"+":"-":isString(y)?V={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[$][y]:V=y;var z={horizontal:"center",vertical:V>=0||V==="+"?"left":"right"},j={horizontal:V>=0||V==="+"?"top":"bottom",vertical:"middle"},re={horizontal:0,vertical:PI/2},ae=$==="vertical"?L.height:L.width,oe=r.getModel("controlStyle"),ie=oe.get("show",!0),le=ie?oe.get("itemSize"):0,ue=ie?oe.get("itemGap"):0,de=le+ue,he=r.get(["label","rotate"])||0;he=he*PI/180;var pe,_e,Ce,xe=oe.get("position",!0),Ie=ie&&oe.get("showPlayBtn",!0),$e=ie&&oe.get("showPrevBtn",!0),Oe=ie&&oe.get("showNextBtn",!0),Ne=0,Fe=ae;xe==="left"||xe==="bottom"?(Ie&&(pe=[0,0],Ne+=de),$e&&(_e=[Ne,0],Ne+=de),Oe&&(Ce=[Fe-le,0],Fe-=de)):(Ie&&(pe=[Fe-le,0],Fe-=de),$e&&(_e=[0,0],Ne+=de),Oe&&(Ce=[Fe-le,0],Fe-=de));var Ve=[Ne,Fe];return r.get("inverse")&&Ve.reverse(),{viewRect:L,mainLength:ae,orient:$,rotation:re[$],labelRotation:he,labelPosOpt:V,labelAlign:r.get(["label","align"])||z[$],labelBaseline:r.get(["label","verticalAlign"])||r.get(["label","baseline"])||j[$],playPosition:pe,prevBtnPosition:_e,nextBtnPosition:Ce,axisExtent:Ve,controlSize:le,controlGap:ue}},n.prototype._position=function(r,g){var y=this._mainGroup,$=this._labelGroup,L=r.viewRect;if(r.orient==="vertical"){var V=create$1(),z=L.x,j=L.y+L.height;translate(V,V,[-z,-j]),rotate(V,V,-PI/2),translate(V,V,[z,j]),L=L.clone(),L.applyTransform(V)}var re=pe(L),ae=pe(y.getBoundingRect()),oe=pe($.getBoundingRect()),ie=[y.x,y.y],le=[$.x,$.y];le[0]=ie[0]=re[0][0];var ue=r.labelPosOpt;if(ue==null||isString(ue)){var de=ue==="+"?0:1;_e(ie,ae,re,1,de),_e(le,oe,re,1,1-de)}else{var de=ue>=0?0:1;_e(ie,ae,re,1,de),le[1]=ie[1]+ue}y.setPosition(ie),$.setPosition(le),y.rotation=$.rotation=r.rotation,he(y),he($);function he(Ce){Ce.originX=re[0][0]-Ce.x,Ce.originY=re[1][0]-Ce.y}function pe(Ce){return[[Ce.x,Ce.x+Ce.width],[Ce.y,Ce.y+Ce.height]]}function _e(Ce,xe,Ie,$e,Oe){Ce[$e]+=Ie[$e][Oe]-xe[$e][Oe]}},n.prototype._createAxis=function(r,g){var y=g.getData(),$=g.get("axisType"),L=createScaleByModel(g,$);L.getTicks=function(){return y.mapArray(["value"],function(j){return{value:j}})};var V=y.getDataExtent("value");L.setExtent(V[0],V[1]),L.calcNiceTicks();var z=new TimelineAxis("value",L,r.axisExtent,$);return z.model=g,z},n.prototype._createGroup=function(r){var g=this[r]=new Group$3;return this.group.add(g),g},n.prototype._renderAxisLine=function(r,g,y,$){var L=y.getExtent();if($.get(["lineStyle","show"])){var V=new Line$1({shape:{x1:L[0],y1:0,x2:L[1],y2:0},style:extend({lineCap:"round"},$.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});g.add(V);var z=this._progressLine=new Line$1({shape:{x1:L[0],x2:this._currentPointer?this._currentPointer.x:L[0],y1:0,y2:0},style:defaults({lineCap:"round",lineWidth:V.style.lineWidth},$.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});g.add(z)}},n.prototype._renderAxisTick=function(r,g,y,$){var L=this,V=$.getData(),z=y.scale.getTicks();this._tickSymbols=[],each$f(z,function(j){var re=y.dataToCoord(j.value),ae=V.getItemModel(j.value),oe=ae.getModel("itemStyle"),ie=ae.getModel(["emphasis","itemStyle"]),le=ae.getModel(["progress","itemStyle"]),ue={x:re,y:0,onclick:bind$1(L._changeTimeline,L,j.value)},de=giveSymbol(ae,oe,g,ue);de.ensureState("emphasis").style=ie.getItemStyle(),de.ensureState("progress").style=le.getItemStyle(),enableHoverEmphasis(de);var he=getECData(de);ae.get("tooltip")?(he.dataIndex=j.value,he.dataModel=$):he.dataIndex=he.dataModel=null,L._tickSymbols.push(de)})},n.prototype._renderAxisLabel=function(r,g,y,$){var L=this,V=y.getLabelModel();if(V.get("show")){var z=$.getData(),j=y.getViewLabels();this._tickLabels=[],each$f(j,function(re){var ae=re.tickValue,oe=z.getItemModel(ae),ie=oe.getModel("label"),le=oe.getModel(["emphasis","label"]),ue=oe.getModel(["progress","label"]),de=y.dataToCoord(re.tickValue),he=new ZRText({x:de,y:0,rotation:r.labelRotation-r.rotation,onclick:bind$1(L._changeTimeline,L,ae),silent:!1,style:createTextStyle(ie,{text:re.formattedLabel,align:r.labelAlign,verticalAlign:r.labelBaseline})});he.ensureState("emphasis").style=createTextStyle(le),he.ensureState("progress").style=createTextStyle(ue),g.add(he),enableHoverEmphasis(he),labelDataIndexStore(he).dataIndex=ae,L._tickLabels.push(he)})}},n.prototype._renderControl=function(r,g,y,$){var L=r.controlSize,V=r.rotation,z=$.getModel("controlStyle").getItemStyle(),j=$.getModel(["emphasis","controlStyle"]).getItemStyle(),re=$.getPlayState(),ae=$.get("inverse",!0);oe(r.nextBtnPosition,"next",bind$1(this._changeTimeline,this,ae?"-":"+")),oe(r.prevBtnPosition,"prev",bind$1(this._changeTimeline,this,ae?"+":"-")),oe(r.playPosition,re?"stop":"play",bind$1(this._handlePlayClick,this,!re),!0);function oe(ie,le,ue,de){if(ie){var he=parsePercent$1(retrieve2($.get(["controlStyle",le+"BtnSize"]),L),L),pe=[0,-he/2,he,he],_e=makeControlIcon($,le+"Icon",pe,{x:ie[0],y:ie[1],originX:L/2,originY:0,rotation:de?-V:0,rectHover:!0,style:z,onclick:ue});_e.ensureState("emphasis").style=j,g.add(_e),enableHoverEmphasis(_e)}}},n.prototype._renderCurrentPointer=function(r,g,y,$){var L=$.getData(),V=$.getCurrentIndex(),z=L.getItemModel(V).getModel("checkpointStyle"),j=this,re={onCreate:function(ae){ae.draggable=!0,ae.drift=bind$1(j._handlePointerDrag,j),ae.ondragend=bind$1(j._handlePointerDragend,j),pointerMoveTo(ae,j._progressLine,V,y,$,!0)},onUpdate:function(ae){pointerMoveTo(ae,j._progressLine,V,y,$)}};this._currentPointer=giveSymbol(z,z,this._mainGroup,{},this._currentPointer,re)},n.prototype._handlePlayClick=function(r){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:r,from:this.uid})},n.prototype._handlePointerDrag=function(r,g,y){this._clearTimer(),this._pointerChangeTimeline([y.offsetX,y.offsetY])},n.prototype._handlePointerDragend=function(r){this._pointerChangeTimeline([r.offsetX,r.offsetY],!0)},n.prototype._pointerChangeTimeline=function(r,g){var y=this._toAxisCoord(r)[0],$=this._axis,L=asc$2($.getExtent().slice());y>L[1]&&(y=L[1]),y<L[0]&&(y=L[0]),this._currentPointer.x=y,this._currentPointer.markRedraw();var V=this._progressLine;V&&(V.shape.x2=y,V.dirty());var z=this._findNearestTick(y),j=this.model;(g||z!==j.getCurrentIndex()&&j.get("realtime"))&&this._changeTimeline(z)},n.prototype._doPlayStop=function(){var r=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var g=r.model;r._changeTimeline(g.getCurrentIndex()+(g.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},n.prototype._toAxisCoord=function(r){var g=this._mainGroup.getLocalTransform();return applyTransform(r,g,!0)},n.prototype._findNearestTick=function(r){var g=this.model.getData(),y=1/0,$,L=this._axis;return g.each(["value"],function(V,z){var j=L.dataToCoord(V),re=Math.abs(j-r);re<y&&(y=re,$=z)}),$},n.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},n.prototype._changeTimeline=function(r){var g=this.model.getCurrentIndex();r==="+"?r=g+1:r==="-"&&(r=g-1),this.api.dispatchAction({type:"timelineChange",currentIndex:r,from:this.uid})},n.prototype._updateTicksStatus=function(){var r=this.model.getCurrentIndex(),g=this._tickSymbols,y=this._tickLabels;if(g)for(var $=0;$<g.length;$++)g&&g[$]&&g[$].toggleState("progress",$<r);if(y)for(var $=0;$<y.length;$++)y&&y[$]&&y[$].toggleState("progress",labelDataIndexStore(y[$]).dataIndex<=r)},n.type="timeline.slider",n}(TimelineView);function createScaleByModel(t,n){if(n=n||t.get("type"),n)switch(n){case"category":return new OrdinalScale({ordinalMeta:t.getCategories(),extent:[1/0,-1/0]});case"time":return new TimeScale({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new IntervalScale}}function getViewRect(t,n){return getLayoutRect(t.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()},t.get("padding"))}function makeControlIcon(t,n,r,g){var y=g.style,$=createIcon(t.get(["controlStyle",n]),g||{},new BoundingRect(r[0],r[1],r[2],r[3]));return y&&$.setStyle(y),$}function giveSymbol(t,n,r,g,y,$){var L=n.get("color");if(y)y.setColor(L),r.add(y),$&&$.onUpdate(y);else{var V=t.get("symbol");y=createSymbol$1(V,-1,-1,2,2,L),y.setStyle("strokeNoScale",!0),r.add(y),$&&$.onCreate(y)}var z=n.getItemStyle(["color"]);y.setStyle(z),g=merge({rectHover:!0,z2:100},g,!0);var j=normalizeSymbolSize(t.get("symbolSize"));g.scaleX=j[0]/2,g.scaleY=j[1]/2;var re=normalizeSymbolOffset(t.get("symbolOffset"),j);re&&(g.x=(g.x||0)+re[0],g.y=(g.y||0)+re[1]);var ae=t.get("symbolRotate");return g.rotation=(ae||0)*Math.PI/180||0,y.attr(g),y.updateTransform(),y}function pointerMoveTo(t,n,r,g,y,$){if(!t.dragging){var L=y.getModel("checkpointStyle"),V=g.dataToCoord(y.getData().get("value",r));if($||!L.get("animation",!0))t.attr({x:V,y:0}),n&&n.attr({shape:{x2:V}});else{var z={duration:L.get("animationDuration",!0),easing:L.get("animationEasing",!0)};t.stopAnimation(null,!0),t.animateTo({x:V,y:0},z),n&&n.animateTo({shape:{x2:V}},z)}}}function installTimelineAction(t){t.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,r,g){var y=r.getComponent("timeline");return y&&n.currentIndex!=null&&(y.setCurrentIndex(n.currentIndex),!y.get("loop",!0)&&y.isIndexMax()&&y.getPlayState()&&(y.setPlayState(!1),g.dispatchAction({type:"timelinePlayChange",playState:!1,from:n.from}))),r.resetOption("timeline",{replaceMerge:y.get("replaceMerge",!0)}),defaults({currentIndex:y.option.currentIndex},n)}),t.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,r){var g=r.getComponent("timeline");g&&n.playState!=null&&g.setPlayState(n.playState)})}function timelinePreprocessor(t){var n=t&&t.timeline;isArray$1(n)||(n=n?[n]:[]),each$f(n,function(r){r&&compatibleEC2(r)})}function compatibleEC2(t){var n=t.type,r={number:"value",time:"time"};if(r[n]&&(t.axisType=r[n],delete t.type),transferItem(t),has$1(t,"controlPosition")){var g=t.controlStyle||(t.controlStyle={});has$1(g,"position")||(g.position=t.controlPosition),g.position==="none"&&!has$1(g,"show")&&(g.show=!1,delete g.position),delete t.controlPosition}each$f(t.data||[],function(y){isObject$3(y)&&!isArray$1(y)&&(!has$1(y,"value")&&has$1(y,"name")&&(y.value=y.name),transferItem(y))})}function transferItem(t){var n=t.itemStyle||(t.itemStyle={}),r=n.emphasis||(n.emphasis={}),g=t.label||t.label||{},y=g.normal||(g.normal={}),$={normal:1,emphasis:1};each$f(g,function(L,V){!$[V]&&!has$1(y,V)&&(y[V]=L)}),r.label&&!has$1(g,"emphasis")&&(g.emphasis=r.label,delete r.label)}function has$1(t,n){return t.hasOwnProperty(n)}function install$f(t){t.registerComponentModel(SliderTimelineModel),t.registerComponentView(SliderTimelineView),t.registerSubTypeDefaulter("timeline",function(){return"slider"}),installTimelineAction(t),t.registerPreprocessor(timelinePreprocessor)}function checkMarkerInSeries(t,n){if(!t)return!1;for(var r=isArray$1(t)?t:[t],g=0;g<r.length;g++)if(r[g]&&r[g][n])return!0;return!1}function fillLabel(t){defaultEmphasis(t,"label",["show"])}var inner$5=makeInner(),MarkerModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.createdBySelf=!1,r}return n.prototype.init=function(r,g,y){this.mergeDefaultAndTheme(r,y),this._mergeOption(r,y,!1,!0)},n.prototype.isAnimationEnabled=function(){if(env.node)return!1;var r=this.__hostSeries;return this.getShallow("animation")&&r&&r.isAnimationEnabled()},n.prototype.mergeOption=function(r,g){this._mergeOption(r,g,!1,!1)},n.prototype._mergeOption=function(r,g,y,$){var L=this.mainType;y||g.eachSeries(function(V){var z=V.get(this.mainType,!0),j=inner$5(V)[L];if(!z||!z.data){inner$5(V)[L]=null;return}j?j._mergeOption(z,g,!0):($&&fillLabel(z),each$f(z.data,function(re){re instanceof Array?(fillLabel(re[0]),fillLabel(re[1])):fillLabel(re)}),j=this.createMarkerModelFromSeries(z,this,g),extend(j,{mainType:this.mainType,seriesIndex:V.seriesIndex,name:V.name,createdBySelf:!0}),j.__hostSeries=V),inner$5(V)[L]=j},this)},n.prototype.formatTooltip=function(r,g,y){var $=this.getData(),L=this.getRawValue(r),V=$.getName(r);return createTooltipMarkup("section",{header:this.name,blocks:[createTooltipMarkup("nameValue",{name:V,value:L,noName:!V,noValue:L==null})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(r){this._data=r},n.prototype.getDataParams=function(r,g){var y=DataFormatMixin.prototype.getDataParams.call(this,r,g),$=this.__hostSeries;return $&&(y.seriesId=$.id,y.seriesName=$.name,y.seriesType=$.subType),y},n.getMarkerModelFromSeries=function(r,g){return inner$5(r)[g]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(ComponentModel);mixin(MarkerModel,DataFormatMixin.prototype);var MarkPointModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,g,y){return new n(r,g,y)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(MarkerModel);function hasXOrY(t){return!(isNaN(parseFloat(t.x))&&isNaN(parseFloat(t.y)))}function hasXAndY(t){return!isNaN(parseFloat(t.x))&&!isNaN(parseFloat(t.y))}function markerTypeCalculatorWithExtent(t,n,r,g,y,$){var L=[],V=isDimensionStacked(n,g),z=V?n.getCalculationInfo("stackResultDimension"):g,j=numCalculate(n,z,t),re=n.indicesOfNearest(z,j)[0];L[y]=n.get(r,re),L[$]=n.get(z,re);var ae=n.get(g,re),oe=getPrecision(n.get(g,re));return oe=Math.min(oe,20),oe>=0&&(L[$]=+L[$].toFixed(oe)),[L,ae]}var markerTypeCalculator={min:curry$1(markerTypeCalculatorWithExtent,"min"),max:curry$1(markerTypeCalculatorWithExtent,"max"),average:curry$1(markerTypeCalculatorWithExtent,"average"),median:curry$1(markerTypeCalculatorWithExtent,"median")};function dataTransform(t,n){if(n){var r=t.getData(),g=t.coordinateSystem,y=g&&g.dimensions;if(!hasXAndY(n)&&!isArray$1(n.coord)&&isArray$1(y)){var $=getAxisInfo(n,r,g,t);if(n=clone$4(n),n.type&&markerTypeCalculator[n.type]&&$.baseAxis&&$.valueAxis){var L=indexOf(y,$.baseAxis.dim),V=indexOf(y,$.valueAxis.dim),z=markerTypeCalculator[n.type](r,$.baseDataDim,$.valueDataDim,L,V);n.coord=z[0],n.value=z[1]}else n.coord=[n.xAxis!=null?n.xAxis:n.radiusAxis,n.yAxis!=null?n.yAxis:n.angleAxis]}if(n.coord==null||!isArray$1(y))n.coord=[];else for(var j=n.coord,re=0;re<2;re++)markerTypeCalculator[j[re]]&&(j[re]=numCalculate(r,r.mapDimension(y[re]),j[re]));return n}}function getAxisInfo(t,n,r,g){var y={};return t.valueIndex!=null||t.valueDim!=null?(y.valueDataDim=t.valueIndex!=null?n.getDimension(t.valueIndex):t.valueDim,y.valueAxis=r.getAxis(dataDimToCoordDim(g,y.valueDataDim)),y.baseAxis=r.getOtherAxis(y.valueAxis),y.baseDataDim=n.mapDimension(y.baseAxis.dim)):(y.baseAxis=g.getBaseAxis(),y.valueAxis=r.getOtherAxis(y.baseAxis),y.baseDataDim=n.mapDimension(y.baseAxis.dim),y.valueDataDim=n.mapDimension(y.valueAxis.dim)),y}function dataDimToCoordDim(t,n){var r=t.getData().getDimensionInfo(n);return r&&r.coordDim}function dataFilter(t,n){return t&&t.containData&&n.coord&&!hasXOrY(n)?t.containData(n.coord):!0}function zoneFilter(t,n,r){return t&&t.containZone&&n.coord&&r.coord&&!hasXOrY(n)&&!hasXOrY(r)?t.containZone(n.coord,r.coord):!0}function createMarkerDimValueGetter(t,n){return t?function(r,g,y,$){var L=$<2?r.coord&&r.coord[$]:r.value;return parseDataValue(L,n[$])}:function(r,g,y,$){return parseDataValue(r.value,n[$])}}function numCalculate(t,n,r){if(r==="average"){var g=0,y=0;return t.each(n,function($,L){isNaN($)||(g+=$,y++)}),g/y}else return r==="median"?t.getMedian(n):t.getDataExtent(n)[r==="max"?1:0]}var inner$4=makeInner(),MarkerView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.init=function(){this.markerGroupMap=createHashMap()},n.prototype.render=function(r,g,y){var $=this,L=this.markerGroupMap;L.each(function(V){inner$4(V).keep=!1}),g.eachSeries(function(V){var z=MarkerModel.getMarkerModelFromSeries(V,$.type);z&&$.renderSeries(V,z,g,y)}),L.each(function(V){!inner$4(V).keep&&$.group.remove(V.group)})},n.prototype.markKeep=function(r){inner$4(r).keep=!0},n.prototype.toggleBlurSeries=function(r,g){var y=this;each$f(r,function($){var L=MarkerModel.getMarkerModelFromSeries($,y.type);if(L){var V=L.getData();V.eachItemGraphicEl(function(z){z&&(g?enterBlur(z):leaveBlur(z))})}})},n.type="marker",n}(ComponentView);function updateMarkerLayout(t,n,r){var g=n.coordinateSystem;t.each(function(y){var $=t.getItemModel(y),L,V=parsePercent($.get("x"),r.getWidth()),z=parsePercent($.get("y"),r.getHeight());if(!isNaN(V)&&!isNaN(z))L=[V,z];else if(n.getMarkerPosition)L=n.getMarkerPosition(t.getValues(t.dimensions,y));else if(g){var j=t.get(g.dimensions[0],y),re=t.get(g.dimensions[1],y);L=g.dataToPoint([j,re])}isNaN(V)||(L[0]=V),isNaN(z)||(L[1]=z),t.setItemLayout(y,L)})}var MarkPointView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,g,y){g.eachSeries(function($){var L=MarkerModel.getMarkerModelFromSeries($,"markPoint");L&&(updateMarkerLayout(L.getData(),$,y),this.markerGroupMap.get($.id).updateLayout())},this)},n.prototype.renderSeries=function(r,g,y,$){var L=r.coordinateSystem,V=r.id,z=r.getData(),j=this.markerGroupMap,re=j.get(V)||j.set(V,new SymbolDraw),ae=createData(L,r,g);g.setData(ae),updateMarkerLayout(g.getData(),r,$),ae.each(function(oe){var ie=ae.getItemModel(oe),le=ie.getShallow("symbol"),ue=ie.getShallow("symbolSize"),de=ie.getShallow("symbolRotate"),he=ie.getShallow("symbolOffset"),pe=ie.getShallow("symbolKeepAspect");if(isFunction(le)||isFunction(ue)||isFunction(de)||isFunction(he)){var _e=g.getRawValue(oe),Ce=g.getDataParams(oe);isFunction(le)&&(le=le(_e,Ce)),isFunction(ue)&&(ue=ue(_e,Ce)),isFunction(de)&&(de=de(_e,Ce)),isFunction(he)&&(he=he(_e,Ce))}var xe=ie.getModel("itemStyle").getItemStyle(),Ie=getVisualFromData(z,"color");xe.fill||(xe.fill=Ie),ae.setItemVisual(oe,{symbol:le,symbolSize:ue,symbolRotate:de,symbolOffset:he,symbolKeepAspect:pe,style:xe})}),re.updateData(ae),this.group.add(re.group),ae.eachItemGraphicEl(function(oe){oe.traverse(function(ie){getECData(ie).dataModel=g})}),this.markKeep(re),re.group.silent=g.get("silent")||r.get("silent")},n.type="markPoint",n}(MarkerView);function createData(t,n,r){var g;t?g=map$1(t&&t.dimensions,function(V){var z=n.getData().getDimensionInfo(n.getData().mapDimension(V))||{};return extend(extend({},z),{name:V,ordinalMeta:null})}):g=[{name:"value",type:"float"}];var y=new SeriesData(g,r),$=map$1(r.get("data"),curry$1(dataTransform,n));t&&($=filter($,curry$1(dataFilter,t)));var L=createMarkerDimValueGetter(!!t,g);return y.initData($,null,L),y}function install$e(t){t.registerComponentModel(MarkPointModel),t.registerComponentView(MarkPointView),t.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})}var MarkLineModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,g,y){return new n(r,g,y)},n.type="markLine",n.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},n}(MarkerModel),inner$3=makeInner(),markLineTransform=function(t,n,r,g){var y=t.getData(),$;if(isArray$1(g))$=g;else{var L=g.type;if(L==="min"||L==="max"||L==="average"||L==="median"||g.xAxis!=null||g.yAxis!=null){var V=void 0,z=void 0;if(g.yAxis!=null||g.xAxis!=null)V=n.getAxis(g.yAxis!=null?"y":"x"),z=retrieve(g.yAxis,g.xAxis);else{var j=getAxisInfo(g,y,n,t);V=j.valueAxis;var re=getStackedDimension(y,j.valueDataDim);z=numCalculate(y,re,L)}var ae=V.dim==="x"?0:1,oe=1-ae,ie=clone$4(g),le={coord:[]};ie.type=null,ie.coord=[],ie.coord[oe]=-1/0,le.coord[oe]=1/0;var ue=r.get("precision");ue>=0&&isNumber(z)&&(z=+z.toFixed(Math.min(ue,20))),ie.coord[ae]=le.coord[ae]=z,$=[ie,le,{type:L,valueIndex:g.valueIndex,value:z}]}else $=[]}var de=[dataTransform(t,$[0]),dataTransform(t,$[1]),extend({},$[2])];return de[2].type=de[2].type||null,merge(de[2],de[0]),merge(de[2],de[1]),de};function isInfinity$1(t){return!isNaN(t)&&!isFinite(t)}function ifMarkLineHasOnlyDim(t,n,r,g){var y=1-t,$=g.dimensions[t];return isInfinity$1(n[y])&&isInfinity$1(r[y])&&n[t]===r[t]&&g.getAxis($).containData(n[t])}function markLineFilter(t,n){if(t.type==="cartesian2d"){var r=n[0].coord,g=n[1].coord;if(r&&g&&(ifMarkLineHasOnlyDim(1,r,g,t)||ifMarkLineHasOnlyDim(0,r,g,t)))return!0}return dataFilter(t,n[0])&&dataFilter(t,n[1])}function updateSingleMarkerEndLayout(t,n,r,g,y){var $=g.coordinateSystem,L=t.getItemModel(n),V,z=parsePercent(L.get("x"),y.getWidth()),j=parsePercent(L.get("y"),y.getHeight());if(!isNaN(z)&&!isNaN(j))V=[z,j];else{if(g.getMarkerPosition)V=g.getMarkerPosition(t.getValues(t.dimensions,n));else{var re=$.dimensions,ae=t.get(re[0],n),oe=t.get(re[1],n);V=$.dataToPoint([ae,oe])}if(isCoordinateSystemType($,"cartesian2d")){var ie=$.getAxis("x"),le=$.getAxis("y"),re=$.dimensions;isInfinity$1(t.get(re[0],n))?V[0]=ie.toGlobalCoord(ie.getExtent()[r?0:1]):isInfinity$1(t.get(re[1],n))&&(V[1]=le.toGlobalCoord(le.getExtent()[r?0:1]))}isNaN(z)||(V[0]=z),isNaN(j)||(V[1]=j)}t.setItemLayout(n,V)}var MarkLineView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,g,y){g.eachSeries(function($){var L=MarkerModel.getMarkerModelFromSeries($,"markLine");if(L){var V=L.getData(),z=inner$3(L).from,j=inner$3(L).to;z.each(function(re){updateSingleMarkerEndLayout(z,re,!0,$,y),updateSingleMarkerEndLayout(j,re,!1,$,y)}),V.each(function(re){V.setItemLayout(re,[z.getItemLayout(re),j.getItemLayout(re)])}),this.markerGroupMap.get($.id).updateLayout()}},this)},n.prototype.renderSeries=function(r,g,y,$){var L=r.coordinateSystem,V=r.id,z=r.getData(),j=this.markerGroupMap,re=j.get(V)||j.set(V,new LineDraw);this.group.add(re.group);var ae=createList$1(L,r,g),oe=ae.from,ie=ae.to,le=ae.line;inner$3(g).from=oe,inner$3(g).to=ie,g.setData(le);var ue=g.get("symbol"),de=g.get("symbolSize"),he=g.get("symbolRotate"),pe=g.get("symbolOffset");isArray$1(ue)||(ue=[ue,ue]),isArray$1(de)||(de=[de,de]),isArray$1(he)||(he=[he,he]),isArray$1(pe)||(pe=[pe,pe]),ae.from.each(function(Ce){_e(oe,Ce,!0),_e(ie,Ce,!1)}),le.each(function(Ce){var xe=le.getItemModel(Ce).getModel("lineStyle").getLineStyle();le.setItemLayout(Ce,[oe.getItemLayout(Ce),ie.getItemLayout(Ce)]),xe.stroke==null&&(xe.stroke=oe.getItemVisual(Ce,"style").fill),le.setItemVisual(Ce,{fromSymbolKeepAspect:oe.getItemVisual(Ce,"symbolKeepAspect"),fromSymbolOffset:oe.getItemVisual(Ce,"symbolOffset"),fromSymbolRotate:oe.getItemVisual(Ce,"symbolRotate"),fromSymbolSize:oe.getItemVisual(Ce,"symbolSize"),fromSymbol:oe.getItemVisual(Ce,"symbol"),toSymbolKeepAspect:ie.getItemVisual(Ce,"symbolKeepAspect"),toSymbolOffset:ie.getItemVisual(Ce,"symbolOffset"),toSymbolRotate:ie.getItemVisual(Ce,"symbolRotate"),toSymbolSize:ie.getItemVisual(Ce,"symbolSize"),toSymbol:ie.getItemVisual(Ce,"symbol"),style:xe})}),re.updateData(le),ae.line.eachItemGraphicEl(function(Ce){getECData(Ce).dataModel=g,Ce.traverse(function(xe){getECData(xe).dataModel=g})});function _e(Ce,xe,Ie){var $e=Ce.getItemModel(xe);updateSingleMarkerEndLayout(Ce,xe,Ie,r,$);var Oe=$e.getModel("itemStyle").getItemStyle();Oe.fill==null&&(Oe.fill=getVisualFromData(z,"color")),Ce.setItemVisual(xe,{symbolKeepAspect:$e.get("symbolKeepAspect"),symbolOffset:retrieve2($e.get("symbolOffset",!0),pe[Ie?0:1]),symbolRotate:retrieve2($e.get("symbolRotate",!0),he[Ie?0:1]),symbolSize:retrieve2($e.get("symbolSize"),de[Ie?0:1]),symbol:retrieve2($e.get("symbol",!0),ue[Ie?0:1]),style:Oe})}this.markKeep(re),re.group.silent=g.get("silent")||r.get("silent")},n.type="markLine",n}(MarkerView);function createList$1(t,n,r){var g;t?g=map$1(t&&t.dimensions,function(j){var re=n.getData().getDimensionInfo(n.getData().mapDimension(j))||{};return extend(extend({},re),{name:j,ordinalMeta:null})}):g=[{name:"value",type:"float"}];var y=new SeriesData(g,r),$=new SeriesData(g,r),L=new SeriesData([],r),V=map$1(r.get("data"),curry$1(markLineTransform,n,t,r));t&&(V=filter(V,curry$1(markLineFilter,t)));var z=createMarkerDimValueGetter(!!t,g);return y.initData(map$1(V,function(j){return j[0]}),null,z),$.initData(map$1(V,function(j){return j[1]}),null,z),L.initData(map$1(V,function(j){return j[2]})),L.hasItemOption=!0,{from:y,to:$,line:L}}function install$d(t){t.registerComponentModel(MarkLineModel),t.registerComponentView(MarkLineView),t.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markLine")&&(n.markLine=n.markLine||{})})}var MarkAreaModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.createMarkerModelFromSeries=function(r,g,y){return new n(r,g,y)},n.type="markArea",n.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},n}(MarkerModel),inner$2=makeInner(),markAreaTransform=function(t,n,r,g){var y=g[0],$=g[1];if(!(!y||!$)){var L=dataTransform(t,y),V=dataTransform(t,$),z=L.coord,j=V.coord;z[0]=retrieve(z[0],-1/0),z[1]=retrieve(z[1],-1/0),j[0]=retrieve(j[0],1/0),j[1]=retrieve(j[1],1/0);var re=mergeAll([{},L,V]);return re.coord=[L.coord,V.coord],re.x0=L.x,re.y0=L.y,re.x1=V.x,re.y1=V.y,re}};function isInfinity(t){return!isNaN(t)&&!isFinite(t)}function ifMarkAreaHasOnlyDim(t,n,r,g){var y=1-t;return isInfinity(n[y])&&isInfinity(r[y])}function markAreaFilter(t,n){var r=n.coord[0],g=n.coord[1],y={coord:r,x:n.x0,y:n.y0},$={coord:g,x:n.x1,y:n.y1};return isCoordinateSystemType(t,"cartesian2d")?r&&g&&(ifMarkAreaHasOnlyDim(1,r,g)||ifMarkAreaHasOnlyDim(0,r,g))?!0:zoneFilter(t,y,$):dataFilter(t,y)||dataFilter(t,$)}function getSingleMarkerEndPoint(t,n,r,g,y){var $=g.coordinateSystem,L=t.getItemModel(n),V,z=parsePercent(L.get(r[0]),y.getWidth()),j=parsePercent(L.get(r[1]),y.getHeight());if(!isNaN(z)&&!isNaN(j))V=[z,j];else{if(g.getMarkerPosition){var re=t.getValues(["x0","y0"],n),ae=t.getValues(["x1","y1"],n),oe=$.clampData(re),ie=$.clampData(ae),le=[];r[0]==="x0"?le[0]=oe[0]>ie[0]?ae[0]:re[0]:le[0]=oe[0]>ie[0]?re[0]:ae[0],r[1]==="y0"?le[1]=oe[1]>ie[1]?ae[1]:re[1]:le[1]=oe[1]>ie[1]?re[1]:ae[1],V=g.getMarkerPosition(le,r,!0)}else{var ue=t.get(r[0],n),de=t.get(r[1],n),he=[ue,de];$.clampData&&$.clampData(he,he),V=$.dataToPoint(he,!0)}if(isCoordinateSystemType($,"cartesian2d")){var pe=$.getAxis("x"),_e=$.getAxis("y"),ue=t.get(r[0],n),de=t.get(r[1],n);isInfinity(ue)?V[0]=pe.toGlobalCoord(pe.getExtent()[r[0]==="x0"?0:1]):isInfinity(de)&&(V[1]=_e.toGlobalCoord(_e.getExtent()[r[1]==="y0"?0:1]))}isNaN(z)||(V[0]=z),isNaN(j)||(V[1]=j)}return V}var dimPermutations=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],MarkAreaView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.updateTransform=function(r,g,y){g.eachSeries(function($){var L=MarkerModel.getMarkerModelFromSeries($,"markArea");if(L){var V=L.getData();V.each(function(z){var j=map$1(dimPermutations,function(ae){return getSingleMarkerEndPoint(V,z,ae,$,y)});V.setItemLayout(z,j);var re=V.getItemGraphicEl(z);re.setShape("points",j)})}},this)},n.prototype.renderSeries=function(r,g,y,$){var L=r.coordinateSystem,V=r.id,z=r.getData(),j=this.markerGroupMap,re=j.get(V)||j.set(V,{group:new Group$3});this.group.add(re.group),this.markKeep(re);var ae=createList(L,r,g);g.setData(ae),ae.each(function(oe){var ie=map$1(dimPermutations,function(Oe){return getSingleMarkerEndPoint(ae,oe,Oe,r,$)}),le=L.getAxis("x").scale,ue=L.getAxis("y").scale,de=le.getExtent(),he=ue.getExtent(),pe=[le.parse(ae.get("x0",oe)),le.parse(ae.get("x1",oe))],_e=[ue.parse(ae.get("y0",oe)),ue.parse(ae.get("y1",oe))];asc$2(pe),asc$2(_e);var Ce=!(de[0]>pe[1]||de[1]<pe[0]||he[0]>_e[1]||he[1]<_e[0]),xe=!Ce;ae.setItemLayout(oe,{points:ie,allClipped:xe});var Ie=ae.getItemModel(oe).getModel("itemStyle").getItemStyle(),$e=getVisualFromData(z,"color");Ie.fill||(Ie.fill=$e,isString(Ie.fill)&&(Ie.fill=modifyAlpha(Ie.fill,.4))),Ie.stroke||(Ie.stroke=$e),ae.setItemVisual(oe,"style",Ie)}),ae.diff(inner$2(re).data).add(function(oe){var ie=ae.getItemLayout(oe);if(!ie.allClipped){var le=new Polygon({shape:{points:ie.points}});ae.setItemGraphicEl(oe,le),re.group.add(le)}}).update(function(oe,ie){var le=inner$2(re).data.getItemGraphicEl(ie),ue=ae.getItemLayout(oe);ue.allClipped?le&&re.group.remove(le):(le?updateProps$1(le,{shape:{points:ue.points}},g,oe):le=new Polygon({shape:{points:ue.points}}),ae.setItemGraphicEl(oe,le),re.group.add(le))}).remove(function(oe){var ie=inner$2(re).data.getItemGraphicEl(oe);re.group.remove(ie)}).execute(),ae.eachItemGraphicEl(function(oe,ie){var le=ae.getItemModel(ie),ue=ae.getItemVisual(ie,"style");oe.useStyle(ae.getItemVisual(ie,"style")),setLabelStyle(oe,getLabelStatesModels(le),{labelFetcher:g,labelDataIndex:ie,defaultText:ae.getName(ie)||"",inheritColor:isString(ue.fill)?modifyAlpha(ue.fill,1):"#000"}),setStatesStylesFromModel(oe,le),toggleHoverEmphasis(oe,null,null,le.get(["emphasis","disabled"])),getECData(oe).dataModel=g}),inner$2(re).data=ae,re.group.silent=g.get("silent")||r.get("silent")},n.type="markArea",n}(MarkerView);function createList(t,n,r){var g,y,$=["x0","y0","x1","y1"];if(t){var L=map$1(t&&t.dimensions,function(j){var re=n.getData(),ae=re.getDimensionInfo(re.mapDimension(j))||{};return extend(extend({},ae),{name:j,ordinalMeta:null})});y=map$1($,function(j,re){return{name:j,type:L[re%2].type}}),g=new SeriesData(y,r)}else y=[{name:"value",type:"float"}],g=new SeriesData(y,r);var V=map$1(r.get("data"),curry$1(markAreaTransform,n,t,r));t&&(V=filter(V,curry$1(markAreaFilter,t)));var z=t?function(j,re,ae,oe){var ie=j.coord[Math.floor(oe/2)][oe%2];return parseDataValue(ie,y[oe])}:function(j,re,ae,oe){return parseDataValue(j.value,y[oe])};return g.initData(V,null,z),g.hasItemOption=!0,g}function install$c(t){t.registerComponentModel(MarkAreaModel),t.registerComponentView(MarkAreaView),t.registerPreprocessor(function(n){checkMarkerInSeries(n.series,"markArea")&&(n.markArea=n.markArea||{})})}var getDefaultSelectorOptions=function(t,n){if(n==="all")return{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])};if(n==="inverse")return{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.layoutMode={type:"box",ignoreSize:!0},r}return n.prototype.init=function(r,g,y){this.mergeDefaultAndTheme(r,y),r.selected=r.selected||{},this._updateSelector(r)},n.prototype.mergeOption=function(r,g){t.prototype.mergeOption.call(this,r,g),this._updateSelector(r)},n.prototype._updateSelector=function(r){var g=r.selector,y=this.ecModel;g===!0&&(g=r.selector=["all","inverse"]),isArray$1(g)&&each$f(g,function($,L){isString($)&&($={type:$}),g[L]=merge($,getDefaultSelectorOptions(y,$.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var r=this._data;if(r[0]&&this.get("selectedMode")==="single"){for(var g=!1,y=0;y<r.length;y++){var $=r[y].get("name");if(this.isSelected($)){this.select($),g=!0;break}}!g&&this.select(r[0].get("name"))}},n.prototype._updateData=function(r){var g=[],y=[];r.eachRawSeries(function(z){var j=z.name;y.push(j);var re;if(z.legendVisualProvider){var ae=z.legendVisualProvider,oe=ae.getAllNames();r.isSeriesFiltered(z)||(y=y.concat(oe)),oe.length?g=g.concat(oe):re=!0}else re=!0;re&&isNameSpecified(z)&&g.push(z.name)}),this._availableNames=y;var $=this.get("data")||g,L=createHashMap(),V=map$1($,function(z){return(isString(z)||isNumber(z))&&(z={name:z}),L.get(z.name)?null:(L.set(z.name,!0),new Model(z,this,this.ecModel))},this);this._data=filter(V,function(z){return!!z})},n.prototype.getData=function(){return this._data},n.prototype.select=function(r){var g=this.option.selected,y=this.get("selectedMode");if(y==="single"){var $=this._data;each$f($,function(L){g[L.get("name")]=!1})}g[r]=!0},n.prototype.unSelect=function(r){this.get("selectedMode")!=="single"&&(this.option.selected[r]=!1)},n.prototype.toggleSelected=function(r){var g=this.option.selected;g.hasOwnProperty(r)||(g[r]=!0),this[g[r]?"unSelect":"select"](r)},n.prototype.allSelect=function(){var r=this._data,g=this.option.selected;each$f(r,function(y){g[y.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this._data,g=this.option.selected;each$f(r,function(y){var $=y.get("name",!0);g.hasOwnProperty($)||(g[$]=!0),g[$]=!g[$]})},n.prototype.isSelected=function(r){var g=this.option.selected;return!(g.hasOwnProperty(r)&&!g[r])&&indexOf(this._availableNames,r)>=0},n.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(ComponentModel),curry=curry$1,each$3=each$f,Group$1=Group$3,LegendView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!1,r}return n.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(r,g,y){var $=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!r.get("show",!0)){var L=r.get("align"),V=r.get("orient");(!L||L==="auto")&&(L=r.get("left")==="right"&&V==="vertical"?"right":"left");var z=r.get("selector",!0),j=r.get("selectorPosition",!0);z&&(!j||j==="auto")&&(j=V==="horizontal"?"end":"start"),this.renderInner(L,r,g,y,z,V,j);var re=r.getBoxLayoutParams(),ae={width:y.getWidth(),height:y.getHeight()},oe=r.get("padding"),ie=getLayoutRect(re,ae,oe),le=this.layoutInner(r,L,ie,$,z,j),ue=getLayoutRect(defaults({width:le.width,height:le.height},re),ae,oe);this.group.x=ue.x-le.x,this.group.y=ue.y-le.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(le,r))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(r,g,y,$,L,V,z){var j=this.getContentGroup(),re=createHashMap(),ae=g.get("selectedMode"),oe=[];y.eachRawSeries(function(ie){!ie.get("legendHoverLink")&&oe.push(ie.id)}),each$3(g.getData(),function(ie,le){var ue=ie.get("name");if(!this.newlineDisabled&&(ue===""||ue===`
`)){var de=new Group$1;de.newline=!0,j.add(de);return}var he=y.getSeriesByName(ue)[0];if(!re.get(ue))if(he){var pe=he.getData(),_e=pe.getVisual("legendLineStyle")||{},Ce=pe.getVisual("legendIcon"),xe=pe.getVisual("style"),Ie=this._createItem(he,ue,le,ie,g,r,_e,xe,Ce,ae,$);Ie.on("click",curry(dispatchSelectAction,ue,null,$,oe)).on("mouseover",curry(dispatchHighlightAction,he.name,null,$,oe)).on("mouseout",curry(dispatchDownplayAction,he.name,null,$,oe)),y.ssr&&Ie.eachChild(function($e){var Oe=getECData($e);Oe.seriesIndex=he.seriesIndex,Oe.dataIndex=le,Oe.ssrType="legend"}),re.set(ue,!0)}else y.eachRawSeries(function($e){if(!re.get(ue)&&$e.legendVisualProvider){var Oe=$e.legendVisualProvider;if(!Oe.containName(ue))return;var Ne=Oe.indexOfName(ue),Fe=Oe.getItemVisual(Ne,"style"),Ve=Oe.getItemVisual(Ne,"legendIcon"),ze=parse(Fe.fill);ze&&ze[3]===0&&(ze[3]=.2,Fe=extend(extend({},Fe),{fill:stringify(ze,"rgba")}));var Et=this._createItem($e,ue,le,ie,g,r,{},Fe,Ve,ae,$);Et.on("click",curry(dispatchSelectAction,null,ue,$,oe)).on("mouseover",curry(dispatchHighlightAction,null,ue,$,oe)).on("mouseout",curry(dispatchDownplayAction,null,ue,$,oe)),y.ssr&&Et.eachChild(function(Dt){var Ue=getECData(Dt);Ue.seriesIndex=$e.seriesIndex,Ue.dataIndex=le,Ue.ssrType="legend"}),re.set(ue,!0)}},this)},this),L&&this._createSelector(L,g,$,V,z)},n.prototype._createSelector=function(r,g,y,$,L){var V=this.getSelectorGroup();each$3(r,function(j){var re=j.type,ae=new ZRText({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){y.dispatchAction({type:re==="all"?"legendAllSelect":"legendInverseSelect",legendId:g.id})}});V.add(ae);var oe=g.getModel("selectorLabel"),ie=g.getModel(["emphasis","selectorLabel"]);setLabelStyle(ae,{normal:oe,emphasis:ie},{defaultText:j.title}),enableHoverEmphasis(ae)})},n.prototype._createItem=function(r,g,y,$,L,V,z,j,re,ae,oe){var ie=r.visualDrawType,le=L.get("itemWidth"),ue=L.get("itemHeight"),de=L.isSelected(g),he=$.get("symbolRotate"),pe=$.get("symbolKeepAspect"),_e=$.get("icon");re=_e||re||"roundRect";var Ce=getLegendStyle(re,$,z,j,ie,de,oe),xe=new Group$1,Ie=$.getModel("textStyle");if(isFunction(r.getLegendIcon)&&(!_e||_e==="inherit"))xe.add(r.getLegendIcon({itemWidth:le,itemHeight:ue,icon:re,iconRotate:he,itemStyle:Ce.itemStyle,lineStyle:Ce.lineStyle,symbolKeepAspect:pe}));else{var $e=_e==="inherit"&&r.getData().getVisual("symbol")?he==="inherit"?r.getData().getVisual("symbolRotate"):he:0;xe.add(getDefaultLegendIcon({itemWidth:le,itemHeight:ue,icon:re,iconRotate:$e,itemStyle:Ce.itemStyle,symbolKeepAspect:pe}))}var Oe=V==="left"?le+5:-5,Ne=V,Fe=L.get("formatter"),Ve=g;isString(Fe)&&Fe?Ve=Fe.replace("{name}",g??""):isFunction(Fe)&&(Ve=Fe(g));var ze=de?Ie.getTextColor():$.get("inactiveColor");xe.add(new ZRText({style:createTextStyle(Ie,{text:Ve,x:Oe,y:ue/2,fill:ze,align:Ne,verticalAlign:"middle"},{inheritColor:ze})}));var Et=new Rect$2({shape:xe.getBoundingRect(),style:{fill:"transparent"}}),Dt=$.getModel("tooltip");return Dt.get("show")&&setTooltipConfig({el:Et,componentModel:L,itemName:g,itemTooltipOption:Dt.option}),xe.add(Et),xe.eachChild(function(Ue){Ue.silent=!0}),Et.silent=!ae,this.getContentGroup().add(xe),enableHoverEmphasis(xe),xe.__legendDataIndex=y,xe},n.prototype.layoutInner=function(r,g,y,$,L,V){var z=this.getContentGroup(),j=this.getSelectorGroup();box(r.get("orient"),z,r.get("itemGap"),y.width,y.height);var re=z.getBoundingRect(),ae=[-re.x,-re.y];if(j.markRedraw(),z.markRedraw(),L){box("horizontal",j,r.get("selectorItemGap",!0));var oe=j.getBoundingRect(),ie=[-oe.x,-oe.y],le=r.get("selectorButtonGap",!0),ue=r.getOrient().index,de=ue===0?"width":"height",he=ue===0?"height":"width",pe=ue===0?"y":"x";V==="end"?ie[ue]+=re[de]+le:ae[ue]+=oe[de]+le,ie[1-ue]+=re[he]/2-oe[he]/2,j.x=ie[0],j.y=ie[1],z.x=ae[0],z.y=ae[1];var _e={x:0,y:0};return _e[de]=re[de]+le+oe[de],_e[he]=Math.max(re[he],oe[he]),_e[pe]=Math.min(0,oe[pe]+ie[1-ue]),_e}else return z.x=ae[0],z.y=ae[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(ComponentView);function getLegendStyle(t,n,r,g,y,$,L){function V(de,he){de.lineWidth==="auto"&&(de.lineWidth=he.lineWidth>0?2:0),each$3(de,function(pe,_e){de[_e]==="inherit"&&(de[_e]=he[_e])})}var z=n.getModel("itemStyle"),j=z.getItemStyle(),re=t.lastIndexOf("empty",0)===0?"fill":"stroke",ae=z.getShallow("decal");j.decal=!ae||ae==="inherit"?g.decal:createOrUpdatePatternFromDecal(ae,L),j.fill==="inherit"&&(j.fill=g[y]),j.stroke==="inherit"&&(j.stroke=g[re]),j.opacity==="inherit"&&(j.opacity=(y==="fill"?g:r).opacity),V(j,g);var oe=n.getModel("lineStyle"),ie=oe.getLineStyle();if(V(ie,r),j.fill==="auto"&&(j.fill=g.fill),j.stroke==="auto"&&(j.stroke=g.fill),ie.stroke==="auto"&&(ie.stroke=g.fill),!$){var le=n.get("inactiveBorderWidth"),ue=j[re];j.lineWidth=le==="auto"?g.lineWidth>0&&ue?2:0:j.lineWidth,j.fill=n.get("inactiveColor"),j.stroke=n.get("inactiveBorderColor"),ie.stroke=oe.get("inactiveColor"),ie.lineWidth=oe.get("inactiveWidth")}return{itemStyle:j,lineStyle:ie}}function getDefaultLegendIcon(t){var n=t.icon||"roundRect",r=createSymbol$1(n,0,0,t.itemWidth,t.itemHeight,t.itemStyle.fill,t.symbolKeepAspect);return r.setStyle(t.itemStyle),r.rotation=(t.iconRotate||0)*Math.PI/180,r.setOrigin([t.itemWidth/2,t.itemHeight/2]),n.indexOf("empty")>-1&&(r.style.stroke=r.style.fill,r.style.fill="#fff",r.style.lineWidth=2),r}function dispatchSelectAction(t,n,r,g){dispatchDownplayAction(t,n,r,g),r.dispatchAction({type:"legendToggleSelect",name:t??n}),dispatchHighlightAction(t,n,r,g)}function isUseHoverLayer(t){for(var n=t.getZr().storage.getDisplayList(),r,g=0,y=n.length;g<y&&!(r=n[g].states.emphasis);)g++;return r&&r.hoverLayer}function dispatchHighlightAction(t,n,r,g){isUseHoverLayer(r)||r.dispatchAction({type:"highlight",seriesName:t,name:n,excludeSeriesId:g})}function dispatchDownplayAction(t,n,r,g){isUseHoverLayer(r)||r.dispatchAction({type:"downplay",seriesName:t,name:n,excludeSeriesId:g})}function legendFilter(t){var n=t.findComponents({mainType:"legend"});n&&n.length&&t.filterSeries(function(r){for(var g=0;g<n.length;g++)if(!n[g].isSelected(r.name))return!1;return!0})}function legendSelectActionHandler(t,n,r){var g=t==="allSelect"||t==="inverseSelect",y={},$=[];r.eachComponent({mainType:"legend",query:n},function(V){g?V[t]():V[t](n.name),makeSelectedMap(V,y),$.push(V.componentIndex)});var L={};return r.eachComponent("legend",function(V){each$f(y,function(z,j){V[z?"select":"unSelect"](j)}),makeSelectedMap(V,L)}),g?{selected:L,legendIndex:$}:{name:n.name,selected:L}}function makeSelectedMap(t,n){var r=n||{};return each$f(t.getData(),function(g){var y=g.get("name");if(!(y===`
`||y==="")){var $=t.isSelected(y);hasOwn(r,y)?r[y]=r[y]&&$:r[y]=$}}),r}function installLegendAction(t){t.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),t.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),t.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$b(t){t.registerComponentModel(LegendModel),t.registerComponentView(LegendView),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),t.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(t)}var ScrollableLegendModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.setScrollDataIndex=function(r){this.option.scrollDataIndex=r},n.prototype.init=function(r,g,y){var $=getLayoutParams(r);t.prototype.init.call(this,r,g,y),mergeAndNormalizeLayoutParams(this,r,$)},n.prototype.mergeOption=function(r,g){t.prototype.mergeOption.call(this,r,g),mergeAndNormalizeLayoutParams(this,this.option,r)},n.type="legend.scroll",n.defaultOption=inheritDefaultOption(LegendModel.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(LegendModel);function mergeAndNormalizeLayoutParams(t,n,r){var g=t.getOrient(),y=[1,1];y[g.index]=0,mergeLayoutParam(n,r,{type:"box",ignoreSize:!!y})}var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.newlineDisabled=!0,r._currentIndex=0,r}return n.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},n.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(r,g,y,$,L,V,z){var j=this;t.prototype.renderInner.call(this,r,g,y,$,L,V,z);var re=this._controllerGroup,ae=g.get("pageIconSize",!0),oe=isArray$1(ae)?ae:[ae,ae];le("pagePrev",0);var ie=g.getModel("pageTextStyle");re.add(new ZRText({name:"pageText",style:{text:"xx/xx",fill:ie.getTextColor(),font:ie.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),le("pageNext",1);function le(ue,de){var he=ue+"DataIndex",pe=createIcon(g.get("pageIcons",!0)[g.getOrient().name][de],{onclick:bind$1(j._pageGo,j,he,g,$)},{x:-oe[0]/2,y:-oe[1]/2,width:oe[0],height:oe[1]});pe.name=ue,re.add(pe)}},n.prototype.layoutInner=function(r,g,y,$,L,V){var z=this.getSelectorGroup(),j=r.getOrient().index,re=WH[j],ae=XY[j],oe=WH[1-j],ie=XY[1-j];L&&box("horizontal",z,r.get("selectorItemGap",!0));var le=r.get("selectorButtonGap",!0),ue=z.getBoundingRect(),de=[-ue.x,-ue.y],he=clone$4(y);L&&(he[re]=y[re]-ue[re]-le);var pe=this._layoutContentAndController(r,$,he,j,re,oe,ie,ae);if(L){if(V==="end")de[j]+=pe[re]+le;else{var _e=ue[re]+le;de[j]-=_e,pe[ae]-=_e}pe[re]+=ue[re]+le,de[1-j]+=pe[ie]+pe[oe]/2-ue[oe]/2,pe[oe]=Math.max(pe[oe],ue[oe]),pe[ie]=Math.min(pe[ie],ue[ie]+de[1-j]),z.x=de[0],z.y=de[1],z.markRedraw()}return pe},n.prototype._layoutContentAndController=function(r,g,y,$,L,V,z,j){var re=this.getContentGroup(),ae=this._containerGroup,oe=this._controllerGroup;box(r.get("orient"),re,r.get("itemGap"),$?y.width:null,$?null:y.height),box("horizontal",oe,r.get("pageButtonItemGap",!0));var ie=re.getBoundingRect(),le=oe.getBoundingRect(),ue=this._showController=ie[L]>y[L],de=[-ie.x,-ie.y];g||(de[$]=re[j]);var he=[0,0],pe=[-le.x,-le.y],_e=retrieve2(r.get("pageButtonGap",!0),r.get("itemGap",!0));if(ue){var Ce=r.get("pageButtonPosition",!0);Ce==="end"?pe[$]+=y[L]-le[L]:he[$]+=le[L]+_e}pe[1-$]+=ie[V]/2-le[V]/2,re.setPosition(de),ae.setPosition(he),oe.setPosition(pe);var xe={x:0,y:0};if(xe[L]=ue?y[L]:ie[L],xe[V]=Math.max(ie[V],le[V]),xe[z]=Math.min(0,le[z]+pe[1-$]),ae.__rectSize=y[L],ue){var Ie={x:0,y:0};Ie[L]=Math.max(y[L]-le[L]-_e,0),Ie[V]=xe[V],ae.setClipPath(new Rect$2({shape:Ie})),ae.__rectSize=Ie[L]}else oe.eachChild(function(Oe){Oe.attr({invisible:!0,silent:!0})});var $e=this._getPageInfo(r);return $e.pageIndex!=null&&updateProps$1(re,{x:$e.contentPosition[0],y:$e.contentPosition[1]},ue?r:null),this._updatePageInfoView(r,$e),xe},n.prototype._pageGo=function(r,g,y){var $=this._getPageInfo(g)[r];$!=null&&y.dispatchAction({type:"legendScroll",scrollDataIndex:$,legendId:g.id})},n.prototype._updatePageInfoView=function(r,g){var y=this._controllerGroup;each$f(["pagePrev","pageNext"],function(re){var ae=re+"DataIndex",oe=g[ae]!=null,ie=y.childOfName(re);ie&&(ie.setStyle("fill",oe?r.get("pageIconColor",!0):r.get("pageIconInactiveColor",!0)),ie.cursor=oe?"pointer":"default")});var $=y.childOfName("pageText"),L=r.get("pageFormatter"),V=g.pageIndex,z=V!=null?V+1:0,j=g.pageCount;$&&L&&$.setStyle("text",isString(L)?L.replace("{current}",z==null?"":z+"").replace("{total}",j==null?"":j+""):L({current:z,total:j}))},n.prototype._getPageInfo=function(r){var g=r.get("scrollDataIndex",!0),y=this.getContentGroup(),$=this._containerGroup.__rectSize,L=r.getOrient().index,V=WH[L],z=XY[L],j=this._findTargetItemIndex(g),re=y.children(),ae=re[j],oe=re.length,ie=oe?1:0,le={contentPosition:[y.x,y.y],pageCount:ie,pageIndex:ie-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!ae)return le;var ue=Ce(ae);le.contentPosition[L]=-ue.s;for(var de=j+1,he=ue,pe=ue,_e=null;de<=oe;++de)_e=Ce(re[de]),(!_e&&pe.e>he.s+$||_e&&!xe(_e,he.s))&&(pe.i>he.i?he=pe:he=_e,he&&(le.pageNextDataIndex==null&&(le.pageNextDataIndex=he.i),++le.pageCount)),pe=_e;for(var de=j-1,he=ue,pe=ue,_e=null;de>=-1;--de)_e=Ce(re[de]),(!_e||!xe(pe,_e.s))&&he.i<pe.i&&(pe=he,le.pagePrevDataIndex==null&&(le.pagePrevDataIndex=he.i),++le.pageCount,++le.pageIndex),he=_e;return le;function Ce(Ie){if(Ie){var $e=Ie.getBoundingRect(),Oe=$e[z]+Ie[z];return{s:Oe,e:Oe+$e[V],i:Ie.__legendDataIndex}}}function xe(Ie,$e){return Ie.e>=$e&&Ie.s<=$e+$}},n.prototype._findTargetItemIndex=function(r){if(!this._showController)return 0;var g,y=this.getContentGroup(),$;return y.eachChild(function(L,V){var z=L.__legendDataIndex;$==null&&z!=null&&($=V),z===r&&(g=V)}),g??$},n.type="legend.scroll",n}(LegendView);function installScrollableLegendAction(t){t.registerAction("legendScroll","legendscroll",function(n,r){var g=n.scrollDataIndex;g!=null&&r.eachComponent({mainType:"legend",subType:"scroll",query:n},function(y){y.setScrollDataIndex(g)})})}function install$a(t){use(install$b),t.registerComponentModel(ScrollableLegendModel),t.registerComponentView(ScrollableLegendView),installScrollableLegendAction(t)}function install$9(t){use(install$b),use(install$a)}var InsideZoomModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.inside",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),n}(DataZoomModel),inner$1=makeInner();function setViewInfoToCoordSysRecord(t,n,r){inner$1(t).coordSysRecordMap.each(function(g){var y=g.dataZoomInfoMap.get(n.uid);y&&(y.getRange=r)})}function disposeCoordSysRecordIfNeeded(t,n){for(var r=inner$1(t).coordSysRecordMap,g=r.keys(),y=0;y<g.length;y++){var $=g[y],L=r.get($),V=L.dataZoomInfoMap;if(V){var z=n.uid,j=V.get(z);j&&(V.removeKey(z),V.keys().length||disposeCoordSysRecord(r,L))}}}function disposeCoordSysRecord(t,n){if(n){t.removeKey(n.model.uid);var r=n.controller;r&&r.dispose()}}function createCoordSysRecord(t,n){var r={model:n,containsPoint:curry$1(containsPoint,n),dispatchAction:curry$1(dispatchAction,t),dataZoomInfoMap:null,controller:null},g=r.controller=new RoamController(t.getZr());return each$f(["pan","zoom","scrollMove"],function(y){g.on(y,function($){var L=[];r.dataZoomInfoMap.each(function(V){if($.isAvailableBehavior(V.model.option)){var z=(V.getRange||{})[y],j=z&&z(V.dzReferCoordSysInfo,r.model.mainType,r.controller,$);!V.model.get("disabled",!0)&&j&&L.push({dataZoomId:V.model.id,start:j[0],end:j[1]})}}),L.length&&r.dispatchAction(L)})}),r}function dispatchAction(t,n){t.isDisposed()||t.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:n})}function containsPoint(t,n,r,g){return t.coordinateSystem.containPoint([r,g])}function mergeControllerParams(t){var n,r="type_",g={type_true:2,type_move:1,type_false:0,type_undefined:-1},y=!0;return t.each(function($){var L=$.model,V=L.get("disabled",!0)?!1:L.get("zoomLock",!0)?"move":!0;g[r+V]>g[r+n]&&(n=V),y=y&&L.get("preventDefaultMouseMove",!0)}),{controlType:n,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!y}}}function installDataZoomRoamProcessor(t){t.registerProcessor(t.PRIORITY.PROCESSOR.FILTER,function(n,r){var g=inner$1(r),y=g.coordSysRecordMap||(g.coordSysRecordMap=createHashMap());y.each(function($){$.dataZoomInfoMap=null}),n.eachComponent({mainType:"dataZoom",subType:"inside"},function($){var L=collectReferCoordSysModelInfo($);each$f(L.infoList,function(V){var z=V.model.uid,j=y.get(z)||y.set(z,createCoordSysRecord(r,V.model)),re=j.dataZoomInfoMap||(j.dataZoomInfoMap=createHashMap());re.set($.uid,{dzReferCoordSysInfo:V,model:$,getRange:null})})}),y.each(function($){var L=$.controller,V,z=$.dataZoomInfoMap;if(z){var j=z.keys()[0];j!=null&&(V=z.get(j))}if(!V){disposeCoordSysRecord(y,$);return}var re=mergeControllerParams(z);L.enable(re.controlType,re.opt),L.setPointerChecker($.containsPoint),createOrUpdate($,"dispatchAction",V.model.get("throttle",!0),"fixRate")})})}var InsideZoomView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataZoom.inside",r}return n.prototype.render=function(r,g,y){if(t.prototype.render.apply(this,arguments),r.noTarget()){this._clear();return}this.range=r.getPercentRange(),setViewInfoToCoordSysRecord(y,r,{pan:bind$1(getRangeHandlers.pan,this),zoom:bind$1(getRangeHandlers.zoom,this),scrollMove:bind$1(getRangeHandlers.scrollMove,this)})},n.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){disposeCoordSysRecordIfNeeded(this.api,this.dataZoomModel),this.range=null},n.type="dataZoom.inside",n}(DataZoomView),getRangeHandlers={zoom:function(t,n,r,g){var y=this.range,$=y.slice(),L=t.axisModels[0];if(L){var V=getDirectionInfo[n](null,[g.originX,g.originY],L,r,t),z=(V.signal>0?V.pixelStart+V.pixelLength-V.pixel:V.pixel-V.pixelStart)/V.pixelLength*($[1]-$[0])+$[0],j=Math.max(1/g.scale,0);$[0]=($[0]-z)*j+z,$[1]=($[1]-z)*j+z;var re=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(sliderMove(0,$,[0,100],0,re.minSpan,re.maxSpan),this.range=$,y[0]!==$[0]||y[1]!==$[1])return $}},pan:makeMover(function(t,n,r,g,y,$){var L=getDirectionInfo[g]([$.oldX,$.oldY],[$.newX,$.newY],n,y,r);return L.signal*(t[1]-t[0])*L.pixel/L.pixelLength}),scrollMove:makeMover(function(t,n,r,g,y,$){var L=getDirectionInfo[g]([0,0],[$.scrollDelta,$.scrollDelta],n,y,r);return L.signal*(t[1]-t[0])*$.scrollDelta})};function makeMover(t){return function(n,r,g,y){var $=this.range,L=$.slice(),V=n.axisModels[0];if(V){var z=t(L,V,n,r,g,y);if(sliderMove(z,L,[0,100],"all"),this.range=L,$[0]!==L[0]||$[1]!==L[1])return L}}}var getDirectionInfo={grid:function(t,n,r,g,y){var $=r.axis,L={},V=y.model.coordinateSystem.getRect();return t=t||[0,0],$.dim==="x"?(L.pixel=n[0]-t[0],L.pixelLength=V.width,L.pixelStart=V.x,L.signal=$.inverse?1:-1):(L.pixel=n[1]-t[1],L.pixelLength=V.height,L.pixelStart=V.y,L.signal=$.inverse?-1:1),L},polar:function(t,n,r,g,y){var $=r.axis,L={},V=y.model.coordinateSystem,z=V.getRadiusAxis().getExtent(),j=V.getAngleAxis().getExtent();return t=t?V.pointToCoord(t):[0,0],n=V.pointToCoord(n),r.mainType==="radiusAxis"?(L.pixel=n[0]-t[0],L.pixelLength=z[1]-z[0],L.pixelStart=z[0],L.signal=$.inverse?1:-1):(L.pixel=n[1]-t[1],L.pixelLength=j[1]-j[0],L.pixelStart=j[0],L.signal=$.inverse?-1:1),L},singleAxis:function(t,n,r,g,y){var $=r.axis,L=y.model.coordinateSystem.getRect(),V={};return t=t||[0,0],$.orient==="horizontal"?(V.pixel=n[0]-t[0],V.pixelLength=L.width,V.pixelStart=L.x,V.signal=$.inverse?1:-1):(V.pixel=n[1]-t[1],V.pixelLength=L.height,V.pixelStart=L.y,V.signal=$.inverse?-1:1),V}};function install$8(t){installCommon$1(t),t.registerComponentModel(InsideZoomModel),t.registerComponentView(InsideZoomView),installDataZoomRoamProcessor(t)}var SliderZoomModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.type="dataZoom.slider",n.layoutMode="box",n.defaultOption=inheritDefaultOption(DataZoomModel.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleLabel:{show:!0},handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),n}(DataZoomModel),Rect=Rect$2,DEFAULT_LOCATION_EDGE_GAP=7,DEFAULT_FRAME_BORDER_WIDTH=1,DEFAULT_FILLER_SIZE=30,DEFAULT_MOVE_HANDLE_SIZE=7,HORIZONTAL="horizontal",VERTICAL="vertical",LABEL_GAP=5,SHOW_DATA_SHADOW_SERIES_TYPE=["line","bar","candlestick","scatter"],REALTIME_ANIMATION_CONFIG={easing:"cubicOut",duration:100,delay:0},SliderZoomView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._displayables={},r}return n.prototype.init=function(r,g){this.api=g,this._onBrush=bind$1(this._onBrush,this),this._onBrushEnd=bind$1(this._onBrushEnd,this)},n.prototype.render=function(r,g,y,$){if(t.prototype.render.apply(this,arguments),createOrUpdate(this,"_dispatchZoomAction",r.get("throttle"),"fixRate"),this._orient=r.getOrient(),r.get("show")===!1){this.group.removeAll();return}if(r.noTarget()){this._clear(),this.group.removeAll();return}(!$||$.type!=="dataZoom"||$.from!==this.uid)&&this._buildView(),this._updateView()},n.prototype.dispose=function(){this._clear(),t.prototype.dispose.apply(this,arguments)},n.prototype._clear=function(){clear$1(this,"_dispatchZoomAction");var r=this.api.getZr();r.off("mousemove",this._onBrush),r.off("mouseup",this._onBrushEnd)},n.prototype._buildView=function(){var r=this.group;r.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var g=this._displayables.sliderGroup=new Group$3;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),r.add(g),this._positionGroup()},n.prototype._resetLocation=function(){var r=this.dataZoomModel,g=this.api,y=r.get("brushSelect"),$=y?DEFAULT_MOVE_HANDLE_SIZE:0,L=this._findCoordRect(),V={width:g.getWidth(),height:g.getHeight()},z=this._orient===HORIZONTAL?{right:V.width-L.x-L.width,top:V.height-DEFAULT_FILLER_SIZE-DEFAULT_LOCATION_EDGE_GAP-$,width:L.width,height:DEFAULT_FILLER_SIZE}:{right:DEFAULT_LOCATION_EDGE_GAP,top:L.y,width:DEFAULT_FILLER_SIZE,height:L.height},j=getLayoutParams(r.option);each$f(["right","top","width","height"],function(ae){j[ae]==="ph"&&(j[ae]=z[ae])});var re=getLayoutRect(j,V);this._location={x:re.x,y:re.y},this._size=[re.width,re.height],this._orient===VERTICAL&&this._size.reverse()},n.prototype._positionGroup=function(){var r=this.group,g=this._location,y=this._orient,$=this.dataZoomModel.getFirstTargetAxisModel(),L=$&&$.get("inverse"),V=this._displayables.sliderGroup,z=(this._dataShadowInfo||{}).otherAxisInverse;V.attr(y===HORIZONTAL&&!L?{scaleY:z?1:-1,scaleX:1}:y===HORIZONTAL&&L?{scaleY:z?1:-1,scaleX:-1}:y===VERTICAL&&!L?{scaleY:z?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:z?-1:1,scaleX:-1,rotation:Math.PI/2});var j=r.getBoundingRect([V]);r.x=g.x-j.x,r.y=g.y-j.y,r.markRedraw()},n.prototype._getViewExtent=function(){return[0,this._size[0]]},n.prototype._renderBackground=function(){var r=this.dataZoomModel,g=this._size,y=this._displayables.sliderGroup,$=r.get("brushSelect");y.add(new Rect({silent:!0,shape:{x:0,y:0,width:g[0],height:g[1]},style:{fill:r.get("backgroundColor")},z2:-40}));var L=new Rect({shape:{x:0,y:0,width:g[0],height:g[1]},style:{fill:"transparent"},z2:0,onclick:bind$1(this._onClickPanel,this)}),V=this.api.getZr();$?(L.on("mousedown",this._onBrushStart,this),L.cursor="crosshair",V.on("mousemove",this._onBrush),V.on("mouseup",this._onBrushEnd)):(V.off("mousemove",this._onBrush),V.off("mouseup",this._onBrushEnd)),y.add(L)},n.prototype._renderDataShadow=function(){var r=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],!r)return;var g=this._size,y=this._shadowSize||[],$=r.series,L=$.getRawData(),V=$.getShadowDim&&$.getShadowDim(),z=V&&L.getDimensionInfo(V)?$.getShadowDim():r.otherDim;if(z==null)return;var j=this._shadowPolygonPts,re=this._shadowPolylinePts;if(L!==this._shadowData||z!==this._shadowDim||g[0]!==y[0]||g[1]!==y[1]){var ae=L.getDataExtent(z),oe=(ae[1]-ae[0])*.3;ae=[ae[0]-oe,ae[1]+oe];var ie=[0,g[1]],le=[0,g[0]],ue=[[g[0],0],[0,0]],de=[],he=le[1]/(L.count()-1),pe=0,_e=Math.round(L.count()/g[0]),Ce;L.each([z],function(Ne,Fe){if(_e>0&&Fe%_e){pe+=he;return}var Ve=Ne==null||isNaN(Ne)||Ne==="",ze=Ve?0:linearMap$2(Ne,ae,ie,!0);Ve&&!Ce&&Fe?(ue.push([ue[ue.length-1][0],0]),de.push([de[de.length-1][0],0])):!Ve&&Ce&&(ue.push([pe,0]),de.push([pe,0])),ue.push([pe,ze]),de.push([pe,ze]),pe+=he,Ce=Ve}),j=this._shadowPolygonPts=ue,re=this._shadowPolylinePts=de}this._shadowData=L,this._shadowDim=z,this._shadowSize=[g[0],g[1]];var xe=this.dataZoomModel;function Ie(Ne){var Fe=xe.getModel(Ne?"selectedDataBackground":"dataBackground"),Ve=new Group$3,ze=new Polygon({shape:{points:j},segmentIgnoreThreshold:1,style:Fe.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),Et=new Polyline$1({shape:{points:re},segmentIgnoreThreshold:1,style:Fe.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19});return Ve.add(ze),Ve.add(Et),Ve}for(var $e=0;$e<3;$e++){var Oe=Ie($e===1);this._displayables.sliderGroup.add(Oe),this._displayables.dataShadowSegs.push(Oe)}},n.prototype._prepareDataShadowInfo=function(){var r=this.dataZoomModel,g=r.get("showDataShadow");if(g!==!1){var y,$=this.ecModel;return r.eachTargetAxis(function(L,V){var z=r.getAxisProxy(L,V).getTargetSeriesModels();each$f(z,function(j){if(!y&&!(g!==!0&&indexOf(SHOW_DATA_SHADOW_SERIES_TYPE,j.get("type"))<0)){var re=$.getComponent(getAxisMainType(L),V).axis,ae=getOtherDim(L),oe,ie=j.coordinateSystem;ae!=null&&ie.getOtherAxis&&(oe=ie.getOtherAxis(re).inverse),ae=j.getData().mapDimension(ae),y={thisAxis:re,series:j,thisDim:L,otherDim:ae,otherAxisInverse:oe}}},this)},this),y}},n.prototype._renderHandle=function(){var r=this.group,g=this._displayables,y=g.handles=[null,null],$=g.handleLabels=[null,null],L=this._displayables.sliderGroup,V=this._size,z=this.dataZoomModel,j=this.api,re=z.get("borderRadius")||0,ae=z.get("brushSelect"),oe=g.filler=new Rect({silent:ae,style:{fill:z.get("fillerColor")},textConfig:{position:"inside"}});L.add(oe),L.add(new Rect({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:V[0],height:V[1],r:re},style:{stroke:z.get("dataBackgroundColor")||z.get("borderColor"),lineWidth:DEFAULT_FRAME_BORDER_WIDTH,fill:"rgba(0,0,0,0)"}})),each$f([0,1],function(_e){var Ce=z.get("handleIcon");!symbolBuildProxies[Ce]&&Ce.indexOf("path://")<0&&Ce.indexOf("image://")<0&&(Ce="path://"+Ce);var xe=createSymbol$1(Ce,-1,0,2,2,null,!0);xe.attr({cursor:getCursor$1(this._orient),draggable:!0,drift:bind$1(this._onDragMove,this,_e),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1),z2:5});var Ie=xe.getBoundingRect(),$e=z.get("handleSize");this._handleHeight=parsePercent($e,this._size[1]),this._handleWidth=Ie.width/Ie.height*this._handleHeight,xe.setStyle(z.getModel("handleStyle").getItemStyle()),xe.style.strokeNoScale=!0,xe.rectHover=!0,xe.ensureState("emphasis").style=z.getModel(["emphasis","handleStyle"]).getItemStyle(),enableHoverEmphasis(xe);var Oe=z.get("handleColor");Oe!=null&&(xe.style.fill=Oe),L.add(y[_e]=xe);var Ne=z.getModel("textStyle"),Fe=z.get("handleLabel")||{},Ve=Fe.show||!1;r.add($[_e]=new ZRText({silent:!0,invisible:!Ve,style:createTextStyle(Ne,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:Ne.getTextColor(),font:Ne.getFont()}),z2:10}))},this);var ie=oe;if(ae){var le=parsePercent(z.get("moveHandleSize"),V[1]),ue=g.moveHandle=new Rect$2({style:z.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:V[1]-.5,height:le}}),de=le*.8,he=g.moveHandleIcon=createSymbol$1(z.get("moveHandleIcon"),-de/2,-de/2,de,de,"#fff",!0);he.silent=!0,he.y=V[1]+le/2-.5,ue.ensureState("emphasis").style=z.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var pe=Math.min(V[1]/2,Math.max(le,10));ie=g.moveZone=new Rect$2({invisible:!0,shape:{y:V[1]-pe,height:le+pe}}),ie.on("mouseover",function(){j.enterEmphasis(ue)}).on("mouseout",function(){j.leaveEmphasis(ue)}),L.add(ue),L.add(he),L.add(ie)}ie.attr({draggable:!0,cursor:getCursor$1(this._orient),drift:bind$1(this._onDragMove,this,"all"),ondragstart:bind$1(this._showDataInfo,this,!0),ondragend:bind$1(this._onDragEnd,this),onmouseover:bind$1(this._showDataInfo,this,!0),onmouseout:bind$1(this._showDataInfo,this,!1)})},n.prototype._resetInterval=function(){var r=this._range=this.dataZoomModel.getPercentRange(),g=this._getViewExtent();this._handleEnds=[linearMap$2(r[0],[0,100],g,!0),linearMap$2(r[1],[0,100],g,!0)]},n.prototype._updateInterval=function(r,g){var y=this.dataZoomModel,$=this._handleEnds,L=this._getViewExtent(),V=y.findRepresentativeAxisProxy().getMinMaxSpan(),z=[0,100];sliderMove(g,$,L,y.get("zoomLock")?"all":r,V.minSpan!=null?linearMap$2(V.minSpan,z,L,!0):null,V.maxSpan!=null?linearMap$2(V.maxSpan,z,L,!0):null);var j=this._range,re=this._range=asc$2([linearMap$2($[0],L,z,!0),linearMap$2($[1],L,z,!0)]);return!j||j[0]!==re[0]||j[1]!==re[1]},n.prototype._updateView=function(r){var g=this._displayables,y=this._handleEnds,$=asc$2(y.slice()),L=this._size;each$f([0,1],function(ie){var le=g.handles[ie],ue=this._handleHeight;le.attr({scaleX:ue/2,scaleY:ue/2,x:y[ie]+(ie?-1:1),y:L[1]/2-ue/2})},this),g.filler.setShape({x:$[0],y:0,width:$[1]-$[0],height:L[1]});var V={x:$[0],width:$[1]-$[0]};g.moveHandle&&(g.moveHandle.setShape(V),g.moveZone.setShape(V),g.moveZone.getBoundingRect(),g.moveHandleIcon&&g.moveHandleIcon.attr("x",V.x+V.width/2));for(var z=g.dataShadowSegs,j=[0,$[0],$[1],L[0]],re=0;re<z.length;re++){var ae=z[re],oe=ae.getClipPath();oe||(oe=new Rect$2,ae.setClipPath(oe)),oe.setShape({x:j[re],y:0,width:j[re+1]-j[re],height:L[1]})}this._updateDataInfo(r)},n.prototype._updateDataInfo=function(r){var g=this.dataZoomModel,y=this._displayables,$=y.handleLabels,L=this._orient,V=["",""];if(g.get("showDetail")){var z=g.findRepresentativeAxisProxy();if(z){var j=z.getAxisModel().axis,re=this._range,ae=r?z.calculateDataWindow({start:re[0],end:re[1]}).valueWindow:z.getDataValueWindow();V=[this._formatLabel(ae[0],j),this._formatLabel(ae[1],j)]}}var oe=asc$2(this._handleEnds.slice());ie.call(this,0),ie.call(this,1);function ie(le){var ue=getTransform$1(y.handles[le].parent,this.group),de=transformDirection(le===0?"right":"left",ue),he=this._handleWidth/2+LABEL_GAP,pe=applyTransform([oe[le]+(le===0?-he:he),this._size[1]/2],ue);$[le].setStyle({x:pe[0],y:pe[1],verticalAlign:L===HORIZONTAL?"middle":de,align:L===HORIZONTAL?de:"center",text:V[le]})}},n.prototype._formatLabel=function(r,g){var y=this.dataZoomModel,$=y.get("labelFormatter"),L=y.get("labelPrecision");(L==null||L==="auto")&&(L=g.getPixelPrecision());var V=r==null||isNaN(r)?"":g.type==="category"||g.type==="time"?g.scale.getLabel({value:Math.round(r)}):r.toFixed(Math.min(L,20));return isFunction($)?$(r,V):isString($)?$.replace("{value}",V):V},n.prototype._showDataInfo=function(r){var g=this.dataZoomModel.get("handleLabel")||{},y=g.show||!1,$=this.dataZoomModel.getModel(["emphasis","handleLabel"]),L=$.get("show")||!1,V=r||this._dragging?L:y,z=this._displayables,j=z.handleLabels;j[0].attr("invisible",!V),j[1].attr("invisible",!V),z.moveHandle&&this.api[V?"enterEmphasis":"leaveEmphasis"](z.moveHandle,1)},n.prototype._onDragMove=function(r,g,y,$){this._dragging=!0,stop($.event);var L=this._displayables.sliderGroup.getLocalTransform(),V=applyTransform([g,y],L,!0),z=this._updateInterval(r,V[0]),j=this.dataZoomModel.get("realtime");this._updateView(!j),z&&j&&this._dispatchZoomAction(!0)},n.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1);var r=this.dataZoomModel.get("realtime");!r&&this._dispatchZoomAction(!1)},n.prototype._onClickPanel=function(r){var g=this._size,y=this._displayables.sliderGroup.transformCoordToLocal(r.offsetX,r.offsetY);if(!(y[0]<0||y[0]>g[0]||y[1]<0||y[1]>g[1])){var $=this._handleEnds,L=($[0]+$[1])/2,V=this._updateInterval("all",y[0]-L);this._updateView(),V&&this._dispatchZoomAction(!1)}},n.prototype._onBrushStart=function(r){var g=r.offsetX,y=r.offsetY;this._brushStart=new Point(g,y),this._brushing=!0,this._brushStartTime=+new Date},n.prototype._onBrushEnd=function(r){if(this._brushing){var g=this._displayables.brushRect;if(this._brushing=!1,!!g){g.attr("ignore",!0);var y=g.shape,$=+new Date;if(!($-this._brushStartTime<200&&Math.abs(y.width)<5)){var L=this._getViewExtent(),V=[0,100];this._range=asc$2([linearMap$2(y.x,L,V,!0),linearMap$2(y.x+y.width,L,V,!0)]),this._handleEnds=[y.x,y.x+y.width],this._updateView(),this._dispatchZoomAction(!1)}}}},n.prototype._onBrush=function(r){this._brushing&&(stop(r.event),this._updateBrushRect(r.offsetX,r.offsetY))},n.prototype._updateBrushRect=function(r,g){var y=this._displayables,$=this.dataZoomModel,L=y.brushRect;L||(L=y.brushRect=new Rect({silent:!0,style:$.getModel("brushStyle").getItemStyle()}),y.sliderGroup.add(L)),L.attr("ignore",!1);var V=this._brushStart,z=this._displayables.sliderGroup,j=z.transformCoordToLocal(r,g),re=z.transformCoordToLocal(V.x,V.y),ae=this._size;j[0]=Math.max(Math.min(ae[0],j[0]),0),L.setShape({x:re[0],y:0,width:j[0]-re[0],height:ae[1]})},n.prototype._dispatchZoomAction=function(r){var g=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:r?REALTIME_ANIMATION_CONFIG:null,start:g[0],end:g[1]})},n.prototype._findCoordRect=function(){var r,g=collectReferCoordSysModelInfo(this.dataZoomModel).infoList;if(!r&&g.length){var y=g[0].model.coordinateSystem;r=y.getRect&&y.getRect()}if(!r){var $=this.api.getWidth(),L=this.api.getHeight();r={x:$*.2,y:L*.2,width:$*.6,height:L*.6}}return r},n.type="dataZoom.slider",n}(DataZoomView);function getOtherDim(t){var n={x:"y",y:"x",radius:"angle",angle:"radius"};return n[t]}function getCursor$1(t){return t==="vertical"?"ns-resize":"ew-resize"}function install$7(t){t.registerComponentModel(SliderZoomModel),t.registerComponentView(SliderZoomView),installCommon$1(t)}function install$6(t){use(install$8),use(install$7)}var visualDefault={get:function(t,n,r){var g=clone$4((defaultOption[t]||{})[n]);return r&&isArray$1(g)?g[g.length-1]:g}},defaultOption={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},mapVisual=VisualMapping.mapVisual,eachVisual=VisualMapping.eachVisual,isArray=isArray$1,each$2=each$f,asc=asc$2,linearMap$1=linearMap$2,VisualMapModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.stateList=["inRange","outOfRange"],r.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],r.layoutMode={type:"box",ignoreSize:!0},r.dataBound=[-1/0,1/0],r.targetVisuals={},r.controllerVisuals={},r}return n.prototype.init=function(r,g,y){this.mergeDefaultAndTheme(r,y)},n.prototype.optionUpdated=function(r,g){var y=this.option;!g&&replaceVisualOption(y,r,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},n.prototype.resetVisual=function(r){var g=this.stateList;r=bind$1(r,this),this.controllerVisuals=createVisualMappings(this.option.controller,g,r),this.targetVisuals=createVisualMappings(this.option.target,g,r)},n.prototype.getItemSymbol=function(){return null},n.prototype.getTargetSeriesIndices=function(){var r=this.option.seriesIndex,g=[];return r==null||r==="all"?this.ecModel.eachSeries(function(y,$){g.push($)}):g=normalizeToArray(r),g},n.prototype.eachTargetSeries=function(r,g){each$f(this.getTargetSeriesIndices(),function(y){var $=this.ecModel.getSeriesByIndex(y);$&&r.call(g,$)},this)},n.prototype.isTargetSeries=function(r){var g=!1;return this.eachTargetSeries(function(y){y===r&&(g=!0)}),g},n.prototype.formatValueText=function(r,g,y){var $=this.option,L=$.precision,V=this.dataBound,z=$.formatter,j;y=y||["<",">"],isArray$1(r)&&(r=r.slice(),j=!0);var re=g?r:j?[ae(r[0]),ae(r[1])]:ae(r);if(isString(z))return z.replace("{value}",j?re[0]:re).replace("{value2}",j?re[1]:re);if(isFunction(z))return j?z(r[0],r[1]):z(r);if(j)return r[0]===V[0]?y[0]+" "+re[1]:r[1]===V[1]?y[1]+" "+re[0]:re[0]+" - "+re[1];return re;function ae(oe){return oe===V[0]?"min":oe===V[1]?"max":(+oe).toFixed(Math.min(L,20))}},n.prototype.resetExtent=function(){var r=this.option,g=asc([r.min,r.max]);this._dataExtent=g},n.prototype.getDataDimensionIndex=function(r){var g=this.option.dimension;if(g!=null)return r.getDimensionIndex(g);for(var y=r.dimensions,$=y.length-1;$>=0;$--){var L=y[$],V=r.getDimensionInfo(L);if(!V.isCalculationCoord)return V.storeDimIndex}},n.prototype.getExtent=function(){return this._dataExtent.slice()},n.prototype.completeVisualOption=function(){var r=this.ecModel,g=this.option,y={inRange:g.inRange,outOfRange:g.outOfRange},$=g.target||(g.target={}),L=g.controller||(g.controller={});merge($,y),merge(L,y);var V=this.isCategory();z.call(this,$),z.call(this,L),j.call(this,$,"inRange","outOfRange"),re.call(this,L);function z(ae){isArray(g.color)&&!ae.inRange&&(ae.inRange={color:g.color.slice().reverse()}),ae.inRange=ae.inRange||{color:r.get("gradientColor")}}function j(ae,oe,ie){var le=ae[oe],ue=ae[ie];le&&!ue&&(ue=ae[ie]={},each$2(le,function(de,he){if(VisualMapping.isValidType(he)){var pe=visualDefault.get(he,"inactive",V);pe!=null&&(ue[he]=pe,he==="color"&&!ue.hasOwnProperty("opacity")&&!ue.hasOwnProperty("colorAlpha")&&(ue.opacity=[0,0]))}}))}function re(ae){var oe=(ae.inRange||{}).symbol||(ae.outOfRange||{}).symbol,ie=(ae.inRange||{}).symbolSize||(ae.outOfRange||{}).symbolSize,le=this.get("inactiveColor"),ue=this.getItemSymbol(),de=ue||"roundRect";each$2(this.stateList,function(he){var pe=this.itemSize,_e=ae[he];_e||(_e=ae[he]={color:V?le:[le]}),_e.symbol==null&&(_e.symbol=oe&&clone$4(oe)||(V?de:[de])),_e.symbolSize==null&&(_e.symbolSize=ie&&clone$4(ie)||(V?pe[0]:[pe[0],pe[0]])),_e.symbol=mapVisual(_e.symbol,function(Ie){return Ie==="none"?de:Ie});var Ce=_e.symbolSize;if(Ce!=null){var xe=-1/0;eachVisual(Ce,function(Ie){Ie>xe&&(xe=Ie)}),_e.symbolSize=mapVisual(Ce,function(Ie){return linearMap$1(Ie,[0,xe],[0,pe[0]],!0)})}},this)}},n.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},n.prototype.isCategory=function(){return!!this.option.categories},n.prototype.setSelected=function(r){},n.prototype.getSelected=function(){return null},n.prototype.getValueState=function(r){return null},n.prototype.getVisualMeta=function(r){return null},n.type="visualMap",n.dependencies=["series"],n.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},n}(ComponentModel),DEFAULT_BAR_BOUND=[20,140],ContinuousModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.optionUpdated=function(r,g){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(y){y.mappingMethod="linear",y.dataExtent=this.getExtent()}),this._resetRange()},n.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var r=this.itemSize;(r[0]==null||isNaN(r[0]))&&(r[0]=DEFAULT_BAR_BOUND[0]),(r[1]==null||isNaN(r[1]))&&(r[1]=DEFAULT_BAR_BOUND[1])},n.prototype._resetRange=function(){var r=this.getExtent(),g=this.option.range;!g||g.auto?(r.auto=1,this.option.range=r):isArray$1(g)&&(g[0]>g[1]&&g.reverse(),g[0]=Math.max(g[0],r[0]),g[1]=Math.min(g[1],r[1]))},n.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),each$f(this.stateList,function(r){var g=this.option.controller[r].symbolSize;g&&g[0]!==g[1]&&(g[0]=g[1]/3)},this)},n.prototype.setSelected=function(r){this.option.range=r.slice(),this._resetRange()},n.prototype.getSelected=function(){var r=this.getExtent(),g=asc$2((this.get("range")||[]).slice());return g[0]>r[1]&&(g[0]=r[1]),g[1]>r[1]&&(g[1]=r[1]),g[0]<r[0]&&(g[0]=r[0]),g[1]<r[0]&&(g[1]=r[0]),g},n.prototype.getValueState=function(r){var g=this.option.range,y=this.getExtent();return(g[0]<=y[0]||g[0]<=r)&&(g[1]>=y[1]||r<=g[1])?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var g=[];return this.eachTargetSeries(function(y){var $=[],L=y.getData();L.each(this.getDataDimensionIndex(L),function(V,z){r[0]<=V&&V<=r[1]&&$.push(z)},this),g.push({seriesId:y.id,dataIndex:$})},this),g},n.prototype.getVisualMeta=function(r){var g=getColorStopValues(this,"outOfRange",this.getExtent()),y=getColorStopValues(this,"inRange",this.option.range.slice()),$=[];function L(ie,le){$.push({value:ie,color:r(ie,le)})}for(var V=0,z=0,j=y.length,re=g.length;z<re&&(!y.length||g[z]<=y[0]);z++)g[z]<y[V]&&L(g[z],"outOfRange");for(var ae=1;V<j;V++,ae=0)ae&&$.length&&L(y[V],"outOfRange"),L(y[V],"inRange");for(var ae=1;z<re;z++)(!y.length||y[y.length-1]<g[z])&&(ae&&($.length&&L($[$.length-1].value,"outOfRange"),ae=0),L(g[z],"outOfRange"));var oe=$.length;return{stops:$,outerColors:[oe?$[0].color:"transparent",oe?$[oe-1].color:"transparent"]}},n.type="visualMap.continuous",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),n}(VisualMapModel);function getColorStopValues(t,n,r){if(r[0]===r[1])return r.slice();for(var g=200,y=(r[1]-r[0])/g,$=r[0],L=[],V=0;V<=g&&$<r[1];V++)L.push($),$+=y;return L.push(r[1]),L}var VisualMapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r.autoPositionValues={left:1,right:1,top:1,bottom:1},r}return n.prototype.init=function(r,g){this.ecModel=r,this.api=g},n.prototype.render=function(r,g,y,$){if(this.visualMapModel=r,r.get("show")===!1){this.group.removeAll();return}this.doRender(r,g,y,$)},n.prototype.renderBackground=function(r){var g=this.visualMapModel,y=normalizeCssArray(g.get("padding")||0),$=r.getBoundingRect();r.add(new Rect$2({z2:-1,silent:!0,shape:{x:$.x-y[3],y:$.y-y[0],width:$.width+y[3]+y[1],height:$.height+y[0]+y[2]},style:{fill:g.get("backgroundColor"),stroke:g.get("borderColor"),lineWidth:g.get("borderWidth")}}))},n.prototype.getControllerVisual=function(r,g,y){y=y||{};var $=y.forceState,L=this.visualMapModel,V={};if(g==="color"){var z=L.get("contentColor");V.color=z}function j(ie){return V[ie]}function re(ie,le){V[ie]=le}var ae=L.controllerVisuals[$||L.getValueState(r)],oe=VisualMapping.prepareVisualTypes(ae);return each$f(oe,function(ie){var le=ae[ie];y.convertOpacityToAlpha&&ie==="opacity"&&(ie="colorAlpha",le=ae.__alphaForOpacity),VisualMapping.dependsOn(ie,g)&&le&&le.applyVisual(r,j,re)}),V[g]},n.prototype.positionGroup=function(r){var g=this.visualMapModel,y=this.api;positionElement(r,g.getBoxLayoutParams(),{width:y.getWidth(),height:y.getHeight()})},n.prototype.doRender=function(r,g,y,$){},n.type="visualMap",n}(ComponentView),paramsSet=[["left","right","width"],["top","bottom","height"]];function getItemAlign(t,n,r){var g=t.option,y=g.align;if(y!=null&&y!=="auto")return y;for(var $={width:n.getWidth(),height:n.getHeight()},L=g.orient==="horizontal"?1:0,V=paramsSet[L],z=[0,null,10],j={},re=0;re<3;re++)j[paramsSet[1-L][re]]=z[re],j[V[re]]=re===2?r[0]:g[V[re]];var ae=[["x","width",3],["y","height",0]][L],oe=getLayoutRect(j,$,g.padding);return V[(oe.margin[ae[2]]||0)+oe[ae[0]]+oe[ae[1]]*.5<$[ae[1]]*.5?0:1]}function makeHighDownBatch(t,n){return each$f(t||[],function(r){r.dataIndex!=null&&(r.dataIndexInside=r.dataIndex,r.dataIndex=null),r.highlightKey="visualMap"+(n?n.componentIndex:"")}),t}var linearMap=linearMap$2,each$1=each$f,mathMin=Math.min,mathMax=Math.max,HOVER_LINK_SIZE=12,HOVER_LINK_OUT=6,ContinuousView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._shapes={},r._dataInterval=[],r._handleEnds=[],r._hoverLinkDataIndices=[],r}return n.prototype.init=function(r,g){t.prototype.init.call(this,r,g),this._hoverLinkFromSeriesMouseOver=bind$1(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=bind$1(this._hideIndicator,this)},n.prototype.doRender=function(r,g,y,$){(!$||$.type!=="selectDataRange"||$.from!==this.uid)&&this._buildView()},n.prototype._buildView=function(){this.group.removeAll();var r=this.visualMapModel,g=this.group;this._orient=r.get("orient"),this._useHandle=r.get("calculable"),this._resetInterval(),this._renderBar(g);var y=r.get("text");this._renderEndsText(g,y,0),this._renderEndsText(g,y,1),this._updateView(!0),this.renderBackground(g),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(g)},n.prototype._renderEndsText=function(r,g,y){if(g){var $=g[1-y];$=$!=null?$+"":"";var L=this.visualMapModel,V=L.get("textGap"),z=L.itemSize,j=this._shapes.mainGroup,re=this._applyTransform([z[0]/2,y===0?-V:z[1]+V],j),ae=this._applyTransform(y===0?"bottom":"top",j),oe=this._orient,ie=this.visualMapModel.textStyleModel;this.group.add(new ZRText({style:createTextStyle(ie,{x:re[0],y:re[1],verticalAlign:oe==="horizontal"?"middle":ae,align:oe==="horizontal"?ae:"center",text:$})}))}},n.prototype._renderBar=function(r){var g=this.visualMapModel,y=this._shapes,$=g.itemSize,L=this._orient,V=this._useHandle,z=getItemAlign(g,this.api,$),j=y.mainGroup=this._createBarGroup(z),re=new Group$3;j.add(re),re.add(y.outOfRange=createPolygon()),re.add(y.inRange=createPolygon(null,V?getCursor(this._orient):null,bind$1(this._dragHandle,this,"all",!1),bind$1(this._dragHandle,this,"all",!0))),re.setClipPath(new Rect$2({shape:{x:0,y:0,width:$[0],height:$[1],r:3}}));var ae=g.textStyleModel.getTextRect(""),oe=mathMax(ae.width,ae.height);V&&(y.handleThumbs=[],y.handleLabels=[],y.handleLabelPoints=[],this._createHandle(g,j,0,$,oe,L),this._createHandle(g,j,1,$,oe,L)),this._createIndicator(g,j,$,oe,L),r.add(j)},n.prototype._createHandle=function(r,g,y,$,L,V){var z=bind$1(this._dragHandle,this,y,!1),j=bind$1(this._dragHandle,this,y,!0),re=parsePercent$1(r.get("handleSize"),$[0]),ae=createSymbol$1(r.get("handleIcon"),-re/2,-re/2,re,re,null,!0),oe=getCursor(this._orient);ae.attr({cursor:oe,draggable:!0,drift:z,ondragend:j,onmousemove:function(he){stop(he.event)}}),ae.x=$[0]/2,ae.useStyle(r.getModel("handleStyle").getItemStyle()),ae.setStyle({strokeNoScale:!0,strokeFirst:!0}),ae.style.lineWidth*=2,ae.ensureState("emphasis").style=r.getModel(["emphasis","handleStyle"]).getItemStyle(),setAsHighDownDispatcher(ae,!0),g.add(ae);var ie=this.visualMapModel.textStyleModel,le=new ZRText({cursor:oe,draggable:!0,drift:z,onmousemove:function(he){stop(he.event)},ondragend:j,style:createTextStyle(ie,{x:0,y:0,text:""})});le.ensureState("blur").style={opacity:.1},le.stateTransition={duration:200},this.group.add(le);var ue=[re,0],de=this._shapes;de.handleThumbs[y]=ae,de.handleLabelPoints[y]=ue,de.handleLabels[y]=le},n.prototype._createIndicator=function(r,g,y,$,L){var V=parsePercent$1(r.get("indicatorSize"),y[0]),z=createSymbol$1(r.get("indicatorIcon"),-V/2,-V/2,V,V,null,!0);z.attr({cursor:"move",invisible:!0,silent:!0,x:y[0]/2});var j=r.getModel("indicatorStyle").getItemStyle();if(z instanceof ZRImage){var re=z.style;z.useStyle(extend({image:re.image,x:re.x,y:re.y,width:re.width,height:re.height},j))}else z.useStyle(j);g.add(z);var ae=this.visualMapModel.textStyleModel,oe=new ZRText({silent:!0,invisible:!0,style:createTextStyle(ae,{x:0,y:0,text:""})});this.group.add(oe);var ie=[(L==="horizontal"?$/2:HOVER_LINK_OUT)+y[0]/2,0],le=this._shapes;le.indicator=z,le.indicatorLabel=oe,le.indicatorLabelPoint=ie,this._firstShowIndicator=!0},n.prototype._dragHandle=function(r,g,y,$){if(this._useHandle){if(this._dragging=!g,!g){var L=this._applyTransform([y,$],this._shapes.mainGroup,!0);this._updateInterval(r,L[1]),this._hideIndicator(),this._updateView()}g===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),g?!this._hovering&&this._clearHoverLinkToSeries():useHoverLinkOnHandle(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[r],!1)}},n.prototype._resetInterval=function(){var r=this.visualMapModel,g=this._dataInterval=r.getSelected(),y=r.getExtent(),$=[0,r.itemSize[1]];this._handleEnds=[linearMap(g[0],y,$,!0),linearMap(g[1],y,$,!0)]},n.prototype._updateInterval=function(r,g){g=g||0;var y=this.visualMapModel,$=this._handleEnds,L=[0,y.itemSize[1]];sliderMove(g,$,L,r,0);var V=y.getExtent();this._dataInterval=[linearMap($[0],L,V,!0),linearMap($[1],L,V,!0)]},n.prototype._updateView=function(r){var g=this.visualMapModel,y=g.getExtent(),$=this._shapes,L=[0,g.itemSize[1]],V=r?L:this._handleEnds,z=this._createBarVisual(this._dataInterval,y,V,"inRange"),j=this._createBarVisual(y,y,L,"outOfRange");$.inRange.setStyle({fill:z.barColor}).setShape("points",z.barPoints),$.outOfRange.setStyle({fill:j.barColor}).setShape("points",j.barPoints),this._updateHandle(V,z)},n.prototype._createBarVisual=function(r,g,y,$){var L={forceState:$,convertOpacityToAlpha:!0},V=this._makeColorGradient(r,L),z=[this.getControllerVisual(r[0],"symbolSize",L),this.getControllerVisual(r[1],"symbolSize",L)],j=this._createBarPoints(y,z);return{barColor:new LinearGradient(0,0,0,1,V),barPoints:j,handlesColor:[V[0].color,V[V.length-1].color]}},n.prototype._makeColorGradient=function(r,g){var y=100,$=[],L=(r[1]-r[0])/y;$.push({color:this.getControllerVisual(r[0],"color",g),offset:0});for(var V=1;V<y;V++){var z=r[0]+L*V;if(z>r[1])break;$.push({color:this.getControllerVisual(z,"color",g),offset:V/y})}return $.push({color:this.getControllerVisual(r[1],"color",g),offset:1}),$},n.prototype._createBarPoints=function(r,g){var y=this.visualMapModel.itemSize;return[[y[0]-g[0],r[0]],[y[0],r[0]],[y[0],r[1]],[y[0]-g[1],r[1]]]},n.prototype._createBarGroup=function(r){var g=this._orient,y=this.visualMapModel.get("inverse");return new Group$3(g==="horizontal"&&!y?{scaleX:r==="bottom"?1:-1,rotation:Math.PI/2}:g==="horizontal"&&y?{scaleX:r==="bottom"?-1:1,rotation:-Math.PI/2}:g==="vertical"&&!y?{scaleX:r==="left"?1:-1,scaleY:-1}:{scaleX:r==="left"?1:-1})},n.prototype._updateHandle=function(r,g){if(this._useHandle){var y=this._shapes,$=this.visualMapModel,L=y.handleThumbs,V=y.handleLabels,z=$.itemSize,j=$.getExtent(),re=this._applyTransform("left",y.mainGroup);each$1([0,1],function(ae){var oe=L[ae];oe.setStyle("fill",g.handlesColor[ae]),oe.y=r[ae];var ie=linearMap(r[ae],[0,z[1]],j,!0),le=this.getControllerVisual(ie,"symbolSize");oe.scaleX=oe.scaleY=le/z[0],oe.x=z[0]-le/2;var ue=applyTransform(y.handleLabelPoints[ae],getTransform$1(oe,this.group));if(this._orient==="horizontal"){var de=re==="left"||re==="top"?(z[0]-le)/2:(z[0]-le)/-2;ue[1]+=de}V[ae].setStyle({x:ue[0],y:ue[1],text:$.formatValueText(this._dataInterval[ae]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",y.mainGroup):"center"})},this)}},n.prototype._showIndicator=function(r,g,y,$){var L=this.visualMapModel,V=L.getExtent(),z=L.itemSize,j=[0,z[1]],re=this._shapes,ae=re.indicator;if(ae){ae.attr("invisible",!1);var oe={convertOpacityToAlpha:!0},ie=this.getControllerVisual(r,"color",oe),le=this.getControllerVisual(r,"symbolSize"),ue=linearMap(r,V,j,!0),de=z[0]-le/2,he={x:ae.x,y:ae.y};ae.y=ue,ae.x=de;var pe=applyTransform(re.indicatorLabelPoint,getTransform$1(ae,this.group)),_e=re.indicatorLabel;_e.attr("invisible",!1);var Ce=this._applyTransform("left",re.mainGroup),xe=this._orient,Ie=xe==="horizontal";_e.setStyle({text:(y||"")+L.formatValueText(g),verticalAlign:Ie?Ce:"middle",align:Ie?"center":Ce});var $e={x:de,y:ue,style:{fill:ie}},Oe={style:{x:pe[0],y:pe[1]}};if(L.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var Ne={duration:100,easing:"cubicInOut",additive:!0};ae.x=he.x,ae.y=he.y,ae.animateTo($e,Ne),_e.animateTo(Oe,Ne)}else ae.attr($e),_e.attr(Oe);this._firstShowIndicator=!1;var Fe=this._shapes.handleLabels;if(Fe)for(var Ve=0;Ve<Fe.length;Ve++)this.api.enterBlur(Fe[Ve])}},n.prototype._enableHoverLinkToSeries=function(){var r=this;this._shapes.mainGroup.on("mousemove",function(g){if(r._hovering=!0,!r._dragging){var y=r.visualMapModel.itemSize,$=r._applyTransform([g.offsetX,g.offsetY],r._shapes.mainGroup,!0,!0);$[1]=mathMin(mathMax(0,$[1]),y[1]),r._doHoverLinkToSeries($[1],0<=$[0]&&$[0]<=y[0])}}).on("mouseout",function(){r._hovering=!1,!r._dragging&&r._clearHoverLinkToSeries()})},n.prototype._enableHoverLinkFromSeries=function(){var r=this.api.getZr();this.visualMapModel.option.hoverLink?(r.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),r.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},n.prototype._doHoverLinkToSeries=function(r,g){var y=this.visualMapModel,$=y.itemSize;if(y.option.hoverLink){var L=[0,$[1]],V=y.getExtent();r=mathMin(mathMax(L[0],r),L[1]);var z=getHalfHoverLinkSize(y,V,L),j=[r-z,r+z],re=linearMap(r,L,V,!0),ae=[linearMap(j[0],L,V,!0),linearMap(j[1],L,V,!0)];j[0]<L[0]&&(ae[0]=-1/0),j[1]>L[1]&&(ae[1]=1/0),g&&(ae[0]===-1/0?this._showIndicator(re,ae[1],"< ",z):ae[1]===1/0?this._showIndicator(re,ae[0],"> ",z):this._showIndicator(re,re," ",z));var oe=this._hoverLinkDataIndices,ie=[];(g||useHoverLinkOnHandle(y))&&(ie=this._hoverLinkDataIndices=y.findTargetDataIndices(ae));var le=compressBatches(oe,ie);this._dispatchHighDown("downplay",makeHighDownBatch(le[0],y)),this._dispatchHighDown("highlight",makeHighDownBatch(le[1],y))}},n.prototype._hoverLinkFromSeriesMouseOver=function(r){var g;if(findEventDispatcher(r.target,function(z){var j=getECData(z);if(j.dataIndex!=null)return g=j,!0},!0),!!g){var y=this.ecModel.getSeriesByIndex(g.seriesIndex),$=this.visualMapModel;if($.isTargetSeries(y)){var L=y.getData(g.dataType),V=L.getStore().get($.getDataDimensionIndex(L),g.dataIndex);isNaN(V)||this._showIndicator(V,V)}}},n.prototype._hideIndicator=function(){var r=this._shapes;r.indicator&&r.indicator.attr("invisible",!0),r.indicatorLabel&&r.indicatorLabel.attr("invisible",!0);var g=this._shapes.handleLabels;if(g)for(var y=0;y<g.length;y++)this.api.leaveBlur(g[y])},n.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var r=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",makeHighDownBatch(r,this.visualMapModel)),r.length=0},n.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var r=this.api.getZr();r.off("mouseover",this._hoverLinkFromSeriesMouseOver),r.off("mouseout",this._hideIndicator)},n.prototype._applyTransform=function(r,g,y,$){var L=getTransform$1(g,$?null:this.group);return isArray$1(r)?applyTransform(r,L,y):transformDirection(r,L,y)},n.prototype._dispatchHighDown=function(r,g){g&&g.length&&this.api.dispatchAction({type:r,batch:g})},n.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},n.type="visualMap.continuous",n}(VisualMapView);function createPolygon(t,n,r,g){return new Polygon({shape:{points:t},draggable:!!r,cursor:n,drift:r,onmousemove:function(y){stop(y.event)},ondragend:g})}function getHalfHoverLinkSize(t,n,r){var g=HOVER_LINK_SIZE/2,y=t.get("hoverLinkDataSize");return y&&(g=linearMap(y,n,r,!0)/2),g}function useHoverLinkOnHandle(t){var n=t.get("hoverLinkOnHandle");return!!(n??t.get("realtime"))}function getCursor(t){return t==="vertical"?"ns-resize":"ew-resize"}var visualMapActionInfo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},visualMapActionHander=function(t,n){n.eachComponent({mainType:"visualMap",query:t},function(r){r.setSelected(t.selected)})},visualMapEncodingHandlers=[{createOnAllSeries:!0,reset:function(t,n){var r=[];return n.eachComponent("visualMap",function(g){var y=t.pipelineContext;!g.isTargetSeries(t)||y&&y.large||r.push(incrementalApplyVisual(g.stateList,g.targetVisuals,bind$1(g.getValueState,g),g.getDataDimensionIndex(t.getData())))}),r}},{createOnAllSeries:!0,reset:function(t,n){var r=t.getData(),g=[];n.eachComponent("visualMap",function(y){if(y.isTargetSeries(t)){var $=y.getVisualMeta(bind$1(getColorVisual,null,t,y))||{stops:[],outerColors:[]},L=y.getDataDimensionIndex(r);L>=0&&($.dimension=L,g.push($))}}),t.getData().setVisual("visualMeta",g)}}];function getColorVisual(t,n,r,g){for(var y=n.targetVisuals[g],$=VisualMapping.prepareVisualTypes(y),L={color:getVisualFromData(t.getData(),"color")},V=0,z=$.length;V<z;V++){var j=$[V],re=y[j==="opacity"?"__alphaForOpacity":j];re&&re.applyVisual(r,ae,oe)}return L.color;function ae(ie){return L[ie]}function oe(ie,le){L[ie]=le}}var each=each$f;function visualMapPreprocessor(t){var n=t&&t.visualMap;isArray$1(n)||(n=n?[n]:[]),each(n,function(r){if(r){has(r,"splitList")&&!has(r,"pieces")&&(r.pieces=r.splitList,delete r.splitList);var g=r.pieces;g&&isArray$1(g)&&each(g,function(y){isObject$3(y)&&(has(y,"start")&&!has(y,"min")&&(y.min=y.start),has(y,"end")&&!has(y,"max")&&(y.max=y.end))})}})}function has(t,n){return t&&t.hasOwnProperty&&t.hasOwnProperty(n)}var installed=!1;function installCommon(t){installed||(installed=!0,t.registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"}),t.registerAction(visualMapActionInfo,visualMapActionHander),each$f(visualMapEncodingHandlers,function(n){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,n)}),t.registerPreprocessor(visualMapPreprocessor))}function install$5(t){t.registerComponentModel(ContinuousModel),t.registerComponentView(ContinuousView),installCommon(t)}var PiecewiseModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r._pieceList=[],r}return n.prototype.optionUpdated=function(r,g){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var y=this._mode=this._determineMode();this._pieceList=[],resetMethods[this._mode].call(this,this._pieceList),this._resetSelected(r,g);var $=this.option.categories;this.resetVisual(function(L,V){y==="categories"?(L.mappingMethod="category",L.categories=clone$4($)):(L.dataExtent=this.getExtent(),L.mappingMethod="piecewise",L.pieceList=map$1(this._pieceList,function(z){return z=clone$4(z),V!=="inRange"&&(z.visual=null),z}))})},n.prototype.completeVisualOption=function(){var r=this.option,g={},y=VisualMapping.listVisualTypes(),$=this.isCategory();each$f(r.pieces,function(V){each$f(y,function(z){V.hasOwnProperty(z)&&(g[z]=1)})}),each$f(g,function(V,z){var j=!1;each$f(this.stateList,function(re){j=j||L(r,re,z)||L(r.target,re,z)},this),!j&&each$f(this.stateList,function(re){(r[re]||(r[re]={}))[z]=visualDefault.get(z,re==="inRange"?"active":"inactive",$)})},this);function L(V,z,j){return V&&V[z]&&V[z].hasOwnProperty(j)}t.prototype.completeVisualOption.apply(this,arguments)},n.prototype._resetSelected=function(r,g){var y=this.option,$=this._pieceList,L=(g?y:r).selected||{};if(y.selected=L,each$f($,function(z,j){var re=this.getSelectedMapKey(z);L.hasOwnProperty(re)||(L[re]=!0)},this),y.selectedMode==="single"){var V=!1;each$f($,function(z,j){var re=this.getSelectedMapKey(z);L[re]&&(V?L[re]=!1:V=!0)},this)}},n.prototype.getItemSymbol=function(){return this.get("itemSymbol")},n.prototype.getSelectedMapKey=function(r){return this._mode==="categories"?r.value+"":r.index+""},n.prototype.getPieceList=function(){return this._pieceList},n.prototype._determineMode=function(){var r=this.option;return r.pieces&&r.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},n.prototype.setSelected=function(r){this.option.selected=clone$4(r)},n.prototype.getValueState=function(r){var g=VisualMapping.findPieceIndex(r,this._pieceList);return g!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[g])]?"inRange":"outOfRange"},n.prototype.findTargetDataIndices=function(r){var g=[],y=this._pieceList;return this.eachTargetSeries(function($){var L=[],V=$.getData();V.each(this.getDataDimensionIndex(V),function(z,j){var re=VisualMapping.findPieceIndex(z,y);re===r&&L.push(j)},this),g.push({seriesId:$.id,dataIndex:L})},this),g},n.prototype.getRepresentValue=function(r){var g;if(this.isCategory())g=r.value;else if(r.value!=null)g=r.value;else{var y=r.interval||[];g=y[0]===-1/0&&y[1]===1/0?0:(y[0]+y[1])/2}return g},n.prototype.getVisualMeta=function(r){if(this.isCategory())return;var g=[],y=["",""],$=this;function L(re,ae){var oe=$.getRepresentValue({interval:re});ae||(ae=$.getValueState(oe));var ie=r(oe,ae);re[0]===-1/0?y[0]=ie:re[1]===1/0?y[1]=ie:g.push({value:re[0],color:ie},{value:re[1],color:ie})}var V=this._pieceList.slice();if(!V.length)V.push({interval:[-1/0,1/0]});else{var z=V[0].interval[0];z!==-1/0&&V.unshift({interval:[-1/0,z]}),z=V[V.length-1].interval[1],z!==1/0&&V.push({interval:[z,1/0]})}var j=-1/0;return each$f(V,function(re){var ae=re.interval;ae&&(ae[0]>j&&L([j,ae[0]],"outOfRange"),L(ae.slice()),j=ae[1])},this),{stops:g,outerColors:y}},n.type="visualMap.piecewise",n.defaultOption=inheritDefaultOption(VisualMapModel.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),n}(VisualMapModel),resetMethods={splitNumber:function(t){var n=this.option,r=Math.min(n.precision,20),g=this.getExtent(),y=n.splitNumber;y=Math.max(parseInt(y,10),1),n.splitNumber=y;for(var $=(g[1]-g[0])/y;+$.toFixed(r)!==$&&r<5;)r++;n.precision=r,$=+$.toFixed(r),n.minOpen&&t.push({interval:[-1/0,g[0]],close:[0,0]});for(var L=0,V=g[0];L<y;V+=$,L++){var z=L===y-1?g[1]:V+$;t.push({interval:[V,z],close:[1,1]})}n.maxOpen&&t.push({interval:[g[1],1/0],close:[0,0]}),reformIntervals(t),each$f(t,function(j,re){j.index=re,j.text=this.formatValueText(j.interval)},this)},categories:function(t){var n=this.option;each$f(n.categories,function(r){t.push({text:this.formatValueText(r,!0),value:r})},this),normalizeReverse(n,t)},pieces:function(t){var n=this.option;each$f(n.pieces,function(r,g){isObject$3(r)||(r={value:r});var y={text:"",index:g};if(r.label!=null&&(y.text=r.label),r.hasOwnProperty("value")){var $=y.value=r.value;y.interval=[$,$],y.close=[1,1]}else{for(var L=y.interval=[],V=y.close=[0,0],z=[1,0,1],j=[-1/0,1/0],re=[],ae=0;ae<2;ae++){for(var oe=[["gte","gt","min"],["lte","lt","max"]][ae],ie=0;ie<3&&L[ae]==null;ie++)L[ae]=r[oe[ie]],V[ae]=z[ie],re[ae]=ie===2;L[ae]==null&&(L[ae]=j[ae])}re[0]&&L[1]===1/0&&(V[0]=0),re[1]&&L[0]===-1/0&&(V[1]=0),L[0]===L[1]&&V[0]&&V[1]&&(y.value=L[0])}y.visual=VisualMapping.retrieveVisuals(r),t.push(y)},this),normalizeReverse(n,t),reformIntervals(t),each$f(t,function(r){var g=r.close,y=[["<",""][g[1]],[">",""][g[0]]];r.text=r.text||this.formatValueText(r.value!=null?r.value:r.interval,!1,y)},this)}};function normalizeReverse(t,n){var r=t.inverse;(t.orient==="vertical"?!r:r)&&n.reverse()}var PiecewiseVisualMapView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type=n.type,r}return n.prototype.doRender=function(){var r=this.group;r.removeAll();var g=this.visualMapModel,y=g.get("textGap"),$=g.textStyleModel,L=$.getFont(),V=$.getTextColor(),z=this._getItemAlign(),j=g.itemSize,re=this._getViewData(),ae=re.endsText,oe=retrieve(g.get("showLabel",!0),!ae),ie=!g.get("selectedMode");ae&&this._renderEndsText(r,ae[0],j,oe,z),each$f(re.viewPieceList,function(le){var ue=le.piece,de=new Group$3;de.onclick=bind$1(this._onItemClick,this,ue),this._enableHoverLink(de,le.indexInModelPieceList);var he=g.getRepresentValue(ue);if(this._createItemSymbol(de,he,[0,0,j[0],j[1]],ie),oe){var pe=this.visualMapModel.getValueState(he);de.add(new ZRText({style:{x:z==="right"?-y:j[0]+y,y:j[1]/2,text:ue.text,verticalAlign:"middle",align:z,font:L,fill:V,opacity:pe==="outOfRange"?.5:1},silent:ie}))}r.add(de)},this),ae&&this._renderEndsText(r,ae[1],j,oe,z),box(g.get("orient"),r,g.get("itemGap")),this.renderBackground(r),this.positionGroup(r)},n.prototype._enableHoverLink=function(r,g){var y=this;r.on("mouseover",function(){return $("highlight")}).on("mouseout",function(){return $("downplay")});var $=function(L){var V=y.visualMapModel;V.option.hoverLink&&y.api.dispatchAction({type:L,batch:makeHighDownBatch(V.findTargetDataIndices(g),V)})}},n.prototype._getItemAlign=function(){var r=this.visualMapModel,g=r.option;if(g.orient==="vertical")return getItemAlign(r,this.api,r.itemSize);var y=g.align;return(!y||y==="auto")&&(y="left"),y},n.prototype._renderEndsText=function(r,g,y,$,L){if(g){var V=new Group$3,z=this.visualMapModel.textStyleModel;V.add(new ZRText({style:createTextStyle(z,{x:$?L==="right"?y[0]:0:y[0]/2,y:y[1]/2,verticalAlign:"middle",align:$?L:"center",text:g})})),r.add(V)}},n.prototype._getViewData=function(){var r=this.visualMapModel,g=map$1(r.getPieceList(),function(V,z){return{piece:V,indexInModelPieceList:z}}),y=r.get("text"),$=r.get("orient"),L=r.get("inverse");return($==="horizontal"?L:!L)?g.reverse():y&&(y=y.slice().reverse()),{viewPieceList:g,endsText:y}},n.prototype._createItemSymbol=function(r,g,y,$){var L=createSymbol$1(this.getControllerVisual(g,"symbol"),y[0],y[1],y[2],y[3],this.getControllerVisual(g,"color"));L.silent=$,r.add(L)},n.prototype._onItemClick=function(r){var g=this.visualMapModel,y=g.option,$=y.selectedMode;if($){var L=clone$4(y.selected),V=g.getSelectedMapKey(r);$==="single"||$===!0?(L[V]=!0,each$f(L,function(z,j){L[j]=j===V})):L[V]=!L[V],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:L})}},n.type="visualMap.piecewise",n}(VisualMapView);function install$4(t){t.registerComponentModel(PiecewiseModel),t.registerComponentView(PiecewiseVisualMapView),installCommon(t)}function install$3(t){use(install$5),use(install$4)}var DEFAULT_OPTION={label:{enabled:!0},decal:{show:!1}},inner=makeInner(),decalPaletteScope={};function ariaVisual(t,n){var r=t.getModel("aria");if(!r.get("enabled"))return;var g=clone$4(DEFAULT_OPTION);merge(g.label,t.getLocaleModel().get("aria"),!1),merge(r.option,g,!1),y(),$();function y(){var j=r.getModel("decal"),re=j.get("show");if(re){var ae=createHashMap();t.eachSeries(function(oe){if(!oe.isColorBySeries()){var ie=ae.get(oe.type);ie||(ie={},ae.set(oe.type,ie)),inner(oe).scope=ie}}),t.eachRawSeries(function(oe){if(t.isSeriesFiltered(oe))return;if(isFunction(oe.enableAriaDecal)){oe.enableAriaDecal();return}var ie=oe.getData();if(oe.isColorBySeries()){var pe=getDecalFromPalette(oe.ecModel,oe.name,decalPaletteScope,t.getSeriesCount()),_e=ie.getVisual("decal");ie.setVisual("decal",Ce(_e,pe))}else{var le=oe.getRawData(),ue={},de=inner(oe).scope;ie.each(function(xe){var Ie=ie.getRawIndex(xe);ue[Ie]=xe});var he=le.count();le.each(function(xe){var Ie=ue[xe],$e=le.getName(xe)||xe+"",Oe=getDecalFromPalette(oe.ecModel,$e,de,he),Ne=ie.getItemVisual(Ie,"decal");ie.setItemVisual(Ie,"decal",Ce(Ne,Oe))})}function Ce(xe,Ie){var $e=xe?extend(extend({},Ie),xe):Ie;return $e.dirty=!0,$e}})}}function $(){var j=n.getZr().dom;if(j){var re=t.getLocaleModel().get("aria"),ae=r.getModel("label");if(ae.option=defaults(ae.option,re),!!ae.get("enabled")){if(j.setAttribute("role","img"),ae.get("description")){j.setAttribute("aria-label",ae.get("description"));return}var oe=t.getSeriesCount(),ie=ae.get(["data","maxCount"])||10,le=ae.get(["series","maxCount"])||10,ue=Math.min(oe,le),de;if(!(oe<1)){var he=V();if(he){var pe=ae.get(["general","withTitle"]);de=L(pe,{title:he})}else de=ae.get(["general","withoutTitle"]);var _e=[],Ce=oe>1?ae.get(["series","multiple","prefix"]):ae.get(["series","single","prefix"]);de+=L(Ce,{seriesCount:oe}),t.eachSeries(function(Oe,Ne){if(Ne<ue){var Fe=void 0,Ve=Oe.get("name"),ze=Ve?"withName":"withoutName";Fe=oe>1?ae.get(["series","multiple",ze]):ae.get(["series","single",ze]),Fe=L(Fe,{seriesId:Oe.seriesIndex,seriesName:Oe.get("name"),seriesType:z(Oe.subType)});var Et=Oe.getData();if(Et.count()>ie){var Dt=ae.get(["data","partialData"]);Fe+=L(Dt,{displayCnt:ie})}else Fe+=ae.get(["data","allData"]);for(var Ue=ae.get(["data","separator","middle"]),qe=ae.get(["data","separator","end"]),Lt=ae.get(["data","excludeDimensionId"]),Pt=[],At=0;At<Et.count();At++)if(At<ie){var vn=Et.getName(At),En=Lt?filter(Et.getValues(At),function(kt,jt){return indexOf(Lt,jt)===-1}):Et.getValues(At),Sn=ae.get(["data",vn?"withName":"withoutName"]);Pt.push(L(Sn,{name:vn,value:En.join(Ue)}))}Fe+=Pt.join(Ue)+qe,_e.push(Fe)}});var xe=ae.getModel(["series","multiple","separator"]),Ie=xe.get("middle"),$e=xe.get("end");de+=_e.join(Ie)+$e,j.setAttribute("aria-label",de)}}}}function L(j,re){if(!isString(j))return j;var ae=j;return each$f(re,function(oe,ie){ae=ae.replace(new RegExp("\\{\\s*"+ie+"\\s*\\}","g"),oe)}),ae}function V(){var j=t.get("title");return j&&j.length&&(j=j[0]),j&&j.text}function z(j){var re=t.getLocaleModel().get(["series","typeNames"]);return re[j]||re.chart}}function ariaPreprocessor(t){if(!(!t||!t.aria)){var n=t.aria;n.show!=null&&(n.enabled=n.show),n.label=n.label||{},each$f(["description","general","series","data"],function(r){n[r]!=null&&(n.label[r]=n[r])})}}function install$2(t){t.registerPreprocessor(ariaPreprocessor),t.registerVisual(t.PRIORITY.VISUAL.ARIA,ariaVisual)}var RELATIONAL_EXPRESSION_OP_ALIAS_MAP={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},RegExpEvaluator=function(){function t(n){var r=this._condVal=isString(n)?new RegExp(n):isRegExp(n)?n:null;if(r==null){var g="";throwError(g)}}return t.prototype.evaluate=function(n){var r=typeof n;return isString(r)?this._condVal.test(n):isNumber(r)?this._condVal.test(n+""):!1},t}(),ConstConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),AndConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(!n[r].evaluate())return!1;return!0},t}(),OrConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var n=this.children,r=0;r<n.length;r++)if(n[r].evaluate())return!0;return!1},t}(),NotConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),RelationalConditionInternal=function(){function t(){}return t.prototype.evaluate=function(){for(var n=!!this.valueParser,r=this.getValue,g=r(this.valueGetterParam),y=n?this.valueParser(g):null,$=0;$<this.subCondList.length;$++)if(!this.subCondList[$].evaluate(n?y:g))return!1;return!0},t}();function parseOption(t,n){if(t===!0||t===!1){var r=new ConstConditionInternal;return r.value=t,r}var g="";return isObjectNotArray(t)||throwError(g),t.and?parseAndOrOption("and",t,n):t.or?parseAndOrOption("or",t,n):t.not?parseNotOption(t,n):parseRelationalOption(t,n)}function parseAndOrOption(t,n,r){var g=n[t],y="";isArray$1(g)||throwError(y),g.length||throwError(y);var $=t==="and"?new AndConditionInternal:new OrConditionInternal;return $.children=map$1(g,function(L){return parseOption(L,r)}),$.children.length||throwError(y),$}function parseNotOption(t,n){var r=t.not,g="";isObjectNotArray(r)||throwError(g);var y=new NotConditionInternal;return y.child=parseOption(r,n),y.child||throwError(g),y}function parseRelationalOption(t,n){for(var r="",g=n.prepareGetValue(t),y=[],$=keys(t),L=t.parser,V=L?getRawValueParser(L):null,z=0;z<$.length;z++){var j=$[z];if(!(j==="parser"||n.valueGetterAttrMap.get(j))){var re=hasOwn(RELATIONAL_EXPRESSION_OP_ALIAS_MAP,j)?RELATIONAL_EXPRESSION_OP_ALIAS_MAP[j]:j,ae=t[j],oe=V?V(ae):ae,ie=createFilterComparator(re,oe)||re==="reg"&&new RegExpEvaluator(oe);ie||throwError(r),y.push(ie)}}y.length||throwError(r);var le=new RelationalConditionInternal;return le.valueGetterParam=g,le.valueParser=V,le.getValue=n.getValue,le.subCondList=y,le}function isObjectNotArray(t){return isObject$3(t)&&!isArrayLike(t)}var ConditionalExpressionParsed=function(){function t(n,r){this._cond=parseOption(n,r)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}();function parseConditionalExpression(t,n){return new ConditionalExpressionParsed(t,n)}var filterTransform={type:"echarts:filter",transform:function(t){for(var n=t.upstream,r,g=parseConditionalExpression(t.config,{valueGetterAttrMap:createHashMap({dimension:!0}),prepareGetValue:function(V){var z="",j=V.dimension;hasOwn(V,"dimension")||throwError(z);var re=n.getDimensionInfo(j);return re||throwError(z),{dimIdx:re.index}},getValue:function(V){return n.retrieveValueFromItem(r,V.dimIdx)}}),y=[],$=0,L=n.count();$<L;$++)r=n.getRawDataItem($),g.evaluate()&&y.push(r);return{data:y}}},sortTransform={type:"echarts:sort",transform:function(t){var n=t.upstream,r=t.config,g="",y=normalizeToArray(r);y.length||throwError(g);var $=[];each$f(y,function(re){var ae=re.dimension,oe=re.order,ie=re.parser,le=re.incomparable;if(ae==null&&throwError(g),oe!=="asc"&&oe!=="desc"&&throwError(g),le&&le!=="min"&&le!=="max"){var ue="";throwError(ue)}if(oe!=="asc"&&oe!=="desc"){var de="";throwError(de)}var he=n.getDimensionInfo(ae);he||throwError(g);var pe=ie?getRawValueParser(ie):null;ie&&!pe&&throwError(g),$.push({dimIdx:he.index,parser:pe,comparator:new SortOrderComparator(oe,le)})});var L=n.sourceFormat;L!==SOURCE_FORMAT_ARRAY_ROWS&&L!==SOURCE_FORMAT_OBJECT_ROWS&&throwError(g);for(var V=[],z=0,j=n.count();z<j;z++)V.push(n.getRawDataItem(z));return V.sort(function(re,ae){for(var oe=0;oe<$.length;oe++){var ie=$[oe],le=n.retrieveValueFromItem(re,ie.dimIdx),ue=n.retrieveValueFromItem(ae,ie.dimIdx);ie.parser&&(le=ie.parser(le),ue=ie.parser(ue));var de=ie.comparator.evaluate(le,ue);if(de!==0)return de}return 0}),{data:V}}};function install$1(t){t.registerTransform(filterTransform),t.registerTransform(sortTransform)}var DatasetModel=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return n.prototype.init=function(r,g,y){t.prototype.init.call(this,r,g,y),this._sourceManager=new SourceManager(this),disableTransformOptionMerge(this)},n.prototype.mergeOption=function(r,g){t.prototype.mergeOption.call(this,r,g),disableTransformOptionMerge(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN},n}(ComponentModel),DatasetView=function(t){__extends(n,t);function n(){var r=t!==null&&t.apply(this,arguments)||this;return r.type="dataset",r}return n.type="dataset",n}(ComponentView);function install(t){t.registerComponentModel(DatasetModel),t.registerComponentView(DatasetView)}var CMD=PathProxy.CMD;function aroundEqual(t,n){return Math.abs(t-n)<1e-5}function pathToBezierCurves(t){var n=t.data,r=t.len(),g=[],y,$=0,L=0,V=0,z=0;function j(Et,Dt){y&&y.length>2&&g.push(y),y=[Et,Dt]}function re(Et,Dt,Ue,qe){aroundEqual(Et,Ue)&&aroundEqual(Dt,qe)||y.push(Et,Dt,Ue,qe,Ue,qe)}function ae(Et,Dt,Ue,qe,Lt,Pt){var At=Math.abs(Dt-Et),vn=Math.tan(At/4)*4/3,En=Dt<Et?-1:1,Sn=Math.cos(Et),kt=Math.sin(Et),jt=Math.cos(Dt),_n=Math.sin(Dt),wn=Sn*Lt+Ue,hn=kt*Pt+qe,Cn=jt*Lt+Ue,Tn=_n*Pt+qe,xn=Lt*vn*En,Mn=Pt*vn*En;y.push(wn-xn*kt,hn+Mn*Sn,Cn+xn*_n,Tn-Mn*jt,Cn,Tn)}for(var oe,ie,le,ue,de=0;de<r;){var he=n[de++],pe=de===1;switch(pe&&($=n[de],L=n[de+1],V=$,z=L,(he===CMD.L||he===CMD.C||he===CMD.Q)&&(y=[V,z])),he){case CMD.M:$=V=n[de++],L=z=n[de++],j(V,z);break;case CMD.L:oe=n[de++],ie=n[de++],re($,L,oe,ie),$=oe,L=ie;break;case CMD.C:y.push(n[de++],n[de++],n[de++],n[de++],$=n[de++],L=n[de++]);break;case CMD.Q:oe=n[de++],ie=n[de++],le=n[de++],ue=n[de++],y.push($+2/3*(oe-$),L+2/3*(ie-L),le+2/3*(oe-le),ue+2/3*(ie-ue),le,ue),$=le,L=ue;break;case CMD.A:var _e=n[de++],Ce=n[de++],xe=n[de++],Ie=n[de++],$e=n[de++],Oe=n[de++]+$e;de+=1;var Ne=!n[de++];oe=Math.cos($e)*xe+_e,ie=Math.sin($e)*Ie+Ce,pe?(V=oe,z=ie,j(V,z)):re($,L,oe,ie),$=Math.cos(Oe)*xe+_e,L=Math.sin(Oe)*Ie+Ce;for(var Fe=(Ne?-1:1)*Math.PI/2,Ve=$e;Ne?Ve>Oe:Ve<Oe;Ve+=Fe){var ze=Ne?Math.max(Ve+Fe,Oe):Math.min(Ve+Fe,Oe);ae(Ve,ze,_e,Ce,xe,Ie)}break;case CMD.R:V=$=n[de++],z=L=n[de++],oe=V+n[de++],ie=z+n[de++],j(oe,z),re(oe,z,oe,ie),re(oe,ie,V,ie),re(V,ie,V,z),re(V,z,oe,z);break;case CMD.Z:y&&re($,L,V,z),$=V,L=z;break}}return y&&y.length>2&&g.push(y),g}function adpativeBezier(t,n,r,g,y,$,L,V,z,j){if(aroundEqual(t,r)&&aroundEqual(n,g)&&aroundEqual(y,L)&&aroundEqual($,V)){z.push(L,V);return}var re=2/j,ae=re*re,oe=L-t,ie=V-n,le=Math.sqrt(oe*oe+ie*ie);oe/=le,ie/=le;var ue=r-t,de=g-n,he=y-L,pe=$-V,_e=ue*ue+de*de,Ce=he*he+pe*pe;if(_e<ae&&Ce<ae){z.push(L,V);return}var xe=oe*ue+ie*de,Ie=-oe*he-ie*pe,$e=_e-xe*xe,Oe=Ce-Ie*Ie;if($e<ae&&xe>=0&&Oe<ae&&Ie>=0){z.push(L,V);return}var Ne=[],Fe=[];cubicSubdivide(t,r,y,L,.5,Ne),cubicSubdivide(n,g,$,V,.5,Fe),adpativeBezier(Ne[0],Fe[0],Ne[1],Fe[1],Ne[2],Fe[2],Ne[3],Fe[3],z,j),adpativeBezier(Ne[4],Fe[4],Ne[5],Fe[5],Ne[6],Fe[6],Ne[7],Fe[7],z,j)}function pathToPolygons(t,n){var r=pathToBezierCurves(t),g=[];n=n||1;for(var y=0;y<r.length;y++){var $=r[y],L=[],V=$[0],z=$[1];L.push(V,z);for(var j=2;j<$.length;){var re=$[j++],ae=$[j++],oe=$[j++],ie=$[j++],le=$[j++],ue=$[j++];adpativeBezier(V,z,re,ae,oe,ie,le,ue,L,n),V=le,z=ue}g.push(L)}return g}function getDividingGrids(t,n,r){var g=t[n],y=t[1-n],$=Math.abs(g/y),L=Math.ceil(Math.sqrt($*r)),V=Math.floor(r/L);V===0&&(V=1,L=r);for(var z=[],j=0;j<L;j++)z.push(V);var re=L*V,ae=r-re;if(ae>0)for(var j=0;j<ae;j++)z[j%L]+=1;return z}function divideSector(t,n,r){for(var g=t.r0,y=t.r,$=t.startAngle,L=t.endAngle,V=Math.abs(L-$),z=V*y,j=y-g,re=z>Math.abs(j),ae=getDividingGrids([z,j],re?0:1,n),oe=(re?V:j)/ae.length,ie=0;ie<ae.length;ie++)for(var le=(re?j:V)/ae[ie],ue=0;ue<ae[ie];ue++){var de={};re?(de.startAngle=$+oe*ie,de.endAngle=$+oe*(ie+1),de.r0=g+le*ue,de.r=g+le*(ue+1)):(de.startAngle=$+le*ue,de.endAngle=$+le*(ue+1),de.r0=g+oe*ie,de.r=g+oe*(ie+1)),de.clockwise=t.clockwise,de.cx=t.cx,de.cy=t.cy,r.push(de)}}function divideRect(t,n,r){for(var g=t.width,y=t.height,$=g>y,L=getDividingGrids([g,y],$?0:1,n),V=$?"width":"height",z=$?"height":"width",j=$?"x":"y",re=$?"y":"x",ae=t[V]/L.length,oe=0;oe<L.length;oe++)for(var ie=t[z]/L[oe],le=0;le<L[oe];le++){var ue={};ue[j]=oe*ae,ue[re]=le*ie,ue[V]=ae,ue[z]=ie,ue.x+=t.x,ue.y+=t.y,r.push(ue)}}function crossProduct2d(t,n,r,g){return t*g-r*n}function lineLineIntersect(t,n,r,g,y,$,L,V){var z=r-t,j=g-n,re=L-y,ae=V-$,oe=crossProduct2d(re,ae,z,j);if(Math.abs(oe)<1e-6)return null;var ie=t-y,le=n-$,ue=crossProduct2d(ie,le,re,ae)/oe;return ue<0||ue>1?null:new Point(ue*z+t,ue*j+n)}function projPtOnLine(t,n,r){var g=new Point;Point.sub(g,r,n),g.normalize();var y=new Point;Point.sub(y,t,n);var $=y.dot(g);return $}function addToPoly(t,n){var r=t[t.length-1];r&&r[0]===n[0]&&r[1]===n[1]||t.push(n)}function splitPolygonByLine(t,n,r){for(var g=t.length,y=[],$=0;$<g;$++){var L=t[$],V=t[($+1)%g],z=lineLineIntersect(L[0],L[1],V[0],V[1],n.x,n.y,r.x,r.y);z&&y.push({projPt:projPtOnLine(z,n,r),pt:z,idx:$})}if(y.length<2)return[{points:t},{points:t}];y.sort(function(de,he){return de.projPt-he.projPt});var j=y[0],re=y[y.length-1];if(re.idx<j.idx){var ae=j;j=re,re=ae}for(var oe=[j.pt.x,j.pt.y],ie=[re.pt.x,re.pt.y],le=[oe],ue=[ie],$=j.idx+1;$<=re.idx;$++)addToPoly(le,t[$].slice());addToPoly(le,ie),addToPoly(le,oe);for(var $=re.idx+1;$<=j.idx+g;$++)addToPoly(ue,t[$%g].slice());return addToPoly(ue,oe),addToPoly(ue,ie),[{points:le},{points:ue}]}function binaryDividePolygon(t){var n=t.points,r=[],g=[];fromPoints(n,r,g);var y=new BoundingRect(r[0],r[1],g[0]-r[0],g[1]-r[1]),$=y.width,L=y.height,V=y.x,z=y.y,j=new Point,re=new Point;return $>L?(j.x=re.x=V+$/2,j.y=z,re.y=z+L):(j.y=re.y=z+L/2,j.x=V,re.x=V+$),splitPolygonByLine(n,j,re)}function binaryDivideRecursive(t,n,r,g){if(r===1)g.push(n);else{var y=Math.floor(r/2),$=t(n);binaryDivideRecursive(t,$[0],y,g),binaryDivideRecursive(t,$[1],r-y,g)}return g}function clone(t,n){for(var r=[],g=0;g<n;g++)r.push(clonePath(t));return r}function copyPathProps(t,n){n.setStyle(t.style),n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel}function polygonConvert(t){for(var n=[],r=0;r<t.length;)n.push([t[r++],t[r++]]);return n}function split(t,n){var r=[],g=t.shape,y;switch(t.type){case"rect":divideRect(g,n,r),y=Rect$2;break;case"sector":divideSector(g,n,r),y=Sector;break;case"circle":divideSector({r0:0,r:g.r,startAngle:0,endAngle:Math.PI*2,cx:g.cx,cy:g.cy},n,r),y=Sector;break;default:var $=t.getComputedTransform(),L=$?Math.sqrt(Math.max($[0]*$[0]+$[1]*$[1],$[2]*$[2]+$[3]*$[3])):1,V=map$1(pathToPolygons(t.getUpdatedPathProxy(),L),function(he){return polygonConvert(he)}),z=V.length;if(z===0)binaryDivideRecursive(binaryDividePolygon,{points:V[0]},n,r);else if(z===n)for(var j=0;j<z;j++)r.push({points:V[j]});else{var re=0,ae=map$1(V,function(he){var pe=[],_e=[];fromPoints(he,pe,_e);var Ce=(_e[1]-pe[1])*(_e[0]-pe[0]);return re+=Ce,{poly:he,area:Ce}});ae.sort(function(he,pe){return pe.area-he.area});for(var oe=n,j=0;j<z;j++){var ie=ae[j];if(oe<=0)break;var le=j===z-1?oe:Math.ceil(ie.area/re*n);le<0||(binaryDivideRecursive(binaryDividePolygon,{points:ie.poly},le,r),oe-=le)}}y=Polygon;break}if(!y)return clone(t,n);for(var ue=[],j=0;j<r.length;j++){var de=new y;de.setShape(r[j]),copyPathProps(t,de),ue.push(de)}return ue}function alignSubpath(t,n){var r=t.length,g=n.length;if(r===g)return[t,n];for(var y=[],$=[],L=r<g?t:n,V=Math.min(r,g),z=Math.abs(g-r)/6,j=(V-2)/6,re=Math.ceil(z/j)+1,ae=[L[0],L[1]],oe=z,ie=2;ie<V;){var le=L[ie-2],ue=L[ie-1],de=L[ie++],he=L[ie++],pe=L[ie++],_e=L[ie++],Ce=L[ie++],xe=L[ie++];if(oe<=0){ae.push(de,he,pe,_e,Ce,xe);continue}for(var Ie=Math.min(oe,re-1)+1,$e=1;$e<=Ie;$e++){var Oe=$e/Ie;cubicSubdivide(le,de,pe,Ce,Oe,y),cubicSubdivide(ue,he,_e,xe,Oe,$),le=y[3],ue=$[3],ae.push(y[1],$[1],y[2],$[2],le,ue),de=y[5],he=$[5],pe=y[6],_e=$[6]}oe-=Ie-1}return L===t?[ae,n]:[t,ae]}function createSubpath(t,n){for(var r=t.length,g=t[r-2],y=t[r-1],$=[],L=0;L<n.length;)$[L++]=g,$[L++]=y;return $}function alignBezierCurves(t,n){for(var r,g,y,$=[],L=[],V=0;V<Math.max(t.length,n.length);V++){var z=t[V],j=n[V],re=void 0,ae=void 0;z?j?(r=alignSubpath(z,j),re=r[0],ae=r[1],g=re,y=ae):(ae=createSubpath(y||z,z),re=z):(re=createSubpath(g||j,j),ae=j),$.push(re),L.push(ae)}return[$,L]}function centroid(t){for(var n=0,r=0,g=0,y=t.length,$=0,L=y-2;$<y;L=$,$+=2){var V=t[L],z=t[L+1],j=t[$],re=t[$+1],ae=V*re-j*z;n+=ae,r+=(V+j)*ae,g+=(z+re)*ae}return n===0?[t[0]||0,t[1]||0]:[r/n/3,g/n/3,n]}function findBestRingOffset(t,n,r,g){for(var y=(t.length-2)/6,$=1/0,L=0,V=t.length,z=V-2,j=0;j<y;j++){for(var re=j*6,ae=0,oe=0;oe<V;oe+=2){var ie=oe===0?re:(re+oe-2)%z+2,le=t[ie]-r[0],ue=t[ie+1]-r[1],de=n[oe]-g[0],he=n[oe+1]-g[1],pe=de-le,_e=he-ue;ae+=pe*pe+_e*_e}ae<$&&($=ae,L=j)}return L}function reverse(t){for(var n=[],r=t.length,g=0;g<r;g+=2)n[g]=t[r-g-2],n[g+1]=t[r-g-1];return n}function findBestMorphingRotation(t,n,r,g){for(var y=[],$,L=0;L<t.length;L++){var V=t[L],z=n[L],j=centroid(V),re=centroid(z);$==null&&($=j[2]<0!=re[2]<0);var ae=[],oe=[],ie=0,le=1/0,ue=[],de=V.length;$&&(V=reverse(V));for(var he=findBestRingOffset(V,z,j,re)*6,pe=de-2,_e=0;_e<pe;_e+=2){var Ce=(he+_e)%pe+2;ae[_e+2]=V[Ce]-j[0],ae[_e+3]=V[Ce+1]-j[1]}ae[0]=V[he]-j[0],ae[1]=V[he+1]-j[1];for(var xe=g/r,Ie=-g/2;Ie<=g/2;Ie+=xe){for(var $e=Math.sin(Ie),Oe=Math.cos(Ie),Ne=0,_e=0;_e<V.length;_e+=2){var Fe=ae[_e],Ve=ae[_e+1],ze=z[_e]-re[0],Et=z[_e+1]-re[1],Dt=ze*Oe-Et*$e,Ue=ze*$e+Et*Oe;ue[_e]=Dt,ue[_e+1]=Ue;var qe=Dt-Fe,Lt=Ue-Ve;Ne+=qe*qe+Lt*Lt}if(Ne<le){le=Ne,ie=Ie;for(var Pt=0;Pt<ue.length;Pt++)oe[Pt]=ue[Pt]}}y.push({from:ae,to:oe,fromCp:j,toCp:re,rotation:-ie})}return y}function isCombineMorphing(t){return t.__isCombineMorphing}var SAVED_METHOD_PREFIX="__mOriginal_";function saveAndModifyMethod(t,n,r){var g=SAVED_METHOD_PREFIX+n,y=t[g]||t[n];t[g]||(t[g]=t[n]);var $=r.replace,L=r.after,V=r.before;t[n]=function(){var z=arguments,j;return V&&V.apply(this,z),$?j=$.apply(this,z):j=y.apply(this,z),L&&L.apply(this,z),j}}function restoreMethod(t,n){var r=SAVED_METHOD_PREFIX+n;t[r]&&(t[n]=t[r],t[r]=null)}function applyTransformOnBeziers(t,n){for(var r=0;r<t.length;r++)for(var g=t[r],y=0;y<g.length;){var $=g[y],L=g[y+1];g[y++]=n[0]*$+n[2]*L+n[4],g[y++]=n[1]*$+n[3]*L+n[5]}}function prepareMorphPath(t,n){var r=t.getUpdatedPathProxy(),g=n.getUpdatedPathProxy(),y=alignBezierCurves(pathToBezierCurves(r),pathToBezierCurves(g)),$=y[0],L=y[1],V=t.getComputedTransform(),z=n.getComputedTransform();function j(){this.transform=null}V&&applyTransformOnBeziers($,V),z&&applyTransformOnBeziers(L,z),saveAndModifyMethod(n,"updateTransform",{replace:j}),n.transform=null;var re=findBestMorphingRotation($,L,10,Math.PI),ae=[];saveAndModifyMethod(n,"buildPath",{replace:function(oe){for(var ie=n.__morphT,le=1-ie,ue=[],de=0;de<re.length;de++){var he=re[de],pe=he.from,_e=he.to,Ce=he.rotation*ie,xe=he.fromCp,Ie=he.toCp,$e=Math.sin(Ce),Oe=Math.cos(Ce);lerp$1(ue,xe,Ie,ie);for(var Ne=0;Ne<pe.length;Ne+=2){var Fe=pe[Ne],Ve=pe[Ne+1],ze=_e[Ne],Et=_e[Ne+1],Dt=Fe*le+ze*ie,Ue=Ve*le+Et*ie;ae[Ne]=Dt*Oe-Ue*$e+ue[0],ae[Ne+1]=Dt*$e+Ue*Oe+ue[1]}var qe=ae[0],Lt=ae[1];oe.moveTo(qe,Lt);for(var Ne=2;Ne<pe.length;){var ze=ae[Ne++],Et=ae[Ne++],Pt=ae[Ne++],At=ae[Ne++],vn=ae[Ne++],En=ae[Ne++];qe===ze&&Lt===Et&&Pt===vn&&At===En?oe.lineTo(vn,En):oe.bezierCurveTo(ze,Et,Pt,At,vn,En),qe=vn,Lt=En}}}})}function morphPath(t,n,r){if(!t||!n)return n;var g=r.done,y=r.during;prepareMorphPath(t,n),n.__morphT=0;function $(){restoreMethod(n,"buildPath"),restoreMethod(n,"updateTransform"),n.__morphT=-1,n.createPathProxy(),n.dirtyShape()}return n.animateTo({__morphT:1},defaults({during:function(L){n.dirtyShape(),y&&y(L)},done:function(){$(),g&&g()}},r)),n}function hilbert(t,n,r,g,y,$){var L=16;t=y===r?0:Math.round(32767*(t-r)/(y-r)),n=$===g?0:Math.round(32767*(n-g)/($-g));for(var V=0,z,j=(1<<L)/2;j>0;j/=2){var re=0,ae=0;(t&j)>0&&(re=1),(n&j)>0&&(ae=1),V+=j*j*(3*re^ae),ae===0&&(re===1&&(t=j-1-t,n=j-1-n),z=t,t=n,n=z)}return V}function sortPaths(t){var n=1/0,r=1/0,g=-1/0,y=-1/0,$=map$1(t,function(V){var z=V.getBoundingRect(),j=V.getComputedTransform(),re=z.x+z.width/2+(j?j[4]:0),ae=z.y+z.height/2+(j?j[5]:0);return n=Math.min(re,n),r=Math.min(ae,r),g=Math.max(re,g),y=Math.max(ae,y),[re,ae]}),L=map$1($,function(V,z){return{cp:V,z:hilbert(V[0],V[1],n,r,g,y),path:t[z]}});return L.sort(function(V,z){return V.z-z.z}).map(function(V){return V.path})}function defaultDividePath(t){return split(t.path,t.count)}function createEmptyReturn(){return{fromIndividuals:[],toIndividuals:[],count:0}}function combineMorph(t,n,r){var g=[];function y(xe){for(var Ie=0;Ie<xe.length;Ie++){var $e=xe[Ie];isCombineMorphing($e)?y($e.childrenRef()):$e instanceof Path&&g.push($e)}}y(t);var $=g.length;if(!$)return createEmptyReturn();var L=r.dividePath||defaultDividePath,V=L({path:n,count:$});if(V.length!==$)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn();g=sortPaths(g),V=sortPaths(V);for(var z=r.done,j=r.during,re=r.individualDelay,ae=new Transformable,oe=0;oe<$;oe++){var ie=g[oe],le=V[oe];le.parent=n,le.copyTransform(ae),re||prepareMorphPath(ie,le)}n.__isCombineMorphing=!0,n.childrenRef=function(){return V};function ue(xe){for(var Ie=0;Ie<V.length;Ie++)V[Ie].addSelfToZr(xe)}saveAndModifyMethod(n,"addSelfToZr",{after:function(xe){ue(xe)}}),saveAndModifyMethod(n,"removeSelfFromZr",{after:function(xe){for(var Ie=0;Ie<V.length;Ie++)V[Ie].removeSelfFromZr(xe)}});function de(){n.__isCombineMorphing=!1,n.__morphT=-1,n.childrenRef=null,restoreMethod(n,"addSelfToZr"),restoreMethod(n,"removeSelfFromZr")}var he=V.length;if(re)for(var pe=he,_e=function(){pe--,pe===0&&(de(),z&&z())},oe=0;oe<he;oe++){var Ce=re?defaults({delay:(r.delay||0)+re(oe,he,g[oe],V[oe]),done:_e},r):r;morphPath(g[oe],V[oe],Ce)}else n.__morphT=0,n.animateTo({__morphT:1},defaults({during:function(xe){for(var Ie=0;Ie<he;Ie++){var $e=V[Ie];$e.__morphT=n.__morphT,$e.dirtyShape()}j&&j(xe)},done:function(){de();for(var xe=0;xe<t.length;xe++)restoreMethod(t[xe],"updateTransform");z&&z()}},r));return n.__zr&&ue(n.__zr),{fromIndividuals:g,toIndividuals:V,count:he}}function separateMorph(t,n,r){var g=n.length,y=[],$=r.dividePath||defaultDividePath;function L(ie){for(var le=0;le<ie.length;le++){var ue=ie[le];isCombineMorphing(ue)?L(ue.childrenRef()):ue instanceof Path&&y.push(ue)}}if(isCombineMorphing(t)){L(t.childrenRef());var V=y.length;if(V<g)for(var z=0,j=V;j<g;j++)y.push(clonePath(y[z++%V]));y.length=g}else{y=$({path:t,count:g});for(var re=t.getComputedTransform(),j=0;j<y.length;j++)y[j].setLocalTransform(re);if(y.length!==g)return console.error("Invalid morphing: unmatched splitted path"),createEmptyReturn()}y=sortPaths(y),n=sortPaths(n);for(var ae=r.individualDelay,j=0;j<g;j++){var oe=ae?defaults({delay:(r.delay||0)+ae(j,g,y[j],n[j])},r):r;morphPath(y[j],n[j],oe)}return{fromIndividuals:y,toIndividuals:n,count:n.length}}function isMultiple(t){return isArray$1(t[0])}function prepareMorphBatches(t,n){for(var r=[],g=t.length,y=0;y<g;y++)r.push({one:t[y],many:[]});for(var y=0;y<n.length;y++){var $=n[y].length,L=void 0;for(L=0;L<$;L++)r[L%g].many.push(n[y][L])}for(var V=0,y=g-1;y>=0;y--)if(!r[y].many.length){var z=r[V].many;if(z.length<=1)if(V)V=0;else return r;var $=z.length,j=Math.ceil($/2);r[y].many=z.slice(j,$),r[V].many=z.slice(0,j),V++}return r}var pathDividers={clone:function(t){for(var n=[],r=1-Math.pow(1-t.path.style.opacity,1/t.count),g=0;g<t.count;g++){var y=clonePath(t.path);y.setStyle("opacity",r),n.push(y)}return n},split:null};function applyMorphAnimation(t,n,r,g,y,$){if(!t.length||!n.length)return;var L=getAnimationConfig("update",g,y);if(!(L&&L.duration>0))return;var V=g.getModel("universalTransition").get("delay"),z=Object.assign({setToFinal:!0},L),j,re;isMultiple(t)&&(j=t,re=n),isMultiple(n)&&(j=n,re=t);function ae(he,pe,_e,Ce,xe){var Ie=he.many,$e=he.one;if(Ie.length===1&&!xe){var Oe=pe?Ie[0]:$e,Ne=pe?$e:Ie[0];if(isCombineMorphing(Oe))ae({many:[Oe],one:Ne},!0,_e,Ce,!0);else{var Fe=V?defaults({delay:V(_e,Ce)},z):z;morphPath(Oe,Ne,Fe),$(Oe,Ne,Oe,Ne,Fe)}}else for(var Ve=defaults({dividePath:pathDividers[r],individualDelay:V&&function(Lt,Pt,At,vn){return V(Lt+_e,Ce)}},z),ze=pe?combineMorph(Ie,$e,Ve):separateMorph($e,Ie,Ve),Et=ze.fromIndividuals,Dt=ze.toIndividuals,Ue=Et.length,qe=0;qe<Ue;qe++){var Fe=V?defaults({delay:V(qe,Ue)},z):z;$(Et[qe],Dt[qe],pe?Ie[qe]:he.one,pe?he.one:Ie[qe],Fe)}}for(var oe=j?j===t:t.length>n.length,ie=j?prepareMorphBatches(re,j):prepareMorphBatches(oe?n:t,[oe?t:n]),le=0,ue=0;ue<ie.length;ue++)le+=ie[ue].many.length;for(var de=0,ue=0;ue<ie.length;ue++)ae(ie[ue],oe,de,le),de+=ie[ue].many.length}function getPathList(t){if(!t)return[];if(isArray$1(t)){for(var n=[],r=0;r<t.length;r++)n.push(getPathList(t[r]));return n}var g=[];return t.traverse(function(y){y instanceof Path&&!y.disableMorphing&&!y.invisible&&!y.ignore&&g.push(y)}),g}var DATA_COUNT_THRESHOLD=1e4,TRANSITION_NONE=0,TRANSITION_P2C=1,TRANSITION_C2P=2,getUniversalTransitionGlobalStore=makeInner();function getDimension(t,n){for(var r=t.dimensions,g=0;g<r.length;g++){var y=t.getDimensionInfo(r[g]);if(y&&y.otherDims[n]===0)return r[g]}}function getValueByDimension(t,n,r){var g=t.getDimensionInfo(r),y=g&&g.ordinalMeta;if(g){var $=t.get(g.name,n);return y&&y.categories[$]||$+""}}function getGroupId(t,n,r,g){var y=g?"itemChildGroupId":"itemGroupId",$=getDimension(t,y);if($){var L=getValueByDimension(t,n,$);return L}var V=t.getRawDataItem(n),z=g?"childGroupId":"groupId";if(V&&V[z])return V[z]+"";if(!g)return r||t.getId(n)}function flattenDataDiffItems(t){var n=[];return each$f(t,function(r){var g=r.data,y=r.dataGroupId;if(!(g.count()>DATA_COUNT_THRESHOLD))for(var $=g.getIndices(),L=0;L<$.length;L++)n.push({data:g,groupId:getGroupId(g,L,y,!1),childGroupId:getGroupId(g,L,y,!0),divide:r.divide,dataIndex:L})}),n}function fadeInElement(t,n,r){t.traverse(function(g){g instanceof Path&&initProps(g,{style:{opacity:0}},n,{dataIndex:r,isFrom:!0})})}function removeEl(t){if(t.parent){var n=t.getComputedTransform();t.setLocalTransform(n),t.parent.remove(t)}}function stopAnimation(t){t.stopAnimation(),t.isGroup&&t.traverse(function(n){n.stopAnimation()})}function animateElementStyles(t,n,r){var g=getAnimationConfig("update",r,n);g&&t.traverse(function(y){if(y instanceof Displayable){var $=getOldStyle(y);$&&y.animateFrom({style:$},g)}})}function isAllIdSame(t,n){var r=t.length;if(r!==n.length)return!1;for(var g=0;g<r;g++){var y=t[g],$=n[g];if(y.data.getId(y.dataIndex)!==$.data.getId($.dataIndex))return!1}return!0}function transitionBetween(t,n,r){var g=flattenDataDiffItems(t),y=flattenDataDiffItems(n);function $(_e,Ce,xe,Ie,$e){(xe||_e)&&Ce.animateFrom({style:xe&&xe!==_e?extend(extend({},xe.style),_e.style):_e.style},$e)}var L=!1,V=TRANSITION_NONE,z=createHashMap(),j=createHashMap();g.forEach(function(_e){_e.groupId&&z.set(_e.groupId,!0),_e.childGroupId&&j.set(_e.childGroupId,!0)});for(var re=0;re<y.length;re++){var ae=y[re].groupId;if(j.get(ae)){V=TRANSITION_P2C;break}var oe=y[re].childGroupId;if(oe&&z.get(oe)){V=TRANSITION_C2P;break}}function ie(_e,Ce){return function(xe){var Ie=xe.data,$e=xe.dataIndex;return Ce?Ie.getId($e):_e?V===TRANSITION_P2C?xe.childGroupId:xe.groupId:V===TRANSITION_C2P?xe.childGroupId:xe.groupId}}var le=isAllIdSame(g,y),ue={};if(!le)for(var re=0;re<y.length;re++){var de=y[re],he=de.data.getItemGraphicEl(de.dataIndex);he&&(ue[he.id]=!0)}function pe(_e,Ce){var xe=g[Ce],Ie=y[_e],$e=Ie.data.hostModel,Oe=xe.data.getItemGraphicEl(xe.dataIndex),Ne=Ie.data.getItemGraphicEl(Ie.dataIndex);if(Oe===Ne){Ne&&animateElementStyles(Ne,Ie.dataIndex,$e);return}Oe&&ue[Oe.id]||Ne&&(stopAnimation(Ne),Oe?(stopAnimation(Oe),removeEl(Oe),L=!0,applyMorphAnimation(getPathList(Oe),getPathList(Ne),Ie.divide,$e,_e,$)):fadeInElement(Ne,$e,_e))}new DataDiffer(g,y,ie(!0,le),ie(!1,le),null,"multiple").update(pe).updateManyToOne(function(_e,Ce){var xe=y[_e],Ie=xe.data,$e=Ie.hostModel,Oe=Ie.getItemGraphicEl(xe.dataIndex),Ne=filter(map$1(Ce,function(Fe){return g[Fe].data.getItemGraphicEl(g[Fe].dataIndex)}),function(Fe){return Fe&&Fe!==Oe&&!ue[Fe.id]});Oe&&(stopAnimation(Oe),Ne.length?(each$f(Ne,function(Fe){stopAnimation(Fe),removeEl(Fe)}),L=!0,applyMorphAnimation(getPathList(Ne),getPathList(Oe),xe.divide,$e,_e,$)):fadeInElement(Oe,$e,xe.dataIndex))}).updateOneToMany(function(_e,Ce){var xe=g[Ce],Ie=xe.data.getItemGraphicEl(xe.dataIndex);if(!(Ie&&ue[Ie.id])){var $e=filter(map$1(_e,function(Ne){return y[Ne].data.getItemGraphicEl(y[Ne].dataIndex)}),function(Ne){return Ne&&Ne!==Ie}),Oe=y[_e[0]].data.hostModel;$e.length&&(each$f($e,function(Ne){return stopAnimation(Ne)}),Ie?(stopAnimation(Ie),removeEl(Ie),L=!0,applyMorphAnimation(getPathList(Ie),getPathList($e),xe.divide,Oe,_e[0],$)):each$f($e,function(Ne){return fadeInElement(Ne,Oe,_e[0])}))}}).updateManyToMany(function(_e,Ce){new DataDiffer(Ce,_e,function(xe){return g[xe].data.getId(g[xe].dataIndex)},function(xe){return y[xe].data.getId(y[xe].dataIndex)}).update(function(xe,Ie){pe(_e[xe],Ce[Ie])}).execute()}).execute(),L&&each$f(n,function(_e){var Ce=_e.data,xe=Ce.hostModel,Ie=xe&&r.getViewOfSeriesModel(xe),$e=getAnimationConfig("update",xe,0);Ie&&xe.isAnimationEnabled()&&$e&&$e.duration>0&&Ie.group.traverse(function(Oe){Oe instanceof Path&&!Oe.animators.length&&Oe.animateFrom({style:{opacity:0}},$e)})})}function getSeriesTransitionKey(t){var n=t.getModel("universalTransition").get("seriesKey");return n||t.id}function convertArraySeriesKeyToString(t){return isArray$1(t)?t.sort().join(","):t}function getDivideShapeFromData(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function findTransitionSeriesBatches(t,n){var r=createHashMap(),g=createHashMap(),y=createHashMap();return each$f(t.oldSeries,function($,L){var V=t.oldDataGroupIds[L],z=t.oldData[L],j=getSeriesTransitionKey($),re=convertArraySeriesKeyToString(j);g.set(re,{dataGroupId:V,data:z}),isArray$1(j)&&each$f(j,function(ae){y.set(ae,{key:re,dataGroupId:V,data:z})})}),each$f(n.updatedSeries,function($){if($.isUniversalTransitionEnabled()&&$.isAnimationEnabled()){var L=$.get("dataGroupId"),V=$.getData(),z=getSeriesTransitionKey($),j=convertArraySeriesKeyToString(z),re=g.get(j);if(re)r.set(j,{oldSeries:[{dataGroupId:re.dataGroupId,divide:getDivideShapeFromData(re.data),data:re.data}],newSeries:[{dataGroupId:L,divide:getDivideShapeFromData(V),data:V}]});else if(isArray$1(z)){var ae=[];each$f(z,function(le){var ue=g.get(le);ue.data&&ae.push({dataGroupId:ue.dataGroupId,divide:getDivideShapeFromData(ue.data),data:ue.data})}),ae.length&&r.set(j,{oldSeries:ae,newSeries:[{dataGroupId:L,data:V,divide:getDivideShapeFromData(V)}]})}else{var oe=y.get(z);if(oe){var ie=r.get(oe.key);ie||(ie={oldSeries:[{dataGroupId:oe.dataGroupId,data:oe.data,divide:getDivideShapeFromData(oe.data)}],newSeries:[]},r.set(oe.key,ie)),ie.newSeries.push({dataGroupId:L,data:V,divide:getDivideShapeFromData(V)})}}}}),r}function querySeries(t,n){for(var r=0;r<t.length;r++){var g=n.seriesIndex!=null&&n.seriesIndex===t[r].seriesIndex||n.seriesId!=null&&n.seriesId===t[r].id;if(g)return r}}function transitionSeriesFromOpt(t,n,r,g){var y=[],$=[];each$f(normalizeToArray(t.from),function(L){var V=querySeries(n.oldSeries,L);V>=0&&y.push({dataGroupId:n.oldDataGroupIds[V],data:n.oldData[V],divide:getDivideShapeFromData(n.oldData[V]),groupIdDim:L.dimension})}),each$f(normalizeToArray(t.to),function(L){var V=querySeries(r.updatedSeries,L);if(V>=0){var z=r.updatedSeries[V].getData();$.push({dataGroupId:n.oldDataGroupIds[V],data:z,divide:getDivideShapeFromData(z),groupIdDim:L.dimension})}}),y.length>0&&$.length>0&&transitionBetween(y,$,g)}function installUniversalTransition(t){t.registerUpdateLifecycle("series:beforeupdate",function(n,r,g){each$f(normalizeToArray(g.seriesTransition),function(y){each$f(normalizeToArray(y.to),function($){for(var L=g.updatedSeries,V=0;V<L.length;V++)($.seriesIndex!=null&&$.seriesIndex===L[V].seriesIndex||$.seriesId!=null&&$.seriesId===L[V].id)&&(L[V][SERIES_UNIVERSAL_TRANSITION_PROP]=!0)})})}),t.registerUpdateLifecycle("series:transition",function(n,r,g){var y=getUniversalTransitionGlobalStore(r);if(y.oldSeries&&g.updatedSeries&&g.optionChanged){var $=g.seriesTransition;if($)each$f(normalizeToArray($),function(ie){transitionSeriesFromOpt(ie,y,g,r)});else{var L=findTransitionSeriesBatches(y,g);each$f(L.keys(),function(ie){var le=L.get(ie);transitionBetween(le.oldSeries,le.newSeries,r)})}each$f(g.updatedSeries,function(ie){ie[SERIES_UNIVERSAL_TRANSITION_PROP]&&(ie[SERIES_UNIVERSAL_TRANSITION_PROP]=!1)})}for(var V=n.getSeries(),z=y.oldSeries=[],j=y.oldDataGroupIds=[],re=y.oldData=[],ae=0;ae<V.length;ae++){var oe=V[ae].getData();oe.count()<DATA_COUNT_THRESHOLD&&(z.push(V[ae]),j.push(V[ae].get("dataGroupId")),re.push(oe))}})}use([install$R]);use([install$S]);use([install$Q,install$P,install$O,install$M,install$K,install$I,install$H,install$G,install$F,install$E,install$D,install$B,install$A,install$z,install$y,install$x,install$w,install$v,install$u,install$t,install$s,install$r]);use(install$p);use(install$o);use(install$J);use(install$n);use(install$C);use(install$m);use(install$l);use(install$j);use(install$i);use(install$q);use(install$h);use(install$g);use(install$f);use(install$e);use(install$d);use(install$c);use(install$9);use(install$6);use(install$8);use(install$7);use(install$3);use(install$5);use(install$4);use(install$2);use(install$1);use(install);use(installUniversalTransition);use(installLabelLayout);const _hoisted_1$5={class:"home-main"},_sfc_main$a={__name:"Home",setup(t){const n=ref(null);let r=null;ref(!1);async function g(){const V=await(await fetch("/data/map-eng/china_full.json")).json();registerMap$1("china_full",V)}async function y(){const V=await(await fetch("/data/homepage-eng/homepage.json")).json(),z=new Set(V.map(ie=>ie.name)),j=V.map(ie=>ie.value).filter(ie=>typeof ie=="number"),re=Math.min(...j),ae=Math.max(...j),oe={tooltip:{trigger:"item",formatter:ie=>z.has(ie.name)?`${ie.name}${ie.value??"No data yet"}`:`${ie.name}No data yet`},visualMap:{show:!1,min:re,max:ae,left:"left",bottom:"10%",text:[ae,re],inRange:{color:["#fff1e0","#f2cba0","#e39c6f","#d07451","#a84339"]},calculable:!1},series:[{type:"map",map:"china_full",roam:!1,zoom:1.2,center:[104,35],scaleLimit:{min:1.2,max:5},label:{show:!0,formatter:ie=>z.has(ie.name)?ie.name:"",fontSize:10},data:V}]};r&&r.setOption(oe)}function $(){r&&r.resize()}return onMounted(async()=>{await nextTick(),r=init$1(n.value),r.showLoading("default",{text:"Loading map...",color:"#409EFF",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)"});try{await g(),await new Promise(L=>setTimeout(L,0)),await y()}catch(L){console.error(":",L)}finally{r.hideLoading()}window.addEventListener("resize",$)}),onUnmounted(()=>{r&&(r.dispose(),r=null),window.removeEventListener("resize",$)}),(L,V)=>{const z=resolveComponent("el-divider"),j=resolveComponent("el-col"),re=resolveComponent("el-row");return openBlock(),createElementBlock("div",_hoisted_1$5,[V[1]||(V[1]=createBaseVNode("h1",null,"CPPS Homepage",-1)),createVNode$1(z),createVNode$1(re,null,{default:withCtx(()=>[createVNode$1(j,{span:24,class:"text-center"},{default:withCtx(()=>V[0]||(V[0]=[createBaseVNode("div",{class:"introduction"},"Welcome to the website of the China Preference and Personality Survey (CPPS).",-1),createBaseVNode("div",{class:"introduction"},"This project represents the first nationwide, large-scale investigation of economic preferences and personality traits in China. Covering all 337 prefecture-level cities and with a sample of 109,658 participants, our survey provides a groundbreaking micro-level dataset for a deeper understanding of individual behavior in contemporary China.",-1),createBaseVNode("div",{class:"introduction"},[createTextVNode(" The CPPS systematically measures a range of core indicators, including: "),createBaseVNode("br"),createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("span",{class:"emphasis"},"Economic Preferences"),createTextVNode(": risk preference, time preference, and social preferences (e.g., altruism, trust, reciprocity and competitiveness).")]),createBaseVNode("li",null,[createBaseVNode("span",{class:"emphasis"},"Behavioral Traits"),createTextVNode(": loss aversion, allais behavior, longshot bias and present bias.")]),createBaseVNode("li",null,[createBaseVNode("span",{class:"emphasis"},"Personality Traits"),createTextVNode(": The Big Five personality.")])])],-1)])),_:1,__:[0]}),createVNode$1(j,{span:24,class:"text-center"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"chartRef",ref:n,class:"chart-container"},null,512)]),_:1})]),_:1})])}}},Home=_export_sfc(_sfc_main$a,[["__scopeId","data-v-95cb3872"]]),_sfc_main$9={};function _sfc_render$5(t,n){return null}const About=_export_sfc(_sfc_main$9,[["render",_sfc_render$5]]),_imports_0="/data/images/design.jpg",_sfc_main$8={},_hoisted_1$4={class:"home-main"};function _sfc_render$4(t,n){const r=resolveComponent("el-divider");return openBlock(),createElementBlock("div",_hoisted_1$4,[n[0]||(n[0]=createBaseVNode("h1",null,"CPPS Design",-1)),createVNode$1(r),n[1]||(n[1]=createBaseVNode("div",{class:"image-wrapper"},[createBaseVNode("img",{src:_imports_0,alt:"CPPS Design",class:"design-image"})],-1))])}const Design=_export_sfc(_sfc_main$8,[["render",_sfc_render$4],["__scopeId","data-v-0da5bc12"]]),_hoisted_1$3={class:"home-main"},_hoisted_2$1={style:{"text-align":"center"}},_sfc_main$7={__name:"Maps",setup(t){const n=ref(null);let r=null;ref(!1);const g=[{label:"Risk Attitudes",value:"risk"},{label:"Time Preferences",value:"time"},{label:"Social Preferences",value:"social"},{label:"Personality Traits",value:"bigfive"}],y={risk:["Gain_Condition","Mixed_Condition","Loss_Condition","Longshot_Condition","Allais_Behavior","Aggregated_Risk_Preference","Risk_Item"],time:["Present_Condition","Future_Condition","Aggregated_Time_Preference","Time_Item"],social:["Positive_Reciprocity","Negative_Reciprocity","Altruism","Trust","Competitiveness"],bigfive:["Extraversion","Agreeableness","Conscientiousness","Neuroticism","Openness"]},$={risk:["#e6f7f9","#bae3f1","#88c7e3","#5da4c9","#2c5d84"],time:["#fff1e0","#f2cba0","#e39c6f","#d07451","#a84339"],social:["#f0f9eb","#c9e4c5","#a3cf9c","#76b37b","#4b7c52"],bigfive:["#f6efff","#e5d0f5","#d3a9e3","#b378c9","#8546a3"]},L=new Set(["Beijing","Tianjin","Shanghai","Chongqing","Shijiazhuang","Taiyuan","Shenyang","Changchun","Harbin","Nanjing","Hangzhou","Hefei","Fuzhou","Nanchang","Jinan","Zhengzhou","Wuhan","Changsha","Guangzhou","Nanning","Haikou","Chengdu","Guiyang","Kunming","Lhasa","Xi'an","Lanzhou","Xining","Yinchuan","Urumqi"]),V=ref("risk"),z=ref("Gain_Condition"),j=computed(()=>y[V.value]);async function re(){const ue=await(await fetch("/data/map-eng/china_filtered.json")).json();registerMap$1("china",ue)}async function ae(){console.log(z.value);let ue=await(await fetch(`/data/map-data-eng/${z.value}.json`)).json();ue=ue.map(Ie=>({name:Ie.name,value:typeof Ie.value=="number"?parseFloat(Ie.value.toFixed(3)):Ie.value}));const de=new Set(ue.map(Ie=>Ie.name)),he=ue.map(Ie=>Ie.value).filter(Ie=>typeof Ie=="number"),pe=Math.min(...he),_e=Math.max(...he),Ce=$[V.value]||["#e0f3f8","#4575b4"],xe={tooltip:{trigger:"item",formatter:Ie=>{if(de.has(Ie.name)){const $e=typeof Ie.value=="number"?Ie.value.toFixed(3):"No data yet";return`${Ie.name}${$e}`}else return`${Ie.name}No data yet`}},visualMap:{show:!1,min:pe,max:_e,precision:3,left:"left",bottom:"10%",text:[typeof _e=="number"?_e.toFixed(3):_e,typeof pe=="number"?pe.toFixed(3):pe],inRange:{color:Ce},calculable:!0},series:[{type:"map",map:"china",roam:!1,zoom:1.5,center:[104,35],scaleLimit:{min:1.5,max:10},label:{show:!0,formatter:Ie=>L.has(Ie.name)?Ie.name:"",fontSize:10},data:ue}]};r&&r.setOption(xe)}function oe(){r&&r.resize()}onMounted(async()=>{r=init$1(n.value),r.showLoading("default",{text:"Loading map...",color:"#409EFF",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)"});try{await re(),await ae()}catch(le){console.error(":",le)}finally{r.hideLoading()}window.addEventListener("resize",oe)}),watch(V,()=>{z.value=j.value[0],ae()}),watch(z,()=>{ae()});function ie(le){return le.includes("_")?le.split("_").map(ue=>ue.charAt(0).toUpperCase()+ue.slice(1)).join(" "):le.charAt(0).toUpperCase()+le.slice(1)}return onUnmounted(()=>{r&&(r.dispose(),r=null),window.removeEventListener("resize",oe)}),(le,ue)=>{const de=resolveComponent("el-divider"),he=resolveComponent("el-option"),pe=resolveComponent("el-select"),_e=resolveComponent("el-form-item"),Ce=resolveComponent("el-col"),xe=resolveComponent("el-row"),Ie=resolveComponent("el-form");return openBlock(),createElementBlock("div",_hoisted_1$3,[ue[2]||(ue[2]=createBaseVNode("h1",null,"CPPS China Maps",-1)),createVNode$1(de),ue[3]||(ue[3]=createBaseVNode("p",{class:"introduction"}," Our maps visualize the measurement results for each preference and personality trait, illustrating the geographical variations across Mainland China's prefectures. You may select a preference or trait of interest. ",-1)),createVNode$1(Ie,{"label-position":"top",class:"form-area"},{default:withCtx(()=>[createVNode$1(xe,{gutter:20},{default:withCtx(()=>[createVNode$1(Ce,{span:6},{default:withCtx(()=>[createVNode$1(_e,{label:"Primary Category"},{default:withCtx(()=>[createVNode$1(pe,{modelValue:V.value,"onUpdate:modelValue":ue[0]||(ue[0]=$e=>V.value=$e),placeholder:"Select primary"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(g,$e=>createVNode$1(he,{key:$e.value,label:ie($e.label),value:$e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode$1(Ce,{span:6},{default:withCtx(()=>[createVNode$1(_e,{label:"Secondary Category"},{default:withCtx(()=>[createVNode$1(pe,{modelValue:z.value,"onUpdate:modelValue":ue[1]||(ue[1]=$e=>z.value=$e),placeholder:"Select secondary"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(j.value,$e=>(openBlock(),createBlock(he,{key:$e,label:ie($e),value:$e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_2$1,[createBaseVNode("div",{ref_key:"chartRef",ref:n,class:"chart-container"},null,512)])])}}},Maps=_export_sfc(_sfc_main$7,[["__scopeId","data-v-532cb1bd"]]),_sfc_main$6={};function _sfc_render$3(t,n){return null}const Rankings=_export_sfc(_sfc_main$6,[["render",_sfc_render$3]]),_sfc_main$5={},_hoisted_1$2={class:"home-main"};function _sfc_render$2(t,n){const r=resolveComponent("el-divider");return openBlock(),createElementBlock("div",_hoisted_1$2,[n[0]||(n[0]=createBaseVNode("h1",null,"CPPS China Downloads",-1)),createVNode$1(r),n[1]||(n[1]=createBaseVNode("p",{class:"introduction"}," Our data and supplementary materials are available for academic research purposes. To proceed, please select the relevant datasets, questionnaires, or documentation below. Before downloading, you will be required to accept our Data Usage and Citation Agreement. Please note that the redistribution of these data to any third party is strictly prohibited without our prior written consent. ",-1))])}const Downloads=_export_sfc(_sfc_main$5,[["render",_sfc_render$2]]),_sfc_main$4={};function _sfc_render$1(t,n){return null}const Publications=_export_sfc(_sfc_main$4,[["render",_sfc_render$1]]),_sfc_main$3={};function _sfc_render(t,n){return null}const Faq=_export_sfc(_sfc_main$3,[["render",_sfc_render]]),_hoisted_1$1={class:"home-main"},_sfc_main$2={__name:"Contact",setup(t){return(n,r)=>{const g=resolveComponent("el-divider");return openBlock(),createElementBlock("div",_hoisted_1$1,[r[0]||(r[0]=createBaseVNode("h1",null,"CPPS China Contact",-1)),createVNode$1(g),r[1]||(r[1]=createStaticVNode('<div class="contact-info" data-v-e4254fdf><div class="contact-text" data-v-e4254fdf><span class="emphasis" data-v-e4254fdf>Prof. Qiang Shen</span></div><div class="contact-text" data-v-e4254fdf><span style="font-style:italic;" data-v-e4254fdf>School of Business and Management, Shanghai International Studies University</span></div><div class="contact-text" data-v-e4254fdf>Email: <a href="mailto:johnsonzhj123@gmail.com" data-v-e4254fdf>johnsonzhj123@gmail.com</a></div></div><div class="contact-info" data-v-e4254fdf><div class="contact-text" data-v-e4254fdf><span class="emphasis" data-v-e4254fdf>Prof. Songfa Zhong</span></div><div class="contact-text" data-v-e4254fdf><span style="font-style:italic;" data-v-e4254fdf>Department of Economics, Faculty of Arts and Social Sciences, National University of Singapore</span></div><div class="contact-text" data-v-e4254fdf><span style="font-style:italic;" data-v-e4254fdf>Department of Economics, School of Business, Hong Kong University of Science and Technology</span></div><div class="contact-text" data-v-e4254fdf>Email: <a href="mailto:zhongsongfa@gmail.com" data-v-e4254fdf>zhongsongfa@gmail.com</a></div></div>',2))])}}},Contact=_export_sfc(_sfc_main$2,[["__scopeId","data-v-e4254fdf"]]);function commonjsRequire(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdf={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$6=getAugmentedNamespace(__viteBrowserExternal$1);var path2dPolyfill_esm={},hasRequiredPath2dPolyfill_esm;function requirePath2dPolyfill_esm(){if(hasRequiredPath2dPolyfill_esm)return path2dPolyfill_esm;hasRequiredPath2dPolyfill_esm=1;function t(le,ue,de){for(var he=0,pe=ue.length,_e;he<pe;he++)(_e||!(he in ue))&&(_e||(_e=Array.prototype.slice.call(ue,0,he)),_e[he]=ue[he]);return le.concat(_e||Array.prototype.slice.call(ue))}var n={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},r=/([astvzqmhlc])([^astvzqmhlc]*)/gi,g=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi;function y(le){var ue=le.match(g);return ue?ue.map(Number):[]}function $(le){var ue=[],de=String(le).trim();return de[0]!=="M"&&de[0]!=="m"||de.replace(r,function(he,pe,_e){var Ce=y(_e),xe=pe.toLowerCase(),Ie=pe;if(xe==="m"&&Ce.length>2&&(ue.push(t([Ie],Ce.splice(0,2))),xe="l",Ie=Ie==="m"?"l":"L"),Ce.length<n[xe])return"";for(ue.push(t([Ie],Ce.splice(0,n[xe])));Ce.length>=n[xe]&&Ce.length&&n[xe];)ue.push(t([Ie],Ce.splice(0,n[xe])));return""}),ue}function L(le,ue){var de=le.x*Math.cos(ue)-le.y*Math.sin(ue),he=le.y*Math.cos(ue)+le.x*Math.sin(ue);le.x=de,le.y=he}function V(le,ue,de){le.x+=ue,le.y+=de}function z(le,ue){le.x*=ue,le.y*=ue}var j=function(){function le(ue){var de;this.commands=[],ue&&ue instanceof le?(de=this.commands).push.apply(de,ue.commands):ue&&(this.commands=$(ue))}return le.prototype.addPath=function(ue){var de;ue&&ue instanceof le&&(de=this.commands).push.apply(de,ue.commands)},le.prototype.moveTo=function(ue,de){this.commands.push(["M",ue,de])},le.prototype.lineTo=function(ue,de){this.commands.push(["L",ue,de])},le.prototype.arc=function(ue,de,he,pe,_e,Ce){this.commands.push(["AC",ue,de,he,pe,_e,!!Ce])},le.prototype.arcTo=function(ue,de,he,pe,_e){this.commands.push(["AT",ue,de,he,pe,_e])},le.prototype.ellipse=function(ue,de,he,pe,_e,Ce,xe,Ie){this.commands.push(["E",ue,de,he,pe,_e,Ce,xe,!!Ie])},le.prototype.closePath=function(){this.commands.push(["Z"])},le.prototype.bezierCurveTo=function(ue,de,he,pe,_e,Ce){this.commands.push(["C",ue,de,he,pe,_e,Ce])},le.prototype.quadraticCurveTo=function(ue,de,he,pe){this.commands.push(["Q",ue,de,he,pe])},le.prototype.rect=function(ue,de,he,pe){this.commands.push(["R",ue,de,he,pe])},le.prototype.roundRect=function(ue,de,he,pe,_e){typeof _e>"u"?this.commands.push(["RR",ue,de,he,pe,0]):this.commands.push(["RR",ue,de,he,pe,_e])},le}();function re(le,ue){var de=0,he=0,pe,_e,Ce,xe,Ie,$e,Oe,Ne,Fe,Ve,ze,Et,Dt,Ue,qe,Lt,Pt,At,vn,En,Sn,kt=null,jt=null,_n=null,wn=null,hn=null,Cn=null;le.beginPath();for(var Tn=0;Tn<ue.length;++Tn){At=ue[Tn][0],At!=="S"&&At!=="s"&&At!=="C"&&At!=="c"&&(kt=null,jt=null),At!=="T"&&At!=="t"&&At!=="Q"&&At!=="q"&&(_n=null,wn=null);var xn=void 0;switch(At){case"m":case"M":xn=ue[Tn],At==="m"?(de+=xn[1],he+=xn[2]):(de=xn[1],he=xn[2]),(At==="M"||!hn)&&(hn={x:de,y:he}),le.moveTo(de,he);break;case"l":xn=ue[Tn],de+=xn[1],he+=xn[2],le.lineTo(de,he);break;case"L":xn=ue[Tn],de=xn[1],he=xn[2],le.lineTo(de,he);break;case"H":xn=ue[Tn],de=xn[1],le.lineTo(de,he);break;case"h":xn=ue[Tn],de+=xn[1],le.lineTo(de,he);break;case"V":xn=ue[Tn],he=xn[1],le.lineTo(de,he);break;case"v":xn=ue[Tn],he+=xn[1],le.lineTo(de,he);break;case"a":case"A":if(xn=ue[Tn],Cn===null)throw new Error("This should never happen");At==="a"?(de+=xn[6],he+=xn[7]):(de=xn[6],he=xn[7]),Ue=xn[1],qe=xn[2],Oe=xn[3]*Math.PI/180,Ce=!!xn[4],xe=!!xn[5],Ie={x:de,y:he},$e={x:(Cn.x-Ie.x)/2,y:(Cn.y-Ie.y)/2},L($e,-Oe),Ne=$e.x*$e.x/(Ue*Ue)+$e.y*$e.y/(qe*qe),Ne>1&&(Ne=Math.sqrt(Ne),Ue*=Ne,qe*=Ne),vn={x:Ue*$e.y/qe,y:-(qe*$e.x)/Ue},Fe=Ue*Ue*qe*qe,Ve=Ue*Ue*$e.y*$e.y+qe*qe*$e.x*$e.x,xe!==Ce?z(vn,Math.sqrt((Fe-Ve)/Ve)||0):z(vn,-Math.sqrt((Fe-Ve)/Ve)||0),_e=Math.atan2(($e.y-vn.y)/qe,($e.x-vn.x)/Ue),pe=Math.atan2(-($e.y+vn.y)/qe,-($e.x+vn.x)/Ue),L(vn,Oe),V(vn,(Ie.x+Cn.x)/2,(Ie.y+Cn.y)/2),le.save(),le.translate(vn.x,vn.y),le.rotate(Oe),le.scale(Ue,qe),le.arc(0,0,1,_e,pe,!xe),le.restore();break;case"C":xn=ue[Tn],kt=xn[3],jt=xn[4],de=xn[5],he=xn[6],le.bezierCurveTo(xn[1],xn[2],kt,jt,de,he);break;case"c":xn=ue[Tn],le.bezierCurveTo(xn[1]+de,xn[2]+he,xn[3]+de,xn[4]+he,xn[5]+de,xn[6]+he),kt=xn[3]+de,jt=xn[4]+he,de+=xn[5],he+=xn[6];break;case"S":xn=ue[Tn],(kt===null||jt===null)&&(kt=de,jt=he),le.bezierCurveTo(2*de-kt,2*he-jt,xn[1],xn[2],xn[3],xn[4]),kt=xn[1],jt=xn[2],de=xn[3],he=xn[4];break;case"s":xn=ue[Tn],(kt===null||jt===null)&&(kt=de,jt=he),le.bezierCurveTo(2*de-kt,2*he-jt,xn[1]+de,xn[2]+he,xn[3]+de,xn[4]+he),kt=xn[1]+de,jt=xn[2]+he,de+=xn[3],he+=xn[4];break;case"Q":xn=ue[Tn],_n=xn[1],wn=xn[2],de=xn[3],he=xn[4],le.quadraticCurveTo(_n,wn,de,he);break;case"q":xn=ue[Tn],_n=xn[1]+de,wn=xn[2]+he,de+=xn[3],he+=xn[4],le.quadraticCurveTo(_n,wn,de,he);break;case"T":xn=ue[Tn],(_n===null||wn===null)&&(_n=de,wn=he),_n=2*de-_n,wn=2*he-wn,de=xn[1],he=xn[2],le.quadraticCurveTo(_n,wn,de,he);break;case"t":xn=ue[Tn],(_n===null||wn===null)&&(_n=de,wn=he),_n=2*de-_n,wn=2*he-wn,de+=xn[1],he+=xn[2],le.quadraticCurveTo(_n,wn,de,he);break;case"z":case"Z":hn&&(de=hn.x,he=hn.y),hn=null,le.closePath();break;case"AC":xn=ue[Tn],de=xn[1],he=xn[2],Dt=xn[3],_e=xn[4],pe=xn[5],En=xn[6],le.arc(de,he,Dt,_e,pe,En);break;case"AT":xn=ue[Tn],ze=xn[1],Et=xn[2],de=xn[3],he=xn[4],Dt=xn[5],le.arcTo(ze,Et,de,he,Dt);break;case"E":xn=ue[Tn],de=xn[1],he=xn[2],Ue=xn[3],qe=xn[4],Oe=xn[5],_e=xn[6],pe=xn[7],En=xn[8],le.save(),le.translate(de,he),le.rotate(Oe),le.scale(Ue,qe),le.arc(0,0,1,_e,pe,En),le.restore();break;case"R":xn=ue[Tn],de=xn[1],he=xn[2],Lt=xn[3],Pt=xn[4],hn={x:de,y:he},le.rect(de,he,Lt,Pt);break;case"RR":xn=ue[Tn],de=xn[1],he=xn[2],Lt=xn[3],Pt=xn[4],Sn=xn[5],hn={x:de,y:he},le.roundRect(de,he,Lt,Pt,Sn);break}Cn?(Cn.x=de,Cn.y=he):Cn={x:de,y:he}}}function ae(le){if(!(!le||!le.CanvasRenderingContext2D||le.Path2D)){var ue=le.CanvasRenderingContext2D,de=ue.prototype.fill,he=ue.prototype.stroke,pe=ue.prototype.isPointInPath;ue.prototype.fill=function(){for(var Ce=[],xe=0;xe<arguments.length;xe++)Ce[xe]=arguments[xe];if(Ce[0]instanceof j){var Ie=Ce[0],$e=Ce[1]||"nonzero";re(this,Ie.commands),de.apply(this,[$e])}else{var $e=Ce[0]||"nonzero";return de.apply(this,[$e])}},ue.prototype.stroke=function(Ce){Ce&&re(this,Ce.commands),he.apply(this)},ue.prototype.isPointInPath=function(){for(var Ce=[],xe=0;xe<arguments.length;xe++)Ce[xe]=arguments[xe];if(Ce[0]instanceof j){var Ie=Ce[0],$e=Ce[1],Oe=Ce[2],Ne=Ce[3]||"nonzero";return re(this,Ie.commands),pe.apply(this,[$e,Oe,Ne])}else return pe.apply(this,Ce)},le.Path2D=j}}function oe(le,ue,de,he,pe){var _e=this;if(pe===void 0&&(pe=0),typeof pe=="number"&&(pe=[pe]),Array.isArray(pe)){if(pe.length===0||pe.length>4)throw new RangeError("Failed to execute 'roundRect' on '".concat(this.constructor.name,"': ").concat(pe.length," radii provided. Between one and four radii are necessary."));pe.forEach(function(Ne){if(Ne<0)throw new RangeError("Failed to execute 'roundRect' on '".concat(_e.constructor.name,"': Radius value ").concat(Ne," is negative."))})}else return;if(pe.length===1&&pe[0]===0)return this.rect(le,ue,de,he);var Ce=Math.min(de,he)/2,xe,Ie,$e,Oe=xe=Ie=$e=Math.min(Ce,pe[0]);pe.length===2&&(xe=$e=Math.min(Ce,pe[1])),pe.length===3&&(xe=$e=Math.min(Ce,pe[1]),Ie=Math.min(Ce,pe[2])),pe.length===4&&(xe=Math.min(Ce,pe[1]),Ie=Math.min(Ce,pe[2]),$e=Math.min(Ce,pe[3])),this.moveTo(le,ue+he-$e),this.arcTo(le,ue,le+Oe,ue,Oe),this.arcTo(le+de,ue,le+de,ue+xe,xe),this.arcTo(le+de,ue+he,le+de-Ie,ue+he,Ie),this.arcTo(le,ue+he,le,ue+he-$e,$e),this.moveTo(le,ue)}function ie(le){if(!(!le||!le.CanvasRenderingContext2D)){var ue=le.CanvasRenderingContext2D,de=le.Path2D;ue&&!ue.prototype.roundRect&&(ue.prototype.roundRect=oe),de&&!de.prototype.roundRect&&(de.prototype.roundRect=oe)}}return ae(window),ie(window),path2dPolyfill_esm}var hasRequiredPdf;function requirePdf(){return hasRequiredPdf||(hasRequiredPdf=1,function(module,exports){(function(n,r){module.exports=n.pdfjsLib=r()})(globalThis,()=>(()=>{var __webpack_modules__=[,(t,n,r)=>{var Qn;Object.defineProperty(n,"__esModule",{value:!0}),n.VerbosityLevel=n.Util=n.UnknownErrorException=n.UnexpectedResponseException=n.TextRenderingMode=n.RenderingIntentFlag=n.PromiseCapability=n.PermissionFlag=n.PasswordResponses=n.PasswordException=n.PageActionEventType=n.OPS=n.MissingPDFException=n.MAX_IMAGE_SIZE_TO_CACHE=n.LINE_FACTOR=n.LINE_DESCENT_FACTOR=n.InvalidPDFException=n.ImageKind=n.IDENTITY_MATRIX=n.FormatError=n.FeatureTest=n.FONT_IDENTITY_MATRIX=n.DocumentActionEventType=n.CMapCompressionType=n.BaseException=n.BASELINE_FACTOR=n.AnnotationType=n.AnnotationReplyType=n.AnnotationPrefix=n.AnnotationMode=n.AnnotationFlag=n.AnnotationFieldFlag=n.AnnotationEditorType=n.AnnotationEditorPrefix=n.AnnotationEditorParamsType=n.AnnotationBorderStyleType=n.AnnotationActionEventType=n.AbortException=void 0,n.assert=vn,n.bytesToString=bn,n.createValidAbsoluteUrl=Sn,n.getModificationDate=mr,n.getUuid=gr,n.getVerbosityLevel=qe,n.info=Lt,n.isArrayBuffer=nr,n.isArrayEqual=sr,n.isNodeJS=void 0,n.normalizeUnicode=ir,n.objectFromMap=Dn,n.objectSize=Fn,n.setVerbosityLevel=Ue,n.shadow=kt,n.string32=Rn,n.stringToBytes=Pn,n.stringToPDFString=jn,n.stringToUTF8String=Wn,n.unreachable=At,n.utf8StringToString=Un,n.warn=Pt,r(2),r(84),r(86),r(87),r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);const g=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");n.isNodeJS=g;const y=[1,0,0,1,0,0];n.IDENTITY_MATRIX=y;const $=[.001,0,0,.001,0,0];n.FONT_IDENTITY_MATRIX=$;const L=1e7;n.MAX_IMAGE_SIZE_TO_CACHE=L;const V=1.35;n.LINE_FACTOR=V;const z=.35;n.LINE_DESCENT_FACTOR=z;const j=z/V;n.BASELINE_FACTOR=j;const re={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};n.RenderingIntentFlag=re;const ae={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};n.AnnotationMode=ae;const oe="pdfjs_internal_editor_";n.AnnotationEditorPrefix=oe;const ie={DISABLE:-1,NONE:0,FREETEXT:3,STAMP:13,INK:15};n.AnnotationEditorType=ie;const le={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23};n.AnnotationEditorParamsType=le;const ue={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};n.PermissionFlag=ue;const de={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};n.TextRenderingMode=de;const he={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};n.ImageKind=he;const pe={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};n.AnnotationType=pe;const _e={GROUP:"Group",REPLY:"R"};n.AnnotationReplyType=_e;const Ce={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};n.AnnotationFlag=Ce;const xe={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};n.AnnotationFieldFlag=xe;const Ie={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};n.AnnotationBorderStyleType=Ie;const $e={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};n.AnnotationActionEventType=$e;const Oe={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};n.DocumentActionEventType=Oe;const Ne={O:"PageOpen",C:"PageClose"};n.PageActionEventType=Ne;const Fe={ERRORS:0,WARNINGS:1,INFOS:5};n.VerbosityLevel=Fe;const Ve={NONE:0,BINARY:1};n.CMapCompressionType=Ve;const ze={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};n.OPS=ze;const Et={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};n.PasswordResponses=Et;let Dt=Fe.WARNINGS;function Ue(Nn){Number.isInteger(Nn)&&(Dt=Nn)}function qe(){return Dt}function Lt(Nn){Dt>=Fe.INFOS&&console.log(`Info: ${Nn}`)}function Pt(Nn){Dt>=Fe.WARNINGS&&console.log(`Warning: ${Nn}`)}function At(Nn){throw new Error(Nn)}function vn(Nn,Hn){Nn||At(Hn)}function En(Nn){switch(Nn==null?void 0:Nn.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Sn(Nn){let Hn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,Yn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!Nn)return null;try{if(Yn&&typeof Nn=="string"){if(Yn.addDefaultProtocol&&Nn.startsWith("www.")){const Cr=Nn.match(/\./g);(Cr==null?void 0:Cr.length)>=2&&(Nn=`http://${Nn}`)}if(Yn.tryConvertEncoding)try{Nn=Wn(Nn)}catch{}}const pr=Hn?new URL(Nn,Hn):new URL(Nn);if(En(pr))return pr}catch{}return null}function kt(Nn,Hn,Yn){let pr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Object.defineProperty(Nn,Hn,{value:Yn,enumerable:!pr,configurable:!0,writable:!1}),Yn}const jt=function(){function Hn(Yn,pr){this.constructor===Hn&&At("Cannot initialize BaseException."),this.message=Yn,this.name=pr}return Hn.prototype=new Error,Hn.constructor=Hn,Hn}();n.BaseException=jt;class _n extends jt{constructor(Hn,Yn){super(Hn,"PasswordException"),this.code=Yn}}n.PasswordException=_n;class wn extends jt{constructor(Hn,Yn){super(Hn,"UnknownErrorException"),this.details=Yn}}n.UnknownErrorException=wn;class hn extends jt{constructor(Hn){super(Hn,"InvalidPDFException")}}n.InvalidPDFException=hn;class Cn extends jt{constructor(Hn){super(Hn,"MissingPDFException")}}n.MissingPDFException=Cn;class Tn extends jt{constructor(Hn,Yn){super(Hn,"UnexpectedResponseException"),this.status=Yn}}n.UnexpectedResponseException=Tn;class xn extends jt{constructor(Hn){super(Hn,"FormatError")}}n.FormatError=xn;class Mn extends jt{constructor(Hn){super(Hn,"AbortException")}}n.AbortException=Mn;function bn(Nn){(typeof Nn!="object"||(Nn==null?void 0:Nn.length)===void 0)&&At("Invalid argument for bytesToString");const Hn=Nn.length,Yn=8192;if(Hn<Yn)return String.fromCharCode.apply(null,Nn);const pr=[];for(let Cr=0;Cr<Hn;Cr+=Yn){const $n=Math.min(Cr+Yn,Hn),Xn=Nn.subarray(Cr,$n);pr.push(String.fromCharCode.apply(null,Xn))}return pr.join("")}function Pn(Nn){typeof Nn!="string"&&At("Invalid argument for stringToBytes");const Hn=Nn.length,Yn=new Uint8Array(Hn);for(let pr=0;pr<Hn;++pr)Yn[pr]=Nn.charCodeAt(pr)&255;return Yn}function Rn(Nn){return String.fromCharCode(Nn>>24&255,Nn>>16&255,Nn>>8&255,Nn&255)}function Fn(Nn){return Object.keys(Nn).length}function Dn(Nn){const Hn=Object.create(null);for(const[Yn,pr]of Nn)Hn[Yn]=pr;return Hn}function Ln(){const Nn=new Uint8Array(4);return Nn[0]=1,new Uint32Array(Nn.buffer,0,1)[0]===1}function kn(){try{return new Function(""),!0}catch{return!1}}class In{static get isLittleEndian(){return kt(this,"isLittleEndian",Ln())}static get isEvalSupported(){return kt(this,"isEvalSupported",kn())}static get isOffscreenCanvasSupported(){return kt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?kt(this,"platform",{isWin:!1,isMac:!1}):kt(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}static get isCSSRoundSupported(){var Hn,Yn;return kt(this,"isCSSRoundSupported",(Yn=(Hn=globalThis.CSS)==null?void 0:Hn.supports)==null?void 0:Yn.call(Hn,"width: round(1.5px, 1px)"))}}n.FeatureTest=In;const Vn=[...Array(256).keys()].map(Nn=>Nn.toString(16).padStart(2,"0"));class zn{static makeHexColor(Hn,Yn,pr){return`#${Vn[Hn]}${Vn[Yn]}${Vn[pr]}`}static scaleMinMax(Hn,Yn){let pr;Hn[0]?(Hn[0]<0&&(pr=Yn[0],Yn[0]=Yn[1],Yn[1]=pr),Yn[0]*=Hn[0],Yn[1]*=Hn[0],Hn[3]<0&&(pr=Yn[2],Yn[2]=Yn[3],Yn[3]=pr),Yn[2]*=Hn[3],Yn[3]*=Hn[3]):(pr=Yn[0],Yn[0]=Yn[2],Yn[2]=pr,pr=Yn[1],Yn[1]=Yn[3],Yn[3]=pr,Hn[1]<0&&(pr=Yn[2],Yn[2]=Yn[3],Yn[3]=pr),Yn[2]*=Hn[1],Yn[3]*=Hn[1],Hn[2]<0&&(pr=Yn[0],Yn[0]=Yn[1],Yn[1]=pr),Yn[0]*=Hn[2],Yn[1]*=Hn[2]),Yn[0]+=Hn[4],Yn[1]+=Hn[4],Yn[2]+=Hn[5],Yn[3]+=Hn[5]}static transform(Hn,Yn){return[Hn[0]*Yn[0]+Hn[2]*Yn[1],Hn[1]*Yn[0]+Hn[3]*Yn[1],Hn[0]*Yn[2]+Hn[2]*Yn[3],Hn[1]*Yn[2]+Hn[3]*Yn[3],Hn[0]*Yn[4]+Hn[2]*Yn[5]+Hn[4],Hn[1]*Yn[4]+Hn[3]*Yn[5]+Hn[5]]}static applyTransform(Hn,Yn){const pr=Hn[0]*Yn[0]+Hn[1]*Yn[2]+Yn[4],Cr=Hn[0]*Yn[1]+Hn[1]*Yn[3]+Yn[5];return[pr,Cr]}static applyInverseTransform(Hn,Yn){const pr=Yn[0]*Yn[3]-Yn[1]*Yn[2],Cr=(Hn[0]*Yn[3]-Hn[1]*Yn[2]+Yn[2]*Yn[5]-Yn[4]*Yn[3])/pr,$n=(-Hn[0]*Yn[1]+Hn[1]*Yn[0]+Yn[4]*Yn[1]-Yn[5]*Yn[0])/pr;return[Cr,$n]}static getAxialAlignedBoundingBox(Hn,Yn){const pr=this.applyTransform(Hn,Yn),Cr=this.applyTransform(Hn.slice(2,4),Yn),$n=this.applyTransform([Hn[0],Hn[3]],Yn),Xn=this.applyTransform([Hn[2],Hn[1]],Yn);return[Math.min(pr[0],Cr[0],$n[0],Xn[0]),Math.min(pr[1],Cr[1],$n[1],Xn[1]),Math.max(pr[0],Cr[0],$n[0],Xn[0]),Math.max(pr[1],Cr[1],$n[1],Xn[1])]}static inverseTransform(Hn){const Yn=Hn[0]*Hn[3]-Hn[1]*Hn[2];return[Hn[3]/Yn,-Hn[1]/Yn,-Hn[2]/Yn,Hn[0]/Yn,(Hn[2]*Hn[5]-Hn[4]*Hn[3])/Yn,(Hn[4]*Hn[1]-Hn[5]*Hn[0])/Yn]}static singularValueDecompose2dScale(Hn){const Yn=[Hn[0],Hn[2],Hn[1],Hn[3]],pr=Hn[0]*Yn[0]+Hn[1]*Yn[2],Cr=Hn[0]*Yn[1]+Hn[1]*Yn[3],$n=Hn[2]*Yn[0]+Hn[3]*Yn[2],Xn=Hn[2]*Yn[1]+Hn[3]*Yn[3],lr=(pr+Xn)/2,fr=Math.sqrt((pr+Xn)**2-4*(pr*Xn-$n*Cr))/2,br=lr+fr||1,er=lr-fr||1;return[Math.sqrt(br),Math.sqrt(er)]}static normalizeRect(Hn){const Yn=Hn.slice(0);return Hn[0]>Hn[2]&&(Yn[0]=Hn[2],Yn[2]=Hn[0]),Hn[1]>Hn[3]&&(Yn[1]=Hn[3],Yn[3]=Hn[1]),Yn}static intersect(Hn,Yn){const pr=Math.max(Math.min(Hn[0],Hn[2]),Math.min(Yn[0],Yn[2])),Cr=Math.min(Math.max(Hn[0],Hn[2]),Math.max(Yn[0],Yn[2]));if(pr>Cr)return null;const $n=Math.max(Math.min(Hn[1],Hn[3]),Math.min(Yn[1],Yn[3])),Xn=Math.min(Math.max(Hn[1],Hn[3]),Math.max(Yn[1],Yn[3]));return $n>Xn?null:[pr,$n,Cr,Xn]}static bezierBoundingBox(Hn,Yn,pr,Cr,$n,Xn,lr,fr){const br=[],er=[[],[]];let Bn,On,Zn,qn,or,dr,hr,wr;for(let Jn=0;Jn<2;++Jn){if(Jn===0?(On=6*Hn-12*pr+6*$n,Bn=-3*Hn+9*pr-9*$n+3*lr,Zn=3*pr-3*Hn):(On=6*Yn-12*Cr+6*Xn,Bn=-3*Yn+9*Cr-9*Xn+3*fr,Zn=3*Cr-3*Yn),Math.abs(Bn)<1e-12){if(Math.abs(On)<1e-12)continue;qn=-Zn/On,0<qn&&qn<1&&br.push(qn);continue}hr=On*On-4*Zn*Bn,wr=Math.sqrt(hr),!(hr<0)&&(or=(-On+wr)/(2*Bn),0<or&&or<1&&br.push(or),dr=(-On-wr)/(2*Bn),0<dr&&dr<1&&br.push(dr))}let xr=br.length,_r;const Pr=xr;for(;xr--;)qn=br[xr],_r=1-qn,er[0][xr]=_r*_r*_r*Hn+3*_r*_r*qn*pr+3*_r*qn*qn*$n+qn*qn*qn*lr,er[1][xr]=_r*_r*_r*Yn+3*_r*_r*qn*Cr+3*_r*qn*qn*Xn+qn*qn*qn*fr;return er[0][Pr]=Hn,er[1][Pr]=Yn,er[0][Pr+1]=lr,er[1][Pr+1]=fr,er[0].length=er[1].length=Pr+2,[Math.min(...er[0]),Math.min(...er[1]),Math.max(...er[0]),Math.max(...er[1])]}}n.Util=zn;const Kn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function jn(Nn){if(Nn[0]>=""){let Yn;if(Nn[0]===""&&Nn[1]===""?Yn="utf-16be":Nn[0]===""&&Nn[1]===""?Yn="utf-16le":Nn[0]===""&&Nn[1]===""&&Nn[2]===""&&(Yn="utf-8"),Yn)try{const pr=new TextDecoder(Yn,{fatal:!0}),Cr=Pn(Nn);return pr.decode(Cr)}catch(pr){Pt(`stringToPDFString: "${pr}".`)}}const Hn=[];for(let Yn=0,pr=Nn.length;Yn<pr;Yn++){const Cr=Kn[Nn.charCodeAt(Yn)];Hn.push(Cr?String.fromCharCode(Cr):Nn.charAt(Yn))}return Hn.join("")}function Wn(Nn){return decodeURIComponent(escape(Nn))}function Un(Nn){return unescape(encodeURIComponent(Nn))}function nr(Nn){return typeof Nn=="object"&&(Nn==null?void 0:Nn.byteLength)!==void 0}function sr(Nn,Hn){if(Nn.length!==Hn.length)return!1;for(let Yn=0,pr=Nn.length;Yn<pr;Yn++)if(Nn[Yn]!==Hn[Yn])return!1;return!0}function mr(){let Nn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:new Date;return[Nn.getUTCFullYear().toString(),(Nn.getUTCMonth()+1).toString().padStart(2,"0"),Nn.getUTCDate().toString().padStart(2,"0"),Nn.getUTCHours().toString().padStart(2,"0"),Nn.getUTCMinutes().toString().padStart(2,"0"),Nn.getUTCSeconds().toString().padStart(2,"0")].join("")}class vr{constructor(){rr(this,Qn,!1);this.promise=new Promise((Hn,Yn)=>{this.resolve=pr=>{ar(this,Qn,!0),Hn(pr)},this.reject=pr=>{ar(this,Qn,!0),Yn(pr)}})}get settled(){return An(this,Qn)}}Qn=new WeakMap,n.PromiseCapability=vr;let Sr=null,yr=null;function ir(Nn){return Sr||(Sr=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,yr=new Map([["","t"]])),Nn.replaceAll(Sr,(Hn,Yn,pr)=>Yn?Yn.normalize("NFKC"):yr.get(pr))}function gr(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const Nn=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(Nn);else for(let Hn=0;Hn<32;Hn++)Nn[Hn]=Math.floor(Math.random()*255);return bn(Nn)}const Gn="pdfjs_internal_id_";n.AnnotationPrefix=Gn},(t,n,r)=>{var g=r(3),y=r(4),$=r(69),L=r(70),V="WebAssembly",z=y[V],j=Error("e",{cause:7}).cause!==7,re=function(oe,ie){var le={};le[oe]=L(oe,ie,j),g({global:!0,constructor:!0,arity:1,forced:j},le)},ae=function(oe,ie){if(z&&z[oe]){var le={};le[oe]=L(V+"."+oe,ie,j),g({target:V,stat:!0,constructor:!0,arity:1,forced:j},le)}};re("Error",function(oe){return function(le){return $(oe,this,arguments)}}),re("EvalError",function(oe){return function(le){return $(oe,this,arguments)}}),re("RangeError",function(oe){return function(le){return $(oe,this,arguments)}}),re("ReferenceError",function(oe){return function(le){return $(oe,this,arguments)}}),re("SyntaxError",function(oe){return function(le){return $(oe,this,arguments)}}),re("TypeError",function(oe){return function(le){return $(oe,this,arguments)}}),re("URIError",function(oe){return function(le){return $(oe,this,arguments)}}),ae("CompileError",function(oe){return function(le){return $(oe,this,arguments)}}),ae("LinkError",function(oe){return function(le){return $(oe,this,arguments)}}),ae("RuntimeError",function(oe){return function(le){return $(oe,this,arguments)}})},(t,n,r)=>{var g=r(4),y=r(5).f,$=r(44),L=r(48),V=r(38),z=r(56),j=r(68);t.exports=function(re,ae){var oe=re.target,ie=re.global,le=re.stat,ue,de,he,pe,_e,Ce;if(ie?de=g:le?de=g[oe]||V(oe,{}):de=(g[oe]||{}).prototype,de)for(he in ae){if(_e=ae[he],re.dontCallGetSet?(Ce=y(de,he),pe=Ce&&Ce.value):pe=de[he],ue=j(ie?he:oe+(le?".":"#")+he,re.forced),!ue&&pe!==void 0){if(typeof _e==typeof pe)continue;z(_e,pe)}(re.sham||pe&&pe.sham)&&$(_e,"sham",!0),L(de,he,_e,re)}}},function(t){var n=function(r){return r&&r.Math===Math&&r};t.exports=n(typeof globalThis=="object"&&globalThis)||n(typeof window=="object"&&window)||n(typeof self=="object"&&self)||n(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||this||Function("return this")()},(t,n,r)=>{var g=r(6),y=r(8),$=r(10),L=r(11),V=r(12),z=r(18),j=r(39),re=r(42),ae=Object.getOwnPropertyDescriptor;n.f=g?ae:function(ie,le){if(ie=V(ie),le=z(le),re)try{return ae(ie,le)}catch{}if(j(ie,le))return L(!y($.f,ie,le),ie[le])}},(t,n,r)=>{var g=r(7);t.exports=!g(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},t=>{t.exports=function(n){try{return!!n()}catch{return!0}}},(t,n,r)=>{var g=r(9),y=Function.prototype.call;t.exports=g?y.bind(y):function(){return y.apply(y,arguments)}},(t,n,r)=>{var g=r(7);t.exports=!g(function(){var y=(function(){}).bind();return typeof y!="function"||y.hasOwnProperty("prototype")})},(t,n)=>{var r={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,y=g&&!r.call({1:2},1);n.f=y?function(L){var V=g(this,L);return!!V&&V.enumerable}:r},t=>{t.exports=function(n,r){return{enumerable:!(n&1),configurable:!(n&2),writable:!(n&4),value:r}}},(t,n,r)=>{var g=r(13),y=r(16);t.exports=function($){return g(y($))}},(t,n,r)=>{var g=r(14),y=r(7),$=r(15),L=Object,V=g("".split);t.exports=y(function(){return!L("z").propertyIsEnumerable(0)})?function(z){return $(z)==="String"?V(z,""):L(z)}:L},(t,n,r)=>{var g=r(9),y=Function.prototype,$=y.call,L=g&&y.bind.bind($,$);t.exports=g?L:function(V){return function(){return $.apply(V,arguments)}}},(t,n,r)=>{var g=r(14),y=g({}.toString),$=g("".slice);t.exports=function(L){return $(y(L),8,-1)}},(t,n,r)=>{var g=r(17),y=TypeError;t.exports=function($){if(g($))throw y("Can't call method on "+$);return $}},t=>{t.exports=function(n){return n==null}},(t,n,r)=>{var g=r(19),y=r(23);t.exports=function($){var L=g($,"string");return y(L)?L:L+""}},(t,n,r)=>{var g=r(8),y=r(20),$=r(23),L=r(30),V=r(33),z=r(34),j=TypeError,re=z("toPrimitive");t.exports=function(ae,oe){if(!y(ae)||$(ae))return ae;var ie=L(ae,re),le;if(ie){if(oe===void 0&&(oe="default"),le=g(ie,ae,oe),!y(le)||$(le))return le;throw j("Can't convert object to primitive value")}return oe===void 0&&(oe="number"),V(ae,oe)}},(t,n,r)=>{var g=r(21),y=r(22),$=y.all;t.exports=y.IS_HTMLDDA?function(L){return typeof L=="object"?L!==null:g(L)||L===$}:function(L){return typeof L=="object"?L!==null:g(L)}},(t,n,r)=>{var g=r(22),y=g.all;t.exports=g.IS_HTMLDDA?function($){return typeof $=="function"||$===y}:function($){return typeof $=="function"}},t=>{var n=typeof document=="object"&&document.all,r=typeof n>"u"&&n!==void 0;t.exports={all:n,IS_HTMLDDA:r}},(t,n,r)=>{var g=r(24),y=r(21),$=r(25),L=r(26),V=Object;t.exports=L?function(z){return typeof z=="symbol"}:function(z){var j=g("Symbol");return y(j)&&$(j.prototype,V(z))}},(t,n,r)=>{var g=r(4),y=r(21),$=function(L){return y(L)?L:void 0};t.exports=function(L,V){return arguments.length<2?$(g[L]):g[L]&&g[L][V]}},(t,n,r)=>{var g=r(14);t.exports=g({}.isPrototypeOf)},(t,n,r)=>{var g=r(27);t.exports=g&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(t,n,r)=>{var g=r(28),y=r(7),$=r(4),L=$.String;t.exports=!!Object.getOwnPropertySymbols&&!y(function(){var V=Symbol("symbol detection");return!L(V)||!(Object(V)instanceof Symbol)||!Symbol.sham&&g&&g<41})},(t,n,r)=>{var g=r(4),y=r(29),$=g.process,L=g.Deno,V=$&&$.versions||L&&L.version,z=V&&V.v8,j,re;z&&(j=z.split("."),re=j[0]>0&&j[0]<4?1:+(j[0]+j[1])),!re&&y&&(j=y.match(/Edge\/(\d+)/),(!j||j[1]>=74)&&(j=y.match(/Chrome\/(\d+)/),j&&(re=+j[1]))),t.exports=re},t=>{t.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},(t,n,r)=>{var g=r(31),y=r(17);t.exports=function($,L){var V=$[L];return y(V)?void 0:g(V)}},(t,n,r)=>{var g=r(21),y=r(32),$=TypeError;t.exports=function(L){if(g(L))return L;throw $(y(L)+" is not a function")}},t=>{var n=String;t.exports=function(r){try{return n(r)}catch{return"Object"}}},(t,n,r)=>{var g=r(8),y=r(21),$=r(20),L=TypeError;t.exports=function(V,z){var j,re;if(z==="string"&&y(j=V.toString)&&!$(re=g(j,V))||y(j=V.valueOf)&&!$(re=g(j,V))||z!=="string"&&y(j=V.toString)&&!$(re=g(j,V)))return re;throw L("Can't convert object to primitive value")}},(t,n,r)=>{var g=r(4),y=r(35),$=r(39),L=r(41),V=r(27),z=r(26),j=g.Symbol,re=y("wks"),ae=z?j.for||j:j&&j.withoutSetter||L;t.exports=function(oe){return $(re,oe)||(re[oe]=V&&$(j,oe)?j[oe]:ae("Symbol."+oe)),re[oe]}},(t,n,r)=>{var g=r(36),y=r(37);(t.exports=function($,L){return y[$]||(y[$]=L!==void 0?L:{})})("versions",[]).push({version:"3.32.2",mode:g?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.32.2/LICENSE",source:"https://github.com/zloirock/core-js"})},t=>{t.exports=!1},(t,n,r)=>{var g=r(4),y=r(38),$="__core-js_shared__",L=g[$]||y($,{});t.exports=L},(t,n,r)=>{var g=r(4),y=Object.defineProperty;t.exports=function($,L){try{y(g,$,{value:L,configurable:!0,writable:!0})}catch{g[$]=L}return L}},(t,n,r)=>{var g=r(14),y=r(40),$=g({}.hasOwnProperty);t.exports=Object.hasOwn||function(V,z){return $(y(V),z)}},(t,n,r)=>{var g=r(16),y=Object;t.exports=function($){return y(g($))}},(t,n,r)=>{var g=r(14),y=0,$=Math.random(),L=g(1 .toString);t.exports=function(V){return"Symbol("+(V===void 0?"":V)+")_"+L(++y+$,36)}},(t,n,r)=>{var g=r(6),y=r(7),$=r(43);t.exports=!g&&!y(function(){return Object.defineProperty($("div"),"a",{get:function(){return 7}}).a!==7})},(t,n,r)=>{var g=r(4),y=r(20),$=g.document,L=y($)&&y($.createElement);t.exports=function(V){return L?$.createElement(V):{}}},(t,n,r)=>{var g=r(6),y=r(45),$=r(11);t.exports=g?function(L,V,z){return y.f(L,V,$(1,z))}:function(L,V,z){return L[V]=z,L}},(t,n,r)=>{var g=r(6),y=r(42),$=r(46),L=r(47),V=r(18),z=TypeError,j=Object.defineProperty,re=Object.getOwnPropertyDescriptor,ae="enumerable",oe="configurable",ie="writable";n.f=g?$?function(ue,de,he){if(L(ue),de=V(de),L(he),typeof ue=="function"&&de==="prototype"&&"value"in he&&ie in he&&!he[ie]){var pe=re(ue,de);pe&&pe[ie]&&(ue[de]=he.value,he={configurable:oe in he?he[oe]:pe[oe],enumerable:ae in he?he[ae]:pe[ae],writable:!1})}return j(ue,de,he)}:j:function(ue,de,he){if(L(ue),de=V(de),L(he),y)try{return j(ue,de,he)}catch{}if("get"in he||"set"in he)throw z("Accessors not supported");return"value"in he&&(ue[de]=he.value),ue}},(t,n,r)=>{var g=r(6),y=r(7);t.exports=g&&y(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},(t,n,r)=>{var g=r(20),y=String,$=TypeError;t.exports=function(L){if(g(L))return L;throw $(y(L)+" is not an object")}},(t,n,r)=>{var g=r(21),y=r(45),$=r(49),L=r(38);t.exports=function(V,z,j,re){re||(re={});var ae=re.enumerable,oe=re.name!==void 0?re.name:z;if(g(j)&&$(j,oe,re),re.global)ae?V[z]=j:L(z,j);else{try{re.unsafe?V[z]&&(ae=!0):delete V[z]}catch{}ae?V[z]=j:y.f(V,z,{value:j,enumerable:!1,configurable:!re.nonConfigurable,writable:!re.nonWritable})}return V}},(t,n,r)=>{var g=r(14),y=r(7),$=r(21),L=r(39),V=r(6),z=r(50).CONFIGURABLE,j=r(51),re=r(52),ae=re.enforce,oe=re.get,ie=String,le=Object.defineProperty,ue=g("".slice),de=g("".replace),he=g([].join),pe=V&&!y(function(){return le(function(){},"length",{value:8}).length!==8}),_e=String(String).split("String"),Ce=t.exports=function(xe,Ie,$e){ue(ie(Ie),0,7)==="Symbol("&&(Ie="["+de(ie(Ie),/^Symbol\(([^)]*)\)/,"$1")+"]"),$e&&$e.getter&&(Ie="get "+Ie),$e&&$e.setter&&(Ie="set "+Ie),(!L(xe,"name")||z&&xe.name!==Ie)&&(V?le(xe,"name",{value:Ie,configurable:!0}):xe.name=Ie),pe&&$e&&L($e,"arity")&&xe.length!==$e.arity&&le(xe,"length",{value:$e.arity});try{$e&&L($e,"constructor")&&$e.constructor?V&&le(xe,"prototype",{writable:!1}):xe.prototype&&(xe.prototype=void 0)}catch{}var Oe=ae(xe);return L(Oe,"source")||(Oe.source=he(_e,typeof Ie=="string"?Ie:"")),xe};Function.prototype.toString=Ce(function(){return $(this)&&oe(this).source||j(this)},"toString")},(t,n,r)=>{var g=r(6),y=r(39),$=Function.prototype,L=g&&Object.getOwnPropertyDescriptor,V=y($,"name"),z=V&&(function(){}).name==="something",j=V&&(!g||g&&L($,"name").configurable);t.exports={EXISTS:V,PROPER:z,CONFIGURABLE:j}},(t,n,r)=>{var g=r(14),y=r(21),$=r(37),L=g(Function.toString);y($.inspectSource)||($.inspectSource=function(V){return L(V)}),t.exports=$.inspectSource},(t,n,r)=>{var g=r(53),y=r(4),$=r(20),L=r(44),V=r(39),z=r(37),j=r(54),re=r(55),ae="Object already initialized",oe=y.TypeError,ie=y.WeakMap,le,ue,de,he=function(xe){return de(xe)?ue(xe):le(xe,{})},pe=function(xe){return function(Ie){var $e;if(!$(Ie)||($e=ue(Ie)).type!==xe)throw oe("Incompatible receiver, "+xe+" required");return $e}};if(g||z.state){var _e=z.state||(z.state=new ie);_e.get=_e.get,_e.has=_e.has,_e.set=_e.set,le=function(xe,Ie){if(_e.has(xe))throw oe(ae);return Ie.facade=xe,_e.set(xe,Ie),Ie},ue=function(xe){return _e.get(xe)||{}},de=function(xe){return _e.has(xe)}}else{var Ce=j("state");re[Ce]=!0,le=function(xe,Ie){if(V(xe,Ce))throw oe(ae);return Ie.facade=xe,L(xe,Ce,Ie),Ie},ue=function(xe){return V(xe,Ce)?xe[Ce]:{}},de=function(xe){return V(xe,Ce)}}t.exports={set:le,get:ue,has:de,enforce:he,getterFor:pe}},(t,n,r)=>{var g=r(4),y=r(21),$=g.WeakMap;t.exports=y($)&&/native code/.test(String($))},(t,n,r)=>{var g=r(35),y=r(41),$=g("keys");t.exports=function(L){return $[L]||($[L]=y(L))}},t=>{t.exports={}},(t,n,r)=>{var g=r(39),y=r(57),$=r(5),L=r(45);t.exports=function(V,z,j){for(var re=y(z),ae=L.f,oe=$.f,ie=0;ie<re.length;ie++){var le=re[ie];!g(V,le)&&!(j&&g(j,le))&&ae(V,le,oe(z,le))}}},(t,n,r)=>{var g=r(24),y=r(14),$=r(58),L=r(67),V=r(47),z=y([].concat);t.exports=g("Reflect","ownKeys")||function(re){var ae=$.f(V(re)),oe=L.f;return oe?z(ae,oe(re)):ae}},(t,n,r)=>{var g=r(59),y=r(66),$=y.concat("length","prototype");n.f=Object.getOwnPropertyNames||function(V){return g(V,$)}},(t,n,r)=>{var g=r(14),y=r(39),$=r(12),L=r(60).indexOf,V=r(55),z=g([].push);t.exports=function(j,re){var ae=$(j),oe=0,ie=[],le;for(le in ae)!y(V,le)&&y(ae,le)&&z(ie,le);for(;re.length>oe;)y(ae,le=re[oe++])&&(~L(ie,le)||z(ie,le));return ie}},(t,n,r)=>{var g=r(12),y=r(61),$=r(64),L=function(V){return function(z,j,re){var ae=g(z),oe=$(ae),ie=y(re,oe),le;if(V&&j!==j){for(;oe>ie;)if(le=ae[ie++],le!==le)return!0}else for(;oe>ie;ie++)if((V||ie in ae)&&ae[ie]===j)return V||ie||0;return!V&&-1}};t.exports={includes:L(!0),indexOf:L(!1)}},(t,n,r)=>{var g=r(62),y=Math.max,$=Math.min;t.exports=function(L,V){var z=g(L);return z<0?y(z+V,0):$(z,V)}},(t,n,r)=>{var g=r(63);t.exports=function(y){var $=+y;return $!==$||$===0?0:g($)}},t=>{var n=Math.ceil,r=Math.floor;t.exports=Math.trunc||function(y){var $=+y;return($>0?r:n)($)}},(t,n,r)=>{var g=r(65);t.exports=function(y){return g(y.length)}},(t,n,r)=>{var g=r(62),y=Math.min;t.exports=function($){return $>0?y(g($),9007199254740991):0}},t=>{t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(t,n)=>{n.f=Object.getOwnPropertySymbols},(t,n,r)=>{var g=r(7),y=r(21),$=/#|\.prototype\./,L=function(ae,oe){var ie=z[V(ae)];return ie===re?!0:ie===j?!1:y(oe)?g(oe):!!oe},V=L.normalize=function(ae){return String(ae).replace($,".").toLowerCase()},z=L.data={},j=L.NATIVE="N",re=L.POLYFILL="P";t.exports=L},(t,n,r)=>{var g=r(9),y=Function.prototype,$=y.apply,L=y.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(g?L.bind($):function(){return L.apply($,arguments)})},(t,n,r)=>{var g=r(24),y=r(39),$=r(44),L=r(25),V=r(71),z=r(56),j=r(74),re=r(75),ae=r(76),oe=r(80),ie=r(81),le=r(6),ue=r(36);t.exports=function(de,he,pe,_e){var Ce="stackTraceLimit",xe=_e?2:1,Ie=de.split("."),$e=Ie[Ie.length-1],Oe=g.apply(null,Ie);if(Oe){var Ne=Oe.prototype;if(!ue&&y(Ne,"cause")&&delete Ne.cause,!pe)return Oe;var Fe=g("Error"),Ve=he(function(ze,Et){var Dt=ae(_e?Et:ze,void 0),Ue=_e?new Oe(ze):new Oe;return Dt!==void 0&&$(Ue,"message",Dt),ie(Ue,Ve,Ue.stack,2),this&&L(Ne,this)&&re(Ue,this,Ve),arguments.length>xe&&oe(Ue,arguments[xe]),Ue});if(Ve.prototype=Ne,$e!=="Error"?V?V(Ve,Fe):z(Ve,Fe,{name:!0}):le&&Ce in Oe&&(j(Ve,Oe,Ce),j(Ve,Oe,"prepareStackTrace")),z(Ve,Oe),!ue)try{Ne.name!==$e&&$(Ne,"name",$e),Ne.constructor=Ve}catch{}return Ve}}},(t,n,r)=>{var g=r(72),y=r(47),$=r(73);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var L=!1,V={},z;try{z=g(Object.prototype,"__proto__","set"),z(V,[]),L=V instanceof Array}catch{}return function(re,ae){return y(re),$(ae),L?z(re,ae):re.__proto__=ae,re}}():void 0)},(t,n,r)=>{var g=r(14),y=r(31);t.exports=function($,L,V){try{return g(y(Object.getOwnPropertyDescriptor($,L)[V]))}catch{}}},(t,n,r)=>{var g=r(21),y=String,$=TypeError;t.exports=function(L){if(typeof L=="object"||g(L))return L;throw $("Can't set "+y(L)+" as a prototype")}},(t,n,r)=>{var g=r(45).f;t.exports=function(y,$,L){L in y||g(y,L,{configurable:!0,get:function(){return $[L]},set:function(V){$[L]=V}})}},(t,n,r)=>{var g=r(21),y=r(20),$=r(71);t.exports=function(L,V,z){var j,re;return $&&g(j=V.constructor)&&j!==z&&y(re=j.prototype)&&re!==z.prototype&&$(L,re),L}},(t,n,r)=>{var g=r(77);t.exports=function(y,$){return y===void 0?arguments.length<2?"":$:g(y)}},(t,n,r)=>{var g=r(78),y=String;t.exports=function($){if(g($)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return y($)}},(t,n,r)=>{var g=r(79),y=r(21),$=r(15),L=r(34),V=L("toStringTag"),z=Object,j=$(function(){return arguments}())==="Arguments",re=function(ae,oe){try{return ae[oe]}catch{}};t.exports=g?$:function(ae){var oe,ie,le;return ae===void 0?"Undefined":ae===null?"Null":typeof(ie=re(oe=z(ae),V))=="string"?ie:j?$(oe):(le=$(oe))==="Object"&&y(oe.callee)?"Arguments":le}},(t,n,r)=>{var g=r(34),y=g("toStringTag"),$={};$[y]="z",t.exports=String($)==="[object z]"},(t,n,r)=>{var g=r(20),y=r(44);t.exports=function($,L){g(L)&&"cause"in L&&y($,"cause",L.cause)}},(t,n,r)=>{var g=r(44),y=r(82),$=r(83),L=Error.captureStackTrace;t.exports=function(V,z,j,re){$&&(L?L(V,z):g(V,"stack",y(j,re)))}},(t,n,r)=>{var g=r(14),y=Error,$=g("".replace),L=function(j){return String(y(j).stack)}("zxcasd"),V=/\n\s*at [^:]*:[^\n]*/,z=V.test(L);t.exports=function(j,re){if(z&&typeof j=="string"&&!y.prepareStackTrace)for(;re--;)j=$(j,V,"");return j}},(t,n,r)=>{var g=r(7),y=r(11);t.exports=!g(function(){var $=Error("a");return"stack"in $?(Object.defineProperty($,"stack",y(1,7)),$.stack!==7):!0})},(t,n,r)=>{var g=r(48),y=r(14),$=r(77),L=r(85),V=URLSearchParams,z=V.prototype,j=y(z.append),re=y(z.delete),ae=y(z.forEach),oe=y([].push),ie=new V("a=1&a=2&b=3");ie.delete("a",1),ie.delete("b",void 0),ie+""!="a=2"&&g(z,"delete",function(le){var ue=arguments.length,de=ue<2?void 0:arguments[1];if(ue&&de===void 0)return re(this,le);var he=[];ae(this,function(Ne,Fe){oe(he,{key:Fe,value:Ne})}),L(ue,1);for(var pe=$(le),_e=$(de),Ce=0,xe=0,Ie=!1,$e=he.length,Oe;Ce<$e;)Oe=he[Ce++],Ie||Oe.key===pe?(Ie=!0,re(this,Oe.key)):xe++;for(;xe<$e;)Oe=he[xe++],Oe.key===pe&&Oe.value===_e||j(this,Oe.key,Oe.value)},{enumerable:!0,unsafe:!0})},t=>{var n=TypeError;t.exports=function(r,g){if(r<g)throw n("Not enough arguments");return r}},(t,n,r)=>{var g=r(48),y=r(14),$=r(77),L=r(85),V=URLSearchParams,z=V.prototype,j=y(z.getAll),re=y(z.has),ae=new V("a=1");(ae.has("a",2)||!ae.has("a",void 0))&&g(z,"has",function(ie){var le=arguments.length,ue=le<2?void 0:arguments[1];if(le&&ue===void 0)return re(this,ie);var de=j(this,ie);L(le,1);for(var he=$(ue),pe=0;pe<de.length;)if(de[pe++]===he)return!0;return!1},{enumerable:!0,unsafe:!0})},(t,n,r)=>{var g=r(6),y=r(14),$=r(88),L=URLSearchParams.prototype,V=y(L.forEach);g&&!("size"in L)&&$(L,"size",{get:function(){var j=0;return V(this,function(){j++}),j},configurable:!0,enumerable:!0})},(t,n,r)=>{var g=r(49),y=r(45);t.exports=function($,L,V){return V.get&&g(V.get,L,{getter:!0}),V.set&&g(V.set,L,{setter:!0}),y.f($,L,V)}},(t,n,r)=>{var g=r(3),y=r(40),$=r(64),L=r(90),V=r(92),z=r(7),j=z(function(){return[].push.call({length:4294967296},1)!==4294967297}),re=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(oe){return oe instanceof TypeError}},ae=j||!re();g({target:"Array",proto:!0,arity:1,forced:ae},{push:function(ie){var le=y(this),ue=$(le),de=arguments.length;V(ue+de);for(var he=0;he<de;he++)le[ue]=arguments[he],ue++;return L(le,ue),ue}})},(t,n,r)=>{var g=r(6),y=r(91),$=TypeError,L=Object.getOwnPropertyDescriptor,V=g&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(z){return z instanceof TypeError}}();t.exports=V?function(z,j){if(y(z)&&!L(z,"length").writable)throw $("Cannot set read only .length");return z.length=j}:function(z,j){return z.length=j}},(t,n,r)=>{var g=r(15);t.exports=Array.isArray||function($){return g($)==="Array"}},t=>{var n=TypeError,r=9007199254740991;t.exports=function(g){if(g>r)throw n("Maximum allowed index exceeded");return g}},(t,n,r)=>{var g=r(94),y=r(98).findLast,$=g.aTypedArray,L=g.exportTypedArrayMethod;L("findLast",function(z){return y($(this),z,arguments.length>1?arguments[1]:void 0)})},(t,n,r)=>{var g=r(95),y=r(6),$=r(4),L=r(21),V=r(20),z=r(39),j=r(78),re=r(32),ae=r(44),oe=r(48),ie=r(88),le=r(25),ue=r(96),de=r(71),he=r(34),pe=r(41),_e=r(52),Ce=_e.enforce,xe=_e.get,Ie=$.Int8Array,$e=Ie&&Ie.prototype,Oe=$.Uint8ClampedArray,Ne=Oe&&Oe.prototype,Fe=Ie&&ue(Ie),Ve=$e&&ue($e),ze=Object.prototype,Et=$.TypeError,Dt=he("toStringTag"),Ue=pe("TYPED_ARRAY_TAG"),qe="TypedArrayConstructor",Lt=g&&!!de&&j($.opera)!=="Opera",Pt=!1,At,vn,En,Sn={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},kt={BigInt64Array:8,BigUint64Array:8},jt=function(bn){if(!V(bn))return!1;var Pn=j(bn);return Pn==="DataView"||z(Sn,Pn)||z(kt,Pn)},_n=function(Mn){var bn=ue(Mn);if(V(bn)){var Pn=xe(bn);return Pn&&z(Pn,qe)?Pn[qe]:_n(bn)}},wn=function(Mn){if(!V(Mn))return!1;var bn=j(Mn);return z(Sn,bn)||z(kt,bn)},hn=function(Mn){if(wn(Mn))return Mn;throw Et("Target is not a typed array")},Cn=function(Mn){if(L(Mn)&&(!de||le(Fe,Mn)))return Mn;throw Et(re(Mn)+" is not a typed array constructor")},Tn=function(Mn,bn,Pn,Rn){if(y){if(Pn)for(var Fn in Sn){var Dn=$[Fn];if(Dn&&z(Dn.prototype,Mn))try{delete Dn.prototype[Mn]}catch{try{Dn.prototype[Mn]=bn}catch{}}}(!Ve[Mn]||Pn)&&oe(Ve,Mn,Pn?bn:Lt&&$e[Mn]||bn,Rn)}},xn=function(Mn,bn,Pn){var Rn,Fn;if(y){if(de){if(Pn){for(Rn in Sn)if(Fn=$[Rn],Fn&&z(Fn,Mn))try{delete Fn[Mn]}catch{}}if(!Fe[Mn]||Pn)try{return oe(Fe,Mn,Pn?bn:Lt&&Fe[Mn]||bn)}catch{}else return}for(Rn in Sn)Fn=$[Rn],Fn&&(!Fn[Mn]||Pn)&&oe(Fn,Mn,bn)}};for(At in Sn)vn=$[At],En=vn&&vn.prototype,En?Ce(En)[qe]=vn:Lt=!1;for(At in kt)vn=$[At],En=vn&&vn.prototype,En&&(Ce(En)[qe]=vn);if((!Lt||!L(Fe)||Fe===Function.prototype)&&(Fe=function(){throw Et("Incorrect invocation")},Lt))for(At in Sn)$[At]&&de($[At],Fe);if((!Lt||!Ve||Ve===ze)&&(Ve=Fe.prototype,Lt))for(At in Sn)$[At]&&de($[At].prototype,Ve);if(Lt&&ue(Ne)!==Ve&&de(Ne,Ve),y&&!z(Ve,Dt)){Pt=!0,ie(Ve,Dt,{configurable:!0,get:function(){return V(this)?this[Ue]:void 0}});for(At in Sn)$[At]&&ae($[At],Ue,At)}t.exports={NATIVE_ARRAY_BUFFER_VIEWS:Lt,TYPED_ARRAY_TAG:Pt&&Ue,aTypedArray:hn,aTypedArrayConstructor:Cn,exportTypedArrayMethod:Tn,exportTypedArrayStaticMethod:xn,getTypedArrayConstructor:_n,isView:jt,isTypedArray:wn,TypedArray:Fe,TypedArrayPrototype:Ve}},t=>{t.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},(t,n,r)=>{var g=r(39),y=r(21),$=r(40),L=r(54),V=r(97),z=L("IE_PROTO"),j=Object,re=j.prototype;t.exports=V?j.getPrototypeOf:function(ae){var oe=$(ae);if(g(oe,z))return oe[z];var ie=oe.constructor;return y(ie)&&oe instanceof ie?ie.prototype:oe instanceof j?re:null}},(t,n,r)=>{var g=r(7);t.exports=!g(function(){function y(){}return y.prototype.constructor=null,Object.getPrototypeOf(new y)!==y.prototype})},(t,n,r)=>{var g=r(99),y=r(13),$=r(40),L=r(64),V=function(z){var j=z===1;return function(re,ae,oe){for(var ie=$(re),le=y(ie),ue=g(ae,oe),de=L(le),he,pe;de-- >0;)if(he=le[de],pe=ue(he,de,ie),pe)switch(z){case 0:return he;case 1:return de}return j?-1:void 0}};t.exports={findLast:V(0),findLastIndex:V(1)}},(t,n,r)=>{var g=r(100),y=r(31),$=r(9),L=g(g.bind);t.exports=function(V,z){return y(V),z===void 0?V:$?L(V,z):function(){return V.apply(z,arguments)}}},(t,n,r)=>{var g=r(15),y=r(14);t.exports=function($){if(g($)==="Function")return y($)}},(t,n,r)=>{var g=r(94),y=r(98).findLastIndex,$=g.aTypedArray,L=g.exportTypedArrayMethod;L("findLastIndex",function(z){return y($(this),z,arguments.length>1?arguments[1]:void 0)})},(t,n,r)=>{var g=r(4),y=r(8),$=r(94),L=r(64),V=r(103),z=r(40),j=r(7),re=g.RangeError,ae=g.Int8Array,oe=ae&&ae.prototype,ie=oe&&oe.set,le=$.aTypedArray,ue=$.exportTypedArrayMethod,de=!j(function(){var pe=new Uint8ClampedArray(2);return y(ie,pe,{length:1,0:3},1),pe[1]!==3}),he=de&&$.NATIVE_ARRAY_BUFFER_VIEWS&&j(function(){var pe=new ae(2);return pe.set(1),pe.set("2",1),pe[0]!==0||pe[1]!==2});ue("set",function(_e){le(this);var Ce=V(arguments.length>1?arguments[1]:void 0,1),xe=z(_e);if(de)return y(ie,this,xe,Ce);var Ie=this.length,$e=L(xe),Oe=0;if($e+Ce>Ie)throw re("Wrong length");for(;Oe<$e;)this[Ce+Oe]=xe[Oe++]},!de||he)},(t,n,r)=>{var g=r(104),y=RangeError;t.exports=function($,L){var V=g($);if(V%L)throw y("Wrong offset");return V}},(t,n,r)=>{var g=r(62),y=RangeError;t.exports=function($){var L=g($);if(L<0)throw y("The argument can't be less than 0");return L}},(t,n,r)=>{var g=r(106),y=r(94),$=y.aTypedArray,L=y.exportTypedArrayMethod,V=y.getTypedArrayConstructor;L("toReversed",function(){return g($(this),V(this))})},(t,n,r)=>{var g=r(64);t.exports=function(y,$){for(var L=g(y),V=new $(L),z=0;z<L;z++)V[z]=y[L-z-1];return V}},(t,n,r)=>{var g=r(94),y=r(14),$=r(31),L=r(108),V=g.aTypedArray,z=g.getTypedArrayConstructor,j=g.exportTypedArrayMethod,re=y(g.TypedArrayPrototype.sort);j("toSorted",function(oe){oe!==void 0&&$(oe);var ie=V(this),le=L(z(ie),ie);return re(le,oe)})},(t,n,r)=>{var g=r(64);t.exports=function(y,$){for(var L=0,V=g($),z=new y(V);V>L;)z[L]=$[L++];return z}},(t,n,r)=>{var g=r(110),y=r(94),$=r(111),L=r(62),V=r(112),z=y.aTypedArray,j=y.getTypedArrayConstructor,re=y.exportTypedArrayMethod,ae=!!function(){try{new Int8Array(1).with(2,{valueOf:function(){throw 8}})}catch(oe){return oe===8}}();re("with",function(oe,ie){var le=z(this),ue=L(oe),de=$(le)?V(ie):+ie;return g(le,j(le),ue,de)},!ae)},(t,n,r)=>{var g=r(64),y=r(62),$=RangeError;t.exports=function(L,V,z,j){var re=g(L),ae=y(z),oe=ae<0?re+ae:ae;if(oe>=re||oe<0)throw $("Incorrect index");for(var ie=new V(re),le=0;le<re;le++)ie[le]=le===oe?j:L[le];return ie}},(t,n,r)=>{var g=r(78);t.exports=function(y){var $=g(y);return $==="BigInt64Array"||$==="BigUint64Array"}},(t,n,r)=>{var g=r(19),y=TypeError;t.exports=function($){var L=g($,"number");if(typeof L=="number")throw y("Can't convert number to bigint");return BigInt(L)}},(t,n,r)=>{var g=r(6),y=r(88),$=r(114),L=ArrayBuffer.prototype;g&&!("detached"in L)&&y(L,"detached",{configurable:!0,get:function(){return $(this)}})},(t,n,r)=>{var g=r(14),y=r(115),$=g(ArrayBuffer.prototype.slice);t.exports=function(L){if(y(L)!==0)return!1;try{return $(L,0,0),!1}catch{return!0}}},(t,n,r)=>{var g=r(72),y=r(15),$=TypeError;t.exports=g(ArrayBuffer.prototype,"byteLength","get")||function(L){if(y(L)!=="ArrayBuffer")throw $("ArrayBuffer expected");return L.byteLength}},(t,n,r)=>{var g=r(3),y=r(117);y&&g({target:"ArrayBuffer",proto:!0},{transfer:function(){return y(this,arguments.length?arguments[0]:void 0,!0)}})},(t,n,r)=>{var g=r(4),y=r(14),$=r(72),L=r(118),V=r(114),z=r(115),j=r(119),re=g.TypeError,ae=g.structuredClone,oe=g.ArrayBuffer,ie=g.DataView,le=Math.min,ue=oe.prototype,de=ie.prototype,he=y(ue.slice),pe=$(ue,"resizable","get"),_e=$(ue,"maxByteLength","get"),Ce=y(de.getInt8),xe=y(de.setInt8);t.exports=j&&function(Ie,$e,Oe){var Ne=z(Ie),Fe=$e===void 0?Ne:L($e),Ve=!pe||!pe(Ie);if(V(Ie))throw re("ArrayBuffer is detached");var ze=ae(Ie,{transfer:[Ie]});if(Ne===Fe&&(Oe||Ve))return ze;if(Ne>=Fe&&(!Oe||Ve))return he(ze,0,Fe);for(var Et=Oe&&!Ve&&_e?{maxByteLength:_e(ze)}:void 0,Dt=new oe(Fe,Et),Ue=new ie(ze),qe=new ie(Dt),Lt=le(Fe,Ne),Pt=0;Pt<Lt;Pt++)xe(qe,Pt,Ce(Ue,Pt));return Dt}},(t,n,r)=>{var g=r(62),y=r(65),$=RangeError;t.exports=function(L){if(L===void 0)return 0;var V=g(L),z=y(V);if(V!==z)throw $("Wrong length or index");return z}},(t,n,r)=>{var g=r(4),y=r(7),$=r(28),L=r(120),V=r(121),z=r(122),j=g.structuredClone;t.exports=!!j&&!y(function(){if(V&&$>92||z&&$>94||L&&$>97)return!1;var re=new ArrayBuffer(8),ae=j(re,{transfer:[re]});return re.byteLength!==0||ae.byteLength!==8})},(t,n,r)=>{var g=r(121),y=r(122);t.exports=!g&&!y&&typeof window=="object"&&typeof document=="object"},t=>{t.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},(t,n,r)=>{var g=r(4),y=r(15);t.exports=y(g.process)==="process"},(t,n,r)=>{var g=r(3),y=r(117);y&&g({target:"ArrayBuffer",proto:!0},{transferToFixedLength:function(){return y(this,arguments.length?arguments[0]:void 0,!1)}})},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var t,r,g,y,Wr,ia,V,z,j,re,ae,oe,ie,le,ue,sa,he,pe,Ea,Ce,xe;Object.defineProperty(exports,"__esModule",{value:!0}),exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultFilterFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,Object.defineProperty(exports,"SVGGraphics",{enumerable:!0,get:function(){return _displaySvg.SVGGraphics}}),exports.build=void 0,exports.getDocument=getDocument,exports.version=void 0,__w_pdfjs_require__(84),__w_pdfjs_require__(86),__w_pdfjs_require__(87),__w_pdfjs_require__(2),__w_pdfjs_require__(93),__w_pdfjs_require__(101),__w_pdfjs_require__(102),__w_pdfjs_require__(105),__w_pdfjs_require__(107),__w_pdfjs_require__(109),__w_pdfjs_require__(113),__w_pdfjs_require__(116),__w_pdfjs_require__(123),__w_pdfjs_require__(89),__w_pdfjs_require__(125),__w_pdfjs_require__(136),__w_pdfjs_require__(138),__w_pdfjs_require__(141),__w_pdfjs_require__(143),__w_pdfjs_require__(145),__w_pdfjs_require__(147),__w_pdfjs_require__(149),__w_pdfjs_require__(152);var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(163),_display_utils=__w_pdfjs_require__(168),_font_loader=__w_pdfjs_require__(171),_displayNode_utils=__w_pdfjs_require__(172),_canvas=__w_pdfjs_require__(173),_worker_options=__w_pdfjs_require__(176),_message_handler=__w_pdfjs_require__(177),_metadata=__w_pdfjs_require__(178),_optional_content_config=__w_pdfjs_require__(179),_transport_stream=__w_pdfjs_require__(180),_displayFetch_stream=__w_pdfjs_require__(181),_displayNetwork=__w_pdfjs_require__(184),_displayNode_stream=__w_pdfjs_require__(185),_displaySvg=__w_pdfjs_require__(186),_xfa_text=__w_pdfjs_require__(194);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DELAYED_CLEANUP_TIMEOUT=5e3,DefaultCanvasFactory=_util.isNodeJS?_displayNode_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_util.isNodeJS?_displayNode_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const DefaultFilterFactory=_util.isNodeJS?_displayNode_utils.NodeFilterFactory:_display_utils.DOMFilterFactory;exports.DefaultFilterFactory=DefaultFilterFactory;const DefaultStandardFontDataFactory=_util.isNodeJS?_displayNode_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;function getDocument($e){if(typeof $e=="string"||$e instanceof URL?$e={url:$e}:(0,_util.isArrayBuffer)($e)&&($e={data:$e}),typeof $e!="object")throw new Error("Invalid parameter in getDocument, need parameter object.");if(!$e.url&&!$e.data&&!$e.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const Oe=new PDFDocumentLoadingTask,{docId:Ne}=Oe,Fe=$e.url?getUrlProp($e.url):null,Ve=$e.data?getDataProp($e.data):null,ze=$e.httpHeaders||null,Et=$e.withCredentials===!0,Dt=$e.password??null,Ue=$e.range instanceof PDFDataRangeTransport?$e.range:null,qe=Number.isInteger($e.rangeChunkSize)&&$e.rangeChunkSize>0?$e.rangeChunkSize:DEFAULT_RANGE_CHUNK_SIZE;let Lt=$e.worker instanceof PDFWorker?$e.worker:null;const Pt=$e.verbosity,At=typeof $e.docBaseUrl=="string"&&!(0,_display_utils.isDataScheme)($e.docBaseUrl)?$e.docBaseUrl:null,vn=typeof $e.cMapUrl=="string"?$e.cMapUrl:null,En=$e.cMapPacked!==!1,Sn=$e.CMapReaderFactory||DefaultCMapReaderFactory,kt=typeof $e.standardFontDataUrl=="string"?$e.standardFontDataUrl:null,jt=$e.StandardFontDataFactory||DefaultStandardFontDataFactory,_n=$e.stopAtErrors!==!0,wn=Number.isInteger($e.maxImageSize)&&$e.maxImageSize>-1?$e.maxImageSize:-1,hn=$e.isEvalSupported!==!1,Cn=typeof $e.isOffscreenCanvasSupported=="boolean"?$e.isOffscreenCanvasSupported:!_util.isNodeJS,Tn=Number.isInteger($e.canvasMaxAreaInBytes)?$e.canvasMaxAreaInBytes:-1,xn=typeof $e.disableFontFace=="boolean"?$e.disableFontFace:_util.isNodeJS,Mn=$e.fontExtraProperties===!0,bn=$e.enableXfa===!0,Pn=$e.ownerDocument||globalThis.document,Rn=$e.disableRange===!0,Fn=$e.disableStream===!0,Dn=$e.disableAutoFetch===!0,Ln=$e.pdfBug===!0,kn=Ue?Ue.length:$e.length??NaN,In=typeof $e.useSystemFonts=="boolean"?$e.useSystemFonts:!_util.isNodeJS&&!xn,Vn=typeof $e.useWorkerFetch=="boolean"?$e.useWorkerFetch:Sn===_display_utils.DOMCMapReaderFactory&&jt===_display_utils.DOMStandardFontDataFactory&&vn&&kt&&(0,_display_utils.isValidFetchUrl)(vn,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(kt,document.baseURI),zn=$e.canvasFactory||new DefaultCanvasFactory({ownerDocument:Pn}),Kn=$e.filterFactory||new DefaultFilterFactory({docId:Ne,ownerDocument:Pn}),jn=null;(0,_util.setVerbosityLevel)(Pt);const Wn={canvasFactory:zn,filterFactory:Kn};if(Vn||(Wn.cMapReaderFactory=new Sn({baseUrl:vn,isCompressed:En}),Wn.standardFontDataFactory=new jt({baseUrl:kt})),!Lt){const sr={verbosity:Pt,port:_worker_options.GlobalWorkerOptions.workerPort};Lt=sr.port?PDFWorker.fromPort(sr):new PDFWorker(sr),Oe._worker=Lt}const Un={docId:Ne,apiVersion:"3.11.174",data:Ve,password:Dt,disableAutoFetch:Dn,rangeChunkSize:qe,length:kn,docBaseUrl:At,enableXfa:bn,evaluatorOptions:{maxImageSize:wn,disableFontFace:xn,ignoreErrors:_n,isEvalSupported:hn,isOffscreenCanvasSupported:Cn,canvasMaxAreaInBytes:Tn,fontExtraProperties:Mn,useSystemFonts:In,cMapUrl:Vn?vn:null,standardFontDataUrl:Vn?kt:null}},nr={ignoreErrors:_n,isEvalSupported:hn,disableFontFace:xn,fontExtraProperties:Mn,enableXfa:bn,ownerDocument:Pn,disableAutoFetch:Dn,pdfBug:Ln,styleElement:jn};return Lt.promise.then(function(){if(Oe.destroyed)throw new Error("Loading aborted");const sr=_fetchDocument(Lt,Un),mr=new Promise(function(vr){let Sr;Ue?Sr=new _transport_stream.PDFDataTransportStream({length:kn,initialData:Ue.initialData,progressiveDone:Ue.progressiveDone,contentDispositionFilename:Ue.contentDispositionFilename,disableRange:Rn,disableStream:Fn},Ue):Ve||(Sr=(ir=>_util.isNodeJS?new _displayNode_stream.PDFNodeStream(ir):(0,_display_utils.isValidFetchUrl)(ir.url)?new _displayFetch_stream.PDFFetchStream(ir):new _displayNetwork.PDFNetworkStream(ir))({url:Fe,length:kn,httpHeaders:ze,withCredentials:Et,rangeChunkSize:qe,disableRange:Rn,disableStream:Fn})),vr(Sr)});return Promise.all([sr,mr]).then(function(vr){let[Sr,yr]=vr;if(Oe.destroyed)throw new Error("Loading aborted");const ir=new _message_handler.MessageHandler(Ne,Sr,Lt.port),gr=new WorkerTransport(ir,Oe,yr,nr,Wn);Oe._transport=gr,ir.send("Ready",null)})}).catch(Oe._capability.reject),Oe}async function _fetchDocument($e,Oe){if($e.destroyed)throw new Error("Worker was destroyed");const Ne=await $e.messageHandler.sendWithPromise("GetDocRequest",Oe,Oe.data?[Oe.data.buffer]:null);if($e.destroyed)throw new Error("Worker was destroyed");return Ne}function getUrlProp($e){if($e instanceof URL)return $e.href;try{return new URL($e,window.location).href}catch{if(_util.isNodeJS&&typeof $e=="string")return $e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp($e){if(_util.isNodeJS&&typeof Buffer<"u"&&$e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if($e instanceof Uint8Array&&$e.byteLength===$e.buffer.byteLength)return $e;if(typeof $e=="string")return(0,_util.stringToBytes)($e);if(typeof $e=="object"&&!isNaN($e==null?void 0:$e.length)||(0,_util.isArrayBuffer)($e))return new Uint8Array($e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}const n=class n{constructor(){this._capability=new _util.PromiseCapability,this._transport=null,this._worker=null,this.docId=`d${Zr(n,t)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var Oe,Ne,Fe;this.destroyed=!0;try{(Oe=this._worker)!=null&&Oe.port&&(this._worker._pendingDestroy=!0),await((Ne=this._transport)==null?void 0:Ne.destroy())}catch(Ve){throw(Fe=this._worker)!=null&&Fe.port&&delete this._worker._pendingDestroy,Ve}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};t=new WeakMap,rr(n,t,0);let PDFDocumentLoadingTask=n;exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(Oe,Ne){let Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this.length=Oe,this.initialData=Ne,this.progressiveDone=Fe,this.contentDispositionFilename=Ve,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=new _util.PromiseCapability}addRangeListener(Oe){this._rangeListeners.push(Oe)}addProgressListener(Oe){this._progressListeners.push(Oe)}addProgressiveReadListener(Oe){this._progressiveReadListeners.push(Oe)}addProgressiveDoneListener(Oe){this._progressiveDoneListeners.push(Oe)}onDataRange(Oe,Ne){for(const Fe of this._rangeListeners)Fe(Oe,Ne)}onDataProgress(Oe,Ne){this._readyCapability.promise.then(()=>{for(const Fe of this._progressListeners)Fe(Oe,Ne)})}onDataProgressiveRead(Oe){this._readyCapability.promise.then(()=>{for(const Ne of this._progressiveReadListeners)Ne(Oe)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const Oe of this._progressiveDoneListeners)Oe()})}transportReady(){this._readyCapability.resolve()}requestDataRange(Oe,Ne){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(Oe,Ne){this._pdfInfo=Oe,this._transport=Ne,Object.defineProperty(this,"getJavaScript",{value:()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getJavaScript`, please use `PDFDocumentProxy.getJSActions` instead."),this.getJSActions().then(Fe=>{if(!Fe)return Fe;const Ve=[];for(const ze in Fe)Ve.push(...Fe[ze]);return Ve}))})}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(Oe){return this._transport.getPage(Oe)}getPageIndex(Oe){return this._transport.getPageIndex(Oe)}getDestinations(){return this._transport.getDestinations()}getDestination(Oe){return this._transport.getDestination(Oe)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return this._transport.startCleanup(Oe||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(Oe,Ne,Fe){rr(this,y);rr(this,r,null);rr(this,g,!1);let Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;this._pageIndex=Oe,this._pageInfo=Ne,this._transport=Fe,this._stats=Ve?new _display_utils.StatTimer:null,this._pdfBug=Ve,this.commonObjs=Fe.commonObjs,this.objs=new PDFObjects,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:Oe,rotation:Ne=this.rotate,offsetX:Fe=0,offsetY:Ve=0,dontFlip:ze=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new _display_utils.PageViewport({viewBox:this.view,scale:Oe,rotation:Ne,offsetX:Fe,offsetY:Ve,dontFlip:ze})}getAnnotations(){let{intent:Oe="display"}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ne=this._transport.getRenderingIntent(Oe);return this._transport.getAnnotations(this._pageIndex,Ne.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var Oe;return((Oe=this._transport._htmlForXfa)==null?void 0:Oe.children[this._pageIndex])||null}render(Oe){var _n,wn;let{canvasContext:Ne,viewport:Fe,intent:Ve="display",annotationMode:ze=_util.AnnotationMode.ENABLE,transform:Et=null,background:Dt=null,optionalContentConfigPromise:Ue=null,annotationCanvasMap:qe=null,pageColors:Lt=null,printAnnotationStorage:Pt=null}=Oe;(_n=this._stats)==null||_n.time("Overall");const At=this._transport.getRenderingIntent(Ve,ze,Pt);ar(this,g,!1),tr(this,y,ia).call(this),Ue||(Ue=this._transport.getOptionalContentConfig());let vn=this._intentStates.get(At.cacheKey);vn||(vn=Object.create(null),this._intentStates.set(At.cacheKey,vn)),vn.streamReaderCancelTimeout&&(clearTimeout(vn.streamReaderCancelTimeout),vn.streamReaderCancelTimeout=null);const En=!!(At.renderingIntent&_util.RenderingIntentFlag.PRINT);vn.displayReadyCapability||(vn.displayReadyCapability=new _util.PromiseCapability,vn.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(wn=this._stats)==null||wn.time("Page Request"),this._pumpOperatorList(At));const Sn=hn=>{var Cn,Tn;vn.renderTasks.delete(kt),(this._maybeCleanupAfterRender||En)&&ar(this,g,!0),tr(this,y,Wr).call(this,!En),hn?(kt.capability.reject(hn),this._abortOperatorList({intentState:vn,reason:hn instanceof Error?hn:new Error(hn)})):kt.capability.resolve(),(Cn=this._stats)==null||Cn.timeEnd("Rendering"),(Tn=this._stats)==null||Tn.timeEnd("Overall")},kt=new InternalRenderTask({callback:Sn,params:{canvasContext:Ne,viewport:Fe,transform:Et,background:Dt},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:qe,operatorList:vn.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!En,pdfBug:this._pdfBug,pageColors:Lt});(vn.renderTasks||(vn.renderTasks=new Set)).add(kt);const jt=kt.task;return Promise.all([vn.displayReadyCapability.promise,Ue]).then(hn=>{var xn;let[Cn,Tn]=hn;if(this.destroyed){Sn();return}(xn=this._stats)==null||xn.time("Rendering"),kt.initializeGraphics({transparency:Cn,optionalContentConfig:Tn}),kt.operatorListChanged()}).catch(Sn),jt}getOperatorList(){var Ue;let{intent:Oe="display",annotationMode:Ne=_util.AnnotationMode.ENABLE,printAnnotationStorage:Fe=null}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function Ve(){Et.operatorList.lastChunk&&(Et.opListReadCapability.resolve(Et.operatorList),Et.renderTasks.delete(Dt))}const ze=this._transport.getRenderingIntent(Oe,Ne,Fe,!0);let Et=this._intentStates.get(ze.cacheKey);Et||(Et=Object.create(null),this._intentStates.set(ze.cacheKey,Et));let Dt;return Et.opListReadCapability||(Dt=Object.create(null),Dt.operatorListChanged=Ve,Et.opListReadCapability=new _util.PromiseCapability,(Et.renderTasks||(Et.renderTasks=new Set)).add(Dt),Et.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ue=this._stats)==null||Ue.time("Page Request"),this._pumpOperatorList(ze)),Et.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:Oe=!1,disableNormalization:Ne=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:Oe===!0,disableNormalization:Ne===!0},{highWaterMark:100,size(Ve){return Ve.items.length}})}getTextContent(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then(Fe=>_xfa_text.XfaText.textContent(Fe));const Ne=this.streamTextContent(Oe);return new Promise(function(Fe,Ve){function ze(){Et.read().then(function(Ue){let{value:qe,done:Lt}=Ue;if(Lt){Fe(Dt);return}Object.assign(Dt.styles,qe.styles),Dt.items.push(...qe.items),ze()},Ve)}const Et=Ne.getReader(),Dt={items:[],styles:Object.create(null)};ze()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const Oe=[];for(const Ne of this._intentStates.values())if(this._abortOperatorList({intentState:Ne,reason:new Error("Page was destroyed."),force:!0}),!Ne.opListReadCapability)for(const Fe of Ne.renderTasks)Oe.push(Fe.completed),Fe.cancel();return this.objs.clear(),ar(this,g,!1),tr(this,y,ia).call(this),Promise.all(Oe)}cleanup(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ar(this,g,!0);const Ne=tr(this,y,Wr).call(this,!1);return Oe&&Ne&&this._stats&&(this._stats=new _display_utils.StatTimer),Ne}_startRenderPage(Oe,Ne){var Ve,ze;const Fe=this._intentStates.get(Ne);Fe&&((Ve=this._stats)==null||Ve.timeEnd("Page Request"),(ze=Fe.displayReadyCapability)==null||ze.resolve(Oe))}_renderPageChunk(Oe,Ne){for(let Fe=0,Ve=Oe.length;Fe<Ve;Fe++)Ne.operatorList.fnArray.push(Oe.fnArray[Fe]),Ne.operatorList.argsArray.push(Oe.argsArray[Fe]);Ne.operatorList.lastChunk=Oe.lastChunk,Ne.operatorList.separateAnnots=Oe.separateAnnots;for(const Fe of Ne.renderTasks)Fe.operatorListChanged();Oe.lastChunk&&tr(this,y,Wr).call(this,!0)}_pumpOperatorList(Oe){let{renderingIntent:Ne,cacheKey:Fe,annotationStorageSerializable:Ve}=Oe;const{map:ze,transfers:Et}=Ve,Ue=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:Ne,cacheKey:Fe,annotationStorage:ze},Et).getReader(),qe=this._intentStates.get(Fe);qe.streamReader=Ue;const Lt=()=>{Ue.read().then(Pt=>{let{value:At,done:vn}=Pt;if(vn){qe.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(At,qe),Lt())},Pt=>{if(qe.streamReader=null,!this._transport.destroyed){if(qe.operatorList){qe.operatorList.lastChunk=!0;for(const At of qe.renderTasks)At.operatorListChanged();tr(this,y,Wr).call(this,!0)}if(qe.displayReadyCapability)qe.displayReadyCapability.reject(Pt);else if(qe.opListReadCapability)qe.opListReadCapability.reject(Pt);else throw Pt}})};Lt()}_abortOperatorList(Oe){let{intentState:Ne,reason:Fe,force:Ve=!1}=Oe;if(Ne.streamReader){if(Ne.streamReaderCancelTimeout&&(clearTimeout(Ne.streamReaderCancelTimeout),Ne.streamReaderCancelTimeout=null),!Ve){if(Ne.renderTasks.size>0)return;if(Fe instanceof _display_utils.RenderingCancelledException){let ze=RENDERING_CANCELLED_TIMEOUT;Fe.extraDelay>0&&Fe.extraDelay<1e3&&(ze+=Fe.extraDelay),Ne.streamReaderCancelTimeout=setTimeout(()=>{Ne.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:Ne,reason:Fe,force:!0})},ze);return}}if(Ne.streamReader.cancel(new _util.AbortException(Fe.message)).catch(()=>{}),Ne.streamReader=null,!this._transport.destroyed){for(const[ze,Et]of this._intentStates)if(Et===Ne){this._intentStates.delete(ze);break}this.cleanup()}}}get stats(){return this._stats}}r=new WeakMap,g=new WeakMap,y=new WeakSet,Wr=function(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(tr(this,y,ia).call(this),!An(this,g)||this.destroyed)return!1;if(Oe)return ar(this,r,setTimeout(()=>{ar(this,r,null),tr(this,y,Wr).call(this,!1)},DELAYED_CLEANUP_TIMEOUT)),!1;for(const{renderTasks:Ne,operatorList:Fe}of this._intentStates.values())if(Ne.size>0||!Fe.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),ar(this,g,!1),!0},ia=function(){An(this,r)&&(clearTimeout(An(this,r)),ar(this,r,null))},exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){rr(this,V,new Set);rr(this,z,Promise.resolve())}postMessage(Oe,Ne){const Fe={data:structuredClone(Oe,null)};An(this,z).then(()=>{for(const Ve of An(this,V))Ve.call(this,Fe)})}addEventListener(Oe,Ne){An(this,V).add(Ne)}removeEventListener(Oe,Ne){An(this,V).delete(Ne)}terminate(){An(this,V).clear()}}V=new WeakMap,z=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_util.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const $e=(j=document==null?void 0:document.currentScript)==null?void 0:j.src;$e&&(PDFWorkerUtil.fallbackWorkerSrc=$e.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function($e,Oe){let Ne;try{if(Ne=new URL($e),!Ne.origin||Ne.origin==="null")return!1}catch{return!1}const Fe=new URL(Oe,Ne);return Ne.origin===Fe.origin},PDFWorkerUtil.createCDNWrapper=function($e){const Oe=`importScripts("${$e}");`;return URL.createObjectURL(new Blob([Oe]))}}const _PDFWorker=class _PDFWorker{constructor(){var Fe;let{name:$e=null,port:Oe=null,verbosity:Ne=(0,_util.getVerbosityLevel)()}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(this.name=$e,this.destroyed=!1,this.verbosity=Ne,this._readyCapability=new _util.PromiseCapability,this._port=null,this._webWorker=null,this._messageHandler=null,Oe){if((Fe=An(_PDFWorker,re))!=null&&Fe.has(Oe))throw new Error("Cannot use more than one PDFWorker per port.");(An(_PDFWorker,re)||ar(_PDFWorker,re,new WeakMap)).set(Oe,this),this._initializeFromPort(Oe);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort($e){this._port=$e,this._messageHandler=new _message_handler.MessageHandler("main","worker",$e),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:$e}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,$e)||($e=PDFWorkerUtil.createCDNWrapper(new URL($e,window.location).href));const Oe=new Worker($e),Ne=new _message_handler.MessageHandler("main","worker",Oe),Fe=()=>{Oe.removeEventListener("error",Ve),Ne.destroy(),Oe.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Ve=()=>{this._webWorker||Fe()};Oe.addEventListener("error",Ve),Ne.on("test",Et=>{if(Oe.removeEventListener("error",Ve),this.destroyed){Fe();return}Et?(this._messageHandler=Ne,this._port=Oe,this._webWorker=Oe,this._readyCapability.resolve(),Ne.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),Ne.destroy(),Oe.terminate())}),Ne.on("ready",Et=>{if(Oe.removeEventListener("error",Ve),this.destroyed){Fe();return}try{ze()}catch{this._setupFakeWorker()}});const ze=()=>{const Et=new Uint8Array;Ne.send("test",Et,[Et.buffer])};ze();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then($e=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const Oe=new LoopbackPort;this._port=Oe;const Ne=`fake${PDFWorkerUtil.fakeWorkerId++}`,Fe=new _message_handler.MessageHandler(Ne+"_worker",Ne,Oe);$e.setup(Fe,Oe);const Ve=new _message_handler.MessageHandler(Ne,Ne+"_worker",Oe);this._messageHandler=Ve,this._readyCapability.resolve(),Ve.send("configure",{verbosity:this.verbosity})}).catch($e=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${$e.message}".`))})}destroy(){var $e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),($e=An(_PDFWorker,re))==null||$e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort($e){var Ne;if(!($e!=null&&$e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const Oe=(Ne=An(this,re))==null?void 0:Ne.get($e.port);if(Oe){if(Oe._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Oe}return new _PDFWorker($e)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _util.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var $e;try{return(($e=globalThis.pdfjsWorker)==null?void 0:$e.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_util.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};re=new WeakMap,rr(_PDFWorker,re);let PDFWorker=_PDFWorker;exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(Oe,Ne,Fe,Ve,ze){rr(this,ue);rr(this,ae,new Map);rr(this,oe,new Map);rr(this,ie,new Map);rr(this,le,null);this.messageHandler=Oe,this.loadingTask=Ne,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({ownerDocument:Ve.ownerDocument,styleElement:Ve.styleElement}),this._params=Ve,this.canvasFactory=ze.canvasFactory,this.filterFactory=ze.filterFactory,this.cMapReaderFactory=ze.cMapReaderFactory,this.standardFontDataFactory=ze.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Fe,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=new _util.PromiseCapability,this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(Oe){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_util.AnnotationMode.ENABLE,Fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ze=_util.RenderingIntentFlag.DISPLAY,Et=_annotation_storage.SerializableEmpty;switch(Oe){case"any":ze=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":ze=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${Oe}`)}switch(Ne){case _util.AnnotationMode.DISABLE:ze+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:ze+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:ze+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,Et=(ze&_util.RenderingIntentFlag.PRINT&&Fe instanceof _annotation_storage.PrintAnnotationStorage?Fe:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${Ne}`)}return Ve&&(ze+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:ze,cacheKey:`${ze}_${Et.hash}`,annotationStorageSerializable:Et}}destroy(){var Fe;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=new _util.PromiseCapability,(Fe=An(this,le))==null||Fe.reject(new Error("Worker was destroyed during onPassword callback"));const Oe=[];for(const Ve of An(this,oe).values())Oe.push(Ve._destroy());An(this,oe).clear(),An(this,ie).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ne=this.messageHandler.sendWithPromise("Terminate",null);return Oe.push(Ne),Promise.all(Oe).then(()=>{var Ve;this.commonObjs.clear(),this.fontLoader.clear(),An(this,ae).clear(),this.filterFactory.destroy(),(Ve=this._networkStream)==null||Ve.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:Oe,loadingTask:Ne}=this;Oe.on("GetReader",(Fe,Ve)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=ze=>{this._lastProgress={loaded:ze.loaded,total:ze.total}},Ve.onPull=()=>{this._fullReader.read().then(function(ze){let{value:Et,done:Dt}=ze;if(Dt){Ve.close();return}(0,_util.assert)(Et instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Ve.enqueue(new Uint8Array(Et),1,[Et])}).catch(ze=>{Ve.error(ze)})},Ve.onCancel=ze=>{this._fullReader.cancel(ze),Ve.ready.catch(Et=>{if(!this.destroyed)throw Et})}}),Oe.on("ReaderHeadersReady",Fe=>{const Ve=new _util.PromiseCapability,ze=this._fullReader;return ze.headersReady.then(()=>{var Et;(!ze.isStreamingSupported||!ze.isRangeSupported)&&(this._lastProgress&&((Et=Ne.onProgress)==null||Et.call(Ne,this._lastProgress)),ze.onProgress=Dt=>{var Ue;(Ue=Ne.onProgress)==null||Ue.call(Ne,{loaded:Dt.loaded,total:Dt.total})}),Ve.resolve({isStreamingSupported:ze.isStreamingSupported,isRangeSupported:ze.isRangeSupported,contentLength:ze.contentLength})},Ve.reject),Ve.promise}),Oe.on("GetRangeReader",(Fe,Ve)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const ze=this._networkStream.getRangeReader(Fe.begin,Fe.end);if(!ze){Ve.close();return}Ve.onPull=()=>{ze.read().then(function(Et){let{value:Dt,done:Ue}=Et;if(Ue){Ve.close();return}(0,_util.assert)(Dt instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Ve.enqueue(new Uint8Array(Dt),1,[Dt])}).catch(Et=>{Ve.error(Et)})},Ve.onCancel=Et=>{ze.cancel(Et),Ve.ready.catch(Dt=>{if(!this.destroyed)throw Dt})}}),Oe.on("GetDoc",Fe=>{let{pdfInfo:Ve}=Fe;this._numPages=Ve.numPages,this._htmlForXfa=Ve.htmlForXfa,delete Ve.htmlForXfa,Ne._capability.resolve(new PDFDocumentProxy(Ve,this))}),Oe.on("DocException",function(Fe){let Ve;switch(Fe.name){case"PasswordException":Ve=new _util.PasswordException(Fe.message,Fe.code);break;case"InvalidPDFException":Ve=new _util.InvalidPDFException(Fe.message);break;case"MissingPDFException":Ve=new _util.MissingPDFException(Fe.message);break;case"UnexpectedResponseException":Ve=new _util.UnexpectedResponseException(Fe.message,Fe.status);break;case"UnknownErrorException":Ve=new _util.UnknownErrorException(Fe.message,Fe.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}Ne._capability.reject(Ve)}),Oe.on("PasswordRequest",Fe=>{if(ar(this,le,new _util.PromiseCapability),Ne.onPassword){const Ve=ze=>{ze instanceof Error?An(this,le).reject(ze):An(this,le).resolve({password:ze})};try{Ne.onPassword(Ve,Fe.code)}catch(ze){An(this,le).reject(ze)}}else An(this,le).reject(new _util.PasswordException(Fe.message,Fe.code));return An(this,le).promise}),Oe.on("DataLoaded",Fe=>{var Ve;(Ve=Ne.onProgress)==null||Ve.call(Ne,{loaded:Fe.length,total:Fe.length}),this.downloadInfoCapability.resolve(Fe)}),Oe.on("StartRenderPage",Fe=>{if(this.destroyed)return;An(this,oe).get(Fe.pageIndex)._startRenderPage(Fe.transparency,Fe.cacheKey)}),Oe.on("commonobj",Fe=>{var Dt;let[Ve,ze,Et]=Fe;if(!this.destroyed&&!this.commonObjs.has(Ve))switch(ze){case"Font":const Ue=this._params;if("error"in Et){const Pt=Et.error;(0,_util.warn)(`Error during font loading: ${Pt}`),this.commonObjs.resolve(Ve,Pt);break}const qe=Ue.pdfBug&&((Dt=globalThis.FontInspector)!=null&&Dt.enabled)?(Pt,At)=>globalThis.FontInspector.fontAdded(Pt,At):null,Lt=new _font_loader.FontFaceObject(Et,{isEvalSupported:Ue.isEvalSupported,disableFontFace:Ue.disableFontFace,ignoreErrors:Ue.ignoreErrors,inspectFont:qe});this.fontLoader.bind(Lt).catch(Pt=>Oe.sendWithPromise("FontFallback",{id:Ve})).finally(()=>{!Ue.fontExtraProperties&&Lt.data&&(Lt.data=null),this.commonObjs.resolve(Ve,Lt)});break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ve,Et);break;default:throw new Error(`Got unknown common object type ${ze}`)}}),Oe.on("obj",Fe=>{var qe;let[Ve,ze,Et,Dt]=Fe;if(this.destroyed)return;const Ue=An(this,oe).get(ze);if(!Ue.objs.has(Ve))switch(Et){case"Image":if(Ue.objs.resolve(Ve,Dt),Dt){let Lt;if(Dt.bitmap){const{width:Pt,height:At}=Dt;Lt=Pt*At*4}else Lt=((qe=Dt.data)==null?void 0:qe.length)||0;Lt>_util.MAX_IMAGE_SIZE_TO_CACHE&&(Ue._maybeCleanupAfterRender=!0)}break;case"Pattern":Ue.objs.resolve(Ve,Dt);break;default:throw new Error(`Got unknown object type ${Et}`)}}),Oe.on("DocProgress",Fe=>{var Ve;this.destroyed||(Ve=Ne.onProgress)==null||Ve.call(Ne,{loaded:Fe.loaded,total:Fe.total})}),Oe.on("FetchBuiltInCMap",Fe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(Fe):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),Oe.on("FetchStandardFontData",Fe=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(Fe):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Fe;this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:Oe,transfers:Ne}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:Oe,filename:((Fe=this._fullReader)==null?void 0:Fe.filename)??null},Ne).finally(()=>{this.annotationStorage.resetModified()})}getPage(Oe){if(!Number.isInteger(Oe)||Oe<=0||Oe>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ne=Oe-1,Fe=An(this,ie).get(Ne);if(Fe)return Fe;const Ve=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ne}).then(ze=>{if(this.destroyed)throw new Error("Transport destroyed");const Et=new PDFPageProxy(Ne,ze,this,this._params.pdfBug);return An(this,oe).set(Ne,Et),Et});return An(this,ie).set(Ne,Ve),Ve}getPageIndex(Oe){return typeof Oe!="object"||Oe===null||!Number.isInteger(Oe.num)||Oe.num<0||!Number.isInteger(Oe.gen)||Oe.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:Oe.num,gen:Oe.gen})}getAnnotations(Oe,Ne){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:Oe,intent:Ne})}getFieldObjects(){return tr(this,ue,sa).call(this,"GetFieldObjects")}hasJSActions(){return tr(this,ue,sa).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(Oe){return typeof Oe!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:Oe})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return tr(this,ue,sa).call(this,"GetDocJSActions")}getPageJSActions(Oe){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:Oe})}getStructTree(Oe){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:Oe})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(Oe=>new _optional_content_config.OptionalContentConfig(Oe))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const Oe="GetMetadata",Ne=An(this,ae).get(Oe);if(Ne)return Ne;const Fe=this.messageHandler.sendWithPromise(Oe,null).then(Ve=>{var ze,Et;return{info:Ve[0],metadata:Ve[1]?new _metadata.Metadata(Ve[1]):null,contentDispositionFilename:((ze=this._fullReader)==null?void 0:ze.filename)??null,contentLength:((Et=this._fullReader)==null?void 0:Et.contentLength)??null}});return An(this,ae).set(Oe,Fe),Fe}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ne of An(this,oe).values())if(!Ne.cleanup())throw new Error(`startCleanup: Page ${Ne.pageNumber} is currently rendering.`);this.commonObjs.clear(),Oe||this.fontLoader.clear(),An(this,ae).clear(),this.filterFactory.destroy(!0)}}get loadingParams(){const{disableAutoFetch:Oe,enableXfa:Ne}=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:Oe,enableXfa:Ne})}}ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakSet,sa=function(Oe){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Fe=An(this,ae).get(Oe);if(Fe)return Fe;const Ve=this.messageHandler.sendWithPromise(Oe,Ne);return An(this,ae).set(Oe,Ve),Ve};class PDFObjects{constructor(){rr(this,pe);rr(this,he,Object.create(null))}get(Oe){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Ne){const Ve=tr(this,pe,Ea).call(this,Oe);return Ve.capability.promise.then(()=>Ne(Ve.data)),null}const Fe=An(this,he)[Oe];if(!(Fe!=null&&Fe.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${Oe}.`);return Fe.data}has(Oe){const Ne=An(this,he)[Oe];return(Ne==null?void 0:Ne.capability.settled)||!1}resolve(Oe){let Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Fe=tr(this,pe,Ea).call(this,Oe);Fe.data=Ne,Fe.capability.resolve()}clear(){var Oe;for(const Ne in An(this,he)){const{data:Fe}=An(this,he)[Ne];(Oe=Fe==null?void 0:Fe.bitmap)==null||Oe.close()}ar(this,he,Object.create(null))}}he=new WeakMap,pe=new WeakSet,Ea=function(Oe){var Ne;return(Ne=An(this,he))[Oe]||(Ne[Oe]={capability:new _util.PromiseCapability,data:null})};class RenderTask{constructor(Oe){rr(this,Ce,null);ar(this,Ce,Oe),this.onContinue=null}get promise(){return An(this,Ce).capability.promise}cancel(){let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;An(this,Ce).cancel(null,Oe)}get separateAnnots(){const{separateAnnots:Oe}=An(this,Ce).operatorList;if(!Oe)return!1;const{annotationCanvasMap:Ne}=An(this,Ce);return Oe.form||Oe.canvas&&(Ne==null?void 0:Ne.size)>0}}Ce=new WeakMap,exports.RenderTask=RenderTask;const Ie=class Ie{constructor(Oe){let{callback:Ne,params:Fe,objs:Ve,commonObjs:ze,annotationCanvasMap:Et,operatorList:Dt,pageIndex:Ue,canvasFactory:qe,filterFactory:Lt,useRequestAnimationFrame:Pt=!1,pdfBug:At=!1,pageColors:vn=null}=Oe;this.callback=Ne,this.params=Fe,this.objs=Ve,this.commonObjs=ze,this.annotationCanvasMap=Et,this.operatorListIdx=null,this.operatorList=Dt,this._pageIndex=Ue,this.canvasFactory=qe,this.filterFactory=Lt,this._pdfBug=At,this.pageColors=vn,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Pt===!0&&typeof window<"u",this.cancelled=!1,this.capability=new _util.PromiseCapability,this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Fe.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics(Oe){var Ue,qe;let{transparency:Ne=!1,optionalContentConfig:Fe}=Oe;if(this.cancelled)return;if(this._canvas){if(An(Ie,xe).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");An(Ie,xe).add(this._canvas)}this._pdfBug&&((Ue=globalThis.StepperManager)!=null&&Ue.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Ve,viewport:ze,transform:Et,background:Dt}=this.params;this.gfx=new _canvas.CanvasGraphics(Ve,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Fe},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:Et,viewport:ze,transparency:Ne,background:Dt}),this.operatorListIdx=0,this.graphicsReady=!0,(qe=this.graphicsReadyCallback)==null||qe.call(this)}cancel(){var Fe;let Oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.running=!1,this.cancelled=!0,(Fe=this.gfx)==null||Fe.endDrawing(),An(Ie,xe).delete(this._canvas),this.callback(Oe||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ne))}operatorListChanged(){var Oe;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(Oe=this.stepper)==null||Oe.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),An(Ie,xe).delete(this._canvas),this.callback())))}};xe=new WeakMap,rr(Ie,xe,new WeakSet);let InternalRenderTask=Ie;const version="3.11.174";exports.version=version;const build="ce8716743";exports.build=build},(t,n,r)=>{var g=r(3),y=r(126),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("difference")},{difference:y})},(t,n,r)=>{var g=r(127),y=r(128),$=r(129),L=r(132),V=r(133),z=r(130),j=r(131),re=y.has,ae=y.remove;t.exports=function(ie){var le=g(this),ue=V(ie),de=$(le);return L(le)<=ue.size?z(le,function(he){ue.includes(he)&&ae(de,he)}):j(ue.getIterator(),function(he){re(le,he)&&ae(de,he)}),de}},(t,n,r)=>{var g=r(128).has;t.exports=function(y){return g(y),y}},(t,n,r)=>{var g=r(14),y=Set.prototype;t.exports={Set,add:g(y.add),has:g(y.has),remove:g(y.delete),proto:y}},(t,n,r)=>{var g=r(128),y=r(130),$=g.Set,L=g.add;t.exports=function(V){var z=new $;return y(V,function(j){L(z,j)}),z}},(t,n,r)=>{var g=r(14),y=r(131),$=r(128),L=$.Set,V=$.proto,z=g(V.forEach),j=g(V.keys),re=j(new L).next;t.exports=function(ae,oe,ie){return ie?y({iterator:j(ae),next:re},oe):z(ae,oe)}},(t,n,r)=>{var g=r(8);t.exports=function(y,$,L){for(var V=L?y:y.iterator,z=y.next,j,re;!(j=g(z,V)).done;)if(re=$(j.value),re!==void 0)return re}},(t,n,r)=>{var g=r(72),y=r(128);t.exports=g(y.proto,"size","get")||function($){return $.size}},(t,n,r)=>{var g=r(31),y=r(47),$=r(8),L=r(62),V=r(134),z="Invalid size",j=RangeError,re=TypeError,ae=Math.max,oe=function(ie,le,ue,de){this.set=ie,this.size=le,this.has=ue,this.keys=de};oe.prototype={getIterator:function(){return V(y($(this.keys,this.set)))},includes:function(ie){return $(this.has,this.set,ie)}},t.exports=function(ie){y(ie);var le=+ie.size;if(le!==le)throw re(z);var ue=L(le);if(ue<0)throw j(z);return new oe(ie,ae(ue,0),g(ie.has),g(ie.keys))}},t=>{t.exports=function(n){return{iterator:n,next:n.next,done:!1}}},(t,n,r)=>{var g=r(24),y=function($){return{size:$,has:function(){return!1},keys:function(){return{next:function(){return{done:!0}}}}}};t.exports=function($){var L=g("Set");try{new L()[$](y(0));try{return new L()[$](y(-1)),!1}catch{return!0}}catch{return!1}}},(t,n,r)=>{var g=r(3),y=r(7),$=r(137),L=r(135),V=!L("intersection")||y(function(){return Array.from(new Set([1,2,3]).intersection(new Set([3,2])))!=="3,2"});g({target:"Set",proto:!0,real:!0,forced:V},{intersection:$})},(t,n,r)=>{var g=r(127),y=r(128),$=r(132),L=r(133),V=r(130),z=r(131),j=y.Set,re=y.add,ae=y.has;t.exports=function(ie){var le=g(this),ue=L(ie),de=new j;return $(le)>ue.size?z(ue.getIterator(),function(he){ae(le,he)&&re(de,he)}):V(le,function(he){ue.includes(he)&&re(de,he)}),de}},(t,n,r)=>{var g=r(3),y=r(139),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("isDisjointFrom")},{isDisjointFrom:y})},(t,n,r)=>{var g=r(127),y=r(128).has,$=r(132),L=r(133),V=r(130),z=r(131),j=r(140);t.exports=function(ae){var oe=g(this),ie=L(ae);if($(oe)<=ie.size)return V(oe,function(ue){if(ie.includes(ue))return!1},!0)!==!1;var le=ie.getIterator();return z(le,function(ue){if(y(oe,ue))return j(le,"normal",!1)})!==!1}},(t,n,r)=>{var g=r(8),y=r(47),$=r(30);t.exports=function(L,V,z){var j,re;y(L);try{if(j=$(L,"return"),!j){if(V==="throw")throw z;return z}j=g(j,L)}catch(ae){re=!0,j=ae}if(V==="throw")throw z;if(re)throw j;return y(j),z}},(t,n,r)=>{var g=r(3),y=r(142),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("isSubsetOf")},{isSubsetOf:y})},(t,n,r)=>{var g=r(127),y=r(132),$=r(130),L=r(133);t.exports=function(z){var j=g(this),re=L(z);return y(j)>re.size?!1:$(j,function(ae){if(!re.includes(ae))return!1},!0)!==!1}},(t,n,r)=>{var g=r(3),y=r(144),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("isSupersetOf")},{isSupersetOf:y})},(t,n,r)=>{var g=r(127),y=r(128).has,$=r(132),L=r(133),V=r(131),z=r(140);t.exports=function(re){var ae=g(this),oe=L(re);if($(ae)<oe.size)return!1;var ie=oe.getIterator();return V(ie,function(le){if(!y(ae,le))return z(ie,"normal",!1)})!==!1}},(t,n,r)=>{var g=r(3),y=r(146),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("symmetricDifference")},{symmetricDifference:y})},(t,n,r)=>{var g=r(127),y=r(128),$=r(129),L=r(133),V=r(131),z=y.add,j=y.has,re=y.remove;t.exports=function(oe){var ie=g(this),le=L(oe).getIterator(),ue=$(ie);return V(le,function(de){j(ie,de)?re(ue,de):z(ue,de)}),ue}},(t,n,r)=>{var g=r(3),y=r(148),$=r(135);g({target:"Set",proto:!0,real:!0,forced:!$("union")},{union:y})},(t,n,r)=>{var g=r(127),y=r(128).add,$=r(129),L=r(133),V=r(131);t.exports=function(j){var re=g(this),ae=L(j).getIterator(),oe=$(re);return V(ae,function(ie){y(oe,ie)}),oe}},(t,n,r)=>{var g=r(3),y=r(4),$=r(24),L=r(11),V=r(45).f,z=r(39),j=r(150),re=r(75),ae=r(76),oe=r(151),ie=r(82),le=r(6),ue=r(36),de="DOMException",he=$("Error"),pe=$(de),_e=function(){j(this,Ce);var qe=arguments.length,Lt=ae(qe<1?void 0:arguments[0]),Pt=ae(qe<2?void 0:arguments[1],"Error"),At=new pe(Lt,Pt),vn=he(Lt);return vn.name=de,V(At,"stack",L(1,ie(vn.stack,1))),re(At,this,_e),At},Ce=_e.prototype=pe.prototype,xe="stack"in he(de),Ie="stack"in new pe(1,2),$e=pe&&le&&Object.getOwnPropertyDescriptor(y,de),Oe=!!$e&&!($e.writable&&$e.configurable),Ne=xe&&!Oe&&!Ie;g({global:!0,constructor:!0,forced:ue||Ne},{DOMException:Ne?_e:pe});var Fe=$(de),Ve=Fe.prototype;if(Ve.constructor!==Fe){ue||V(Ve,"constructor",L(1,Fe));for(var ze in oe)if(z(oe,ze)){var Et=oe[ze],Dt=Et.s;z(Fe,Dt)||V(Fe,Dt,L(6,Et.c))}}},(t,n,r)=>{var g=r(25),y=TypeError;t.exports=function($,L){if(g(L,$))return $;throw y("Incorrect invocation")}},t=>{t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},(t,n,r)=>{var g=r(36),y=r(3),$=r(4),L=r(24),V=r(14),z=r(7),j=r(41),re=r(21),ae=r(153),oe=r(17),ie=r(20),le=r(23),ue=r(154),de=r(47),he=r(78),pe=r(39),_e=r(159),Ce=r(44),xe=r(64),Ie=r(85),$e=r(160),Oe=r(162),Ne=r(128),Fe=r(83),Ve=r(119),ze=$.Object,Et=$.Array,Dt=$.Date,Ue=$.Error,qe=$.EvalError,Lt=$.RangeError,Pt=$.ReferenceError,At=$.SyntaxError,vn=$.TypeError,En=$.URIError,Sn=$.PerformanceMark,kt=$.WebAssembly,jt=kt&&kt.CompileError||Ue,_n=kt&&kt.LinkError||Ue,wn=kt&&kt.RuntimeError||Ue,hn=L("DOMException"),Cn=Oe.Map,Tn=Oe.has,xn=Oe.get,Mn=Oe.set,bn=Ne.Set,Pn=Ne.add,Rn=L("Object","keys"),Fn=V([].push),Dn=V((!0).valueOf),Ln=V(1 .valueOf),kn=V("".valueOf),In=V(Dt.prototype.getTime),Vn=j("structuredClone"),zn="DataCloneError",Kn="Transferring",jn=function($n){return!z(function(){var Xn=new $.Set([7]),lr=$n(Xn),fr=$n(ze(7));return lr===Xn||!lr.has(7)||typeof fr!="object"||+fr!=7})&&$n},Wn=function($n,Xn){return!z(function(){var lr=new Xn,fr=$n({a:lr,b:lr});return!(fr&&fr.a===fr.b&&fr.a instanceof Xn&&fr.a.stack===lr.stack)})},Un=function($n){return!z(function(){var Xn=$n(new $.AggregateError([1],Vn,{cause:3}));return Xn.name!=="AggregateError"||Xn.errors[0]!==1||Xn.message!==Vn||Xn.cause!==3})},nr=$.structuredClone,sr=g||!Wn(nr,Ue)||!Wn(nr,hn)||!Un(nr),mr=!nr&&jn(function($n){return new Sn(Vn,{detail:$n}).detail}),vr=jn(nr)||mr,Sr=function($n){throw new hn("Uncloneable type: "+$n,zn)},yr=function($n,Xn){throw new hn((Xn||"Cloning")+" of "+$n+" cannot be properly polyfilled in this engine",zn)},ir=function($n,Xn){return vr||yr(Xn),vr($n)},gr=function(){var $n;try{$n=new $.DataTransfer}catch{try{$n=new $.ClipboardEvent("").clipboardData}catch{}}return $n&&$n.items&&$n.files?$n:null},Gn=function($n,Xn,lr){if(Tn(Xn,$n))return xn(Xn,$n);var fr=lr||he($n),br,er,Bn,On,Zn,qn;if(fr==="SharedArrayBuffer")vr?br=vr($n):br=$n;else{var or=$.DataView;!or&&typeof $n.slice!="function"&&yr("ArrayBuffer");try{if(typeof $n.slice=="function"&&!$n.resizable)br=$n.slice(0);else for(er=$n.byteLength,Bn=("maxByteLength"in $n)?{maxByteLength:$n.maxByteLength}:void 0,br=new ArrayBuffer(er,Bn),On=new or($n),Zn=new or(br),qn=0;qn<er;qn++)Zn.setUint8(qn,On.getUint8(qn))}catch{throw new hn("ArrayBuffer is detached",zn)}}return Mn(Xn,$n,br),br},Qn=function($n,Xn,lr,fr,br){var er=$[Xn];return ie(er)||yr(Xn),new er(Gn($n.buffer,br),lr,fr)},Nn=function($n,Xn,lr){this.object=$n,this.type=Xn,this.metadata=lr},Hn=function($n,Xn,lr){if(le($n)&&Sr("Symbol"),!ie($n))return $n;if(Xn){if(Tn(Xn,$n))return xn(Xn,$n)}else Xn=new Cn;var fr=he($n),br,er,Bn,On,Zn,qn,or,dr;switch(fr){case"Array":Bn=Et(xe($n));break;case"Object":Bn={};break;case"Map":Bn=new Cn;break;case"Set":Bn=new bn;break;case"RegExp":Bn=new RegExp($n.source,$e($n));break;case"Error":switch(er=$n.name,er){case"AggregateError":Bn=L("AggregateError")([]);break;case"EvalError":Bn=qe();break;case"RangeError":Bn=Lt();break;case"ReferenceError":Bn=Pt();break;case"SyntaxError":Bn=At();break;case"TypeError":Bn=vn();break;case"URIError":Bn=En();break;case"CompileError":Bn=jt();break;case"LinkError":Bn=_n();break;case"RuntimeError":Bn=wn();break;default:Bn=Ue()}break;case"DOMException":Bn=new hn($n.message,$n.name);break;case"ArrayBuffer":case"SharedArrayBuffer":Bn=lr?new Nn($n,fr):Gn($n,Xn,fr);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":qn=fr==="DataView"?$n.byteLength:$n.length,Bn=lr?new Nn($n,fr,{offset:$n.byteOffset,length:qn}):Qn($n,fr,$n.byteOffset,qn,Xn);break;case"DOMQuad":try{Bn=new DOMQuad(Hn($n.p1,Xn,lr),Hn($n.p2,Xn,lr),Hn($n.p3,Xn,lr),Hn($n.p4,Xn,lr))}catch{Bn=ir($n,fr)}break;case"File":if(vr)try{Bn=vr($n),he(Bn)!==fr&&(Bn=void 0)}catch{}if(!Bn)try{Bn=new File([$n],$n.name,$n)}catch{}Bn||yr(fr);break;case"FileList":if(On=gr(),On){for(Zn=0,qn=xe($n);Zn<qn;Zn++)On.items.add(Hn($n[Zn],Xn,lr));Bn=On.files}else Bn=ir($n,fr);break;case"ImageData":try{Bn=new ImageData(Hn($n.data,Xn,lr),$n.width,$n.height,{colorSpace:$n.colorSpace})}catch{Bn=ir($n,fr)}break;default:if(vr)Bn=vr($n);else switch(fr){case"BigInt":Bn=ze($n.valueOf());break;case"Boolean":Bn=ze(Dn($n));break;case"Number":Bn=ze(Ln($n));break;case"String":Bn=ze(kn($n));break;case"Date":Bn=new Dt(In($n));break;case"Blob":try{Bn=$n.slice(0,$n.size,$n.type)}catch{yr(fr)}break;case"DOMPoint":case"DOMPointReadOnly":br=$[fr];try{Bn=br.fromPoint?br.fromPoint($n):new br($n.x,$n.y,$n.z,$n.w)}catch{yr(fr)}break;case"DOMRect":case"DOMRectReadOnly":br=$[fr];try{Bn=br.fromRect?br.fromRect($n):new br($n.x,$n.y,$n.width,$n.height)}catch{yr(fr)}break;case"DOMMatrix":case"DOMMatrixReadOnly":br=$[fr];try{Bn=br.fromMatrix?br.fromMatrix($n):new br($n)}catch{yr(fr)}break;case"AudioData":case"VideoFrame":re($n.clone)||yr(fr);try{Bn=$n.clone()}catch{Sr(fr)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":yr(fr);default:Sr(fr)}}switch(Mn(Xn,$n,Bn),fr){case"Array":case"Object":for(or=Rn($n),Zn=0,qn=xe(or);Zn<qn;Zn++)dr=or[Zn],_e(Bn,dr,Hn($n[dr],Xn,lr));break;case"Map":$n.forEach(function(hr,wr){Mn(Bn,Hn(wr,Xn,lr),Hn(hr,Xn,lr))});break;case"Set":$n.forEach(function(hr){Pn(Bn,Hn(hr,Xn,lr))});break;case"Error":Ce(Bn,"message",Hn($n.message,Xn,lr)),pe($n,"cause")&&Ce(Bn,"cause",Hn($n.cause,Xn,lr)),er==="AggregateError"&&(Bn.errors=Hn($n.errors,Xn,lr));case"DOMException":Fe&&Ce(Bn,"stack",Hn($n.stack,Xn,lr))}return Bn},Yn=function($n,Xn){if(!ie($n))return $n;if(Tn(Xn,$n))return xn(Xn,$n);var lr,fr,br,er,Bn,On,Zn,qn;if($n instanceof Nn)switch(lr=$n.type,fr=$n.object,lr){case"ArrayBuffer":case"SharedArrayBuffer":qn=Gn(fr,Xn,lr);break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float16Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":br=$n.metadata,qn=Qn(fr,lr,br.offset,br.length,Xn)}else switch(he($n)){case"Array":case"Object":for(On=Rn($n),er=0,Bn=xe(On);er<Bn;er++)Zn=On[er],$n[Zn]=Yn($n[Zn],Xn);break;case"Map":qn=new Cn,$n.forEach(function(or,dr){Mn(qn,Yn(dr,Xn),Yn(or,Xn))});break;case"Set":qn=new bn,$n.forEach(function(or){Pn(qn,Yn(or,Xn))});break;case"Error":$n.message=Yn($n.message,Xn),pe($n,"cause")&&($n.cause=Yn($n.cause,Xn)),$n.name==="AggregateError"&&($n.errors=Yn($n.errors,Xn));case"DOMException":Fe&&($n.stack=Yn($n.stack,Xn))}return Mn(Xn,$n,qn||$n),qn||$n},pr=function($n,Xn){if(!ie($n))throw vn("Transfer option cannot be converted to a sequence");var lr=[];ue($n,function(hr){Fn(lr,de(hr))});for(var fr=0,br=xe(lr),er=[],Bn,On,Zn,qn,or,dr;fr<br;){if(Bn=lr[fr++],On=he(Bn),On==="ArrayBuffer"){Fn(er,Bn);continue}if(Tn(Xn,Bn))throw new hn("Duplicate transferable",zn);if(Ve)qn=nr(Bn,{transfer:[Bn]});else switch(On){case"ImageBitmap":Zn=$.OffscreenCanvas,ae(Zn)||yr(On,Kn);try{or=new Zn(Bn.width,Bn.height),dr=or.getContext("bitmaprenderer"),dr.transferFromImageBitmap(Bn),qn=or.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!re(Bn.clone)||!re(Bn.close))&&yr(On,Kn);try{qn=Bn.clone(),Bn.close()}catch{}break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":yr(On,Kn)}if(qn===void 0)throw new hn("This object cannot be transferred: "+On,zn);Mn(Xn,Bn,qn)}return er},Cr=function($n,Xn){for(var lr=0,fr=xe($n),br,er;lr<fr;){if(br=$n[lr++],Tn(Xn,br))throw new hn("Duplicate transferable",zn);Ve?er=nr(br,{transfer:[br]}):(re(br.transfer)||yr("ArrayBuffer",Kn),er=br.transfer()),Mn(Xn,br,er)}};y({global:!0,enumerable:!0,sham:!Ve,forced:sr},{structuredClone:function(Xn){var lr=Ie(arguments.length,1)>1&&!oe(arguments[1])?de(arguments[1]):void 0,fr=lr?lr.transfer:void 0,br=!1,er,Bn;fr!==void 0&&(er=new Cn,Bn=pr(fr,er),br=!!xe(Bn));var On=Hn(Xn,er,br);return br&&(er=new Cn,Cr(fr,er),On=Yn(On,er)),On}})},(t,n,r)=>{var g=r(14),y=r(7),$=r(21),L=r(78),V=r(24),z=r(51),j=function(){},re=[],ae=V("Reflect","construct"),oe=/^\s*(?:class|function)\b/,ie=g(oe.exec),le=!oe.exec(j),ue=function(pe){if(!$(pe))return!1;try{return ae(j,re,pe),!0}catch{return!1}},de=function(pe){if(!$(pe))return!1;switch(L(pe)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return le||!!ie(oe,z(pe))}catch{return!0}};de.sham=!0,t.exports=!ae||y(function(){var he;return ue(ue.call)||!ue(Object)||!ue(function(){he=!0})||he})?de:ue},(t,n,r)=>{var g=r(99),y=r(8),$=r(47),L=r(32),V=r(155),z=r(64),j=r(25),re=r(157),ae=r(158),oe=r(140),ie=TypeError,le=function(de,he){this.stopped=de,this.result=he},ue=le.prototype;t.exports=function(de,he,pe){var _e=pe&&pe.that,Ce=!!(pe&&pe.AS_ENTRIES),xe=!!(pe&&pe.IS_RECORD),Ie=!!(pe&&pe.IS_ITERATOR),$e=!!(pe&&pe.INTERRUPTED),Oe=g(he,_e),Ne,Fe,Ve,ze,Et,Dt,Ue,qe=function(Pt){return Ne&&oe(Ne,"normal",Pt),new le(!0,Pt)},Lt=function(Pt){return Ce?($(Pt),$e?Oe(Pt[0],Pt[1],qe):Oe(Pt[0],Pt[1])):$e?Oe(Pt,qe):Oe(Pt)};if(xe)Ne=de.iterator;else if(Ie)Ne=de;else{if(Fe=ae(de),!Fe)throw ie(L(de)+" is not iterable");if(V(Fe)){for(Ve=0,ze=z(de);ze>Ve;Ve++)if(Et=Lt(de[Ve]),Et&&j(ue,Et))return Et;return new le(!1)}Ne=re(de,Fe)}for(Dt=xe?de.next:Ne.next;!(Ue=y(Dt,Ne)).done;){try{Et=Lt(Ue.value)}catch(Pt){oe(Ne,"throw",Pt)}if(typeof Et=="object"&&Et&&j(ue,Et))return Et}return new le(!1)}},(t,n,r)=>{var g=r(34),y=r(156),$=g("iterator"),L=Array.prototype;t.exports=function(V){return V!==void 0&&(y.Array===V||L[$]===V)}},t=>{t.exports={}},(t,n,r)=>{var g=r(8),y=r(31),$=r(47),L=r(32),V=r(158),z=TypeError;t.exports=function(j,re){var ae=arguments.length<2?V(j):re;if(y(ae))return $(g(ae,j));throw z(L(j)+" is not iterable")}},(t,n,r)=>{var g=r(78),y=r(30),$=r(17),L=r(156),V=r(34),z=V("iterator");t.exports=function(j){if(!$(j))return y(j,z)||y(j,"@@iterator")||L[g(j)]}},(t,n,r)=>{var g=r(18),y=r(45),$=r(11);t.exports=function(L,V,z){var j=g(V);j in L?y.f(L,j,$(0,z)):L[j]=z}},(t,n,r)=>{var g=r(8),y=r(39),$=r(25),L=r(161),V=RegExp.prototype;t.exports=function(z){var j=z.flags;return j===void 0&&!("flags"in V)&&!y(z,"flags")&&$(V,z)?g(L,z):j}},(t,n,r)=>{var g=r(47);t.exports=function(){var y=g(this),$="";return y.hasIndices&&($+="d"),y.global&&($+="g"),y.ignoreCase&&($+="i"),y.multiline&&($+="m"),y.dotAll&&($+="s"),y.unicode&&($+="u"),y.unicodeSets&&($+="v"),y.sticky&&($+="y"),$}},(t,n,r)=>{var g=r(14),y=Map.prototype;t.exports={Map,set:g(y.set),get:g(y.get),has:g(y.has),remove:g(y.delete),proto:y}},(t,n,r)=>{var j,re,ae,ao,ie;Object.defineProperty(n,"__esModule",{value:!0}),n.SerializableEmpty=n.PrintAnnotationStorage=n.AnnotationStorage=void 0,r(89),r(149),r(152);var g=r(1),y=r(164),$=r(170);const L=Object.freeze({map:null,hash:"",transfers:void 0});n.SerializableEmpty=L;class V{constructor(){rr(this,ae);rr(this,j,!1);rr(this,re,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ue,de){const he=An(this,re).get(ue);return he===void 0?de:Object.assign(de,he)}getRawValue(ue){return An(this,re).get(ue)}remove(ue){if(An(this,re).delete(ue),An(this,re).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const de of An(this,re).values())if(de instanceof y.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ue,de){const he=An(this,re).get(ue);let pe=!1;if(he!==void 0)for(const[_e,Ce]of Object.entries(de))he[_e]!==Ce&&(pe=!0,he[_e]=Ce);else pe=!0,An(this,re).set(ue,de);pe&&tr(this,ae,ao).call(this),de instanceof y.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(de.constructor._type)}has(ue){return An(this,re).has(ue)}getAll(){return An(this,re).size>0?(0,g.objectFromMap)(An(this,re)):null}setAll(ue){for(const[de,he]of Object.entries(ue))this.setValue(de,he)}get size(){return An(this,re).size}resetModified(){An(this,j)&&(ar(this,j,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new z(this)}get serializable(){if(An(this,re).size===0)return L;const ue=new Map,de=new $.MurmurHash3_64,he=[],pe=Object.create(null);let _e=!1;for(const[Ce,xe]of An(this,re)){const Ie=xe instanceof y.AnnotationEditor?xe.serialize(!1,pe):xe;Ie&&(ue.set(Ce,Ie),de.update(`${Ce}:${JSON.stringify(Ie)}`),_e||(_e=!!Ie.bitmap))}if(_e)for(const Ce of ue.values())Ce.bitmap&&he.push(Ce.bitmap);return ue.size>0?{map:ue,hash:de.hexdigest(),transfers:he}:L}}j=new WeakMap,re=new WeakMap,ae=new WeakSet,ao=function(){An(this,j)||(ar(this,j,!0),typeof this.onSetModified=="function"&&this.onSetModified())},n.AnnotationStorage=V;class z extends V{constructor(de){super();rr(this,ie);const{map:he,hash:pe,transfers:_e}=de.serializable,Ce=structuredClone(he,null);ar(this,ie,{map:Ce,hash:pe,transfers:_e})}get print(){(0,g.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return An(this,ie)}}ie=new WeakMap,n.PrintAnnotationStorage=z},(t,n,r)=>{var z,j,re,ae,oe,ie,le,ue,de,he,pe,_e,Ce,xe,Ie,Ta,wa,Ne,Aa,xa,oo,io,so,Pa,lo;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditor=void 0,r(89),r(2);var g=r(165),y=r(1),$=r(168);const Lt=class Lt{constructor(At){rr(this,Ie);rr(this,z,"");rr(this,j,!1);rr(this,re,null);rr(this,ae,null);rr(this,oe,null);rr(this,ie,!1);rr(this,le,null);rr(this,ue,this.focusin.bind(this));rr(this,de,this.focusout.bind(this));rr(this,he,!1);rr(this,pe,!1);rr(this,_e,!1);Dr(this,"_initialOptions",Object.create(null));Dr(this,"_uiManager",null);Dr(this,"_focusEventsAllowed",!0);Dr(this,"_l10nPromise",null);rr(this,Ce,!1);rr(this,xe,Lt._zIndex++);this.constructor===Lt&&(0,y.unreachable)("Cannot initialize AnnotationEditor."),this.parent=At.parent,this.id=At.id,this.width=this.height=null,this.pageIndex=At.parent.pageIndex,this.name=At.name,this.div=null,this._uiManager=At.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=At.isCentered,this._structTreeParentId=null;const{rotation:vn,rawDims:{pageWidth:En,pageHeight:Sn,pageX:kt,pageY:jt}}=this.parent.viewport;this.rotation=vn,this.pageRotation=(360+vn-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[En,Sn],this.pageTranslation=[kt,jt];const[_n,wn]=this.parentDimensions;this.x=At.x/_n,this.y=At.y/wn,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return(0,y.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(At){const vn=new V({id:At.parent.getNextId(),parent:At.parent,uiManager:At._uiManager});vn.annotationElementId=At.annotationElementId,vn.deleted=!0,vn._uiManager.addToAnnotationStorage(vn)}static initialize(At){let vn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(Lt._l10nPromise||(Lt._l10nPromise=new Map(["editor_alt_text_button_label","editor_alt_text_edit_button_label","editor_alt_text_decorative_tooltip"].map(Sn=>[Sn,At.get(Sn)]))),vn!=null&&vn.strings)for(const Sn of vn.strings)Lt._l10nPromise.set(Sn,At.get(Sn));if(Lt._borderLineWidth!==-1)return;const En=getComputedStyle(document.documentElement);Lt._borderLineWidth=parseFloat(En.getPropertyValue("--outline-width"))||0}static updateDefaultParams(At,vn){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(At){return!1}static paste(At,vn){(0,y.unreachable)("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return An(this,Ce)}set _isDraggable(At){var vn;ar(this,Ce,At),(vn=this.div)==null||vn.classList.toggle("draggable",At)}center(){const[At,vn]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*vn/(At*2),this.y+=this.width*At/(vn*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*vn/(At*2),this.y-=this.width*At/(vn*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(At){this._uiManager.addCommands(At)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=An(this,xe)}setParent(At){At!==null&&(this.pageIndex=At.pageIndex,this.pageDimensions=At.pageDimensions),this.parent=At}focusin(At){this._focusEventsAllowed&&(An(this,he)?ar(this,he,!1):this.parent.setSelected(this))}focusout(At){var En;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const vn=At.relatedTarget;vn!=null&&vn.closest(`#${this.id}`)||(At.preventDefault(),(En=this.parent)!=null&&En.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(At,vn,En,Sn){const[kt,jt]=this.parentDimensions;[En,Sn]=this.screenToPageTranslation(En,Sn),this.x=(At+En)/kt,this.y=(vn+Sn)/jt,this.fixAndSetPosition()}translate(At,vn){tr(this,Ie,Ta).call(this,this.parentDimensions,At,vn)}translateInPage(At,vn){tr(this,Ie,Ta).call(this,this.pageDimensions,At,vn),this.div.scrollIntoView({block:"nearest"})}drag(At,vn){const[En,Sn]=this.parentDimensions;if(this.x+=At/En,this.y+=vn/Sn,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:hn,y:Cn}=this.div.getBoundingClientRect();this.parent.findNewParent(this,hn,Cn)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:kt,y:jt}=this;const[_n,wn]=tr(this,Ie,wa).call(this);kt+=_n,jt+=wn,this.div.style.left=`${(100*kt).toFixed(2)}%`,this.div.style.top=`${(100*jt).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}fixAndSetPosition(){const[At,vn]=this.pageDimensions;let{x:En,y:Sn,width:kt,height:jt}=this;switch(kt*=At,jt*=vn,En*=At,Sn*=vn,this.rotation){case 0:En=Math.max(0,Math.min(At-kt,En)),Sn=Math.max(0,Math.min(vn-jt,Sn));break;case 90:En=Math.max(0,Math.min(At-jt,En)),Sn=Math.min(vn,Math.max(kt,Sn));break;case 180:En=Math.min(At,Math.max(kt,En)),Sn=Math.min(vn,Math.max(jt,Sn));break;case 270:En=Math.min(At,Math.max(jt,En)),Sn=Math.max(0,Math.min(vn-kt,Sn));break}this.x=En/=At,this.y=Sn/=vn;const[_n,wn]=tr(this,Ie,wa).call(this);En+=_n,Sn+=wn;const{style:hn}=this.div;hn.left=`${(100*En).toFixed(2)}%`,hn.top=`${(100*Sn).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(At,vn){var En;return tr(En=Lt,Ne,Aa).call(En,At,vn,this.parentRotation)}pageTranslationToScreen(At,vn){var En;return tr(En=Lt,Ne,Aa).call(En,At,vn,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:At,pageDimensions:[vn,En]}=this,Sn=vn*At,kt=En*At;return y.FeatureTest.isCSSRoundSupported?[Math.round(Sn),Math.round(kt)]:[Sn,kt]}setDims(At,vn){var kt;const[En,Sn]=this.parentDimensions;this.div.style.width=`${(100*At/En).toFixed(2)}%`,An(this,ie)||(this.div.style.height=`${(100*vn/Sn).toFixed(2)}%`),(kt=An(this,re))==null||kt.classList.toggle("small",At<Lt.SMALL_EDITOR_SIZE||vn<Lt.SMALL_EDITOR_SIZE)}fixDims(){const{style:At}=this.div,{height:vn,width:En}=At,Sn=En.endsWith("%"),kt=!An(this,ie)&&vn.endsWith("%");if(Sn&&kt)return;const[jt,_n]=this.parentDimensions;Sn||(At.width=`${(100*parseFloat(En)/jt).toFixed(2)}%`),!An(this,ie)&&!kt&&(At.height=`${(100*parseFloat(vn)/_n).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}async addAltTextButton(){if(An(this,re))return;const At=ar(this,re,document.createElement("button"));At.className="altText";const vn=await Lt._l10nPromise.get("editor_alt_text_button_label");At.textContent=vn,At.setAttribute("aria-label",vn),At.tabIndex="0",At.addEventListener("contextmenu",$.noContextMenu),At.addEventListener("pointerdown",En=>En.stopPropagation()),At.addEventListener("click",En=>{En.preventDefault(),this._uiManager.editAltText(this)},{capture:!0}),At.addEventListener("keydown",En=>{En.target===At&&En.key==="Enter"&&(En.preventDefault(),this._uiManager.editAltText(this))}),tr(this,Ie,Pa).call(this),this.div.append(At),Lt.SMALL_EDITOR_SIZE||(Lt.SMALL_EDITOR_SIZE=Math.min(128,Math.round(At.getBoundingClientRect().width*1.4)))}getClientDimensions(){return this.div.getBoundingClientRect()}get altTextData(){return{altText:An(this,z),decorative:An(this,j)}}set altTextData(At){let{altText:vn,decorative:En}=At;An(this,z)===vn&&An(this,j)===En||(ar(this,z,vn),ar(this,j,En),tr(this,Ie,Pa).call(this))}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",An(this,ue)),this.div.addEventListener("focusout",An(this,de));const[At,vn]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*vn/At).toFixed(2)}%`,this.div.style.maxHeight=`${(100*At/vn).toFixed(2)}%`);const[En,Sn]=this.getInitialTranslation();return this.translate(En,Sn),(0,g.bindEvents)(this,this.div,["pointerdown"]),this.div}pointerdown(At){const{isMac:vn}=y.FeatureTest.platform;if(At.button!==0||At.ctrlKey&&vn){At.preventDefault();return}ar(this,he,!0),tr(this,Ie,lo).call(this,At)}moveInDOM(){var At;(At=this.parent)==null||At.moveEditorInDOM(this)}_setParentAndPosition(At,vn,En){At.changeParent(this),this.x=vn,this.y=En,this.fixAndSetPosition()}getRect(At,vn){const En=this.parentScale,[Sn,kt]=this.pageDimensions,[jt,_n]=this.pageTranslation,wn=At/En,hn=vn/En,Cn=this.x*Sn,Tn=this.y*kt,xn=this.width*Sn,Mn=this.height*kt;switch(this.rotation){case 0:return[Cn+wn+jt,kt-Tn-hn-Mn+_n,Cn+wn+xn+jt,kt-Tn-hn+_n];case 90:return[Cn+hn+jt,kt-Tn+wn+_n,Cn+hn+Mn+jt,kt-Tn+wn+xn+_n];case 180:return[Cn-wn-xn+jt,kt-Tn+hn+_n,Cn-wn+jt,kt-Tn+hn+Mn+_n];case 270:return[Cn-hn-Mn+jt,kt-Tn-wn-xn+_n,Cn-hn+jt,kt-Tn-wn+_n];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(At,vn){const[En,Sn,kt,jt]=At,_n=kt-En,wn=jt-Sn;switch(this.rotation){case 0:return[En,vn-jt,_n,wn];case 90:return[En,vn-Sn,wn,_n];case 180:return[kt,vn-Sn,_n,wn];case 270:return[kt,vn-jt,wn,_n];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){ar(this,_e,!0)}disableEditMode(){ar(this,_e,!1)}isInEditMode(){return An(this,_e)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var At,vn;(At=this.div)==null||At.addEventListener("focusin",An(this,ue)),(vn=this.div)==null||vn.addEventListener("focusout",An(this,de))}serialize(){(0,y.unreachable)("An editor must be serializable")}static deserialize(At,vn,En){const Sn=new this.prototype.constructor({parent:vn,id:vn.getNextId(),uiManager:En});Sn.rotation=At.rotation;const[kt,jt]=Sn.pageDimensions,[_n,wn,hn,Cn]=Sn.getRectInCurrentCoords(At.rect,jt);return Sn.x=_n/kt,Sn.y=wn/jt,Sn.width=hn/kt,Sn.height=Cn/jt,Sn}remove(){var At;this.div.removeEventListener("focusin",An(this,ue)),this.div.removeEventListener("focusout",An(this,de)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),(At=An(this,re))==null||At.remove(),ar(this,re,null),ar(this,ae,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(tr(this,Ie,oo).call(this),An(this,le).classList.remove("hidden"))}select(){var At;this.makeResizable(),(At=this.div)==null||At.classList.add("selectedEditor")}unselect(){var At,vn,En;(At=An(this,le))==null||At.classList.add("hidden"),(vn=this.div)==null||vn.classList.remove("selectedEditor"),(En=this.div)!=null&&En.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus()}updateParams(At,vn){}disableEditing(){An(this,re)&&(An(this,re).hidden=!0)}enableEditing(){An(this,re)&&(An(this,re).hidden=!1)}enterInEditMode(){}get contentDiv(){return this.div}get isEditing(){return An(this,pe)}set isEditing(At){ar(this,pe,At),this.parent&&(At?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(At,vn){ar(this,ie,!0);const En=At/vn,{style:Sn}=this.div;Sn.aspectRatio=En,Sn.height="auto"}static get MIN_SIZE(){return 16}};z=new WeakMap,j=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,_e=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Ie=new WeakSet,Ta=function(At,vn,En){let[Sn,kt]=At;[vn,En]=this.screenToPageTranslation(vn,En),this.x+=vn/Sn,this.y+=En/kt,this.fixAndSetPosition()},wa=function(){const[At,vn]=this.parentDimensions,{_borderLineWidth:En}=Lt,Sn=En/At,kt=En/vn;switch(this.rotation){case 90:return[-Sn,kt];case 180:return[Sn,kt];case 270:return[Sn,-kt];default:return[-Sn,-kt]}},Ne=new WeakSet,Aa=function(At,vn,En){switch(En){case 90:return[vn,-At];case 180:return[-At,-vn];case 270:return[-vn,At];default:return[At,vn]}},xa=function(At){switch(At){case 90:{const[vn,En]=this.pageDimensions;return[0,-vn/En,En/vn,0]}case 180:return[-1,0,0,-1];case 270:{const[vn,En]=this.pageDimensions;return[0,vn/En,-En/vn,0]}default:return[1,0,0,1]}},oo=function(){if(An(this,le))return;ar(this,le,document.createElement("div")),An(this,le).classList.add("resizers");const At=["topLeft","topRight","bottomRight","bottomLeft"];this._willKeepAspectRatio||At.push("topMiddle","middleRight","bottomMiddle","middleLeft");for(const vn of At){const En=document.createElement("div");An(this,le).append(En),En.classList.add("resizer",vn),En.addEventListener("pointerdown",tr(this,Ie,io).bind(this,vn)),En.addEventListener("contextmenu",$.noContextMenu)}this.div.prepend(An(this,le))},io=function(At,vn){vn.preventDefault();const{isMac:En}=y.FeatureTest.platform;if(vn.button!==0||vn.ctrlKey&&En)return;const Sn=tr(this,Ie,so).bind(this,At),kt=this._isDraggable;this._isDraggable=!1;const jt={passive:!0,capture:!0};window.addEventListener("pointermove",Sn,jt);const _n=this.x,wn=this.y,hn=this.width,Cn=this.height,Tn=this.parent.div.style.cursor,xn=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(vn.target).cursor;const Mn=()=>{this._isDraggable=kt,window.removeEventListener("pointerup",Mn),window.removeEventListener("blur",Mn),window.removeEventListener("pointermove",Sn,jt),this.parent.div.style.cursor=Tn,this.div.style.cursor=xn;const bn=this.x,Pn=this.y,Rn=this.width,Fn=this.height;bn===_n&&Pn===wn&&Rn===hn&&Fn===Cn||this.addCommands({cmd:()=>{this.width=Rn,this.height=Fn,this.x=bn,this.y=Pn;const[Dn,Ln]=this.parentDimensions;this.setDims(Dn*Rn,Ln*Fn),this.fixAndSetPosition()},undo:()=>{this.width=hn,this.height=Cn,this.x=_n,this.y=wn;const[Dn,Ln]=this.parentDimensions;this.setDims(Dn*hn,Ln*Cn),this.fixAndSetPosition()},mustExec:!0})};window.addEventListener("pointerup",Mn),window.addEventListener("blur",Mn)},so=function(At,vn){const[En,Sn]=this.parentDimensions,kt=this.x,jt=this.y,_n=this.width,wn=this.height,hn=Lt.MIN_SIZE/En,Cn=Lt.MIN_SIZE/Sn,Tn=yr=>Math.round(yr*1e4)/1e4,xn=tr(this,Ie,xa).call(this,this.rotation),Mn=(yr,ir)=>[xn[0]*yr+xn[2]*ir,xn[1]*yr+xn[3]*ir],bn=tr(this,Ie,xa).call(this,360-this.rotation),Pn=(yr,ir)=>[bn[0]*yr+bn[2]*ir,bn[1]*yr+bn[3]*ir];let Rn,Fn,Dn=!1,Ln=!1;switch(At){case"topLeft":Dn=!0,Rn=(yr,ir)=>[0,0],Fn=(yr,ir)=>[yr,ir];break;case"topMiddle":Rn=(yr,ir)=>[yr/2,0],Fn=(yr,ir)=>[yr/2,ir];break;case"topRight":Dn=!0,Rn=(yr,ir)=>[yr,0],Fn=(yr,ir)=>[0,ir];break;case"middleRight":Ln=!0,Rn=(yr,ir)=>[yr,ir/2],Fn=(yr,ir)=>[0,ir/2];break;case"bottomRight":Dn=!0,Rn=(yr,ir)=>[yr,ir],Fn=(yr,ir)=>[0,0];break;case"bottomMiddle":Rn=(yr,ir)=>[yr/2,ir],Fn=(yr,ir)=>[yr/2,0];break;case"bottomLeft":Dn=!0,Rn=(yr,ir)=>[0,ir],Fn=(yr,ir)=>[yr,0];break;case"middleLeft":Ln=!0,Rn=(yr,ir)=>[0,ir/2],Fn=(yr,ir)=>[yr,ir/2];break}const kn=Rn(_n,wn),In=Fn(_n,wn);let Vn=Mn(...In);const zn=Tn(kt+Vn[0]),Kn=Tn(jt+Vn[1]);let jn=1,Wn=1,[Un,nr]=this.screenToPageTranslation(vn.movementX,vn.movementY);if([Un,nr]=Pn(Un/En,nr/Sn),Dn){const yr=Math.hypot(_n,wn);jn=Wn=Math.max(Math.min(Math.hypot(In[0]-kn[0]-Un,In[1]-kn[1]-nr)/yr,1/_n,1/wn),hn/_n,Cn/wn)}else Ln?jn=Math.max(hn,Math.min(1,Math.abs(In[0]-kn[0]-Un)))/_n:Wn=Math.max(Cn,Math.min(1,Math.abs(In[1]-kn[1]-nr)))/wn;const sr=Tn(_n*jn),mr=Tn(wn*Wn);Vn=Mn(...Fn(sr,mr));const vr=zn-Vn[0],Sr=Kn-Vn[1];this.width=sr,this.height=mr,this.x=vr,this.y=Sr,this.setDims(En*sr,Sn*mr),this.fixAndSetPosition()},Pa=async function(){var En;const At=An(this,re);if(!At)return;if(!An(this,z)&&!An(this,j)){At.classList.remove("done"),(En=An(this,ae))==null||En.remove();return}Lt._l10nPromise.get("editor_alt_text_edit_button_label").then(Sn=>{At.setAttribute("aria-label",Sn)});let vn=An(this,ae);if(!vn){ar(this,ae,vn=document.createElement("span")),vn.className="tooltip",vn.setAttribute("role","tooltip");const Sn=vn.id=`alt-text-tooltip-${this.id}`;At.setAttribute("aria-describedby",Sn);const kt=100;At.addEventListener("mouseenter",()=>{ar(this,oe,setTimeout(()=>{ar(this,oe,null),An(this,ae).classList.add("show"),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"alt_text_tooltip"}}})},kt))}),At.addEventListener("mouseleave",()=>{var jt;clearTimeout(An(this,oe)),ar(this,oe,null),(jt=An(this,ae))==null||jt.classList.remove("show")})}At.classList.add("done"),vn.innerText=An(this,j)?await Lt._l10nPromise.get("editor_alt_text_decorative_tooltip"):An(this,z),vn.parentNode||At.append(vn)},lo=function(At){if(!this._isDraggable)return;const vn=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let En,Sn;vn&&(En={passive:!0,capture:!0},Sn=jt=>{const[_n,wn]=this.screenToPageTranslation(jt.movementX,jt.movementY);this._uiManager.dragSelectedEditors(_n,wn)},window.addEventListener("pointermove",Sn,En));const kt=()=>{if(window.removeEventListener("pointerup",kt),window.removeEventListener("blur",kt),vn&&window.removeEventListener("pointermove",Sn,En),ar(this,he,!1),!this._uiManager.endDragSession()){const{isMac:jt}=y.FeatureTest.platform;At.ctrlKey&&!jt||At.shiftKey||At.metaKey&&jt?this.parent.toggleSelected(this):this.parent.setSelected(this)}};window.addEventListener("pointerup",kt),window.addEventListener("blur",kt)},rr(Lt,Ne),Dr(Lt,"_borderLineWidth",-1),Dr(Lt,"_colorManager",new g.ColorManager),Dr(Lt,"_zIndex",1),Dr(Lt,"SMALL_EDITOR_SIZE",0);let L=Lt;n.AnnotationEditor=L;class V extends L{constructor(At){super(At),this.annotationElementId=At.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}},(t,n,r)=>{var ie,le,ue,de,he,ka,Ce,xe,Ie,$e,Oe,uo,Ve,ze,Et,Dt,Ue,qe,Lt,Pt,At,vn,En,Sn,kt,jt,_n,wn,hn,Cn,Tn,xn,Mn,bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn,zn,Kn,jn,Wn,Un,co,Ia,Ma,la,$a,Na,Fr,qr,fo,ho,Ra,Jr,Da;Object.defineProperty(n,"__esModule",{value:!0}),n.KeyboardManager=n.CommandManager=n.ColorManager=n.AnnotationEditorUIManager=void 0,n.bindEvents=$,n.opacityToHex=L,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(166);var g=r(1),y=r(168);function $(Cr,$n,Xn){for(const lr of Xn)$n.addEventListener(lr,Cr[lr].bind(Cr))}function L(Cr){return Math.round(Math.min(255,Math.max(1,255*Cr))).toString(16).padStart(2,"0")}class V{constructor(){rr(this,ie,0)}getId(){return`${g.AnnotationEditorPrefix}${Zr(this,ie)._++}`}}ie=new WeakMap;const _e=class _e{constructor(){rr(this,he);rr(this,le,(0,g.getUuid)());rr(this,ue,0);rr(this,de,null)}static get _isSVGFittingCanvas(){const $n='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',lr=new OffscreenCanvas(1,3).getContext("2d"),fr=new Image;fr.src=$n;const br=fr.decode().then(()=>(lr.drawImage(fr,0,0,1,1,0,0,1,3),new Uint32Array(lr.getImageData(0,0,1,1).data.buffer)[0]===0));return(0,g.shadow)(this,"_isSVGFittingCanvas",br)}async getFromFile($n){const{lastModified:Xn,name:lr,size:fr,type:br}=$n;return tr(this,he,ka).call(this,`${Xn}_${lr}_${fr}_${br}`,$n)}async getFromUrl($n){return tr(this,he,ka).call(this,$n,$n)}async getFromId($n){An(this,de)||ar(this,de,new Map);const Xn=An(this,de).get($n);return Xn?Xn.bitmap?(Xn.refCounter+=1,Xn):Xn.file?this.getFromFile(Xn.file):this.getFromUrl(Xn.url):null}getSvgUrl($n){const Xn=An(this,de).get($n);return Xn!=null&&Xn.isSvg?Xn.svgUrl:null}deleteId($n){An(this,de)||ar(this,de,new Map);const Xn=An(this,de).get($n);Xn&&(Xn.refCounter-=1,Xn.refCounter===0&&(Xn.bitmap=null))}isValidId($n){return $n.startsWith(`image_${An(this,le)}_`)}};le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakSet,ka=async function($n,Xn){An(this,de)||ar(this,de,new Map);let lr=An(this,de).get($n);if(lr===null)return null;if(lr!=null&&lr.bitmap)return lr.refCounter+=1,lr;try{lr||(lr={bitmap:null,id:`image_${An(this,le)}_${Zr(this,ue)._++}`,refCounter:0,isSvg:!1});let fr;if(typeof Xn=="string"){lr.url=Xn;const br=await fetch(Xn);if(!br.ok)throw new Error(br.statusText);fr=await br.blob()}else fr=lr.file=Xn;if(fr.type==="image/svg+xml"){const br=_e._isSVGFittingCanvas,er=new FileReader,Bn=new Image,On=new Promise((Zn,qn)=>{Bn.onload=()=>{lr.bitmap=Bn,lr.isSvg=!0,Zn()},er.onload=async()=>{const or=lr.svgUrl=er.result;Bn.src=await br?`${or}#svgView(preserveAspectRatio(none))`:or},Bn.onerror=er.onerror=qn});er.readAsDataURL(fr),await On}else lr.bitmap=await createImageBitmap(fr);lr.refCounter=1}catch(fr){console.error(fr),lr=null}return An(this,de).set($n,lr),lr&&An(this,de).set(lr.id,lr),lr};let z=_e;class j{constructor(){rr(this,Ce,[]);rr(this,xe,!1);rr(this,Ie);rr(this,$e,-1);let $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:128;ar(this,Ie,$n)}add($n){let{cmd:Xn,undo:lr,mustExec:fr,type:br=NaN,overwriteIfSameType:er=!1,keepUndo:Bn=!1}=$n;if(fr&&Xn(),An(this,xe))return;const On={cmd:Xn,undo:lr,type:br};if(An(this,$e)===-1){An(this,Ce).length>0&&(An(this,Ce).length=0),ar(this,$e,0),An(this,Ce).push(On);return}if(er&&An(this,Ce)[An(this,$e)].type===br){Bn&&(On.undo=An(this,Ce)[An(this,$e)].undo),An(this,Ce)[An(this,$e)]=On;return}const Zn=An(this,$e)+1;Zn===An(this,Ie)?An(this,Ce).splice(0,1):(ar(this,$e,Zn),Zn<An(this,Ce).length&&An(this,Ce).splice(Zn)),An(this,Ce).push(On)}undo(){An(this,$e)!==-1&&(ar(this,xe,!0),An(this,Ce)[An(this,$e)].undo(),ar(this,xe,!1),ar(this,$e,An(this,$e)-1))}redo(){An(this,$e)<An(this,Ce).length-1&&(ar(this,$e,An(this,$e)+1),ar(this,xe,!0),An(this,Ce)[An(this,$e)].cmd(),ar(this,xe,!1))}hasSomethingToUndo(){return An(this,$e)!==-1}hasSomethingToRedo(){return An(this,$e)<An(this,Ce).length-1}destroy(){ar(this,Ce,null)}}Ce=new WeakMap,xe=new WeakMap,Ie=new WeakMap,$e=new WeakMap,n.CommandManager=j;class re{constructor($n){rr(this,Oe);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Xn}=g.FeatureTest.platform;for(const[lr,fr,br={}]of $n)for(const er of lr){const Bn=er.startsWith("mac+");Xn&&Bn?(this.callbacks.set(er.slice(4),{callback:fr,options:br}),this.allKeys.add(er.split("+").at(-1))):!Xn&&!Bn&&(this.callbacks.set(er,{callback:fr,options:br}),this.allKeys.add(er.split("+").at(-1)))}}exec($n,Xn){if(!this.allKeys.has(Xn.key))return;const lr=this.callbacks.get(tr(this,Oe,uo).call(this,Xn));if(!lr)return;const{callback:fr,options:{bubbles:br=!1,args:er=[],checker:Bn=null}}=lr;Bn&&!Bn($n,Xn)||(fr.bind($n,...er)(),br||(Xn.stopPropagation(),Xn.preventDefault()))}}Oe=new WeakSet,uo=function($n){$n.altKey&&this.buffer.push("alt"),$n.ctrlKey&&this.buffer.push("ctrl"),$n.metaKey&&this.buffer.push("meta"),$n.shiftKey&&this.buffer.push("shift"),this.buffer.push($n.key);const Xn=this.buffer.join("+");return this.buffer.length=0,Xn},n.KeyboardManager=re;const Fe=class Fe{get _colors(){const $n=new Map([["CanvasText",null],["Canvas",null]]);return(0,y.getColorValues)($n),(0,g.shadow)(this,"_colors",$n)}convert($n){const Xn=(0,y.getRGB)($n);if(!window.matchMedia("(forced-colors: active)").matches)return Xn;for(const[lr,fr]of this._colors)if(fr.every((br,er)=>br===Xn[er]))return Fe._colorsMapping.get(lr);return Xn}getHexCode($n){const Xn=this._colors.get($n);return Xn?g.Util.makeHexColor(...Xn):$n}};Dr(Fe,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ae=Fe;n.ColorManager=ae;const pr=class pr{constructor($n,Xn,lr,fr,br,er){rr(this,Un);rr(this,Ve,null);rr(this,ze,new Map);rr(this,Et,new Map);rr(this,Dt,null);rr(this,Ue,null);rr(this,qe,new j);rr(this,Lt,0);rr(this,Pt,new Set);rr(this,At,null);rr(this,vn,null);rr(this,En,new Set);rr(this,Sn,null);rr(this,kt,new V);rr(this,jt,!1);rr(this,_n,!1);rr(this,wn,null);rr(this,hn,g.AnnotationEditorType.NONE);rr(this,Cn,new Set);rr(this,Tn,null);rr(this,xn,this.blur.bind(this));rr(this,Mn,this.focus.bind(this));rr(this,bn,this.copy.bind(this));rr(this,Pn,this.cut.bind(this));rr(this,Rn,this.paste.bind(this));rr(this,Fn,this.keydown.bind(this));rr(this,Dn,this.onEditingAction.bind(this));rr(this,Ln,this.onPageChanging.bind(this));rr(this,kn,this.onScaleChanging.bind(this));rr(this,In,this.onRotationChanging.bind(this));rr(this,Vn,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});rr(this,zn,[0,0]);rr(this,Kn,null);rr(this,jn,null);rr(this,Wn,null);ar(this,jn,$n),ar(this,Wn,Xn),ar(this,Dt,lr),this._eventBus=fr,this._eventBus._on("editingaction",An(this,Dn)),this._eventBus._on("pagechanging",An(this,Ln)),this._eventBus._on("scalechanging",An(this,kn)),this._eventBus._on("rotationchanging",An(this,In)),ar(this,Ue,br.annotationStorage),ar(this,Sn,br.filterFactory),ar(this,Tn,er),this.viewParameters={realScale:y.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}static get _keyboardManager(){const $n=pr.prototype,Xn=br=>{const{activeElement:er}=document;return er&&An(br,jn).contains(er)&&br.hasSomethingToControl()},lr=this.TRANSLATE_SMALL,fr=this.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new re([[["ctrl+a","mac+meta+a"],$n.selectAll],[["ctrl+z","mac+meta+z"],$n.undo],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],$n.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],$n.delete],[["Escape","mac+Escape"],$n.unselectAll],[["ArrowLeft","mac+ArrowLeft"],$n.translateSelectedEditors,{args:[-lr,0],checker:Xn}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],$n.translateSelectedEditors,{args:[-fr,0],checker:Xn}],[["ArrowRight","mac+ArrowRight"],$n.translateSelectedEditors,{args:[lr,0],checker:Xn}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],$n.translateSelectedEditors,{args:[fr,0],checker:Xn}],[["ArrowUp","mac+ArrowUp"],$n.translateSelectedEditors,{args:[0,-lr],checker:Xn}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],$n.translateSelectedEditors,{args:[0,-fr],checker:Xn}],[["ArrowDown","mac+ArrowDown"],$n.translateSelectedEditors,{args:[0,lr],checker:Xn}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],$n.translateSelectedEditors,{args:[0,fr],checker:Xn}]]))}destroy(){tr(this,Un,la).call(this),tr(this,Un,Ia).call(this),this._eventBus._off("editingaction",An(this,Dn)),this._eventBus._off("pagechanging",An(this,Ln)),this._eventBus._off("scalechanging",An(this,kn)),this._eventBus._off("rotationchanging",An(this,In));for(const $n of An(this,Et).values())$n.destroy();An(this,Et).clear(),An(this,ze).clear(),An(this,En).clear(),ar(this,Ve,null),An(this,Cn).clear(),An(this,qe).destroy(),An(this,Dt).destroy()}get hcmFilter(){return(0,g.shadow)(this,"hcmFilter",An(this,Tn)?An(this,Sn).addHCMFilter(An(this,Tn).foreground,An(this,Tn).background):"none")}get direction(){return(0,g.shadow)(this,"direction",getComputedStyle(An(this,jn)).direction)}editAltText($n){var Xn;(Xn=An(this,Dt))==null||Xn.editAltText(this,$n)}onPageChanging($n){let{pageNumber:Xn}=$n;ar(this,Lt,Xn-1)}focusMainContainer(){An(this,jn).focus()}findParent($n,Xn){for(const lr of An(this,Et).values()){const{x:fr,y:br,width:er,height:Bn}=lr.div.getBoundingClientRect();if($n>=fr&&$n<=fr+er&&Xn>=br&&Xn<=br+Bn)return lr}return null}disableUserSelect(){let $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;An(this,Wn).classList.toggle("noUserSelect",$n)}addShouldRescale($n){An(this,En).add($n)}removeShouldRescale($n){An(this,En).delete($n)}onScaleChanging($n){let{scale:Xn}=$n;this.commitOrRemove(),this.viewParameters.realScale=Xn*y.PixelsPerInch.PDF_TO_CSS_UNITS;for(const lr of An(this,En))lr.onScaleChanging()}onRotationChanging($n){let{pagesRotation:Xn}=$n;this.commitOrRemove(),this.viewParameters.rotation=Xn}addToAnnotationStorage($n){!$n.isEmpty()&&An(this,Ue)&&!An(this,Ue).has($n.id)&&An(this,Ue).setValue($n.id,$n)}blur(){if(!this.hasSelection)return;const{activeElement:$n}=document;for(const Xn of An(this,Cn))if(Xn.div.contains($n)){ar(this,wn,[Xn,$n]),Xn._focusEventsAllowed=!1;break}}focus(){if(!An(this,wn))return;const[$n,Xn]=An(this,wn);ar(this,wn,null),Xn.addEventListener("focusin",()=>{$n._focusEventsAllowed=!0},{once:!0}),Xn.focus()}addEditListeners(){tr(this,Un,Ma).call(this),tr(this,Un,$a).call(this)}removeEditListeners(){tr(this,Un,la).call(this),tr(this,Un,Na).call(this)}copy($n){var lr;if($n.preventDefault(),(lr=An(this,Ve))==null||lr.commitOrRemove(),!this.hasSelection)return;const Xn=[];for(const fr of An(this,Cn)){const br=fr.serialize(!0);br&&Xn.push(br)}Xn.length!==0&&$n.clipboardData.setData("application/pdfjs",JSON.stringify(Xn))}cut($n){this.copy($n),this.delete()}paste($n){$n.preventDefault();const{clipboardData:Xn}=$n;for(const br of Xn.items)for(const er of An(this,vn))if(er.isHandlingMimeForPasting(br.type)){er.paste(br,this.currentLayer);return}let lr=Xn.getData("application/pdfjs");if(!lr)return;try{lr=JSON.parse(lr)}catch(br){(0,g.warn)(`paste: "${br.message}".`);return}if(!Array.isArray(lr))return;this.unselectAll();const fr=this.currentLayer;try{const br=[];for(const On of lr){const Zn=fr.deserialize(On);if(!Zn)return;br.push(Zn)}const er=()=>{for(const On of br)tr(this,Un,Ra).call(this,On);tr(this,Un,Da).call(this,br)},Bn=()=>{for(const On of br)On.remove()};this.addCommands({cmd:er,undo:Bn,mustExec:!0})}catch(br){(0,g.warn)(`paste: "${br.message}".`)}}keydown($n){var Xn;(Xn=this.getActive())!=null&&Xn.shouldGetKeyboardEvents()||pr._keyboardManager.exec(this,$n)}onEditingAction($n){["undo","redo","delete","selectAll"].includes($n.name)&&this[$n.name]()}setEditingState($n){$n?(tr(this,Un,co).call(this),tr(this,Un,Ma).call(this),tr(this,Un,$a).call(this),tr(this,Un,Fr).call(this,{isEditing:An(this,hn)!==g.AnnotationEditorType.NONE,isEmpty:tr(this,Un,Jr).call(this),hasSomethingToUndo:An(this,qe).hasSomethingToUndo(),hasSomethingToRedo:An(this,qe).hasSomethingToRedo(),hasSelectedEditor:!1})):(tr(this,Un,Ia).call(this),tr(this,Un,la).call(this),tr(this,Un,Na).call(this),tr(this,Un,Fr).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes($n){if(!An(this,vn)){ar(this,vn,$n);for(const Xn of An(this,vn))tr(this,Un,qr).call(this,Xn.defaultPropertiesToUpdate)}}getId(){return An(this,kt).getId()}get currentLayer(){return An(this,Et).get(An(this,Lt))}getLayer($n){return An(this,Et).get($n)}get currentPageIndex(){return An(this,Lt)}addLayer($n){An(this,Et).set($n.pageIndex,$n),An(this,jt)?$n.enable():$n.disable()}removeLayer($n){An(this,Et).delete($n.pageIndex)}updateMode($n){let Xn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(An(this,hn)!==$n){if(ar(this,hn,$n),$n===g.AnnotationEditorType.NONE){this.setEditingState(!1),tr(this,Un,ho).call(this);return}this.setEditingState(!0),tr(this,Un,fo).call(this),this.unselectAll();for(const lr of An(this,Et).values())lr.updateMode($n);if(Xn){for(const lr of An(this,ze).values())if(lr.annotationElementId===Xn){this.setSelected(lr),lr.enterInEditMode();break}}}}updateToolbar($n){$n!==An(this,hn)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:$n})}updateParams($n,Xn){if(An(this,vn)){if($n===g.AnnotationEditorParamsType.CREATE){this.currentLayer.addNewEditor($n);return}for(const lr of An(this,Cn))lr.updateParams($n,Xn);for(const lr of An(this,vn))lr.updateDefaultParams($n,Xn)}}enableWaiting(){let $n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(An(this,_n)!==$n){ar(this,_n,$n);for(const Xn of An(this,Et).values())$n?Xn.disableClick():Xn.enableClick(),Xn.div.classList.toggle("waiting",$n)}}getEditors($n){const Xn=[];for(const lr of An(this,ze).values())lr.pageIndex===$n&&Xn.push(lr);return Xn}getEditor($n){return An(this,ze).get($n)}addEditor($n){An(this,ze).set($n.id,$n)}removeEditor($n){var Xn;An(this,ze).delete($n.id),this.unselect($n),(!$n.annotationElementId||!An(this,Pt).has($n.annotationElementId))&&((Xn=An(this,Ue))==null||Xn.remove($n.id))}addDeletedAnnotationElement($n){An(this,Pt).add($n.annotationElementId),$n.deleted=!0}isDeletedAnnotationElement($n){return An(this,Pt).has($n)}removeDeletedAnnotationElement($n){An(this,Pt).delete($n.annotationElementId),$n.deleted=!1}setActiveEditor($n){An(this,Ve)!==$n&&(ar(this,Ve,$n),$n&&tr(this,Un,qr).call(this,$n.propertiesToUpdate))}toggleSelected($n){if(An(this,Cn).has($n)){An(this,Cn).delete($n),$n.unselect(),tr(this,Un,Fr).call(this,{hasSelectedEditor:this.hasSelection});return}An(this,Cn).add($n),$n.select(),tr(this,Un,qr).call(this,$n.propertiesToUpdate),tr(this,Un,Fr).call(this,{hasSelectedEditor:!0})}setSelected($n){for(const Xn of An(this,Cn))Xn!==$n&&Xn.unselect();An(this,Cn).clear(),An(this,Cn).add($n),$n.select(),tr(this,Un,qr).call(this,$n.propertiesToUpdate),tr(this,Un,Fr).call(this,{hasSelectedEditor:!0})}isSelected($n){return An(this,Cn).has($n)}unselect($n){$n.unselect(),An(this,Cn).delete($n),tr(this,Un,Fr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return An(this,Cn).size!==0}undo(){An(this,qe).undo(),tr(this,Un,Fr).call(this,{hasSomethingToUndo:An(this,qe).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:tr(this,Un,Jr).call(this)})}redo(){An(this,qe).redo(),tr(this,Un,Fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:An(this,qe).hasSomethingToRedo(),isEmpty:tr(this,Un,Jr).call(this)})}addCommands($n){An(this,qe).add($n),tr(this,Un,Fr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:tr(this,Un,Jr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const $n=[...An(this,Cn)],Xn=()=>{for(const fr of $n)fr.remove()},lr=()=>{for(const fr of $n)tr(this,Un,Ra).call(this,fr)};this.addCommands({cmd:Xn,undo:lr,mustExec:!0})}commitOrRemove(){var $n;($n=An(this,Ve))==null||$n.commitOrRemove()}hasSomethingToControl(){return An(this,Ve)||this.hasSelection}selectAll(){for(const $n of An(this,Cn))$n.commit();tr(this,Un,Da).call(this,An(this,ze).values())}unselectAll(){if(An(this,Ve)){An(this,Ve).commitOrRemove();return}if(this.hasSelection){for(const $n of An(this,Cn))$n.unselect();An(this,Cn).clear(),tr(this,Un,Fr).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors($n,Xn){if((arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1)||this.commitOrRemove(),!this.hasSelection)return;An(this,zn)[0]+=$n,An(this,zn)[1]+=Xn;const[fr,br]=An(this,zn),er=[...An(this,Cn)],Bn=1e3;An(this,Kn)&&clearTimeout(An(this,Kn)),ar(this,Kn,setTimeout(()=>{ar(this,Kn,null),An(this,zn)[0]=An(this,zn)[1]=0,this.addCommands({cmd:()=>{for(const On of er)An(this,ze).has(On.id)&&On.translateInPage(fr,br)},undo:()=>{for(const On of er)An(this,ze).has(On.id)&&On.translateInPage(-fr,-br)},mustExec:!1})},Bn));for(const On of er)On.translateInPage($n,Xn)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),ar(this,At,new Map);for(const $n of An(this,Cn))An(this,At).set($n,{savedX:$n.x,savedY:$n.y,savedPageIndex:$n.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!An(this,At))return!1;this.disableUserSelect(!1);const $n=An(this,At);ar(this,At,null);let Xn=!1;for(const[{x:fr,y:br,pageIndex:er},Bn]of $n)Bn.newX=fr,Bn.newY=br,Bn.newPageIndex=er,Xn||(Xn=fr!==Bn.savedX||br!==Bn.savedY||er!==Bn.savedPageIndex);if(!Xn)return!1;const lr=(fr,br,er,Bn)=>{if(An(this,ze).has(fr.id)){const On=An(this,Et).get(Bn);On?fr._setParentAndPosition(On,br,er):(fr.pageIndex=Bn,fr.x=br,fr.y=er)}};return this.addCommands({cmd:()=>{for(const[fr,{newX:br,newY:er,newPageIndex:Bn}]of $n)lr(fr,br,er,Bn)},undo:()=>{for(const[fr,{savedX:br,savedY:er,savedPageIndex:Bn}]of $n)lr(fr,br,er,Bn)},mustExec:!0}),!0}dragSelectedEditors($n,Xn){if(An(this,At))for(const lr of An(this,At).keys())lr.drag($n,Xn)}rebuild($n){if($n.parent===null){const Xn=this.getLayer($n.pageIndex);Xn?(Xn.changeParent($n),Xn.addOrRebuild($n)):(this.addEditor($n),this.addToAnnotationStorage($n),$n.rebuild())}else $n.parent.addOrRebuild($n)}isActive($n){return An(this,Ve)===$n}getActive(){return An(this,Ve)}getMode(){return An(this,hn)}get imageManager(){return(0,g.shadow)(this,"imageManager",new z)}};Ve=new WeakMap,ze=new WeakMap,Et=new WeakMap,Dt=new WeakMap,Ue=new WeakMap,qe=new WeakMap,Lt=new WeakMap,Pt=new WeakMap,At=new WeakMap,vn=new WeakMap,En=new WeakMap,Sn=new WeakMap,kt=new WeakMap,jt=new WeakMap,_n=new WeakMap,wn=new WeakMap,hn=new WeakMap,Cn=new WeakMap,Tn=new WeakMap,xn=new WeakMap,Mn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,kn=new WeakMap,In=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Kn=new WeakMap,jn=new WeakMap,Wn=new WeakMap,Un=new WeakSet,co=function(){window.addEventListener("focus",An(this,Mn)),window.addEventListener("blur",An(this,xn))},Ia=function(){window.removeEventListener("focus",An(this,Mn)),window.removeEventListener("blur",An(this,xn))},Ma=function(){window.addEventListener("keydown",An(this,Fn),{capture:!0})},la=function(){window.removeEventListener("keydown",An(this,Fn),{capture:!0})},$a=function(){document.addEventListener("copy",An(this,bn)),document.addEventListener("cut",An(this,Pn)),document.addEventListener("paste",An(this,Rn))},Na=function(){document.removeEventListener("copy",An(this,bn)),document.removeEventListener("cut",An(this,Pn)),document.removeEventListener("paste",An(this,Rn))},Fr=function($n){Object.entries($n).some(lr=>{let[fr,br]=lr;return An(this,Vn)[fr]!==br})&&this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(An(this,Vn),$n)})},qr=function($n){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:$n})},fo=function(){if(!An(this,jt)){ar(this,jt,!0);for(const $n of An(this,Et).values())$n.enable()}},ho=function(){if(this.unselectAll(),An(this,jt)){ar(this,jt,!1);for(const $n of An(this,Et).values())$n.disable()}},Ra=function($n){const Xn=An(this,Et).get($n.pageIndex);Xn?Xn.addOrRebuild($n):this.addEditor($n)},Jr=function(){if(An(this,ze).size===0)return!0;if(An(this,ze).size===1)for(const $n of An(this,ze).values())return $n.isEmpty();return!1},Da=function($n){An(this,Cn).clear();for(const Xn of $n)Xn.isEmpty()||(An(this,Cn).add(Xn),Xn.select());tr(this,Un,Fr).call(this,{hasSelectedEditor:!0})},Dr(pr,"TRANSLATE_SMALL",1),Dr(pr,"TRANSLATE_BIG",10);let oe=pr;n.AnnotationEditorUIManager=oe},(t,n,r)=>{var g=r(3),y=r(6),$=r(4),L=r(24),V=r(14),z=r(8),j=r(21),re=r(20),ae=r(91),oe=r(39),ie=r(77),le=r(64),ue=r(159),de=r(7),he=r(167),pe=r(27),_e=$.JSON,Ce=$.Number,xe=$.SyntaxError,Ie=_e&&_e.parse,$e=L("Object","keys"),Oe=Object.getOwnPropertyDescriptor,Ne=V("".charAt),Fe=V("".slice),Ve=V(/./.exec),ze=V([].push),Et=/^\d$/,Dt=/^[1-9]$/,Ue=/^(?:-|\d)$/,qe=/^[\t\n\r ]$/,Lt=0,Pt=1,At=function(wn,hn){wn=ie(wn);var Cn=new kt(wn,0),Tn=Cn.parse(),xn=Tn.value,Mn=Cn.skip(qe,Tn.end);if(Mn<wn.length)throw xe('Unexpected extra character: "'+Ne(wn,Mn)+'" after the parsed data at: '+Mn);return j(hn)?vn({"":xn},"",hn,Tn):xn},vn=function(wn,hn,Cn,Tn){var xn=wn[hn],Mn=Tn&&xn===Tn.value,bn=Mn&&typeof Tn.source=="string"?{source:Tn.source}:{},Pn,Rn,Fn,Dn,Ln;if(re(xn)){var kn=ae(xn),In=Mn?Tn.nodes:kn?[]:{};if(kn)for(Pn=In.length,Fn=le(xn),Dn=0;Dn<Fn;Dn++)En(xn,Dn,vn(xn,""+Dn,Cn,Dn<Pn?In[Dn]:void 0));else for(Rn=$e(xn),Fn=le(Rn),Dn=0;Dn<Fn;Dn++)Ln=Rn[Dn],En(xn,Ln,vn(xn,Ln,Cn,oe(In,Ln)?In[Ln]:void 0))}return z(Cn,wn,hn,xn,bn)},En=function(wn,hn,Cn){if(y){var Tn=Oe(wn,hn);if(Tn&&!Tn.configurable)return}Cn===void 0?delete wn[hn]:ue(wn,hn,Cn)},Sn=function(wn,hn,Cn,Tn){this.value=wn,this.end=hn,this.source=Cn,this.nodes=Tn},kt=function(wn,hn){this.source=wn,this.index=hn};kt.prototype={fork:function(wn){return new kt(this.source,wn)},parse:function(){var wn=this.source,hn=this.skip(qe,this.index),Cn=this.fork(hn),Tn=Ne(wn,hn);if(Ve(Ue,Tn))return Cn.number();switch(Tn){case"{":return Cn.object();case"[":return Cn.array();case'"':return Cn.string();case"t":return Cn.keyword(!0);case"f":return Cn.keyword(!1);case"n":return Cn.keyword(null)}throw xe('Unexpected character: "'+Tn+'" at: '+hn)},node:function(wn,hn,Cn,Tn,xn){return new Sn(hn,Tn,wn?null:Fe(this.source,Cn,Tn),xn)},object:function(){for(var wn=this.source,hn=this.index+1,Cn=!1,Tn={},xn={};hn<wn.length;){if(hn=this.until(['"',"}"],hn),Ne(wn,hn)==="}"&&!Cn){hn++;break}var Mn=this.fork(hn).string(),bn=Mn.value;hn=Mn.end,hn=this.until([":"],hn)+1,hn=this.skip(qe,hn),Mn=this.fork(hn).parse(),ue(xn,bn,Mn),ue(Tn,bn,Mn.value),hn=this.until([",","}"],Mn.end);var Pn=Ne(wn,hn);if(Pn===",")Cn=!0,hn++;else if(Pn==="}"){hn++;break}}return this.node(Pt,Tn,this.index,hn,xn)},array:function(){for(var wn=this.source,hn=this.index+1,Cn=!1,Tn=[],xn=[];hn<wn.length;){if(hn=this.skip(qe,hn),Ne(wn,hn)==="]"&&!Cn){hn++;break}var Mn=this.fork(hn).parse();if(ze(xn,Mn),ze(Tn,Mn.value),hn=this.until([",","]"],Mn.end),Ne(wn,hn)===",")Cn=!0,hn++;else if(Ne(wn,hn)==="]"){hn++;break}}return this.node(Pt,Tn,this.index,hn,xn)},string:function(){var wn=this.index,hn=he(this.source,this.index+1);return this.node(Lt,hn.value,wn,hn.end)},number:function(){var wn=this.source,hn=this.index,Cn=hn;if(Ne(wn,Cn)==="-"&&Cn++,Ne(wn,Cn)==="0")Cn++;else if(Ve(Dt,Ne(wn,Cn)))Cn=this.skip(Et,++Cn);else throw xe("Failed to parse number at: "+Cn);if(Ne(wn,Cn)==="."&&(Cn=this.skip(Et,++Cn)),Ne(wn,Cn)==="e"||Ne(wn,Cn)==="E"){Cn++,(Ne(wn,Cn)==="+"||Ne(wn,Cn)==="-")&&Cn++;var Tn=Cn;if(Cn=this.skip(Et,Cn),Tn===Cn)throw xe("Failed to parse number's exponent value at: "+Cn)}return this.node(Lt,Ce(Fe(wn,hn,Cn)),hn,Cn)},keyword:function(wn){var hn=""+wn,Cn=this.index,Tn=Cn+hn.length;if(Fe(this.source,Cn,Tn)!==hn)throw xe("Failed to parse value at: "+Cn);return this.node(Lt,wn,Cn,Tn)},skip:function(wn,hn){for(var Cn=this.source;hn<Cn.length&&Ve(wn,Ne(Cn,hn));hn++);return hn},until:function(wn,hn){hn=this.skip(qe,hn);for(var Cn=Ne(this.source,hn),Tn=0;Tn<wn.length;Tn++)if(wn[Tn]===Cn)return hn;throw xe('Unexpected character: "'+Cn+'" at: '+hn)}};var jt=de(function(){var wn="9007199254740993",hn;return Ie(wn,function(Cn,Tn,xn){hn=xn.source}),hn!==wn}),_n=pe&&!de(function(){return 1/Ie("-0 	")!==-1/0});g({target:"JSON",stat:!0,forced:jt},{parse:function(hn,Cn){return _n&&!j(Cn)?Ie(hn):At(hn,Cn)}})},(t,n,r)=>{var g=r(14),y=r(39),$=SyntaxError,L=parseInt,V=String.fromCharCode,z=g("".charAt),j=g("".slice),re=g(/./.exec),ae={'\\"':'"',"\\\\":"\\","\\/":"/","\\b":"\b","\\f":"\f","\\n":`
`,"\\r":"\r","\\t":"	"},oe=/^[\da-f]{4}$/i,ie=/^[\u0000-\u001F]$/;t.exports=function(le,ue){for(var de=!0,he="";ue<le.length;){var pe=z(le,ue);if(pe==="\\"){var _e=j(le,ue,ue+2);if(y(ae,_e))he+=ae[_e],ue+=2;else if(_e==="\\u"){ue+=2;var Ce=j(le,ue,ue+4);if(!re(oe,Ce))throw $("Bad Unicode escape at: "+ue);he+=V(L(Ce,16)),ue+=4}else throw $('Unknown escape sequence: "'+_e+'"')}else if(pe==='"'){de=!1,ue++;break}else{if(re(ie,pe))throw $("Bad control character in string literal at: "+ue);he+=pe,ue++}}if(de)throw $("Unterminated string at: "+ue);return{value:he,end:ue}}},(t,n,r)=>{var Lt,Pt,At,vn,En,Sn,kt,jt,_n,wn,hn,Cn,Kr,Yr,Oa,ua,ca,Qr,ea;Object.defineProperty(n,"__esModule",{value:!0}),n.StatTimer=n.RenderingCancelledException=n.PixelsPerInch=n.PageViewport=n.PDFDateString=n.DOMStandardFontDataFactory=n.DOMSVGFactory=n.DOMFilterFactory=n.DOMCanvasFactory=n.DOMCMapReaderFactory=void 0,n.deprecated=$e,n.getColorValues=ze,n.getCurrentTransform=Et,n.getCurrentTransformInverse=Dt,n.getFilenameFromUrl=he,n.getPdfFilenameFromUrl=pe,n.getRGB=Ve,n.getXfaPageViewport=Fe,n.isDataScheme=ue,n.isPdfFile=de,n.isValidFetchUrl=Ce,n.loadScript=Ie,n.noContextMenu=xe,n.setLayerDimensions=Ue,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89),r(84),r(86),r(87);var g=r(169),y=r(1);const $="http://www.w3.org/2000/svg",qe=class qe{};Dr(qe,"CSS",96),Dr(qe,"PDF",72),Dr(qe,"PDF_TO_CSS_UNITS",qe.CSS/qe.PDF);let L=qe;n.PixelsPerInch=L;class V extends g.BaseFilterFactory{constructor(){let{docId:kn,ownerDocument:In=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super();rr(this,Cn);rr(this,Lt);rr(this,Pt);rr(this,At);rr(this,vn);rr(this,En);rr(this,Sn);rr(this,kt);rr(this,jt);rr(this,_n);rr(this,wn);rr(this,hn,0);ar(this,At,kn),ar(this,vn,In)}addFilter(kn){if(!kn)return"none";let In=An(this,Cn,Kr).get(kn);if(In)return In;let Vn,zn,Kn,jn;if(kn.length===1){const sr=kn[0],mr=new Array(256);for(let vr=0;vr<256;vr++)mr[vr]=sr[vr]/255;jn=Vn=zn=Kn=mr.join(",")}else{const[sr,mr,vr]=kn,Sr=new Array(256),yr=new Array(256),ir=new Array(256);for(let gr=0;gr<256;gr++)Sr[gr]=sr[gr]/255,yr[gr]=mr[gr]/255,ir[gr]=vr[gr]/255;Vn=Sr.join(","),zn=yr.join(","),Kn=ir.join(","),jn=`${Vn}${zn}${Kn}`}if(In=An(this,Cn,Kr).get(jn),In)return An(this,Cn,Kr).set(kn,In),In;const Wn=`g_${An(this,At)}_transfer_map_${Zr(this,hn)._++}`,Un=`url(#${Wn})`;An(this,Cn,Kr).set(kn,Un),An(this,Cn,Kr).set(jn,Un);const nr=tr(this,Cn,ua).call(this,Wn);return tr(this,Cn,Qr).call(this,Vn,zn,Kn,nr),Un}addHCMFilter(kn,In){var mr;const Vn=`${kn}-${In}`;if(An(this,Sn)===Vn)return An(this,kt);if(ar(this,Sn,Vn),ar(this,kt,"none"),(mr=An(this,En))==null||mr.remove(),!kn||!In)return An(this,kt);const zn=tr(this,Cn,ea).call(this,kn);kn=y.Util.makeHexColor(...zn);const Kn=tr(this,Cn,ea).call(this,In);if(In=y.Util.makeHexColor(...Kn),An(this,Cn,Yr).style.color="",kn==="#000000"&&In==="#ffffff"||kn===In)return An(this,kt);const jn=new Array(256);for(let vr=0;vr<=255;vr++){const Sr=vr/255;jn[vr]=Sr<=.03928?Sr/12.92:((Sr+.055)/1.055)**2.4}const Wn=jn.join(","),Un=`g_${An(this,At)}_hcm_filter`,nr=ar(this,jt,tr(this,Cn,ua).call(this,Un));tr(this,Cn,Qr).call(this,Wn,Wn,Wn,nr),tr(this,Cn,Oa).call(this,nr);const sr=(vr,Sr)=>{const yr=zn[vr]/255,ir=Kn[vr]/255,gr=new Array(Sr+1);for(let Gn=0;Gn<=Sr;Gn++)gr[Gn]=yr+Gn/Sr*(ir-yr);return gr.join(",")};return tr(this,Cn,Qr).call(this,sr(0,5),sr(1,5),sr(2,5),nr),ar(this,kt,`url(#${Un})`),An(this,kt)}addHighlightHCMFilter(kn,In,Vn,zn){var ir;const Kn=`${kn}-${In}-${Vn}-${zn}`;if(An(this,_n)===Kn)return An(this,wn);if(ar(this,_n,Kn),ar(this,wn,"none"),(ir=An(this,jt))==null||ir.remove(),!kn||!In)return An(this,wn);const[jn,Wn]=[kn,In].map(tr(this,Cn,ea).bind(this));let Un=Math.round(.2126*jn[0]+.7152*jn[1]+.0722*jn[2]),nr=Math.round(.2126*Wn[0]+.7152*Wn[1]+.0722*Wn[2]),[sr,mr]=[Vn,zn].map(tr(this,Cn,ea).bind(this));nr<Un&&([Un,nr,sr,mr]=[nr,Un,mr,sr]),An(this,Cn,Yr).style.color="";const vr=(gr,Gn,Qn)=>{const Nn=new Array(256),Hn=(nr-Un)/Qn,Yn=gr/255,pr=(Gn-gr)/(255*Qn);let Cr=0;for(let $n=0;$n<=Qn;$n++){const Xn=Math.round(Un+$n*Hn),lr=Yn+$n*pr;for(let fr=Cr;fr<=Xn;fr++)Nn[fr]=lr;Cr=Xn+1}for(let $n=Cr;$n<256;$n++)Nn[$n]=Nn[Cr-1];return Nn.join(",")},Sr=`g_${An(this,At)}_hcm_highlight_filter`,yr=ar(this,jt,tr(this,Cn,ua).call(this,Sr));return tr(this,Cn,Oa).call(this,yr),tr(this,Cn,Qr).call(this,vr(sr[0],mr[0],5),vr(sr[1],mr[1],5),vr(sr[2],mr[2],5),yr),ar(this,wn,`url(#${Sr})`),An(this,wn)}destroy(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&(An(this,kt)||An(this,wn))||(An(this,Pt)&&(An(this,Pt).parentNode.parentNode.remove(),ar(this,Pt,null)),An(this,Lt)&&(An(this,Lt).clear(),ar(this,Lt,null)),ar(this,hn,0))}}Lt=new WeakMap,Pt=new WeakMap,At=new WeakMap,vn=new WeakMap,En=new WeakMap,Sn=new WeakMap,kt=new WeakMap,jt=new WeakMap,_n=new WeakMap,wn=new WeakMap,hn=new WeakMap,Cn=new WeakSet,Kr=function(){return An(this,Lt)||ar(this,Lt,new Map)},Yr=function(){if(!An(this,Pt)){const kn=An(this,vn).createElement("div"),{style:In}=kn;In.visibility="hidden",In.contain="strict",In.width=In.height=0,In.position="absolute",In.top=In.left=0,In.zIndex=-1;const Vn=An(this,vn).createElementNS($,"svg");Vn.setAttribute("width",0),Vn.setAttribute("height",0),ar(this,Pt,An(this,vn).createElementNS($,"defs")),kn.append(Vn),Vn.append(An(this,Pt)),An(this,vn).body.append(kn)}return An(this,Pt)},Oa=function(kn){const In=An(this,vn).createElementNS($,"feColorMatrix");In.setAttribute("type","matrix"),In.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),kn.append(In)},ua=function(kn){const In=An(this,vn).createElementNS($,"filter");return In.setAttribute("color-interpolation-filters","sRGB"),In.setAttribute("id",kn),An(this,Cn,Yr).append(In),In},ca=function(kn,In,Vn){const zn=An(this,vn).createElementNS($,In);zn.setAttribute("type","discrete"),zn.setAttribute("tableValues",Vn),kn.append(zn)},Qr=function(kn,In,Vn,zn){const Kn=An(this,vn).createElementNS($,"feComponentTransfer");zn.append(Kn),tr(this,Cn,ca).call(this,Kn,"feFuncR",kn),tr(this,Cn,ca).call(this,Kn,"feFuncG",In),tr(this,Cn,ca).call(this,Kn,"feFuncB",Vn)},ea=function(kn){return An(this,Cn,Yr).style.color=kn,Ve(getComputedStyle(An(this,Cn,Yr)).getPropertyValue("color"))},n.DOMFilterFactory=V;class z extends g.BaseCanvasFactory{constructor(){let{ownerDocument:Ln=globalThis.document}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this._document=Ln}_createCanvas(Ln,kn){const In=this._document.createElement("canvas");return In.width=Ln,In.height=kn,In}}n.DOMCanvasFactory=z;async function j(Dn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ce(Dn,document.baseURI)){const kn=await fetch(Dn);if(!kn.ok)throw new Error(kn.statusText);return Ln?new Uint8Array(await kn.arrayBuffer()):(0,y.stringToBytes)(await kn.text())}return new Promise((kn,In)=>{const Vn=new XMLHttpRequest;Vn.open("GET",Dn,!0),Ln&&(Vn.responseType="arraybuffer"),Vn.onreadystatechange=()=>{if(Vn.readyState===XMLHttpRequest.DONE){if(Vn.status===200||Vn.status===0){let zn;if(Ln&&Vn.response?zn=new Uint8Array(Vn.response):!Ln&&Vn.responseText&&(zn=(0,y.stringToBytes)(Vn.responseText)),zn){kn(zn);return}}In(new Error(Vn.statusText))}},Vn.send(null)})}class re extends g.BaseCMapReaderFactory{_fetchData(Ln,kn){return j(Ln,this.isCompressed).then(In=>({cMapData:In,compressionType:kn}))}}n.DOMCMapReaderFactory=re;class ae extends g.BaseStandardFontDataFactory{_fetchData(Ln){return j(Ln,!0)}}n.DOMStandardFontDataFactory=ae;class oe extends g.BaseSVGFactory{_createSVG(Ln){return document.createElementNS($,Ln)}}n.DOMSVGFactory=oe;class ie{constructor(Ln){let{viewBox:kn,scale:In,rotation:Vn,offsetX:zn=0,offsetY:Kn=0,dontFlip:jn=!1}=Ln;this.viewBox=kn,this.scale=In,this.rotation=Vn,this.offsetX=zn,this.offsetY=Kn;const Wn=(kn[2]+kn[0])/2,Un=(kn[3]+kn[1])/2;let nr,sr,mr,vr;switch(Vn%=360,Vn<0&&(Vn+=360),Vn){case 180:nr=-1,sr=0,mr=0,vr=1;break;case 90:nr=0,sr=1,mr=1,vr=0;break;case 270:nr=0,sr=-1,mr=-1,vr=0;break;case 0:nr=1,sr=0,mr=0,vr=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}jn&&(mr=-mr,vr=-vr);let Sr,yr,ir,gr;nr===0?(Sr=Math.abs(Un-kn[1])*In+zn,yr=Math.abs(Wn-kn[0])*In+Kn,ir=(kn[3]-kn[1])*In,gr=(kn[2]-kn[0])*In):(Sr=Math.abs(Wn-kn[0])*In+zn,yr=Math.abs(Un-kn[1])*In+Kn,ir=(kn[2]-kn[0])*In,gr=(kn[3]-kn[1])*In),this.transform=[nr*In,sr*In,mr*In,vr*In,Sr-nr*In*Wn-mr*In*Un,yr-sr*In*Wn-vr*In*Un],this.width=ir,this.height=gr}get rawDims(){const{viewBox:Ln}=this;return(0,y.shadow)(this,"rawDims",{pageWidth:Ln[2]-Ln[0],pageHeight:Ln[3]-Ln[1],pageX:Ln[0],pageY:Ln[1]})}clone(){let{scale:Ln=this.scale,rotation:kn=this.rotation,offsetX:In=this.offsetX,offsetY:Vn=this.offsetY,dontFlip:zn=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new ie({viewBox:this.viewBox.slice(),scale:Ln,rotation:kn,offsetX:In,offsetY:Vn,dontFlip:zn})}convertToViewportPoint(Ln,kn){return y.Util.applyTransform([Ln,kn],this.transform)}convertToViewportRectangle(Ln){const kn=y.Util.applyTransform([Ln[0],Ln[1]],this.transform),In=y.Util.applyTransform([Ln[2],Ln[3]],this.transform);return[kn[0],kn[1],In[0],In[1]]}convertToPdfPoint(Ln,kn){return y.Util.applyInverseTransform([Ln,kn],this.transform)}}n.PageViewport=ie;class le extends y.BaseException{constructor(Ln){let kn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;super(Ln,"RenderingCancelledException"),this.extraDelay=kn}}n.RenderingCancelledException=le;function ue(Dn){const Ln=Dn.length;let kn=0;for(;kn<Ln&&Dn[kn].trim()==="";)kn++;return Dn.substring(kn,kn+5).toLowerCase()==="data:"}function de(Dn){return typeof Dn=="string"&&/\.pdf$/i.test(Dn)}function he(Dn){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)||([Dn]=Dn.split(/[#?]/,1)),Dn.substring(Dn.lastIndexOf("/")+1)}function pe(Dn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"document.pdf";if(typeof Dn!="string")return Ln;if(ue(Dn))return(0,y.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Ln;const kn=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,In=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Vn=kn.exec(Dn);let zn=In.exec(Vn[1])||In.exec(Vn[2])||In.exec(Vn[3]);if(zn&&(zn=zn[0],zn.includes("%")))try{zn=In.exec(decodeURIComponent(zn))[0]}catch{}return zn||Ln}class _e{constructor(){Dr(this,"started",Object.create(null));Dr(this,"times",[])}time(Ln){Ln in this.started&&(0,y.warn)(`Timer is already running for ${Ln}`),this.started[Ln]=Date.now()}timeEnd(Ln){Ln in this.started||(0,y.warn)(`Timer has not been started for ${Ln}`),this.times.push({name:Ln,start:this.started[Ln],end:Date.now()}),delete this.started[Ln]}toString(){const Ln=[];let kn=0;for(const{name:In}of this.times)kn=Math.max(In.length,kn);for(const{name:In,start:Vn,end:zn}of this.times)Ln.push(`${In.padEnd(kn)} ${zn-Vn}ms
`);return Ln.join("")}}n.StatTimer=_e;function Ce(Dn,Ln){try{const{protocol:kn}=Ln?new URL(Dn,Ln):new URL(Dn);return kn==="http:"||kn==="https:"}catch{return!1}}function xe(Dn){Dn.preventDefault()}function Ie(Dn){let Ln=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new Promise((kn,In)=>{const Vn=document.createElement("script");Vn.src=Dn,Vn.onload=function(zn){Ln&&Vn.remove(),kn(zn)},Vn.onerror=function(){In(new Error(`Cannot load script at: ${Vn.src}`))},(document.head||document.documentElement).append(Vn)})}function $e(Dn){console.log("Deprecated API usage: "+Dn)}let Oe;class Ne{static toDateObject(Ln){if(!Ln||typeof Ln!="string")return null;Oe||(Oe=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const kn=Oe.exec(Ln);if(!kn)return null;const In=parseInt(kn[1],10);let Vn=parseInt(kn[2],10);Vn=Vn>=1&&Vn<=12?Vn-1:0;let zn=parseInt(kn[3],10);zn=zn>=1&&zn<=31?zn:1;let Kn=parseInt(kn[4],10);Kn=Kn>=0&&Kn<=23?Kn:0;let jn=parseInt(kn[5],10);jn=jn>=0&&jn<=59?jn:0;let Wn=parseInt(kn[6],10);Wn=Wn>=0&&Wn<=59?Wn:0;const Un=kn[7]||"Z";let nr=parseInt(kn[8],10);nr=nr>=0&&nr<=23?nr:0;let sr=parseInt(kn[9],10)||0;return sr=sr>=0&&sr<=59?sr:0,Un==="-"?(Kn+=nr,jn+=sr):Un==="+"&&(Kn-=nr,jn-=sr),new Date(Date.UTC(In,Vn,zn,Kn,jn,Wn))}}n.PDFDateString=Ne;function Fe(Dn,Ln){let{scale:kn=1,rotation:In=0}=Ln;const{width:Vn,height:zn}=Dn.attributes.style,Kn=[0,0,parseInt(Vn),parseInt(zn)];return new ie({viewBox:Kn,scale:kn,rotation:In})}function Ve(Dn){if(Dn.startsWith("#")){const Ln=parseInt(Dn.slice(1),16);return[(Ln&16711680)>>16,(Ln&65280)>>8,Ln&255]}return Dn.startsWith("rgb(")?Dn.slice(4,-1).split(",").map(Ln=>parseInt(Ln)):Dn.startsWith("rgba(")?Dn.slice(5,-1).split(",").map(Ln=>parseInt(Ln)).slice(0,3):((0,y.warn)(`Not a valid color format: "${Dn}"`),[0,0,0])}function ze(Dn){const Ln=document.createElement("span");Ln.style.visibility="hidden",document.body.append(Ln);for(const kn of Dn.keys()){Ln.style.color=kn;const In=window.getComputedStyle(Ln).color;Dn.set(kn,Ve(In))}Ln.remove()}function Et(Dn){const{a:Ln,b:kn,c:In,d:Vn,e:zn,f:Kn}=Dn.getTransform();return[Ln,kn,In,Vn,zn,Kn]}function Dt(Dn){const{a:Ln,b:kn,c:In,d:Vn,e:zn,f:Kn}=Dn.getTransform().invertSelf();return[Ln,kn,In,Vn,zn,Kn]}function Ue(Dn,Ln){let kn=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,In=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(Ln instanceof ie){const{pageWidth:Vn,pageHeight:zn}=Ln.rawDims,{style:Kn}=Dn,jn=y.FeatureTest.isCSSRoundSupported,Wn=`var(--scale-factor) * ${Vn}px`,Un=`var(--scale-factor) * ${zn}px`,nr=jn?`round(${Wn}, 1px)`:`calc(${Wn})`,sr=jn?`round(${Un}, 1px)`:`calc(${Un})`;!kn||Ln.rotation%180===0?(Kn.width=nr,Kn.height=sr):(Kn.width=sr,Kn.height=nr)}In&&Dn.setAttribute("data-main-rotation",Ln.rotation)}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.BaseStandardFontDataFactory=n.BaseSVGFactory=n.BaseFilterFactory=n.BaseCanvasFactory=n.BaseCMapReaderFactory=void 0,r(2);var g=r(1);class y{constructor(){this.constructor===y&&(0,g.unreachable)("Cannot initialize BaseFilterFactory.")}addFilter(re){return"none"}addHCMFilter(re,ae){return"none"}addHighlightHCMFilter(re,ae,oe,ie){return"none"}destroy(){}}n.BaseFilterFactory=y;class ${constructor(){this.constructor===$&&(0,g.unreachable)("Cannot initialize BaseCanvasFactory.")}create(re,ae){if(re<=0||ae<=0)throw new Error("Invalid canvas size");const oe=this._createCanvas(re,ae);return{canvas:oe,context:oe.getContext("2d")}}reset(re,ae,oe){if(!re.canvas)throw new Error("Canvas is not specified");if(ae<=0||oe<=0)throw new Error("Invalid canvas size");re.canvas.width=ae,re.canvas.height=oe}destroy(re){if(!re.canvas)throw new Error("Canvas is not specified");re.canvas.width=0,re.canvas.height=0,re.canvas=null,re.context=null}_createCanvas(re,ae){(0,g.unreachable)("Abstract method `_createCanvas` called.")}}n.BaseCanvasFactory=$;class L{constructor(re){let{baseUrl:ae=null,isCompressed:oe=!0}=re;this.constructor===L&&(0,g.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ae,this.isCompressed=oe}async fetch(re){let{name:ae}=re;if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ae)throw new Error("CMap name must be specified.");const oe=this.baseUrl+ae+(this.isCompressed?".bcmap":""),ie=this.isCompressed?g.CMapCompressionType.BINARY:g.CMapCompressionType.NONE;return this._fetchData(oe,ie).catch(le=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${oe}`)})}_fetchData(re,ae){(0,g.unreachable)("Abstract method `_fetchData` called.")}}n.BaseCMapReaderFactory=L;class V{constructor(re){let{baseUrl:ae=null}=re;this.constructor===V&&(0,g.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ae}async fetch(re){let{filename:ae}=re;if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ae)throw new Error("Font filename must be specified.");const oe=`${this.baseUrl}${ae}`;return this._fetchData(oe).catch(ie=>{throw new Error(`Unable to load font data at: ${oe}`)})}_fetchData(re){(0,g.unreachable)("Abstract method `_fetchData` called.")}}n.BaseStandardFontDataFactory=V;class z{constructor(){this.constructor===z&&(0,g.unreachable)("Cannot initialize BaseSVGFactory.")}create(re,ae){let oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(re<=0||ae<=0)throw new Error("Invalid SVG dimensions");const ie=this._createSVG("svg:svg");return ie.setAttribute("version","1.1"),oe||(ie.setAttribute("width",`${re}px`),ie.setAttribute("height",`${ae}px`)),ie.setAttribute("preserveAspectRatio","none"),ie.setAttribute("viewBox",`0 0 ${re} ${ae}`),ie}createElement(re){if(typeof re!="string")throw new Error("Invalid SVG element type");return this._createSVG(re)}_createSVG(re){(0,g.unreachable)("Abstract method `_createSVG` called.")}}n.BaseSVGFactory=z},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.MurmurHash3_64=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2);var g=r(1);const y=3285377520,$=4294901760,L=65535;class V{constructor(j){this.h1=j?j&4294967295:y,this.h2=j?j&4294967295:y}update(j){let re,ae;if(typeof j=="string"){re=new Uint8Array(j.length*2),ae=0;for(let $e=0,Oe=j.length;$e<Oe;$e++){const Ne=j.charCodeAt($e);Ne<=255?re[ae++]=Ne:(re[ae++]=Ne>>>8,re[ae++]=Ne&255)}}else if((0,g.isArrayBuffer)(j))re=j.slice(),ae=re.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const oe=ae>>2,ie=ae-oe*4,le=new Uint32Array(re.buffer,0,oe);let ue=0,de=0,he=this.h1,pe=this.h2;const _e=3432918353,Ce=461845907,xe=_e&L,Ie=Ce&L;for(let $e=0;$e<oe;$e++)$e&1?(ue=le[$e],ue=ue*_e&$|ue*xe&L,ue=ue<<15|ue>>>17,ue=ue*Ce&$|ue*Ie&L,he^=ue,he=he<<13|he>>>19,he=he*5+3864292196):(de=le[$e],de=de*_e&$|de*xe&L,de=de<<15|de>>>17,de=de*Ce&$|de*Ie&L,pe^=de,pe=pe<<13|pe>>>19,pe=pe*5+3864292196);switch(ue=0,ie){case 3:ue^=re[oe*4+2]<<16;case 2:ue^=re[oe*4+1]<<8;case 1:ue^=re[oe*4],ue=ue*_e&$|ue*xe&L,ue=ue<<15|ue>>>17,ue=ue*Ce&$|ue*Ie&L,oe&1?he^=ue:pe^=ue}this.h1=he,this.h2=pe}hexdigest(){let j=this.h1,re=this.h2;return j^=re>>>1,j=j*3981806797&$|j*36045&L,re=re*4283543511&$|((re<<16|j>>>16)*2950163797&$)>>>16,j^=re>>>1,j=j*444984403&$|j*60499&L,re=re*3301882366&$|((re<<16|j>>>16)*3120437893&$)>>>16,j^=re>>>1,(j>>>0).toString(16).padStart(8,"0")+(re>>>0).toString(16).padStart(8,"0")}}n.MurmurHash3_64=V},(t,n,r)=>{var L;Object.defineProperty(n,"__esModule",{value:!0}),n.FontLoader=n.FontFaceObject=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147),r(89),r(149);var g=r(1);class y{constructor(z){rr(this,L,new Set);let{ownerDocument:j=globalThis.document,styleElement:re=null}=z;this._document=j,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(z){this.nativeFontFaces.add(z),this._document.fonts.add(z)}removeNativeFontFace(z){this.nativeFontFaces.delete(z),this._document.fonts.delete(z)}insertRule(z){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const j=this.styleElement.sheet;j.insertRule(z,j.cssRules.length)}clear(){for(const z of this.nativeFontFaces)this._document.fonts.delete(z);this.nativeFontFaces.clear(),An(this,L).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(z){if(!(!z||An(this,L).has(z.loadedName))){if((0,g.assert)(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:j,src:re,style:ae}=z,oe=new FontFace(j,re,ae);this.addNativeFontFace(oe);try{await oe.load(),An(this,L).add(j)}catch{(0,g.warn)(`Cannot load system font: ${z.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(oe)}return}(0,g.unreachable)("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(z){if(z.attached||z.missingFile&&!z.systemFontInfo)return;if(z.attached=!0,z.systemFontInfo){await this.loadSystemFont(z.systemFontInfo);return}if(this.isFontLoadingAPISupported){const re=z.createNativeFontFace();if(re){this.addNativeFontFace(re);try{await re.loaded}catch(ae){throw(0,g.warn)(`Failed to load font '${re.family}': '${ae}'.`),z.disableFontFace=!0,ae}}return}const j=z.createFontFaceRule();if(j){if(this.insertRule(j),this.isSyncFontLoadingSupported)return;await new Promise(re=>{const ae=this._queueLoadingCallback(re);this._prepareFontLoadEvent(z,ae)})}}get isFontLoadingAPISupported(){var j;const z=!!((j=this._document)!=null&&j.fonts);return(0,g.shadow)(this,"isFontLoadingAPISupported",z)}get isSyncFontLoadingSupported(){let z=!1;return(g.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(z=!0),(0,g.shadow)(this,"isSyncFontLoadingSupported",z)}_queueLoadingCallback(z){function j(){for((0,g.assert)(!ae.done,"completeRequest() cannot be called twice."),ae.done=!0;re.length>0&&re[0].done;){const oe=re.shift();setTimeout(oe.callback,0)}}const{loadingRequests:re}=this,ae={done:!1,complete:j,callback:z};return re.push(ae),ae}get _loadTestFont(){const z=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,g.shadow)(this,"_loadTestFont",z)}_prepareFontLoadEvent(z,j){function re(Ve,ze){return Ve.charCodeAt(ze)<<24|Ve.charCodeAt(ze+1)<<16|Ve.charCodeAt(ze+2)<<8|Ve.charCodeAt(ze+3)&255}function ae(Ve,ze,Et,Dt){const Ue=Ve.substring(0,ze),qe=Ve.substring(ze+Et);return Ue+Dt+qe}let oe,ie;const le=this._document.createElement("canvas");le.width=1,le.height=1;const ue=le.getContext("2d");let de=0;function he(Ve,ze){if(++de>30){(0,g.warn)("Load test font never loaded."),ze();return}if(ue.font="30px "+Ve,ue.fillText(".",0,20),ue.getImageData(0,0,1,1).data[3]>0){ze();return}setTimeout(he.bind(null,Ve,ze))}const pe=`lt${Date.now()}${this.loadTestFontId++}`;let _e=this._loadTestFont;_e=ae(_e,976,pe.length,pe);const xe=16,Ie=1482184792;let $e=re(_e,xe);for(oe=0,ie=pe.length-3;oe<ie;oe+=4)$e=$e-Ie+re(pe,oe)|0;oe<pe.length&&($e=$e-Ie+re(pe+"XXX",oe)|0),_e=ae(_e,xe,4,(0,g.string32)($e));const Oe=`url(data:font/opentype;base64,${btoa(_e)});`,Ne=`@font-face {font-family:"${pe}";src:${Oe}}`;this.insertRule(Ne);const Fe=this._document.createElement("div");Fe.style.visibility="hidden",Fe.style.width=Fe.style.height="10px",Fe.style.position="absolute",Fe.style.top=Fe.style.left="0px";for(const Ve of[z.loadedName,pe]){const ze=this._document.createElement("span");ze.textContent="Hi",ze.style.fontFamily=Ve,Fe.append(ze)}this._document.body.append(Fe),he(pe,()=>{Fe.remove(),j.complete()})}}L=new WeakMap,n.FontLoader=y;class ${constructor(z,j){let{isEvalSupported:re=!0,disableFontFace:ae=!1,ignoreErrors:oe=!1,inspectFont:ie=null}=j;this.compiledGlyphs=Object.create(null);for(const le in z)this[le]=z[le];this.isEvalSupported=re!==!1,this.disableFontFace=ae===!0,this.ignoreErrors=oe===!0,this._inspectFont=ie}createNativeFontFace(){var j;if(!this.data||this.disableFontFace)return null;let z;if(!this.cssFontInfo)z=new FontFace(this.loadedName,this.data,{});else{const re={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(re.style=`oblique ${this.cssFontInfo.italicAngle}deg`),z=new FontFace(this.cssFontInfo.fontFamily,this.data,re)}return(j=this._inspectFont)==null||j.call(this,this),z}createFontFaceRule(){var ae;if(!this.data||this.disableFontFace)return null;const z=(0,g.bytesToString)(this.data),j=`url(data:${this.mimetype};base64,${btoa(z)});`;let re;if(!this.cssFontInfo)re=`@font-face {font-family:"${this.loadedName}";src:${j}}`;else{let oe=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(oe+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),re=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${oe}src:${j}}`}return(ae=this._inspectFont)==null||ae.call(this,this,j),re}getPathGenerator(z,j){if(this.compiledGlyphs[j]!==void 0)return this.compiledGlyphs[j];let re;try{re=z.get(this.loadedName+"_path_"+j)}catch(ae){if(!this.ignoreErrors)throw ae;return(0,g.warn)(`getPathGenerator - ignoring character: "${ae}".`),this.compiledGlyphs[j]=function(oe,ie){}}if(this.isEvalSupported&&g.FeatureTest.isEvalSupported){const ae=[];for(const oe of re){const ie=oe.args!==void 0?oe.args.join(","):"";ae.push("c.",oe.cmd,"(",ie,`);
`)}return this.compiledGlyphs[j]=new Function("c","size",ae.join(""))}return this.compiledGlyphs[j]=function(ae,oe){for(const ie of re)ie.cmd==="scale"&&(ie.args=[oe,-oe]),ae[ie.cmd].apply(ae,ie.args)}}}n.FontFaceObject=$},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NodeStandardFontDataFactory=n.NodeFilterFactory=n.NodeCanvasFactory=n.NodeCMapReaderFactory=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var g=r(169),y=r(1);(function(){if(!(globalThis.DOMMatrix||!y.isNodeJS))try{globalThis.DOMMatrix=require$$6.DOMMatrix}catch(ae){(0,y.warn)(`Cannot polyfill \`DOMMatrix\`, rendering may be broken: "${ae}".`)}})(),function(){if(!(globalThis.Path2D||!y.isNodeJS))try{const{CanvasRenderingContext2D:ae}=require$$6,{polyfillPath2D:oe}=requirePath2dPolyfill_esm();globalThis.CanvasRenderingContext2D=ae,oe(globalThis)}catch(ae){(0,y.warn)(`Cannot polyfill \`Path2D\`, rendering may be broken: "${ae}".`)}}();const $=function(re){return new Promise((ae,oe)=>{require$$6.readFile(re,(le,ue)=>{if(le||!ue){oe(new Error(le));return}ae(new Uint8Array(ue))})})};class L extends g.BaseFilterFactory{}n.NodeFilterFactory=L;class V extends g.BaseCanvasFactory{_createCanvas(ae,oe){return require$$6.createCanvas(ae,oe)}}n.NodeCanvasFactory=V;class z extends g.BaseCMapReaderFactory{_fetchData(ae,oe){return $(ae).then(ie=>({cMapData:ie,compressionType:oe}))}}n.NodeCMapReaderFactory=z;class j extends g.BaseStandardFontDataFactory{_fetchData(ae){return $(ae)}}n.NodeStandardFontDataFactory=j},(t,n,r)=>{var Pt,La,Ba;Object.defineProperty(n,"__esModule",{value:!0}),n.CanvasGraphics=void 0,r(2),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var g=r(1),y=r(168),$=r(174),L=r(175);const V=16,z=100,j=4096,re=15,ae=10,oe=1e3,ie=16;function le(Sn,kt){if(Sn._removeMirroring)throw new Error("Context is already forwarding operations.");Sn.__originalSave=Sn.save,Sn.__originalRestore=Sn.restore,Sn.__originalRotate=Sn.rotate,Sn.__originalScale=Sn.scale,Sn.__originalTranslate=Sn.translate,Sn.__originalTransform=Sn.transform,Sn.__originalSetTransform=Sn.setTransform,Sn.__originalResetTransform=Sn.resetTransform,Sn.__originalClip=Sn.clip,Sn.__originalMoveTo=Sn.moveTo,Sn.__originalLineTo=Sn.lineTo,Sn.__originalBezierCurveTo=Sn.bezierCurveTo,Sn.__originalRect=Sn.rect,Sn.__originalClosePath=Sn.closePath,Sn.__originalBeginPath=Sn.beginPath,Sn._removeMirroring=()=>{Sn.save=Sn.__originalSave,Sn.restore=Sn.__originalRestore,Sn.rotate=Sn.__originalRotate,Sn.scale=Sn.__originalScale,Sn.translate=Sn.__originalTranslate,Sn.transform=Sn.__originalTransform,Sn.setTransform=Sn.__originalSetTransform,Sn.resetTransform=Sn.__originalResetTransform,Sn.clip=Sn.__originalClip,Sn.moveTo=Sn.__originalMoveTo,Sn.lineTo=Sn.__originalLineTo,Sn.bezierCurveTo=Sn.__originalBezierCurveTo,Sn.rect=Sn.__originalRect,Sn.closePath=Sn.__originalClosePath,Sn.beginPath=Sn.__originalBeginPath,delete Sn._removeMirroring},Sn.save=function(){kt.save(),this.__originalSave()},Sn.restore=function(){kt.restore(),this.__originalRestore()},Sn.translate=function(_n,wn){kt.translate(_n,wn),this.__originalTranslate(_n,wn)},Sn.scale=function(_n,wn){kt.scale(_n,wn),this.__originalScale(_n,wn)},Sn.transform=function(_n,wn,hn,Cn,Tn,xn){kt.transform(_n,wn,hn,Cn,Tn,xn),this.__originalTransform(_n,wn,hn,Cn,Tn,xn)},Sn.setTransform=function(_n,wn,hn,Cn,Tn,xn){kt.setTransform(_n,wn,hn,Cn,Tn,xn),this.__originalSetTransform(_n,wn,hn,Cn,Tn,xn)},Sn.resetTransform=function(){kt.resetTransform(),this.__originalResetTransform()},Sn.rotate=function(_n){kt.rotate(_n),this.__originalRotate(_n)},Sn.clip=function(_n){kt.clip(_n),this.__originalClip(_n)},Sn.moveTo=function(jt,_n){kt.moveTo(jt,_n),this.__originalMoveTo(jt,_n)},Sn.lineTo=function(jt,_n){kt.lineTo(jt,_n),this.__originalLineTo(jt,_n)},Sn.bezierCurveTo=function(jt,_n,wn,hn,Cn,Tn){kt.bezierCurveTo(jt,_n,wn,hn,Cn,Tn),this.__originalBezierCurveTo(jt,_n,wn,hn,Cn,Tn)},Sn.rect=function(jt,_n,wn,hn){kt.rect(jt,_n,wn,hn),this.__originalRect(jt,_n,wn,hn)},Sn.closePath=function(){kt.closePath(),this.__originalClosePath()},Sn.beginPath=function(){kt.beginPath(),this.__originalBeginPath()}}class ue{constructor(kt){this.canvasFactory=kt,this.cache=Object.create(null)}getCanvas(kt,jt,_n){let wn;return this.cache[kt]!==void 0?(wn=this.cache[kt],this.canvasFactory.reset(wn,jt,_n)):(wn=this.canvasFactory.create(jt,_n),this.cache[kt]=wn),wn}delete(kt){delete this.cache[kt]}clear(){for(const kt in this.cache){const jt=this.cache[kt];this.canvasFactory.destroy(jt),delete this.cache[kt]}}}function de(Sn,kt,jt,_n,wn,hn,Cn,Tn,xn,Mn){const[bn,Pn,Rn,Fn,Dn,Ln]=(0,y.getCurrentTransform)(Sn);if(Pn===0&&Rn===0){const Vn=Cn*bn+Dn,zn=Math.round(Vn),Kn=Tn*Fn+Ln,jn=Math.round(Kn),Wn=(Cn+xn)*bn+Dn,Un=Math.abs(Math.round(Wn)-zn)||1,nr=(Tn+Mn)*Fn+Ln,sr=Math.abs(Math.round(nr)-jn)||1;return Sn.setTransform(Math.sign(bn),0,0,Math.sign(Fn),zn,jn),Sn.drawImage(kt,jt,_n,wn,hn,0,0,Un,sr),Sn.setTransform(bn,Pn,Rn,Fn,Dn,Ln),[Un,sr]}if(bn===0&&Fn===0){const Vn=Tn*Rn+Dn,zn=Math.round(Vn),Kn=Cn*Pn+Ln,jn=Math.round(Kn),Wn=(Tn+Mn)*Rn+Dn,Un=Math.abs(Math.round(Wn)-zn)||1,nr=(Cn+xn)*Pn+Ln,sr=Math.abs(Math.round(nr)-jn)||1;return Sn.setTransform(0,Math.sign(Pn),Math.sign(Rn),0,zn,jn),Sn.drawImage(kt,jt,_n,wn,hn,0,0,sr,Un),Sn.setTransform(bn,Pn,Rn,Fn,Dn,Ln),[sr,Un]}Sn.drawImage(kt,jt,_n,wn,hn,Cn,Tn,xn,Mn);const kn=Math.hypot(bn,Pn),In=Math.hypot(Rn,Fn);return[kn*xn,In*Mn]}function he(Sn){const{width:kt,height:jt}=Sn;if(kt>oe||jt>oe)return null;const _n=1e3,wn=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),hn=kt+1;let Cn=new Uint8Array(hn*(jt+1)),Tn,xn,Mn;const bn=kt+7&-8;let Pn=new Uint8Array(bn*jt),Rn=0;for(const In of Sn.data){let Vn=128;for(;Vn>0;)Pn[Rn++]=In&Vn?0:255,Vn>>=1}let Fn=0;for(Rn=0,Pn[Rn]!==0&&(Cn[0]=1,++Fn),xn=1;xn<kt;xn++)Pn[Rn]!==Pn[Rn+1]&&(Cn[xn]=Pn[Rn]?2:1,++Fn),Rn++;for(Pn[Rn]!==0&&(Cn[xn]=2,++Fn),Tn=1;Tn<jt;Tn++){Rn=Tn*bn,Mn=Tn*hn,Pn[Rn-bn]!==Pn[Rn]&&(Cn[Mn]=Pn[Rn]?1:8,++Fn);let In=(Pn[Rn]?4:0)+(Pn[Rn-bn]?8:0);for(xn=1;xn<kt;xn++)In=(In>>2)+(Pn[Rn+1]?4:0)+(Pn[Rn-bn+1]?8:0),wn[In]&&(Cn[Mn+xn]=wn[In],++Fn),Rn++;if(Pn[Rn-bn]!==Pn[Rn]&&(Cn[Mn+xn]=Pn[Rn]?2:4,++Fn),Fn>_n)return null}for(Rn=bn*(jt-1),Mn=Tn*hn,Pn[Rn]!==0&&(Cn[Mn]=8,++Fn),xn=1;xn<kt;xn++)Pn[Rn]!==Pn[Rn+1]&&(Cn[Mn+xn]=Pn[Rn]?4:8,++Fn),Rn++;if(Pn[Rn]!==0&&(Cn[Mn+xn]=4,++Fn),Fn>_n)return null;const Dn=new Int32Array([0,hn,-1,0,-hn,0,0,0,1]),Ln=new Path2D;for(Tn=0;Fn&&Tn<=jt;Tn++){let In=Tn*hn;const Vn=In+kt;for(;In<Vn&&!Cn[In];)In++;if(In===Vn)continue;Ln.moveTo(In%hn,Tn);const zn=In;let Kn=Cn[In];do{const jn=Dn[Kn];do In+=jn;while(!Cn[In]);const Wn=Cn[In];Wn!==5&&Wn!==10?(Kn=Wn,Cn[In]=0):(Kn=Wn&51*Kn>>4,Cn[In]&=Kn>>2|Kn<<2),Ln.lineTo(In%hn,In/hn|0),Cn[In]||--Fn}while(zn!==In);--Tn}return Pn=null,Cn=null,function(In){In.save(),In.scale(1/kt,-1/jt),In.translate(0,-jt),In.fill(Ln),In.beginPath(),In.restore()}}class pe{constructor(kt,jt){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=g.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=g.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=g.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,kt,jt])}clone(){const kt=Object.create(this);return kt.clipBox=this.clipBox.slice(),kt}setCurrentPoint(kt,jt){this.x=kt,this.y=jt}updatePathMinMax(kt,jt,_n){[jt,_n]=g.Util.applyTransform([jt,_n],kt),this.minX=Math.min(this.minX,jt),this.minY=Math.min(this.minY,_n),this.maxX=Math.max(this.maxX,jt),this.maxY=Math.max(this.maxY,_n)}updateRectMinMax(kt,jt){const _n=g.Util.applyTransform(jt,kt),wn=g.Util.applyTransform(jt.slice(2),kt);this.minX=Math.min(this.minX,_n[0],wn[0]),this.minY=Math.min(this.minY,_n[1],wn[1]),this.maxX=Math.max(this.maxX,_n[0],wn[0]),this.maxY=Math.max(this.maxY,_n[1],wn[1])}updateScalingPathMinMax(kt,jt){g.Util.scaleMinMax(kt,jt),this.minX=Math.min(this.minX,jt[0]),this.maxX=Math.max(this.maxX,jt[1]),this.minY=Math.min(this.minY,jt[2]),this.maxY=Math.max(this.maxY,jt[3])}updateCurvePathMinMax(kt,jt,_n,wn,hn,Cn,Tn,xn,Mn,bn){const Pn=g.Util.bezierBoundingBox(jt,_n,wn,hn,Cn,Tn,xn,Mn);if(bn){bn[0]=Math.min(bn[0],Pn[0],Pn[2]),bn[1]=Math.max(bn[1],Pn[0],Pn[2]),bn[2]=Math.min(bn[2],Pn[1],Pn[3]),bn[3]=Math.max(bn[3],Pn[1],Pn[3]);return}this.updateRectMinMax(kt,Pn)}getPathBoundingBox(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.PathType.FILL,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const _n=[this.minX,this.minY,this.maxX,this.maxY];if(kt===$.PathType.STROKE){jt||(0,g.unreachable)("Stroke bounding box must include transform.");const wn=g.Util.singularValueDecompose2dScale(jt),hn=wn[0]*this.lineWidth/2,Cn=wn[1]*this.lineWidth/2;_n[0]-=hn,_n[1]-=Cn,_n[2]+=hn,_n[3]+=Cn}return _n}updateClipFromPath(){const kt=g.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(kt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(kt){this.clipBox=kt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:$.PathType.FILL,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return g.Util.intersect(this.clipBox,this.getPathBoundingBox(kt,jt))}}function _e(Sn,kt){if(typeof ImageData<"u"&&kt instanceof ImageData){Sn.putImageData(kt,0,0);return}const jt=kt.height,_n=kt.width,wn=jt%ie,hn=(jt-wn)/ie,Cn=wn===0?hn:hn+1,Tn=Sn.createImageData(_n,ie);let xn=0,Mn;const bn=kt.data,Pn=Tn.data;let Rn,Fn,Dn,Ln;if(kt.kind===g.ImageKind.GRAYSCALE_1BPP){const kn=bn.byteLength,In=new Uint32Array(Pn.buffer,0,Pn.byteLength>>2),Vn=In.length,zn=_n+7>>3,Kn=4294967295,jn=g.FeatureTest.isLittleEndian?4278190080:255;for(Rn=0;Rn<Cn;Rn++){for(Dn=Rn<hn?ie:wn,Mn=0,Fn=0;Fn<Dn;Fn++){const Wn=kn-xn;let Un=0;const nr=Wn>zn?_n:Wn*8-7,sr=nr&-8;let mr=0,vr=0;for(;Un<sr;Un+=8)vr=bn[xn++],In[Mn++]=vr&128?Kn:jn,In[Mn++]=vr&64?Kn:jn,In[Mn++]=vr&32?Kn:jn,In[Mn++]=vr&16?Kn:jn,In[Mn++]=vr&8?Kn:jn,In[Mn++]=vr&4?Kn:jn,In[Mn++]=vr&2?Kn:jn,In[Mn++]=vr&1?Kn:jn;for(;Un<nr;Un++)mr===0&&(vr=bn[xn++],mr=128),In[Mn++]=vr&mr?Kn:jn,mr>>=1}for(;Mn<Vn;)In[Mn++]=0;Sn.putImageData(Tn,0,Rn*ie)}}else if(kt.kind===g.ImageKind.RGBA_32BPP){for(Fn=0,Ln=_n*ie*4,Rn=0;Rn<hn;Rn++)Pn.set(bn.subarray(xn,xn+Ln)),xn+=Ln,Sn.putImageData(Tn,0,Fn),Fn+=ie;Rn<Cn&&(Ln=_n*wn*4,Pn.set(bn.subarray(xn,xn+Ln)),Sn.putImageData(Tn,0,Fn))}else if(kt.kind===g.ImageKind.RGB_24BPP)for(Dn=ie,Ln=_n*Dn,Rn=0;Rn<Cn;Rn++){for(Rn>=hn&&(Dn=wn,Ln=_n*Dn),Mn=0,Fn=Ln;Fn--;)Pn[Mn++]=bn[xn++],Pn[Mn++]=bn[xn++],Pn[Mn++]=bn[xn++],Pn[Mn++]=255;Sn.putImageData(Tn,0,Rn*ie)}else throw new Error(`bad image kind: ${kt.kind}`)}function Ce(Sn,kt){if(kt.bitmap){Sn.drawImage(kt.bitmap,0,0);return}const jt=kt.height,_n=kt.width,wn=jt%ie,hn=(jt-wn)/ie,Cn=wn===0?hn:hn+1,Tn=Sn.createImageData(_n,ie);let xn=0;const Mn=kt.data,bn=Tn.data;for(let Pn=0;Pn<Cn;Pn++){const Rn=Pn<hn?ie:wn;({srcPos:xn}=(0,L.convertBlackAndWhiteToRGBA)({src:Mn,srcPos:xn,dest:bn,width:_n,height:Rn,nonBlackColor:0})),Sn.putImageData(Tn,0,Pn*ie)}}function xe(Sn,kt){const jt=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const _n of jt)Sn[_n]!==void 0&&(kt[_n]=Sn[_n]);Sn.setLineDash!==void 0&&(kt.setLineDash(Sn.getLineDash()),kt.lineDashOffset=Sn.lineDashOffset)}function Ie(Sn){if(Sn.strokeStyle=Sn.fillStyle="#000000",Sn.fillRule="nonzero",Sn.globalAlpha=1,Sn.lineWidth=1,Sn.lineCap="butt",Sn.lineJoin="miter",Sn.miterLimit=10,Sn.globalCompositeOperation="source-over",Sn.font="10px sans-serif",Sn.setLineDash!==void 0&&(Sn.setLineDash([]),Sn.lineDashOffset=0),!g.isNodeJS){const{filter:kt}=Sn;kt!=="none"&&kt!==""&&(Sn.filter="none")}}function $e(Sn,kt,jt,_n){const wn=Sn.length;for(let hn=3;hn<wn;hn+=4){const Cn=Sn[hn];if(Cn===0)Sn[hn-3]=kt,Sn[hn-2]=jt,Sn[hn-1]=_n;else if(Cn<255){const Tn=255-Cn;Sn[hn-3]=Sn[hn-3]*Cn+kt*Tn>>8,Sn[hn-2]=Sn[hn-2]*Cn+jt*Tn>>8,Sn[hn-1]=Sn[hn-1]*Cn+_n*Tn>>8}}}function Oe(Sn,kt,jt){const _n=Sn.length,wn=1/255;for(let hn=3;hn<_n;hn+=4){const Cn=jt?jt[Sn[hn]]:Sn[hn];kt[hn]=kt[hn]*Cn*wn|0}}function Ne(Sn,kt,jt){const _n=Sn.length;for(let wn=3;wn<_n;wn+=4){const hn=Sn[wn-3]*77+Sn[wn-2]*152+Sn[wn-1]*28;kt[wn]=jt?kt[wn]*jt[hn>>8]>>8:kt[wn]*hn>>16}}function Fe(Sn,kt,jt,_n,wn,hn,Cn,Tn,xn,Mn,bn){const Pn=!!hn,Rn=Pn?hn[0]:0,Fn=Pn?hn[1]:0,Dn=Pn?hn[2]:0,Ln=wn==="Luminosity"?Ne:Oe,In=Math.min(_n,Math.ceil(1048576/jt));for(let Vn=0;Vn<_n;Vn+=In){const zn=Math.min(In,_n-Vn),Kn=Sn.getImageData(Tn-Mn,Vn+(xn-bn),jt,zn),jn=kt.getImageData(Tn,Vn+xn,jt,zn);Pn&&$e(Kn.data,Rn,Fn,Dn),Ln(Kn.data,jn.data,Cn),kt.putImageData(jn,Tn,Vn+xn)}}function Ve(Sn,kt,jt,_n){const wn=_n[0],hn=_n[1],Cn=_n[2]-wn,Tn=_n[3]-hn;Cn===0||Tn===0||(Fe(kt.context,jt,Cn,Tn,kt.subtype,kt.backdrop,kt.transferMap,wn,hn,kt.offsetX,kt.offsetY),Sn.save(),Sn.globalAlpha=1,Sn.globalCompositeOperation="source-over",Sn.setTransform(1,0,0,1,0,0),Sn.drawImage(jt.canvas,0,0),Sn.restore())}function ze(Sn,kt){const jt=g.Util.singularValueDecompose2dScale(Sn);jt[0]=Math.fround(jt[0]),jt[1]=Math.fround(jt[1]);const _n=Math.fround((globalThis.devicePixelRatio||1)*y.PixelsPerInch.PDF_TO_CSS_UNITS);return kt!==void 0?kt:jt[0]<=_n||jt[1]<=_n}const Et=["butt","round","square"],Dt=["miter","round","bevel"],Ue={},qe={},En=class En{constructor(kt,jt,_n,wn,hn,Cn,Tn,xn){rr(this,Pt);let{optionalContentConfig:Mn,markedContentStack:bn=null}=Cn;this.ctx=kt,this.current=new pe(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=jt,this.objs=_n,this.canvasFactory=wn,this.filterFactory=hn,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=bn||[],this.optionalContentConfig=Mn,this.cachedCanvases=new ue(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Tn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=xn,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(kt){let jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof kt=="string"?kt.startsWith("g_")?this.commonObjs.get(kt):this.objs.get(kt):jt}beginDrawing(kt){let{transform:jt,viewport:_n,transparency:wn=!1,background:hn=null}=kt;const Cn=this.ctx.canvas.width,Tn=this.ctx.canvas.height,xn=this.ctx.fillStyle;if(this.ctx.fillStyle=hn||"#ffffff",this.ctx.fillRect(0,0,Cn,Tn),this.ctx.fillStyle=xn,wn){const Mn=this.cachedCanvases.getCanvas("transparent",Cn,Tn);this.compositeCtx=this.ctx,this.transparentCanvas=Mn.canvas,this.ctx=Mn.context,this.ctx.save(),this.ctx.transform(...(0,y.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ie(this.ctx),jt&&(this.ctx.transform(...jt),this.outputScaleX=jt[0],this.outputScaleY=jt[0]),this.ctx.transform(..._n.transform),this.viewportScale=_n.scale,this.baseTransform=(0,y.getCurrentTransform)(this.ctx)}executeOperatorList(kt,jt,_n,wn){const hn=kt.argsArray,Cn=kt.fnArray;let Tn=jt||0;const xn=hn.length;if(xn===Tn)return Tn;const Mn=xn-Tn>ae&&typeof _n=="function",bn=Mn?Date.now()+re:0;let Pn=0;const Rn=this.commonObjs,Fn=this.objs;let Dn;for(;;){if(wn!==void 0&&Tn===wn.nextBreakPoint)return wn.breakIt(Tn,_n),Tn;if(Dn=Cn[Tn],Dn!==g.OPS.dependency)this[Dn].apply(this,hn[Tn]);else for(const Ln of hn[Tn]){const kn=Ln.startsWith("g_")?Rn:Fn;if(!kn.has(Ln))return kn.get(Ln,_n),Tn}if(Tn++,Tn===xn)return Tn;if(Mn&&++Pn>ae){if(Date.now()>bn)return _n(),Tn;Pn=0}}}endDrawing(){tr(this,Pt,La).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const kt of this._cachedBitmapsMap.values()){for(const jt of kt.values())typeof HTMLCanvasElement<"u"&&jt instanceof HTMLCanvasElement&&(jt.width=jt.height=0);kt.clear()}this._cachedBitmapsMap.clear(),tr(this,Pt,Ba).call(this)}_scaleImage(kt,jt){const _n=kt.width,wn=kt.height;let hn=Math.max(Math.hypot(jt[0],jt[1]),1),Cn=Math.max(Math.hypot(jt[2],jt[3]),1),Tn=_n,xn=wn,Mn="prescale1",bn,Pn;for(;hn>2&&Tn>1||Cn>2&&xn>1;){let Rn=Tn,Fn=xn;hn>2&&Tn>1&&(Rn=Tn>=16384?Math.floor(Tn/2)-1||1:Math.ceil(Tn/2),hn/=Tn/Rn),Cn>2&&xn>1&&(Fn=xn>=16384?Math.floor(xn/2)-1||1:Math.ceil(xn)/2,Cn/=xn/Fn),bn=this.cachedCanvases.getCanvas(Mn,Rn,Fn),Pn=bn.context,Pn.clearRect(0,0,Rn,Fn),Pn.drawImage(kt,0,0,Tn,xn,0,0,Rn,Fn),kt=bn.canvas,Tn=Rn,xn=Fn,Mn=Mn==="prescale1"?"prescale2":"prescale1"}return{img:kt,paintWidth:Tn,paintHeight:xn}}_createMaskCanvas(kt){const jt=this.ctx,{width:_n,height:wn}=kt,hn=this.current.fillColor,Cn=this.current.patternFill,Tn=(0,y.getCurrentTransform)(jt);let xn,Mn,bn,Pn;if((kt.bitmap||kt.data)&&kt.count>1){const Un=kt.bitmap||kt.data.buffer;Mn=JSON.stringify(Cn?Tn:[Tn.slice(0,4),hn]),xn=this._cachedBitmapsMap.get(Un),xn||(xn=new Map,this._cachedBitmapsMap.set(Un,xn));const nr=xn.get(Mn);if(nr&&!Cn){const sr=Math.round(Math.min(Tn[0],Tn[2])+Tn[4]),mr=Math.round(Math.min(Tn[1],Tn[3])+Tn[5]);return{canvas:nr,offsetX:sr,offsetY:mr}}bn=nr}bn||(Pn=this.cachedCanvases.getCanvas("maskCanvas",_n,wn),Ce(Pn.context,kt));let Rn=g.Util.transform(Tn,[1/_n,0,0,-1/wn,0,0]);Rn=g.Util.transform(Rn,[1,0,0,1,0,-wn]);const Fn=g.Util.applyTransform([0,0],Rn),Dn=g.Util.applyTransform([_n,wn],Rn),Ln=g.Util.normalizeRect([Fn[0],Fn[1],Dn[0],Dn[1]]),kn=Math.round(Ln[2]-Ln[0])||1,In=Math.round(Ln[3]-Ln[1])||1,Vn=this.cachedCanvases.getCanvas("fillCanvas",kn,In),zn=Vn.context,Kn=Math.min(Fn[0],Dn[0]),jn=Math.min(Fn[1],Dn[1]);zn.translate(-Kn,-jn),zn.transform(...Rn),bn||(bn=this._scaleImage(Pn.canvas,(0,y.getCurrentTransformInverse)(zn)),bn=bn.img,xn&&Cn&&xn.set(Mn,bn)),zn.imageSmoothingEnabled=ze((0,y.getCurrentTransform)(zn),kt.interpolate),de(zn,bn,0,0,bn.width,bn.height,0,0,_n,wn),zn.globalCompositeOperation="source-in";const Wn=g.Util.transform((0,y.getCurrentTransformInverse)(zn),[1,0,0,1,-Kn,-jn]);return zn.fillStyle=Cn?hn.getPattern(jt,this,Wn,$.PathType.FILL):hn,zn.fillRect(0,0,_n,wn),xn&&!Cn&&(this.cachedCanvases.delete("fillCanvas"),xn.set(Mn,Vn.canvas)),{canvas:Vn.canvas,offsetX:Math.round(Kn),offsetY:Math.round(jn)}}setLineWidth(kt){kt!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=kt,this.ctx.lineWidth=kt}setLineCap(kt){this.ctx.lineCap=Et[kt]}setLineJoin(kt){this.ctx.lineJoin=Dt[kt]}setMiterLimit(kt){this.ctx.miterLimit=kt}setDash(kt,jt){const _n=this.ctx;_n.setLineDash!==void 0&&(_n.setLineDash(kt),_n.lineDashOffset=jt)}setRenderingIntent(kt){}setFlatness(kt){}setGState(kt){for(const[jt,_n]of kt)switch(jt){case"LW":this.setLineWidth(_n);break;case"LC":this.setLineCap(_n);break;case"LJ":this.setLineJoin(_n);break;case"ML":this.setMiterLimit(_n);break;case"D":this.setDash(_n[0],_n[1]);break;case"RI":this.setRenderingIntent(_n);break;case"FL":this.setFlatness(_n);break;case"Font":this.setFont(_n[0],_n[1]);break;case"CA":this.current.strokeAlpha=_n;break;case"ca":this.current.fillAlpha=_n,this.ctx.globalAlpha=_n;break;case"BM":this.ctx.globalCompositeOperation=_n;break;case"SMask":this.current.activeSMask=_n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(_n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const kt=this.inSMaskMode;this.current.activeSMask&&!kt?this.beginSMaskMode():!this.current.activeSMask&&kt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const kt=this.ctx.canvas.width,jt=this.ctx.canvas.height,_n="smaskGroupAt"+this.groupLevel,wn=this.cachedCanvases.getCanvas(_n,kt,jt);this.suspendedCtx=this.ctx,this.ctx=wn.context;const hn=this.ctx;hn.setTransform(...(0,y.getCurrentTransform)(this.suspendedCtx)),xe(this.suspendedCtx,hn),le(hn,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),xe(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(kt){if(!this.current.activeSMask)return;kt?(kt[0]=Math.floor(kt[0]),kt[1]=Math.floor(kt[1]),kt[2]=Math.ceil(kt[2]),kt[3]=Math.ceil(kt[3])):kt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const jt=this.current.activeSMask,_n=this.suspendedCtx;Ve(_n,jt,this.ctx,kt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(xe(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const kt=this.current;this.stateStack.push(kt),this.current=kt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),xe(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(kt,jt,_n,wn,hn,Cn){this.ctx.transform(kt,jt,_n,wn,hn,Cn),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(kt,jt,_n){const wn=this.ctx,hn=this.current;let Cn=hn.x,Tn=hn.y,xn,Mn;const bn=(0,y.getCurrentTransform)(wn),Pn=bn[0]===0&&bn[3]===0||bn[1]===0&&bn[2]===0,Rn=Pn?_n.slice(0):null;for(let Fn=0,Dn=0,Ln=kt.length;Fn<Ln;Fn++)switch(kt[Fn]|0){case g.OPS.rectangle:Cn=jt[Dn++],Tn=jt[Dn++];const kn=jt[Dn++],In=jt[Dn++],Vn=Cn+kn,zn=Tn+In;wn.moveTo(Cn,Tn),kn===0||In===0?wn.lineTo(Vn,zn):(wn.lineTo(Vn,Tn),wn.lineTo(Vn,zn),wn.lineTo(Cn,zn)),Pn||hn.updateRectMinMax(bn,[Cn,Tn,Vn,zn]),wn.closePath();break;case g.OPS.moveTo:Cn=jt[Dn++],Tn=jt[Dn++],wn.moveTo(Cn,Tn),Pn||hn.updatePathMinMax(bn,Cn,Tn);break;case g.OPS.lineTo:Cn=jt[Dn++],Tn=jt[Dn++],wn.lineTo(Cn,Tn),Pn||hn.updatePathMinMax(bn,Cn,Tn);break;case g.OPS.curveTo:xn=Cn,Mn=Tn,Cn=jt[Dn+4],Tn=jt[Dn+5],wn.bezierCurveTo(jt[Dn],jt[Dn+1],jt[Dn+2],jt[Dn+3],Cn,Tn),hn.updateCurvePathMinMax(bn,xn,Mn,jt[Dn],jt[Dn+1],jt[Dn+2],jt[Dn+3],Cn,Tn,Rn),Dn+=6;break;case g.OPS.curveTo2:xn=Cn,Mn=Tn,wn.bezierCurveTo(Cn,Tn,jt[Dn],jt[Dn+1],jt[Dn+2],jt[Dn+3]),hn.updateCurvePathMinMax(bn,xn,Mn,Cn,Tn,jt[Dn],jt[Dn+1],jt[Dn+2],jt[Dn+3],Rn),Cn=jt[Dn+2],Tn=jt[Dn+3],Dn+=4;break;case g.OPS.curveTo3:xn=Cn,Mn=Tn,Cn=jt[Dn+2],Tn=jt[Dn+3],wn.bezierCurveTo(jt[Dn],jt[Dn+1],Cn,Tn,Cn,Tn),hn.updateCurvePathMinMax(bn,xn,Mn,jt[Dn],jt[Dn+1],Cn,Tn,Cn,Tn,Rn),Dn+=4;break;case g.OPS.closePath:wn.closePath();break}Pn&&hn.updateScalingPathMinMax(bn,Rn),hn.setCurrentPoint(Cn,Tn)}closePath(){this.ctx.closePath()}stroke(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const jt=this.ctx,_n=this.current.strokeColor;jt.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof _n=="object"&&(_n!=null&&_n.getPattern)?(jt.save(),jt.strokeStyle=_n.getPattern(jt,this,(0,y.getCurrentTransformInverse)(jt),$.PathType.STROKE),this.rescaleAndStroke(!1),jt.restore()):this.rescaleAndStroke(!0)),kt&&this.consumePath(this.current.getClippedPathBoundingBox()),jt.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const jt=this.ctx,_n=this.current.fillColor,wn=this.current.patternFill;let hn=!1;wn&&(jt.save(),jt.fillStyle=_n.getPattern(jt,this,(0,y.getCurrentTransformInverse)(jt),$.PathType.FILL),hn=!0);const Cn=this.current.getClippedPathBoundingBox();this.contentVisible&&Cn!==null&&(this.pendingEOFill?(jt.fill("evenodd"),this.pendingEOFill=!1):jt.fill()),hn&&jt.restore(),kt&&this.consumePath(Cn)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ue}eoClip(){this.pendingClip=qe}beginText(){this.current.textMatrix=g.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const kt=this.pendingTextPaths,jt=this.ctx;if(kt===void 0){jt.beginPath();return}jt.save(),jt.beginPath();for(const _n of kt)jt.setTransform(..._n.transform),jt.translate(_n.x,_n.y),_n.addToPath(jt,_n.fontSize);jt.restore(),jt.clip(),jt.beginPath(),delete this.pendingTextPaths}setCharSpacing(kt){this.current.charSpacing=kt}setWordSpacing(kt){this.current.wordSpacing=kt}setHScale(kt){this.current.textHScale=kt/100}setLeading(kt){this.current.leading=-kt}setFont(kt,jt){var bn;const _n=this.commonObjs.get(kt),wn=this.current;if(!_n)throw new Error(`Can't find font for ${kt}`);if(wn.fontMatrix=_n.fontMatrix||g.FONT_IDENTITY_MATRIX,(wn.fontMatrix[0]===0||wn.fontMatrix[3]===0)&&(0,g.warn)("Invalid font matrix for font "+kt),jt<0?(jt=-jt,wn.fontDirection=-1):wn.fontDirection=1,this.current.font=_n,this.current.fontSize=jt,_n.isType3Font)return;const hn=_n.loadedName||"sans-serif",Cn=((bn=_n.systemFontInfo)==null?void 0:bn.css)||`"${hn}", ${_n.fallbackName}`;let Tn="normal";_n.black?Tn="900":_n.bold&&(Tn="bold");const xn=_n.italic?"italic":"normal";let Mn=jt;jt<V?Mn=V:jt>z&&(Mn=z),this.current.fontSizeScale=jt/Mn,this.ctx.font=`${xn} ${Tn} ${Mn}px ${Cn}`}setTextRenderingMode(kt){this.current.textRenderingMode=kt}setTextRise(kt){this.current.textRise=kt}moveText(kt,jt){this.current.x=this.current.lineX+=kt,this.current.y=this.current.lineY+=jt}setLeadingMoveText(kt,jt){this.setLeading(-jt),this.moveText(kt,jt)}setTextMatrix(kt,jt,_n,wn,hn,Cn){this.current.textMatrix=[kt,jt,_n,wn,hn,Cn],this.current.textMatrixScale=Math.hypot(kt,jt),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(kt,jt,_n,wn){const hn=this.ctx,Cn=this.current,Tn=Cn.font,xn=Cn.textRenderingMode,Mn=Cn.fontSize/Cn.fontSizeScale,bn=xn&g.TextRenderingMode.FILL_STROKE_MASK,Pn=!!(xn&g.TextRenderingMode.ADD_TO_PATH_FLAG),Rn=Cn.patternFill&&!Tn.missingFile;let Fn;(Tn.disableFontFace||Pn||Rn)&&(Fn=Tn.getPathGenerator(this.commonObjs,kt)),Tn.disableFontFace||Rn?(hn.save(),hn.translate(jt,_n),hn.beginPath(),Fn(hn,Mn),wn&&hn.setTransform(...wn),(bn===g.TextRenderingMode.FILL||bn===g.TextRenderingMode.FILL_STROKE)&&hn.fill(),(bn===g.TextRenderingMode.STROKE||bn===g.TextRenderingMode.FILL_STROKE)&&hn.stroke(),hn.restore()):((bn===g.TextRenderingMode.FILL||bn===g.TextRenderingMode.FILL_STROKE)&&hn.fillText(kt,jt,_n),(bn===g.TextRenderingMode.STROKE||bn===g.TextRenderingMode.FILL_STROKE)&&hn.strokeText(kt,jt,_n)),Pn&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,y.getCurrentTransform)(hn),x:jt,y:_n,fontSize:Mn,addToPath:Fn})}get isFontSubpixelAAEnabled(){const{context:kt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);kt.scale(1.5,1),kt.fillText("I",0,10);const jt=kt.getImageData(0,0,10,10).data;let _n=!1;for(let wn=3;wn<jt.length;wn+=4)if(jt[wn]>0&&jt[wn]<255){_n=!0;break}return(0,g.shadow)(this,"isFontSubpixelAAEnabled",_n)}showText(kt){const jt=this.current,_n=jt.font;if(_n.isType3Font)return this.showType3Text(kt);const wn=jt.fontSize;if(wn===0)return;const hn=this.ctx,Cn=jt.fontSizeScale,Tn=jt.charSpacing,xn=jt.wordSpacing,Mn=jt.fontDirection,bn=jt.textHScale*Mn,Pn=kt.length,Rn=_n.vertical,Fn=Rn?1:-1,Dn=_n.defaultVMetrics,Ln=wn*jt.fontMatrix[0],kn=jt.textRenderingMode===g.TextRenderingMode.FILL&&!_n.disableFontFace&&!jt.patternFill;hn.save(),hn.transform(...jt.textMatrix),hn.translate(jt.x,jt.y+jt.textRise),Mn>0?hn.scale(bn,-1):hn.scale(bn,1);let In;if(jt.patternFill){hn.save();const Wn=jt.fillColor.getPattern(hn,this,(0,y.getCurrentTransformInverse)(hn),$.PathType.FILL);In=(0,y.getCurrentTransform)(hn),hn.restore(),hn.fillStyle=Wn}let Vn=jt.lineWidth;const zn=jt.textMatrixScale;if(zn===0||Vn===0){const Wn=jt.textRenderingMode&g.TextRenderingMode.FILL_STROKE_MASK;(Wn===g.TextRenderingMode.STROKE||Wn===g.TextRenderingMode.FILL_STROKE)&&(Vn=this.getSinglePixelWidth())}else Vn/=zn;if(Cn!==1&&(hn.scale(Cn,Cn),Vn/=Cn),hn.lineWidth=Vn,_n.isInvalidPDFjsFont){const Wn=[];let Un=0;for(const nr of kt)Wn.push(nr.unicode),Un+=nr.width;hn.fillText(Wn.join(""),0,0),jt.x+=Un*Ln*bn,hn.restore(),this.compose();return}let Kn=0,jn;for(jn=0;jn<Pn;++jn){const Wn=kt[jn];if(typeof Wn=="number"){Kn+=Fn*Wn*wn/1e3;continue}let Un=!1;const nr=(Wn.isSpace?xn:0)+Tn,sr=Wn.fontChar,mr=Wn.accent;let vr,Sr,yr=Wn.width;if(Rn){const gr=Wn.vmetric||Dn,Gn=-(Wn.vmetric?gr[1]:yr*.5)*Ln,Qn=gr[2]*Ln;yr=gr?-gr[0]:yr,vr=Gn/Cn,Sr=(Kn+Qn)/Cn}else vr=Kn/Cn,Sr=0;if(_n.remeasure&&yr>0){const gr=hn.measureText(sr).width*1e3/wn*Cn;if(yr<gr&&this.isFontSubpixelAAEnabled){const Gn=yr/gr;Un=!0,hn.save(),hn.scale(Gn,1),vr/=Gn}else yr!==gr&&(vr+=(yr-gr)/2e3*wn/Cn)}if(this.contentVisible&&(Wn.isInFont||_n.missingFile)){if(kn&&!mr)hn.fillText(sr,vr,Sr);else if(this.paintChar(sr,vr,Sr,In),mr){const gr=vr+wn*mr.offset.x/Cn,Gn=Sr-wn*mr.offset.y/Cn;this.paintChar(mr.fontChar,gr,Gn,In)}}const ir=Rn?yr*Ln-nr*Mn:yr*Ln+nr*Mn;Kn+=ir,Un&&hn.restore()}Rn?jt.y-=Kn:jt.x+=Kn*bn,hn.restore(),this.compose()}showType3Text(kt){const jt=this.ctx,_n=this.current,wn=_n.font,hn=_n.fontSize,Cn=_n.fontDirection,Tn=wn.vertical?1:-1,xn=_n.charSpacing,Mn=_n.wordSpacing,bn=_n.textHScale*Cn,Pn=_n.fontMatrix||g.FONT_IDENTITY_MATRIX,Rn=kt.length,Fn=_n.textRenderingMode===g.TextRenderingMode.INVISIBLE;let Dn,Ln,kn,In;if(!(Fn||hn===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,jt.save(),jt.transform(..._n.textMatrix),jt.translate(_n.x,_n.y),jt.scale(bn,Cn),Dn=0;Dn<Rn;++Dn){if(Ln=kt[Dn],typeof Ln=="number"){In=Tn*Ln*hn/1e3,this.ctx.translate(In,0),_n.x+=In*bn;continue}const Vn=(Ln.isSpace?Mn:0)+xn,zn=wn.charProcOperatorList[Ln.operatorListId];if(!zn){(0,g.warn)(`Type3 character "${Ln.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Ln,this.save(),jt.scale(hn,hn),jt.transform(...Pn),this.executeOperatorList(zn),this.restore()),kn=g.Util.applyTransform([Ln.width,0],Pn)[0]*hn+Vn,jt.translate(kn,0),_n.x+=kn*bn}jt.restore(),this.processingType3=null}}setCharWidth(kt,jt){}setCharWidthAndBounds(kt,jt,_n,wn,hn,Cn){this.ctx.rect(_n,wn,hn-_n,Cn-wn),this.ctx.clip(),this.endPath()}getColorN_Pattern(kt){let jt;if(kt[0]==="TilingPattern"){const _n=kt[1],wn=this.baseTransform||(0,y.getCurrentTransform)(this.ctx),hn={createCanvasGraphics:Cn=>new En(Cn,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};jt=new $.TilingPattern(kt,_n,this.ctx,hn,wn)}else jt=this._getPattern(kt[1],kt[2]);return jt}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(kt,jt,_n){const wn=g.Util.makeHexColor(kt,jt,_n);this.ctx.strokeStyle=wn,this.current.strokeColor=wn}setFillRGBColor(kt,jt,_n){const wn=g.Util.makeHexColor(kt,jt,_n);this.ctx.fillStyle=wn,this.current.fillColor=wn,this.current.patternFill=!1}_getPattern(kt){let jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,_n;return this.cachedPatterns.has(kt)?_n=this.cachedPatterns.get(kt):(_n=(0,$.getShadingPattern)(this.getObject(kt)),this.cachedPatterns.set(kt,_n)),jt&&(_n.matrix=jt),_n}shadingFill(kt){if(!this.contentVisible)return;const jt=this.ctx;this.save();const _n=this._getPattern(kt);jt.fillStyle=_n.getPattern(jt,this,(0,y.getCurrentTransformInverse)(jt),$.PathType.SHADING);const wn=(0,y.getCurrentTransformInverse)(jt);if(wn){const{width:hn,height:Cn}=jt.canvas,[Tn,xn,Mn,bn]=g.Util.getAxialAlignedBoundingBox([0,0,hn,Cn],wn);this.ctx.fillRect(Tn,xn,Mn-Tn,bn-xn)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,g.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,g.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(kt,jt){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(kt)&&kt.length===6&&this.transform(...kt),this.baseTransform=(0,y.getCurrentTransform)(this.ctx),jt)){const _n=jt[2]-jt[0],wn=jt[3]-jt[1];this.ctx.rect(jt[0],jt[1],_n,wn),this.current.updateRectMinMax((0,y.getCurrentTransform)(this.ctx),jt),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(kt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const jt=this.ctx;kt.isolated||(0,g.info)("TODO: Support non-isolated groups."),kt.knockout&&(0,g.warn)("Knockout groups not supported.");const _n=(0,y.getCurrentTransform)(jt);if(kt.matrix&&jt.transform(...kt.matrix),!kt.bbox)throw new Error("Bounding box is required.");let wn=g.Util.getAxialAlignedBoundingBox(kt.bbox,(0,y.getCurrentTransform)(jt));const hn=[0,0,jt.canvas.width,jt.canvas.height];wn=g.Util.intersect(wn,hn)||[0,0,0,0];const Cn=Math.floor(wn[0]),Tn=Math.floor(wn[1]);let xn=Math.max(Math.ceil(wn[2])-Cn,1),Mn=Math.max(Math.ceil(wn[3])-Tn,1),bn=1,Pn=1;xn>j&&(bn=xn/j,xn=j),Mn>j&&(Pn=Mn/j,Mn=j),this.current.startNewPathAndClipBox([0,0,xn,Mn]);let Rn="groupAt"+this.groupLevel;kt.smask&&(Rn+="_smask_"+this.smaskCounter++%2);const Fn=this.cachedCanvases.getCanvas(Rn,xn,Mn),Dn=Fn.context;Dn.scale(1/bn,1/Pn),Dn.translate(-Cn,-Tn),Dn.transform(..._n),kt.smask?this.smaskStack.push({canvas:Fn.canvas,context:Dn,offsetX:Cn,offsetY:Tn,scaleX:bn,scaleY:Pn,subtype:kt.smask.subtype,backdrop:kt.smask.backdrop,transferMap:kt.smask.transferMap||null,startTransformInverse:null}):(jt.setTransform(1,0,0,1,0,0),jt.translate(Cn,Tn),jt.scale(bn,Pn),jt.save()),xe(jt,Dn),this.ctx=Dn,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(jt),this.groupLevel++}endGroup(kt){if(!this.contentVisible)return;this.groupLevel--;const jt=this.ctx,_n=this.groupStack.pop();if(this.ctx=_n,this.ctx.imageSmoothingEnabled=!1,kt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const wn=(0,y.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...wn);const hn=g.Util.getAxialAlignedBoundingBox([0,0,jt.canvas.width,jt.canvas.height],wn);this.ctx.drawImage(jt.canvas,0,0),this.ctx.restore(),this.compose(hn)}}beginAnnotation(kt,jt,_n,wn,hn){if(tr(this,Pt,La).call(this),Ie(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(jt)&&jt.length===4){const Cn=jt[2]-jt[0],Tn=jt[3]-jt[1];if(hn&&this.annotationCanvasMap){_n=_n.slice(),_n[4]-=jt[0],_n[5]-=jt[1],jt=jt.slice(),jt[0]=jt[1]=0,jt[2]=Cn,jt[3]=Tn;const[xn,Mn]=g.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(this.ctx)),{viewportScale:bn}=this,Pn=Math.ceil(Cn*this.outputScaleX*bn),Rn=Math.ceil(Tn*this.outputScaleY*bn);this.annotationCanvas=this.canvasFactory.create(Pn,Rn);const{canvas:Fn,context:Dn}=this.annotationCanvas;this.annotationCanvasMap.set(kt,Fn),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Dn,this.ctx.save(),this.ctx.setTransform(xn,0,0,-Mn,0,Tn*Mn),Ie(this.ctx)}else Ie(this.ctx),this.ctx.rect(jt[0],jt[1],Cn,Tn),this.ctx.clip(),this.endPath()}this.current=new pe(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(..._n),this.transform(...wn)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),tr(this,Pt,Ba).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(kt){if(!this.contentVisible)return;const jt=kt.count;kt=this.getObject(kt.data,kt),kt.count=jt;const _n=this.ctx,wn=this.processingType3;if(wn&&(wn.compiled===void 0&&(wn.compiled=he(kt)),wn.compiled)){wn.compiled(_n);return}const hn=this._createMaskCanvas(kt),Cn=hn.canvas;_n.save(),_n.setTransform(1,0,0,1,0,0),_n.drawImage(Cn,hn.offsetX,hn.offsetY),_n.restore(),this.compose()}paintImageMaskXObjectRepeat(kt,jt){let _n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,wn=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,hn=arguments.length>4?arguments[4]:void 0,Cn=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;kt=this.getObject(kt.data,kt);const Tn=this.ctx;Tn.save();const xn=(0,y.getCurrentTransform)(Tn);Tn.transform(jt,_n,wn,hn,0,0);const Mn=this._createMaskCanvas(kt);Tn.setTransform(1,0,0,1,Mn.offsetX-xn[4],Mn.offsetY-xn[5]);for(let bn=0,Pn=Cn.length;bn<Pn;bn+=2){const Rn=g.Util.transform(xn,[jt,_n,wn,hn,Cn[bn],Cn[bn+1]]),[Fn,Dn]=g.Util.applyTransform([0,0],Rn);Tn.drawImage(Mn.canvas,Fn,Dn)}Tn.restore(),this.compose()}paintImageMaskXObjectGroup(kt){if(!this.contentVisible)return;const jt=this.ctx,_n=this.current.fillColor,wn=this.current.patternFill;for(const hn of kt){const{data:Cn,width:Tn,height:xn,transform:Mn}=hn,bn=this.cachedCanvases.getCanvas("maskCanvas",Tn,xn),Pn=bn.context;Pn.save();const Rn=this.getObject(Cn,hn);Ce(Pn,Rn),Pn.globalCompositeOperation="source-in",Pn.fillStyle=wn?_n.getPattern(Pn,this,(0,y.getCurrentTransformInverse)(jt),$.PathType.FILL):_n,Pn.fillRect(0,0,Tn,xn),Pn.restore(),jt.save(),jt.transform(...Mn),jt.scale(1,-1),de(jt,bn.canvas,0,0,Tn,xn,0,-1,1,1),jt.restore()}this.compose()}paintImageXObject(kt){if(!this.contentVisible)return;const jt=this.getObject(kt);if(!jt){(0,g.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(jt)}paintImageXObjectRepeat(kt,jt,_n,wn){if(!this.contentVisible)return;const hn=this.getObject(kt);if(!hn){(0,g.warn)("Dependent image isn't ready yet");return}const Cn=hn.width,Tn=hn.height,xn=[];for(let Mn=0,bn=wn.length;Mn<bn;Mn+=2)xn.push({transform:[jt,0,0,_n,wn[Mn],wn[Mn+1]],x:0,y:0,w:Cn,h:Tn});this.paintInlineImageXObjectGroup(hn,xn)}applyTransferMapsToCanvas(kt){return this.current.transferMaps!=="none"&&(kt.filter=this.current.transferMaps,kt.drawImage(kt.canvas,0,0),kt.filter="none"),kt.canvas}applyTransferMapsToBitmap(kt){if(this.current.transferMaps==="none")return kt.bitmap;const{bitmap:jt,width:_n,height:wn}=kt,hn=this.cachedCanvases.getCanvas("inlineImage",_n,wn),Cn=hn.context;return Cn.filter=this.current.transferMaps,Cn.drawImage(jt,0,0),Cn.filter="none",hn.canvas}paintInlineImageXObject(kt){if(!this.contentVisible)return;const jt=kt.width,_n=kt.height,wn=this.ctx;if(this.save(),!g.isNodeJS){const{filter:Tn}=wn;Tn!=="none"&&Tn!==""&&(wn.filter="none")}wn.scale(1/jt,-1/_n);let hn;if(kt.bitmap)hn=this.applyTransferMapsToBitmap(kt);else if(typeof HTMLElement=="function"&&kt instanceof HTMLElement||!kt.data)hn=kt;else{const xn=this.cachedCanvases.getCanvas("inlineImage",jt,_n).context;_e(xn,kt),hn=this.applyTransferMapsToCanvas(xn)}const Cn=this._scaleImage(hn,(0,y.getCurrentTransformInverse)(wn));wn.imageSmoothingEnabled=ze((0,y.getCurrentTransform)(wn),kt.interpolate),de(wn,Cn.img,0,0,Cn.paintWidth,Cn.paintHeight,0,-_n,jt,_n),this.compose(),this.restore()}paintInlineImageXObjectGroup(kt,jt){if(!this.contentVisible)return;const _n=this.ctx;let wn;if(kt.bitmap)wn=kt.bitmap;else{const hn=kt.width,Cn=kt.height,xn=this.cachedCanvases.getCanvas("inlineImage",hn,Cn).context;_e(xn,kt),wn=this.applyTransferMapsToCanvas(xn)}for(const hn of jt)_n.save(),_n.transform(...hn.transform),_n.scale(1,-1),de(_n,wn,hn.x,hn.y,hn.w,hn.h,0,-1,1,1),_n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(kt){}markPointProps(kt,jt){}beginMarkedContent(kt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(kt,jt){kt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(jt)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(kt){const jt=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(kt);const _n=this.ctx;this.pendingClip&&(jt||(this.pendingClip===qe?_n.clip("evenodd"):_n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),_n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const kt=(0,y.getCurrentTransform)(this.ctx);if(kt[1]===0&&kt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(kt[0]),Math.abs(kt[3]));else{const jt=Math.abs(kt[0]*kt[3]-kt[2]*kt[1]),_n=Math.hypot(kt[0],kt[2]),wn=Math.hypot(kt[1],kt[3]);this._cachedGetSinglePixelWidth=Math.max(_n,wn)/jt}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:kt}=this.current,{a:jt,b:_n,c:wn,d:hn}=this.ctx.getTransform();let Cn,Tn;if(_n===0&&wn===0){const xn=Math.abs(jt),Mn=Math.abs(hn);if(xn===Mn)if(kt===0)Cn=Tn=1/xn;else{const bn=xn*kt;Cn=Tn=bn<1?1/bn:1}else if(kt===0)Cn=1/xn,Tn=1/Mn;else{const bn=xn*kt,Pn=Mn*kt;Cn=bn<1?1/bn:1,Tn=Pn<1?1/Pn:1}}else{const xn=Math.abs(jt*hn-_n*wn),Mn=Math.hypot(jt,_n),bn=Math.hypot(wn,hn);if(kt===0)Cn=bn/xn,Tn=Mn/xn;else{const Pn=kt*xn;Cn=bn>Pn?bn/Pn:1,Tn=Mn>Pn?Mn/Pn:1}}this._cachedScaleForStroking[0]=Cn,this._cachedScaleForStroking[1]=Tn}return this._cachedScaleForStroking}rescaleAndStroke(kt){const{ctx:jt}=this,{lineWidth:_n}=this.current,[wn,hn]=this.getScaleForStroking();if(jt.lineWidth=_n||1,wn===1&&hn===1){jt.stroke();return}const Cn=jt.getLineDash();if(kt&&jt.save(),jt.scale(wn,hn),Cn.length>0){const Tn=Math.max(wn,hn);jt.setLineDash(Cn.map(xn=>xn/Tn)),jt.lineDashOffset/=Tn}jt.stroke(),kt&&jt.restore()}isContentVisible(){for(let kt=this.markedContentStack.length-1;kt>=0;kt--)if(!this.markedContentStack[kt].visible)return!1;return!0}};Pt=new WeakSet,La=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Ba=function(){if(this.pageColors){const kt=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(kt!=="none"){const jt=this.ctx.filter;this.ctx.filter=kt,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=jt}}};let Lt=En;n.CanvasGraphics=Lt;for(const Sn in g.OPS)Lt.prototype[Sn]!==void 0&&(Lt.prototype[g.OPS[Sn]]=Lt.prototype[Sn])},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TilingPattern=n.PathType=void 0,n.getShadingPattern=ie,r(2);var g=r(1),y=r(168);const $={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};n.PathType=$;function L(he,pe){if(!pe)return;const _e=pe[2]-pe[0],Ce=pe[3]-pe[1],xe=new Path2D;xe.rect(pe[0],pe[1],_e,Ce),he.clip(xe)}class V{constructor(){this.constructor===V&&(0,g.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,g.unreachable)("Abstract method `getPattern` called.")}}class z extends V{constructor(pe){super(),this._type=pe[1],this._bbox=pe[2],this._colorStops=pe[3],this._p0=pe[4],this._p1=pe[5],this._r0=pe[6],this._r1=pe[7],this.matrix=null}_createGradient(pe){let _e;this._type==="axial"?_e=pe.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(_e=pe.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ce of this._colorStops)_e.addColorStop(Ce[0],Ce[1]);return _e}getPattern(pe,_e,Ce,xe){let Ie;if(xe===$.STROKE||xe===$.FILL){const $e=_e.current.getClippedPathBoundingBox(xe,(0,y.getCurrentTransform)(pe))||[0,0,0,0],Oe=Math.ceil($e[2]-$e[0])||1,Ne=Math.ceil($e[3]-$e[1])||1,Fe=_e.cachedCanvases.getCanvas("pattern",Oe,Ne,!0),Ve=Fe.context;Ve.clearRect(0,0,Ve.canvas.width,Ve.canvas.height),Ve.beginPath(),Ve.rect(0,0,Ve.canvas.width,Ve.canvas.height),Ve.translate(-$e[0],-$e[1]),Ce=g.Util.transform(Ce,[1,0,0,1,$e[0],$e[1]]),Ve.transform(..._e.baseTransform),this.matrix&&Ve.transform(...this.matrix),L(Ve,this._bbox),Ve.fillStyle=this._createGradient(Ve),Ve.fill(),Ie=pe.createPattern(Fe.canvas,"no-repeat");const ze=new DOMMatrix(Ce);Ie.setTransform(ze)}else L(pe,this._bbox),Ie=this._createGradient(pe);return Ie}}function j(he,pe,_e,Ce,xe,Ie,$e,Oe){const Ne=pe.coords,Fe=pe.colors,Ve=he.data,ze=he.width*4;let Et;Ne[_e+1]>Ne[Ce+1]&&(Et=_e,_e=Ce,Ce=Et,Et=Ie,Ie=$e,$e=Et),Ne[Ce+1]>Ne[xe+1]&&(Et=Ce,Ce=xe,xe=Et,Et=$e,$e=Oe,Oe=Et),Ne[_e+1]>Ne[Ce+1]&&(Et=_e,_e=Ce,Ce=Et,Et=Ie,Ie=$e,$e=Et);const Dt=(Ne[_e]+pe.offsetX)*pe.scaleX,Ue=(Ne[_e+1]+pe.offsetY)*pe.scaleY,qe=(Ne[Ce]+pe.offsetX)*pe.scaleX,Lt=(Ne[Ce+1]+pe.offsetY)*pe.scaleY,Pt=(Ne[xe]+pe.offsetX)*pe.scaleX,At=(Ne[xe+1]+pe.offsetY)*pe.scaleY;if(Ue>=At)return;const vn=Fe[Ie],En=Fe[Ie+1],Sn=Fe[Ie+2],kt=Fe[$e],jt=Fe[$e+1],_n=Fe[$e+2],wn=Fe[Oe],hn=Fe[Oe+1],Cn=Fe[Oe+2],Tn=Math.round(Ue),xn=Math.round(At);let Mn,bn,Pn,Rn,Fn,Dn,Ln,kn;for(let In=Tn;In<=xn;In++){if(In<Lt){const Wn=In<Ue?0:(Ue-In)/(Ue-Lt);Mn=Dt-(Dt-qe)*Wn,bn=vn-(vn-kt)*Wn,Pn=En-(En-jt)*Wn,Rn=Sn-(Sn-_n)*Wn}else{let Wn;In>At?Wn=1:Lt===At?Wn=0:Wn=(Lt-In)/(Lt-At),Mn=qe-(qe-Pt)*Wn,bn=kt-(kt-wn)*Wn,Pn=jt-(jt-hn)*Wn,Rn=_n-(_n-Cn)*Wn}let Vn;In<Ue?Vn=0:In>At?Vn=1:Vn=(Ue-In)/(Ue-At),Fn=Dt-(Dt-Pt)*Vn,Dn=vn-(vn-wn)*Vn,Ln=En-(En-hn)*Vn,kn=Sn-(Sn-Cn)*Vn;const zn=Math.round(Math.min(Mn,Fn)),Kn=Math.round(Math.max(Mn,Fn));let jn=ze*In+zn*4;for(let Wn=zn;Wn<=Kn;Wn++)Vn=(Mn-Wn)/(Mn-Fn),Vn<0?Vn=0:Vn>1&&(Vn=1),Ve[jn++]=bn-(bn-Dn)*Vn|0,Ve[jn++]=Pn-(Pn-Ln)*Vn|0,Ve[jn++]=Rn-(Rn-kn)*Vn|0,Ve[jn++]=255}}function re(he,pe,_e){const Ce=pe.coords,xe=pe.colors;let Ie,$e;switch(pe.type){case"lattice":const Oe=pe.verticesPerRow,Ne=Math.floor(Ce.length/Oe)-1,Fe=Oe-1;for(Ie=0;Ie<Ne;Ie++){let Ve=Ie*Oe;for(let ze=0;ze<Fe;ze++,Ve++)j(he,_e,Ce[Ve],Ce[Ve+1],Ce[Ve+Oe],xe[Ve],xe[Ve+1],xe[Ve+Oe]),j(he,_e,Ce[Ve+Oe+1],Ce[Ve+1],Ce[Ve+Oe],xe[Ve+Oe+1],xe[Ve+1],xe[Ve+Oe])}break;case"triangles":for(Ie=0,$e=Ce.length;Ie<$e;Ie+=3)j(he,_e,Ce[Ie],Ce[Ie+1],Ce[Ie+2],xe[Ie],xe[Ie+1],xe[Ie+2]);break;default:throw new Error("illegal figure")}}class ae extends V{constructor(pe){super(),this._coords=pe[2],this._colors=pe[3],this._figures=pe[4],this._bounds=pe[5],this._bbox=pe[7],this._background=pe[8],this.matrix=null}_createMeshCanvas(pe,_e,Ce){const Oe=Math.floor(this._bounds[0]),Ne=Math.floor(this._bounds[1]),Fe=Math.ceil(this._bounds[2])-Oe,Ve=Math.ceil(this._bounds[3])-Ne,ze=Math.min(Math.ceil(Math.abs(Fe*pe[0]*1.1)),3e3),Et=Math.min(Math.ceil(Math.abs(Ve*pe[1]*1.1)),3e3),Dt=Fe/ze,Ue=Ve/Et,qe={coords:this._coords,colors:this._colors,offsetX:-Oe,offsetY:-Ne,scaleX:1/Dt,scaleY:1/Ue},Lt=ze+2*2,Pt=Et+2*2,At=Ce.getCanvas("mesh",Lt,Pt,!1),vn=At.context,En=vn.createImageData(ze,Et);if(_e){const kt=En.data;for(let jt=0,_n=kt.length;jt<_n;jt+=4)kt[jt]=_e[0],kt[jt+1]=_e[1],kt[jt+2]=_e[2],kt[jt+3]=255}for(const kt of this._figures)re(En,kt,qe);return vn.putImageData(En,2,2),{canvas:At.canvas,offsetX:Oe-2*Dt,offsetY:Ne-2*Ue,scaleX:Dt,scaleY:Ue}}getPattern(pe,_e,Ce,xe){L(pe,this._bbox);let Ie;if(xe===$.SHADING)Ie=g.Util.singularValueDecompose2dScale((0,y.getCurrentTransform)(pe));else if(Ie=g.Util.singularValueDecompose2dScale(_e.baseTransform),this.matrix){const Oe=g.Util.singularValueDecompose2dScale(this.matrix);Ie=[Ie[0]*Oe[0],Ie[1]*Oe[1]]}const $e=this._createMeshCanvas(Ie,xe===$.SHADING?null:this._background,_e.cachedCanvases);return xe!==$.SHADING&&(pe.setTransform(..._e.baseTransform),this.matrix&&pe.transform(...this.matrix)),pe.translate($e.offsetX,$e.offsetY),pe.scale($e.scaleX,$e.scaleY),pe.createPattern($e.canvas,"no-repeat")}}class oe extends V{getPattern(){return"hotpink"}}function ie(he){switch(he[0]){case"RadialAxial":return new z(he);case"Mesh":return new ae(he);case"Dummy":return new oe}throw new Error(`Unknown IR type: ${he[0]}`)}const le={COLORED:1,UNCOLORED:2},de=class de{constructor(pe,_e,Ce,xe,Ie){this.operatorList=pe[2],this.matrix=pe[3]||[1,0,0,1,0,0],this.bbox=pe[4],this.xstep=pe[5],this.ystep=pe[6],this.paintType=pe[7],this.tilingType=pe[8],this.color=_e,this.ctx=Ce,this.canvasGraphicsFactory=xe,this.baseTransform=Ie}createPatternCanvas(pe){const _e=this.operatorList,Ce=this.bbox,xe=this.xstep,Ie=this.ystep,$e=this.paintType,Oe=this.tilingType,Ne=this.color,Fe=this.canvasGraphicsFactory;(0,g.info)("TilingType: "+Oe);const Ve=Ce[0],ze=Ce[1],Et=Ce[2],Dt=Ce[3],Ue=g.Util.singularValueDecompose2dScale(this.matrix),qe=g.Util.singularValueDecompose2dScale(this.baseTransform),Lt=[Ue[0]*qe[0],Ue[1]*qe[1]],Pt=this.getSizeAndScale(xe,this.ctx.canvas.width,Lt[0]),At=this.getSizeAndScale(Ie,this.ctx.canvas.height,Lt[1]),vn=pe.cachedCanvases.getCanvas("pattern",Pt.size,At.size,!0),En=vn.context,Sn=Fe.createCanvasGraphics(En);Sn.groupLevel=pe.groupLevel,this.setFillAndStrokeStyleToContext(Sn,$e,Ne);let kt=Ve,jt=ze,_n=Et,wn=Dt;return Ve<0&&(kt=0,_n+=Math.abs(Ve)),ze<0&&(jt=0,wn+=Math.abs(ze)),En.translate(-(Pt.scale*kt),-(At.scale*jt)),Sn.transform(Pt.scale,0,0,At.scale,0,0),En.save(),this.clipBbox(Sn,kt,jt,_n,wn),Sn.baseTransform=(0,y.getCurrentTransform)(Sn.ctx),Sn.executeOperatorList(_e),Sn.endDrawing(),{canvas:vn.canvas,scaleX:Pt.scale,scaleY:At.scale,offsetX:kt,offsetY:jt}}getSizeAndScale(pe,_e,Ce){pe=Math.abs(pe);const xe=Math.max(de.MAX_PATTERN_SIZE,_e);let Ie=Math.ceil(pe*Ce);return Ie>=xe?Ie=xe:Ce=Ie/pe,{scale:Ce,size:Ie}}clipBbox(pe,_e,Ce,xe,Ie){const $e=xe-_e,Oe=Ie-Ce;pe.ctx.rect(_e,Ce,$e,Oe),pe.current.updateRectMinMax((0,y.getCurrentTransform)(pe.ctx),[_e,Ce,xe,Ie]),pe.clip(),pe.endPath()}setFillAndStrokeStyleToContext(pe,_e,Ce){const xe=pe.ctx,Ie=pe.current;switch(_e){case le.COLORED:const $e=this.ctx;xe.fillStyle=$e.fillStyle,xe.strokeStyle=$e.strokeStyle,Ie.fillColor=$e.fillStyle,Ie.strokeColor=$e.strokeStyle;break;case le.UNCOLORED:const Oe=g.Util.makeHexColor(Ce[0],Ce[1],Ce[2]);xe.fillStyle=Oe,xe.strokeStyle=Oe,Ie.fillColor=Oe,Ie.strokeColor=Oe;break;default:throw new g.FormatError(`Unsupported paint type: ${_e}`)}}getPattern(pe,_e,Ce,xe){let Ie=Ce;xe!==$.SHADING&&(Ie=g.Util.transform(Ie,_e.baseTransform),this.matrix&&(Ie=g.Util.transform(Ie,this.matrix)));const $e=this.createPatternCanvas(_e);let Oe=new DOMMatrix(Ie);Oe=Oe.translate($e.offsetX,$e.offsetY),Oe=Oe.scale(1/$e.scaleX,1/$e.scaleY);const Ne=pe.createPattern($e.canvas,"repeat");return Ne.setTransform(Oe),Ne}};Dr(de,"MAX_PATTERN_SIZE",3e3);let ue=de;n.TilingPattern=ue},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.convertBlackAndWhiteToRGBA=$,n.convertToRGBA=y,n.grayToRGBA=V,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var g=r(1);function y(z){switch(z.kind){case g.ImageKind.GRAYSCALE_1BPP:return $(z);case g.ImageKind.RGB_24BPP:return L(z)}return null}function $(z){let{src:j,srcPos:re=0,dest:ae,width:oe,height:ie,nonBlackColor:le=4294967295,inverseDecode:ue=!1}=z;const de=g.FeatureTest.isLittleEndian?4278190080:255,[he,pe]=ue?[le,de]:[de,le],_e=oe>>3,Ce=oe&7,xe=j.length;ae=new Uint32Array(ae.buffer);let Ie=0;for(let $e=0;$e<ie;$e++){for(const Ne=re+_e;re<Ne;re++){const Fe=re<xe?j[re]:255;ae[Ie++]=Fe&128?pe:he,ae[Ie++]=Fe&64?pe:he,ae[Ie++]=Fe&32?pe:he,ae[Ie++]=Fe&16?pe:he,ae[Ie++]=Fe&8?pe:he,ae[Ie++]=Fe&4?pe:he,ae[Ie++]=Fe&2?pe:he,ae[Ie++]=Fe&1?pe:he}if(Ce===0)continue;const Oe=re<xe?j[re++]:255;for(let Ne=0;Ne<Ce;Ne++)ae[Ie++]=Oe&1<<7-Ne?pe:he}return{srcPos:re,destPos:Ie}}function L(z){let{src:j,srcPos:re=0,dest:ae,destPos:oe=0,width:ie,height:le}=z,ue=0;const de=j.length>>2,he=new Uint32Array(j.buffer,re,de);if(g.FeatureTest.isLittleEndian){for(;ue<de-2;ue+=3,oe+=4){const pe=he[ue],_e=he[ue+1],Ce=he[ue+2];ae[oe]=pe|4278190080,ae[oe+1]=pe>>>24|_e<<8|4278190080,ae[oe+2]=_e>>>16|Ce<<16|4278190080,ae[oe+3]=Ce>>>8|4278190080}for(let pe=ue*4,_e=j.length;pe<_e;pe+=3)ae[oe++]=j[pe]|j[pe+1]<<8|j[pe+2]<<16|4278190080}else{for(;ue<de-2;ue+=3,oe+=4){const pe=he[ue],_e=he[ue+1],Ce=he[ue+2];ae[oe]=pe|255,ae[oe+1]=pe<<24|_e>>>8|255,ae[oe+2]=_e<<16|Ce>>>16|255,ae[oe+3]=Ce<<8|255}for(let pe=ue*4,_e=j.length;pe<_e;pe+=3)ae[oe++]=j[pe]<<24|j[pe+1]<<16|j[pe+2]<<8|255}return{srcPos:re,destPos:oe}}function V(z,j){if(g.FeatureTest.isLittleEndian)for(let re=0,ae=z.length;re<ae;re++)j[re]=z[re]*65793|4278190080;else for(let re=0,ae=z.length;re<ae;re++)j[re]=z[re]*16843008|255}},(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.GlobalWorkerOptions=void 0;const r=Object.create(null);n.GlobalWorkerOptions=r,r.workerPort=null,r.workerSrc=""},(t,n,r)=>{var z,po,vo,da;Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0,r(2);var g=r(1);const y={DATA:1,ERROR:2},$={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function L(oe){switch(oe instanceof Error||typeof oe=="object"&&oe!==null||(0,g.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),oe.name){case"AbortException":return new g.AbortException(oe.message);case"MissingPDFException":return new g.MissingPDFException(oe.message);case"PasswordException":return new g.PasswordException(oe.message,oe.code);case"UnexpectedResponseException":return new g.UnexpectedResponseException(oe.message,oe.status);case"UnknownErrorException":return new g.UnknownErrorException(oe.message,oe.details);default:return new g.UnknownErrorException(oe.message,oe.toString())}}class V{constructor(ie,le,ue){rr(this,z);this.sourceName=ie,this.targetName=le,this.comObj=ue,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=de=>{const he=de.data;if(he.targetName!==this.sourceName)return;if(he.stream){tr(this,z,vo).call(this,he);return}if(he.callback){const _e=he.callbackId,Ce=this.callbackCapabilities[_e];if(!Ce)throw new Error(`Cannot resolve callback ${_e}`);if(delete this.callbackCapabilities[_e],he.callback===y.DATA)Ce.resolve(he.data);else if(he.callback===y.ERROR)Ce.reject(L(he.reason));else throw new Error("Unexpected callback case");return}const pe=this.actionHandler[he.action];if(!pe)throw new Error(`Unknown action from worker: ${he.action}`);if(he.callbackId){const _e=this.sourceName,Ce=he.sourceName;new Promise(function(xe){xe(pe(he.data))}).then(function(xe){ue.postMessage({sourceName:_e,targetName:Ce,callback:y.DATA,callbackId:he.callbackId,data:xe})},function(xe){ue.postMessage({sourceName:_e,targetName:Ce,callback:y.ERROR,callbackId:he.callbackId,reason:L(xe)})});return}if(he.streamId){tr(this,z,po).call(this,he);return}pe(he.data)},ue.addEventListener("message",this._onComObjOnMessage)}on(ie,le){const ue=this.actionHandler;if(ue[ie])throw new Error(`There is already an actionName called "${ie}"`);ue[ie]=le}send(ie,le,ue){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ie,data:le},ue)}sendWithPromise(ie,le,ue){const de=this.callbackId++,he=new g.PromiseCapability;this.callbackCapabilities[de]=he;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ie,callbackId:de,data:le},ue)}catch(pe){he.reject(pe)}return he.promise}sendWithStream(ie,le,ue,de){const he=this.streamId++,pe=this.sourceName,_e=this.targetName,Ce=this.comObj;return new ReadableStream({start:xe=>{const Ie=new g.PromiseCapability;return this.streamControllers[he]={controller:xe,startCall:Ie,pullCall:null,cancelCall:null,isClosed:!1},Ce.postMessage({sourceName:pe,targetName:_e,action:ie,streamId:he,data:le,desiredSize:xe.desiredSize},de),Ie.promise},pull:xe=>{const Ie=new g.PromiseCapability;return this.streamControllers[he].pullCall=Ie,Ce.postMessage({sourceName:pe,targetName:_e,stream:$.PULL,streamId:he,desiredSize:xe.desiredSize}),Ie.promise},cancel:xe=>{(0,g.assert)(xe instanceof Error,"cancel must have a valid reason");const Ie=new g.PromiseCapability;return this.streamControllers[he].cancelCall=Ie,this.streamControllers[he].isClosed=!0,Ce.postMessage({sourceName:pe,targetName:_e,stream:$.CANCEL,streamId:he,reason:L(xe)}),Ie.promise}},ue)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}z=new WeakSet,po=function(ie){const le=ie.streamId,ue=this.sourceName,de=ie.sourceName,he=this.comObj,pe=this,_e=this.actionHandler[ie.action],Ce={enqueue(xe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$e=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const Oe=this.desiredSize;this.desiredSize-=Ie,Oe>0&&this.desiredSize<=0&&(this.sinkCapability=new g.PromiseCapability,this.ready=this.sinkCapability.promise),he.postMessage({sourceName:ue,targetName:de,stream:$.ENQUEUE,streamId:le,chunk:xe},$e)},close(){this.isCancelled||(this.isCancelled=!0,he.postMessage({sourceName:ue,targetName:de,stream:$.CLOSE,streamId:le}),delete pe.streamSinks[le])},error(xe){(0,g.assert)(xe instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,he.postMessage({sourceName:ue,targetName:de,stream:$.ERROR,streamId:le,reason:L(xe)}))},sinkCapability:new g.PromiseCapability,onPull:null,onCancel:null,isCancelled:!1,desiredSize:ie.desiredSize,ready:null};Ce.sinkCapability.resolve(),Ce.ready=Ce.sinkCapability.promise,this.streamSinks[le]=Ce,new Promise(function(xe){xe(_e(ie.data,Ce))}).then(function(){he.postMessage({sourceName:ue,targetName:de,stream:$.START_COMPLETE,streamId:le,success:!0})},function(xe){he.postMessage({sourceName:ue,targetName:de,stream:$.START_COMPLETE,streamId:le,reason:L(xe)})})},vo=function(ie){const le=ie.streamId,ue=this.sourceName,de=ie.sourceName,he=this.comObj,pe=this.streamControllers[le],_e=this.streamSinks[le];switch(ie.stream){case $.START_COMPLETE:ie.success?pe.startCall.resolve():pe.startCall.reject(L(ie.reason));break;case $.PULL_COMPLETE:ie.success?pe.pullCall.resolve():pe.pullCall.reject(L(ie.reason));break;case $.PULL:if(!_e){he.postMessage({sourceName:ue,targetName:de,stream:$.PULL_COMPLETE,streamId:le,success:!0});break}_e.desiredSize<=0&&ie.desiredSize>0&&_e.sinkCapability.resolve(),_e.desiredSize=ie.desiredSize,new Promise(function(Ce){var xe;Ce((xe=_e.onPull)==null?void 0:xe.call(_e))}).then(function(){he.postMessage({sourceName:ue,targetName:de,stream:$.PULL_COMPLETE,streamId:le,success:!0})},function(Ce){he.postMessage({sourceName:ue,targetName:de,stream:$.PULL_COMPLETE,streamId:le,reason:L(Ce)})});break;case $.ENQUEUE:if((0,g.assert)(pe,"enqueue should have stream controller"),pe.isClosed)break;pe.controller.enqueue(ie.chunk);break;case $.CLOSE:if((0,g.assert)(pe,"close should have stream controller"),pe.isClosed)break;pe.isClosed=!0,pe.controller.close(),tr(this,z,da).call(this,pe,le);break;case $.ERROR:(0,g.assert)(pe,"error should have stream controller"),pe.controller.error(L(ie.reason)),tr(this,z,da).call(this,pe,le);break;case $.CANCEL_COMPLETE:ie.success?pe.cancelCall.resolve():pe.cancelCall.reject(L(ie.reason)),tr(this,z,da).call(this,pe,le);break;case $.CANCEL:if(!_e)break;new Promise(function(Ce){var xe;Ce((xe=_e.onCancel)==null?void 0:xe.call(_e,L(ie.reason)))}).then(function(){he.postMessage({sourceName:ue,targetName:de,stream:$.CANCEL_COMPLETE,streamId:le,success:!0})},function(Ce){he.postMessage({sourceName:ue,targetName:de,stream:$.CANCEL_COMPLETE,streamId:le,reason:L(Ce)})}),_e.sinkCapability.reject(L(ie.reason)),_e.isCancelled=!0,delete this.streamSinks[le];break;default:throw new Error("Unexpected stream case")}},da=async function(ie,le){var ue,de,he;await Promise.allSettled([(ue=ie.startCall)==null?void 0:ue.promise,(de=ie.pullCall)==null?void 0:de.promise,(he=ie.cancelCall)==null?void 0:he.promise]),delete this.streamControllers[le]},n.MessageHandler=V},(t,n,r)=>{var $,L;Object.defineProperty(n,"__esModule",{value:!0}),n.Metadata=void 0;var g=r(1);class y{constructor(z){rr(this,$);rr(this,L);let{parsedData:j,rawData:re}=z;ar(this,$,j),ar(this,L,re)}getRaw(){return An(this,L)}get(z){return An(this,$).get(z)??null}getAll(){return(0,g.objectFromMap)(An(this,$))}has(z){return An(this,$).has(z)}}$=new WeakMap,L=new WeakMap,n.Metadata=y},(t,n,r)=>{var z,j,re,ae,oe,ie,Va;Object.defineProperty(n,"__esModule",{value:!0}),n.OptionalContentConfig=void 0;var g=r(1),y=r(170);const $=Symbol("INTERNAL");class L{constructor(de,he){rr(this,z,!0);this.name=de,this.intent=he}get visible(){return An(this,z)}_setVisible(de,he){de!==$&&(0,g.unreachable)("Internal method `_setVisible` called."),ar(this,z,he)}}z=new WeakMap;class V{constructor(de){rr(this,ie);rr(this,j,null);rr(this,re,new Map);rr(this,ae,null);rr(this,oe,null);if(this.name=null,this.creator=null,de!==null){this.name=de.name,this.creator=de.creator,ar(this,oe,de.order);for(const he of de.groups)An(this,re).set(he.id,new L(he.name,he.intent));if(de.baseState==="OFF")for(const he of An(this,re).values())he._setVisible($,!1);for(const he of de.on)An(this,re).get(he)._setVisible($,!0);for(const he of de.off)An(this,re).get(he)._setVisible($,!1);ar(this,ae,this.getHash())}}isVisible(de){if(An(this,re).size===0)return!0;if(!de)return(0,g.warn)("Optional content group not defined."),!0;if(de.type==="OCG")return An(this,re).has(de.id)?An(this,re).get(de.id).visible:((0,g.warn)(`Optional content group not found: ${de.id}`),!0);if(de.type==="OCMD"){if(de.expression)return tr(this,ie,Va).call(this,de.expression);if(!de.policy||de.policy==="AnyOn"){for(const he of de.ids){if(!An(this,re).has(he))return(0,g.warn)(`Optional content group not found: ${he}`),!0;if(An(this,re).get(he).visible)return!0}return!1}else if(de.policy==="AllOn"){for(const he of de.ids){if(!An(this,re).has(he))return(0,g.warn)(`Optional content group not found: ${he}`),!0;if(!An(this,re).get(he).visible)return!1}return!0}else if(de.policy==="AnyOff"){for(const he of de.ids){if(!An(this,re).has(he))return(0,g.warn)(`Optional content group not found: ${he}`),!0;if(!An(this,re).get(he).visible)return!0}return!1}else if(de.policy==="AllOff"){for(const he of de.ids){if(!An(this,re).has(he))return(0,g.warn)(`Optional content group not found: ${he}`),!0;if(An(this,re).get(he).visible)return!1}return!0}return(0,g.warn)(`Unknown optional content policy ${de.policy}.`),!0}return(0,g.warn)(`Unknown group type ${de.type}.`),!0}setVisibility(de){let he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!An(this,re).has(de)){(0,g.warn)(`Optional content group not found: ${de}`);return}An(this,re).get(de)._setVisible($,!!he),ar(this,j,null)}get hasInitialVisibility(){return An(this,ae)===null||this.getHash()===An(this,ae)}getOrder(){return An(this,re).size?An(this,oe)?An(this,oe).slice():[...An(this,re).keys()]:null}getGroups(){return An(this,re).size>0?(0,g.objectFromMap)(An(this,re)):null}getGroup(de){return An(this,re).get(de)||null}getHash(){if(An(this,j)!==null)return An(this,j);const de=new y.MurmurHash3_64;for(const[he,pe]of An(this,re))de.update(`${he}:${pe.visible}`);return ar(this,j,de.hexdigest())}}j=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakSet,Va=function(de){const he=de.length;if(he<2)return!0;const pe=de[0];for(let _e=1;_e<he;_e++){const Ce=de[_e];let xe;if(Array.isArray(Ce))xe=tr(this,ie,Va).call(this,Ce);else if(An(this,re).has(Ce))xe=An(this,re).get(Ce).visible;else return(0,g.warn)(`Optional content group not found: ${Ce}`),!0;switch(pe){case"And":if(!xe)return!1;break;case"Or":if(xe)return!0;break;case"Not":return!xe;default:return!0}}return pe==="And"},n.OptionalContentConfig=V},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFDataTransportStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var g=r(1),y=r(168);class ${constructor(j,re){let{length:ae,initialData:oe,progressiveDone:ie=!1,contentDispositionFilename:le=null,disableRange:ue=!1,disableStream:de=!1}=j;if((0,g.assert)(re,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ie,this._contentDispositionFilename=le,(oe==null?void 0:oe.length)>0){const he=oe instanceof Uint8Array&&oe.byteLength===oe.buffer.byteLength?oe.buffer:new Uint8Array(oe).buffer;this._queuedChunks.push(he)}this._pdfDataRangeTransport=re,this._isStreamingSupported=!de,this._isRangeSupported=!ue,this._contentLength=ae,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((he,pe)=>{this._onReceiveData({begin:he,chunk:pe})}),this._pdfDataRangeTransport.addProgressListener((he,pe)=>{this._onProgress({loaded:he,total:pe})}),this._pdfDataRangeTransport.addProgressiveReadListener(he=>{this._onReceiveData({chunk:he})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(j){let{begin:re,chunk:ae}=j;const oe=ae instanceof Uint8Array&&ae.byteLength===ae.buffer.byteLength?ae.buffer:new Uint8Array(ae).buffer;if(re===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(oe):this._queuedChunks.push(oe);else{const ie=this._rangeReaders.some(function(le){return le._begin!==re?!1:(le._enqueue(oe),!0)});(0,g.assert)(ie,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var j;return((j=this._fullRequestReader)==null?void 0:j._loaded)??0}_onProgress(j){var re,ae,oe,ie;j.total===void 0?(ae=(re=this._rangeReaders[0])==null?void 0:re.onProgress)==null||ae.call(re,{loaded:j.loaded}):(ie=(oe=this._fullRequestReader)==null?void 0:oe.onProgress)==null||ie.call(oe,{loaded:j.loaded,total:j.total})}_onProgressiveDone(){var j;(j=this._fullRequestReader)==null||j.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(j){const re=this._rangeReaders.indexOf(j);re>=0&&this._rangeReaders.splice(re,1)}getFullReader(){(0,g.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const j=this._queuedChunks;return this._queuedChunks=null,new L(this,j,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(j,re){if(re<=this._progressiveDataLength)return null;const ae=new V(this,j,re);return this._pdfDataRangeTransport.requestDataRange(j,re),this._rangeReaders.push(ae),ae}cancelAllRequests(j){var re;(re=this._fullRequestReader)==null||re.cancel(j);for(const ae of this._rangeReaders.slice(0))ae.cancel(j);this._pdfDataRangeTransport.abort()}}n.PDFDataTransportStream=$;class L{constructor(j,re){let ae=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;this._stream=j,this._done=ae||!1,this._filename=(0,y.isPdfFile)(oe)?oe:null,this._queuedChunks=re||[],this._loaded=0;for(const ie of this._queuedChunks)this._loaded+=ie.byteLength;this._requests=[],this._headersReady=Promise.resolve(),j._fullRequestReader=this,this.onProgress=null}_enqueue(j){this._done||(this._requests.length>0?this._requests.shift().resolve({value:j,done:!1}):this._queuedChunks.push(j),this._loaded+=j.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const j=new g.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class V{constructor(j,re,ae){this._stream=j,this._begin=re,this._end=ae,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(j){if(!this._done){if(this._requests.length===0)this._queuedChunk=j;else{this._requests.shift().resolve({value:j,done:!1});for(const ae of this._requests)ae.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const re=this._queuedChunk;return this._queuedChunk=null,{value:re,done:!1}}if(this._done)return{value:void 0,done:!0};const j=new g.PromiseCapability;return this._requests.push(j),j.promise}cancel(j){this._done=!0;for(const re of this._requests)re.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFFetchStream=void 0,r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(89);var g=r(1),y=r(182);function $(ae,oe,ie){return{method:"GET",headers:ae,signal:ie.signal,mode:"cors",credentials:oe?"include":"same-origin",redirect:"follow"}}function L(ae){const oe=new Headers;for(const ie in ae){const le=ae[ie];le!==void 0&&oe.append(ie,le)}return oe}function V(ae){return ae instanceof Uint8Array?ae.buffer:ae instanceof ArrayBuffer?ae:((0,g.warn)(`getArrayBuffer - unexpected data format: ${ae}`),new Uint8Array(ae).buffer)}class z{constructor(oe){this.source=oe,this.isHttp=/^https?:/i.test(oe.url),this.httpHeaders=this.isHttp&&oe.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var oe;return((oe=this._fullRequestReader)==null?void 0:oe._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new j(this),this._fullRequestReader}getRangeReader(oe,ie){if(ie<=this._progressiveDataLength)return null;const le=new re(this,oe,ie);return this._rangeRequestReaders.push(le),le}cancelAllRequests(oe){var ie;(ie=this._fullRequestReader)==null||ie.cancel(oe);for(const le of this._rangeRequestReaders.slice(0))le.cancel(oe)}}n.PDFFetchStream=z;class j{constructor(oe){this._stream=oe,this._reader=null,this._loaded=0,this._filename=null;const ie=oe.source;this._withCredentials=ie.withCredentials||!1,this._contentLength=ie.length,this._headersCapability=new g.PromiseCapability,this._disableRange=ie.disableRange||!1,this._rangeChunkSize=ie.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ie.disableStream,this._isRangeSupported=!ie.disableRange,this._headers=L(this._stream.httpHeaders);const le=ie.url;fetch(le,$(this._headers,this._withCredentials,this._abortController)).then(ue=>{if(!(0,y.validateResponseStatus)(ue.status))throw(0,y.createResponseStatusError)(ue.status,le);this._reader=ue.body.getReader(),this._headersCapability.resolve();const de=_e=>ue.headers.get(_e),{allowRangeRequests:he,suggestedLength:pe}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:de,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=he,this._contentLength=pe||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(de),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new g.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var le;await this._headersCapability.promise;const{value:oe,done:ie}=await this._reader.read();return ie?{value:oe,done:ie}:(this._loaded+=oe.byteLength,(le=this.onProgress)==null||le.call(this,{loaded:this._loaded,total:this._contentLength}),{value:V(oe),done:!1})}cancel(oe){var ie;(ie=this._reader)==null||ie.cancel(oe),this._abortController.abort()}}class re{constructor(oe,ie,le){this._stream=oe,this._reader=null,this._loaded=0;const ue=oe.source;this._withCredentials=ue.withCredentials||!1,this._readCapability=new g.PromiseCapability,this._isStreamingSupported=!ue.disableStream,this._abortController=new AbortController,this._headers=L(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ie}-${le-1}`);const de=ue.url;fetch(de,$(this._headers,this._withCredentials,this._abortController)).then(he=>{if(!(0,y.validateResponseStatus)(he.status))throw(0,y.createResponseStatusError)(he.status,de);this._readCapability.resolve(),this._reader=he.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var le;await this._readCapability.promise;const{value:oe,done:ie}=await this._reader.read();return ie?{value:oe,done:ie}:(this._loaded+=oe.byteLength,(le=this.onProgress)==null||le.call(this,{loaded:this._loaded}),{value:V(oe),done:!1})}cancel(oe){var ie;(ie=this._reader)==null||ie.cancel(oe),this._abortController.abort()}}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.createResponseStatusError=z,n.extractFilenameFromHeader=V,n.validateRangeRequestCapabilities=L,n.validateResponseStatus=j;var g=r(1),y=r(183),$=r(168);function L(re){let{getResponseHeader:ae,isHttp:oe,rangeChunkSize:ie,disableRange:le}=re;const ue={allowRangeRequests:!1,suggestedLength:void 0},de=parseInt(ae("Content-Length"),10);return!Number.isInteger(de)||(ue.suggestedLength=de,de<=2*ie)||le||!oe||ae("Accept-Ranges")!=="bytes"||(ae("Content-Encoding")||"identity")!=="identity"||(ue.allowRangeRequests=!0),ue}function V(re){const ae=re("Content-Disposition");if(ae){let oe=(0,y.getFilenameFromContentDispositionHeader)(ae);if(oe.includes("%"))try{oe=decodeURIComponent(oe)}catch{}if((0,$.isPdfFile)(oe))return oe}return null}function z(re,ae){return re===404||re===0&&ae.startsWith("file:")?new g.MissingPDFException('Missing PDF "'+ae+'".'):new g.UnexpectedResponseException(`Unexpected server response (${re}) while retrieving PDF "${ae}".`,re)}function j(re){return re===200||re===206}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.getFilenameFromContentDispositionHeader=y,r(89),r(149);var g=r(1);function y($){let L=!0,V=z("filename\\*","i").exec($);if(V){V=V[1];let ue=oe(V);return ue=unescape(ue),ue=ie(ue),ue=le(ue),re(ue)}if(V=ae($),V){const ue=le(V);return re(ue)}if(V=z("filename","i").exec($),V){V=V[1];let ue=oe(V);return ue=le(ue),re(ue)}function z(ue,de){return new RegExp("(?:^|;)\\s*"+ue+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',de)}function j(ue,de){if(ue){if(!/^[\x00-\xFF]+$/.test(de))return de;try{const he=new TextDecoder(ue,{fatal:!0}),pe=(0,g.stringToBytes)(de);de=he.decode(pe),L=!1}catch{}}return de}function re(ue){return L&&/[\x80-\xff]/.test(ue)&&(ue=j("utf-8",ue),L&&(ue=j("iso-8859-1",ue))),ue}function ae(ue){const de=[];let he;const pe=z("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(he=pe.exec(ue))!==null;){let[,Ce,xe,Ie]=he;if(Ce=parseInt(Ce,10),Ce in de){if(Ce===0)break;continue}de[Ce]=[xe,Ie]}const _e=[];for(let Ce=0;Ce<de.length&&Ce in de;++Ce){let[xe,Ie]=de[Ce];Ie=oe(Ie),xe&&(Ie=unescape(Ie),Ce===0&&(Ie=ie(Ie))),_e.push(Ie)}return _e.join("")}function oe(ue){if(ue.startsWith('"')){const de=ue.slice(1).split('\\"');for(let he=0;he<de.length;++he){const pe=de[he].indexOf('"');pe!==-1&&(de[he]=de[he].slice(0,pe),de.length=he+1),de[he]=de[he].replaceAll(/\\(.)/g,"$1")}ue=de.join('"')}return ue}function ie(ue){const de=ue.indexOf("'");if(de===-1)return ue;const he=ue.slice(0,de),_e=ue.slice(de+1).replace(/^[^']*'/,"");return j(he,_e)}function le(ue){return!ue.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(ue)?ue:ue.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(de,he,pe,_e){if(pe==="q"||pe==="Q")return _e=_e.replaceAll("_"," "),_e=_e.replaceAll(/=([0-9a-fA-F]{2})/g,function(Ce,xe){return String.fromCharCode(parseInt(xe,16))}),j(he,_e);try{_e=atob(_e)}catch{}return j(he,_e)})}return""}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNetworkStream=void 0,r(89);var g=r(1),y=r(182);const $=200,L=206;function V(oe){const ie=oe.response;return typeof ie!="string"?ie:(0,g.stringToBytes)(ie).buffer}class z{constructor(ie){let le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.url=ie,this.isHttp=/^https?:/i.test(ie),this.httpHeaders=this.isHttp&&le.httpHeaders||Object.create(null),this.withCredentials=le.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(ie,le,ue){const de={begin:ie,end:le};for(const he in ue)de[he]=ue[he];return this.request(de)}requestFull(ie){return this.request(ie)}request(ie){const le=new XMLHttpRequest,ue=this.currXhrId++,de=this.pendingRequests[ue]={xhr:le};le.open("GET",this.url),le.withCredentials=this.withCredentials;for(const he in this.httpHeaders){const pe=this.httpHeaders[he];pe!==void 0&&le.setRequestHeader(he,pe)}return this.isHttp&&"begin"in ie&&"end"in ie?(le.setRequestHeader("Range",`bytes=${ie.begin}-${ie.end-1}`),de.expectedStatus=L):de.expectedStatus=$,le.responseType="arraybuffer",ie.onError&&(le.onerror=function(he){ie.onError(le.status)}),le.onreadystatechange=this.onStateChange.bind(this,ue),le.onprogress=this.onProgress.bind(this,ue),de.onHeadersReceived=ie.onHeadersReceived,de.onDone=ie.onDone,de.onError=ie.onError,de.onProgress=ie.onProgress,le.send(null),ue}onProgress(ie,le){var de;const ue=this.pendingRequests[ie];ue&&((de=ue.onProgress)==null||de.call(ue,le))}onStateChange(ie,le){var Ce,xe,Ie;const ue=this.pendingRequests[ie];if(!ue)return;const de=ue.xhr;if(de.readyState>=2&&ue.onHeadersReceived&&(ue.onHeadersReceived(),delete ue.onHeadersReceived),de.readyState!==4||!(ie in this.pendingRequests))return;if(delete this.pendingRequests[ie],de.status===0&&this.isHttp){(Ce=ue.onError)==null||Ce.call(ue,de.status);return}const he=de.status||$;if(!(he===$&&ue.expectedStatus===L)&&he!==ue.expectedStatus){(xe=ue.onError)==null||xe.call(ue,de.status);return}const _e=V(de);if(he===L){const $e=de.getResponseHeader("Content-Range"),Oe=/bytes (\d+)-(\d+)\/(\d+)/.exec($e);ue.onDone({begin:parseInt(Oe[1],10),chunk:_e})}else _e?ue.onDone({begin:0,chunk:_e}):(Ie=ue.onError)==null||Ie.call(ue,de.status)}getRequestXhr(ie){return this.pendingRequests[ie].xhr}isPendingRequest(ie){return ie in this.pendingRequests}abortRequest(ie){const le=this.pendingRequests[ie].xhr;delete this.pendingRequests[ie],le.abort()}}class j{constructor(ie){this._source=ie,this._manager=new z(ie.url,{httpHeaders:ie.httpHeaders,withCredentials:ie.withCredentials}),this._rangeChunkSize=ie.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(ie){const le=this._rangeRequestReaders.indexOf(ie);le>=0&&this._rangeRequestReaders.splice(le,1)}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new re(this._manager,this._source),this._fullRequestReader}getRangeReader(ie,le){const ue=new ae(this._manager,ie,le);return ue.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(ue),ue}cancelAllRequests(ie){var le;(le=this._fullRequestReader)==null||le.cancel(ie);for(const ue of this._rangeRequestReaders.slice(0))ue.cancel(ie)}}n.PDFNetworkStream=j;class re{constructor(ie,le){this._manager=ie;const ue={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=le.url,this._fullRequestId=ie.requestFull(ue),this._headersReceivedCapability=new g.PromiseCapability,this._disableRange=le.disableRange||!1,this._contentLength=le.length,this._rangeChunkSize=le.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const ie=this._fullRequestId,le=this._manager.getRequestXhr(ie),ue=pe=>le.getResponseHeader(pe),{allowRangeRequests:de,suggestedLength:he}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});de&&(this._isRangeSupported=!0),this._contentLength=he||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(ue),this._isRangeSupported&&this._manager.abortRequest(ie),this._headersReceivedCapability.resolve()}_onDone(ie){if(ie&&(this._requests.length>0?this._requests.shift().resolve({value:ie.chunk,done:!1}):this._cachedChunks.push(ie.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const le of this._requests)le.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(ie){this._storedError=(0,y.createResponseStatusError)(ie,this._url),this._headersReceivedCapability.reject(this._storedError);for(const le of this._requests)le.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(ie){var le;(le=this.onProgress)==null||le.call(this,{loaded:ie.loaded,total:ie.lengthComputable?ie.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ie=new g.PromiseCapability;return this._requests.push(ie),ie.promise}cancel(ie){this._done=!0,this._headersReceivedCapability.reject(ie);for(const le of this._requests)le.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ae{constructor(ie,le,ue){this._manager=ie;const de={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=ie.url,this._requestId=ie.requestRange(le,ue,de),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var ie;(ie=this.onClosed)==null||ie.call(this,this)}_onDone(ie){const le=ie.chunk;this._requests.length>0?this._requests.shift().resolve({value:le,done:!1}):this._queuedChunk=le,this._done=!0;for(const ue of this._requests)ue.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(ie){this._storedError=(0,y.createResponseStatusError)(ie,this._url);for(const le of this._requests)le.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(ie){var le;this.isStreamingSupported||(le=this.onProgress)==null||le.call(this,{loaded:ie.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const le=this._queuedChunk;return this._queuedChunk=null,{value:le,done:!1}}if(this._done)return{value:void 0,done:!0};const ie=new g.PromiseCapability;return this._requests.push(ie),ie.promise}cancel(ie){this._done=!0;for(const le of this._requests)le.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.PDFNodeStream=void 0,r(89),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123);var g=r(1),y=r(182);const $=/^file:\/\/\/[a-zA-Z]:\//;function L(ue){const de=require$$6,he=de.parse(ue);return he.protocol==="file:"||he.host?he:/^[a-z]:[/\\]/i.test(ue)?de.parse(`file:///${ue}`):(he.host||(he.protocol="file:"),he)}class V{constructor(de){this.source=de,this.url=L(de.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&de.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var de;return((de=this._fullRequestReader)==null?void 0:de._loaded)??0}getFullReader(){return(0,g.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ie(this):new ae(this),this._fullRequestReader}getRangeReader(de,he){if(he<=this._progressiveDataLength)return null;const pe=this.isFsUrl?new le(this,de,he):new oe(this,de,he);return this._rangeRequestReaders.push(pe),pe}cancelAllRequests(de){var he;(he=this._fullRequestReader)==null||he.cancel(de);for(const pe of this._rangeRequestReaders.slice(0))pe.cancel(de)}}n.PDFNodeStream=V;class z{constructor(de){this._url=de.url,this._done=!1,this._storedError=null,this.onProgress=null;const he=de.source;this._contentLength=he.length,this._loaded=0,this._filename=null,this._disableRange=he.disableRange||!1,this._rangeChunkSize=he.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!he.disableStream,this._isRangeSupported=!he.disableRange,this._readableStream=null,this._readCapability=new g.PromiseCapability,this._headersCapability=new g.PromiseCapability}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const de=this._readableStream.read();return de===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=de.length,(pe=this.onProgress)==null||pe.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){if(!this._readableStream){this._error(de);return}this._readableStream.destroy(de)}_error(de){this._storedError=de,this._readCapability.resolve()}_setReadableStream(de){this._readableStream=de,de.on("readable",()=>{this._readCapability.resolve()}),de.on("end",()=>{de.destroy(),this._done=!0,this._readCapability.resolve()}),de.on("error",he=>{this._error(he)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new g.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class j{constructor(de){this._url=de.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=new g.PromiseCapability;const he=de.source;this._isStreamingSupported=!he.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var pe;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const de=this._readableStream.read();return de===null?(this._readCapability=new g.PromiseCapability,this.read()):(this._loaded+=de.length,(pe=this.onProgress)==null||pe.call(this,{loaded:this._loaded}),{value:new Uint8Array(de).buffer,done:!1})}cancel(de){if(!this._readableStream){this._error(de);return}this._readableStream.destroy(de)}_error(de){this._storedError=de,this._readCapability.resolve()}_setReadableStream(de){this._readableStream=de,de.on("readable",()=>{this._readCapability.resolve()}),de.on("end",()=>{de.destroy(),this._done=!0,this._readCapability.resolve()}),de.on("error",he=>{this._error(he)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function re(ue,de){return{protocol:ue.protocol,auth:ue.auth,host:ue.hostname,port:ue.port,path:ue.path,method:"GET",headers:de}}class ae extends z{constructor(de){super(de);const he=pe=>{if(pe.statusCode===404){const Ie=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ie,this._headersCapability.reject(Ie);return}this._headersCapability.resolve(),this._setReadableStream(pe);const _e=Ie=>this._readableStream.headers[Ie.toLowerCase()],{allowRangeRequests:Ce,suggestedLength:xe}=(0,y.validateRangeRequestCapabilities)({getResponseHeader:_e,isHttp:de.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Ce,this._contentLength=xe||this._contentLength,this._filename=(0,y.extractFilenameFromHeader)(_e)};if(this._request=null,this._url.protocol==="http:"){const pe=require$$6;this._request=pe.request(re(this._url,de.httpHeaders),he)}else{const pe=require$$6;this._request=pe.request(re(this._url,de.httpHeaders),he)}this._request.on("error",pe=>{this._storedError=pe,this._headersCapability.reject(pe)}),this._request.end()}}class oe extends j{constructor(de,he,pe){super(de),this._httpHeaders={};for(const Ce in de.httpHeaders){const xe=de.httpHeaders[Ce];xe!==void 0&&(this._httpHeaders[Ce]=xe)}this._httpHeaders.Range=`bytes=${he}-${pe-1}`;const _e=Ce=>{if(Ce.statusCode===404){const xe=new g.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=xe;return}this._setReadableStream(Ce)};if(this._request=null,this._url.protocol==="http:"){const Ce=require$$6;this._request=Ce.request(re(this._url,this._httpHeaders),_e)}else{const Ce=require$$6;this._request=Ce.request(re(this._url,this._httpHeaders),_e)}this._request.on("error",Ce=>{this._storedError=Ce}),this._request.end()}}class ie extends z{constructor(de){super(de);let he=decodeURIComponent(this._url.path);$.test(this._url.href)&&(he=he.replace(/^\//,""));const pe=require$$6;pe.lstat(he,(_e,Ce)=>{if(_e){_e.code==="ENOENT"&&(_e=new g.MissingPDFException(`Missing PDF "${he}".`)),this._storedError=_e,this._headersCapability.reject(_e);return}this._contentLength=Ce.size,this._setReadableStream(pe.createReadStream(he)),this._headersCapability.resolve()})}}class le extends j{constructor(de,he,pe){super(de);let _e=decodeURIComponent(this._url.path);$.test(this._url.href)&&(_e=_e.replace(/^\//,""));const Ce=require$$6;this._setReadableStream(Ce.createReadStream(_e,{start:he,end:pe-1}))}}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.SVGGraphics=void 0,r(84),r(86),r(87),r(93),r(101),r(102),r(105),r(107),r(109),r(113),r(116),r(123),r(2),r(89),r(187);var g=r(168),y=r(1);const $={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},L="http://www.w3.org/XML/1998/namespace",V="http://www.w3.org/1999/xlink",z=["butt","round","square"],j=["miter","round","bevel"],re=function(Ce){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(URL.createObjectURL&&typeof Blob<"u"&&!Ie)return URL.createObjectURL(new Blob([Ce],{type:xe}));const $e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Oe=`data:${xe};base64,`;for(let Ne=0,Fe=Ce.length;Ne<Fe;Ne+=3){const Ve=Ce[Ne]&255,ze=Ce[Ne+1]&255,Et=Ce[Ne+2]&255,Dt=Ve>>2,Ue=(Ve&3)<<4|ze>>4,qe=Ne+1<Fe?(ze&15)<<2|Et>>6:64,Lt=Ne+2<Fe?Et&63:64;Oe+=$e[Dt]+$e[Ue]+$e[qe]+$e[Lt]}return Oe},ae=function(){const Ce=new Uint8Array([137,80,78,71,13,10,26,10]),xe=12,Ie=new Int32Array(256);for(let Et=0;Et<256;Et++){let Dt=Et;for(let Ue=0;Ue<8;Ue++)Dt=Dt&1?3988292384^Dt>>1&2147483647:Dt>>1&2147483647;Ie[Et]=Dt}function $e(Et,Dt,Ue){let qe=-1;for(let Lt=Dt;Lt<Ue;Lt++){const Pt=(qe^Et[Lt])&255,At=Ie[Pt];qe=qe>>>8^At}return qe^-1}function Oe(Et,Dt,Ue,qe){let Lt=qe;const Pt=Dt.length;Ue[Lt]=Pt>>24&255,Ue[Lt+1]=Pt>>16&255,Ue[Lt+2]=Pt>>8&255,Ue[Lt+3]=Pt&255,Lt+=4,Ue[Lt]=Et.charCodeAt(0)&255,Ue[Lt+1]=Et.charCodeAt(1)&255,Ue[Lt+2]=Et.charCodeAt(2)&255,Ue[Lt+3]=Et.charCodeAt(3)&255,Lt+=4,Ue.set(Dt,Lt),Lt+=Dt.length;const At=$e(Ue,qe+4,Lt);Ue[Lt]=At>>24&255,Ue[Lt+1]=At>>16&255,Ue[Lt+2]=At>>8&255,Ue[Lt+3]=At&255}function Ne(Et,Dt,Ue){let qe=1,Lt=0;for(let Pt=Dt;Pt<Ue;++Pt)qe=(qe+(Et[Pt]&255))%65521,Lt=(Lt+qe)%65521;return Lt<<16|qe}function Fe(Et){if(!y.isNodeJS)return Ve(Et);try{const Dt=parseInt(process.versions.node)>=8?Et:Buffer.from(Et),Ue=require$$6.deflateSync(Dt,{level:9});return Ue instanceof Uint8Array?Ue:new Uint8Array(Ue)}catch(Dt){(0,y.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Dt)}return Ve(Et)}function Ve(Et){let Dt=Et.length;const Ue=65535,qe=Math.ceil(Dt/Ue),Lt=new Uint8Array(2+Dt+qe*5+4);let Pt=0;Lt[Pt++]=120,Lt[Pt++]=156;let At=0;for(;Dt>Ue;)Lt[Pt++]=0,Lt[Pt++]=255,Lt[Pt++]=255,Lt[Pt++]=0,Lt[Pt++]=0,Lt.set(Et.subarray(At,At+Ue),Pt),Pt+=Ue,At+=Ue,Dt-=Ue;Lt[Pt++]=1,Lt[Pt++]=Dt&255,Lt[Pt++]=Dt>>8&255,Lt[Pt++]=~Dt&65535&255,Lt[Pt++]=(~Dt&65535)>>8&255,Lt.set(Et.subarray(At),Pt),Pt+=Et.length-At;const vn=Ne(Et,0,Et.length);return Lt[Pt++]=vn>>24&255,Lt[Pt++]=vn>>16&255,Lt[Pt++]=vn>>8&255,Lt[Pt++]=vn&255,Lt}function ze(Et,Dt,Ue,qe){const Lt=Et.width,Pt=Et.height;let At,vn,En;const Sn=Et.data;switch(Dt){case y.ImageKind.GRAYSCALE_1BPP:vn=0,At=1,En=Lt+7>>3;break;case y.ImageKind.RGB_24BPP:vn=2,At=8,En=Lt*3;break;case y.ImageKind.RGBA_32BPP:vn=6,At=8,En=Lt*4;break;default:throw new Error("invalid format")}const kt=new Uint8Array((1+En)*Pt);let jt=0,_n=0;for(let Mn=0;Mn<Pt;++Mn)kt[jt++]=0,kt.set(Sn.subarray(_n,_n+En),jt),_n+=En,jt+=En;if(Dt===y.ImageKind.GRAYSCALE_1BPP&&qe){jt=0;for(let Mn=0;Mn<Pt;Mn++){jt++;for(let bn=0;bn<En;bn++)kt[jt++]^=255}}const wn=new Uint8Array([Lt>>24&255,Lt>>16&255,Lt>>8&255,Lt&255,Pt>>24&255,Pt>>16&255,Pt>>8&255,Pt&255,At,vn,0,0,0]),hn=Fe(kt),Cn=Ce.length+xe*3+wn.length+hn.length,Tn=new Uint8Array(Cn);let xn=0;return Tn.set(Ce,xn),xn+=Ce.length,Oe("IHDR",wn,Tn,xn),xn+=xe+wn.length,Oe("IDATA",hn,Tn,xn),xn+=xe+hn.length,Oe("IEND",new Uint8Array(0),Tn,xn),re(Tn,"image/png",Ue)}return function(Dt,Ue,qe){const Lt=Dt.kind===void 0?y.ImageKind.GRAYSCALE_1BPP:Dt.kind;return ze(Dt,Lt,Ue,qe)}}();class oe{constructor(){this.fontSizeScale=1,this.fontWeight=$.fontWeight,this.fontSize=0,this.textMatrix=y.IDENTITY_MATRIX,this.fontMatrix=y.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=y.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=$.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(xe,Ie){this.x=xe,this.y=Ie}}function ie(Ce){let xe=[];const Ie=[];for(const $e of Ce){if($e.fn==="save"){xe.push({fnId:92,fn:"group",items:[]}),Ie.push(xe),xe=xe.at(-1).items;continue}$e.fn==="restore"?xe=Ie.pop():xe.push($e)}return xe}function le(Ce){if(Number.isInteger(Ce))return Ce.toString();const xe=Ce.toFixed(10);let Ie=xe.length-1;if(xe[Ie]!=="0")return xe;do Ie--;while(xe[Ie]==="0");return xe.substring(0,xe[Ie]==="."?Ie:Ie+1)}function ue(Ce){if(Ce[4]===0&&Ce[5]===0){if(Ce[1]===0&&Ce[2]===0)return Ce[0]===1&&Ce[3]===1?"":`scale(${le(Ce[0])} ${le(Ce[3])})`;if(Ce[0]===Ce[3]&&Ce[1]===-Ce[2]){const xe=Math.acos(Ce[0])*180/Math.PI;return`rotate(${le(xe)})`}}else if(Ce[0]===1&&Ce[1]===0&&Ce[2]===0&&Ce[3]===1)return`translate(${le(Ce[4])} ${le(Ce[5])})`;return`matrix(${le(Ce[0])} ${le(Ce[1])} ${le(Ce[2])} ${le(Ce[3])} ${le(Ce[4])} ${le(Ce[5])})`}let de=0,he=0,pe=0;class _e{constructor(xe,Ie){let $e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,g.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new g.DOMSVGFactory,this.current=new oe,this.transformMatrix=y.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=xe,this.objs=Ie,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!$e,this._operatorIdMapping=[];for(const Oe in y.OPS)this._operatorIdMapping[y.OPS[Oe]]=Oe}getObject(xe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return typeof xe=="string"?xe.startsWith("g_")?this.commonObjs.get(xe):this.objs.get(xe):Ie}save(){this.transformStack.push(this.transformMatrix);const xe=this.current;this.extraStack.push(xe),this.current=xe.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(xe){this.save(),this.executeOpTree(xe),this.restore()}loadDependencies(xe){const Ie=xe.fnArray,$e=xe.argsArray;for(let Oe=0,Ne=Ie.length;Oe<Ne;Oe++)if(Ie[Oe]===y.OPS.dependency)for(const Fe of $e[Oe]){const Ve=Fe.startsWith("g_")?this.commonObjs:this.objs,ze=new Promise(Et=>{Ve.get(Fe,Et)});this.current.dependencies.push(ze)}return Promise.all(this.current.dependencies)}transform(xe,Ie,$e,Oe,Ne,Fe){const Ve=[xe,Ie,$e,Oe,Ne,Fe];this.transformMatrix=y.Util.transform(this.transformMatrix,Ve),this.tgrp=null}getSVG(xe,Ie){this.viewport=Ie;const $e=this._initialize(Ie);return this.loadDependencies(xe).then(()=>(this.transformMatrix=y.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(xe)),$e))}convertOpList(xe){const Ie=this._operatorIdMapping,$e=xe.argsArray,Oe=xe.fnArray,Ne=[];for(let Fe=0,Ve=Oe.length;Fe<Ve;Fe++){const ze=Oe[Fe];Ne.push({fnId:ze,fn:Ie[ze],args:$e[Fe]})}return ie(Ne)}executeOpTree(xe){for(const Ie of xe){const $e=Ie.fn,Oe=Ie.fnId,Ne=Ie.args;switch(Oe|0){case y.OPS.beginText:this.beginText();break;case y.OPS.dependency:break;case y.OPS.setLeading:this.setLeading(Ne);break;case y.OPS.setLeadingMoveText:this.setLeadingMoveText(Ne[0],Ne[1]);break;case y.OPS.setFont:this.setFont(Ne);break;case y.OPS.showText:this.showText(Ne[0]);break;case y.OPS.showSpacedText:this.showText(Ne[0]);break;case y.OPS.endText:this.endText();break;case y.OPS.moveText:this.moveText(Ne[0],Ne[1]);break;case y.OPS.setCharSpacing:this.setCharSpacing(Ne[0]);break;case y.OPS.setWordSpacing:this.setWordSpacing(Ne[0]);break;case y.OPS.setHScale:this.setHScale(Ne[0]);break;case y.OPS.setTextMatrix:this.setTextMatrix(Ne[0],Ne[1],Ne[2],Ne[3],Ne[4],Ne[5]);break;case y.OPS.setTextRise:this.setTextRise(Ne[0]);break;case y.OPS.setTextRenderingMode:this.setTextRenderingMode(Ne[0]);break;case y.OPS.setLineWidth:this.setLineWidth(Ne[0]);break;case y.OPS.setLineJoin:this.setLineJoin(Ne[0]);break;case y.OPS.setLineCap:this.setLineCap(Ne[0]);break;case y.OPS.setMiterLimit:this.setMiterLimit(Ne[0]);break;case y.OPS.setFillRGBColor:this.setFillRGBColor(Ne[0],Ne[1],Ne[2]);break;case y.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Ne[0],Ne[1],Ne[2]);break;case y.OPS.setStrokeColorN:this.setStrokeColorN(Ne);break;case y.OPS.setFillColorN:this.setFillColorN(Ne);break;case y.OPS.shadingFill:this.shadingFill(Ne[0]);break;case y.OPS.setDash:this.setDash(Ne[0],Ne[1]);break;case y.OPS.setRenderingIntent:this.setRenderingIntent(Ne[0]);break;case y.OPS.setFlatness:this.setFlatness(Ne[0]);break;case y.OPS.setGState:this.setGState(Ne[0]);break;case y.OPS.fill:this.fill();break;case y.OPS.eoFill:this.eoFill();break;case y.OPS.stroke:this.stroke();break;case y.OPS.fillStroke:this.fillStroke();break;case y.OPS.eoFillStroke:this.eoFillStroke();break;case y.OPS.clip:this.clip("nonzero");break;case y.OPS.eoClip:this.clip("evenodd");break;case y.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case y.OPS.paintImageXObject:this.paintImageXObject(Ne[0]);break;case y.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Ne[0]);break;case y.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Ne[0]);break;case y.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Ne[0],Ne[1]);break;case y.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case y.OPS.closePath:this.closePath();break;case y.OPS.closeStroke:this.closeStroke();break;case y.OPS.closeFillStroke:this.closeFillStroke();break;case y.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case y.OPS.nextLine:this.nextLine();break;case y.OPS.transform:this.transform(Ne[0],Ne[1],Ne[2],Ne[3],Ne[4],Ne[5]);break;case y.OPS.constructPath:this.constructPath(Ne[0],Ne[1]);break;case y.OPS.endPath:this.endPath();break;case 92:this.group(Ie.items);break;default:(0,y.warn)(`Unimplemented operator ${$e}`);break}}}setWordSpacing(xe){this.current.wordSpacing=xe}setCharSpacing(xe){this.current.charSpacing=xe}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(xe,Ie,$e,Oe,Ne,Fe){const Ve=this.current;Ve.textMatrix=Ve.lineMatrix=[xe,Ie,$e,Oe,Ne,Fe],Ve.textMatrixScale=Math.hypot(xe,Ie),Ve.x=Ve.lineX=0,Ve.y=Ve.lineY=0,Ve.xcoords=[],Ve.ycoords=[],Ve.tspan=this.svgFactory.createElement("svg:tspan"),Ve.tspan.setAttributeNS(null,"font-family",Ve.fontFamily),Ve.tspan.setAttributeNS(null,"font-size",`${le(Ve.fontSize)}px`),Ve.tspan.setAttributeNS(null,"y",le(-Ve.y)),Ve.txtElement=this.svgFactory.createElement("svg:text"),Ve.txtElement.append(Ve.tspan)}beginText(){const xe=this.current;xe.x=xe.lineX=0,xe.y=xe.lineY=0,xe.textMatrix=y.IDENTITY_MATRIX,xe.lineMatrix=y.IDENTITY_MATRIX,xe.textMatrixScale=1,xe.tspan=this.svgFactory.createElement("svg:tspan"),xe.txtElement=this.svgFactory.createElement("svg:text"),xe.txtgrp=this.svgFactory.createElement("svg:g"),xe.xcoords=[],xe.ycoords=[]}moveText(xe,Ie){const $e=this.current;$e.x=$e.lineX+=xe,$e.y=$e.lineY+=Ie,$e.xcoords=[],$e.ycoords=[],$e.tspan=this.svgFactory.createElement("svg:tspan"),$e.tspan.setAttributeNS(null,"font-family",$e.fontFamily),$e.tspan.setAttributeNS(null,"font-size",`${le($e.fontSize)}px`),$e.tspan.setAttributeNS(null,"y",le(-$e.y))}showText(xe){const Ie=this.current,$e=Ie.font,Oe=Ie.fontSize;if(Oe===0)return;const Ne=Ie.fontSizeScale,Fe=Ie.charSpacing,Ve=Ie.wordSpacing,ze=Ie.fontDirection,Et=Ie.textHScale*ze,Dt=$e.vertical,Ue=Dt?1:-1,qe=$e.defaultVMetrics,Lt=Oe*Ie.fontMatrix[0];let Pt=0;for(const En of xe){if(En===null){Pt+=ze*Ve;continue}else if(typeof En=="number"){Pt+=Ue*En*Oe/1e3;continue}const Sn=(En.isSpace?Ve:0)+Fe,kt=En.fontChar;let jt,_n,wn=En.width;if(Dt){let Cn;const Tn=En.vmetric||qe;Cn=En.vmetric?Tn[1]:wn*.5,Cn=-Cn*Lt;const xn=Tn[2]*Lt;wn=Tn?-Tn[0]:wn,jt=Cn/Ne,_n=(Pt+xn)/Ne}else jt=Pt/Ne,_n=0;(En.isInFont||$e.missingFile)&&(Ie.xcoords.push(Ie.x+jt),Dt&&Ie.ycoords.push(-Ie.y+_n),Ie.tspan.textContent+=kt);const hn=Dt?wn*Lt-Sn*ze:wn*Lt+Sn*ze;Pt+=hn}Ie.tspan.setAttributeNS(null,"x",Ie.xcoords.map(le).join(" ")),Dt?Ie.tspan.setAttributeNS(null,"y",Ie.ycoords.map(le).join(" ")):Ie.tspan.setAttributeNS(null,"y",le(-Ie.y)),Dt?Ie.y-=Pt:Ie.x+=Pt*Et,Ie.tspan.setAttributeNS(null,"font-family",Ie.fontFamily),Ie.tspan.setAttributeNS(null,"font-size",`${le(Ie.fontSize)}px`),Ie.fontStyle!==$.fontStyle&&Ie.tspan.setAttributeNS(null,"font-style",Ie.fontStyle),Ie.fontWeight!==$.fontWeight&&Ie.tspan.setAttributeNS(null,"font-weight",Ie.fontWeight);const At=Ie.textRenderingMode&y.TextRenderingMode.FILL_STROKE_MASK;if(At===y.TextRenderingMode.FILL||At===y.TextRenderingMode.FILL_STROKE?(Ie.fillColor!==$.fillColor&&Ie.tspan.setAttributeNS(null,"fill",Ie.fillColor),Ie.fillAlpha<1&&Ie.tspan.setAttributeNS(null,"fill-opacity",Ie.fillAlpha)):Ie.textRenderingMode===y.TextRenderingMode.ADD_TO_PATH?Ie.tspan.setAttributeNS(null,"fill","transparent"):Ie.tspan.setAttributeNS(null,"fill","none"),At===y.TextRenderingMode.STROKE||At===y.TextRenderingMode.FILL_STROKE){const En=1/(Ie.textMatrixScale||1);this._setStrokeAttributes(Ie.tspan,En)}let vn=Ie.textMatrix;Ie.textRise!==0&&(vn=vn.slice(),vn[5]+=Ie.textRise),Ie.txtElement.setAttributeNS(null,"transform",`${ue(vn)} scale(${le(Et)}, -1)`),Ie.txtElement.setAttributeNS(L,"xml:space","preserve"),Ie.txtElement.append(Ie.tspan),Ie.txtgrp.append(Ie.txtElement),this._ensureTransformGroup().append(Ie.txtElement)}setLeadingMoveText(xe,Ie){this.setLeading(-Ie),this.moveText(xe,Ie)}addFontStyle(xe){if(!xe.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const Ie=re(xe.data,xe.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${xe.loadedName}"; src: url(${Ie}); }
`}setFont(xe){const Ie=this.current,$e=this.commonObjs.get(xe[0]);let Oe=xe[1];Ie.font=$e,this.embedFonts&&!$e.missingFile&&!this.embeddedFonts[$e.loadedName]&&(this.addFontStyle($e),this.embeddedFonts[$e.loadedName]=$e),Ie.fontMatrix=$e.fontMatrix||y.FONT_IDENTITY_MATRIX;let Ne="normal";$e.black?Ne="900":$e.bold&&(Ne="bold");const Fe=$e.italic?"italic":"normal";Oe<0?(Oe=-Oe,Ie.fontDirection=-1):Ie.fontDirection=1,Ie.fontSize=Oe,Ie.fontFamily=$e.loadedName,Ie.fontWeight=Ne,Ie.fontStyle=Fe,Ie.tspan=this.svgFactory.createElement("svg:tspan"),Ie.tspan.setAttributeNS(null,"y",le(-Ie.y)),Ie.xcoords=[],Ie.ycoords=[]}endText(){var Ie;const xe=this.current;xe.textRenderingMode&y.TextRenderingMode.ADD_TO_PATH_FLAG&&((Ie=xe.txtElement)!=null&&Ie.hasChildNodes())&&(xe.element=xe.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(xe){xe>0&&(this.current.lineWidth=xe)}setLineCap(xe){this.current.lineCap=z[xe]}setLineJoin(xe){this.current.lineJoin=j[xe]}setMiterLimit(xe){this.current.miterLimit=xe}setStrokeAlpha(xe){this.current.strokeAlpha=xe}setStrokeRGBColor(xe,Ie,$e){this.current.strokeColor=y.Util.makeHexColor(xe,Ie,$e)}setFillAlpha(xe){this.current.fillAlpha=xe}setFillRGBColor(xe,Ie,$e){this.current.fillColor=y.Util.makeHexColor(xe,Ie,$e),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(xe){this.current.strokeColor=this._makeColorN_Pattern(xe)}setFillColorN(xe){this.current.fillColor=this._makeColorN_Pattern(xe)}shadingFill(xe){const{width:Ie,height:$e}=this.viewport,Oe=y.Util.inverseTransform(this.transformMatrix),[Ne,Fe,Ve,ze]=y.Util.getAxialAlignedBoundingBox([0,0,Ie,$e],Oe),Et=this.svgFactory.createElement("svg:rect");Et.setAttributeNS(null,"x",Ne),Et.setAttributeNS(null,"y",Fe),Et.setAttributeNS(null,"width",Ve-Ne),Et.setAttributeNS(null,"height",ze-Fe),Et.setAttributeNS(null,"fill",this._makeShadingPattern(xe)),this.current.fillAlpha<1&&Et.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Et)}_makeColorN_Pattern(xe){return xe[0]==="TilingPattern"?this._makeTilingPattern(xe):this._makeShadingPattern(xe)}_makeTilingPattern(xe){const Ie=xe[1],$e=xe[2],Oe=xe[3]||y.IDENTITY_MATRIX,[Ne,Fe,Ve,ze]=xe[4],Et=xe[5],Dt=xe[6],Ue=xe[7],qe=`shading${pe++}`,[Lt,Pt,At,vn]=y.Util.normalizeRect([...y.Util.applyTransform([Ne,Fe],Oe),...y.Util.applyTransform([Ve,ze],Oe)]),[En,Sn]=y.Util.singularValueDecompose2dScale(Oe),kt=Et*En,jt=Dt*Sn,_n=this.svgFactory.createElement("svg:pattern");_n.setAttributeNS(null,"id",qe),_n.setAttributeNS(null,"patternUnits","userSpaceOnUse"),_n.setAttributeNS(null,"width",kt),_n.setAttributeNS(null,"height",jt),_n.setAttributeNS(null,"x",`${Lt}`),_n.setAttributeNS(null,"y",`${Pt}`);const wn=this.svg,hn=this.transformMatrix,Cn=this.current.fillColor,Tn=this.current.strokeColor,xn=this.svgFactory.create(At-Lt,vn-Pt);if(this.svg=xn,this.transformMatrix=Oe,Ue===2){const Mn=y.Util.makeHexColor(...Ie);this.current.fillColor=Mn,this.current.strokeColor=Mn}return this.executeOpTree(this.convertOpList($e)),this.svg=wn,this.transformMatrix=hn,this.current.fillColor=Cn,this.current.strokeColor=Tn,_n.append(xn.childNodes[0]),this.defs.append(_n),`url(#${qe})`}_makeShadingPattern(xe){switch(typeof xe=="string"&&(xe=this.objs.get(xe)),xe[0]){case"RadialAxial":const Ie=`shading${pe++}`,$e=xe[3];let Oe;switch(xe[1]){case"axial":const Ne=xe[4],Fe=xe[5];Oe=this.svgFactory.createElement("svg:linearGradient"),Oe.setAttributeNS(null,"id",Ie),Oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Oe.setAttributeNS(null,"x1",Ne[0]),Oe.setAttributeNS(null,"y1",Ne[1]),Oe.setAttributeNS(null,"x2",Fe[0]),Oe.setAttributeNS(null,"y2",Fe[1]);break;case"radial":const Ve=xe[4],ze=xe[5],Et=xe[6],Dt=xe[7];Oe=this.svgFactory.createElement("svg:radialGradient"),Oe.setAttributeNS(null,"id",Ie),Oe.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Oe.setAttributeNS(null,"cx",ze[0]),Oe.setAttributeNS(null,"cy",ze[1]),Oe.setAttributeNS(null,"r",Dt),Oe.setAttributeNS(null,"fx",Ve[0]),Oe.setAttributeNS(null,"fy",Ve[1]),Oe.setAttributeNS(null,"fr",Et);break;default:throw new Error(`Unknown RadialAxial type: ${xe[1]}`)}for(const Ne of $e){const Fe=this.svgFactory.createElement("svg:stop");Fe.setAttributeNS(null,"offset",Ne[0]),Fe.setAttributeNS(null,"stop-color",Ne[1]),Oe.append(Fe)}return this.defs.append(Oe),`url(#${Ie})`;case"Mesh":return(0,y.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${xe[0]}`)}}setDash(xe,Ie){this.current.dashArray=xe,this.current.dashPhase=Ie}constructPath(xe,Ie){const $e=this.current;let Oe=$e.x,Ne=$e.y,Fe=[],Ve=0;for(const ze of xe)switch(ze|0){case y.OPS.rectangle:Oe=Ie[Ve++],Ne=Ie[Ve++];const Et=Ie[Ve++],Dt=Ie[Ve++],Ue=Oe+Et,qe=Ne+Dt;Fe.push("M",le(Oe),le(Ne),"L",le(Ue),le(Ne),"L",le(Ue),le(qe),"L",le(Oe),le(qe),"Z");break;case y.OPS.moveTo:Oe=Ie[Ve++],Ne=Ie[Ve++],Fe.push("M",le(Oe),le(Ne));break;case y.OPS.lineTo:Oe=Ie[Ve++],Ne=Ie[Ve++],Fe.push("L",le(Oe),le(Ne));break;case y.OPS.curveTo:Oe=Ie[Ve+4],Ne=Ie[Ve+5],Fe.push("C",le(Ie[Ve]),le(Ie[Ve+1]),le(Ie[Ve+2]),le(Ie[Ve+3]),le(Oe),le(Ne)),Ve+=6;break;case y.OPS.curveTo2:Fe.push("C",le(Oe),le(Ne),le(Ie[Ve]),le(Ie[Ve+1]),le(Ie[Ve+2]),le(Ie[Ve+3])),Oe=Ie[Ve+2],Ne=Ie[Ve+3],Ve+=4;break;case y.OPS.curveTo3:Oe=Ie[Ve+2],Ne=Ie[Ve+3],Fe.push("C",le(Ie[Ve]),le(Ie[Ve+1]),le(Oe),le(Ne),le(Oe),le(Ne)),Ve+=4;break;case y.OPS.closePath:Fe.push("Z");break}Fe=Fe.join(" "),$e.path&&xe.length>0&&xe[0]!==y.OPS.rectangle&&xe[0]!==y.OPS.moveTo?Fe=$e.path.getAttributeNS(null,"d")+Fe:($e.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append($e.path)),$e.path.setAttributeNS(null,"d",Fe),$e.path.setAttributeNS(null,"fill","none"),$e.element=$e.path,$e.setCurrentPoint(Oe,Ne)}endPath(){const xe=this.current;if(xe.path=null,!this.pendingClip)return;if(!xe.element){this.pendingClip=null;return}const Ie=`clippath${de++}`,$e=this.svgFactory.createElement("svg:clipPath");$e.setAttributeNS(null,"id",Ie),$e.setAttributeNS(null,"transform",ue(this.transformMatrix));const Oe=xe.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Oe.setAttributeNS(null,"clip-rule","evenodd"):Oe.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,$e.append(Oe),this.defs.append($e),xe.activeClipUrl){xe.clipGroup=null;for(const Ne of this.extraStack)Ne.clipGroup=null;$e.setAttributeNS(null,"clip-path",xe.activeClipUrl)}xe.activeClipUrl=`url(#${Ie})`,this.tgrp=null}clip(xe){this.pendingClip=xe}closePath(){const xe=this.current;if(xe.path){const Ie=`${xe.path.getAttributeNS(null,"d")}Z`;xe.path.setAttributeNS(null,"d",Ie)}}setLeading(xe){this.current.leading=-xe}setTextRise(xe){this.current.textRise=xe}setTextRenderingMode(xe){this.current.textRenderingMode=xe}setHScale(xe){this.current.textHScale=xe/100}setRenderingIntent(xe){}setFlatness(xe){}setGState(xe){for(const[Ie,$e]of xe)switch(Ie){case"LW":this.setLineWidth($e);break;case"LC":this.setLineCap($e);break;case"LJ":this.setLineJoin($e);break;case"ML":this.setMiterLimit($e);break;case"D":this.setDash($e[0],$e[1]);break;case"RI":this.setRenderingIntent($e);break;case"FL":this.setFlatness($e);break;case"Font":this.setFont($e);break;case"CA":this.setStrokeAlpha($e);break;case"ca":this.setFillAlpha($e);break;default:(0,y.warn)(`Unimplemented graphic state operator ${Ie}`);break}}fill(){const xe=this.current;xe.element&&(xe.element.setAttributeNS(null,"fill",xe.fillColor),xe.element.setAttributeNS(null,"fill-opacity",xe.fillAlpha),this.endPath())}stroke(){const xe=this.current;xe.element&&(this._setStrokeAttributes(xe.element),xe.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(xe){let Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;const $e=this.current;let Oe=$e.dashArray;Ie!==1&&Oe.length>0&&(Oe=Oe.map(function(Ne){return Ie*Ne})),xe.setAttributeNS(null,"stroke",$e.strokeColor),xe.setAttributeNS(null,"stroke-opacity",$e.strokeAlpha),xe.setAttributeNS(null,"stroke-miterlimit",le($e.miterLimit)),xe.setAttributeNS(null,"stroke-linecap",$e.lineCap),xe.setAttributeNS(null,"stroke-linejoin",$e.lineJoin),xe.setAttributeNS(null,"stroke-width",le(Ie*$e.lineWidth)+"px"),xe.setAttributeNS(null,"stroke-dasharray",Oe.map(le).join(" ")),xe.setAttributeNS(null,"stroke-dashoffset",le(Ie*$e.dashPhase)+"px")}eoFill(){var xe;(xe=this.current.element)==null||xe.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var xe;(xe=this.current.element)==null||xe.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x","0"),xe.setAttributeNS(null,"y","0"),xe.setAttributeNS(null,"width","1px"),xe.setAttributeNS(null,"height","1px"),xe.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(xe)}paintImageXObject(xe){const Ie=this.getObject(xe);if(!Ie){(0,y.warn)(`Dependent image with object ID ${xe} is not ready yet`);return}this.paintInlineImageXObject(Ie)}paintInlineImageXObject(xe,Ie){const $e=xe.width,Oe=xe.height,Ne=ae(xe,this.forceDataSchema,!!Ie),Fe=this.svgFactory.createElement("svg:rect");Fe.setAttributeNS(null,"x","0"),Fe.setAttributeNS(null,"y","0"),Fe.setAttributeNS(null,"width",le($e)),Fe.setAttributeNS(null,"height",le(Oe)),this.current.element=Fe,this.clip("nonzero");const Ve=this.svgFactory.createElement("svg:image");Ve.setAttributeNS(V,"xlink:href",Ne),Ve.setAttributeNS(null,"x","0"),Ve.setAttributeNS(null,"y",le(-Oe)),Ve.setAttributeNS(null,"width",le($e)+"px"),Ve.setAttributeNS(null,"height",le(Oe)+"px"),Ve.setAttributeNS(null,"transform",`scale(${le(1/$e)} ${le(-1/Oe)})`),Ie?Ie.append(Ve):this._ensureTransformGroup().append(Ve)}paintImageMaskXObject(xe){const Ie=this.getObject(xe.data,xe);if(Ie.bitmap){(0,y.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const $e=this.current,Oe=Ie.width,Ne=Ie.height,Fe=$e.fillColor;$e.maskId=`mask${he++}`;const Ve=this.svgFactory.createElement("svg:mask");Ve.setAttributeNS(null,"id",$e.maskId);const ze=this.svgFactory.createElement("svg:rect");ze.setAttributeNS(null,"x","0"),ze.setAttributeNS(null,"y","0"),ze.setAttributeNS(null,"width",le(Oe)),ze.setAttributeNS(null,"height",le(Ne)),ze.setAttributeNS(null,"fill",Fe),ze.setAttributeNS(null,"mask",`url(#${$e.maskId})`),this.defs.append(Ve),this._ensureTransformGroup().append(ze),this.paintInlineImageXObject(Ie,Ve)}paintFormXObjectBegin(xe,Ie){if(Array.isArray(xe)&&xe.length===6&&this.transform(xe[0],xe[1],xe[2],xe[3],xe[4],xe[5]),Ie){const $e=Ie[2]-Ie[0],Oe=Ie[3]-Ie[1],Ne=this.svgFactory.createElement("svg:rect");Ne.setAttributeNS(null,"x",Ie[0]),Ne.setAttributeNS(null,"y",Ie[1]),Ne.setAttributeNS(null,"width",le($e)),Ne.setAttributeNS(null,"height",le(Oe)),this.current.element=Ne,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(xe){const Ie=this.svgFactory.create(xe.width,xe.height),$e=this.svgFactory.createElement("svg:defs");Ie.append($e),this.defs=$e;const Oe=this.svgFactory.createElement("svg:g");return Oe.setAttributeNS(null,"transform",ue(xe.transform)),Ie.append(Oe),this.svg=Oe,Ie}_ensureClipGroup(){if(!this.current.clipGroup){const xe=this.svgFactory.createElement("svg:g");xe.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(xe),this.current.clipGroup=xe}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",ue(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}n.SVGGraphics=_e},(t,n,r)=>{var g=r(3),y=r(188),$=r(193);g({target:"Array",proto:!0},{group:function(V){var z=arguments.length>1?arguments[1]:void 0;return y(this,V,z)}}),$("group")},(t,n,r)=>{var g=r(99),y=r(14),$=r(13),L=r(40),V=r(18),z=r(64),j=r(189),re=r(108),ae=Array,oe=y([].push);t.exports=function(ie,le,ue,de){for(var he=L(ie),pe=$(he),_e=g(le,ue),Ce=j(null),xe=z(pe),Ie=0,$e,Oe,Ne;xe>Ie;Ie++)Ne=pe[Ie],Oe=V(_e(Ne,Ie,he)),Oe in Ce?oe(Ce[Oe],Ne):Ce[Oe]=[Ne];if(de&&($e=de(he),$e!==ae))for(Oe in Ce)Ce[Oe]=re($e,Ce[Oe]);return Ce}},(t,n,r)=>{var g=r(47),y=r(190),$=r(66),L=r(55),V=r(192),z=r(43),j=r(54),re=">",ae="<",oe="prototype",ie="script",le=j("IE_PROTO"),ue=function(){},de=function(xe){return ae+ie+re+xe+ae+"/"+ie+re},he=function(xe){xe.write(de("")),xe.close();var Ie=xe.parentWindow.Object;return xe=null,Ie},pe=function(){var xe=z("iframe"),Ie="java"+ie+":",$e;return xe.style.display="none",V.appendChild(xe),xe.src=String(Ie),$e=xe.contentWindow.document,$e.open(),$e.write(de("document.F=Object")),$e.close(),$e.F},_e,Ce=function(){try{_e=new ActiveXObject("htmlfile")}catch{}Ce=typeof document<"u"?document.domain&&_e?he(_e):pe():he(_e);for(var xe=$.length;xe--;)delete Ce[oe][$[xe]];return Ce()};L[le]=!0,t.exports=Object.create||function(Ie,$e){var Oe;return Ie!==null?(ue[oe]=g(Ie),Oe=new ue,ue[oe]=null,Oe[le]=Ie):Oe=Ce(),$e===void 0?Oe:y.f(Oe,$e)}},(t,n,r)=>{var g=r(6),y=r(46),$=r(45),L=r(47),V=r(12),z=r(191);n.f=g&&!y?Object.defineProperties:function(re,ae){L(re);for(var oe=V(ae),ie=z(ae),le=ie.length,ue=0,de;le>ue;)$.f(re,de=ie[ue++],oe[de]);return re}},(t,n,r)=>{var g=r(59),y=r(66);t.exports=Object.keys||function(L){return g(L,y)}},(t,n,r)=>{var g=r(24);t.exports=g("document","documentElement")},(t,n,r)=>{var g=r(34),y=r(189),$=r(45).f,L=g("unscopables"),V=Array.prototype;V[L]===void 0&&$(V,L,{configurable:!0,value:y(null)}),t.exports=function(z){V[L][z]=!0}},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaText=void 0,r(89);class g{static textContent($){const L=[],V={items:L,styles:Object.create(null)};function z(j){var oe;if(!j)return;let re=null;const ae=j.name;if(ae==="#text")re=j.value;else if(g.shouldBuildText(ae))(oe=j==null?void 0:j.attributes)!=null&&oe.textContent?re=j.attributes.textContent:j.value&&(re=j.value);else return;if(re!==null&&L.push({str:re}),!!j.children)for(const ie of j.children)z(ie)}return z($),V}static shouldBuildText($){return!($==="textarea"||$==="input"||$==="option"||$==="select")}}n.XfaText=g},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.TextLayerRenderTask=void 0,n.renderTextLayer=ue,n.updateTextLayer=de,r(89),r(2);var g=r(1),y=r(168);const $=1e5,L=30,V=.8,z=new Map;function j(he,pe){let _e;if(pe&&g.FeatureTest.isOffscreenCanvasSupported)_e=new OffscreenCanvas(he,he).getContext("2d",{alpha:!1});else{const Ce=document.createElement("canvas");Ce.width=Ce.height=he,_e=Ce.getContext("2d",{alpha:!1})}return _e}function re(he,pe){const _e=z.get(he);if(_e)return _e;const Ce=j(L,pe);Ce.font=`${L}px ${he}`;const xe=Ce.measureText("");let Ie=xe.fontBoundingBoxAscent,$e=Math.abs(xe.fontBoundingBoxDescent);if(Ie){const Ne=Ie/(Ie+$e);return z.set(he,Ne),Ce.canvas.width=Ce.canvas.height=0,Ne}Ce.strokeStyle="red",Ce.clearRect(0,0,L,L),Ce.strokeText("g",0,0);let Oe=Ce.getImageData(0,0,L,L).data;$e=0;for(let Ne=Oe.length-1-3;Ne>=0;Ne-=4)if(Oe[Ne]>0){$e=Math.ceil(Ne/4/L);break}Ce.clearRect(0,0,L,L),Ce.strokeText("A",0,L),Oe=Ce.getImageData(0,0,L,L).data,Ie=0;for(let Ne=0,Fe=Oe.length;Ne<Fe;Ne+=4)if(Oe[Ne]>0){Ie=L-Math.floor(Ne/4/L);break}if(Ce.canvas.width=Ce.canvas.height=0,Ie){const Ne=Ie/(Ie+$e);return z.set(he,Ne),Ne}return z.set(he,V),V}function ae(he,pe,_e){const Ce=document.createElement("span"),xe={angle:0,canvasWidth:0,hasText:pe.str!=="",hasEOL:pe.hasEOL,fontSize:0};he._textDivs.push(Ce);const Ie=g.Util.transform(he._transform,pe.transform);let $e=Math.atan2(Ie[1],Ie[0]);const Oe=_e[pe.fontName];Oe.vertical&&($e+=Math.PI/2);const Ne=Math.hypot(Ie[2],Ie[3]),Fe=Ne*re(Oe.fontFamily,he._isOffscreenCanvasSupported);let Ve,ze;$e===0?(Ve=Ie[4],ze=Ie[5]-Fe):(Ve=Ie[4]+Fe*Math.sin($e),ze=Ie[5]-Fe*Math.cos($e));const Et="calc(var(--scale-factor)*",Dt=Ce.style;he._container===he._rootContainer?(Dt.left=`${(100*Ve/he._pageWidth).toFixed(2)}%`,Dt.top=`${(100*ze/he._pageHeight).toFixed(2)}%`):(Dt.left=`${Et}${Ve.toFixed(2)}px)`,Dt.top=`${Et}${ze.toFixed(2)}px)`),Dt.fontSize=`${Et}${Ne.toFixed(2)}px)`,Dt.fontFamily=Oe.fontFamily,xe.fontSize=Ne,Ce.setAttribute("role","presentation"),Ce.textContent=pe.str,Ce.dir=pe.dir,he._fontInspectorEnabled&&(Ce.dataset.fontName=pe.fontName),$e!==0&&(xe.angle=$e*(180/Math.PI));let Ue=!1;if(pe.str.length>1)Ue=!0;else if(pe.str!==" "&&pe.transform[0]!==pe.transform[3]){const qe=Math.abs(pe.transform[0]),Lt=Math.abs(pe.transform[3]);qe!==Lt&&Math.max(qe,Lt)/Math.min(qe,Lt)>1.5&&(Ue=!0)}Ue&&(xe.canvasWidth=Oe.vertical?pe.height:pe.width),he._textDivProperties.set(Ce,xe),he._isReadableStream&&he._layoutText(Ce)}function oe(he){const{div:pe,scale:_e,properties:Ce,ctx:xe,prevFontSize:Ie,prevFontFamily:$e}=he,{style:Oe}=pe;let Ne="";if(Ce.canvasWidth!==0&&Ce.hasText){const{fontFamily:Fe}=Oe,{canvasWidth:Ve,fontSize:ze}=Ce;(Ie!==ze||$e!==Fe)&&(xe.font=`${ze*_e}px ${Fe}`,he.prevFontSize=ze,he.prevFontFamily=Fe);const{width:Et}=xe.measureText(pe.textContent);Et>0&&(Ne=`scaleX(${Ve*_e/Et})`)}Ce.angle!==0&&(Ne=`rotate(${Ce.angle}deg) ${Ne}`),Ne.length>0&&(Oe.transform=Ne)}function ie(he){if(he._canceled)return;const pe=he._textDivs,_e=he._capability;if(pe.length>$){_e.resolve();return}if(!he._isReadableStream)for(const xe of pe)he._layoutText(xe);_e.resolve()}class le{constructor(pe){var Dt;let{textContentSource:_e,container:Ce,viewport:xe,textDivs:Ie,textDivProperties:$e,textContentItemsStr:Oe,isOffscreenCanvasSupported:Ne}=pe;this._textContentSource=_e,this._isReadableStream=_e instanceof ReadableStream,this._container=this._rootContainer=Ce,this._textDivs=Ie||[],this._textContentItemsStr=Oe||[],this._isOffscreenCanvasSupported=Ne,this._fontInspectorEnabled=!!((Dt=globalThis.FontInspector)!=null&&Dt.enabled),this._reader=null,this._textDivProperties=$e||new WeakMap,this._canceled=!1,this._capability=new g.PromiseCapability,this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:xe.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:j(0,Ne)};const{pageWidth:Fe,pageHeight:Ve,pageX:ze,pageY:Et}=xe.rawDims;this._transform=[1,0,0,-1,-ze,Et+Ve],this._pageWidth=Fe,this._pageHeight=Ve,(0,y.setLayerDimensions)(Ce,xe),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new g.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new g.AbortException("TextLayer task cancelled."))}_processItems(pe,_e){for(const Ce of pe){if(Ce.str===void 0){if(Ce.type==="beginMarkedContentProps"||Ce.type==="beginMarkedContent"){const xe=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Ce.id!==null&&this._container.setAttribute("id",`${Ce.id}`),xe.append(this._container)}else Ce.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Ce.str),ae(this,Ce,_e)}}_layoutText(pe){const _e=this._layoutTextParams.properties=this._textDivProperties.get(pe);if(this._layoutTextParams.div=pe,oe(this._layoutTextParams),_e.hasText&&this._container.append(pe),_e.hasEOL){const Ce=document.createElement("br");Ce.setAttribute("role","presentation"),this._container.append(Ce)}}_render(){const pe=new g.PromiseCapability;let _e=Object.create(null);if(this._isReadableStream){const Ce=()=>{this._reader.read().then(xe=>{let{value:Ie,done:$e}=xe;if($e){pe.resolve();return}Object.assign(_e,Ie.styles),this._processItems(Ie.items,_e),Ce()},pe.reject)};this._reader=this._textContentSource.getReader(),Ce()}else if(this._textContentSource){const{items:Ce,styles:xe}=this._textContentSource;this._processItems(Ce,xe),pe.resolve()}else throw new Error('No "textContentSource" parameter specified.');pe.promise.then(()=>{_e=null,ie(this)},this._capability.reject)}}n.TextLayerRenderTask=le;function ue(he){!he.textContentSource&&(he.textContent||he.textContentStream)&&((0,y.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),he.textContentSource=he.textContent||he.textContentStream);const{container:pe,viewport:_e}=he,Ce=getComputedStyle(pe),xe=Ce.getPropertyValue("visibility"),Ie=parseFloat(Ce.getPropertyValue("--scale-factor"));xe==="visible"&&(!Ie||Math.abs(Ie-_e.scale)>1e-5)&&console.error("The `--scale-factor` CSS-variable must be set, to the same value as `viewport.scale`, either on the `container`-element itself or higher up in the DOM.");const $e=new le(he);return $e._render(),$e}function de(he){let{container:pe,viewport:_e,textDivs:Ce,textDivProperties:xe,isOffscreenCanvasSupported:Ie,mustRotate:$e=!0,mustRescale:Oe=!0}=he;if($e&&(0,y.setLayerDimensions)(pe,{rotation:_e.rotation}),Oe){const Ne=j(0,Ie),Ve={prevFontSize:null,prevFontFamily:null,div:null,scale:_e.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:Ne};for(const ze of Ce)Ve.properties=xe.get(ze),Ve.div=ze,oe(Ve)}}},(t,n,r)=>{var re,ae,oe,ie,le,ue,de,he,pe,_e,Ce,Fa,fa,za,Ha;Object.defineProperty(n,"__esModule",{value:!0}),n.AnnotationEditorLayer=void 0,r(125),r(136),r(138),r(141),r(143),r(145),r(147);var g=r(1),y=r(164),$=r(197),L=r(202),V=r(168),z=r(203);const Ne=class Ne{constructor(Ve){rr(this,Ce);rr(this,re);rr(this,ae,!1);rr(this,oe,null);rr(this,ie,this.pointerup.bind(this));rr(this,le,this.pointerdown.bind(this));rr(this,ue,new Map);rr(this,de,!1);rr(this,he,!1);rr(this,pe,!1);rr(this,_e);let{uiManager:ze,pageIndex:Et,div:Dt,accessibilityManager:Ue,annotationLayer:qe,viewport:Lt,l10n:Pt}=Ve;const At=[$.FreeTextEditor,L.InkEditor,z.StampEditor];if(!Ne._initialized){Ne._initialized=!0;for(const vn of At)vn.initialize(Pt)}ze.registerEditorTypes(At),ar(this,_e,ze),this.pageIndex=Et,this.div=Dt,ar(this,re,Ue),ar(this,oe,qe),this.viewport=Lt,An(this,_e).addLayer(this)}get isEmpty(){return An(this,ue).size===0}updateToolbar(Ve){An(this,_e).updateToolbar(Ve)}updateMode(){let Ve=arguments.length>0&&arguments[0]!==void 0?arguments[0]:An(this,_e).getMode();tr(this,Ce,Ha).call(this),Ve===g.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ve!==g.AnnotationEditorType.NONE&&(this.div.classList.toggle("freeTextEditing",Ve===g.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",Ve===g.AnnotationEditorType.INK),this.div.classList.toggle("stampEditing",Ve===g.AnnotationEditorType.STAMP),this.div.hidden=!1)}addInkEditorIfNeeded(Ve){if(!Ve&&An(this,_e).getMode()!==g.AnnotationEditorType.INK)return;if(!Ve){for(const Et of An(this,ue).values())if(Et.isEmpty()){Et.setInBackground();return}}tr(this,Ce,fa).call(this,{offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(Ve){An(this,_e).setEditingState(Ve)}addCommands(Ve){An(this,_e).addCommands(Ve)}enable(){this.div.style.pointerEvents="auto";const Ve=new Set;for(const Et of An(this,ue).values())Et.enableEditing(),Et.annotationElementId&&Ve.add(Et.annotationElementId);if(!An(this,oe))return;const ze=An(this,oe).getEditableAnnotations();for(const Et of ze){if(Et.hide(),An(this,_e).isDeletedAnnotationElement(Et.data.id)||Ve.has(Et.data.id))continue;const Dt=this.deserialize(Et);Dt&&(this.addOrRebuild(Dt),Dt.enableEditing())}}disable(){var ze;ar(this,pe,!0),this.div.style.pointerEvents="none";const Ve=new Set;for(const Et of An(this,ue).values()){if(Et.disableEditing(),!Et.annotationElementId||Et.serialize()!==null){Ve.add(Et.annotationElementId);continue}(ze=this.getEditableAnnotation(Et.annotationElementId))==null||ze.show(),Et.remove()}if(An(this,oe)){const Et=An(this,oe).getEditableAnnotations();for(const Dt of Et){const{id:Ue}=Dt.data;Ve.has(Ue)||An(this,_e).isDeletedAnnotationElement(Ue)||Dt.show()}}tr(this,Ce,Ha).call(this),this.isEmpty&&(this.div.hidden=!0),ar(this,pe,!1)}getEditableAnnotation(Ve){var ze;return((ze=An(this,oe))==null?void 0:ze.getEditableAnnotation(Ve))||null}setActiveEditor(Ve){An(this,_e).getActive()!==Ve&&An(this,_e).setActiveEditor(Ve)}enableClick(){this.div.addEventListener("pointerdown",An(this,le)),this.div.addEventListener("pointerup",An(this,ie))}disableClick(){this.div.removeEventListener("pointerdown",An(this,le)),this.div.removeEventListener("pointerup",An(this,ie))}attach(Ve){An(this,ue).set(Ve.id,Ve);const{annotationElementId:ze}=Ve;ze&&An(this,_e).isDeletedAnnotationElement(ze)&&An(this,_e).removeDeletedAnnotationElement(Ve)}detach(Ve){var ze;An(this,ue).delete(Ve.id),(ze=An(this,re))==null||ze.removePointerInTextLayer(Ve.contentDiv),!An(this,pe)&&Ve.annotationElementId&&An(this,_e).addDeletedAnnotationElement(Ve)}remove(Ve){this.detach(Ve),An(this,_e).removeEditor(Ve),Ve.div.contains(document.activeElement)&&setTimeout(()=>{An(this,_e).focusMainContainer()},0),Ve.div.remove(),Ve.isAttachedToDOM=!1,An(this,he)||this.addInkEditorIfNeeded(!1)}changeParent(Ve){var ze;Ve.parent!==this&&(Ve.annotationElementId&&(An(this,_e).addDeletedAnnotationElement(Ve.annotationElementId),y.AnnotationEditor.deleteAnnotationElement(Ve),Ve.annotationElementId=null),this.attach(Ve),(ze=Ve.parent)==null||ze.detach(Ve),Ve.setParent(this),Ve.div&&Ve.isAttachedToDOM&&(Ve.div.remove(),this.div.append(Ve.div)))}add(Ve){if(this.changeParent(Ve),An(this,_e).addEditor(Ve),this.attach(Ve),!Ve.isAttachedToDOM){const ze=Ve.render();this.div.append(ze),Ve.isAttachedToDOM=!0}Ve.fixAndSetPosition(),Ve.onceAdded(),An(this,_e).addToAnnotationStorage(Ve)}moveEditorInDOM(Ve){var Et;if(!Ve.isAttachedToDOM)return;const{activeElement:ze}=document;Ve.div.contains(ze)&&(Ve._focusEventsAllowed=!1,setTimeout(()=>{Ve.div.contains(document.activeElement)?Ve._focusEventsAllowed=!0:(Ve.div.addEventListener("focusin",()=>{Ve._focusEventsAllowed=!0},{once:!0}),ze.focus())},0)),Ve._structTreeParentId=(Et=An(this,re))==null?void 0:Et.moveElementInDOM(this.div,Ve.div,Ve.contentDiv,!0)}addOrRebuild(Ve){Ve.needsToBeRebuilt()?Ve.rebuild():this.add(Ve)}addUndoableEditor(Ve){const ze=()=>Ve._uiManager.rebuild(Ve),Et=()=>{Ve.remove()};this.addCommands({cmd:ze,undo:Et,mustExec:!1})}getNextId(){return An(this,_e).getId()}pasteEditor(Ve,ze){An(this,_e).updateToolbar(Ve),An(this,_e).updateMode(Ve);const{offsetX:Et,offsetY:Dt}=tr(this,Ce,za).call(this),Ue=this.getNextId(),qe=tr(this,Ce,Fa).call(this,{parent:this,id:Ue,x:Et,y:Dt,uiManager:An(this,_e),isCentered:!0,...ze});qe&&this.add(qe)}deserialize(Ve){switch(Ve.annotationType??Ve.annotationEditorType){case g.AnnotationEditorType.FREETEXT:return $.FreeTextEditor.deserialize(Ve,this,An(this,_e));case g.AnnotationEditorType.INK:return L.InkEditor.deserialize(Ve,this,An(this,_e));case g.AnnotationEditorType.STAMP:return z.StampEditor.deserialize(Ve,this,An(this,_e))}return null}addNewEditor(){tr(this,Ce,fa).call(this,tr(this,Ce,za).call(this),!0)}setSelected(Ve){An(this,_e).setSelected(Ve)}toggleSelected(Ve){An(this,_e).toggleSelected(Ve)}isSelected(Ve){return An(this,_e).isSelected(Ve)}unselect(Ve){An(this,_e).unselect(Ve)}pointerup(Ve){const{isMac:ze}=g.FeatureTest.platform;if(!(Ve.button!==0||Ve.ctrlKey&&ze)&&Ve.target===this.div&&An(this,de)){if(ar(this,de,!1),!An(this,ae)){ar(this,ae,!0);return}if(An(this,_e).getMode()===g.AnnotationEditorType.STAMP){An(this,_e).unselectAll();return}tr(this,Ce,fa).call(this,Ve,!1)}}pointerdown(Ve){if(An(this,de)){ar(this,de,!1);return}const{isMac:ze}=g.FeatureTest.platform;if(Ve.button!==0||Ve.ctrlKey&&ze||Ve.target!==this.div)return;ar(this,de,!0);const Et=An(this,_e).getActive();ar(this,ae,!Et||Et.isEmpty())}findNewParent(Ve,ze,Et){const Dt=An(this,_e).findParent(ze,Et);return Dt===null||Dt===this?!1:(Dt.changeParent(Ve),!0)}destroy(){var Ve,ze;((Ve=An(this,_e).getActive())==null?void 0:Ve.parent)===this&&(An(this,_e).commitOrRemove(),An(this,_e).setActiveEditor(null));for(const Et of An(this,ue).values())(ze=An(this,re))==null||ze.removePointerInTextLayer(Et.contentDiv),Et.setParent(null),Et.isAttachedToDOM=!1,Et.div.remove();this.div=null,An(this,ue).clear(),An(this,_e).removeLayer(this)}render(Ve){let{viewport:ze}=Ve;this.viewport=ze,(0,V.setLayerDimensions)(this.div,ze);for(const Et of An(this,_e).getEditors(this.pageIndex))this.add(Et);this.updateMode()}update(Ve){let{viewport:ze}=Ve;An(this,_e).commitOrRemove(),this.viewport=ze,(0,V.setLayerDimensions)(this.div,{rotation:ze.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:Ve,pageHeight:ze}=this.viewport.rawDims;return[Ve,ze]}};re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,_e=new WeakMap,Ce=new WeakSet,Fa=function(Ve){switch(An(this,_e).getMode()){case g.AnnotationEditorType.FREETEXT:return new $.FreeTextEditor(Ve);case g.AnnotationEditorType.INK:return new L.InkEditor(Ve);case g.AnnotationEditorType.STAMP:return new z.StampEditor(Ve)}return null},fa=function(Ve,ze){const Et=this.getNextId(),Dt=tr(this,Ce,Fa).call(this,{parent:this,id:Et,x:Ve.offsetX,y:Ve.offsetY,uiManager:An(this,_e),isCentered:ze});return Dt&&this.add(Dt),Dt},za=function(){const{x:Ve,y:ze,width:Et,height:Dt}=this.div.getBoundingClientRect(),Ue=Math.max(0,Ve),qe=Math.max(0,ze),Lt=Math.min(window.innerWidth,Ve+Et),Pt=Math.min(window.innerHeight,ze+Dt),At=(Ue+Lt)/2-Ve,vn=(qe+Pt)/2-ze,[En,Sn]=this.viewport.rotation%180===0?[At,vn]:[vn,At];return{offsetX:En,offsetY:Sn}},Ha=function(){ar(this,he,!0);for(const Ve of An(this,ue).values())Ve.isEmpty()&&Ve.remove();ar(this,he,!1)},Dr(Ne,"_initialized",!1);let j=Ne;n.AnnotationEditorLayer=j},(t,n,r)=>{var z,j,re,ae,oe,ie,le,ue,de,he,mo,go,yo,ta,Ga,bo,Ua;Object.defineProperty(n,"__esModule",{value:!0}),n.FreeTextEditor=void 0,r(89);var g=r(1),y=r(165),$=r(164),L=r(198);const Ne=class Ne extends $.AnnotationEditor{constructor(ze){super({...ze,name:"freeTextEditor"});rr(this,he);rr(this,z,this.editorDivBlur.bind(this));rr(this,j,this.editorDivFocus.bind(this));rr(this,re,this.editorDivInput.bind(this));rr(this,ae,this.editorDivKeydown.bind(this));rr(this,oe);rr(this,ie,"");rr(this,le,`${this.id}-editor`);rr(this,ue);rr(this,de,null);ar(this,oe,ze.color||Ne._defaultColor||$.AnnotationEditor._defaultLineColor),ar(this,ue,ze.fontSize||Ne._defaultFontSize)}static get _keyboardManager(){const ze=Ne.prototype,Et=qe=>qe.isEmpty(),Dt=y.AnnotationEditorUIManager.TRANSLATE_SMALL,Ue=y.AnnotationEditorUIManager.TRANSLATE_BIG;return(0,g.shadow)(this,"_keyboardManager",new y.KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],ze.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],ze.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],ze._translateEmpty,{args:[-Dt,0],checker:Et}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],ze._translateEmpty,{args:[-Ue,0],checker:Et}],[["ArrowRight","mac+ArrowRight"],ze._translateEmpty,{args:[Dt,0],checker:Et}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],ze._translateEmpty,{args:[Ue,0],checker:Et}],[["ArrowUp","mac+ArrowUp"],ze._translateEmpty,{args:[0,-Dt],checker:Et}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],ze._translateEmpty,{args:[0,-Ue],checker:Et}],[["ArrowDown","mac+ArrowDown"],ze._translateEmpty,{args:[0,Dt],checker:Et}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],ze._translateEmpty,{args:[0,Ue],checker:Et}]]))}static initialize(ze){$.AnnotationEditor.initialize(ze,{strings:["free_text2_default_content","editor_free_text2_aria_label"]});const Et=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Et.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ze,Et){switch(ze){case g.AnnotationEditorParamsType.FREETEXT_SIZE:Ne._defaultFontSize=Et;break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:Ne._defaultColor=Et;break}}updateParams(ze,Et){switch(ze){case g.AnnotationEditorParamsType.FREETEXT_SIZE:tr(this,he,mo).call(this,Et);break;case g.AnnotationEditorParamsType.FREETEXT_COLOR:tr(this,he,go).call(this,Et);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,Ne._defaultFontSize],[g.AnnotationEditorParamsType.FREETEXT_COLOR,Ne._defaultColor||$.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.FREETEXT_SIZE,An(this,ue)],[g.AnnotationEditorParamsType.FREETEXT_COLOR,An(this,oe)]]}_translateEmpty(ze,Et){this._uiManager.translateSelectedEditors(ze,Et,!0)}getInitialTranslation(){const ze=this.parentScale;return[-Ne._internalPadding*ze,-(Ne._internalPadding+An(this,ue))*ze]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(g.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",An(this,ae)),this.editorDiv.addEventListener("focus",An(this,j)),this.editorDiv.addEventListener("blur",An(this,z)),this.editorDiv.addEventListener("input",An(this,re)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",An(this,le)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",An(this,ae)),this.editorDiv.removeEventListener("focus",An(this,j)),this.editorDiv.removeEventListener("blur",An(this,z)),this.editorDiv.removeEventListener("input",An(this,re)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ze){this._focusEventsAllowed&&(super.focusin(ze),ze.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var ze;if(this.width){tr(this,he,Ua).call(this);return}this.enableEditMode(),this.editorDiv.focus(),(ze=this._initialOptions)!=null&&ze.isCentered&&this.center(),this._initialOptions=null}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const ze=An(this,ie),Et=ar(this,ie,tr(this,he,yo).call(this).trimEnd());if(ze===Et)return;const Dt=Ue=>{if(ar(this,ie,Ue),!Ue){this.remove();return}tr(this,he,Ga).call(this),this._uiManager.rebuild(this),tr(this,he,ta).call(this)};this.addCommands({cmd:()=>{Dt(Et)},undo:()=>{Dt(ze)},mustExec:!1}),tr(this,he,ta).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(ze){this.enterInEditMode()}keydown(ze){ze.target===this.div&&ze.key==="Enter"&&(this.enterInEditMode(),ze.preventDefault())}editorDivKeydown(ze){Ne._keyboardManager.exec(this,ze)}editorDivFocus(ze){this.isEditing=!0}editorDivBlur(ze){this.isEditing=!1}editorDivInput(ze){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ze,Et;this.width&&(ze=this.x,Et=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",An(this,le)),this.enableEditing(),$.AnnotationEditor._l10nPromise.get("editor_free_text2_aria_label").then(Ue=>{var qe;return(qe=this.editorDiv)==null?void 0:qe.setAttribute("aria-label",Ue)}),$.AnnotationEditor._l10nPromise.get("free_text2_default_content").then(Ue=>{var qe;return(qe=this.editorDiv)==null?void 0:qe.setAttribute("default-content",Ue)}),this.editorDiv.contentEditable=!0;const{style:Dt}=this.editorDiv;if(Dt.fontSize=`calc(${An(this,ue)}px * var(--scale-factor))`,Dt.color=An(this,oe),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,y.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Ue,qe]=this.parentDimensions;if(this.annotationElementId){const{position:Lt}=An(this,de);let[Pt,At]=this.getInitialTranslation();[Pt,At]=this.pageTranslationToScreen(Pt,At);const[vn,En]=this.pageDimensions,[Sn,kt]=this.pageTranslation;let jt,_n;switch(this.rotation){case 0:jt=ze+(Lt[0]-Sn)/vn,_n=Et+this.height-(Lt[1]-kt)/En;break;case 90:jt=ze+(Lt[0]-Sn)/vn,_n=Et-(Lt[1]-kt)/En,[Pt,At]=[At,-Pt];break;case 180:jt=ze-this.width+(Lt[0]-Sn)/vn,_n=Et-(Lt[1]-kt)/En,[Pt,At]=[-Pt,-At];break;case 270:jt=ze+(Lt[0]-Sn-this.height*En)/vn,_n=Et+(Lt[1]-kt-this.width*vn)/En,[Pt,At]=[-At,Pt];break}this.setAt(jt*Ue,_n*qe,Pt,At)}else this.setAt(ze*Ue,Et*qe,this.width*Ue,this.height*qe);tr(this,he,Ga).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ze,Et,Dt){let Ue=null;if(ze instanceof L.FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Lt,fontColor:Pt},rect:At,rotation:vn,id:En},textContent:Sn,textPosition:kt,parent:{page:{pageNumber:jt}}}=ze;if(!Sn||Sn.length===0)return null;Ue=ze={annotationType:g.AnnotationEditorType.FREETEXT,color:Array.from(Pt),fontSize:Lt,value:Sn.join(`
`),position:kt,pageIndex:jt-1,rect:At,rotation:vn,id:En,deleted:!1}}const qe=super.deserialize(ze,Et,Dt);return ar(qe,ue,ze.fontSize),ar(qe,oe,g.Util.makeHexColor(...ze.color)),ar(qe,ie,ze.value),qe.annotationElementId=ze.id||null,ar(qe,de,Ue),qe}serialize(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const Et=Ne._internalPadding*this.parentScale,Dt=this.getRect(Et,Et),Ue=$.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:An(this,oe)),qe={annotationType:g.AnnotationEditorType.FREETEXT,color:Ue,fontSize:An(this,ue),value:An(this,ie),pageIndex:this.pageIndex,rect:Dt,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return ze?qe:this.annotationElementId&&!tr(this,he,bo).call(this,qe)?null:(qe.id=this.annotationElementId,qe)}};z=new WeakMap,j=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakSet,mo=function(ze){const Et=Ue=>{this.editorDiv.style.fontSize=`calc(${Ue}px * var(--scale-factor))`,this.translate(0,-(Ue-An(this,ue))*this.parentScale),ar(this,ue,Ue),tr(this,he,ta).call(this)},Dt=An(this,ue);this.addCommands({cmd:()=>{Et(ze)},undo:()=>{Et(Dt)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},go=function(ze){const Et=An(this,oe);this.addCommands({cmd:()=>{ar(this,oe,this.editorDiv.style.color=ze)},undo:()=>{ar(this,oe,this.editorDiv.style.color=Et)},mustExec:!0,type:g.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},yo=function(){const ze=this.editorDiv.getElementsByTagName("div");if(ze.length===0)return this.editorDiv.innerText;const Et=[];for(const Dt of ze)Et.push(Dt.innerText.replace(/\r\n?|\n/,""));return Et.join(`
`)},ta=function(){const[ze,Et]=this.parentDimensions;let Dt;if(this.isAttachedToDOM)Dt=this.div.getBoundingClientRect();else{const{currentLayer:Ue,div:qe}=this,Lt=qe.style.display;qe.style.display="hidden",Ue.div.append(this.div),Dt=qe.getBoundingClientRect(),qe.remove(),qe.style.display=Lt}this.rotation%180===this.parentRotation%180?(this.width=Dt.width/ze,this.height=Dt.height/Et):(this.width=Dt.height/ze,this.height=Dt.width/Et),this.fixAndSetPosition()},Ga=function(){if(this.editorDiv.replaceChildren(),!!An(this,ie))for(const ze of An(this,ie).split(`
`)){const Et=document.createElement("div");Et.append(ze?document.createTextNode(ze):document.createElement("br")),this.editorDiv.append(Et)}},bo=function(ze){const{value:Et,fontSize:Dt,color:Ue,rect:qe,pageIndex:Lt}=An(this,de);return ze.value!==Et||ze.fontSize!==Dt||ze.rect.some((Pt,At)=>Math.abs(Pt-qe[At])>=1)||ze.color.some((Pt,At)=>Pt!==Ue[At])||ze.pageIndex!==Lt},Ua=function(){let ze=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(!this.annotationElementId)return;if(tr(this,he,ta).call(this),!ze&&(this.width===0||this.height===0)){setTimeout(()=>tr(this,he,Ua).call(this,!0),0);return}const Et=Ne._internalPadding*this.parentScale;An(this,de).rect=this.getRect(Et,Et)},Dr(Ne,"_freeTextDefaultContent",""),Dr(Ne,"_internalPadding",0),Dr(Ne,"_defaultColor",null),Dr(Ne,"_defaultFontSize",10),Dr(Ne,"_type","freetext");let V=Ne;n.FreeTextEditor=V},(t,n,r)=>{var _n,hn,Ur,So,xn,Mn,bn,Pn,Rn,Fn,Dn,Ln,kn,In,Vn,zn,Kn,jn,Wn,Un,nr,sr,_o,ha,Wa,Ka,ir,gr,Gn,Qn,Nn,Hn,Yn,Ya,Cr,$n,Xn,lr,Co,ja;Object.defineProperty(n,"__esModule",{value:!0}),n.StampAnnotationElement=n.InkAnnotationElement=n.FreeTextAnnotationElement=n.AnnotationLayer=void 0,r(89),r(125),r(136),r(138),r(141),r(143),r(145),r(147);var g=r(1),y=r(168),$=r(163),L=r(199),V=r(200),z=r(201);const j=1e3,re=9,ae=new WeakSet;function oe(er){return{width:er[2]-er[0],height:er[3]-er[1]}}class ie{static create(Bn){switch(Bn.data.annotationType){case g.AnnotationType.LINK:return new ue(Bn);case g.AnnotationType.TEXT:return new de(Bn);case g.AnnotationType.WIDGET:switch(Bn.data.fieldType){case"Tx":return new pe(Bn);case"Btn":return Bn.data.radioButton?new xe(Bn):Bn.data.checkBox?new Ce(Bn):new Ie(Bn);case"Ch":return new $e(Bn);case"Sig":return new _e(Bn)}return new he(Bn);case g.AnnotationType.POPUP:return new Oe(Bn);case g.AnnotationType.FREETEXT:return new Fe(Bn);case g.AnnotationType.LINE:return new Ve(Bn);case g.AnnotationType.SQUARE:return new ze(Bn);case g.AnnotationType.CIRCLE:return new Et(Bn);case g.AnnotationType.POLYLINE:return new Dt(Bn);case g.AnnotationType.CARET:return new qe(Bn);case g.AnnotationType.INK:return new Lt(Bn);case g.AnnotationType.POLYGON:return new Ue(Bn);case g.AnnotationType.HIGHLIGHT:return new Pt(Bn);case g.AnnotationType.UNDERLINE:return new At(Bn);case g.AnnotationType.SQUIGGLY:return new vn(Bn);case g.AnnotationType.STRIKEOUT:return new En(Bn);case g.AnnotationType.STAMP:return new Sn(Bn);case g.AnnotationType.FILEATTACHMENT:return new kt(Bn);default:return new le(Bn)}}}const wn=class wn{constructor(Bn){rr(this,_n,!1);let{isRenderable:On=!1,ignoreBorder:Zn=!1,createQuadrilaterals:qn=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.isRenderable=On,this.data=Bn.data,this.layer=Bn.layer,this.linkService=Bn.linkService,this.downloadManager=Bn.downloadManager,this.imageResourcesPath=Bn.imageResourcesPath,this.renderForms=Bn.renderForms,this.svgFactory=Bn.svgFactory,this.annotationStorage=Bn.annotationStorage,this.enableScripting=Bn.enableScripting,this.hasJSActions=Bn.hasJSActions,this._fieldObjects=Bn.fieldObjects,this.parent=Bn.parent,On&&(this.container=this._createContainer(Zn)),qn&&this._createQuadrilaterals()}static _hasPopupData(Bn){let{titleObj:On,contentsObj:Zn,richText:qn}=Bn;return!!(On!=null&&On.str||Zn!=null&&Zn.str||qn!=null&&qn.str)}get hasPopupData(){return wn._hasPopupData(this.data)}_createContainer(Bn){const{data:On,parent:{page:Zn,viewport:qn}}=this,or=document.createElement("section");or.setAttribute("data-annotation-id",On.id),this instanceof he||(or.tabIndex=j),or.style.zIndex=this.parent.zIndex++,this.data.popupRef&&or.setAttribute("aria-haspopup","dialog"),On.noRotate&&or.classList.add("norotate");const{pageWidth:dr,pageHeight:hr,pageX:wr,pageY:xr}=qn.rawDims;if(!On.rect||this instanceof Oe){const{rotation:Er}=On;return!On.hasOwnCanvas&&Er!==0&&this.setRotation(Er,or),or}const{width:_r,height:Pr}=oe(On.rect),Jn=g.Util.normalizeRect([On.rect[0],Zn.view[3]-On.rect[1]+Zn.view[1],On.rect[2],Zn.view[3]-On.rect[3]+Zn.view[1]]);if(!Bn&&On.borderStyle.width>0){or.style.borderWidth=`${On.borderStyle.width}px`;const Er=On.borderStyle.horizontalCornerRadius,Ar=On.borderStyle.verticalCornerRadius;if(Er>0||Ar>0){const $r=`calc(${Er}px * var(--scale-factor)) / calc(${Ar}px * var(--scale-factor))`;or.style.borderRadius=$r}else if(this instanceof xe){const $r=`calc(${_r}px * var(--scale-factor)) / calc(${Pr}px * var(--scale-factor))`;or.style.borderRadius=$r}switch(On.borderStyle.style){case g.AnnotationBorderStyleType.SOLID:or.style.borderStyle="solid";break;case g.AnnotationBorderStyleType.DASHED:or.style.borderStyle="dashed";break;case g.AnnotationBorderStyleType.BEVELED:(0,g.warn)("Unimplemented border style: beveled");break;case g.AnnotationBorderStyleType.INSET:(0,g.warn)("Unimplemented border style: inset");break;case g.AnnotationBorderStyleType.UNDERLINE:or.style.borderBottomStyle="solid";break}const Ir=On.borderColor||null;Ir?(ar(this,_n,!0),or.style.borderColor=g.Util.makeHexColor(Ir[0]|0,Ir[1]|0,Ir[2]|0)):or.style.borderWidth=0}or.style.left=`${100*(Jn[0]-wr)/dr}%`,or.style.top=`${100*(Jn[1]-xr)/hr}%`;const{rotation:ur}=On;return On.hasOwnCanvas||ur===0?(or.style.width=`${100*_r/dr}%`,or.style.height=`${100*Pr/hr}%`):this.setRotation(ur,or),or}setRotation(Bn){let On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:Zn,pageHeight:qn}=this.parent.viewport.rawDims,{width:or,height:dr}=oe(this.data.rect);let hr,wr;Bn%180===0?(hr=100*or/Zn,wr=100*dr/qn):(hr=100*dr/Zn,wr=100*or/qn),On.style.width=`${hr}%`,On.style.height=`${wr}%`,On.setAttribute("data-main-rotation",(360-Bn)%360)}get _commonActions(){const Bn=(On,Zn,qn)=>{const or=qn.detail[On],dr=or[0],hr=or.slice(1);qn.target.style[Zn]=L.ColorConverters[`${dr}_HTML`](hr),this.annotationStorage.setValue(this.data.id,{[Zn]:L.ColorConverters[`${dr}_rgb`](hr)})};return(0,g.shadow)(this,"_commonActions",{display:On=>{const{display:Zn}=On.detail,qn=Zn%2===1;this.container.style.visibility=qn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:qn,noPrint:Zn===1||Zn===2})},print:On=>{this.annotationStorage.setValue(this.data.id,{noPrint:!On.detail.print})},hidden:On=>{const{hidden:Zn}=On.detail;this.container.style.visibility=Zn?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Zn,noView:Zn})},focus:On=>{setTimeout(()=>On.target.focus({preventScroll:!1}),0)},userName:On=>{On.target.title=On.detail.userName},readonly:On=>{On.target.disabled=On.detail.readonly},required:On=>{this._setRequired(On.target,On.detail.required)},bgColor:On=>{Bn("bgColor","backgroundColor",On)},fillColor:On=>{Bn("fillColor","backgroundColor",On)},fgColor:On=>{Bn("fgColor","color",On)},textColor:On=>{Bn("textColor","color",On)},borderColor:On=>{Bn("borderColor","borderColor",On)},strokeColor:On=>{Bn("strokeColor","borderColor",On)},rotation:On=>{const Zn=On.detail.rotation;this.setRotation(Zn),this.annotationStorage.setValue(this.data.id,{rotation:Zn})}})}_dispatchEventFromSandbox(Bn,On){const Zn=this._commonActions;for(const qn of Object.keys(On.detail)){const or=Bn[qn]||Zn[qn];or==null||or(On)}}_setDefaultPropertiesFromJS(Bn){if(!this.enableScripting)return;const On=this.annotationStorage.getRawValue(this.data.id);if(!On)return;const Zn=this._commonActions;for(const[qn,or]of Object.entries(On)){const dr=Zn[qn];if(dr){const hr={detail:{[qn]:or},target:Bn};dr(hr),delete On[qn]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:Bn}=this.data;if(!Bn)return;const[On,Zn,qn,or]=this.data.rect;if(Bn.length===1){const[,{x:Ar,y:Ir},{x:$r,y:Rr}]=Bn[0];if(qn===Ar&&or===Ir&&On===$r&&Zn===Rr)return}const{style:dr}=this.container;let hr;if(An(this,_n)){const{borderColor:Ar,borderWidth:Ir}=dr;dr.borderWidth=0,hr=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Ar}" stroke-width="${Ir}">`],this.container.classList.add("hasBorder")}const wr=qn-On,xr=or-Zn,{svgFactory:_r}=this,Pr=_r.createElement("svg");Pr.classList.add("quadrilateralsContainer"),Pr.setAttribute("width",0),Pr.setAttribute("height",0);const Jn=_r.createElement("defs");Pr.append(Jn);const ur=_r.createElement("clipPath"),Er=`clippath_${this.data.id}`;ur.setAttribute("id",Er),ur.setAttribute("clipPathUnits","objectBoundingBox"),Jn.append(ur);for(const[,{x:Ar,y:Ir},{x:$r,y:Rr}]of Bn){const Nr=_r.createElement("rect"),Or=($r-On)/wr,Br=(or-Ir)/xr,cr=(Ar-$r)/wr,Tr=(Ir-Rr)/xr;Nr.setAttribute("x",Or),Nr.setAttribute("y",Br),Nr.setAttribute("width",cr),Nr.setAttribute("height",Tr),ur.append(Nr),hr==null||hr.push(`<rect vector-effect="non-scaling-stroke" x="${Or}" y="${Br}" width="${cr}" height="${Tr}"/>`)}An(this,_n)&&(hr.push("</g></svg>')"),dr.backgroundImage=hr.join("")),this.container.append(Pr),this.container.style.clipPath=`url(#${Er})`}_createPopup(){const{container:Bn,data:On}=this;Bn.setAttribute("aria-haspopup","dialog");const Zn=new Oe({data:{color:On.color,titleObj:On.titleObj,modificationDate:On.modificationDate,contentsObj:On.contentsObj,richText:On.richText,parentRect:On.rect,borderStyle:0,id:`popup_${On.id}`,rotation:On.rotation},parent:this.parent,elements:[this]});this.parent.div.append(Zn.render())}render(){(0,g.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(Bn){let On=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const Zn=[];if(this._fieldObjects){const qn=this._fieldObjects[Bn];if(qn)for(const{page:or,id:dr,exportValues:hr}of qn){if(or===-1||dr===On)continue;const wr=typeof hr=="string"?hr:null,xr=document.querySelector(`[data-element-id="${dr}"]`);if(xr&&!ae.has(xr)){(0,g.warn)(`_getElementsByName - element not allowed: ${dr}`);continue}Zn.push({id:dr,exportValue:wr,domElement:xr})}return Zn}for(const qn of document.getElementsByName(Bn)){const{exportValue:or}=qn,dr=qn.getAttribute("data-element-id");dr!==On&&ae.has(qn)&&Zn.push({id:dr,exportValue:or,domElement:qn})}return Zn}show(){var Bn;this.container&&(this.container.hidden=!1),(Bn=this.popup)==null||Bn.maybeShow()}hide(){var Bn;this.container&&(this.container.hidden=!0),(Bn=this.popup)==null||Bn.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const Bn=this.getElementsToTriggerPopup();if(Array.isArray(Bn))for(const On of Bn)On.classList.add("highlightArea");else Bn.classList.add("highlightArea")}_editOnDoubleClick(){const{annotationEditorType:Bn,data:{id:On}}=this;this.container.addEventListener("dblclick",()=>{var Zn;(Zn=this.linkService.eventBus)==null||Zn.dispatch("switchannotationeditormode",{source:this,mode:Bn,editId:On})})}};_n=new WeakMap;let le=wn;class ue extends le{constructor(On){let Zn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;super(On,{isRenderable:!0,ignoreBorder:!!(Zn!=null&&Zn.ignoreBorder),createQuadrilaterals:!0});rr(this,hn);this.isTooltipOnly=On.data.isTooltipOnly}render(){const{data:On,linkService:Zn}=this,qn=document.createElement("a");qn.setAttribute("data-element-id",On.id);let or=!1;return On.url?(Zn.addLinkAttributes(qn,On.url,On.newWindow),or=!0):On.action?(this._bindNamedAction(qn,On.action),or=!0):On.attachment?(this._bindAttachment(qn,On.attachment),or=!0):On.setOCGState?(tr(this,hn,So).call(this,qn,On.setOCGState),or=!0):On.dest?(this._bindLink(qn,On.dest),or=!0):(On.actions&&(On.actions.Action||On.actions["Mouse Up"]||On.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(qn,On),or=!0),On.resetForm?(this._bindResetFormAction(qn,On.resetForm),or=!0):this.isTooltipOnly&&!or&&(this._bindLink(qn,""),or=!0)),this.container.classList.add("linkAnnotation"),or&&this.container.append(qn),this.container}_bindLink(On,Zn){On.href=this.linkService.getDestinationHash(Zn),On.onclick=()=>(Zn&&this.linkService.goToDestination(Zn),!1),(Zn||Zn==="")&&tr(this,hn,Ur).call(this)}_bindNamedAction(On,Zn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>(this.linkService.executeNamedAction(Zn),!1),tr(this,hn,Ur).call(this)}_bindAttachment(On,Zn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>{var qn;return(qn=this.downloadManager)==null||qn.openOrDownloadData(this.container,Zn.content,Zn.filename),!1},tr(this,hn,Ur).call(this)}_bindJSAction(On,Zn){On.href=this.linkService.getAnchorUrl("");const qn=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const or of Object.keys(Zn.actions)){const dr=qn.get(or);dr&&(On[dr]=()=>{var hr;return(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Zn.id,name:or}}),!1})}On.onclick||(On.onclick=()=>!1),tr(this,hn,Ur).call(this)}_bindResetFormAction(On,Zn){const qn=On.onclick;if(qn||(On.href=this.linkService.getAnchorUrl("")),tr(this,hn,Ur).call(this),!this._fieldObjects){(0,g.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),qn||(On.onclick=()=>!1);return}On.onclick=()=>{var Pr;qn==null||qn();const{fields:or,refs:dr,include:hr}=Zn,wr=[];if(or.length!==0||dr.length!==0){const Jn=new Set(dr);for(const ur of or){const Er=this._fieldObjects[ur]||[];for(const{id:Ar}of Er)Jn.add(Ar)}for(const ur of Object.values(this._fieldObjects))for(const Er of ur)Jn.has(Er.id)===hr&&wr.push(Er)}else for(const Jn of Object.values(this._fieldObjects))wr.push(...Jn);const xr=this.annotationStorage,_r=[];for(const Jn of wr){const{id:ur}=Jn;switch(_r.push(ur),Jn.type){case"text":{const Ar=Jn.defaultValue||"";xr.setValue(ur,{value:Ar});break}case"checkbox":case"radiobutton":{const Ar=Jn.defaultValue===Jn.exportValues;xr.setValue(ur,{value:Ar});break}case"combobox":case"listbox":{const Ar=Jn.defaultValue||"";xr.setValue(ur,{value:Ar});break}default:continue}const Er=document.querySelector(`[data-element-id="${ur}"]`);if(Er){if(!ae.has(Er)){(0,g.warn)(`_bindResetFormAction - element not allowed: ${ur}`);continue}}else continue;Er.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((Pr=this.linkService.eventBus)==null||Pr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:_r,name:"ResetForm"}})),!1}}}hn=new WeakSet,Ur=function(){this.container.setAttribute("data-internal-link","")},So=function(On,Zn){On.href=this.linkService.getAnchorUrl(""),On.onclick=()=>(this.linkService.executeSetOCGState(Zn),!1),tr(this,hn,Ur).call(this)};class de extends le{constructor(Bn){super(Bn,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const Bn=document.createElement("img");return Bn.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",Bn.alt="[{{type}} Annotation]",Bn.dataset.l10nId="text_annotation_type",Bn.dataset.l10nArgs=JSON.stringify({type:this.data.name}),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(Bn),this.container}}class he extends le{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}showElementAndHideCanvas(Bn){var On;this.data.hasOwnCanvas&&(((On=Bn.previousSibling)==null?void 0:On.nodeName)==="CANVAS"&&(Bn.previousSibling.hidden=!0),Bn.hidden=!1)}_getKeyModifier(Bn){const{isWin:On,isMac:Zn}=g.FeatureTest.platform;return On&&Bn.ctrlKey||Zn&&Bn.metaKey}_setEventListener(Bn,On,Zn,qn,or){Zn.includes("mouse")?Bn.addEventListener(Zn,dr=>{var hr;(hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qn,value:or(dr),shift:dr.shiftKey,modifier:this._getKeyModifier(dr)}})}):Bn.addEventListener(Zn,dr=>{var hr;if(Zn==="blur"){if(!On.focused||!dr.relatedTarget)return;On.focused=!1}else if(Zn==="focus"){if(On.focused)return;On.focused=!0}or&&((hr=this.linkService.eventBus)==null||hr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:qn,value:or(dr)}}))})}_setEventListeners(Bn,On,Zn,qn){var or,dr,hr;for(const[wr,xr]of Zn)(xr==="Action"||(or=this.data.actions)!=null&&or[xr])&&((xr==="Focus"||xr==="Blur")&&(On||(On={focused:!1})),this._setEventListener(Bn,On,wr,xr,qn),xr==="Focus"&&!((dr=this.data.actions)!=null&&dr.Blur)?this._setEventListener(Bn,On,"blur","Blur",null):xr==="Blur"&&!((hr=this.data.actions)!=null&&hr.Focus)&&this._setEventListener(Bn,On,"focus","Focus",null))}_setBackgroundColor(Bn){const On=this.data.backgroundColor||null;Bn.style.backgroundColor=On===null?"transparent":g.Util.makeHexColor(On[0],On[1],On[2])}_setTextStyle(Bn){const On=["left","center","right"],{fontColor:Zn}=this.data.defaultAppearanceData,qn=this.data.defaultAppearanceData.fontSize||re,or=Bn.style;let dr;const hr=2,wr=xr=>Math.round(10*xr)/10;if(this.data.multiLine){const xr=Math.abs(this.data.rect[3]-this.data.rect[1]-hr),_r=Math.round(xr/(g.LINE_FACTOR*qn))||1,Pr=xr/_r;dr=Math.min(qn,wr(Pr/g.LINE_FACTOR))}else{const xr=Math.abs(this.data.rect[3]-this.data.rect[1]-hr);dr=Math.min(qn,wr(xr/g.LINE_FACTOR))}or.fontSize=`calc(${dr}px * var(--scale-factor))`,or.color=g.Util.makeHexColor(Zn[0],Zn[1],Zn[2]),this.data.textAlignment!==null&&(or.textAlign=On[this.data.textAlignment])}_setRequired(Bn,On){On?Bn.setAttribute("required",!0):Bn.removeAttribute("required"),Bn.setAttribute("aria-required",On)}}class pe extends he{constructor(Bn){const On=Bn.renderForms||!Bn.data.hasAppearance&&!!Bn.data.fieldValue;super(Bn,{isRenderable:On})}setPropertyOnSiblings(Bn,On,Zn,qn){const or=this.annotationStorage;for(const dr of this._getElementsByName(Bn.name,Bn.id))dr.domElement&&(dr.domElement[On]=Zn),or.setValue(dr.id,{[qn]:Zn})}render(){var qn,or;const Bn=this.annotationStorage,On=this.data.id;this.container.classList.add("textWidgetAnnotation");let Zn=null;if(this.renderForms){const dr=Bn.getValue(On,{value:this.data.fieldValue});let hr=dr.value||"";const wr=Bn.getValue(On,{charLimit:this.data.maxLen}).charLimit;wr&&hr.length>wr&&(hr=hr.slice(0,wr));let xr=dr.formattedValue||((qn=this.data.textContent)==null?void 0:qn.join(`
`))||null;xr&&this.data.comb&&(xr=xr.replaceAll(/\s+/g,""));const _r={userValue:hr,formattedValue:xr,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Zn=document.createElement("textarea"),Zn.textContent=xr??hr,this.data.doNotScroll&&(Zn.style.overflowY="hidden")):(Zn=document.createElement("input"),Zn.type="text",Zn.setAttribute("value",xr??hr),this.data.doNotScroll&&(Zn.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Zn.hidden=!0),ae.add(Zn),Zn.setAttribute("data-element-id",On),Zn.disabled=this.data.readOnly,Zn.name=this.data.fieldName,Zn.tabIndex=j,this._setRequired(Zn,this.data.required),wr&&(Zn.maxLength=wr),Zn.addEventListener("input",Jn=>{Bn.setValue(On,{value:Jn.target.value}),this.setPropertyOnSiblings(Zn,"value",Jn.target.value,"value"),_r.formattedValue=null}),Zn.addEventListener("resetform",Jn=>{const ur=this.data.defaultFieldValue??"";Zn.value=_r.userValue=ur,_r.formattedValue=null});let Pr=Jn=>{const{formattedValue:ur}=_r;ur!=null&&(Jn.target.value=ur),Jn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Zn.addEventListener("focus",ur=>{if(_r.focused)return;const{target:Er}=ur;_r.userValue&&(Er.value=_r.userValue),_r.lastCommittedValue=Er.value,_r.commitKey=1,_r.focused=!0}),Zn.addEventListener("updatefromsandbox",ur=>{this.showElementAndHideCanvas(ur.target);const Er={value(Ar){_r.userValue=Ar.detail.value??"",Bn.setValue(On,{value:_r.userValue.toString()}),Ar.target.value=_r.userValue},formattedValue(Ar){const{formattedValue:Ir}=Ar.detail;_r.formattedValue=Ir,Ir!=null&&Ar.target!==document.activeElement&&(Ar.target.value=Ir),Bn.setValue(On,{formattedValue:Ir})},selRange(Ar){Ar.target.setSelectionRange(...Ar.detail.selRange)},charLimit:Ar=>{var Nr;const{charLimit:Ir}=Ar.detail,{target:$r}=Ar;if(Ir===0){$r.removeAttribute("maxLength");return}$r.setAttribute("maxLength",Ir);let Rr=_r.userValue;!Rr||Rr.length<=Ir||(Rr=Rr.slice(0,Ir),$r.value=_r.userValue=Rr,Bn.setValue(On,{value:Rr}),(Nr=this.linkService.eventBus)==null||Nr.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Rr,willCommit:!0,commitKey:1,selStart:$r.selectionStart,selEnd:$r.selectionEnd}}))}};this._dispatchEventFromSandbox(Er,ur)}),Zn.addEventListener("keydown",ur=>{var Ir;_r.commitKey=1;let Er=-1;if(ur.key==="Escape"?Er=0:ur.key==="Enter"&&!this.data.multiLine?Er=2:ur.key==="Tab"&&(_r.commitKey=3),Er===-1)return;const{value:Ar}=ur.target;_r.lastCommittedValue!==Ar&&(_r.lastCommittedValue=Ar,_r.userValue=Ar,(Ir=this.linkService.eventBus)==null||Ir.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Ar,willCommit:!0,commitKey:Er,selStart:ur.target.selectionStart,selEnd:ur.target.selectionEnd}}))});const Jn=Pr;Pr=null,Zn.addEventListener("blur",ur=>{var Ar;if(!_r.focused||!ur.relatedTarget)return;_r.focused=!1;const{value:Er}=ur.target;_r.userValue=Er,_r.lastCommittedValue!==Er&&((Ar=this.linkService.eventBus)==null||Ar.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Er,willCommit:!0,commitKey:_r.commitKey,selStart:ur.target.selectionStart,selEnd:ur.target.selectionEnd}})),Jn(ur)}),(or=this.data.actions)!=null&&or.Keystroke&&Zn.addEventListener("beforeinput",ur=>{var Br;_r.lastCommittedValue=null;const{data:Er,target:Ar}=ur,{value:Ir,selectionStart:$r,selectionEnd:Rr}=Ar;let Nr=$r,Or=Rr;switch(ur.inputType){case"deleteWordBackward":{const cr=Ir.substring(0,$r).match(/\w*[^\w]*$/);cr&&(Nr-=cr[0].length);break}case"deleteWordForward":{const cr=Ir.substring($r).match(/^[^\w]*\w*/);cr&&(Or+=cr[0].length);break}case"deleteContentBackward":$r===Rr&&(Nr-=1);break;case"deleteContentForward":$r===Rr&&(Or+=1);break}ur.preventDefault(),(Br=this.linkService.eventBus)==null||Br.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:Ir,change:Er||"",willCommit:!1,selStart:Nr,selEnd:Or}})}),this._setEventListeners(Zn,_r,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ur=>ur.target.value)}if(Pr&&Zn.addEventListener("blur",Pr),this.data.comb){const ur=(this.data.rect[2]-this.data.rect[0])/wr;Zn.classList.add("comb"),Zn.style.letterSpacing=`calc(${ur}px * var(--scale-factor) - 1ch)`}}else Zn=document.createElement("div"),Zn.textContent=this.data.fieldValue,Zn.style.verticalAlign="middle",Zn.style.display="table-cell";return this._setTextStyle(Zn),this._setBackgroundColor(Zn),this._setDefaultPropertiesFromJS(Zn),this.container.append(Zn),this.container}}class _e extends he{constructor(Bn){super(Bn,{isRenderable:!!Bn.data.hasOwnCanvas})}}class Ce extends he{constructor(Bn){super(Bn,{isRenderable:Bn.renderForms})}render(){const Bn=this.annotationStorage,On=this.data,Zn=On.id;let qn=Bn.getValue(Zn,{value:On.exportValue===On.fieldValue}).value;typeof qn=="string"&&(qn=qn!=="Off",Bn.setValue(Zn,{value:qn})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const or=document.createElement("input");return ae.add(or),or.setAttribute("data-element-id",Zn),or.disabled=On.readOnly,this._setRequired(or,this.data.required),or.type="checkbox",or.name=On.fieldName,qn&&or.setAttribute("checked",!0),or.setAttribute("exportValue",On.exportValue),or.tabIndex=j,or.addEventListener("change",dr=>{const{name:hr,checked:wr}=dr.target;for(const xr of this._getElementsByName(hr,Zn)){const _r=wr&&xr.exportValue===On.exportValue;xr.domElement&&(xr.domElement.checked=_r),Bn.setValue(xr.id,{value:_r})}Bn.setValue(Zn,{value:wr})}),or.addEventListener("resetform",dr=>{const hr=On.defaultFieldValue||"Off";dr.target.checked=hr===On.exportValue}),this.enableScripting&&this.hasJSActions&&(or.addEventListener("updatefromsandbox",dr=>{const hr={value(wr){wr.target.checked=wr.detail.value!=="Off",Bn.setValue(Zn,{value:wr.target.checked})}};this._dispatchEventFromSandbox(hr,dr)}),this._setEventListeners(or,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],dr=>dr.target.checked)),this._setBackgroundColor(or),this._setDefaultPropertiesFromJS(or),this.container.append(or),this.container}}class xe extends he{constructor(Bn){super(Bn,{isRenderable:Bn.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const Bn=this.annotationStorage,On=this.data,Zn=On.id;let qn=Bn.getValue(Zn,{value:On.fieldValue===On.buttonValue}).value;typeof qn=="string"&&(qn=qn!==On.buttonValue,Bn.setValue(Zn,{value:qn}));const or=document.createElement("input");if(ae.add(or),or.setAttribute("data-element-id",Zn),or.disabled=On.readOnly,this._setRequired(or,this.data.required),or.type="radio",or.name=On.fieldName,qn&&or.setAttribute("checked",!0),or.tabIndex=j,or.addEventListener("change",dr=>{const{name:hr,checked:wr}=dr.target;for(const xr of this._getElementsByName(hr,Zn))Bn.setValue(xr.id,{value:!1});Bn.setValue(Zn,{value:wr})}),or.addEventListener("resetform",dr=>{const hr=On.defaultFieldValue;dr.target.checked=hr!=null&&hr===On.buttonValue}),this.enableScripting&&this.hasJSActions){const dr=On.buttonValue;or.addEventListener("updatefromsandbox",hr=>{const wr={value:xr=>{const _r=dr===xr.detail.value;for(const Pr of this._getElementsByName(xr.target.name)){const Jn=_r&&Pr.id===Zn;Pr.domElement&&(Pr.domElement.checked=Jn),Bn.setValue(Pr.id,{value:Jn})}}};this._dispatchEventFromSandbox(wr,hr)}),this._setEventListeners(or,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],hr=>hr.target.checked)}return this._setBackgroundColor(or),this._setDefaultPropertiesFromJS(or),this.container.append(or),this.container}}class Ie extends ue{constructor(Bn){super(Bn,{ignoreBorder:Bn.data.hasAppearance})}render(){const Bn=super.render();Bn.classList.add("buttonWidgetAnnotation","pushButton"),this.data.alternativeText&&(Bn.title=this.data.alternativeText);const On=Bn.lastChild;return this.enableScripting&&this.hasJSActions&&On&&(this._setDefaultPropertiesFromJS(On),On.addEventListener("updatefromsandbox",Zn=>{this._dispatchEventFromSandbox({},Zn)})),Bn}}class $e extends he{constructor(Bn){super(Bn,{isRenderable:Bn.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const Bn=this.annotationStorage,On=this.data.id,Zn=Bn.getValue(On,{value:this.data.fieldValue}),qn=document.createElement("select");ae.add(qn),qn.setAttribute("data-element-id",On),qn.disabled=this.data.readOnly,this._setRequired(qn,this.data.required),qn.name=this.data.fieldName,qn.tabIndex=j;let or=this.data.combo&&this.data.options.length>0;this.data.combo||(qn.size=this.data.options.length,this.data.multiSelect&&(qn.multiple=!0)),qn.addEventListener("resetform",_r=>{const Pr=this.data.defaultFieldValue;for(const Jn of qn.options)Jn.selected=Jn.value===Pr});for(const _r of this.data.options){const Pr=document.createElement("option");Pr.textContent=_r.displayValue,Pr.value=_r.exportValue,Zn.value.includes(_r.exportValue)&&(Pr.setAttribute("selected",!0),or=!1),qn.append(Pr)}let dr=null;if(or){const _r=document.createElement("option");_r.value=" ",_r.setAttribute("hidden",!0),_r.setAttribute("selected",!0),qn.prepend(_r),dr=()=>{_r.remove(),qn.removeEventListener("input",dr),dr=null},qn.addEventListener("input",dr)}const hr=_r=>{const Pr=_r?"value":"textContent",{options:Jn,multiple:ur}=qn;return ur?Array.prototype.filter.call(Jn,Er=>Er.selected).map(Er=>Er[Pr]):Jn.selectedIndex===-1?null:Jn[Jn.selectedIndex][Pr]};let wr=hr(!1);const xr=_r=>{const Pr=_r.target.options;return Array.prototype.map.call(Pr,Jn=>({displayValue:Jn.textContent,exportValue:Jn.value}))};return this.enableScripting&&this.hasJSActions?(qn.addEventListener("updatefromsandbox",_r=>{const Pr={value(Jn){dr==null||dr();const ur=Jn.detail.value,Er=new Set(Array.isArray(ur)?ur:[ur]);for(const Ar of qn.options)Ar.selected=Er.has(Ar.value);Bn.setValue(On,{value:hr(!0)}),wr=hr(!1)},multipleSelection(Jn){qn.multiple=!0},remove(Jn){const ur=qn.options,Er=Jn.detail.remove;ur[Er].selected=!1,qn.remove(Er),ur.length>0&&Array.prototype.findIndex.call(ur,Ir=>Ir.selected)===-1&&(ur[0].selected=!0),Bn.setValue(On,{value:hr(!0),items:xr(Jn)}),wr=hr(!1)},clear(Jn){for(;qn.length!==0;)qn.remove(0);Bn.setValue(On,{value:null,items:[]}),wr=hr(!1)},insert(Jn){const{index:ur,displayValue:Er,exportValue:Ar}=Jn.detail.insert,Ir=qn.children[ur],$r=document.createElement("option");$r.textContent=Er,$r.value=Ar,Ir?Ir.before($r):qn.append($r),Bn.setValue(On,{value:hr(!0),items:xr(Jn)}),wr=hr(!1)},items(Jn){const{items:ur}=Jn.detail;for(;qn.length!==0;)qn.remove(0);for(const Er of ur){const{displayValue:Ar,exportValue:Ir}=Er,$r=document.createElement("option");$r.textContent=Ar,$r.value=Ir,qn.append($r)}qn.options.length>0&&(qn.options[0].selected=!0),Bn.setValue(On,{value:hr(!0),items:xr(Jn)}),wr=hr(!1)},indices(Jn){const ur=new Set(Jn.detail.indices);for(const Er of Jn.target.options)Er.selected=ur.has(Er.index);Bn.setValue(On,{value:hr(!0)}),wr=hr(!1)},editable(Jn){Jn.target.disabled=!Jn.detail.editable}};this._dispatchEventFromSandbox(Pr,_r)}),qn.addEventListener("input",_r=>{var Jn;const Pr=hr(!0);Bn.setValue(On,{value:Pr}),_r.preventDefault(),(Jn=this.linkService.eventBus)==null||Jn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:On,name:"Keystroke",value:wr,changeEx:Pr,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(qn,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],_r=>_r.target.value)):qn.addEventListener("input",function(_r){Bn.setValue(On,{value:hr(!0)})}),this.data.combo&&this._setTextStyle(qn),this._setBackgroundColor(qn),this._setDefaultPropertiesFromJS(qn),this.container.append(qn),this.container}}class Oe extends le{constructor(Bn){const{data:On,elements:Zn}=Bn;super(Bn,{isRenderable:le._hasPopupData(On)}),this.elements=Zn}render(){this.container.classList.add("popupAnnotation");const Bn=new Ne({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),On=[];for(const Zn of this.elements)Zn.popup=Bn,On.push(Zn.data.id),Zn.addHighlightArea();return this.container.setAttribute("aria-controls",On.map(Zn=>`${g.AnnotationPrefix}${Zn}`).join(",")),this.container}}class Ne{constructor(Bn){rr(this,sr);rr(this,xn,null);rr(this,Mn,tr(this,sr,_o).bind(this));rr(this,bn,tr(this,sr,Ka).bind(this));rr(this,Pn,tr(this,sr,Wa).bind(this));rr(this,Rn,tr(this,sr,ha).bind(this));rr(this,Fn,null);rr(this,Dn,null);rr(this,Ln,null);rr(this,kn,null);rr(this,In,null);rr(this,Vn,null);rr(this,zn,!1);rr(this,Kn,null);rr(this,jn,null);rr(this,Wn,null);rr(this,Un,null);rr(this,nr,!1);var Er;let{container:On,color:Zn,elements:qn,titleObj:or,modificationDate:dr,contentsObj:hr,richText:wr,parent:xr,rect:_r,parentRect:Pr,open:Jn}=Bn;ar(this,Dn,On),ar(this,Un,or),ar(this,Ln,hr),ar(this,Wn,wr),ar(this,In,xr),ar(this,Fn,Zn),ar(this,jn,_r),ar(this,Vn,Pr),ar(this,kn,qn);const ur=y.PDFDateString.toDateObject(dr);ur&&ar(this,xn,xr.l10n.get("annotation_date_string",{date:ur.toLocaleDateString(),time:ur.toLocaleTimeString()})),this.trigger=qn.flatMap(Ar=>Ar.getElementsToTriggerPopup());for(const Ar of this.trigger)Ar.addEventListener("click",An(this,Rn)),Ar.addEventListener("mouseenter",An(this,Pn)),Ar.addEventListener("mouseleave",An(this,bn)),Ar.classList.add("popupTriggerArea");for(const Ar of qn)(Er=Ar.container)==null||Er.addEventListener("keydown",An(this,Mn));An(this,Dn).hidden=!0,Jn&&tr(this,sr,ha).call(this)}render(){if(An(this,Kn))return;const{page:{view:Bn},viewport:{rawDims:{pageWidth:On,pageHeight:Zn,pageX:qn,pageY:or}}}=An(this,In),dr=ar(this,Kn,document.createElement("div"));if(dr.className="popup",An(this,Fn)){const Nr=dr.style.outlineColor=g.Util.makeHexColor(...An(this,Fn));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?dr.style.backgroundColor=`color-mix(in srgb, ${Nr} 30%, white)`:dr.style.backgroundColor=g.Util.makeHexColor(...An(this,Fn).map(Br=>Math.floor(.7*(255-Br)+Br)))}const hr=document.createElement("span");hr.className="header";const wr=document.createElement("h1");if(hr.append(wr),{dir:wr.dir,str:wr.textContent}=An(this,Un),dr.append(hr),An(this,xn)){const Nr=document.createElement("span");Nr.classList.add("popupDate"),An(this,xn).then(Or=>{Nr.textContent=Or}),hr.append(Nr)}const xr=An(this,Ln),_r=An(this,Wn);if(_r!=null&&_r.str&&(!(xr!=null&&xr.str)||xr.str===_r.str))z.XfaLayer.render({xfaHtml:_r.html,intent:"richText",div:dr}),dr.lastChild.classList.add("richText","popupContent");else{const Nr=this._formatContents(xr);dr.append(Nr)}let Pr=!!An(this,Vn),Jn=Pr?An(this,Vn):An(this,jn);for(const Nr of An(this,kn))if(!Jn||g.Util.intersect(Nr.data.rect,Jn)!==null){Jn=Nr.data.rect,Pr=!0;break}const ur=g.Util.normalizeRect([Jn[0],Bn[3]-Jn[1]+Bn[1],Jn[2],Bn[3]-Jn[3]+Bn[1]]),Ar=Pr?Jn[2]-Jn[0]+5:0,Ir=ur[0]+Ar,$r=ur[1],{style:Rr}=An(this,Dn);Rr.left=`${100*(Ir-qn)/On}%`,Rr.top=`${100*($r-or)/Zn}%`,An(this,Dn).append(dr)}_formatContents(Bn){let{str:On,dir:Zn}=Bn;const qn=document.createElement("p");qn.classList.add("popupContent"),qn.dir=Zn;const or=On.split(/(?:\r\n?|\n)/);for(let dr=0,hr=or.length;dr<hr;++dr){const wr=or[dr];qn.append(document.createTextNode(wr)),dr<hr-1&&qn.append(document.createElement("br"))}return qn}forceHide(){ar(this,nr,this.isVisible),An(this,nr)&&(An(this,Dn).hidden=!0)}maybeShow(){An(this,nr)&&(ar(this,nr,!1),An(this,Dn).hidden=!1)}get isVisible(){return An(this,Dn).hidden===!1}}xn=new WeakMap,Mn=new WeakMap,bn=new WeakMap,Pn=new WeakMap,Rn=new WeakMap,Fn=new WeakMap,Dn=new WeakMap,Ln=new WeakMap,kn=new WeakMap,In=new WeakMap,Vn=new WeakMap,zn=new WeakMap,Kn=new WeakMap,jn=new WeakMap,Wn=new WeakMap,Un=new WeakMap,nr=new WeakMap,sr=new WeakSet,_o=function(Bn){Bn.altKey||Bn.shiftKey||Bn.ctrlKey||Bn.metaKey||(Bn.key==="Enter"||Bn.key==="Escape"&&An(this,zn))&&tr(this,sr,ha).call(this)},ha=function(){ar(this,zn,!An(this,zn)),An(this,zn)?(tr(this,sr,Wa).call(this),An(this,Dn).addEventListener("click",An(this,Rn)),An(this,Dn).addEventListener("keydown",An(this,Mn))):(tr(this,sr,Ka).call(this),An(this,Dn).removeEventListener("click",An(this,Rn)),An(this,Dn).removeEventListener("keydown",An(this,Mn)))},Wa=function(){An(this,Kn)||this.render(),this.isVisible?An(this,zn)&&An(this,Dn).classList.add("focused"):(An(this,Dn).hidden=!1,An(this,Dn).style.zIndex=parseInt(An(this,Dn).style.zIndex)+1e3)},Ka=function(){An(this,Dn).classList.remove("focused"),!(An(this,zn)||!this.isVisible)&&(An(this,Dn).hidden=!0,An(this,Dn).style.zIndex=parseInt(An(this,Dn).style.zIndex)-1e3)};class Fe extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0}),this.textContent=Bn.data.textContent,this.textPosition=Bn.data.textPosition,this.annotationEditorType=g.AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const Bn=document.createElement("div");Bn.classList.add("annotationTextContent"),Bn.setAttribute("role","comment");for(const On of this.textContent){const Zn=document.createElement("span");Zn.textContent=On,Bn.append(Zn)}this.container.append(Bn)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}n.FreeTextAnnotationElement=Fe;class Ve extends le{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});rr(this,ir,null)}render(){this.container.classList.add("lineAnnotation");const On=this.data,{width:Zn,height:qn}=oe(On.rect),or=this.svgFactory.create(Zn,qn,!0),dr=ar(this,ir,this.svgFactory.createElement("svg:line"));return dr.setAttribute("x1",On.rect[2]-On.lineCoordinates[0]),dr.setAttribute("y1",On.rect[3]-On.lineCoordinates[1]),dr.setAttribute("x2",On.rect[2]-On.lineCoordinates[2]),dr.setAttribute("y2",On.rect[3]-On.lineCoordinates[3]),dr.setAttribute("stroke-width",On.borderStyle.width||1),dr.setAttribute("stroke","transparent"),dr.setAttribute("fill","transparent"),or.append(dr),this.container.append(or),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return An(this,ir)}addHighlightArea(){this.container.classList.add("highlightArea")}}ir=new WeakMap;class ze extends le{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});rr(this,gr,null)}render(){this.container.classList.add("squareAnnotation");const On=this.data,{width:Zn,height:qn}=oe(On.rect),or=this.svgFactory.create(Zn,qn,!0),dr=On.borderStyle.width,hr=ar(this,gr,this.svgFactory.createElement("svg:rect"));return hr.setAttribute("x",dr/2),hr.setAttribute("y",dr/2),hr.setAttribute("width",Zn-dr),hr.setAttribute("height",qn-dr),hr.setAttribute("stroke-width",dr||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),or.append(hr),this.container.append(or),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return An(this,gr)}addHighlightArea(){this.container.classList.add("highlightArea")}}gr=new WeakMap;class Et extends le{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});rr(this,Gn,null)}render(){this.container.classList.add("circleAnnotation");const On=this.data,{width:Zn,height:qn}=oe(On.rect),or=this.svgFactory.create(Zn,qn,!0),dr=On.borderStyle.width,hr=ar(this,Gn,this.svgFactory.createElement("svg:ellipse"));return hr.setAttribute("cx",Zn/2),hr.setAttribute("cy",qn/2),hr.setAttribute("rx",Zn/2-dr/2),hr.setAttribute("ry",qn/2-dr/2),hr.setAttribute("stroke-width",dr||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),or.append(hr),this.container.append(or),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return An(this,Gn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gn=new WeakMap;class Dt extends le{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});rr(this,Qn,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const On=this.data,{width:Zn,height:qn}=oe(On.rect),or=this.svgFactory.create(Zn,qn,!0);let dr=[];for(const wr of On.vertices){const xr=wr.x-On.rect[0],_r=On.rect[3]-wr.y;dr.push(xr+","+_r)}dr=dr.join(" ");const hr=ar(this,Qn,this.svgFactory.createElement(this.svgElementName));return hr.setAttribute("points",dr),hr.setAttribute("stroke-width",On.borderStyle.width||1),hr.setAttribute("stroke","transparent"),hr.setAttribute("fill","transparent"),or.append(hr),this.container.append(or),!On.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return An(this,Qn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qn=new WeakMap;class Ue extends Dt{constructor(Bn){super(Bn),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class qe extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}class Lt extends le{constructor(On){super(On,{isRenderable:!0,ignoreBorder:!0});rr(this,Nn,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=g.AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const On=this.data,{width:Zn,height:qn}=oe(On.rect),or=this.svgFactory.create(Zn,qn,!0);for(const dr of On.inkLists){let hr=[];for(const xr of dr){const _r=xr.x-On.rect[0],Pr=On.rect[3]-xr.y;hr.push(`${_r},${Pr}`)}hr=hr.join(" ");const wr=this.svgFactory.createElement(this.svgElementName);An(this,Nn).push(wr),wr.setAttribute("points",hr),wr.setAttribute("stroke-width",On.borderStyle.width||1),wr.setAttribute("stroke","transparent"),wr.setAttribute("fill","transparent"),!On.popupRef&&this.hasPopupData&&this._createPopup(),or.append(wr)}return this.container.append(or),this.container}getElementsToTriggerPopup(){return An(this,Nn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Nn=new WeakMap,n.InkAnnotationElement=Lt;class Pt extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class At extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class vn extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class En extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class Sn extends le{constructor(Bn){super(Bn,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}n.StampAnnotationElement=Sn;class kt extends le{constructor(On){var or;super(On,{isRenderable:!0});rr(this,Yn);rr(this,Hn,null);const{filename:Zn,content:qn}=this.data.file;this.filename=(0,y.getFilenameFromUrl)(Zn,!0),this.content=qn,(or=this.linkService.eventBus)==null||or.dispatch("fileattachmentannotation",{source:this,filename:Zn,content:qn})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:On,data:Zn}=this;let qn;Zn.hasAppearance||Zn.fillAlpha===0?qn=document.createElement("div"):(qn=document.createElement("img"),qn.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Zn.name)?"paperclip":"pushpin"}.svg`,Zn.fillAlpha&&Zn.fillAlpha<1&&(qn.style=`filter: opacity(${Math.round(Zn.fillAlpha*100)}%);`)),qn.addEventListener("dblclick",tr(this,Yn,Ya).bind(this)),ar(this,Hn,qn);const{isMac:or}=g.FeatureTest.platform;return On.addEventListener("keydown",dr=>{dr.key==="Enter"&&(or?dr.metaKey:dr.ctrlKey)&&tr(this,Yn,Ya).call(this)}),!Zn.popupRef&&this.hasPopupData?this._createPopup():qn.classList.add("popupTriggerArea"),On.append(qn),On}getElementsToTriggerPopup(){return An(this,Hn)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hn=new WeakMap,Yn=new WeakSet,Ya=function(){var On;(On=this.downloadManager)==null||On.openOrDownloadData(this.container,this.content,this.filename)};class jt{constructor(Bn){rr(this,lr);rr(this,Cr,null);rr(this,$n,null);rr(this,Xn,new Map);let{div:On,accessibilityManager:Zn,annotationCanvasMap:qn,l10n:or,page:dr,viewport:hr}=Bn;this.div=On,ar(this,Cr,Zn),ar(this,$n,qn),this.l10n=or,this.page=dr,this.viewport=hr,this.zIndex=0,this.l10n||(this.l10n=V.NullL10n)}async render(Bn){const{annotations:On}=Bn,Zn=this.div;(0,y.setLayerDimensions)(Zn,this.viewport);const qn=new Map,or={data:null,layer:Zn,linkService:Bn.linkService,downloadManager:Bn.downloadManager,imageResourcesPath:Bn.imageResourcesPath||"",renderForms:Bn.renderForms!==!1,svgFactory:new y.DOMSVGFactory,annotationStorage:Bn.annotationStorage||new $.AnnotationStorage,enableScripting:Bn.enableScripting===!0,hasJSActions:Bn.hasJSActions,fieldObjects:Bn.fieldObjects,parent:this,elements:null};for(const dr of On){if(dr.noHTML)continue;const hr=dr.annotationType===g.AnnotationType.POPUP;if(hr){const _r=qn.get(dr.id);if(!_r)continue;or.elements=_r}else{const{width:_r,height:Pr}=oe(dr.rect);if(_r<=0||Pr<=0)continue}or.data=dr;const wr=ie.create(or);if(!wr.isRenderable)continue;if(!hr&&dr.popupRef){const _r=qn.get(dr.popupRef);_r?_r.push(wr):qn.set(dr.popupRef,[wr])}wr.annotationEditorType>0&&An(this,Xn).set(wr.data.id,wr);const xr=wr.render();dr.hidden&&(xr.style.visibility="hidden"),tr(this,lr,Co).call(this,xr,dr.id)}tr(this,lr,ja).call(this),await this.l10n.translate(Zn)}update(Bn){let{viewport:On}=Bn;const Zn=this.div;this.viewport=On,(0,y.setLayerDimensions)(Zn,{rotation:On.rotation}),tr(this,lr,ja).call(this),Zn.hidden=!1}getEditableAnnotations(){return Array.from(An(this,Xn).values())}getEditableAnnotation(Bn){return An(this,Xn).get(Bn)}}Cr=new WeakMap,$n=new WeakMap,Xn=new WeakMap,lr=new WeakSet,Co=function(Bn,On){var qn;const Zn=Bn.firstChild||Bn;Zn.id=`${g.AnnotationPrefix}${On}`,this.div.append(Bn),(qn=An(this,Cr))==null||qn.moveElementInDOM(this.div,Bn,Zn,!1)},ja=function(){if(!An(this,$n))return;const Bn=this.div;for(const[On,Zn]of An(this,$n)){const qn=Bn.querySelector(`[data-annotation-id="${On}"]`);if(!qn)continue;const{firstChild:or}=qn;or?or.nodeName==="CANVAS"?or.replaceWith(Zn):or.before(Zn):qn.append(Zn)}An(this,$n).clear()},n.AnnotationLayer=jt},(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.ColorConverters=void 0;function r($){return Math.floor(Math.max(0,Math.min(1,$))*255).toString(16).padStart(2,"0")}function g($){return Math.max(0,Math.min(255,255*$))}class y{static CMYK_G(L){let[V,z,j,re]=L;return["G",1-Math.min(1,.3*V+.59*j+.11*z+re)]}static G_CMYK(L){let[V]=L;return["CMYK",0,0,0,1-V]}static G_RGB(L){let[V]=L;return["RGB",V,V,V]}static G_rgb(L){let[V]=L;return V=g(V),[V,V,V]}static G_HTML(L){let[V]=L;const z=r(V);return`#${z}${z}${z}`}static RGB_G(L){let[V,z,j]=L;return["G",.3*V+.59*z+.11*j]}static RGB_rgb(L){return L.map(g)}static RGB_HTML(L){return`#${L.map(r).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(L){let[V,z,j,re]=L;return["RGB",1-Math.min(1,V+re),1-Math.min(1,j+re),1-Math.min(1,z+re)]}static CMYK_rgb(L){let[V,z,j,re]=L;return[g(1-Math.min(1,V+re)),g(1-Math.min(1,j+re)),g(1-Math.min(1,z+re))]}static CMYK_HTML(L){const V=this.CMYK_RGB(L).slice(1);return this.RGB_HTML(V)}static RGB_CMYK(L){let[V,z,j]=L;const re=1-V,ae=1-z,oe=1-j,ie=Math.min(re,ae,oe);return["CMYK",re,ae,oe,ie]}}n.ColorConverters=y},(t,n)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.NullL10n=void 0,n.getL10nFallback=g;const r={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}}  {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}}  {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",rendering_error:"An error occurred while rendering the page.",annotation_date_string:"{{date}}, {{time}}",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts.",free_text2_default_content:"Start typing",editor_free_text2_aria_label:"Text Editor",editor_ink2_aria_label:"Draw Editor",editor_ink_canvas_aria_label:"User-created image",editor_alt_text_button_label:"Alt text",editor_alt_text_edit_button_label:"Edit alt text",editor_alt_text_decorative_tooltip:"Marked as decorative"};r.print_progress_percent="{{progress}}%";function g(L,V){switch(L){case"find_match_count":L=`find_match_count[${V.total===1?"one":"other"}]`;break;case"find_match_count_limit":L=`find_match_count_limit[${V.limit===1?"one":"other"}]`;break}return r[L]||""}function y(L,V){return V?L.replaceAll(/\{\{\s*(\w+)\s*\}\}/g,(z,j)=>j in V?V[j]:"{{"+j+"}}"):L}const $={async getLanguage(){return"en-us"},async getDirection(){return"ltr"},async get(L){let V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g(L,V);return y(z,V)},async translate(L){}};n.NullL10n=$},(t,n,r)=>{Object.defineProperty(n,"__esModule",{value:!0}),n.XfaLayer=void 0,r(89);var g=r(194);class y{static setupStorage(L,V,z,j,re){const ae=j.getValue(V,{value:null});switch(z.name){case"textarea":if(ae.value!==null&&(L.textContent=ae.value),re==="print")break;L.addEventListener("input",oe=>{j.setValue(V,{value:oe.target.value})});break;case"input":if(z.attributes.type==="radio"||z.attributes.type==="checkbox"){if(ae.value===z.attributes.xfaOn?L.setAttribute("checked",!0):ae.value===z.attributes.xfaOff&&L.removeAttribute("checked"),re==="print")break;L.addEventListener("change",oe=>{j.setValue(V,{value:oe.target.checked?oe.target.getAttribute("xfaOn"):oe.target.getAttribute("xfaOff")})})}else{if(ae.value!==null&&L.setAttribute("value",ae.value),re==="print")break;L.addEventListener("input",oe=>{j.setValue(V,{value:oe.target.value})})}break;case"select":if(ae.value!==null){L.setAttribute("value",ae.value);for(const oe of z.children)oe.attributes.value===ae.value?oe.attributes.selected=!0:oe.attributes.hasOwnProperty("selected")&&delete oe.attributes.selected}L.addEventListener("input",oe=>{const ie=oe.target.options,le=ie.selectedIndex===-1?"":ie[ie.selectedIndex].value;j.setValue(V,{value:le})});break}}static setAttributes(L){let{html:V,element:z,storage:j=null,intent:re,linkService:ae}=L;const{attributes:oe}=z,ie=V instanceof HTMLAnchorElement;oe.type==="radio"&&(oe.name=`${oe.name}-${re}`);for(const[le,ue]of Object.entries(oe))if(ue!=null)switch(le){case"class":ue.length&&V.setAttribute(le,ue.join(" "));break;case"dataId":break;case"id":V.setAttribute("data-element-id",ue);break;case"style":Object.assign(V.style,ue);break;case"textContent":V.textContent=ue;break;default:(!ie||le!=="href"&&le!=="newWindow")&&V.setAttribute(le,ue)}ie&&ae.addLinkAttributes(V,oe.href,oe.newWindow),j&&oe.dataId&&this.setupStorage(V,oe.dataId,z,j)}static render(L){var ue;const V=L.annotationStorage,z=L.linkService,j=L.xfaHtml,re=L.intent||"display",ae=document.createElement(j.name);j.attributes&&this.setAttributes({html:ae,element:j,intent:re,linkService:z});const oe=[[j,-1,ae]],ie=L.div;if(ie.append(ae),L.viewport){const de=`matrix(${L.viewport.transform.join(",")})`;ie.style.transform=de}re!=="richText"&&ie.setAttribute("class","xfaLayer xfaFont");const le=[];for(;oe.length>0;){const[de,he,pe]=oe.at(-1);if(he+1===de.children.length){oe.pop();continue}const _e=de.children[++oe.at(-1)[1]];if(_e===null)continue;const{name:Ce}=_e;if(Ce==="#text"){const Ie=document.createTextNode(_e.value);le.push(Ie),pe.append(Ie);continue}const xe=(ue=_e==null?void 0:_e.attributes)!=null&&ue.xmlns?document.createElementNS(_e.attributes.xmlns,Ce):document.createElement(Ce);if(pe.append(xe),_e.attributes&&this.setAttributes({html:xe,element:_e,storage:V,intent:re,linkService:z}),_e.children&&_e.children.length>0)oe.push([_e,-1,xe]);else if(_e.value){const Ie=document.createTextNode(_e.value);g.XfaText.shouldBuildText(Ce)&&le.push(Ie),xe.append(Ie)}}for(const de of ie.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))de.setAttribute("readOnly",!0);return{textDivs:le}}static update(L){const V=`matrix(${L.viewport.transform.join(",")})`;L.div.style.transform=V,L.div.hidden=!1}}n.XfaLayer=y},(t,n,r)=>{var j,re,ae,oe,ie,le,ue,de,he,pe,_e,Ce,xe,Ie,$e,Eo,To,wo,Ao,Xa,xo,Za,Po,ko,Io,Mo,$o,zr,qa,pa,va,jr,Ja,ma,hn,No,Qa,Ro,Do,eo,ga,Xr;Object.defineProperty(n,"__esModule",{value:!0}),n.InkEditor=void 0,r(89),r(2);var g=r(1),y=r(164),$=r(198),L=r(168),V=r(165);const Fn=class Fn extends y.AnnotationEditor{constructor(kn){super({...kn,name:"inkEditor"});rr(this,$e);rr(this,j,0);rr(this,re,0);rr(this,ae,this.canvasPointermove.bind(this));rr(this,oe,this.canvasPointerleave.bind(this));rr(this,ie,this.canvasPointerup.bind(this));rr(this,le,this.canvasPointerdown.bind(this));rr(this,ue,new Path2D);rr(this,de,!1);rr(this,he,!1);rr(this,pe,!1);rr(this,_e,null);rr(this,Ce,0);rr(this,xe,0);rr(this,Ie,null);this.color=kn.color||null,this.thickness=kn.thickness||null,this.opacity=kn.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(kn){y.AnnotationEditor.initialize(kn,{strings:["editor_ink_canvas_aria_label","editor_ink2_aria_label"]})}static updateDefaultParams(kn,In){switch(kn){case g.AnnotationEditorParamsType.INK_THICKNESS:Fn._defaultThickness=In;break;case g.AnnotationEditorParamsType.INK_COLOR:Fn._defaultColor=In;break;case g.AnnotationEditorParamsType.INK_OPACITY:Fn._defaultOpacity=In/100;break}}updateParams(kn,In){switch(kn){case g.AnnotationEditorParamsType.INK_THICKNESS:tr(this,$e,Eo).call(this,In);break;case g.AnnotationEditorParamsType.INK_COLOR:tr(this,$e,To).call(this,In);break;case g.AnnotationEditorParamsType.INK_OPACITY:tr(this,$e,wo).call(this,In);break}}static get defaultPropertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,Fn._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,Fn._defaultColor||y.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(Fn._defaultOpacity*100)]]}get propertiesToUpdate(){return[[g.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Fn._defaultThickness],[g.AnnotationEditorParamsType.INK_COLOR,this.color||Fn._defaultColor||y.AnnotationEditor._defaultLineColor],[g.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Fn._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(tr(this,$e,pa).call(this),tr(this,$e,va).call(this)),this.isAttachedToDOM||(this.parent.add(this),tr(this,$e,jr).call(this)),tr(this,$e,Xr).call(this)))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,An(this,_e).disconnect(),ar(this,_e,null),super.remove())}setParent(kn){!this.parent&&kn?this._uiManager.removeShouldRescale(this):this.parent&&kn===null&&this._uiManager.addShouldRescale(this),super.setParent(kn)}onScaleChanging(){const[kn,In]=this.parentDimensions,Vn=this.width*kn,zn=this.height*In;this.setDimensions(Vn,zn)}enableEditMode(){An(this,de)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",An(this,le)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",An(this,le)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){An(this,de)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),ar(this,de,!0),this.div.classList.add("disabled"),tr(this,$e,Xr).call(this,!0),this.makeResizable(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(kn){this._focusEventsAllowed&&(super.focusin(kn),this.enableEditMode())}canvasPointerdown(kn){kn.button!==0||!this.isInEditMode()||An(this,de)||(this.setInForeground(),kn.preventDefault(),kn.type!=="mouse"&&this.div.focus(),tr(this,$e,xo).call(this,kn.offsetX,kn.offsetY))}canvasPointermove(kn){kn.preventDefault(),tr(this,$e,Za).call(this,kn.offsetX,kn.offsetY)}canvasPointerup(kn){kn.preventDefault(),tr(this,$e,qa).call(this,kn)}canvasPointerleave(kn){tr(this,$e,qa).call(this,kn)}get isResizable(){return!this.isEmpty()&&An(this,de)}render(){if(this.div)return this.div;let kn,In;this.width&&(kn=this.x,In=this.y),super.render(),y.AnnotationEditor._l10nPromise.get("editor_ink2_aria_label").then(Wn=>{var Un;return(Un=this.div)==null?void 0:Un.setAttribute("aria-label",Wn)});const[Vn,zn,Kn,jn]=tr(this,$e,Ao).call(this);if(this.setAt(Vn,zn,0,0),this.setDims(Kn,jn),tr(this,$e,pa).call(this),this.width){const[Wn,Un]=this.parentDimensions;this.setAspectRatio(this.width*Wn,this.height*Un),this.setAt(kn*Wn,In*Un,this.width*Wn,this.height*Un),ar(this,pe,!0),tr(this,$e,jr).call(this),this.setDims(this.width*Wn,this.height*Un),tr(this,$e,zr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return tr(this,$e,va).call(this),this.div}setDimensions(kn,In){const Vn=Math.round(kn),zn=Math.round(In);if(An(this,Ce)===Vn&&An(this,xe)===zn)return;ar(this,Ce,Vn),ar(this,xe,zn),this.canvas.style.visibility="hidden";const[Kn,jn]=this.parentDimensions;this.width=kn/Kn,this.height=In/jn,this.fixAndSetPosition(),An(this,de)&&tr(this,$e,Ja).call(this,kn,In),tr(this,$e,jr).call(this),tr(this,$e,zr).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(kn,In,Vn){var ir,gr,Gn;if(kn instanceof $.InkAnnotationElement)return null;const zn=super.deserialize(kn,In,Vn);zn.thickness=kn.thickness,zn.color=g.Util.makeHexColor(...kn.color),zn.opacity=kn.opacity;const[Kn,jn]=zn.pageDimensions,Wn=zn.width*Kn,Un=zn.height*jn,nr=zn.parentScale,sr=kn.thickness/2;ar(zn,de,!0),ar(zn,Ce,Math.round(Wn)),ar(zn,xe,Math.round(Un));const{paths:mr,rect:vr,rotation:Sr}=kn;for(let{bezier:Qn}of mr){Qn=tr(ir=Fn,hn,Ro).call(ir,Qn,vr,Sr);const Nn=[];zn.paths.push(Nn);let Hn=nr*(Qn[0]-sr),Yn=nr*(Qn[1]-sr);for(let Cr=2,$n=Qn.length;Cr<$n;Cr+=6){const Xn=nr*(Qn[Cr]-sr),lr=nr*(Qn[Cr+1]-sr),fr=nr*(Qn[Cr+2]-sr),br=nr*(Qn[Cr+3]-sr),er=nr*(Qn[Cr+4]-sr),Bn=nr*(Qn[Cr+5]-sr);Nn.push([[Hn,Yn],[Xn,lr],[fr,br],[er,Bn]]),Hn=er,Yn=Bn}const pr=tr(this,hn,No).call(this,Nn);zn.bezierPath2D.push(pr)}const yr=tr(gr=zn,$e,eo).call(gr);return ar(zn,re,Math.max(y.AnnotationEditor.MIN_SIZE,yr[2]-yr[0])),ar(zn,j,Math.max(y.AnnotationEditor.MIN_SIZE,yr[3]-yr[1])),tr(Gn=zn,$e,Ja).call(Gn,Wn,Un),zn}serialize(){if(this.isEmpty())return null;const kn=this.getRect(0,0),In=y.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:g.AnnotationEditorType.INK,color:In,thickness:this.thickness,opacity:this.opacity,paths:tr(this,$e,Do).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,kn),pageIndex:this.pageIndex,rect:kn,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};j=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakMap,_e=new WeakMap,Ce=new WeakMap,xe=new WeakMap,Ie=new WeakMap,$e=new WeakSet,Eo=function(kn){const In=this.thickness;this.addCommands({cmd:()=>{this.thickness=kn,tr(this,$e,Xr).call(this)},undo:()=>{this.thickness=In,tr(this,$e,Xr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},To=function(kn){const In=this.color;this.addCommands({cmd:()=>{this.color=kn,tr(this,$e,zr).call(this)},undo:()=>{this.color=In,tr(this,$e,zr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},wo=function(kn){kn/=100;const In=this.opacity;this.addCommands({cmd:()=>{this.opacity=kn,tr(this,$e,zr).call(this)},undo:()=>{this.opacity=In,tr(this,$e,zr).call(this)},mustExec:!0,type:g.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},Ao=function(){const{parentRotation:kn,parentDimensions:[In,Vn]}=this;switch(kn){case 90:return[0,Vn,Vn,In];case 180:return[In,Vn,In,Vn];case 270:return[In,0,Vn,In];default:return[0,0,In,Vn]}},Xa=function(){const{ctx:kn,color:In,opacity:Vn,thickness:zn,parentScale:Kn,scaleFactor:jn}=this;kn.lineWidth=zn*Kn/jn,kn.lineCap="round",kn.lineJoin="round",kn.miterLimit=10,kn.strokeStyle=`${In}${(0,V.opacityToHex)(Vn)}`},xo=function(kn,In){this.canvas.addEventListener("contextmenu",L.noContextMenu),this.canvas.addEventListener("pointerleave",An(this,oe)),this.canvas.addEventListener("pointermove",An(this,ae)),this.canvas.addEventListener("pointerup",An(this,ie)),this.canvas.removeEventListener("pointerdown",An(this,le)),this.isEditing=!0,An(this,pe)||(ar(this,pe,!0),tr(this,$e,jr).call(this),this.thickness||(this.thickness=Fn._defaultThickness),this.color||(this.color=Fn._defaultColor||y.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Fn._defaultOpacity)),this.currentPath.push([kn,In]),ar(this,he,!1),tr(this,$e,Xa).call(this),ar(this,Ie,()=>{tr(this,$e,Io).call(this),An(this,Ie)&&window.requestAnimationFrame(An(this,Ie))}),window.requestAnimationFrame(An(this,Ie))},Za=function(kn,In){const[Vn,zn]=this.currentPath.at(-1);if(this.currentPath.length>1&&kn===Vn&&In===zn)return;const Kn=this.currentPath;let jn=An(this,ue);if(Kn.push([kn,In]),ar(this,he,!0),Kn.length<=2){jn.moveTo(...Kn[0]),jn.lineTo(kn,In);return}Kn.length===3&&(ar(this,ue,jn=new Path2D),jn.moveTo(...Kn[0])),tr(this,$e,Mo).call(this,jn,...Kn.at(-3),...Kn.at(-2),kn,In)},Po=function(){if(this.currentPath.length===0)return;const kn=this.currentPath.at(-1);An(this,ue).lineTo(...kn)},ko=function(kn,In){ar(this,Ie,null),kn=Math.min(Math.max(kn,0),this.canvas.width),In=Math.min(Math.max(In,0),this.canvas.height),tr(this,$e,Za).call(this,kn,In),tr(this,$e,Po).call(this);let Vn;if(this.currentPath.length!==1)Vn=tr(this,$e,$o).call(this);else{const Un=[kn,In];Vn=[[Un,Un.slice(),Un.slice(),Un]]}const zn=An(this,ue),Kn=this.currentPath;this.currentPath=[],ar(this,ue,new Path2D);const jn=()=>{this.allRawPaths.push(Kn),this.paths.push(Vn),this.bezierPath2D.push(zn),this.rebuild()},Wn=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(tr(this,$e,pa).call(this),tr(this,$e,va).call(this)),tr(this,$e,Xr).call(this))};this.addCommands({cmd:jn,undo:Wn,mustExec:!0})},Io=function(){if(!An(this,he))return;ar(this,he,!1);const kn=Math.ceil(this.thickness*this.parentScale),In=this.currentPath.slice(-3),Vn=In.map(jn=>jn[0]),zn=In.map(jn=>jn[1]);Math.min(...Vn)-kn,Math.max(...Vn)+kn,Math.min(...zn)-kn,Math.max(...zn)+kn;const{ctx:Kn}=this;Kn.save(),Kn.clearRect(0,0,this.canvas.width,this.canvas.height);for(const jn of this.bezierPath2D)Kn.stroke(jn);Kn.stroke(An(this,ue)),Kn.restore()},Mo=function(kn,In,Vn,zn,Kn,jn,Wn){const Un=(In+zn)/2,nr=(Vn+Kn)/2,sr=(zn+jn)/2,mr=(Kn+Wn)/2;kn.bezierCurveTo(Un+2*(zn-Un)/3,nr+2*(Kn-nr)/3,sr+2*(zn-sr)/3,mr+2*(Kn-mr)/3,sr,mr)},$o=function(){const kn=this.currentPath;if(kn.length<=2)return[[kn[0],kn[0],kn.at(-1),kn.at(-1)]];const In=[];let Vn,[zn,Kn]=kn[0];for(Vn=1;Vn<kn.length-2;Vn++){const[vr,Sr]=kn[Vn],[yr,ir]=kn[Vn+1],gr=(vr+yr)/2,Gn=(Sr+ir)/2,Qn=[zn+2*(vr-zn)/3,Kn+2*(Sr-Kn)/3],Nn=[gr+2*(vr-gr)/3,Gn+2*(Sr-Gn)/3];In.push([[zn,Kn],Qn,Nn,[gr,Gn]]),[zn,Kn]=[gr,Gn]}const[jn,Wn]=kn[Vn],[Un,nr]=kn[Vn+1],sr=[zn+2*(jn-zn)/3,Kn+2*(Wn-Kn)/3],mr=[Un+2*(jn-Un)/3,nr+2*(Wn-nr)/3];return In.push([[zn,Kn],sr,mr,[Un,nr]]),In},zr=function(){if(this.isEmpty()){tr(this,$e,ma).call(this);return}tr(this,$e,Xa).call(this);const{canvas:kn,ctx:In}=this;In.setTransform(1,0,0,1,0,0),In.clearRect(0,0,kn.width,kn.height),tr(this,$e,ma).call(this);for(const Vn of this.bezierPath2D)In.stroke(Vn)},qa=function(kn){this.canvas.removeEventListener("pointerleave",An(this,oe)),this.canvas.removeEventListener("pointermove",An(this,ae)),this.canvas.removeEventListener("pointerup",An(this,ie)),this.canvas.addEventListener("pointerdown",An(this,le)),setTimeout(()=>{this.canvas.removeEventListener("contextmenu",L.noContextMenu)},10),tr(this,$e,ko).call(this,kn.offsetX,kn.offsetY),this.addToAnnotationStorage(),this.setInBackground()},pa=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",y.AnnotationEditor._l10nPromise.get("editor_ink_canvas_aria_label").then(kn=>{var In;return(In=this.canvas)==null?void 0:In.setAttribute("aria-label",kn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},va=function(){ar(this,_e,new ResizeObserver(kn=>{const In=kn[0].contentRect;In.width&&In.height&&this.setDimensions(In.width,In.height)})),An(this,_e).observe(this.div)},jr=function(){if(!An(this,pe))return;const[kn,In]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*kn),this.canvas.height=Math.ceil(this.height*In),tr(this,$e,ma).call(this)},Ja=function(kn,In){const Vn=tr(this,$e,ga).call(this),zn=(kn-Vn)/An(this,re),Kn=(In-Vn)/An(this,j);this.scaleFactor=Math.min(zn,Kn)},ma=function(){const kn=tr(this,$e,ga).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+kn,this.translationY*this.scaleFactor+kn)},hn=new WeakSet,No=function(kn){const In=new Path2D;for(let Vn=0,zn=kn.length;Vn<zn;Vn++){const[Kn,jn,Wn,Un]=kn[Vn];Vn===0&&In.moveTo(...Kn),In.bezierCurveTo(jn[0],jn[1],Wn[0],Wn[1],Un[0],Un[1])}return In},Qa=function(kn,In,Vn){const[zn,Kn,jn,Wn]=In;switch(Vn){case 0:for(let Un=0,nr=kn.length;Un<nr;Un+=2)kn[Un]+=zn,kn[Un+1]=Wn-kn[Un+1];break;case 90:for(let Un=0,nr=kn.length;Un<nr;Un+=2){const sr=kn[Un];kn[Un]=kn[Un+1]+zn,kn[Un+1]=sr+Kn}break;case 180:for(let Un=0,nr=kn.length;Un<nr;Un+=2)kn[Un]=jn-kn[Un],kn[Un+1]+=Kn;break;case 270:for(let Un=0,nr=kn.length;Un<nr;Un+=2){const sr=kn[Un];kn[Un]=jn-kn[Un+1],kn[Un+1]=Wn-sr}break;default:throw new Error("Invalid rotation")}return kn},Ro=function(kn,In,Vn){const[zn,Kn,jn,Wn]=In;switch(Vn){case 0:for(let Un=0,nr=kn.length;Un<nr;Un+=2)kn[Un]-=zn,kn[Un+1]=Wn-kn[Un+1];break;case 90:for(let Un=0,nr=kn.length;Un<nr;Un+=2){const sr=kn[Un];kn[Un]=kn[Un+1]-Kn,kn[Un+1]=sr-zn}break;case 180:for(let Un=0,nr=kn.length;Un<nr;Un+=2)kn[Un]=jn-kn[Un],kn[Un+1]-=Kn;break;case 270:for(let Un=0,nr=kn.length;Un<nr;Un+=2){const sr=kn[Un];kn[Un]=Wn-kn[Un+1],kn[Un+1]=jn-sr}break;default:throw new Error("Invalid rotation")}return kn},Do=function(kn,In,Vn,zn){var nr,sr;const Kn=[],jn=this.thickness/2,Wn=kn*In+jn,Un=kn*Vn+jn;for(const mr of this.paths){const vr=[],Sr=[];for(let yr=0,ir=mr.length;yr<ir;yr++){const[gr,Gn,Qn,Nn]=mr[yr],Hn=kn*gr[0]+Wn,Yn=kn*gr[1]+Un,pr=kn*Gn[0]+Wn,Cr=kn*Gn[1]+Un,$n=kn*Qn[0]+Wn,Xn=kn*Qn[1]+Un,lr=kn*Nn[0]+Wn,fr=kn*Nn[1]+Un;yr===0&&(vr.push(Hn,Yn),Sr.push(Hn,Yn)),vr.push(pr,Cr,$n,Xn,lr,fr),Sr.push(pr,Cr),yr===ir-1&&Sr.push(lr,fr)}Kn.push({bezier:tr(nr=Fn,hn,Qa).call(nr,vr,zn,this.rotation),points:tr(sr=Fn,hn,Qa).call(sr,Sr,zn,this.rotation)})}return Kn},eo=function(){let kn=1/0,In=-1/0,Vn=1/0,zn=-1/0;for(const Kn of this.paths)for(const[jn,Wn,Un,nr]of Kn){const sr=g.Util.bezierBoundingBox(...jn,...Wn,...Un,...nr);kn=Math.min(kn,sr[0]),Vn=Math.min(Vn,sr[1]),In=Math.max(In,sr[2]),zn=Math.max(zn,sr[3])}return[kn,Vn,In,zn]},ga=function(){return An(this,de)?Math.ceil(this.thickness*this.parentScale):0},Xr=function(){let kn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.isEmpty())return;if(!An(this,de)){tr(this,$e,zr).call(this);return}const In=tr(this,$e,eo).call(this),Vn=tr(this,$e,ga).call(this);ar(this,re,Math.max(y.AnnotationEditor.MIN_SIZE,In[2]-In[0])),ar(this,j,Math.max(y.AnnotationEditor.MIN_SIZE,In[3]-In[1]));const zn=Math.ceil(Vn+An(this,re)*this.scaleFactor),Kn=Math.ceil(Vn+An(this,j)*this.scaleFactor),[jn,Wn]=this.parentDimensions;this.width=zn/jn,this.height=Kn/Wn,this.setAspectRatio(zn,Kn);const Un=this.translationX,nr=this.translationY;this.translationX=-In[0],this.translationY=-In[1],tr(this,$e,jr).call(this),tr(this,$e,zr).call(this),ar(this,Ce,zn),ar(this,xe,Kn),this.setDims(zn,Kn);const sr=kn?Vn/this.scaleFactor/2:0;this.translate(Un-this.translationX-sr,nr-this.translationY-sr)},rr(Fn,hn),Dr(Fn,"_defaultColor",null),Dr(Fn,"_defaultOpacity",1),Dr(Fn,"_defaultThickness",1),Dr(Fn,"_type","ink");let z=Fn;n.InkEditor=z},(t,n,r)=>{var z,j,re,ae,oe,ie,le,ue,de,he,pe,na,ra,ya,to,Oo,Lo,no,ba,Bo;Object.defineProperty(n,"__esModule",{value:!0}),n.StampEditor=void 0,r(149),r(152);var g=r(1),y=r(164),$=r(168),L=r(198);const ze=class ze extends y.AnnotationEditor{constructor(Ue){super({...Ue,name:"stampEditor"});rr(this,pe);rr(this,z,null);rr(this,j,null);rr(this,re,null);rr(this,ae,null);rr(this,oe,null);rr(this,ie,null);rr(this,le,null);rr(this,ue,null);rr(this,de,!1);rr(this,he,!1);ar(this,ae,Ue.bitmapUrl),ar(this,oe,Ue.bitmapFile)}static initialize(Ue){y.AnnotationEditor.initialize(Ue)}static get supportedTypes(){const Ue=["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"];return(0,g.shadow)(this,"supportedTypes",Ue.map(qe=>`image/${qe}`))}static get supportedTypesStr(){return(0,g.shadow)(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(Ue){return this.supportedTypes.includes(Ue)}static paste(Ue,qe){qe.pasteEditor(g.AnnotationEditorType.STAMP,{bitmapFile:Ue.getAsFile()})}remove(){var Ue,qe;An(this,j)&&(ar(this,z,null),this._uiManager.imageManager.deleteId(An(this,j)),(Ue=An(this,ie))==null||Ue.remove(),ar(this,ie,null),(qe=An(this,le))==null||qe.disconnect(),ar(this,le,null)),super.remove()}rebuild(){if(!this.parent){An(this,j)&&tr(this,pe,ya).call(this);return}super.rebuild(),this.div!==null&&(An(this,j)&&tr(this,pe,ya).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(An(this,re)||An(this,z)||An(this,ae)||An(this,oe))}get isResizable(){return!0}render(){if(this.div)return this.div;let Ue,qe;if(this.width&&(Ue=this.x,qe=this.y),super.render(),this.div.hidden=!0,An(this,z)?tr(this,pe,to).call(this):tr(this,pe,ya).call(this),this.width){const[Lt,Pt]=this.parentDimensions;this.setAt(Ue*Lt,qe*Pt,this.width*Lt,this.height*Pt)}return this.div}static deserialize(Ue,qe,Lt){if(Ue instanceof L.StampAnnotationElement)return null;const Pt=super.deserialize(Ue,qe,Lt),{rect:At,bitmapUrl:vn,bitmapId:En,isSvg:Sn,accessibilityData:kt}=Ue;En&&Lt.imageManager.isValidId(En)?ar(Pt,j,En):ar(Pt,ae,vn),ar(Pt,de,Sn);const[jt,_n]=Pt.pageDimensions;return Pt.width=(At[2]-At[0])/jt,Pt.height=(At[3]-At[1])/_n,kt&&(Pt.altTextData=kt),Pt}serialize(){let Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.isEmpty())return null;const Lt={annotationType:g.AnnotationEditorType.STAMP,bitmapId:An(this,j),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:An(this,de),structTreeParentId:this._structTreeParentId};if(Ue)return Lt.bitmapUrl=tr(this,pe,ba).call(this,!0),Lt.accessibilityData=this.altTextData,Lt;const{decorative:Pt,altText:At}=this.altTextData;if(!Pt&&At&&(Lt.accessibilityData={type:"Figure",alt:At}),qe===null)return Lt;qe.stamps||(qe.stamps=new Map);const vn=An(this,de)?(Lt.rect[2]-Lt.rect[0])*(Lt.rect[3]-Lt.rect[1]):null;if(!qe.stamps.has(An(this,j)))qe.stamps.set(An(this,j),{area:vn,serialized:Lt}),Lt.bitmap=tr(this,pe,ba).call(this,!1);else if(An(this,de)){const En=qe.stamps.get(An(this,j));vn>En.area&&(En.area=vn,En.serialized.bitmap.close(),En.serialized.bitmap=tr(this,pe,ba).call(this,!1))}return Lt}};z=new WeakMap,j=new WeakMap,re=new WeakMap,ae=new WeakMap,oe=new WeakMap,ie=new WeakMap,le=new WeakMap,ue=new WeakMap,de=new WeakMap,he=new WeakMap,pe=new WeakSet,na=function(Ue){let qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!Ue){this.remove();return}ar(this,z,Ue.bitmap),qe||(ar(this,j,Ue.id),ar(this,de,Ue.isSvg)),tr(this,pe,to).call(this)},ra=function(){ar(this,re,null),this._uiManager.enableWaiting(!1),An(this,ie)&&this.div.focus()},ya=function(){if(An(this,j)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(An(this,j)).then(qe=>tr(this,pe,na).call(this,qe,!0)).finally(()=>tr(this,pe,ra).call(this));return}if(An(this,ae)){const qe=An(this,ae);ar(this,ae,null),this._uiManager.enableWaiting(!0),ar(this,re,this._uiManager.imageManager.getFromUrl(qe).then(Lt=>tr(this,pe,na).call(this,Lt)).finally(()=>tr(this,pe,ra).call(this)));return}if(An(this,oe)){const qe=An(this,oe);ar(this,oe,null),this._uiManager.enableWaiting(!0),ar(this,re,this._uiManager.imageManager.getFromFile(qe).then(Lt=>tr(this,pe,na).call(this,Lt)).finally(()=>tr(this,pe,ra).call(this)));return}const Ue=document.createElement("input");Ue.type="file",Ue.accept=ze.supportedTypesStr,ar(this,re,new Promise(qe=>{Ue.addEventListener("change",async()=>{if(!Ue.files||Ue.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const Lt=await this._uiManager.imageManager.getFromFile(Ue.files[0]);tr(this,pe,na).call(this,Lt)}qe()}),Ue.addEventListener("cancel",()=>{this.remove(),qe()})}).finally(()=>tr(this,pe,ra).call(this))),Ue.click()},to=function(){const{div:Ue}=this;let{width:qe,height:Lt}=An(this,z);const[Pt,At]=this.pageDimensions,vn=.75;if(this.width)qe=this.width*Pt,Lt=this.height*At;else if(qe>vn*Pt||Lt>vn*At){const jt=Math.min(vn*Pt/qe,vn*At/Lt);qe*=jt,Lt*=jt}const[En,Sn]=this.parentDimensions;this.setDims(qe*En/Pt,Lt*Sn/At),this._uiManager.enableWaiting(!1);const kt=ar(this,ie,document.createElement("canvas"));Ue.append(kt),Ue.hidden=!1,tr(this,pe,no).call(this,qe,Lt),tr(this,pe,Bo).call(this),An(this,he)||(this.parent.addUndoableEditor(this),ar(this,he,!0)),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",subtype:this.editorType,data:{action:"inserted_image"}}}),this.addAltTextButton()},Oo=function(Ue,qe){var vn;const[Lt,Pt]=this.parentDimensions;this.width=Ue/Lt,this.height=qe/Pt,this.setDims(Ue,qe),(vn=this._initialOptions)!=null&&vn.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,An(this,ue)!==null&&clearTimeout(An(this,ue)),ar(this,ue,setTimeout(()=>{ar(this,ue,null),tr(this,pe,no).call(this,Ue,qe)},200))},Lo=function(Ue,qe){const{width:Lt,height:Pt}=An(this,z);let At=Lt,vn=Pt,En=An(this,z);for(;At>2*Ue||vn>2*qe;){const Sn=At,kt=vn;At>2*Ue&&(At=At>=16384?Math.floor(At/2)-1:Math.ceil(At/2)),vn>2*qe&&(vn=vn>=16384?Math.floor(vn/2)-1:Math.ceil(vn/2));const jt=new OffscreenCanvas(At,vn);jt.getContext("2d").drawImage(En,0,0,Sn,kt,0,0,At,vn),En=jt.transferToImageBitmap()}return En},no=function(Ue,qe){Ue=Math.ceil(Ue),qe=Math.ceil(qe);const Lt=An(this,ie);if(!Lt||Lt.width===Ue&&Lt.height===qe)return;Lt.width=Ue,Lt.height=qe;const Pt=An(this,de)?An(this,z):tr(this,pe,Lo).call(this,Ue,qe),At=Lt.getContext("2d");At.filter=this._uiManager.hcmFilter,At.drawImage(Pt,0,0,Pt.width,Pt.height,0,0,Ue,qe)},ba=function(Ue){if(Ue){if(An(this,de)){const Pt=this._uiManager.imageManager.getSvgUrl(An(this,j));if(Pt)return Pt}const qe=document.createElement("canvas");return{width:qe.width,height:qe.height}=An(this,z),qe.getContext("2d").drawImage(An(this,z),0,0),qe.toDataURL()}if(An(this,de)){const[qe,Lt]=this.pageDimensions,Pt=Math.round(this.width*qe*$.PixelsPerInch.PDF_TO_CSS_UNITS),At=Math.round(this.height*Lt*$.PixelsPerInch.PDF_TO_CSS_UNITS),vn=new OffscreenCanvas(Pt,At);return vn.getContext("2d").drawImage(An(this,z),0,0,An(this,z).width,An(this,z).height,0,0,Pt,At),vn.transferToImageBitmap()}return structuredClone(An(this,z))},Bo=function(){ar(this,le,new ResizeObserver(Ue=>{const qe=Ue[0].contentRect;qe.width&&qe.height&&tr(this,pe,Oo).call(this,qe.width,qe.height)})),An(this,le).observe(this.div)},Dr(ze,"_type","stamp");let V=ze;n.StampEditor=V}],__webpack_module_cache__={};function __w_pdfjs_require__(t){var n=__webpack_module_cache__[t];if(n!==void 0)return n.exports;var r=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(r.exports,r,r.exports,__w_pdfjs_require__),r.exports}var __webpack_exports__={};return(()=>{var t=__webpack_exports__;Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AbortException",{enumerable:!0,get:function(){return n.AbortException}}),Object.defineProperty(t,"AnnotationEditorLayer",{enumerable:!0,get:function(){return $.AnnotationEditorLayer}}),Object.defineProperty(t,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return n.AnnotationEditorParamsType}}),Object.defineProperty(t,"AnnotationEditorType",{enumerable:!0,get:function(){return n.AnnotationEditorType}}),Object.defineProperty(t,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return L.AnnotationEditorUIManager}}),Object.defineProperty(t,"AnnotationLayer",{enumerable:!0,get:function(){return V.AnnotationLayer}}),Object.defineProperty(t,"AnnotationMode",{enumerable:!0,get:function(){return n.AnnotationMode}}),Object.defineProperty(t,"CMapCompressionType",{enumerable:!0,get:function(){return n.CMapCompressionType}}),Object.defineProperty(t,"DOMSVGFactory",{enumerable:!0,get:function(){return g.DOMSVGFactory}}),Object.defineProperty(t,"FeatureTest",{enumerable:!0,get:function(){return n.FeatureTest}}),Object.defineProperty(t,"GlobalWorkerOptions",{enumerable:!0,get:function(){return z.GlobalWorkerOptions}}),Object.defineProperty(t,"ImageKind",{enumerable:!0,get:function(){return n.ImageKind}}),Object.defineProperty(t,"InvalidPDFException",{enumerable:!0,get:function(){return n.InvalidPDFException}}),Object.defineProperty(t,"MissingPDFException",{enumerable:!0,get:function(){return n.MissingPDFException}}),Object.defineProperty(t,"OPS",{enumerable:!0,get:function(){return n.OPS}}),Object.defineProperty(t,"PDFDataRangeTransport",{enumerable:!0,get:function(){return r.PDFDataRangeTransport}}),Object.defineProperty(t,"PDFDateString",{enumerable:!0,get:function(){return g.PDFDateString}}),Object.defineProperty(t,"PDFWorker",{enumerable:!0,get:function(){return r.PDFWorker}}),Object.defineProperty(t,"PasswordResponses",{enumerable:!0,get:function(){return n.PasswordResponses}}),Object.defineProperty(t,"PermissionFlag",{enumerable:!0,get:function(){return n.PermissionFlag}}),Object.defineProperty(t,"PixelsPerInch",{enumerable:!0,get:function(){return g.PixelsPerInch}}),Object.defineProperty(t,"PromiseCapability",{enumerable:!0,get:function(){return n.PromiseCapability}}),Object.defineProperty(t,"RenderingCancelledException",{enumerable:!0,get:function(){return g.RenderingCancelledException}}),Object.defineProperty(t,"SVGGraphics",{enumerable:!0,get:function(){return r.SVGGraphics}}),Object.defineProperty(t,"UnexpectedResponseException",{enumerable:!0,get:function(){return n.UnexpectedResponseException}}),Object.defineProperty(t,"Util",{enumerable:!0,get:function(){return n.Util}}),Object.defineProperty(t,"VerbosityLevel",{enumerable:!0,get:function(){return n.VerbosityLevel}}),Object.defineProperty(t,"XfaLayer",{enumerable:!0,get:function(){return j.XfaLayer}}),Object.defineProperty(t,"build",{enumerable:!0,get:function(){return r.build}}),Object.defineProperty(t,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return n.createValidAbsoluteUrl}}),Object.defineProperty(t,"getDocument",{enumerable:!0,get:function(){return r.getDocument}}),Object.defineProperty(t,"getFilenameFromUrl",{enumerable:!0,get:function(){return g.getFilenameFromUrl}}),Object.defineProperty(t,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return g.getPdfFilenameFromUrl}}),Object.defineProperty(t,"getXfaPageViewport",{enumerable:!0,get:function(){return g.getXfaPageViewport}}),Object.defineProperty(t,"isDataScheme",{enumerable:!0,get:function(){return g.isDataScheme}}),Object.defineProperty(t,"isPdfFile",{enumerable:!0,get:function(){return g.isPdfFile}}),Object.defineProperty(t,"loadScript",{enumerable:!0,get:function(){return g.loadScript}}),Object.defineProperty(t,"noContextMenu",{enumerable:!0,get:function(){return g.noContextMenu}}),Object.defineProperty(t,"normalizeUnicode",{enumerable:!0,get:function(){return n.normalizeUnicode}}),Object.defineProperty(t,"renderTextLayer",{enumerable:!0,get:function(){return y.renderTextLayer}}),Object.defineProperty(t,"setLayerDimensions",{enumerable:!0,get:function(){return g.setLayerDimensions}}),Object.defineProperty(t,"shadow",{enumerable:!0,get:function(){return n.shadow}}),Object.defineProperty(t,"updateTextLayer",{enumerable:!0,get:function(){return y.updateTextLayer}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return r.version}});var n=__w_pdfjs_require__(1),r=__w_pdfjs_require__(124),g=__w_pdfjs_require__(168),y=__w_pdfjs_require__(195),$=__w_pdfjs_require__(196),L=__w_pdfjs_require__(165),V=__w_pdfjs_require__(198),z=__w_pdfjs_require__(176),j=__w_pdfjs_require__(201)})(),__webpack_exports__})())}(pdf)),pdf.exports}var pdfExports=requirePdf();const _sfc_main$1={__name:"PdfViewer",props:{url:{type:String,required:!0}},setup(t){pdfExports.GlobalWorkerOptions.workerSrc="/pdf/pdf.worker.min.js";const n=t,r=ref(null),g=ref(null);let y=null,$=null,L=null;function V(ae){const ie=window.devicePixelRatio||1;return ae*ie/841.89}async function z(){if(!r.value||!g.value||!y||!$)return;const ae=g.value.clientWidth,oe=V(ae),ie=$.getViewport({scale:oe}),le=r.value,ue=le.getContext("2d");le.width=ie.width,le.height=ie.height,le.style.width=`${ae}px`,le.style.height="auto",await $.render({canvasContext:ue,viewport:ie}).promise}async function j(){try{y=await pdfExports.getDocument(n.url).promise,$=await y.getPage(1),await z()}catch(ae){console.error(" Failed to load PDF:",ae)}}function re(){clearTimeout(L),L=setTimeout(()=>{z()},200)}return onMounted(async()=>{await nextTick(),await j(),window.addEventListener("resize",re)}),watch(()=>n.url,async()=>{await j()}),onBeforeUnmount(()=>{window.removeEventListener("resize",re)}),(ae,oe)=>(openBlock(),createElementBlock("div",{ref_key:"containerRef",ref:g,class:"pdf-container"},[createBaseVNode("canvas",{ref_key:"pdfCanvas",ref:r,class:"pdf-canvas"},null,512)],512))}},PdfViewer=_export_sfc(_sfc_main$1,[["__scopeId","data-v-1e21b900"]]),_hoisted_1={class:"home-main"},_hoisted_2={class:"pdf-container"},_hoisted_3={class:"pdf-wrapper"},_sfc_main={__name:"Distribution",setup(t){const n=ref("risk"),r=[{label:"Risk Attitudes",value:"risk"},{label:"Time Preferences",value:"time"},{label:"Social Preferences",value:"social"},{label:"Personality Traits",value:"bigfive"}],g=computed(()=>`/data/distribution/${n.value}.pdf`);function y($){return $.charAt(0).toUpperCase()+$.slice(1)}return($,L)=>{const V=resolveComponent("el-divider"),z=resolveComponent("el-option"),j=resolveComponent("el-select"),re=resolveComponent("el-form-item"),ae=resolveComponent("el-col"),oe=resolveComponent("el-row"),ie=resolveComponent("el-form");return openBlock(),createElementBlock("div",_hoisted_1,[L[1]||(L[1]=createBaseVNode("h1",null,"CPPS China Distributions",-1)),createVNode$1(V),L[2]||(L[2]=createStaticVNode('<div class="introduction" data-v-0126d180>This section presents the nationwide distributions for each preference and personality trait measured in the CPPS. Our interactive charts allow you to explore the rich individual-level heterogeneity in economic decision-making across Mainland China.</div><div class="introduction" data-v-0126d180> Key findings include: <br data-v-0126d180><ul data-v-0126d180><li data-v-0126d180><span class="emphasis" data-v-0126d180>Risk Preferences</span>: Our data reveal behavioral patterns broadly consistent with Prospect Theory, such as risk aversion in gains, risk-seeking in losses, and significant loss aversion.</li><li data-v-0126d180><span class="emphasis" data-v-0126d180>Time Preferences</span>: We observe a high degree of time consistency, with no evidence of systematic present bias at the aggregate level.</li><li data-v-0126d180><span class="emphasis" data-v-0126d180>Social Preferences &amp; Personality</span>: The distributions show that pro-social traits like altruism and trust are widespread, while traits like negative reciprocity and neuroticism are less common.</li></ul></div>',2)),createVNode$1(ie,{"label-position":"top",class:"form-area"},{default:withCtx(()=>[createVNode$1(oe,{gutter:20},{default:withCtx(()=>[createVNode$1(ae,{span:6},{default:withCtx(()=>[createVNode$1(re,{label:"Primary Category"},{default:withCtx(()=>[createVNode$1(j,{modelValue:n.value,"onUpdate:modelValue":L[0]||(L[0]=le=>n.value=le),placeholder:"Select primary"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(r,le=>createVNode$1(z,{key:le.value,label:y(le.label),value:le.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),createBaseVNode("div",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode$1(PdfViewer,{url:g.value,scale:1},null,8,["url"])])])])}}},Distribution=_export_sfc(_sfc_main,[["__scopeId","data-v-0126d180"]]),routes=[{path:"/",component:Home},{path:"/design",component:Design},{path:"/maps",component:Maps},{path:"/downloads",component:Downloads},{path:"/contact",component:Contact},{path:"/distribution",component:Distribution},{path:"/about",component:About},{path:"/rankings",component:Rankings},{path:"/publications",component:Publications},{path:"/faq",component:Faq}],router=createRouter({history:createWebHistory(),routes}),app=createApp(App);app.use(installer);app.use(router);app.mount("#app");fetch("/data/map/china_full_city.json").then(t=>t.json()).then(t=>{registerMap$1("china",t),console.log(" ")}).catch(t=>{console.error(" ",t)})});export default Wo();
